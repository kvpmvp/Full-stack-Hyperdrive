{% extends "base.html" %}
{% block content %}
<h2 class="text-2xl font-semibold mb-4">Create Project</h2>
{% if error %}
  <div class="mb-4 p-3 rounded-xl bg-red-600/20 border border-red-700 text-sm">{{ error }}</div>
{% endif %}
<form method="post" action="/projects" class="grid md:grid-cols-2 gap-6">
  <div class="space-y-3">
    <div><label class="text-sm">Project Name</label><input name="name" class="mt-1 w-full rounded-xl bg-slate-900 border border-slate-700 p-2" required></div>
    <div><label class="text-sm">Creator / Team</label><input name="creator" class="mt-1 w-full rounded-xl bg-slate-900 border border-slate-700 p-2" required></div>
    <div><label class="text-sm">Category</label>
      <select name="category" class="mt-1 w-full rounded-xl bg-slate-900 border border-slate-700 p-2">
        <option>Defi</option><option>Gaming</option><option>Social</option><option>Logistics</option><option>Infrastructure</option><option>Other</option>
      </select>
    </div>
    <div><label class="text-sm">Funding Goal (ALGO)</label><input name="goal_algo" type="number" step="0.01" class="mt-1 w-full rounded-xl bg-slate-900 border border-slate-700 p-2" required></div>
    <div><label class="text-sm">Token ASA ID</label><input name="token_asset_id" type="number" class="mt-1 w-full rounded-xl bg-slate-900 border border-slate-700 p-2" required></div>
    <div><label class="text-sm">Token Rate (tokens per 1 ALGO)</label><input name="token_rate" type="number" step="0.0001" class="mt-1 w-full rounded-xl bg-slate-900 border border-slate-700 p-2" required></div>
    <div><label class="text-sm">Token Pool (tokens to escrow)</label><input name="token_pool" type="number" class="mt-1 w-full rounded-xl bg-slate-900 border border-slate-700 p-2" required></div>
  </div>

  <div class="space-y-3">
    <div><label class="text-sm">Product Description</label><textarea name="description" class="mt-1 w-full rounded-xl bg-slate-900 border border-slate-700 p-2" rows="3"></textarea></div>
    <div><label class="text-sm">Problem Statement</label><textarea name="problem" class="mt-1 w-full rounded-xl bg-slate-900 border border-slate-700 p-2" rows="3"></textarea></div>
    <div><label class="text-sm">Solution Summary</label><textarea name="solution" class="mt-1 w-full rounded-xl bg-slate-900 border border-slate-700 p-2" rows="3"></textarea></div>
    <div><label class="text-sm">Business Model</label><textarea name="business_model" class="mt-1 w-full rounded-xl bg-slate-900 border border-slate-700 p-2" rows="2"></textarea></div>
    <div><label class="text-sm">Investment Ask</label><input name="investment_ask" class="mt-1 w-full rounded-xl bg-slate-900 border border-slate-700 p-2"></div>
    <div><label class="text-sm">Incentive Pool</label><input name="incentive_pool" class="mt-1 w-full rounded-xl bg-slate-900 border border-slate-700 p-2"></div>
    <div><label class="text-sm">Contact Email</label><input name="contact_email" type="email" class="mt-1 w-full rounded-xl bg-slate-900 border border-slate-700 p-2"></div>
    <div><label class="text-sm">Project Link</label><input name="project_link" class="mt-1 w-full rounded-xl bg-slate-900 border border-slate-700 p-2"></div>
    <div class="flex items-center gap-2"><input id="deploy_now" name="deploy_now" value="yes" type="checkbox" class="w-4 h-4 rounded"><label for="deploy_now" class="text-sm">Deploy on-chain now (requires env wallet)</label></div>
  </div>

  <div class="md:col-span-2">
    <button class="px-4 py-2 rounded-xl bg-indigo-600 hover:bg-indigo-500">Publish</button>
    <span class="ml-3 text-xs text-slate-400">2% of goal will be deposited from the creatorâ€™s wallet; contributors pay 2% fee on success.</span>
  </div>
</form>
{% endblock %}
