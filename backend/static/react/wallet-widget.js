var Y1=Object.defineProperty;var J1=(Em,Im,Lm)=>Im in Em?Y1(Em,Im,{enumerable:!0,configurable:!0,writable:!0,value:Lm}):Em[Im]=Lm;var cp=(Em,Im,Lm)=>J1(Em,typeof Im!="symbol"?Im+"":Im,Lm);(function(){"use strict";var Em,Im,Lm,Km,Ym,Jm,Xm,Zm,Qm,e1,t1,n1,r1,i1,s1;var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function getDefaultExportFromCjs(vs){return vs&&vs.__esModule&&Object.prototype.hasOwnProperty.call(vs,"default")?vs.default:vs}function getAugmentedNamespace(vs){if(vs.__esModule)return vs;var ms=vs.default;if(typeof ms=="function"){var ws=function Ss(){return this instanceof Ss?Reflect.construct(ms,arguments,this.constructor):ms.apply(this,arguments)};ws.prototype=ms.prototype}else ws={};return Object.defineProperty(ws,"__esModule",{value:!0}),Object.keys(vs).forEach(function(Ss){var Es=Object.getOwnPropertyDescriptor(vs,Ss);Object.defineProperty(ws,Ss,Es.get?Es:{enumerable:!0,get:function(){return vs[Ss]}})}),ws}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$5=Symbol.for("react.element"),n$4=Symbol.for("react.portal"),p$8=Symbol.for("react.fragment"),q$6=Symbol.for("react.strict_mode"),r$5=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u$6=Symbol.for("react.context"),v$c=Symbol.for("react.forward_ref"),w$7=Symbol.for("react.suspense"),x$8=Symbol.for("react.memo"),y$8=Symbol.for("react.lazy"),z$8=Symbol.iterator;function A$8(vs){return vs===null||typeof vs!="object"?null:(vs=z$8&&vs[z$8]||vs["@@iterator"],typeof vs=="function"?vs:null)}var B$7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$9=Object.assign,D$7={};function E$8(vs,ms,ws){this.props=vs,this.context=ms,this.refs=D$7,this.updater=ws||B$7}E$8.prototype.isReactComponent={},E$8.prototype.setState=function(vs,ms){if(typeof vs!="object"&&typeof vs!="function"&&vs!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,vs,ms,"setState")},E$8.prototype.forceUpdate=function(vs){this.updater.enqueueForceUpdate(this,vs,"forceUpdate")};function F$6(){}F$6.prototype=E$8.prototype;function G$8(vs,ms,ws){this.props=vs,this.context=ms,this.refs=D$7,this.updater=ws||B$7}var H$6=G$8.prototype=new F$6;H$6.constructor=G$8,C$9(H$6,E$8.prototype),H$6.isPureReactComponent=!0;var I$7=Array.isArray,J$8=Object.prototype.hasOwnProperty,K$8={current:null},L$7={key:!0,ref:!0,__self:!0,__source:!0};function M$9(vs,ms,ws){var Ss,Es={},_s=null,Is=null;if(ms!=null)for(Ss in ms.ref!==void 0&&(Is=ms.ref),ms.key!==void 0&&(_s=""+ms.key),ms)J$8.call(ms,Ss)&&!L$7.hasOwnProperty(Ss)&&(Es[Ss]=ms[Ss]);var Ts=arguments.length-2;if(Ts===1)Es.children=ws;else if(1<Ts){for(var Rs=Array(Ts),Bs=0;Bs<Ts;Bs++)Rs[Bs]=arguments[Bs+2];Es.children=Rs}if(vs&&vs.defaultProps)for(Ss in Ts=vs.defaultProps,Ts)Es[Ss]===void 0&&(Es[Ss]=Ts[Ss]);return{$$typeof:l$5,type:vs,key:_s,ref:Is,props:Es,_owner:K$8.current}}function N$a(vs,ms){return{$$typeof:l$5,type:vs.type,key:ms,ref:vs.ref,props:vs.props,_owner:vs._owner}}function O$a(vs){return typeof vs=="object"&&vs!==null&&vs.$$typeof===l$5}function escape(vs){var ms={"=":"=0",":":"=2"};return"$"+vs.replace(/[=:]/g,function(ws){return ms[ws]})}var P$9=/\/+/g;function Q$7(vs,ms){return typeof vs=="object"&&vs!==null&&vs.key!=null?escape(""+vs.key):ms.toString(36)}function R$9(vs,ms,ws,Ss,Es){var _s=typeof vs;(_s==="undefined"||_s==="boolean")&&(vs=null);var Is=!1;if(vs===null)Is=!0;else switch(_s){case"string":case"number":Is=!0;break;case"object":switch(vs.$$typeof){case l$5:case n$4:Is=!0}}if(Is)return Is=vs,Es=Es(Is),vs=Ss===""?"."+Q$7(Is,0):Ss,I$7(Es)?(ws="",vs!=null&&(ws=vs.replace(P$9,"$&/")+"/"),R$9(Es,ms,ws,"",function(Bs){return Bs})):Es!=null&&(O$a(Es)&&(Es=N$a(Es,ws+(!Es.key||Is&&Is.key===Es.key?"":(""+Es.key).replace(P$9,"$&/")+"/")+vs)),ms.push(Es)),1;if(Is=0,Ss=Ss===""?".":Ss+":",I$7(vs))for(var Ts=0;Ts<vs.length;Ts++){_s=vs[Ts];var Rs=Ss+Q$7(_s,Ts);Is+=R$9(_s,ms,ws,Rs,Es)}else if(Rs=A$8(vs),typeof Rs=="function")for(vs=Rs.call(vs),Ts=0;!(_s=vs.next()).done;)_s=_s.value,Rs=Ss+Q$7(_s,Ts++),Is+=R$9(_s,ms,ws,Rs,Es);else if(_s==="object")throw ms=String(vs),Error("Objects are not valid as a React child (found: "+(ms==="[object Object]"?"object with keys {"+Object.keys(vs).join(", ")+"}":ms)+"). If you meant to render a collection of children, use an array instead.");return Is}function S$8(vs,ms,ws){if(vs==null)return vs;var Ss=[],Es=0;return R$9(vs,Ss,"","",function(_s){return ms.call(ws,_s,Es++)}),Ss}function T$8(vs){if(vs._status===-1){var ms=vs._result;ms=ms(),ms.then(function(ws){(vs._status===0||vs._status===-1)&&(vs._status=1,vs._result=ws)},function(ws){(vs._status===0||vs._status===-1)&&(vs._status=2,vs._result=ws)}),vs._status===-1&&(vs._status=0,vs._result=ms)}if(vs._status===1)return vs._result.default;throw vs._result}var U$6={current:null},V$7={transition:null},W$8={ReactCurrentDispatcher:U$6,ReactCurrentBatchConfig:V$7,ReactCurrentOwner:K$8};function X$7(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$8,forEach:function(vs,ms,ws){S$8(vs,function(){ms.apply(this,arguments)},ws)},count:function(vs){var ms=0;return S$8(vs,function(){ms++}),ms},toArray:function(vs){return S$8(vs,function(ms){return ms})||[]},only:function(vs){if(!O$a(vs))throw Error("React.Children.only expected to receive a single React element child.");return vs}},react_production_min.Component=E$8,react_production_min.Fragment=p$8,react_production_min.Profiler=r$5,react_production_min.PureComponent=G$8,react_production_min.StrictMode=q$6,react_production_min.Suspense=w$7,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$8,react_production_min.act=X$7,react_production_min.cloneElement=function(vs,ms,ws){if(vs==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+vs+".");var Ss=C$9({},vs.props),Es=vs.key,_s=vs.ref,Is=vs._owner;if(ms!=null){if(ms.ref!==void 0&&(_s=ms.ref,Is=K$8.current),ms.key!==void 0&&(Es=""+ms.key),vs.type&&vs.type.defaultProps)var Ts=vs.type.defaultProps;for(Rs in ms)J$8.call(ms,Rs)&&!L$7.hasOwnProperty(Rs)&&(Ss[Rs]=ms[Rs]===void 0&&Ts!==void 0?Ts[Rs]:ms[Rs])}var Rs=arguments.length-2;if(Rs===1)Ss.children=ws;else if(1<Rs){Ts=Array(Rs);for(var Bs=0;Bs<Rs;Bs++)Ts[Bs]=arguments[Bs+2];Ss.children=Ts}return{$$typeof:l$5,type:vs.type,key:Es,ref:_s,props:Ss,_owner:Is}},react_production_min.createContext=function(vs){return vs={$$typeof:u$6,_currentValue:vs,_currentValue2:vs,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},vs.Provider={$$typeof:t,_context:vs},vs.Consumer=vs},react_production_min.createElement=M$9,react_production_min.createFactory=function(vs){var ms=M$9.bind(null,vs);return ms.type=vs,ms},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(vs){return{$$typeof:v$c,render:vs}},react_production_min.isValidElement=O$a,react_production_min.lazy=function(vs){return{$$typeof:y$8,_payload:{_status:-1,_result:vs},_init:T$8}},react_production_min.memo=function(vs,ms){return{$$typeof:x$8,type:vs,compare:ms===void 0?null:ms}},react_production_min.startTransition=function(vs){var ms=V$7.transition;V$7.transition={};try{vs()}finally{V$7.transition=ms}},react_production_min.unstable_act=X$7,react_production_min.useCallback=function(vs,ms){return U$6.current.useCallback(vs,ms)},react_production_min.useContext=function(vs){return U$6.current.useContext(vs)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(vs){return U$6.current.useDeferredValue(vs)},react_production_min.useEffect=function(vs,ms){return U$6.current.useEffect(vs,ms)},react_production_min.useId=function(){return U$6.current.useId()},react_production_min.useImperativeHandle=function(vs,ms,ws){return U$6.current.useImperativeHandle(vs,ms,ws)},react_production_min.useInsertionEffect=function(vs,ms){return U$6.current.useInsertionEffect(vs,ms)},react_production_min.useLayoutEffect=function(vs,ms){return U$6.current.useLayoutEffect(vs,ms)},react_production_min.useMemo=function(vs,ms){return U$6.current.useMemo(vs,ms)},react_production_min.useReducer=function(vs,ms,ws){return U$6.current.useReducer(vs,ms,ws)},react_production_min.useRef=function(vs){return U$6.current.useRef(vs)},react_production_min.useState=function(vs){return U$6.current.useState(vs)},react_production_min.useSyncExternalStore=function(vs,ms,ws){return U$6.current.useSyncExternalStore(vs,ms,ws)},react_production_min.useTransition=function(){return U$6.current.useTransition()},react_production_min.version="18.3.1",react.exports=react_production_min;var reactExports=react.exports;const React$2=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$a=reactExports,k$8=Symbol.for("react.element"),l$4=Symbol.for("react.fragment"),m$a=Object.prototype.hasOwnProperty,n$3=f$a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$7={key:!0,ref:!0,__self:!0,__source:!0};function q$5(vs,ms,ws){var Ss,Es={},_s=null,Is=null;ws!==void 0&&(_s=""+ws),ms.key!==void 0&&(_s=""+ms.key),ms.ref!==void 0&&(Is=ms.ref);for(Ss in ms)m$a.call(ms,Ss)&&!p$7.hasOwnProperty(Ss)&&(Es[Ss]=ms[Ss]);if(vs&&vs.defaultProps)for(Ss in ms=vs.defaultProps,ms)Es[Ss]===void 0&&(Es[Ss]=ms[Ss]);return{$$typeof:k$8,type:vs,key:_s,ref:Is,props:Es,_owner:n$3.current}}reactJsxRuntime_production_min.Fragment=l$4,reactJsxRuntime_production_min.jsx=q$5,reactJsxRuntime_production_min.jsxs=q$5,jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;(function(){const vs=typeof globalThis<"u"?globalThis:window;vs.process||(vs.process={}),vs.process.env||(vs.process.env={}),vs.process.env.NODE_ENV||(vs.process.env.NODE_ENV="production"),vs.global||(vs.global=vs)})();var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(vs){function ms(yl,Zs){var Bl=yl.length;yl.push(Zs);e:for(;0<Bl;){var eu=Bl-1>>>1,Eu=yl[eu];if(0<Es(Eu,Zs))yl[eu]=Zs,yl[Bl]=Eu,Bl=eu;else break e}}function ws(yl){return yl.length===0?null:yl[0]}function Ss(yl){if(yl.length===0)return null;var Zs=yl[0],Bl=yl.pop();if(Bl!==Zs){yl[0]=Bl;e:for(var eu=0,Eu=yl.length,uu=Eu>>>1;eu<uu;){var Yl=2*(eu+1)-1,zl=yl[Yl],ou=Yl+1,pu=yl[ou];if(0>Es(zl,Bl))ou<Eu&&0>Es(pu,zl)?(yl[eu]=pu,yl[ou]=Bl,eu=ou):(yl[eu]=zl,yl[Yl]=Bl,eu=Yl);else if(ou<Eu&&0>Es(pu,Bl))yl[eu]=pu,yl[ou]=Bl,eu=ou;else break e}}return Zs}function Es(yl,Zs){var Bl=yl.sortIndex-Zs.sortIndex;return Bl!==0?Bl:yl.id-Zs.id}if(typeof performance=="object"&&typeof performance.now=="function"){var _s=performance;vs.unstable_now=function(){return _s.now()}}else{var Is=Date,Ts=Is.now();vs.unstable_now=function(){return Is.now()-Ts}}var Rs=[],Bs=[],Ns=1,Ws=null,Js=3,$l=!1,wl=!1,_l=!1,Cl=typeof setTimeout=="function"?setTimeout:null,Sl=typeof clearTimeout=="function"?clearTimeout:null,El=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function xl(yl){for(var Zs=ws(Bs);Zs!==null;){if(Zs.callback===null)Ss(Bs);else if(Zs.startTime<=yl)Ss(Bs),Zs.sortIndex=Zs.expirationTime,ms(Rs,Zs);else break;Zs=ws(Bs)}}function Ml(yl){if(_l=!1,xl(yl),!wl)if(ws(Rs)!==null)wl=!0,Al(Vl);else{var Zs=ws(Bs);Zs!==null&&Pl(Ml,Zs.startTime-yl)}}function Vl(yl,Zs){wl=!1,_l&&(_l=!1,Sl(nu),nu=-1),$l=!0;var Bl=Js;try{for(xl(Zs),Ws=ws(Rs);Ws!==null&&(!(Ws.expirationTime>Zs)||yl&&!Il());){var eu=Ws.callback;if(typeof eu=="function"){Ws.callback=null,Js=Ws.priorityLevel;var Eu=eu(Ws.expirationTime<=Zs);Zs=vs.unstable_now(),typeof Eu=="function"?Ws.callback=Eu:Ws===ws(Rs)&&Ss(Rs),xl(Zs)}else Ss(Rs);Ws=ws(Rs)}if(Ws!==null)var uu=!0;else{var Yl=ws(Bs);Yl!==null&&Pl(Ml,Yl.startTime-Zs),uu=!1}return uu}finally{Ws=null,Js=Bl,$l=!1}}var Ul=!1,_h=null,nu=-1,su=5,Jl=-1;function Il(){return!(vs.unstable_now()-Jl<su)}function Nl(){if(_h!==null){var yl=vs.unstable_now();Jl=yl;var Zs=!0;try{Zs=_h(!0,yl)}finally{Zs?Ol():(Ul=!1,_h=null)}}else Ul=!1}var Ol;if(typeof El=="function")Ol=function(){El(Nl)};else if(typeof MessageChannel<"u"){var Gl=new MessageChannel,Fl=Gl.port2;Gl.port1.onmessage=Nl,Ol=function(){Fl.postMessage(null)}}else Ol=function(){Cl(Nl,0)};function Al(yl){_h=yl,Ul||(Ul=!0,Ol())}function Pl(yl,Zs){nu=Cl(function(){yl(vs.unstable_now())},Zs)}vs.unstable_IdlePriority=5,vs.unstable_ImmediatePriority=1,vs.unstable_LowPriority=4,vs.unstable_NormalPriority=3,vs.unstable_Profiling=null,vs.unstable_UserBlockingPriority=2,vs.unstable_cancelCallback=function(yl){yl.callback=null},vs.unstable_continueExecution=function(){wl||$l||(wl=!0,Al(Vl))},vs.unstable_forceFrameRate=function(yl){0>yl||125<yl?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):su=0<yl?Math.floor(1e3/yl):5},vs.unstable_getCurrentPriorityLevel=function(){return Js},vs.unstable_getFirstCallbackNode=function(){return ws(Rs)},vs.unstable_next=function(yl){switch(Js){case 1:case 2:case 3:var Zs=3;break;default:Zs=Js}var Bl=Js;Js=Zs;try{return yl()}finally{Js=Bl}},vs.unstable_pauseExecution=function(){},vs.unstable_requestPaint=function(){},vs.unstable_runWithPriority=function(yl,Zs){switch(yl){case 1:case 2:case 3:case 4:case 5:break;default:yl=3}var Bl=Js;Js=yl;try{return Zs()}finally{Js=Bl}},vs.unstable_scheduleCallback=function(yl,Zs,Bl){var eu=vs.unstable_now();switch(typeof Bl=="object"&&Bl!==null?(Bl=Bl.delay,Bl=typeof Bl=="number"&&0<Bl?eu+Bl:eu):Bl=eu,yl){case 1:var Eu=-1;break;case 2:Eu=250;break;case 5:Eu=1073741823;break;case 4:Eu=1e4;break;default:Eu=5e3}return Eu=Bl+Eu,yl={id:Ns++,callback:Zs,priorityLevel:yl,startTime:Bl,expirationTime:Eu,sortIndex:-1},Bl>eu?(yl.sortIndex=Bl,ms(Bs,yl),ws(Rs)===null&&yl===ws(Bs)&&(_l?(Sl(nu),nu=-1):_l=!0,Pl(Ml,Bl-eu))):(yl.sortIndex=Eu,ms(Rs,yl),wl||$l||(wl=!0,Al(Vl))),yl},vs.unstable_shouldYield=Il,vs.unstable_wrapCallback=function(yl){var Zs=Js;return function(){var Bl=Js;Js=Zs;try{return yl.apply(this,arguments)}finally{Js=Bl}}}})(scheduler_production_min),scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$1=reactExports,ca$1=schedulerExports;function p$6(vs){for(var ms="https://reactjs.org/docs/error-decoder.html?invariant="+vs,ws=1;ws<arguments.length;ws++)ms+="&args[]="+encodeURIComponent(arguments[ws]);return"Minified React error #"+vs+"; visit "+ms+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da$1=new Set,ea$2={};function fa$1(vs,ms){ha(vs,ms),ha(vs+"Capture",ms)}function ha(vs,ms){for(ea$2[vs]=ms,vs=0;vs<ms.length;vs++)da$1.add(ms[vs])}var ia$1=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja$1=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la$1={},ma$1={};function oa$1(vs){return ja$1.call(ma$1,vs)?!0:ja$1.call(la$1,vs)?!1:ka$1.test(vs)?ma$1[vs]=!0:(la$1[vs]=!0,!1)}function pa(vs,ms,ws,Ss){if(ws!==null&&ws.type===0)return!1;switch(typeof ms){case"function":case"symbol":return!0;case"boolean":return Ss?!1:ws!==null?!ws.acceptsBooleans:(vs=vs.toLowerCase().slice(0,5),vs!=="data-"&&vs!=="aria-");default:return!1}}function qa$1(vs,ms,ws,Ss){if(ms===null||typeof ms>"u"||pa(vs,ms,ws,Ss))return!0;if(Ss)return!1;if(ws!==null)switch(ws.type){case 3:return!ms;case 4:return ms===!1;case 5:return isNaN(ms);case 6:return isNaN(ms)||1>ms}return!1}function v$b(vs,ms,ws,Ss,Es,_s,Is){this.acceptsBooleans=ms===2||ms===3||ms===4,this.attributeName=Ss,this.attributeNamespace=Es,this.mustUseProperty=ws,this.propertyName=vs,this.type=ms,this.sanitizeURL=_s,this.removeEmptyString=Is}var z$7={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(vs){z$7[vs]=new v$b(vs,0,!1,vs,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(vs){var ms=vs[0];z$7[ms]=new v$b(ms,1,!1,vs[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(vs){z$7[vs]=new v$b(vs,2,!1,vs.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(vs){z$7[vs]=new v$b(vs,2,!1,vs,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(vs){z$7[vs]=new v$b(vs,3,!1,vs.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(vs){z$7[vs]=new v$b(vs,3,!0,vs,null,!1,!1)}),["capture","download"].forEach(function(vs){z$7[vs]=new v$b(vs,4,!1,vs,null,!1,!1)}),["cols","rows","size","span"].forEach(function(vs){z$7[vs]=new v$b(vs,6,!1,vs,null,!1,!1)}),["rowSpan","start"].forEach(function(vs){z$7[vs]=new v$b(vs,5,!1,vs.toLowerCase(),null,!1,!1)});var ra$1=/[\-:]([a-z])/g;function sa$1(vs){return vs[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(vs){var ms=vs.replace(ra$1,sa$1);z$7[ms]=new v$b(ms,1,!1,vs,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(vs){var ms=vs.replace(ra$1,sa$1);z$7[ms]=new v$b(ms,1,!1,vs,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(vs){var ms=vs.replace(ra$1,sa$1);z$7[ms]=new v$b(ms,1,!1,vs,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(vs){z$7[vs]=new v$b(vs,1,!1,vs.toLowerCase(),null,!1,!1)}),z$7.xlinkHref=new v$b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(vs){z$7[vs]=new v$b(vs,1,!1,vs.toLowerCase(),null,!0,!0)});function ta$2(vs,ms,ws,Ss){var Es=z$7.hasOwnProperty(ms)?z$7[ms]:null;(Es!==null?Es.type!==0:Ss||!(2<ms.length)||ms[0]!=="o"&&ms[0]!=="O"||ms[1]!=="n"&&ms[1]!=="N")&&(qa$1(ms,ws,Es,Ss)&&(ws=null),Ss||Es===null?oa$1(ms)&&(ws===null?vs.removeAttribute(ms):vs.setAttribute(ms,""+ws)):Es.mustUseProperty?vs[Es.propertyName]=ws===null?Es.type===3?!1:"":ws:(ms=Es.attributeName,Ss=Es.attributeNamespace,ws===null?vs.removeAttribute(ms):(Es=Es.type,ws=Es===3||Es===4&&ws===!0?"":""+ws,Ss?vs.setAttributeNS(Ss,ms,ws):vs.setAttribute(ms,ws))))}var ua$1=aa$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va$1=Symbol.for("react.element"),wa$1=Symbol.for("react.portal"),ya$1=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa$1=Symbol.for("react.profiler"),Ba$1=Symbol.for("react.provider"),Ca$1=Symbol.for("react.context"),Da$1=Symbol.for("react.forward_ref"),Ea$1=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha$1=Symbol.for("react.lazy"),Ia$1=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka$1(vs){return vs===null||typeof vs!="object"?null:(vs=Ja&&vs[Ja]||vs["@@iterator"],typeof vs=="function"?vs:null)}var A$7=Object.assign,La$1;function Ma$1(vs){if(La$1===void 0)try{throw Error()}catch(ws){var ms=ws.stack.trim().match(/\n( *(at )?)/);La$1=ms&&ms[1]||""}return`
`+La$1+vs}var Na$1=!1;function Oa$1(vs,ms){if(!vs||Na$1)return"";Na$1=!0;var ws=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(ms)if(ms=function(){throw Error()},Object.defineProperty(ms.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ms,[])}catch(Bs){var Ss=Bs}Reflect.construct(vs,[],ms)}else{try{ms.call()}catch(Bs){Ss=Bs}vs.call(ms.prototype)}else{try{throw Error()}catch(Bs){Ss=Bs}vs()}}catch(Bs){if(Bs&&Ss&&typeof Bs.stack=="string"){for(var Es=Bs.stack.split(`
`),_s=Ss.stack.split(`
`),Is=Es.length-1,Ts=_s.length-1;1<=Is&&0<=Ts&&Es[Is]!==_s[Ts];)Ts--;for(;1<=Is&&0<=Ts;Is--,Ts--)if(Es[Is]!==_s[Ts]){if(Is!==1||Ts!==1)do if(Is--,Ts--,0>Ts||Es[Is]!==_s[Ts]){var Rs=`
`+Es[Is].replace(" at new "," at ");return vs.displayName&&Rs.includes("<anonymous>")&&(Rs=Rs.replace("<anonymous>",vs.displayName)),Rs}while(1<=Is&&0<=Ts);break}}}finally{Na$1=!1,Error.prepareStackTrace=ws}return(vs=vs?vs.displayName||vs.name:"")?Ma$1(vs):""}function Pa$1(vs){switch(vs.tag){case 5:return Ma$1(vs.type);case 16:return Ma$1("Lazy");case 13:return Ma$1("Suspense");case 19:return Ma$1("SuspenseList");case 0:case 2:case 15:return vs=Oa$1(vs.type,!1),vs;case 11:return vs=Oa$1(vs.type.render,!1),vs;case 1:return vs=Oa$1(vs.type,!0),vs;default:return""}}function Qa(vs){if(vs==null)return null;if(typeof vs=="function")return vs.displayName||vs.name||null;if(typeof vs=="string")return vs;switch(vs){case ya$1:return"Fragment";case wa$1:return"Portal";case Aa$1:return"Profiler";case za:return"StrictMode";case Ea$1:return"Suspense";case Fa:return"SuspenseList"}if(typeof vs=="object")switch(vs.$$typeof){case Ca$1:return(vs.displayName||"Context")+".Consumer";case Ba$1:return(vs._context.displayName||"Context")+".Provider";case Da$1:var ms=vs.render;return vs=vs.displayName,vs||(vs=ms.displayName||ms.name||"",vs=vs!==""?"ForwardRef("+vs+")":"ForwardRef"),vs;case Ga:return ms=vs.displayName||null,ms!==null?ms:Qa(vs.type)||"Memo";case Ha$1:ms=vs._payload,vs=vs._init;try{return Qa(vs(ms))}catch{}}return null}function Ra$1(vs){var ms=vs.type;switch(vs.tag){case 24:return"Cache";case 9:return(ms.displayName||"Context")+".Consumer";case 10:return(ms._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return vs=ms.render,vs=vs.displayName||vs.name||"",ms.displayName||(vs!==""?"ForwardRef("+vs+")":"ForwardRef");case 7:return"Fragment";case 5:return ms;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(ms);case 8:return ms===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof ms=="function")return ms.displayName||ms.name||null;if(typeof ms=="string")return ms}return null}function Sa$1(vs){switch(typeof vs){case"boolean":case"number":case"string":case"undefined":return vs;case"object":return vs;default:return""}}function Ta$1(vs){var ms=vs.type;return(vs=vs.nodeName)&&vs.toLowerCase()==="input"&&(ms==="checkbox"||ms==="radio")}function Ua$1(vs){var ms=Ta$1(vs)?"checked":"value",ws=Object.getOwnPropertyDescriptor(vs.constructor.prototype,ms),Ss=""+vs[ms];if(!vs.hasOwnProperty(ms)&&typeof ws<"u"&&typeof ws.get=="function"&&typeof ws.set=="function"){var Es=ws.get,_s=ws.set;return Object.defineProperty(vs,ms,{configurable:!0,get:function(){return Es.call(this)},set:function(Is){Ss=""+Is,_s.call(this,Is)}}),Object.defineProperty(vs,ms,{enumerable:ws.enumerable}),{getValue:function(){return Ss},setValue:function(Is){Ss=""+Is},stopTracking:function(){vs._valueTracker=null,delete vs[ms]}}}}function Va$1(vs){vs._valueTracker||(vs._valueTracker=Ua$1(vs))}function Wa(vs){if(!vs)return!1;var ms=vs._valueTracker;if(!ms)return!0;var ws=ms.getValue(),Ss="";return vs&&(Ss=Ta$1(vs)?vs.checked?"true":"false":vs.value),vs=Ss,vs!==ws?(ms.setValue(vs),!0):!1}function Xa(vs){if(vs=vs||(typeof document<"u"?document:void 0),typeof vs>"u")return null;try{return vs.activeElement||vs.body}catch{return vs.body}}function Ya(vs,ms){var ws=ms.checked;return A$7({},ms,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:ws??vs._wrapperState.initialChecked})}function Za(vs,ms){var ws=ms.defaultValue==null?"":ms.defaultValue,Ss=ms.checked!=null?ms.checked:ms.defaultChecked;ws=Sa$1(ms.value!=null?ms.value:ws),vs._wrapperState={initialChecked:Ss,initialValue:ws,controlled:ms.type==="checkbox"||ms.type==="radio"?ms.checked!=null:ms.value!=null}}function ab(vs,ms){ms=ms.checked,ms!=null&&ta$2(vs,"checked",ms,!1)}function bb(vs,ms){ab(vs,ms);var ws=Sa$1(ms.value),Ss=ms.type;if(ws!=null)Ss==="number"?(ws===0&&vs.value===""||vs.value!=ws)&&(vs.value=""+ws):vs.value!==""+ws&&(vs.value=""+ws);else if(Ss==="submit"||Ss==="reset"){vs.removeAttribute("value");return}ms.hasOwnProperty("value")?cb(vs,ms.type,ws):ms.hasOwnProperty("defaultValue")&&cb(vs,ms.type,Sa$1(ms.defaultValue)),ms.checked==null&&ms.defaultChecked!=null&&(vs.defaultChecked=!!ms.defaultChecked)}function db(vs,ms,ws){if(ms.hasOwnProperty("value")||ms.hasOwnProperty("defaultValue")){var Ss=ms.type;if(!(Ss!=="submit"&&Ss!=="reset"||ms.value!==void 0&&ms.value!==null))return;ms=""+vs._wrapperState.initialValue,ws||ms===vs.value||(vs.value=ms),vs.defaultValue=ms}ws=vs.name,ws!==""&&(vs.name=""),vs.defaultChecked=!!vs._wrapperState.initialChecked,ws!==""&&(vs.name=ws)}function cb(vs,ms,ws){(ms!=="number"||Xa(vs.ownerDocument)!==vs)&&(ws==null?vs.defaultValue=""+vs._wrapperState.initialValue:vs.defaultValue!==""+ws&&(vs.defaultValue=""+ws))}var eb=Array.isArray;function fb(vs,ms,ws,Ss){if(vs=vs.options,ms){ms={};for(var Es=0;Es<ws.length;Es++)ms["$"+ws[Es]]=!0;for(ws=0;ws<vs.length;ws++)Es=ms.hasOwnProperty("$"+vs[ws].value),vs[ws].selected!==Es&&(vs[ws].selected=Es),Es&&Ss&&(vs[ws].defaultSelected=!0)}else{for(ws=""+Sa$1(ws),ms=null,Es=0;Es<vs.length;Es++){if(vs[Es].value===ws){vs[Es].selected=!0,Ss&&(vs[Es].defaultSelected=!0);return}ms!==null||vs[Es].disabled||(ms=vs[Es])}ms!==null&&(ms.selected=!0)}}function gb(vs,ms){if(ms.dangerouslySetInnerHTML!=null)throw Error(p$6(91));return A$7({},ms,{value:void 0,defaultValue:void 0,children:""+vs._wrapperState.initialValue})}function hb(vs,ms){var ws=ms.value;if(ws==null){if(ws=ms.children,ms=ms.defaultValue,ws!=null){if(ms!=null)throw Error(p$6(92));if(eb(ws)){if(1<ws.length)throw Error(p$6(93));ws=ws[0]}ms=ws}ms==null&&(ms=""),ws=ms}vs._wrapperState={initialValue:Sa$1(ws)}}function ib(vs,ms){var ws=Sa$1(ms.value),Ss=Sa$1(ms.defaultValue);ws!=null&&(ws=""+ws,ws!==vs.value&&(vs.value=ws),ms.defaultValue==null&&vs.defaultValue!==ws&&(vs.defaultValue=ws)),Ss!=null&&(vs.defaultValue=""+Ss)}function jb(vs){var ms=vs.textContent;ms===vs._wrapperState.initialValue&&ms!==""&&ms!==null&&(vs.value=ms)}function kb(vs){switch(vs){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(vs,ms){return vs==null||vs==="http://www.w3.org/1999/xhtml"?kb(ms):vs==="http://www.w3.org/2000/svg"&&ms==="foreignObject"?"http://www.w3.org/1999/xhtml":vs}var mb,nb=function(vs){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(ms,ws,Ss,Es){MSApp.execUnsafeLocalFunction(function(){return vs(ms,ws,Ss,Es)})}:vs}(function(vs,ms){if(vs.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in vs)vs.innerHTML=ms;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+ms.valueOf().toString()+"</svg>",ms=mb.firstChild;vs.firstChild;)vs.removeChild(vs.firstChild);for(;ms.firstChild;)vs.appendChild(ms.firstChild)}});function ob(vs,ms){if(ms){var ws=vs.firstChild;if(ws&&ws===vs.lastChild&&ws.nodeType===3){ws.nodeValue=ms;return}}vs.textContent=ms}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(vs){qb.forEach(function(ms){ms=ms+vs.charAt(0).toUpperCase()+vs.substring(1),pb[ms]=pb[vs]})});function rb(vs,ms,ws){return ms==null||typeof ms=="boolean"||ms===""?"":ws||typeof ms!="number"||ms===0||pb.hasOwnProperty(vs)&&pb[vs]?(""+ms).trim():ms+"px"}function sb(vs,ms){vs=vs.style;for(var ws in ms)if(ms.hasOwnProperty(ws)){var Ss=ws.indexOf("--")===0,Es=rb(ws,ms[ws],Ss);ws==="float"&&(ws="cssFloat"),Ss?vs.setProperty(ws,Es):vs[ws]=Es}}var tb=A$7({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(vs,ms){if(ms){if(tb[vs]&&(ms.children!=null||ms.dangerouslySetInnerHTML!=null))throw Error(p$6(137,vs));if(ms.dangerouslySetInnerHTML!=null){if(ms.children!=null)throw Error(p$6(60));if(typeof ms.dangerouslySetInnerHTML!="object"||!("__html"in ms.dangerouslySetInnerHTML))throw Error(p$6(61))}if(ms.style!=null&&typeof ms.style!="object")throw Error(p$6(62))}}function vb(vs,ms){if(vs.indexOf("-")===-1)return typeof ms.is=="string";switch(vs){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(vs){return vs=vs.target||vs.srcElement||window,vs.correspondingUseElement&&(vs=vs.correspondingUseElement),vs.nodeType===3?vs.parentNode:vs}var yb=null,zb=null,Ab=null;function Bb(vs){if(vs=Cb(vs)){if(typeof yb!="function")throw Error(p$6(280));var ms=vs.stateNode;ms&&(ms=Db(ms),yb(vs.stateNode,vs.type,ms))}}function Eb(vs){zb?Ab?Ab.push(vs):Ab=[vs]:zb=vs}function Fb(){if(zb){var vs=zb,ms=Ab;if(Ab=zb=null,Bb(vs),ms)for(vs=0;vs<ms.length;vs++)Bb(ms[vs])}}function Gb(vs,ms){return vs(ms)}function Hb(){}var Ib=!1;function Jb(vs,ms,ws){if(Ib)return vs(ms,ws);Ib=!0;try{return Gb(vs,ms,ws)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(vs,ms){var ws=vs.stateNode;if(ws===null)return null;var Ss=Db(ws);if(Ss===null)return null;ws=Ss[ms];e:switch(ms){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Ss=!Ss.disabled)||(vs=vs.type,Ss=!(vs==="button"||vs==="input"||vs==="select"||vs==="textarea")),vs=!Ss;break e;default:vs=!1}if(vs)return null;if(ws&&typeof ws!="function")throw Error(p$6(231,ms,typeof ws));return ws}var Lb=!1;if(ia$1)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(vs,ms,ws,Ss,Es,_s,Is,Ts,Rs){var Bs=Array.prototype.slice.call(arguments,3);try{ms.apply(ws,Bs)}catch(Ns){this.onError(Ns)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(vs){Ob=!0,Pb=vs}};function Tb(vs,ms,ws,Ss,Es,_s,Is,Ts,Rs){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(vs,ms,ws,Ss,Es,_s,Is,Ts,Rs){if(Tb.apply(this,arguments),Ob){if(Ob){var Bs=Pb;Ob=!1,Pb=null}else throw Error(p$6(198));Qb||(Qb=!0,Rb=Bs)}}function Vb(vs){var ms=vs,ws=vs;if(vs.alternate)for(;ms.return;)ms=ms.return;else{vs=ms;do ms=vs,ms.flags&4098&&(ws=ms.return),vs=ms.return;while(vs)}return ms.tag===3?ws:null}function Wb(vs){if(vs.tag===13){var ms=vs.memoizedState;if(ms===null&&(vs=vs.alternate,vs!==null&&(ms=vs.memoizedState)),ms!==null)return ms.dehydrated}return null}function Xb(vs){if(Vb(vs)!==vs)throw Error(p$6(188))}function Yb(vs){var ms=vs.alternate;if(!ms){if(ms=Vb(vs),ms===null)throw Error(p$6(188));return ms!==vs?null:vs}for(var ws=vs,Ss=ms;;){var Es=ws.return;if(Es===null)break;var _s=Es.alternate;if(_s===null){if(Ss=Es.return,Ss!==null){ws=Ss;continue}break}if(Es.child===_s.child){for(_s=Es.child;_s;){if(_s===ws)return Xb(Es),vs;if(_s===Ss)return Xb(Es),ms;_s=_s.sibling}throw Error(p$6(188))}if(ws.return!==Ss.return)ws=Es,Ss=_s;else{for(var Is=!1,Ts=Es.child;Ts;){if(Ts===ws){Is=!0,ws=Es,Ss=_s;break}if(Ts===Ss){Is=!0,Ss=Es,ws=_s;break}Ts=Ts.sibling}if(!Is){for(Ts=_s.child;Ts;){if(Ts===ws){Is=!0,ws=_s,Ss=Es;break}if(Ts===Ss){Is=!0,Ss=_s,ws=Es;break}Ts=Ts.sibling}if(!Is)throw Error(p$6(189))}}if(ws.alternate!==Ss)throw Error(p$6(190))}if(ws.tag!==3)throw Error(p$6(188));return ws.stateNode.current===ws?vs:ms}function Zb(vs){return vs=Yb(vs),vs!==null?$b(vs):null}function $b(vs){if(vs.tag===5||vs.tag===6)return vs;for(vs=vs.child;vs!==null;){var ms=$b(vs);if(ms!==null)return ms;vs=vs.sibling}return null}var ac$1=ca$1.unstable_scheduleCallback,bc$1=ca$1.unstable_cancelCallback,cc$1=ca$1.unstable_shouldYield,dc$1=ca$1.unstable_requestPaint,B$6=ca$1.unstable_now,ec$1=ca$1.unstable_getCurrentPriorityLevel,fc$1=ca$1.unstable_ImmediatePriority,gc$1=ca$1.unstable_UserBlockingPriority,hc$1=ca$1.unstable_NormalPriority,ic$1=ca$1.unstable_LowPriority,jc$1=ca$1.unstable_IdlePriority,kc$1=null,lc$1=null;function mc$1(vs){if(lc$1&&typeof lc$1.onCommitFiberRoot=="function")try{lc$1.onCommitFiberRoot(kc$1,vs,void 0,(vs.current.flags&128)===128)}catch{}}var oc$1=Math.clz32?Math.clz32:nc$1,pc$1=Math.log,qc$1=Math.LN2;function nc$1(vs){return vs>>>=0,vs===0?32:31-(pc$1(vs)/qc$1|0)|0}var rc$1=64,sc$1=4194304;function tc$1(vs){switch(vs&-vs){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return vs&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return vs&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return vs}}function uc$1(vs,ms){var ws=vs.pendingLanes;if(ws===0)return 0;var Ss=0,Es=vs.suspendedLanes,_s=vs.pingedLanes,Is=ws&268435455;if(Is!==0){var Ts=Is&~Es;Ts!==0?Ss=tc$1(Ts):(_s&=Is,_s!==0&&(Ss=tc$1(_s)))}else Is=ws&~Es,Is!==0?Ss=tc$1(Is):_s!==0&&(Ss=tc$1(_s));if(Ss===0)return 0;if(ms!==0&&ms!==Ss&&!(ms&Es)&&(Es=Ss&-Ss,_s=ms&-ms,Es>=_s||Es===16&&(_s&4194240)!==0))return ms;if(Ss&4&&(Ss|=ws&16),ms=vs.entangledLanes,ms!==0)for(vs=vs.entanglements,ms&=Ss;0<ms;)ws=31-oc$1(ms),Es=1<<ws,Ss|=vs[ws],ms&=~Es;return Ss}function vc$1(vs,ms){switch(vs){case 1:case 2:case 4:return ms+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ms+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc$1(vs,ms){for(var ws=vs.suspendedLanes,Ss=vs.pingedLanes,Es=vs.expirationTimes,_s=vs.pendingLanes;0<_s;){var Is=31-oc$1(_s),Ts=1<<Is,Rs=Es[Is];Rs===-1?(!(Ts&ws)||Ts&Ss)&&(Es[Is]=vc$1(Ts,ms)):Rs<=ms&&(vs.expiredLanes|=Ts),_s&=~Ts}}function xc$1(vs){return vs=vs.pendingLanes&-1073741825,vs!==0?vs:vs&1073741824?1073741824:0}function yc$1(){var vs=rc$1;return rc$1<<=1,!(rc$1&4194240)&&(rc$1=64),vs}function zc$1(vs){for(var ms=[],ws=0;31>ws;ws++)ms.push(vs);return ms}function Ac$1(vs,ms,ws){vs.pendingLanes|=ms,ms!==536870912&&(vs.suspendedLanes=0,vs.pingedLanes=0),vs=vs.eventTimes,ms=31-oc$1(ms),vs[ms]=ws}function Bc(vs,ms){var ws=vs.pendingLanes&~ms;vs.pendingLanes=ms,vs.suspendedLanes=0,vs.pingedLanes=0,vs.expiredLanes&=ms,vs.mutableReadLanes&=ms,vs.entangledLanes&=ms,ms=vs.entanglements;var Ss=vs.eventTimes;for(vs=vs.expirationTimes;0<ws;){var Es=31-oc$1(ws),_s=1<<Es;ms[Es]=0,Ss[Es]=-1,vs[Es]=-1,ws&=~_s}}function Cc$1(vs,ms){var ws=vs.entangledLanes|=ms;for(vs=vs.entanglements;ws;){var Ss=31-oc$1(ws),Es=1<<Ss;Es&ms|vs[Ss]&ms&&(vs[Ss]|=ms),ws&=~Es}}var C$8=0;function Dc$1(vs){return vs&=-vs,1<vs?4<vs?vs&268435455?16:536870912:4:1}var Ec$1,Fc$1,Gc$1,Hc$1,Ic$1,Jc$1=!1,Kc$1=[],Lc$1=null,Mc$1=null,Nc$1=null,Oc$1=new Map,Pc$1=new Map,Qc$1=[],Rc$1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc$1(vs,ms){switch(vs){case"focusin":case"focusout":Lc$1=null;break;case"dragenter":case"dragleave":Mc$1=null;break;case"mouseover":case"mouseout":Nc$1=null;break;case"pointerover":case"pointerout":Oc$1.delete(ms.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc$1.delete(ms.pointerId)}}function Tc$1(vs,ms,ws,Ss,Es,_s){return vs===null||vs.nativeEvent!==_s?(vs={blockedOn:ms,domEventName:ws,eventSystemFlags:Ss,nativeEvent:_s,targetContainers:[Es]},ms!==null&&(ms=Cb(ms),ms!==null&&Fc$1(ms)),vs):(vs.eventSystemFlags|=Ss,ms=vs.targetContainers,Es!==null&&ms.indexOf(Es)===-1&&ms.push(Es),vs)}function Uc$1(vs,ms,ws,Ss,Es){switch(ms){case"focusin":return Lc$1=Tc$1(Lc$1,vs,ms,ws,Ss,Es),!0;case"dragenter":return Mc$1=Tc$1(Mc$1,vs,ms,ws,Ss,Es),!0;case"mouseover":return Nc$1=Tc$1(Nc$1,vs,ms,ws,Ss,Es),!0;case"pointerover":var _s=Es.pointerId;return Oc$1.set(_s,Tc$1(Oc$1.get(_s)||null,vs,ms,ws,Ss,Es)),!0;case"gotpointercapture":return _s=Es.pointerId,Pc$1.set(_s,Tc$1(Pc$1.get(_s)||null,vs,ms,ws,Ss,Es)),!0}return!1}function Vc$1(vs){var ms=Wc$1(vs.target);if(ms!==null){var ws=Vb(ms);if(ws!==null){if(ms=ws.tag,ms===13){if(ms=Wb(ws),ms!==null){vs.blockedOn=ms,Ic$1(vs.priority,function(){Gc$1(ws)});return}}else if(ms===3&&ws.stateNode.current.memoizedState.isDehydrated){vs.blockedOn=ws.tag===3?ws.stateNode.containerInfo:null;return}}}vs.blockedOn=null}function Xc$1(vs){if(vs.blockedOn!==null)return!1;for(var ms=vs.targetContainers;0<ms.length;){var ws=Yc$1(vs.domEventName,vs.eventSystemFlags,ms[0],vs.nativeEvent);if(ws===null){ws=vs.nativeEvent;var Ss=new ws.constructor(ws.type,ws);wb=Ss,ws.target.dispatchEvent(Ss),wb=null}else return ms=Cb(ws),ms!==null&&Fc$1(ms),vs.blockedOn=ws,!1;ms.shift()}return!0}function Zc$1(vs,ms,ws){Xc$1(vs)&&ws.delete(ms)}function $c$1(){Jc$1=!1,Lc$1!==null&&Xc$1(Lc$1)&&(Lc$1=null),Mc$1!==null&&Xc$1(Mc$1)&&(Mc$1=null),Nc$1!==null&&Xc$1(Nc$1)&&(Nc$1=null),Oc$1.forEach(Zc$1),Pc$1.forEach(Zc$1)}function ad(vs,ms){vs.blockedOn===ms&&(vs.blockedOn=null,Jc$1||(Jc$1=!0,ca$1.unstable_scheduleCallback(ca$1.unstable_NormalPriority,$c$1)))}function bd(vs){function ms(Es){return ad(Es,vs)}if(0<Kc$1.length){ad(Kc$1[0],vs);for(var ws=1;ws<Kc$1.length;ws++){var Ss=Kc$1[ws];Ss.blockedOn===vs&&(Ss.blockedOn=null)}}for(Lc$1!==null&&ad(Lc$1,vs),Mc$1!==null&&ad(Mc$1,vs),Nc$1!==null&&ad(Nc$1,vs),Oc$1.forEach(ms),Pc$1.forEach(ms),ws=0;ws<Qc$1.length;ws++)Ss=Qc$1[ws],Ss.blockedOn===vs&&(Ss.blockedOn=null);for(;0<Qc$1.length&&(ws=Qc$1[0],ws.blockedOn===null);)Vc$1(ws),ws.blockedOn===null&&Qc$1.shift()}var cd=ua$1.ReactCurrentBatchConfig,dd=!0;function ed(vs,ms,ws,Ss){var Es=C$8,_s=cd.transition;cd.transition=null;try{C$8=1,fd(vs,ms,ws,Ss)}finally{C$8=Es,cd.transition=_s}}function gd(vs,ms,ws,Ss){var Es=C$8,_s=cd.transition;cd.transition=null;try{C$8=4,fd(vs,ms,ws,Ss)}finally{C$8=Es,cd.transition=_s}}function fd(vs,ms,ws,Ss){if(dd){var Es=Yc$1(vs,ms,ws,Ss);if(Es===null)hd(vs,ms,Ss,id,ws),Sc$1(vs,Ss);else if(Uc$1(Es,vs,ms,ws,Ss))Ss.stopPropagation();else if(Sc$1(vs,Ss),ms&4&&-1<Rc$1.indexOf(vs)){for(;Es!==null;){var _s=Cb(Es);if(_s!==null&&Ec$1(_s),_s=Yc$1(vs,ms,ws,Ss),_s===null&&hd(vs,ms,Ss,id,ws),_s===Es)break;Es=_s}Es!==null&&Ss.stopPropagation()}else hd(vs,ms,Ss,null,ws)}}var id=null;function Yc$1(vs,ms,ws,Ss){if(id=null,vs=xb(Ss),vs=Wc$1(vs),vs!==null)if(ms=Vb(vs),ms===null)vs=null;else if(ws=ms.tag,ws===13){if(vs=Wb(ms),vs!==null)return vs;vs=null}else if(ws===3){if(ms.stateNode.current.memoizedState.isDehydrated)return ms.tag===3?ms.stateNode.containerInfo:null;vs=null}else ms!==vs&&(vs=null);return id=vs,null}function jd(vs){switch(vs){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc$1:return 1;case gc$1:return 4;case hc$1:case ic$1:return 16;case jc$1:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var vs,ms=ld,ws=ms.length,Ss,Es="value"in kd?kd.value:kd.textContent,_s=Es.length;for(vs=0;vs<ws&&ms[vs]===Es[vs];vs++);var Is=ws-vs;for(Ss=1;Ss<=Is&&ms[ws-Ss]===Es[_s-Ss];Ss++);return md=Es.slice(vs,1<Ss?1-Ss:void 0)}function od(vs){var ms=vs.keyCode;return"charCode"in vs?(vs=vs.charCode,vs===0&&ms===13&&(vs=13)):vs=ms,vs===10&&(vs=13),32<=vs||vs===13?vs:0}function pd(){return!0}function qd(){return!1}function rd(vs){function ms(ws,Ss,Es,_s,Is){this._reactName=ws,this._targetInst=Es,this.type=Ss,this.nativeEvent=_s,this.target=Is,this.currentTarget=null;for(var Ts in vs)vs.hasOwnProperty(Ts)&&(ws=vs[Ts],this[Ts]=ws?ws(_s):_s[Ts]);return this.isDefaultPrevented=(_s.defaultPrevented!=null?_s.defaultPrevented:_s.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$7(ms.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ws=this.nativeEvent;ws&&(ws.preventDefault?ws.preventDefault():typeof ws.returnValue!="unknown"&&(ws.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var ws=this.nativeEvent;ws&&(ws.stopPropagation?ws.stopPropagation():typeof ws.cancelBubble!="unknown"&&(ws.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),ms}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(vs){return vs.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$7({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$7({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(vs){return vs.relatedTarget===void 0?vs.fromElement===vs.srcElement?vs.toElement:vs.fromElement:vs.relatedTarget},movementX:function(vs){return"movementX"in vs?vs.movementX:(vs!==yd&&(yd&&vs.type==="mousemove"?(wd=vs.screenX-yd.screenX,xd=vs.screenY-yd.screenY):xd=wd=0,yd=vs),wd)},movementY:function(vs){return"movementY"in vs?vs.movementY:xd}}),Bd=rd(Ad),Cd=A$7({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$7({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$7({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$7({},sd,{clipboardData:function(vs){return"clipboardData"in vs?vs.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$7({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(vs){var ms=this.nativeEvent;return ms.getModifierState?ms.getModifierState(vs):(vs=Od[vs])?!!ms[vs]:!1}function zd(){return Pd}var Qd=A$7({},ud,{key:function(vs){if(vs.key){var ms=Md[vs.key]||vs.key;if(ms!=="Unidentified")return ms}return vs.type==="keypress"?(vs=od(vs),vs===13?"Enter":String.fromCharCode(vs)):vs.type==="keydown"||vs.type==="keyup"?Nd[vs.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(vs){return vs.type==="keypress"?od(vs):0},keyCode:function(vs){return vs.type==="keydown"||vs.type==="keyup"?vs.keyCode:0},which:function(vs){return vs.type==="keypress"?od(vs):vs.type==="keydown"||vs.type==="keyup"?vs.keyCode:0}}),Rd=rd(Qd),Sd=A$7({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$7({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$7({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$7({},Ad,{deltaX:function(vs){return"deltaX"in vs?vs.deltaX:"wheelDeltaX"in vs?-vs.wheelDeltaX:0},deltaY:function(vs){return"deltaY"in vs?vs.deltaY:"wheelDeltaY"in vs?-vs.wheelDeltaY:"wheelDelta"in vs?-vs.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$4=ia$1&&"CompositionEvent"in window,be$3=null;ia$1&&"documentMode"in document&&(be$3=document.documentMode);var ce$3=ia$1&&"TextEvent"in window&&!be$3,de$3=ia$1&&(!ae$4||be$3&&8<be$3&&11>=be$3),ee$4=" ",fe$5=!1;function ge$2(vs,ms){switch(vs){case"keyup":return $d.indexOf(ms.keyCode)!==-1;case"keydown":return ms.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$4(vs){return vs=vs.detail,typeof vs=="object"&&"data"in vs?vs.data:null}var ie$2=!1;function je$3(vs,ms){switch(vs){case"compositionend":return he$4(ms);case"keypress":return ms.which!==32?null:(fe$5=!0,ee$4);case"textInput":return vs=ms.data,vs===ee$4&&fe$5?null:vs;default:return null}}function ke$4(vs,ms){if(ie$2)return vs==="compositionend"||!ae$4&&ge$2(vs,ms)?(vs=nd(),md=ld=kd=null,ie$2=!1,vs):null;switch(vs){case"paste":return null;case"keypress":if(!(ms.ctrlKey||ms.altKey||ms.metaKey)||ms.ctrlKey&&ms.altKey){if(ms.char&&1<ms.char.length)return ms.char;if(ms.which)return String.fromCharCode(ms.which)}return null;case"compositionend":return de$3&&ms.locale!=="ko"?null:ms.data;default:return null}}var le$4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$5(vs){var ms=vs&&vs.nodeName&&vs.nodeName.toLowerCase();return ms==="input"?!!le$4[vs.type]:ms==="textarea"}function ne$1(vs,ms,ws,Ss){Eb(Ss),ms=oe$2(ms,"onChange"),0<ms.length&&(ws=new td("onChange","change",null,ws,Ss),vs.push({event:ws,listeners:ms}))}var pe$5=null,qe$4=null;function re$2(vs){se$1(vs,0)}function te$4(vs){var ms=ue$1(vs);if(Wa(ms))return vs}function ve$3(vs,ms){if(vs==="change")return ms}var we$5=!1;if(ia$1){var xe$2;if(ia$1){var ye$4="oninput"in document;if(!ye$4){var ze$2=document.createElement("div");ze$2.setAttribute("oninput","return;"),ye$4=typeof ze$2.oninput=="function"}xe$2=ye$4}else xe$2=!1;we$5=xe$2&&(!document.documentMode||9<document.documentMode)}function Ae$3(){pe$5&&(pe$5.detachEvent("onpropertychange",Be$4),qe$4=pe$5=null)}function Be$4(vs){if(vs.propertyName==="value"&&te$4(qe$4)){var ms=[];ne$1(ms,qe$4,vs,xb(vs)),Jb(re$2,ms)}}function Ce$4(vs,ms,ws){vs==="focusin"?(Ae$3(),pe$5=ms,qe$4=ws,pe$5.attachEvent("onpropertychange",Be$4)):vs==="focusout"&&Ae$3()}function De$5(vs){if(vs==="selectionchange"||vs==="keyup"||vs==="keydown")return te$4(qe$4)}function Ee$1(vs,ms){if(vs==="click")return te$4(ms)}function Fe$3(vs,ms){if(vs==="input"||vs==="change")return te$4(ms)}function Ge$2(vs,ms){return vs===ms&&(vs!==0||1/vs===1/ms)||vs!==vs&&ms!==ms}var He$4=typeof Object.is=="function"?Object.is:Ge$2;function Ie$3(vs,ms){if(He$4(vs,ms))return!0;if(typeof vs!="object"||vs===null||typeof ms!="object"||ms===null)return!1;var ws=Object.keys(vs),Ss=Object.keys(ms);if(ws.length!==Ss.length)return!1;for(Ss=0;Ss<ws.length;Ss++){var Es=ws[Ss];if(!ja$1.call(ms,Es)||!He$4(vs[Es],ms[Es]))return!1}return!0}function Je$3(vs){for(;vs&&vs.firstChild;)vs=vs.firstChild;return vs}function Ke$4(vs,ms){var ws=Je$3(vs);vs=0;for(var Ss;ws;){if(ws.nodeType===3){if(Ss=vs+ws.textContent.length,vs<=ms&&Ss>=ms)return{node:ws,offset:ms-vs};vs=Ss}e:{for(;ws;){if(ws.nextSibling){ws=ws.nextSibling;break e}ws=ws.parentNode}ws=void 0}ws=Je$3(ws)}}function Le$4(vs,ms){return vs&&ms?vs===ms?!0:vs&&vs.nodeType===3?!1:ms&&ms.nodeType===3?Le$4(vs,ms.parentNode):"contains"in vs?vs.contains(ms):vs.compareDocumentPosition?!!(vs.compareDocumentPosition(ms)&16):!1:!1}function Me$5(){for(var vs=window,ms=Xa();ms instanceof vs.HTMLIFrameElement;){try{var ws=typeof ms.contentWindow.location.href=="string"}catch{ws=!1}if(ws)vs=ms.contentWindow;else break;ms=Xa(vs.document)}return ms}function Ne$3(vs){var ms=vs&&vs.nodeName&&vs.nodeName.toLowerCase();return ms&&(ms==="input"&&(vs.type==="text"||vs.type==="search"||vs.type==="tel"||vs.type==="url"||vs.type==="password")||ms==="textarea"||vs.contentEditable==="true")}function Oe$4(vs){var ms=Me$5(),ws=vs.focusedElem,Ss=vs.selectionRange;if(ms!==ws&&ws&&ws.ownerDocument&&Le$4(ws.ownerDocument.documentElement,ws)){if(Ss!==null&&Ne$3(ws)){if(ms=Ss.start,vs=Ss.end,vs===void 0&&(vs=ms),"selectionStart"in ws)ws.selectionStart=ms,ws.selectionEnd=Math.min(vs,ws.value.length);else if(vs=(ms=ws.ownerDocument||document)&&ms.defaultView||window,vs.getSelection){vs=vs.getSelection();var Es=ws.textContent.length,_s=Math.min(Ss.start,Es);Ss=Ss.end===void 0?_s:Math.min(Ss.end,Es),!vs.extend&&_s>Ss&&(Es=Ss,Ss=_s,_s=Es),Es=Ke$4(ws,_s);var Is=Ke$4(ws,Ss);Es&&Is&&(vs.rangeCount!==1||vs.anchorNode!==Es.node||vs.anchorOffset!==Es.offset||vs.focusNode!==Is.node||vs.focusOffset!==Is.offset)&&(ms=ms.createRange(),ms.setStart(Es.node,Es.offset),vs.removeAllRanges(),_s>Ss?(vs.addRange(ms),vs.extend(Is.node,Is.offset)):(ms.setEnd(Is.node,Is.offset),vs.addRange(ms)))}}for(ms=[],vs=ws;vs=vs.parentNode;)vs.nodeType===1&&ms.push({element:vs,left:vs.scrollLeft,top:vs.scrollTop});for(typeof ws.focus=="function"&&ws.focus(),ws=0;ws<ms.length;ws++)vs=ms[ws],vs.element.scrollLeft=vs.left,vs.element.scrollTop=vs.top}}var Pe$4=ia$1&&"documentMode"in document&&11>=document.documentMode,Qe$4=null,Re$3=null,Se$4=null,Te$3=!1;function Ue$4(vs,ms,ws){var Ss=ws.window===ws?ws.document:ws.nodeType===9?ws:ws.ownerDocument;Te$3||Qe$4==null||Qe$4!==Xa(Ss)||(Ss=Qe$4,"selectionStart"in Ss&&Ne$3(Ss)?Ss={start:Ss.selectionStart,end:Ss.selectionEnd}:(Ss=(Ss.ownerDocument&&Ss.ownerDocument.defaultView||window).getSelection(),Ss={anchorNode:Ss.anchorNode,anchorOffset:Ss.anchorOffset,focusNode:Ss.focusNode,focusOffset:Ss.focusOffset}),Se$4&&Ie$3(Se$4,Ss)||(Se$4=Ss,Ss=oe$2(Re$3,"onSelect"),0<Ss.length&&(ms=new td("onSelect","select",null,ms,ws),vs.push({event:ms,listeners:Ss}),ms.target=Qe$4)))}function Ve$4(vs,ms){var ws={};return ws[vs.toLowerCase()]=ms.toLowerCase(),ws["Webkit"+vs]="webkit"+ms,ws["Moz"+vs]="moz"+ms,ws}var We$3={animationend:Ve$4("Animation","AnimationEnd"),animationiteration:Ve$4("Animation","AnimationIteration"),animationstart:Ve$4("Animation","AnimationStart"),transitionend:Ve$4("Transition","TransitionEnd")},Xe$4={},Ye$4={};ia$1&&(Ye$4=document.createElement("div").style,"AnimationEvent"in window||(delete We$3.animationend.animation,delete We$3.animationiteration.animation,delete We$3.animationstart.animation),"TransitionEvent"in window||delete We$3.transitionend.transition);function Ze$4(vs){if(Xe$4[vs])return Xe$4[vs];if(!We$3[vs])return vs;var ms=We$3[vs],ws;for(ws in ms)if(ms.hasOwnProperty(ws)&&ws in Ye$4)return Xe$4[vs]=ms[ws];return vs}var $e$4=Ze$4("animationend"),af$1=Ze$4("animationiteration"),bf$1=Ze$4("animationstart"),cf$1=Ze$4("transitionend"),df$1=new Map,ef$1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff$1(vs,ms){df$1.set(vs,ms),fa$1(ms,[vs])}for(var gf$1=0;gf$1<ef$1.length;gf$1++){var hf$1=ef$1[gf$1],jf$1=hf$1.toLowerCase(),kf$1=hf$1[0].toUpperCase()+hf$1.slice(1);ff$1(jf$1,"on"+kf$1)}ff$1($e$4,"onAnimationEnd"),ff$1(af$1,"onAnimationIteration"),ff$1(bf$1,"onAnimationStart"),ff$1("dblclick","onDoubleClick"),ff$1("focusin","onFocus"),ff$1("focusout","onBlur"),ff$1(cf$1,"onTransitionEnd"),ha("onMouseEnter",["mouseout","mouseover"]),ha("onMouseLeave",["mouseout","mouseover"]),ha("onPointerEnter",["pointerout","pointerover"]),ha("onPointerLeave",["pointerout","pointerover"]),fa$1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fa$1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fa$1("onBeforeInput",["compositionend","keypress","textInput","paste"]),fa$1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fa$1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fa$1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf$1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf$1));function nf$1(vs,ms,ws){var Ss=vs.type||"unknown-event";vs.currentTarget=ws,Ub(Ss,ms,void 0,vs),vs.currentTarget=null}function se$1(vs,ms){ms=(ms&4)!==0;for(var ws=0;ws<vs.length;ws++){var Ss=vs[ws],Es=Ss.event;Ss=Ss.listeners;e:{var _s=void 0;if(ms)for(var Is=Ss.length-1;0<=Is;Is--){var Ts=Ss[Is],Rs=Ts.instance,Bs=Ts.currentTarget;if(Ts=Ts.listener,Rs!==_s&&Es.isPropagationStopped())break e;nf$1(Es,Ts,Bs),_s=Rs}else for(Is=0;Is<Ss.length;Is++){if(Ts=Ss[Is],Rs=Ts.instance,Bs=Ts.currentTarget,Ts=Ts.listener,Rs!==_s&&Es.isPropagationStopped())break e;nf$1(Es,Ts,Bs),_s=Rs}}}if(Qb)throw vs=Rb,Qb=!1,Rb=null,vs}function D$6(vs,ms){var ws=ms[of$1];ws===void 0&&(ws=ms[of$1]=new Set);var Ss=vs+"__bubble";ws.has(Ss)||(pf$1(ms,vs,2,!1),ws.add(Ss))}function qf$1(vs,ms,ws){var Ss=0;ms&&(Ss|=4),pf$1(ws,vs,Ss,ms)}var rf$1="_reactListening"+Math.random().toString(36).slice(2);function sf$1(vs){if(!vs[rf$1]){vs[rf$1]=!0,da$1.forEach(function(ws){ws!=="selectionchange"&&(mf.has(ws)||qf$1(ws,!1,vs),qf$1(ws,!0,vs))});var ms=vs.nodeType===9?vs:vs.ownerDocument;ms===null||ms[rf$1]||(ms[rf$1]=!0,qf$1("selectionchange",!1,ms))}}function pf$1(vs,ms,ws,Ss){switch(jd(ms)){case 1:var Es=ed;break;case 4:Es=gd;break;default:Es=fd}ws=Es.bind(null,ms,ws,vs),Es=void 0,!Lb||ms!=="touchstart"&&ms!=="touchmove"&&ms!=="wheel"||(Es=!0),Ss?Es!==void 0?vs.addEventListener(ms,ws,{capture:!0,passive:Es}):vs.addEventListener(ms,ws,!0):Es!==void 0?vs.addEventListener(ms,ws,{passive:Es}):vs.addEventListener(ms,ws,!1)}function hd(vs,ms,ws,Ss,Es){var _s=Ss;if(!(ms&1)&&!(ms&2)&&Ss!==null)e:for(;;){if(Ss===null)return;var Is=Ss.tag;if(Is===3||Is===4){var Ts=Ss.stateNode.containerInfo;if(Ts===Es||Ts.nodeType===8&&Ts.parentNode===Es)break;if(Is===4)for(Is=Ss.return;Is!==null;){var Rs=Is.tag;if((Rs===3||Rs===4)&&(Rs=Is.stateNode.containerInfo,Rs===Es||Rs.nodeType===8&&Rs.parentNode===Es))return;Is=Is.return}for(;Ts!==null;){if(Is=Wc$1(Ts),Is===null)return;if(Rs=Is.tag,Rs===5||Rs===6){Ss=_s=Is;continue e}Ts=Ts.parentNode}}Ss=Ss.return}Jb(function(){var Bs=_s,Ns=xb(ws),Ws=[];e:{var Js=df$1.get(vs);if(Js!==void 0){var $l=td,wl=vs;switch(vs){case"keypress":if(od(ws)===0)break e;case"keydown":case"keyup":$l=Rd;break;case"focusin":wl="focus",$l=Fd;break;case"focusout":wl="blur",$l=Fd;break;case"beforeblur":case"afterblur":$l=Fd;break;case"click":if(ws.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$l=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$l=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$l=Vd;break;case $e$4:case af$1:case bf$1:$l=Hd;break;case cf$1:$l=Xd;break;case"scroll":$l=vd;break;case"wheel":$l=Zd;break;case"copy":case"cut":case"paste":$l=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$l=Td}var _l=(ms&4)!==0,Cl=!_l&&vs==="scroll",Sl=_l?Js!==null?Js+"Capture":null:Js;_l=[];for(var El=Bs,xl;El!==null;){xl=El;var Ml=xl.stateNode;if(xl.tag===5&&Ml!==null&&(xl=Ml,Sl!==null&&(Ml=Kb(El,Sl),Ml!=null&&_l.push(tf$1(El,Ml,xl)))),Cl)break;El=El.return}0<_l.length&&(Js=new $l(Js,wl,null,ws,Ns),Ws.push({event:Js,listeners:_l}))}}if(!(ms&7)){e:{if(Js=vs==="mouseover"||vs==="pointerover",$l=vs==="mouseout"||vs==="pointerout",Js&&ws!==wb&&(wl=ws.relatedTarget||ws.fromElement)&&(Wc$1(wl)||wl[uf$1]))break e;if(($l||Js)&&(Js=Ns.window===Ns?Ns:(Js=Ns.ownerDocument)?Js.defaultView||Js.parentWindow:window,$l?(wl=ws.relatedTarget||ws.toElement,$l=Bs,wl=wl?Wc$1(wl):null,wl!==null&&(Cl=Vb(wl),wl!==Cl||wl.tag!==5&&wl.tag!==6)&&(wl=null)):($l=null,wl=Bs),$l!==wl)){if(_l=Bd,Ml="onMouseLeave",Sl="onMouseEnter",El="mouse",(vs==="pointerout"||vs==="pointerover")&&(_l=Td,Ml="onPointerLeave",Sl="onPointerEnter",El="pointer"),Cl=$l==null?Js:ue$1($l),xl=wl==null?Js:ue$1(wl),Js=new _l(Ml,El+"leave",$l,ws,Ns),Js.target=Cl,Js.relatedTarget=xl,Ml=null,Wc$1(Ns)===Bs&&(_l=new _l(Sl,El+"enter",wl,ws,Ns),_l.target=xl,_l.relatedTarget=Cl,Ml=_l),Cl=Ml,$l&&wl)t:{for(_l=$l,Sl=wl,El=0,xl=_l;xl;xl=vf(xl))El++;for(xl=0,Ml=Sl;Ml;Ml=vf(Ml))xl++;for(;0<El-xl;)_l=vf(_l),El--;for(;0<xl-El;)Sl=vf(Sl),xl--;for(;El--;){if(_l===Sl||Sl!==null&&_l===Sl.alternate)break t;_l=vf(_l),Sl=vf(Sl)}_l=null}else _l=null;$l!==null&&wf(Ws,Js,$l,_l,!1),wl!==null&&Cl!==null&&wf(Ws,Cl,wl,_l,!0)}}e:{if(Js=Bs?ue$1(Bs):window,$l=Js.nodeName&&Js.nodeName.toLowerCase(),$l==="select"||$l==="input"&&Js.type==="file")var Vl=ve$3;else if(me$5(Js))if(we$5)Vl=Fe$3;else{Vl=De$5;var Ul=Ce$4}else($l=Js.nodeName)&&$l.toLowerCase()==="input"&&(Js.type==="checkbox"||Js.type==="radio")&&(Vl=Ee$1);if(Vl&&(Vl=Vl(vs,Bs))){ne$1(Ws,Vl,ws,Ns);break e}Ul&&Ul(vs,Js,Bs),vs==="focusout"&&(Ul=Js._wrapperState)&&Ul.controlled&&Js.type==="number"&&cb(Js,"number",Js.value)}switch(Ul=Bs?ue$1(Bs):window,vs){case"focusin":(me$5(Ul)||Ul.contentEditable==="true")&&(Qe$4=Ul,Re$3=Bs,Se$4=null);break;case"focusout":Se$4=Re$3=Qe$4=null;break;case"mousedown":Te$3=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$3=!1,Ue$4(Ws,ws,Ns);break;case"selectionchange":if(Pe$4)break;case"keydown":case"keyup":Ue$4(Ws,ws,Ns)}var _h;if(ae$4)e:{switch(vs){case"compositionstart":var nu="onCompositionStart";break e;case"compositionend":nu="onCompositionEnd";break e;case"compositionupdate":nu="onCompositionUpdate";break e}nu=void 0}else ie$2?ge$2(vs,ws)&&(nu="onCompositionEnd"):vs==="keydown"&&ws.keyCode===229&&(nu="onCompositionStart");nu&&(de$3&&ws.locale!=="ko"&&(ie$2||nu!=="onCompositionStart"?nu==="onCompositionEnd"&&ie$2&&(_h=nd()):(kd=Ns,ld="value"in kd?kd.value:kd.textContent,ie$2=!0)),Ul=oe$2(Bs,nu),0<Ul.length&&(nu=new Ld(nu,vs,null,ws,Ns),Ws.push({event:nu,listeners:Ul}),_h?nu.data=_h:(_h=he$4(ws),_h!==null&&(nu.data=_h)))),(_h=ce$3?je$3(vs,ws):ke$4(vs,ws))&&(Bs=oe$2(Bs,"onBeforeInput"),0<Bs.length&&(Ns=new Ld("onBeforeInput","beforeinput",null,ws,Ns),Ws.push({event:Ns,listeners:Bs}),Ns.data=_h))}se$1(Ws,ms)})}function tf$1(vs,ms,ws){return{instance:vs,listener:ms,currentTarget:ws}}function oe$2(vs,ms){for(var ws=ms+"Capture",Ss=[];vs!==null;){var Es=vs,_s=Es.stateNode;Es.tag===5&&_s!==null&&(Es=_s,_s=Kb(vs,ws),_s!=null&&Ss.unshift(tf$1(vs,_s,Es)),_s=Kb(vs,ms),_s!=null&&Ss.push(tf$1(vs,_s,Es))),vs=vs.return}return Ss}function vf(vs){if(vs===null)return null;do vs=vs.return;while(vs&&vs.tag!==5);return vs||null}function wf(vs,ms,ws,Ss,Es){for(var _s=ms._reactName,Is=[];ws!==null&&ws!==Ss;){var Ts=ws,Rs=Ts.alternate,Bs=Ts.stateNode;if(Rs!==null&&Rs===Ss)break;Ts.tag===5&&Bs!==null&&(Ts=Bs,Es?(Rs=Kb(ws,_s),Rs!=null&&Is.unshift(tf$1(ws,Rs,Ts))):Es||(Rs=Kb(ws,_s),Rs!=null&&Is.push(tf$1(ws,Rs,Ts)))),ws=ws.return}Is.length!==0&&vs.push({event:ms,listeners:Is})}var xf=/\r\n?/g,yf$1=/\u0000|\uFFFD/g;function zf$1(vs){return(typeof vs=="string"?vs:""+vs).replace(xf,`
`).replace(yf$1,"")}function Af$1(vs,ms,ws){if(ms=zf$1(ms),zf$1(vs)!==ms&&ws)throw Error(p$6(425))}function Bf$1(){}var Cf$1=null,Df$1=null;function Ef$1(vs,ms){return vs==="textarea"||vs==="noscript"||typeof ms.children=="string"||typeof ms.children=="number"||typeof ms.dangerouslySetInnerHTML=="object"&&ms.dangerouslySetInnerHTML!==null&&ms.dangerouslySetInnerHTML.__html!=null}var Ff$1=typeof setTimeout=="function"?setTimeout:void 0,Gf$1=typeof clearTimeout=="function"?clearTimeout:void 0,Hf$1=typeof Promise=="function"?Promise:void 0,Jf$1=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf$1<"u"?function(vs){return Hf$1.resolve(null).then(vs).catch(If$1)}:Ff$1;function If$1(vs){setTimeout(function(){throw vs})}function Kf$1(vs,ms){var ws=ms,Ss=0;do{var Es=ws.nextSibling;if(vs.removeChild(ws),Es&&Es.nodeType===8)if(ws=Es.data,ws==="/$"){if(Ss===0){vs.removeChild(Es),bd(ms);return}Ss--}else ws!=="$"&&ws!=="$?"&&ws!=="$!"||Ss++;ws=Es}while(ws);bd(ms)}function Lf$1(vs){for(;vs!=null;vs=vs.nextSibling){var ms=vs.nodeType;if(ms===1||ms===3)break;if(ms===8){if(ms=vs.data,ms==="$"||ms==="$!"||ms==="$?")break;if(ms==="/$")return null}}return vs}function Mf$1(vs){vs=vs.previousSibling;for(var ms=0;vs;){if(vs.nodeType===8){var ws=vs.data;if(ws==="$"||ws==="$!"||ws==="$?"){if(ms===0)return vs;ms--}else ws==="/$"&&ms++}vs=vs.previousSibling}return null}var Nf$1=Math.random().toString(36).slice(2),Of$1="__reactFiber$"+Nf$1,Pf$1="__reactProps$"+Nf$1,uf$1="__reactContainer$"+Nf$1,of$1="__reactEvents$"+Nf$1,Qf$1="__reactListeners$"+Nf$1,Rf$1="__reactHandles$"+Nf$1;function Wc$1(vs){var ms=vs[Of$1];if(ms)return ms;for(var ws=vs.parentNode;ws;){if(ms=ws[uf$1]||ws[Of$1]){if(ws=ms.alternate,ms.child!==null||ws!==null&&ws.child!==null)for(vs=Mf$1(vs);vs!==null;){if(ws=vs[Of$1])return ws;vs=Mf$1(vs)}return ms}vs=ws,ws=vs.parentNode}return null}function Cb(vs){return vs=vs[Of$1]||vs[uf$1],!vs||vs.tag!==5&&vs.tag!==6&&vs.tag!==13&&vs.tag!==3?null:vs}function ue$1(vs){if(vs.tag===5||vs.tag===6)return vs.stateNode;throw Error(p$6(33))}function Db(vs){return vs[Pf$1]||null}var Sf$1=[],Tf$1=-1;function Uf$1(vs){return{current:vs}}function E$7(vs){0>Tf$1||(vs.current=Sf$1[Tf$1],Sf$1[Tf$1]=null,Tf$1--)}function G$7(vs,ms){Tf$1++,Sf$1[Tf$1]=vs.current,vs.current=ms}var Vf$1={},H$5=Uf$1(Vf$1),Wf$1=Uf$1(!1),Xf$1=Vf$1;function Yf$1(vs,ms){var ws=vs.type.contextTypes;if(!ws)return Vf$1;var Ss=vs.stateNode;if(Ss&&Ss.__reactInternalMemoizedUnmaskedChildContext===ms)return Ss.__reactInternalMemoizedMaskedChildContext;var Es={},_s;for(_s in ws)Es[_s]=ms[_s];return Ss&&(vs=vs.stateNode,vs.__reactInternalMemoizedUnmaskedChildContext=ms,vs.__reactInternalMemoizedMaskedChildContext=Es),Es}function Zf$1(vs){return vs=vs.childContextTypes,vs!=null}function $f$1(){E$7(Wf$1),E$7(H$5)}function ag(vs,ms,ws){if(H$5.current!==Vf$1)throw Error(p$6(168));G$7(H$5,ms),G$7(Wf$1,ws)}function bg(vs,ms,ws){var Ss=vs.stateNode;if(ms=ms.childContextTypes,typeof Ss.getChildContext!="function")return ws;Ss=Ss.getChildContext();for(var Es in Ss)if(!(Es in ms))throw Error(p$6(108,Ra$1(vs)||"Unknown",Es));return A$7({},ws,Ss)}function cg(vs){return vs=(vs=vs.stateNode)&&vs.__reactInternalMemoizedMergedChildContext||Vf$1,Xf$1=H$5.current,G$7(H$5,vs),G$7(Wf$1,Wf$1.current),!0}function dg(vs,ms,ws){var Ss=vs.stateNode;if(!Ss)throw Error(p$6(169));ws?(vs=bg(vs,ms,Xf$1),Ss.__reactInternalMemoizedMergedChildContext=vs,E$7(Wf$1),E$7(H$5),G$7(H$5,vs)):E$7(Wf$1),G$7(Wf$1,ws)}var eg=null,fg=!1,gg=!1;function hg(vs){eg===null?eg=[vs]:eg.push(vs)}function ig(vs){fg=!0,hg(vs)}function jg(){if(!gg&&eg!==null){gg=!0;var vs=0,ms=C$8;try{var ws=eg;for(C$8=1;vs<ws.length;vs++){var Ss=ws[vs];do Ss=Ss(!0);while(Ss!==null)}eg=null,fg=!1}catch(Es){throw eg!==null&&(eg=eg.slice(vs+1)),ac$1(fc$1,jg),Es}finally{C$8=ms,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(vs,ms){kg[lg++]=ng,kg[lg++]=mg,mg=vs,ng=ms}function ug(vs,ms,ws){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=vs;var Ss=rg;vs=sg;var Es=32-oc$1(Ss)-1;Ss&=~(1<<Es),ws+=1;var _s=32-oc$1(ms)+Es;if(30<_s){var Is=Es-Es%5;_s=(Ss&(1<<Is)-1).toString(32),Ss>>=Is,Es-=Is,rg=1<<32-oc$1(ms)+Es|ws<<Es|Ss,sg=_s+vs}else rg=1<<_s|ws<<Es|Ss,sg=vs}function vg(vs){vs.return!==null&&(tg(vs,1),ug(vs,1,0))}function wg(vs){for(;vs===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;vs===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$6=!1,zg=null;function Ag(vs,ms){var ws=Bg(5,null,null,0);ws.elementType="DELETED",ws.stateNode=ms,ws.return=vs,ms=vs.deletions,ms===null?(vs.deletions=[ws],vs.flags|=16):ms.push(ws)}function Cg(vs,ms){switch(vs.tag){case 5:var ws=vs.type;return ms=ms.nodeType!==1||ws.toLowerCase()!==ms.nodeName.toLowerCase()?null:ms,ms!==null?(vs.stateNode=ms,xg=vs,yg=Lf$1(ms.firstChild),!0):!1;case 6:return ms=vs.pendingProps===""||ms.nodeType!==3?null:ms,ms!==null?(vs.stateNode=ms,xg=vs,yg=null,!0):!1;case 13:return ms=ms.nodeType!==8?null:ms,ms!==null?(ws=qg!==null?{id:rg,overflow:sg}:null,vs.memoizedState={dehydrated:ms,treeContext:ws,retryLane:1073741824},ws=Bg(18,null,null,0),ws.stateNode=ms,ws.return=vs,vs.child=ws,xg=vs,yg=null,!0):!1;default:return!1}}function Dg(vs){return(vs.mode&1)!==0&&(vs.flags&128)===0}function Eg(vs){if(I$6){var ms=yg;if(ms){var ws=ms;if(!Cg(vs,ms)){if(Dg(vs))throw Error(p$6(418));ms=Lf$1(ws.nextSibling);var Ss=xg;ms&&Cg(vs,ms)?Ag(Ss,ws):(vs.flags=vs.flags&-4097|2,I$6=!1,xg=vs)}}else{if(Dg(vs))throw Error(p$6(418));vs.flags=vs.flags&-4097|2,I$6=!1,xg=vs}}}function Fg(vs){for(vs=vs.return;vs!==null&&vs.tag!==5&&vs.tag!==3&&vs.tag!==13;)vs=vs.return;xg=vs}function Gg(vs){if(vs!==xg)return!1;if(!I$6)return Fg(vs),I$6=!0,!1;var ms;if((ms=vs.tag!==3)&&!(ms=vs.tag!==5)&&(ms=vs.type,ms=ms!=="head"&&ms!=="body"&&!Ef$1(vs.type,vs.memoizedProps)),ms&&(ms=yg)){if(Dg(vs))throw Hg(),Error(p$6(418));for(;ms;)Ag(vs,ms),ms=Lf$1(ms.nextSibling)}if(Fg(vs),vs.tag===13){if(vs=vs.memoizedState,vs=vs!==null?vs.dehydrated:null,!vs)throw Error(p$6(317));e:{for(vs=vs.nextSibling,ms=0;vs;){if(vs.nodeType===8){var ws=vs.data;if(ws==="/$"){if(ms===0){yg=Lf$1(vs.nextSibling);break e}ms--}else ws!=="$"&&ws!=="$!"&&ws!=="$?"||ms++}vs=vs.nextSibling}yg=null}}else yg=xg?Lf$1(vs.stateNode.nextSibling):null;return!0}function Hg(){for(var vs=yg;vs;)vs=Lf$1(vs.nextSibling)}function Ig(){yg=xg=null,I$6=!1}function Jg(vs){zg===null?zg=[vs]:zg.push(vs)}var Kg=ua$1.ReactCurrentBatchConfig;function Lg(vs,ms,ws){if(vs=ws.ref,vs!==null&&typeof vs!="function"&&typeof vs!="object"){if(ws._owner){if(ws=ws._owner,ws){if(ws.tag!==1)throw Error(p$6(309));var Ss=ws.stateNode}if(!Ss)throw Error(p$6(147,vs));var Es=Ss,_s=""+vs;return ms!==null&&ms.ref!==null&&typeof ms.ref=="function"&&ms.ref._stringRef===_s?ms.ref:(ms=function(Is){var Ts=Es.refs;Is===null?delete Ts[_s]:Ts[_s]=Is},ms._stringRef=_s,ms)}if(typeof vs!="string")throw Error(p$6(284));if(!ws._owner)throw Error(p$6(290,vs))}return vs}function Mg(vs,ms){throw vs=Object.prototype.toString.call(ms),Error(p$6(31,vs==="[object Object]"?"object with keys {"+Object.keys(ms).join(", ")+"}":vs))}function Ng(vs){var ms=vs._init;return ms(vs._payload)}function Og(vs){function ms(Sl,El){if(vs){var xl=Sl.deletions;xl===null?(Sl.deletions=[El],Sl.flags|=16):xl.push(El)}}function ws(Sl,El){if(!vs)return null;for(;El!==null;)ms(Sl,El),El=El.sibling;return null}function Ss(Sl,El){for(Sl=new Map;El!==null;)El.key!==null?Sl.set(El.key,El):Sl.set(El.index,El),El=El.sibling;return Sl}function Es(Sl,El){return Sl=Pg(Sl,El),Sl.index=0,Sl.sibling=null,Sl}function _s(Sl,El,xl){return Sl.index=xl,vs?(xl=Sl.alternate,xl!==null?(xl=xl.index,xl<El?(Sl.flags|=2,El):xl):(Sl.flags|=2,El)):(Sl.flags|=1048576,El)}function Is(Sl){return vs&&Sl.alternate===null&&(Sl.flags|=2),Sl}function Ts(Sl,El,xl,Ml){return El===null||El.tag!==6?(El=Qg(xl,Sl.mode,Ml),El.return=Sl,El):(El=Es(El,xl),El.return=Sl,El)}function Rs(Sl,El,xl,Ml){var Vl=xl.type;return Vl===ya$1?Ns(Sl,El,xl.props.children,Ml,xl.key):El!==null&&(El.elementType===Vl||typeof Vl=="object"&&Vl!==null&&Vl.$$typeof===Ha$1&&Ng(Vl)===El.type)?(Ml=Es(El,xl.props),Ml.ref=Lg(Sl,El,xl),Ml.return=Sl,Ml):(Ml=Rg(xl.type,xl.key,xl.props,null,Sl.mode,Ml),Ml.ref=Lg(Sl,El,xl),Ml.return=Sl,Ml)}function Bs(Sl,El,xl,Ml){return El===null||El.tag!==4||El.stateNode.containerInfo!==xl.containerInfo||El.stateNode.implementation!==xl.implementation?(El=Sg(xl,Sl.mode,Ml),El.return=Sl,El):(El=Es(El,xl.children||[]),El.return=Sl,El)}function Ns(Sl,El,xl,Ml,Vl){return El===null||El.tag!==7?(El=Tg(xl,Sl.mode,Ml,Vl),El.return=Sl,El):(El=Es(El,xl),El.return=Sl,El)}function Ws(Sl,El,xl){if(typeof El=="string"&&El!==""||typeof El=="number")return El=Qg(""+El,Sl.mode,xl),El.return=Sl,El;if(typeof El=="object"&&El!==null){switch(El.$$typeof){case va$1:return xl=Rg(El.type,El.key,El.props,null,Sl.mode,xl),xl.ref=Lg(Sl,null,El),xl.return=Sl,xl;case wa$1:return El=Sg(El,Sl.mode,xl),El.return=Sl,El;case Ha$1:var Ml=El._init;return Ws(Sl,Ml(El._payload),xl)}if(eb(El)||Ka$1(El))return El=Tg(El,Sl.mode,xl,null),El.return=Sl,El;Mg(Sl,El)}return null}function Js(Sl,El,xl,Ml){var Vl=El!==null?El.key:null;if(typeof xl=="string"&&xl!==""||typeof xl=="number")return Vl!==null?null:Ts(Sl,El,""+xl,Ml);if(typeof xl=="object"&&xl!==null){switch(xl.$$typeof){case va$1:return xl.key===Vl?Rs(Sl,El,xl,Ml):null;case wa$1:return xl.key===Vl?Bs(Sl,El,xl,Ml):null;case Ha$1:return Vl=xl._init,Js(Sl,El,Vl(xl._payload),Ml)}if(eb(xl)||Ka$1(xl))return Vl!==null?null:Ns(Sl,El,xl,Ml,null);Mg(Sl,xl)}return null}function $l(Sl,El,xl,Ml,Vl){if(typeof Ml=="string"&&Ml!==""||typeof Ml=="number")return Sl=Sl.get(xl)||null,Ts(El,Sl,""+Ml,Vl);if(typeof Ml=="object"&&Ml!==null){switch(Ml.$$typeof){case va$1:return Sl=Sl.get(Ml.key===null?xl:Ml.key)||null,Rs(El,Sl,Ml,Vl);case wa$1:return Sl=Sl.get(Ml.key===null?xl:Ml.key)||null,Bs(El,Sl,Ml,Vl);case Ha$1:var Ul=Ml._init;return $l(Sl,El,xl,Ul(Ml._payload),Vl)}if(eb(Ml)||Ka$1(Ml))return Sl=Sl.get(xl)||null,Ns(El,Sl,Ml,Vl,null);Mg(El,Ml)}return null}function wl(Sl,El,xl,Ml){for(var Vl=null,Ul=null,_h=El,nu=El=0,su=null;_h!==null&&nu<xl.length;nu++){_h.index>nu?(su=_h,_h=null):su=_h.sibling;var Jl=Js(Sl,_h,xl[nu],Ml);if(Jl===null){_h===null&&(_h=su);break}vs&&_h&&Jl.alternate===null&&ms(Sl,_h),El=_s(Jl,El,nu),Ul===null?Vl=Jl:Ul.sibling=Jl,Ul=Jl,_h=su}if(nu===xl.length)return ws(Sl,_h),I$6&&tg(Sl,nu),Vl;if(_h===null){for(;nu<xl.length;nu++)_h=Ws(Sl,xl[nu],Ml),_h!==null&&(El=_s(_h,El,nu),Ul===null?Vl=_h:Ul.sibling=_h,Ul=_h);return I$6&&tg(Sl,nu),Vl}for(_h=Ss(Sl,_h);nu<xl.length;nu++)su=$l(_h,Sl,nu,xl[nu],Ml),su!==null&&(vs&&su.alternate!==null&&_h.delete(su.key===null?nu:su.key),El=_s(su,El,nu),Ul===null?Vl=su:Ul.sibling=su,Ul=su);return vs&&_h.forEach(function(Il){return ms(Sl,Il)}),I$6&&tg(Sl,nu),Vl}function _l(Sl,El,xl,Ml){var Vl=Ka$1(xl);if(typeof Vl!="function")throw Error(p$6(150));if(xl=Vl.call(xl),xl==null)throw Error(p$6(151));for(var Ul=Vl=null,_h=El,nu=El=0,su=null,Jl=xl.next();_h!==null&&!Jl.done;nu++,Jl=xl.next()){_h.index>nu?(su=_h,_h=null):su=_h.sibling;var Il=Js(Sl,_h,Jl.value,Ml);if(Il===null){_h===null&&(_h=su);break}vs&&_h&&Il.alternate===null&&ms(Sl,_h),El=_s(Il,El,nu),Ul===null?Vl=Il:Ul.sibling=Il,Ul=Il,_h=su}if(Jl.done)return ws(Sl,_h),I$6&&tg(Sl,nu),Vl;if(_h===null){for(;!Jl.done;nu++,Jl=xl.next())Jl=Ws(Sl,Jl.value,Ml),Jl!==null&&(El=_s(Jl,El,nu),Ul===null?Vl=Jl:Ul.sibling=Jl,Ul=Jl);return I$6&&tg(Sl,nu),Vl}for(_h=Ss(Sl,_h);!Jl.done;nu++,Jl=xl.next())Jl=$l(_h,Sl,nu,Jl.value,Ml),Jl!==null&&(vs&&Jl.alternate!==null&&_h.delete(Jl.key===null?nu:Jl.key),El=_s(Jl,El,nu),Ul===null?Vl=Jl:Ul.sibling=Jl,Ul=Jl);return vs&&_h.forEach(function(Nl){return ms(Sl,Nl)}),I$6&&tg(Sl,nu),Vl}function Cl(Sl,El,xl,Ml){if(typeof xl=="object"&&xl!==null&&xl.type===ya$1&&xl.key===null&&(xl=xl.props.children),typeof xl=="object"&&xl!==null){switch(xl.$$typeof){case va$1:e:{for(var Vl=xl.key,Ul=El;Ul!==null;){if(Ul.key===Vl){if(Vl=xl.type,Vl===ya$1){if(Ul.tag===7){ws(Sl,Ul.sibling),El=Es(Ul,xl.props.children),El.return=Sl,Sl=El;break e}}else if(Ul.elementType===Vl||typeof Vl=="object"&&Vl!==null&&Vl.$$typeof===Ha$1&&Ng(Vl)===Ul.type){ws(Sl,Ul.sibling),El=Es(Ul,xl.props),El.ref=Lg(Sl,Ul,xl),El.return=Sl,Sl=El;break e}ws(Sl,Ul);break}else ms(Sl,Ul);Ul=Ul.sibling}xl.type===ya$1?(El=Tg(xl.props.children,Sl.mode,Ml,xl.key),El.return=Sl,Sl=El):(Ml=Rg(xl.type,xl.key,xl.props,null,Sl.mode,Ml),Ml.ref=Lg(Sl,El,xl),Ml.return=Sl,Sl=Ml)}return Is(Sl);case wa$1:e:{for(Ul=xl.key;El!==null;){if(El.key===Ul)if(El.tag===4&&El.stateNode.containerInfo===xl.containerInfo&&El.stateNode.implementation===xl.implementation){ws(Sl,El.sibling),El=Es(El,xl.children||[]),El.return=Sl,Sl=El;break e}else{ws(Sl,El);break}else ms(Sl,El);El=El.sibling}El=Sg(xl,Sl.mode,Ml),El.return=Sl,Sl=El}return Is(Sl);case Ha$1:return Ul=xl._init,Cl(Sl,El,Ul(xl._payload),Ml)}if(eb(xl))return wl(Sl,El,xl,Ml);if(Ka$1(xl))return _l(Sl,El,xl,Ml);Mg(Sl,xl)}return typeof xl=="string"&&xl!==""||typeof xl=="number"?(xl=""+xl,El!==null&&El.tag===6?(ws(Sl,El.sibling),El=Es(El,xl),El.return=Sl,Sl=El):(ws(Sl,El),El=Qg(xl,Sl.mode,Ml),El.return=Sl,Sl=El),Is(Sl)):ws(Sl,El)}return Cl}var Ug=Og(!0),Vg=Og(!1),Wg=Uf$1(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(vs){var ms=Wg.current;E$7(Wg),vs._currentValue=ms}function bh(vs,ms,ws){for(;vs!==null;){var Ss=vs.alternate;if((vs.childLanes&ms)!==ms?(vs.childLanes|=ms,Ss!==null&&(Ss.childLanes|=ms)):Ss!==null&&(Ss.childLanes&ms)!==ms&&(Ss.childLanes|=ms),vs===ws)break;vs=vs.return}}function ch(vs,ms){Xg=vs,Zg=Yg=null,vs=vs.dependencies,vs!==null&&vs.firstContext!==null&&(vs.lanes&ms&&(dh=!0),vs.firstContext=null)}function eh(vs){var ms=vs._currentValue;if(Zg!==vs)if(vs={context:vs,memoizedValue:ms,next:null},Yg===null){if(Xg===null)throw Error(p$6(308));Yg=vs,Xg.dependencies={lanes:0,firstContext:vs}}else Yg=Yg.next=vs;return ms}var fh=null;function gh(vs){fh===null?fh=[vs]:fh.push(vs)}function hh(vs,ms,ws,Ss){var Es=ms.interleaved;return Es===null?(ws.next=ws,gh(ms)):(ws.next=Es.next,Es.next=ws),ms.interleaved=ws,ih(vs,Ss)}function ih(vs,ms){vs.lanes|=ms;var ws=vs.alternate;for(ws!==null&&(ws.lanes|=ms),ws=vs,vs=vs.return;vs!==null;)vs.childLanes|=ms,ws=vs.alternate,ws!==null&&(ws.childLanes|=ms),ws=vs,vs=vs.return;return ws.tag===3?ws.stateNode:null}var jh=!1;function kh(vs){vs.updateQueue={baseState:vs.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(vs,ms){vs=vs.updateQueue,ms.updateQueue===vs&&(ms.updateQueue={baseState:vs.baseState,firstBaseUpdate:vs.firstBaseUpdate,lastBaseUpdate:vs.lastBaseUpdate,shared:vs.shared,effects:vs.effects})}function mh(vs,ms){return{eventTime:vs,lane:ms,tag:0,payload:null,callback:null,next:null}}function nh(vs,ms,ws){var Ss=vs.updateQueue;if(Ss===null)return null;if(Ss=Ss.shared,K$7&2){var Es=Ss.pending;return Es===null?ms.next=ms:(ms.next=Es.next,Es.next=ms),Ss.pending=ms,ih(vs,ws)}return Es=Ss.interleaved,Es===null?(ms.next=ms,gh(Ss)):(ms.next=Es.next,Es.next=ms),Ss.interleaved=ms,ih(vs,ws)}function oh(vs,ms,ws){if(ms=ms.updateQueue,ms!==null&&(ms=ms.shared,(ws&4194240)!==0)){var Ss=ms.lanes;Ss&=vs.pendingLanes,ws|=Ss,ms.lanes=ws,Cc$1(vs,ws)}}function ph(vs,ms){var ws=vs.updateQueue,Ss=vs.alternate;if(Ss!==null&&(Ss=Ss.updateQueue,ws===Ss)){var Es=null,_s=null;if(ws=ws.firstBaseUpdate,ws!==null){do{var Is={eventTime:ws.eventTime,lane:ws.lane,tag:ws.tag,payload:ws.payload,callback:ws.callback,next:null};_s===null?Es=_s=Is:_s=_s.next=Is,ws=ws.next}while(ws!==null);_s===null?Es=_s=ms:_s=_s.next=ms}else Es=_s=ms;ws={baseState:Ss.baseState,firstBaseUpdate:Es,lastBaseUpdate:_s,shared:Ss.shared,effects:Ss.effects},vs.updateQueue=ws;return}vs=ws.lastBaseUpdate,vs===null?ws.firstBaseUpdate=ms:vs.next=ms,ws.lastBaseUpdate=ms}function qh(vs,ms,ws,Ss){var Es=vs.updateQueue;jh=!1;var _s=Es.firstBaseUpdate,Is=Es.lastBaseUpdate,Ts=Es.shared.pending;if(Ts!==null){Es.shared.pending=null;var Rs=Ts,Bs=Rs.next;Rs.next=null,Is===null?_s=Bs:Is.next=Bs,Is=Rs;var Ns=vs.alternate;Ns!==null&&(Ns=Ns.updateQueue,Ts=Ns.lastBaseUpdate,Ts!==Is&&(Ts===null?Ns.firstBaseUpdate=Bs:Ts.next=Bs,Ns.lastBaseUpdate=Rs))}if(_s!==null){var Ws=Es.baseState;Is=0,Ns=Bs=Rs=null,Ts=_s;do{var Js=Ts.lane,$l=Ts.eventTime;if((Ss&Js)===Js){Ns!==null&&(Ns=Ns.next={eventTime:$l,lane:0,tag:Ts.tag,payload:Ts.payload,callback:Ts.callback,next:null});e:{var wl=vs,_l=Ts;switch(Js=ms,$l=ws,_l.tag){case 1:if(wl=_l.payload,typeof wl=="function"){Ws=wl.call($l,Ws,Js);break e}Ws=wl;break e;case 3:wl.flags=wl.flags&-65537|128;case 0:if(wl=_l.payload,Js=typeof wl=="function"?wl.call($l,Ws,Js):wl,Js==null)break e;Ws=A$7({},Ws,Js);break e;case 2:jh=!0}}Ts.callback!==null&&Ts.lane!==0&&(vs.flags|=64,Js=Es.effects,Js===null?Es.effects=[Ts]:Js.push(Ts))}else $l={eventTime:$l,lane:Js,tag:Ts.tag,payload:Ts.payload,callback:Ts.callback,next:null},Ns===null?(Bs=Ns=$l,Rs=Ws):Ns=Ns.next=$l,Is|=Js;if(Ts=Ts.next,Ts===null){if(Ts=Es.shared.pending,Ts===null)break;Js=Ts,Ts=Js.next,Js.next=null,Es.lastBaseUpdate=Js,Es.shared.pending=null}}while(!0);if(Ns===null&&(Rs=Ws),Es.baseState=Rs,Es.firstBaseUpdate=Bs,Es.lastBaseUpdate=Ns,ms=Es.shared.interleaved,ms!==null){Es=ms;do Is|=Es.lane,Es=Es.next;while(Es!==ms)}else _s===null&&(Es.shared.lanes=0);rh|=Is,vs.lanes=Is,vs.memoizedState=Ws}}function sh(vs,ms,ws){if(vs=ms.effects,ms.effects=null,vs!==null)for(ms=0;ms<vs.length;ms++){var Ss=vs[ms],Es=Ss.callback;if(Es!==null){if(Ss.callback=null,Ss=ws,typeof Es!="function")throw Error(p$6(191,Es));Es.call(Ss)}}}var th={},uh=Uf$1(th),vh=Uf$1(th),wh=Uf$1(th);function xh(vs){if(vs===th)throw Error(p$6(174));return vs}function yh(vs,ms){switch(G$7(wh,ms),G$7(vh,vs),G$7(uh,th),vs=ms.nodeType,vs){case 9:case 11:ms=(ms=ms.documentElement)?ms.namespaceURI:lb(null,"");break;default:vs=vs===8?ms.parentNode:ms,ms=vs.namespaceURI||null,vs=vs.tagName,ms=lb(ms,vs)}E$7(uh),G$7(uh,ms)}function zh(){E$7(uh),E$7(vh),E$7(wh)}function Ah(vs){xh(wh.current);var ms=xh(uh.current),ws=lb(ms,vs.type);ms!==ws&&(G$7(vh,vs),G$7(uh,ws))}function Bh(vs){vh.current===vs&&(E$7(uh),E$7(vh))}var L$6=Uf$1(0);function Ch(vs){for(var ms=vs;ms!==null;){if(ms.tag===13){var ws=ms.memoizedState;if(ws!==null&&(ws=ws.dehydrated,ws===null||ws.data==="$?"||ws.data==="$!"))return ms}else if(ms.tag===19&&ms.memoizedProps.revealOrder!==void 0){if(ms.flags&128)return ms}else if(ms.child!==null){ms.child.return=ms,ms=ms.child;continue}if(ms===vs)break;for(;ms.sibling===null;){if(ms.return===null||ms.return===vs)return null;ms=ms.return}ms.sibling.return=ms.return,ms=ms.sibling}return null}var Dh=[];function Eh(){for(var vs=0;vs<Dh.length;vs++)Dh[vs]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua$1.ReactCurrentDispatcher,Gh=ua$1.ReactCurrentBatchConfig,Hh=0,M$8=null,N$9=null,O$9=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$8(){throw Error(p$6(321))}function Mh(vs,ms){if(ms===null)return!1;for(var ws=0;ws<ms.length&&ws<vs.length;ws++)if(!He$4(vs[ws],ms[ws]))return!1;return!0}function Nh(vs,ms,ws,Ss,Es,_s){if(Hh=_s,M$8=ms,ms.memoizedState=null,ms.updateQueue=null,ms.lanes=0,Fh.current=vs===null||vs.memoizedState===null?Oh:Ph,vs=ws(Ss,Es),Jh){_s=0;do{if(Jh=!1,Kh=0,25<=_s)throw Error(p$6(301));_s+=1,O$9=N$9=null,ms.updateQueue=null,Fh.current=Qh,vs=ws(Ss,Es)}while(Jh)}if(Fh.current=Rh,ms=N$9!==null&&N$9.next!==null,Hh=0,O$9=N$9=M$8=null,Ih=!1,ms)throw Error(p$6(300));return vs}function Sh(){var vs=Kh!==0;return Kh=0,vs}function Th(){var vs={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$9===null?M$8.memoizedState=O$9=vs:O$9=O$9.next=vs,O$9}function Uh(){if(N$9===null){var vs=M$8.alternate;vs=vs!==null?vs.memoizedState:null}else vs=N$9.next;var ms=O$9===null?M$8.memoizedState:O$9.next;if(ms!==null)O$9=ms,N$9=vs;else{if(vs===null)throw Error(p$6(310));N$9=vs,vs={memoizedState:N$9.memoizedState,baseState:N$9.baseState,baseQueue:N$9.baseQueue,queue:N$9.queue,next:null},O$9===null?M$8.memoizedState=O$9=vs:O$9=O$9.next=vs}return O$9}function Vh(vs,ms){return typeof ms=="function"?ms(vs):ms}function Wh(vs){var ms=Uh(),ws=ms.queue;if(ws===null)throw Error(p$6(311));ws.lastRenderedReducer=vs;var Ss=N$9,Es=Ss.baseQueue,_s=ws.pending;if(_s!==null){if(Es!==null){var Is=Es.next;Es.next=_s.next,_s.next=Is}Ss.baseQueue=Es=_s,ws.pending=null}if(Es!==null){_s=Es.next,Ss=Ss.baseState;var Ts=Is=null,Rs=null,Bs=_s;do{var Ns=Bs.lane;if((Hh&Ns)===Ns)Rs!==null&&(Rs=Rs.next={lane:0,action:Bs.action,hasEagerState:Bs.hasEagerState,eagerState:Bs.eagerState,next:null}),Ss=Bs.hasEagerState?Bs.eagerState:vs(Ss,Bs.action);else{var Ws={lane:Ns,action:Bs.action,hasEagerState:Bs.hasEagerState,eagerState:Bs.eagerState,next:null};Rs===null?(Ts=Rs=Ws,Is=Ss):Rs=Rs.next=Ws,M$8.lanes|=Ns,rh|=Ns}Bs=Bs.next}while(Bs!==null&&Bs!==_s);Rs===null?Is=Ss:Rs.next=Ts,He$4(Ss,ms.memoizedState)||(dh=!0),ms.memoizedState=Ss,ms.baseState=Is,ms.baseQueue=Rs,ws.lastRenderedState=Ss}if(vs=ws.interleaved,vs!==null){Es=vs;do _s=Es.lane,M$8.lanes|=_s,rh|=_s,Es=Es.next;while(Es!==vs)}else Es===null&&(ws.lanes=0);return[ms.memoizedState,ws.dispatch]}function Xh(vs){var ms=Uh(),ws=ms.queue;if(ws===null)throw Error(p$6(311));ws.lastRenderedReducer=vs;var Ss=ws.dispatch,Es=ws.pending,_s=ms.memoizedState;if(Es!==null){ws.pending=null;var Is=Es=Es.next;do _s=vs(_s,Is.action),Is=Is.next;while(Is!==Es);He$4(_s,ms.memoizedState)||(dh=!0),ms.memoizedState=_s,ms.baseQueue===null&&(ms.baseState=_s),ws.lastRenderedState=_s}return[_s,Ss]}function Yh(){}function Zh(vs,ms){var ws=M$8,Ss=Uh(),Es=ms(),_s=!He$4(Ss.memoizedState,Es);if(_s&&(Ss.memoizedState=Es,dh=!0),Ss=Ss.queue,$h(ai$2.bind(null,ws,Ss,vs),[vs]),Ss.getSnapshot!==ms||_s||O$9!==null&&O$9.memoizedState.tag&1){if(ws.flags|=2048,bi$2(9,ci$2.bind(null,ws,Ss,Es,ms),void 0,null),Q$6===null)throw Error(p$6(349));Hh&30||di$2(ws,ms,Es)}return Es}function di$2(vs,ms,ws){vs.flags|=16384,vs={getSnapshot:ms,value:ws},ms=M$8.updateQueue,ms===null?(ms={lastEffect:null,stores:null},M$8.updateQueue=ms,ms.stores=[vs]):(ws=ms.stores,ws===null?ms.stores=[vs]:ws.push(vs))}function ci$2(vs,ms,ws,Ss){ms.value=ws,ms.getSnapshot=Ss,ei$2(ms)&&fi$2(vs)}function ai$2(vs,ms,ws){return ws(function(){ei$2(ms)&&fi$2(vs)})}function ei$2(vs){var ms=vs.getSnapshot;vs=vs.value;try{var ws=ms();return!He$4(vs,ws)}catch{return!0}}function fi$2(vs){var ms=ih(vs,1);ms!==null&&gi$2(ms,vs,1,-1)}function hi$2(vs){var ms=Th();return typeof vs=="function"&&(vs=vs()),ms.memoizedState=ms.baseState=vs,vs={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:vs},ms.queue=vs,vs=vs.dispatch=ii$2.bind(null,M$8,vs),[ms.memoizedState,vs]}function bi$2(vs,ms,ws,Ss){return vs={tag:vs,create:ms,destroy:ws,deps:Ss,next:null},ms=M$8.updateQueue,ms===null?(ms={lastEffect:null,stores:null},M$8.updateQueue=ms,ms.lastEffect=vs.next=vs):(ws=ms.lastEffect,ws===null?ms.lastEffect=vs.next=vs:(Ss=ws.next,ws.next=vs,vs.next=Ss,ms.lastEffect=vs)),vs}function ji$2(){return Uh().memoizedState}function ki$2(vs,ms,ws,Ss){var Es=Th();M$8.flags|=vs,Es.memoizedState=bi$2(1|ms,ws,void 0,Ss===void 0?null:Ss)}function li$2(vs,ms,ws,Ss){var Es=Uh();Ss=Ss===void 0?null:Ss;var _s=void 0;if(N$9!==null){var Is=N$9.memoizedState;if(_s=Is.destroy,Ss!==null&&Mh(Ss,Is.deps)){Es.memoizedState=bi$2(ms,ws,_s,Ss);return}}M$8.flags|=vs,Es.memoizedState=bi$2(1|ms,ws,_s,Ss)}function mi$2(vs,ms){return ki$2(8390656,8,vs,ms)}function $h(vs,ms){return li$2(2048,8,vs,ms)}function ni$2(vs,ms){return li$2(4,2,vs,ms)}function oi$2(vs,ms){return li$2(4,4,vs,ms)}function pi$2(vs,ms){if(typeof ms=="function")return vs=vs(),ms(vs),function(){ms(null)};if(ms!=null)return vs=vs(),ms.current=vs,function(){ms.current=null}}function qi$2(vs,ms,ws){return ws=ws!=null?ws.concat([vs]):null,li$2(4,4,pi$2.bind(null,ms,vs),ws)}function ri$2(){}function si$2(vs,ms){var ws=Uh();ms=ms===void 0?null:ms;var Ss=ws.memoizedState;return Ss!==null&&ms!==null&&Mh(ms,Ss[1])?Ss[0]:(ws.memoizedState=[vs,ms],vs)}function ti$1(vs,ms){var ws=Uh();ms=ms===void 0?null:ms;var Ss=ws.memoizedState;return Ss!==null&&ms!==null&&Mh(ms,Ss[1])?Ss[0]:(vs=vs(),ws.memoizedState=[vs,ms],vs)}function ui$2(vs,ms,ws){return Hh&21?(He$4(ws,ms)||(ws=yc$1(),M$8.lanes|=ws,rh|=ws,vs.baseState=!0),ms):(vs.baseState&&(vs.baseState=!1,dh=!0),vs.memoizedState=ws)}function vi$2(vs,ms){var ws=C$8;C$8=ws!==0&&4>ws?ws:4,vs(!0);var Ss=Gh.transition;Gh.transition={};try{vs(!1),ms()}finally{C$8=ws,Gh.transition=Ss}}function wi$2(){return Uh().memoizedState}function xi$2(vs,ms,ws){var Ss=yi$2(vs);if(ws={lane:Ss,action:ws,hasEagerState:!1,eagerState:null,next:null},zi$2(vs))Ai$2(ms,ws);else if(ws=hh(vs,ms,ws,Ss),ws!==null){var Es=R$8();gi$2(ws,vs,Ss,Es),Bi$2(ws,ms,Ss)}}function ii$2(vs,ms,ws){var Ss=yi$2(vs),Es={lane:Ss,action:ws,hasEagerState:!1,eagerState:null,next:null};if(zi$2(vs))Ai$2(ms,Es);else{var _s=vs.alternate;if(vs.lanes===0&&(_s===null||_s.lanes===0)&&(_s=ms.lastRenderedReducer,_s!==null))try{var Is=ms.lastRenderedState,Ts=_s(Is,ws);if(Es.hasEagerState=!0,Es.eagerState=Ts,He$4(Ts,Is)){var Rs=ms.interleaved;Rs===null?(Es.next=Es,gh(ms)):(Es.next=Rs.next,Rs.next=Es),ms.interleaved=Es;return}}catch{}finally{}ws=hh(vs,ms,Es,Ss),ws!==null&&(Es=R$8(),gi$2(ws,vs,Ss,Es),Bi$2(ws,ms,Ss))}}function zi$2(vs){var ms=vs.alternate;return vs===M$8||ms!==null&&ms===M$8}function Ai$2(vs,ms){Jh=Ih=!0;var ws=vs.pending;ws===null?ms.next=ms:(ms.next=ws.next,ws.next=ms),vs.pending=ms}function Bi$2(vs,ms,ws){if(ws&4194240){var Ss=ms.lanes;Ss&=vs.pendingLanes,ws|=Ss,ms.lanes=ws,Cc$1(vs,ws)}}var Rh={readContext:eh,useCallback:P$8,useContext:P$8,useEffect:P$8,useImperativeHandle:P$8,useInsertionEffect:P$8,useLayoutEffect:P$8,useMemo:P$8,useReducer:P$8,useRef:P$8,useState:P$8,useDebugValue:P$8,useDeferredValue:P$8,useTransition:P$8,useMutableSource:P$8,useSyncExternalStore:P$8,useId:P$8,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(vs,ms){return Th().memoizedState=[vs,ms===void 0?null:ms],vs},useContext:eh,useEffect:mi$2,useImperativeHandle:function(vs,ms,ws){return ws=ws!=null?ws.concat([vs]):null,ki$2(4194308,4,pi$2.bind(null,ms,vs),ws)},useLayoutEffect:function(vs,ms){return ki$2(4194308,4,vs,ms)},useInsertionEffect:function(vs,ms){return ki$2(4,2,vs,ms)},useMemo:function(vs,ms){var ws=Th();return ms=ms===void 0?null:ms,vs=vs(),ws.memoizedState=[vs,ms],vs},useReducer:function(vs,ms,ws){var Ss=Th();return ms=ws!==void 0?ws(ms):ms,Ss.memoizedState=Ss.baseState=ms,vs={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:ms},Ss.queue=vs,vs=vs.dispatch=xi$2.bind(null,M$8,vs),[Ss.memoizedState,vs]},useRef:function(vs){var ms=Th();return vs={current:vs},ms.memoizedState=vs},useState:hi$2,useDebugValue:ri$2,useDeferredValue:function(vs){return Th().memoizedState=vs},useTransition:function(){var vs=hi$2(!1),ms=vs[0];return vs=vi$2.bind(null,vs[1]),Th().memoizedState=vs,[ms,vs]},useMutableSource:function(){},useSyncExternalStore:function(vs,ms,ws){var Ss=M$8,Es=Th();if(I$6){if(ws===void 0)throw Error(p$6(407));ws=ws()}else{if(ws=ms(),Q$6===null)throw Error(p$6(349));Hh&30||di$2(Ss,ms,ws)}Es.memoizedState=ws;var _s={value:ws,getSnapshot:ms};return Es.queue=_s,mi$2(ai$2.bind(null,Ss,_s,vs),[vs]),Ss.flags|=2048,bi$2(9,ci$2.bind(null,Ss,_s,ws,ms),void 0,null),ws},useId:function(){var vs=Th(),ms=Q$6.identifierPrefix;if(I$6){var ws=sg,Ss=rg;ws=(Ss&~(1<<32-oc$1(Ss)-1)).toString(32)+ws,ms=":"+ms+"R"+ws,ws=Kh++,0<ws&&(ms+="H"+ws.toString(32)),ms+=":"}else ws=Lh++,ms=":"+ms+"r"+ws.toString(32)+":";return vs.memoizedState=ms},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si$2,useContext:eh,useEffect:$h,useImperativeHandle:qi$2,useInsertionEffect:ni$2,useLayoutEffect:oi$2,useMemo:ti$1,useReducer:Wh,useRef:ji$2,useState:function(){return Wh(Vh)},useDebugValue:ri$2,useDeferredValue:function(vs){var ms=Uh();return ui$2(ms,N$9.memoizedState,vs)},useTransition:function(){var vs=Wh(Vh)[0],ms=Uh().memoizedState;return[vs,ms]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi$2,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si$2,useContext:eh,useEffect:$h,useImperativeHandle:qi$2,useInsertionEffect:ni$2,useLayoutEffect:oi$2,useMemo:ti$1,useReducer:Xh,useRef:ji$2,useState:function(){return Xh(Vh)},useDebugValue:ri$2,useDeferredValue:function(vs){var ms=Uh();return N$9===null?ms.memoizedState=vs:ui$2(ms,N$9.memoizedState,vs)},useTransition:function(){var vs=Xh(Vh)[0],ms=Uh().memoizedState;return[vs,ms]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi$2,unstable_isNewReconciler:!1};function Ci$2(vs,ms){if(vs&&vs.defaultProps){ms=A$7({},ms),vs=vs.defaultProps;for(var ws in vs)ms[ws]===void 0&&(ms[ws]=vs[ws]);return ms}return ms}function Di$2(vs,ms,ws,Ss){ms=vs.memoizedState,ws=ws(Ss,ms),ws=ws==null?ms:A$7({},ms,ws),vs.memoizedState=ws,vs.lanes===0&&(vs.updateQueue.baseState=ws)}var Ei$2={isMounted:function(vs){return(vs=vs._reactInternals)?Vb(vs)===vs:!1},enqueueSetState:function(vs,ms,ws){vs=vs._reactInternals;var Ss=R$8(),Es=yi$2(vs),_s=mh(Ss,Es);_s.payload=ms,ws!=null&&(_s.callback=ws),ms=nh(vs,_s,Es),ms!==null&&(gi$2(ms,vs,Es,Ss),oh(ms,vs,Es))},enqueueReplaceState:function(vs,ms,ws){vs=vs._reactInternals;var Ss=R$8(),Es=yi$2(vs),_s=mh(Ss,Es);_s.tag=1,_s.payload=ms,ws!=null&&(_s.callback=ws),ms=nh(vs,_s,Es),ms!==null&&(gi$2(ms,vs,Es,Ss),oh(ms,vs,Es))},enqueueForceUpdate:function(vs,ms){vs=vs._reactInternals;var ws=R$8(),Ss=yi$2(vs),Es=mh(ws,Ss);Es.tag=2,ms!=null&&(Es.callback=ms),ms=nh(vs,Es,Ss),ms!==null&&(gi$2(ms,vs,Ss,ws),oh(ms,vs,Ss))}};function Fi$2(vs,ms,ws,Ss,Es,_s,Is){return vs=vs.stateNode,typeof vs.shouldComponentUpdate=="function"?vs.shouldComponentUpdate(Ss,_s,Is):ms.prototype&&ms.prototype.isPureReactComponent?!Ie$3(ws,Ss)||!Ie$3(Es,_s):!0}function Gi$2(vs,ms,ws){var Ss=!1,Es=Vf$1,_s=ms.contextType;return typeof _s=="object"&&_s!==null?_s=eh(_s):(Es=Zf$1(ms)?Xf$1:H$5.current,Ss=ms.contextTypes,_s=(Ss=Ss!=null)?Yf$1(vs,Es):Vf$1),ms=new ms(ws,_s),vs.memoizedState=ms.state!==null&&ms.state!==void 0?ms.state:null,ms.updater=Ei$2,vs.stateNode=ms,ms._reactInternals=vs,Ss&&(vs=vs.stateNode,vs.__reactInternalMemoizedUnmaskedChildContext=Es,vs.__reactInternalMemoizedMaskedChildContext=_s),ms}function Hi$2(vs,ms,ws,Ss){vs=ms.state,typeof ms.componentWillReceiveProps=="function"&&ms.componentWillReceiveProps(ws,Ss),typeof ms.UNSAFE_componentWillReceiveProps=="function"&&ms.UNSAFE_componentWillReceiveProps(ws,Ss),ms.state!==vs&&Ei$2.enqueueReplaceState(ms,ms.state,null)}function Ii$2(vs,ms,ws,Ss){var Es=vs.stateNode;Es.props=ws,Es.state=vs.memoizedState,Es.refs={},kh(vs);var _s=ms.contextType;typeof _s=="object"&&_s!==null?Es.context=eh(_s):(_s=Zf$1(ms)?Xf$1:H$5.current,Es.context=Yf$1(vs,_s)),Es.state=vs.memoizedState,_s=ms.getDerivedStateFromProps,typeof _s=="function"&&(Di$2(vs,ms,_s,ws),Es.state=vs.memoizedState),typeof ms.getDerivedStateFromProps=="function"||typeof Es.getSnapshotBeforeUpdate=="function"||typeof Es.UNSAFE_componentWillMount!="function"&&typeof Es.componentWillMount!="function"||(ms=Es.state,typeof Es.componentWillMount=="function"&&Es.componentWillMount(),typeof Es.UNSAFE_componentWillMount=="function"&&Es.UNSAFE_componentWillMount(),ms!==Es.state&&Ei$2.enqueueReplaceState(Es,Es.state,null),qh(vs,ws,Es,Ss),Es.state=vs.memoizedState),typeof Es.componentDidMount=="function"&&(vs.flags|=4194308)}function Ji$1(vs,ms){try{var ws="",Ss=ms;do ws+=Pa$1(Ss),Ss=Ss.return;while(Ss);var Es=ws}catch(_s){Es=`
Error generating stack: `+_s.message+`
`+_s.stack}return{value:vs,source:ms,stack:Es,digest:null}}function Ki$2(vs,ms,ws){return{value:vs,source:null,stack:ws??null,digest:ms??null}}function Li$2(vs,ms){try{console.error(ms.value)}catch(ws){setTimeout(function(){throw ws})}}var Mi$2=typeof WeakMap=="function"?WeakMap:Map;function Ni$2(vs,ms,ws){ws=mh(-1,ws),ws.tag=3,ws.payload={element:null};var Ss=ms.value;return ws.callback=function(){Oi$2||(Oi$2=!0,Pi$2=Ss),Li$2(vs,ms)},ws}function Qi$1(vs,ms,ws){ws=mh(-1,ws),ws.tag=3;var Ss=vs.type.getDerivedStateFromError;if(typeof Ss=="function"){var Es=ms.value;ws.payload=function(){return Ss(Es)},ws.callback=function(){Li$2(vs,ms)}}var _s=vs.stateNode;return _s!==null&&typeof _s.componentDidCatch=="function"&&(ws.callback=function(){Li$2(vs,ms),typeof Ss!="function"&&(Ri$2===null?Ri$2=new Set([this]):Ri$2.add(this));var Is=ms.stack;this.componentDidCatch(ms.value,{componentStack:Is!==null?Is:""})}),ws}function Si$2(vs,ms,ws){var Ss=vs.pingCache;if(Ss===null){Ss=vs.pingCache=new Mi$2;var Es=new Set;Ss.set(ms,Es)}else Es=Ss.get(ms),Es===void 0&&(Es=new Set,Ss.set(ms,Es));Es.has(ws)||(Es.add(ws),vs=Ti$2.bind(null,vs,ms,ws),ms.then(vs,vs))}function Ui$2(vs){do{var ms;if((ms=vs.tag===13)&&(ms=vs.memoizedState,ms=ms!==null?ms.dehydrated!==null:!0),ms)return vs;vs=vs.return}while(vs!==null);return null}function Vi$2(vs,ms,ws,Ss,Es){return vs.mode&1?(vs.flags|=65536,vs.lanes=Es,vs):(vs===ms?vs.flags|=65536:(vs.flags|=128,ws.flags|=131072,ws.flags&=-52805,ws.tag===1&&(ws.alternate===null?ws.tag=17:(ms=mh(-1,1),ms.tag=2,nh(ws,ms,1))),ws.lanes|=1),vs)}var Wi$2=ua$1.ReactCurrentOwner,dh=!1;function Xi$1(vs,ms,ws,Ss){ms.child=vs===null?Vg(ms,null,ws,Ss):Ug(ms,vs.child,ws,Ss)}function Yi$2(vs,ms,ws,Ss,Es){ws=ws.render;var _s=ms.ref;return ch(ms,Es),Ss=Nh(vs,ms,ws,Ss,_s,Es),ws=Sh(),vs!==null&&!dh?(ms.updateQueue=vs.updateQueue,ms.flags&=-2053,vs.lanes&=~Es,Zi$1(vs,ms,Es)):(I$6&&ws&&vg(ms),ms.flags|=1,Xi$1(vs,ms,Ss,Es),ms.child)}function $i$2(vs,ms,ws,Ss,Es){if(vs===null){var _s=ws.type;return typeof _s=="function"&&!aj(_s)&&_s.defaultProps===void 0&&ws.compare===null&&ws.defaultProps===void 0?(ms.tag=15,ms.type=_s,bj(vs,ms,_s,Ss,Es)):(vs=Rg(ws.type,null,Ss,ms,ms.mode,Es),vs.ref=ms.ref,vs.return=ms,ms.child=vs)}if(_s=vs.child,!(vs.lanes&Es)){var Is=_s.memoizedProps;if(ws=ws.compare,ws=ws!==null?ws:Ie$3,ws(Is,Ss)&&vs.ref===ms.ref)return Zi$1(vs,ms,Es)}return ms.flags|=1,vs=Pg(_s,Ss),vs.ref=ms.ref,vs.return=ms,ms.child=vs}function bj(vs,ms,ws,Ss,Es){if(vs!==null){var _s=vs.memoizedProps;if(Ie$3(_s,Ss)&&vs.ref===ms.ref)if(dh=!1,ms.pendingProps=Ss=_s,(vs.lanes&Es)!==0)vs.flags&131072&&(dh=!0);else return ms.lanes=vs.lanes,Zi$1(vs,ms,Es)}return cj(vs,ms,ws,Ss,Es)}function dj(vs,ms,ws){var Ss=ms.pendingProps,Es=Ss.children,_s=vs!==null?vs.memoizedState:null;if(Ss.mode==="hidden")if(!(ms.mode&1))ms.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$7(ej,fj),fj|=ws;else{if(!(ws&1073741824))return vs=_s!==null?_s.baseLanes|ws:ws,ms.lanes=ms.childLanes=1073741824,ms.memoizedState={baseLanes:vs,cachePool:null,transitions:null},ms.updateQueue=null,G$7(ej,fj),fj|=vs,null;ms.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ss=_s!==null?_s.baseLanes:ws,G$7(ej,fj),fj|=Ss}else _s!==null?(Ss=_s.baseLanes|ws,ms.memoizedState=null):Ss=ws,G$7(ej,fj),fj|=Ss;return Xi$1(vs,ms,Es,ws),ms.child}function gj(vs,ms){var ws=ms.ref;(vs===null&&ws!==null||vs!==null&&vs.ref!==ws)&&(ms.flags|=512,ms.flags|=2097152)}function cj(vs,ms,ws,Ss,Es){var _s=Zf$1(ws)?Xf$1:H$5.current;return _s=Yf$1(ms,_s),ch(ms,Es),ws=Nh(vs,ms,ws,Ss,_s,Es),Ss=Sh(),vs!==null&&!dh?(ms.updateQueue=vs.updateQueue,ms.flags&=-2053,vs.lanes&=~Es,Zi$1(vs,ms,Es)):(I$6&&Ss&&vg(ms),ms.flags|=1,Xi$1(vs,ms,ws,Es),ms.child)}function hj(vs,ms,ws,Ss,Es){if(Zf$1(ws)){var _s=!0;cg(ms)}else _s=!1;if(ch(ms,Es),ms.stateNode===null)ij(vs,ms),Gi$2(ms,ws,Ss),Ii$2(ms,ws,Ss,Es),Ss=!0;else if(vs===null){var Is=ms.stateNode,Ts=ms.memoizedProps;Is.props=Ts;var Rs=Is.context,Bs=ws.contextType;typeof Bs=="object"&&Bs!==null?Bs=eh(Bs):(Bs=Zf$1(ws)?Xf$1:H$5.current,Bs=Yf$1(ms,Bs));var Ns=ws.getDerivedStateFromProps,Ws=typeof Ns=="function"||typeof Is.getSnapshotBeforeUpdate=="function";Ws||typeof Is.UNSAFE_componentWillReceiveProps!="function"&&typeof Is.componentWillReceiveProps!="function"||(Ts!==Ss||Rs!==Bs)&&Hi$2(ms,Is,Ss,Bs),jh=!1;var Js=ms.memoizedState;Is.state=Js,qh(ms,Ss,Is,Es),Rs=ms.memoizedState,Ts!==Ss||Js!==Rs||Wf$1.current||jh?(typeof Ns=="function"&&(Di$2(ms,ws,Ns,Ss),Rs=ms.memoizedState),(Ts=jh||Fi$2(ms,ws,Ts,Ss,Js,Rs,Bs))?(Ws||typeof Is.UNSAFE_componentWillMount!="function"&&typeof Is.componentWillMount!="function"||(typeof Is.componentWillMount=="function"&&Is.componentWillMount(),typeof Is.UNSAFE_componentWillMount=="function"&&Is.UNSAFE_componentWillMount()),typeof Is.componentDidMount=="function"&&(ms.flags|=4194308)):(typeof Is.componentDidMount=="function"&&(ms.flags|=4194308),ms.memoizedProps=Ss,ms.memoizedState=Rs),Is.props=Ss,Is.state=Rs,Is.context=Bs,Ss=Ts):(typeof Is.componentDidMount=="function"&&(ms.flags|=4194308),Ss=!1)}else{Is=ms.stateNode,lh(vs,ms),Ts=ms.memoizedProps,Bs=ms.type===ms.elementType?Ts:Ci$2(ms.type,Ts),Is.props=Bs,Ws=ms.pendingProps,Js=Is.context,Rs=ws.contextType,typeof Rs=="object"&&Rs!==null?Rs=eh(Rs):(Rs=Zf$1(ws)?Xf$1:H$5.current,Rs=Yf$1(ms,Rs));var $l=ws.getDerivedStateFromProps;(Ns=typeof $l=="function"||typeof Is.getSnapshotBeforeUpdate=="function")||typeof Is.UNSAFE_componentWillReceiveProps!="function"&&typeof Is.componentWillReceiveProps!="function"||(Ts!==Ws||Js!==Rs)&&Hi$2(ms,Is,Ss,Rs),jh=!1,Js=ms.memoizedState,Is.state=Js,qh(ms,Ss,Is,Es);var wl=ms.memoizedState;Ts!==Ws||Js!==wl||Wf$1.current||jh?(typeof $l=="function"&&(Di$2(ms,ws,$l,Ss),wl=ms.memoizedState),(Bs=jh||Fi$2(ms,ws,Bs,Ss,Js,wl,Rs)||!1)?(Ns||typeof Is.UNSAFE_componentWillUpdate!="function"&&typeof Is.componentWillUpdate!="function"||(typeof Is.componentWillUpdate=="function"&&Is.componentWillUpdate(Ss,wl,Rs),typeof Is.UNSAFE_componentWillUpdate=="function"&&Is.UNSAFE_componentWillUpdate(Ss,wl,Rs)),typeof Is.componentDidUpdate=="function"&&(ms.flags|=4),typeof Is.getSnapshotBeforeUpdate=="function"&&(ms.flags|=1024)):(typeof Is.componentDidUpdate!="function"||Ts===vs.memoizedProps&&Js===vs.memoizedState||(ms.flags|=4),typeof Is.getSnapshotBeforeUpdate!="function"||Ts===vs.memoizedProps&&Js===vs.memoizedState||(ms.flags|=1024),ms.memoizedProps=Ss,ms.memoizedState=wl),Is.props=Ss,Is.state=wl,Is.context=Rs,Ss=Bs):(typeof Is.componentDidUpdate!="function"||Ts===vs.memoizedProps&&Js===vs.memoizedState||(ms.flags|=4),typeof Is.getSnapshotBeforeUpdate!="function"||Ts===vs.memoizedProps&&Js===vs.memoizedState||(ms.flags|=1024),Ss=!1)}return jj(vs,ms,ws,Ss,_s,Es)}function jj(vs,ms,ws,Ss,Es,_s){gj(vs,ms);var Is=(ms.flags&128)!==0;if(!Ss&&!Is)return Es&&dg(ms,ws,!1),Zi$1(vs,ms,_s);Ss=ms.stateNode,Wi$2.current=ms;var Ts=Is&&typeof ws.getDerivedStateFromError!="function"?null:Ss.render();return ms.flags|=1,vs!==null&&Is?(ms.child=Ug(ms,vs.child,null,_s),ms.child=Ug(ms,null,Ts,_s)):Xi$1(vs,ms,Ts,_s),ms.memoizedState=Ss.state,Es&&dg(ms,ws,!0),ms.child}function kj(vs){var ms=vs.stateNode;ms.pendingContext?ag(vs,ms.pendingContext,ms.pendingContext!==ms.context):ms.context&&ag(vs,ms.context,!1),yh(vs,ms.containerInfo)}function lj(vs,ms,ws,Ss,Es){return Ig(),Jg(Es),ms.flags|=256,Xi$1(vs,ms,ws,Ss),ms.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(vs){return{baseLanes:vs,cachePool:null,transitions:null}}function oj(vs,ms,ws){var Ss=ms.pendingProps,Es=L$6.current,_s=!1,Is=(ms.flags&128)!==0,Ts;if((Ts=Is)||(Ts=vs!==null&&vs.memoizedState===null?!1:(Es&2)!==0),Ts?(_s=!0,ms.flags&=-129):(vs===null||vs.memoizedState!==null)&&(Es|=1),G$7(L$6,Es&1),vs===null)return Eg(ms),vs=ms.memoizedState,vs!==null&&(vs=vs.dehydrated,vs!==null)?(ms.mode&1?vs.data==="$!"?ms.lanes=8:ms.lanes=1073741824:ms.lanes=1,null):(Is=Ss.children,vs=Ss.fallback,_s?(Ss=ms.mode,_s=ms.child,Is={mode:"hidden",children:Is},!(Ss&1)&&_s!==null?(_s.childLanes=0,_s.pendingProps=Is):_s=pj(Is,Ss,0,null),vs=Tg(vs,Ss,ws,null),_s.return=ms,vs.return=ms,_s.sibling=vs,ms.child=_s,ms.child.memoizedState=nj(ws),ms.memoizedState=mj,vs):qj(ms,Is));if(Es=vs.memoizedState,Es!==null&&(Ts=Es.dehydrated,Ts!==null))return rj(vs,ms,Is,Ss,Ts,Es,ws);if(_s){_s=Ss.fallback,Is=ms.mode,Es=vs.child,Ts=Es.sibling;var Rs={mode:"hidden",children:Ss.children};return!(Is&1)&&ms.child!==Es?(Ss=ms.child,Ss.childLanes=0,Ss.pendingProps=Rs,ms.deletions=null):(Ss=Pg(Es,Rs),Ss.subtreeFlags=Es.subtreeFlags&14680064),Ts!==null?_s=Pg(Ts,_s):(_s=Tg(_s,Is,ws,null),_s.flags|=2),_s.return=ms,Ss.return=ms,Ss.sibling=_s,ms.child=Ss,Ss=_s,_s=ms.child,Is=vs.child.memoizedState,Is=Is===null?nj(ws):{baseLanes:Is.baseLanes|ws,cachePool:null,transitions:Is.transitions},_s.memoizedState=Is,_s.childLanes=vs.childLanes&~ws,ms.memoizedState=mj,Ss}return _s=vs.child,vs=_s.sibling,Ss=Pg(_s,{mode:"visible",children:Ss.children}),!(ms.mode&1)&&(Ss.lanes=ws),Ss.return=ms,Ss.sibling=null,vs!==null&&(ws=ms.deletions,ws===null?(ms.deletions=[vs],ms.flags|=16):ws.push(vs)),ms.child=Ss,ms.memoizedState=null,Ss}function qj(vs,ms){return ms=pj({mode:"visible",children:ms},vs.mode,0,null),ms.return=vs,vs.child=ms}function sj(vs,ms,ws,Ss){return Ss!==null&&Jg(Ss),Ug(ms,vs.child,null,ws),vs=qj(ms,ms.pendingProps.children),vs.flags|=2,ms.memoizedState=null,vs}function rj(vs,ms,ws,Ss,Es,_s,Is){if(ws)return ms.flags&256?(ms.flags&=-257,Ss=Ki$2(Error(p$6(422))),sj(vs,ms,Is,Ss)):ms.memoizedState!==null?(ms.child=vs.child,ms.flags|=128,null):(_s=Ss.fallback,Es=ms.mode,Ss=pj({mode:"visible",children:Ss.children},Es,0,null),_s=Tg(_s,Es,Is,null),_s.flags|=2,Ss.return=ms,_s.return=ms,Ss.sibling=_s,ms.child=Ss,ms.mode&1&&Ug(ms,vs.child,null,Is),ms.child.memoizedState=nj(Is),ms.memoizedState=mj,_s);if(!(ms.mode&1))return sj(vs,ms,Is,null);if(Es.data==="$!"){if(Ss=Es.nextSibling&&Es.nextSibling.dataset,Ss)var Ts=Ss.dgst;return Ss=Ts,_s=Error(p$6(419)),Ss=Ki$2(_s,Ss,void 0),sj(vs,ms,Is,Ss)}if(Ts=(Is&vs.childLanes)!==0,dh||Ts){if(Ss=Q$6,Ss!==null){switch(Is&-Is){case 4:Es=2;break;case 16:Es=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Es=32;break;case 536870912:Es=268435456;break;default:Es=0}Es=Es&(Ss.suspendedLanes|Is)?0:Es,Es!==0&&Es!==_s.retryLane&&(_s.retryLane=Es,ih(vs,Es),gi$2(Ss,vs,Es,-1))}return tj(),Ss=Ki$2(Error(p$6(421))),sj(vs,ms,Is,Ss)}return Es.data==="$?"?(ms.flags|=128,ms.child=vs.child,ms=uj.bind(null,vs),Es._reactRetry=ms,null):(vs=_s.treeContext,yg=Lf$1(Es.nextSibling),xg=ms,I$6=!0,zg=null,vs!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=vs.id,sg=vs.overflow,qg=ms),ms=qj(ms,Ss.children),ms.flags|=4096,ms)}function vj(vs,ms,ws){vs.lanes|=ms;var Ss=vs.alternate;Ss!==null&&(Ss.lanes|=ms),bh(vs.return,ms,ws)}function wj(vs,ms,ws,Ss,Es){var _s=vs.memoizedState;_s===null?vs.memoizedState={isBackwards:ms,rendering:null,renderingStartTime:0,last:Ss,tail:ws,tailMode:Es}:(_s.isBackwards=ms,_s.rendering=null,_s.renderingStartTime=0,_s.last=Ss,_s.tail=ws,_s.tailMode=Es)}function xj(vs,ms,ws){var Ss=ms.pendingProps,Es=Ss.revealOrder,_s=Ss.tail;if(Xi$1(vs,ms,Ss.children,ws),Ss=L$6.current,Ss&2)Ss=Ss&1|2,ms.flags|=128;else{if(vs!==null&&vs.flags&128)e:for(vs=ms.child;vs!==null;){if(vs.tag===13)vs.memoizedState!==null&&vj(vs,ws,ms);else if(vs.tag===19)vj(vs,ws,ms);else if(vs.child!==null){vs.child.return=vs,vs=vs.child;continue}if(vs===ms)break e;for(;vs.sibling===null;){if(vs.return===null||vs.return===ms)break e;vs=vs.return}vs.sibling.return=vs.return,vs=vs.sibling}Ss&=1}if(G$7(L$6,Ss),!(ms.mode&1))ms.memoizedState=null;else switch(Es){case"forwards":for(ws=ms.child,Es=null;ws!==null;)vs=ws.alternate,vs!==null&&Ch(vs)===null&&(Es=ws),ws=ws.sibling;ws=Es,ws===null?(Es=ms.child,ms.child=null):(Es=ws.sibling,ws.sibling=null),wj(ms,!1,Es,ws,_s);break;case"backwards":for(ws=null,Es=ms.child,ms.child=null;Es!==null;){if(vs=Es.alternate,vs!==null&&Ch(vs)===null){ms.child=Es;break}vs=Es.sibling,Es.sibling=ws,ws=Es,Es=vs}wj(ms,!0,ws,null,_s);break;case"together":wj(ms,!1,null,null,void 0);break;default:ms.memoizedState=null}return ms.child}function ij(vs,ms){!(ms.mode&1)&&vs!==null&&(vs.alternate=null,ms.alternate=null,ms.flags|=2)}function Zi$1(vs,ms,ws){if(vs!==null&&(ms.dependencies=vs.dependencies),rh|=ms.lanes,!(ws&ms.childLanes))return null;if(vs!==null&&ms.child!==vs.child)throw Error(p$6(153));if(ms.child!==null){for(vs=ms.child,ws=Pg(vs,vs.pendingProps),ms.child=ws,ws.return=ms;vs.sibling!==null;)vs=vs.sibling,ws=ws.sibling=Pg(vs,vs.pendingProps),ws.return=ms;ws.sibling=null}return ms.child}function yj(vs,ms,ws){switch(ms.tag){case 3:kj(ms),Ig();break;case 5:Ah(ms);break;case 1:Zf$1(ms.type)&&cg(ms);break;case 4:yh(ms,ms.stateNode.containerInfo);break;case 10:var Ss=ms.type._context,Es=ms.memoizedProps.value;G$7(Wg,Ss._currentValue),Ss._currentValue=Es;break;case 13:if(Ss=ms.memoizedState,Ss!==null)return Ss.dehydrated!==null?(G$7(L$6,L$6.current&1),ms.flags|=128,null):ws&ms.child.childLanes?oj(vs,ms,ws):(G$7(L$6,L$6.current&1),vs=Zi$1(vs,ms,ws),vs!==null?vs.sibling:null);G$7(L$6,L$6.current&1);break;case 19:if(Ss=(ws&ms.childLanes)!==0,vs.flags&128){if(Ss)return xj(vs,ms,ws);ms.flags|=128}if(Es=ms.memoizedState,Es!==null&&(Es.rendering=null,Es.tail=null,Es.lastEffect=null),G$7(L$6,L$6.current),Ss)break;return null;case 22:case 23:return ms.lanes=0,dj(vs,ms,ws)}return Zi$1(vs,ms,ws)}var zj,Aj,Bj,Cj;zj=function(vs,ms){for(var ws=ms.child;ws!==null;){if(ws.tag===5||ws.tag===6)vs.appendChild(ws.stateNode);else if(ws.tag!==4&&ws.child!==null){ws.child.return=ws,ws=ws.child;continue}if(ws===ms)break;for(;ws.sibling===null;){if(ws.return===null||ws.return===ms)return;ws=ws.return}ws.sibling.return=ws.return,ws=ws.sibling}},Aj=function(){},Bj=function(vs,ms,ws,Ss){var Es=vs.memoizedProps;if(Es!==Ss){vs=ms.stateNode,xh(uh.current);var _s=null;switch(ws){case"input":Es=Ya(vs,Es),Ss=Ya(vs,Ss),_s=[];break;case"select":Es=A$7({},Es,{value:void 0}),Ss=A$7({},Ss,{value:void 0}),_s=[];break;case"textarea":Es=gb(vs,Es),Ss=gb(vs,Ss),_s=[];break;default:typeof Es.onClick!="function"&&typeof Ss.onClick=="function"&&(vs.onclick=Bf$1)}ub(ws,Ss);var Is;ws=null;for(Bs in Es)if(!Ss.hasOwnProperty(Bs)&&Es.hasOwnProperty(Bs)&&Es[Bs]!=null)if(Bs==="style"){var Ts=Es[Bs];for(Is in Ts)Ts.hasOwnProperty(Is)&&(ws||(ws={}),ws[Is]="")}else Bs!=="dangerouslySetInnerHTML"&&Bs!=="children"&&Bs!=="suppressContentEditableWarning"&&Bs!=="suppressHydrationWarning"&&Bs!=="autoFocus"&&(ea$2.hasOwnProperty(Bs)?_s||(_s=[]):(_s=_s||[]).push(Bs,null));for(Bs in Ss){var Rs=Ss[Bs];if(Ts=Es!=null?Es[Bs]:void 0,Ss.hasOwnProperty(Bs)&&Rs!==Ts&&(Rs!=null||Ts!=null))if(Bs==="style")if(Ts){for(Is in Ts)!Ts.hasOwnProperty(Is)||Rs&&Rs.hasOwnProperty(Is)||(ws||(ws={}),ws[Is]="");for(Is in Rs)Rs.hasOwnProperty(Is)&&Ts[Is]!==Rs[Is]&&(ws||(ws={}),ws[Is]=Rs[Is])}else ws||(_s||(_s=[]),_s.push(Bs,ws)),ws=Rs;else Bs==="dangerouslySetInnerHTML"?(Rs=Rs?Rs.__html:void 0,Ts=Ts?Ts.__html:void 0,Rs!=null&&Ts!==Rs&&(_s=_s||[]).push(Bs,Rs)):Bs==="children"?typeof Rs!="string"&&typeof Rs!="number"||(_s=_s||[]).push(Bs,""+Rs):Bs!=="suppressContentEditableWarning"&&Bs!=="suppressHydrationWarning"&&(ea$2.hasOwnProperty(Bs)?(Rs!=null&&Bs==="onScroll"&&D$6("scroll",vs),_s||Ts===Rs||(_s=[])):(_s=_s||[]).push(Bs,Rs))}ws&&(_s=_s||[]).push("style",ws);var Bs=_s;(ms.updateQueue=Bs)&&(ms.flags|=4)}},Cj=function(vs,ms,ws,Ss){ws!==Ss&&(ms.flags|=4)};function Dj(vs,ms){if(!I$6)switch(vs.tailMode){case"hidden":ms=vs.tail;for(var ws=null;ms!==null;)ms.alternate!==null&&(ws=ms),ms=ms.sibling;ws===null?vs.tail=null:ws.sibling=null;break;case"collapsed":ws=vs.tail;for(var Ss=null;ws!==null;)ws.alternate!==null&&(Ss=ws),ws=ws.sibling;Ss===null?ms||vs.tail===null?vs.tail=null:vs.tail.sibling=null:Ss.sibling=null}}function S$7(vs){var ms=vs.alternate!==null&&vs.alternate.child===vs.child,ws=0,Ss=0;if(ms)for(var Es=vs.child;Es!==null;)ws|=Es.lanes|Es.childLanes,Ss|=Es.subtreeFlags&14680064,Ss|=Es.flags&14680064,Es.return=vs,Es=Es.sibling;else for(Es=vs.child;Es!==null;)ws|=Es.lanes|Es.childLanes,Ss|=Es.subtreeFlags,Ss|=Es.flags,Es.return=vs,Es=Es.sibling;return vs.subtreeFlags|=Ss,vs.childLanes=ws,ms}function Ej(vs,ms,ws){var Ss=ms.pendingProps;switch(wg(ms),ms.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$7(ms),null;case 1:return Zf$1(ms.type)&&$f$1(),S$7(ms),null;case 3:return Ss=ms.stateNode,zh(),E$7(Wf$1),E$7(H$5),Eh(),Ss.pendingContext&&(Ss.context=Ss.pendingContext,Ss.pendingContext=null),(vs===null||vs.child===null)&&(Gg(ms)?ms.flags|=4:vs===null||vs.memoizedState.isDehydrated&&!(ms.flags&256)||(ms.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(vs,ms),S$7(ms),null;case 5:Bh(ms);var Es=xh(wh.current);if(ws=ms.type,vs!==null&&ms.stateNode!=null)Bj(vs,ms,ws,Ss,Es),vs.ref!==ms.ref&&(ms.flags|=512,ms.flags|=2097152);else{if(!Ss){if(ms.stateNode===null)throw Error(p$6(166));return S$7(ms),null}if(vs=xh(uh.current),Gg(ms)){Ss=ms.stateNode,ws=ms.type;var _s=ms.memoizedProps;switch(Ss[Of$1]=ms,Ss[Pf$1]=_s,vs=(ms.mode&1)!==0,ws){case"dialog":D$6("cancel",Ss),D$6("close",Ss);break;case"iframe":case"object":case"embed":D$6("load",Ss);break;case"video":case"audio":for(Es=0;Es<lf$1.length;Es++)D$6(lf$1[Es],Ss);break;case"source":D$6("error",Ss);break;case"img":case"image":case"link":D$6("error",Ss),D$6("load",Ss);break;case"details":D$6("toggle",Ss);break;case"input":Za(Ss,_s),D$6("invalid",Ss);break;case"select":Ss._wrapperState={wasMultiple:!!_s.multiple},D$6("invalid",Ss);break;case"textarea":hb(Ss,_s),D$6("invalid",Ss)}ub(ws,_s),Es=null;for(var Is in _s)if(_s.hasOwnProperty(Is)){var Ts=_s[Is];Is==="children"?typeof Ts=="string"?Ss.textContent!==Ts&&(_s.suppressHydrationWarning!==!0&&Af$1(Ss.textContent,Ts,vs),Es=["children",Ts]):typeof Ts=="number"&&Ss.textContent!==""+Ts&&(_s.suppressHydrationWarning!==!0&&Af$1(Ss.textContent,Ts,vs),Es=["children",""+Ts]):ea$2.hasOwnProperty(Is)&&Ts!=null&&Is==="onScroll"&&D$6("scroll",Ss)}switch(ws){case"input":Va$1(Ss),db(Ss,_s,!0);break;case"textarea":Va$1(Ss),jb(Ss);break;case"select":case"option":break;default:typeof _s.onClick=="function"&&(Ss.onclick=Bf$1)}Ss=Es,ms.updateQueue=Ss,Ss!==null&&(ms.flags|=4)}else{Is=Es.nodeType===9?Es:Es.ownerDocument,vs==="http://www.w3.org/1999/xhtml"&&(vs=kb(ws)),vs==="http://www.w3.org/1999/xhtml"?ws==="script"?(vs=Is.createElement("div"),vs.innerHTML="<script><\/script>",vs=vs.removeChild(vs.firstChild)):typeof Ss.is=="string"?vs=Is.createElement(ws,{is:Ss.is}):(vs=Is.createElement(ws),ws==="select"&&(Is=vs,Ss.multiple?Is.multiple=!0:Ss.size&&(Is.size=Ss.size))):vs=Is.createElementNS(vs,ws),vs[Of$1]=ms,vs[Pf$1]=Ss,zj(vs,ms,!1,!1),ms.stateNode=vs;e:{switch(Is=vb(ws,Ss),ws){case"dialog":D$6("cancel",vs),D$6("close",vs),Es=Ss;break;case"iframe":case"object":case"embed":D$6("load",vs),Es=Ss;break;case"video":case"audio":for(Es=0;Es<lf$1.length;Es++)D$6(lf$1[Es],vs);Es=Ss;break;case"source":D$6("error",vs),Es=Ss;break;case"img":case"image":case"link":D$6("error",vs),D$6("load",vs),Es=Ss;break;case"details":D$6("toggle",vs),Es=Ss;break;case"input":Za(vs,Ss),Es=Ya(vs,Ss),D$6("invalid",vs);break;case"option":Es=Ss;break;case"select":vs._wrapperState={wasMultiple:!!Ss.multiple},Es=A$7({},Ss,{value:void 0}),D$6("invalid",vs);break;case"textarea":hb(vs,Ss),Es=gb(vs,Ss),D$6("invalid",vs);break;default:Es=Ss}ub(ws,Es),Ts=Es;for(_s in Ts)if(Ts.hasOwnProperty(_s)){var Rs=Ts[_s];_s==="style"?sb(vs,Rs):_s==="dangerouslySetInnerHTML"?(Rs=Rs?Rs.__html:void 0,Rs!=null&&nb(vs,Rs)):_s==="children"?typeof Rs=="string"?(ws!=="textarea"||Rs!=="")&&ob(vs,Rs):typeof Rs=="number"&&ob(vs,""+Rs):_s!=="suppressContentEditableWarning"&&_s!=="suppressHydrationWarning"&&_s!=="autoFocus"&&(ea$2.hasOwnProperty(_s)?Rs!=null&&_s==="onScroll"&&D$6("scroll",vs):Rs!=null&&ta$2(vs,_s,Rs,Is))}switch(ws){case"input":Va$1(vs),db(vs,Ss,!1);break;case"textarea":Va$1(vs),jb(vs);break;case"option":Ss.value!=null&&vs.setAttribute("value",""+Sa$1(Ss.value));break;case"select":vs.multiple=!!Ss.multiple,_s=Ss.value,_s!=null?fb(vs,!!Ss.multiple,_s,!1):Ss.defaultValue!=null&&fb(vs,!!Ss.multiple,Ss.defaultValue,!0);break;default:typeof Es.onClick=="function"&&(vs.onclick=Bf$1)}switch(ws){case"button":case"input":case"select":case"textarea":Ss=!!Ss.autoFocus;break e;case"img":Ss=!0;break e;default:Ss=!1}}Ss&&(ms.flags|=4)}ms.ref!==null&&(ms.flags|=512,ms.flags|=2097152)}return S$7(ms),null;case 6:if(vs&&ms.stateNode!=null)Cj(vs,ms,vs.memoizedProps,Ss);else{if(typeof Ss!="string"&&ms.stateNode===null)throw Error(p$6(166));if(ws=xh(wh.current),xh(uh.current),Gg(ms)){if(Ss=ms.stateNode,ws=ms.memoizedProps,Ss[Of$1]=ms,(_s=Ss.nodeValue!==ws)&&(vs=xg,vs!==null))switch(vs.tag){case 3:Af$1(Ss.nodeValue,ws,(vs.mode&1)!==0);break;case 5:vs.memoizedProps.suppressHydrationWarning!==!0&&Af$1(Ss.nodeValue,ws,(vs.mode&1)!==0)}_s&&(ms.flags|=4)}else Ss=(ws.nodeType===9?ws:ws.ownerDocument).createTextNode(Ss),Ss[Of$1]=ms,ms.stateNode=Ss}return S$7(ms),null;case 13:if(E$7(L$6),Ss=ms.memoizedState,vs===null||vs.memoizedState!==null&&vs.memoizedState.dehydrated!==null){if(I$6&&yg!==null&&ms.mode&1&&!(ms.flags&128))Hg(),Ig(),ms.flags|=98560,_s=!1;else if(_s=Gg(ms),Ss!==null&&Ss.dehydrated!==null){if(vs===null){if(!_s)throw Error(p$6(318));if(_s=ms.memoizedState,_s=_s!==null?_s.dehydrated:null,!_s)throw Error(p$6(317));_s[Of$1]=ms}else Ig(),!(ms.flags&128)&&(ms.memoizedState=null),ms.flags|=4;S$7(ms),_s=!1}else zg!==null&&(Fj(zg),zg=null),_s=!0;if(!_s)return ms.flags&65536?ms:null}return ms.flags&128?(ms.lanes=ws,ms):(Ss=Ss!==null,Ss!==(vs!==null&&vs.memoizedState!==null)&&Ss&&(ms.child.flags|=8192,ms.mode&1&&(vs===null||L$6.current&1?T$7===0&&(T$7=3):tj())),ms.updateQueue!==null&&(ms.flags|=4),S$7(ms),null);case 4:return zh(),Aj(vs,ms),vs===null&&sf$1(ms.stateNode.containerInfo),S$7(ms),null;case 10:return ah(ms.type._context),S$7(ms),null;case 17:return Zf$1(ms.type)&&$f$1(),S$7(ms),null;case 19:if(E$7(L$6),_s=ms.memoizedState,_s===null)return S$7(ms),null;if(Ss=(ms.flags&128)!==0,Is=_s.rendering,Is===null)if(Ss)Dj(_s,!1);else{if(T$7!==0||vs!==null&&vs.flags&128)for(vs=ms.child;vs!==null;){if(Is=Ch(vs),Is!==null){for(ms.flags|=128,Dj(_s,!1),Ss=Is.updateQueue,Ss!==null&&(ms.updateQueue=Ss,ms.flags|=4),ms.subtreeFlags=0,Ss=ws,ws=ms.child;ws!==null;)_s=ws,vs=Ss,_s.flags&=14680066,Is=_s.alternate,Is===null?(_s.childLanes=0,_s.lanes=vs,_s.child=null,_s.subtreeFlags=0,_s.memoizedProps=null,_s.memoizedState=null,_s.updateQueue=null,_s.dependencies=null,_s.stateNode=null):(_s.childLanes=Is.childLanes,_s.lanes=Is.lanes,_s.child=Is.child,_s.subtreeFlags=0,_s.deletions=null,_s.memoizedProps=Is.memoizedProps,_s.memoizedState=Is.memoizedState,_s.updateQueue=Is.updateQueue,_s.type=Is.type,vs=Is.dependencies,_s.dependencies=vs===null?null:{lanes:vs.lanes,firstContext:vs.firstContext}),ws=ws.sibling;return G$7(L$6,L$6.current&1|2),ms.child}vs=vs.sibling}_s.tail!==null&&B$6()>Gj&&(ms.flags|=128,Ss=!0,Dj(_s,!1),ms.lanes=4194304)}else{if(!Ss)if(vs=Ch(Is),vs!==null){if(ms.flags|=128,Ss=!0,ws=vs.updateQueue,ws!==null&&(ms.updateQueue=ws,ms.flags|=4),Dj(_s,!0),_s.tail===null&&_s.tailMode==="hidden"&&!Is.alternate&&!I$6)return S$7(ms),null}else 2*B$6()-_s.renderingStartTime>Gj&&ws!==1073741824&&(ms.flags|=128,Ss=!0,Dj(_s,!1),ms.lanes=4194304);_s.isBackwards?(Is.sibling=ms.child,ms.child=Is):(ws=_s.last,ws!==null?ws.sibling=Is:ms.child=Is,_s.last=Is)}return _s.tail!==null?(ms=_s.tail,_s.rendering=ms,_s.tail=ms.sibling,_s.renderingStartTime=B$6(),ms.sibling=null,ws=L$6.current,G$7(L$6,Ss?ws&1|2:ws&1),ms):(S$7(ms),null);case 22:case 23:return Hj(),Ss=ms.memoizedState!==null,vs!==null&&vs.memoizedState!==null!==Ss&&(ms.flags|=8192),Ss&&ms.mode&1?fj&1073741824&&(S$7(ms),ms.subtreeFlags&6&&(ms.flags|=8192)):S$7(ms),null;case 24:return null;case 25:return null}throw Error(p$6(156,ms.tag))}function Ij(vs,ms){switch(wg(ms),ms.tag){case 1:return Zf$1(ms.type)&&$f$1(),vs=ms.flags,vs&65536?(ms.flags=vs&-65537|128,ms):null;case 3:return zh(),E$7(Wf$1),E$7(H$5),Eh(),vs=ms.flags,vs&65536&&!(vs&128)?(ms.flags=vs&-65537|128,ms):null;case 5:return Bh(ms),null;case 13:if(E$7(L$6),vs=ms.memoizedState,vs!==null&&vs.dehydrated!==null){if(ms.alternate===null)throw Error(p$6(340));Ig()}return vs=ms.flags,vs&65536?(ms.flags=vs&-65537|128,ms):null;case 19:return E$7(L$6),null;case 4:return zh(),null;case 10:return ah(ms.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$5=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$6=null;function Lj(vs,ms){var ws=vs.ref;if(ws!==null)if(typeof ws=="function")try{ws(null)}catch(Ss){W$7(vs,ms,Ss)}else ws.current=null}function Mj(vs,ms,ws){try{ws()}catch(Ss){W$7(vs,ms,Ss)}}var Nj=!1;function Oj(vs,ms){if(Cf$1=dd,vs=Me$5(),Ne$3(vs)){if("selectionStart"in vs)var ws={start:vs.selectionStart,end:vs.selectionEnd};else e:{ws=(ws=vs.ownerDocument)&&ws.defaultView||window;var Ss=ws.getSelection&&ws.getSelection();if(Ss&&Ss.rangeCount!==0){ws=Ss.anchorNode;var Es=Ss.anchorOffset,_s=Ss.focusNode;Ss=Ss.focusOffset;try{ws.nodeType,_s.nodeType}catch{ws=null;break e}var Is=0,Ts=-1,Rs=-1,Bs=0,Ns=0,Ws=vs,Js=null;t:for(;;){for(var $l;Ws!==ws||Es!==0&&Ws.nodeType!==3||(Ts=Is+Es),Ws!==_s||Ss!==0&&Ws.nodeType!==3||(Rs=Is+Ss),Ws.nodeType===3&&(Is+=Ws.nodeValue.length),($l=Ws.firstChild)!==null;)Js=Ws,Ws=$l;for(;;){if(Ws===vs)break t;if(Js===ws&&++Bs===Es&&(Ts=Is),Js===_s&&++Ns===Ss&&(Rs=Is),($l=Ws.nextSibling)!==null)break;Ws=Js,Js=Ws.parentNode}Ws=$l}ws=Ts===-1||Rs===-1?null:{start:Ts,end:Rs}}else ws=null}ws=ws||{start:0,end:0}}else ws=null;for(Df$1={focusedElem:vs,selectionRange:ws},dd=!1,V$6=ms;V$6!==null;)if(ms=V$6,vs=ms.child,(ms.subtreeFlags&1028)!==0&&vs!==null)vs.return=ms,V$6=vs;else for(;V$6!==null;){ms=V$6;try{var wl=ms.alternate;if(ms.flags&1024)switch(ms.tag){case 0:case 11:case 15:break;case 1:if(wl!==null){var _l=wl.memoizedProps,Cl=wl.memoizedState,Sl=ms.stateNode,El=Sl.getSnapshotBeforeUpdate(ms.elementType===ms.type?_l:Ci$2(ms.type,_l),Cl);Sl.__reactInternalSnapshotBeforeUpdate=El}break;case 3:var xl=ms.stateNode.containerInfo;xl.nodeType===1?xl.textContent="":xl.nodeType===9&&xl.documentElement&&xl.removeChild(xl.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$6(163))}}catch(Ml){W$7(ms,ms.return,Ml)}if(vs=ms.sibling,vs!==null){vs.return=ms.return,V$6=vs;break}V$6=ms.return}return wl=Nj,Nj=!1,wl}function Pj(vs,ms,ws){var Ss=ms.updateQueue;if(Ss=Ss!==null?Ss.lastEffect:null,Ss!==null){var Es=Ss=Ss.next;do{if((Es.tag&vs)===vs){var _s=Es.destroy;Es.destroy=void 0,_s!==void 0&&Mj(ms,ws,_s)}Es=Es.next}while(Es!==Ss)}}function Qj(vs,ms){if(ms=ms.updateQueue,ms=ms!==null?ms.lastEffect:null,ms!==null){var ws=ms=ms.next;do{if((ws.tag&vs)===vs){var Ss=ws.create;ws.destroy=Ss()}ws=ws.next}while(ws!==ms)}}function Rj(vs){var ms=vs.ref;if(ms!==null){var ws=vs.stateNode;switch(vs.tag){case 5:vs=ws;break;default:vs=ws}typeof ms=="function"?ms(vs):ms.current=vs}}function Sj(vs){var ms=vs.alternate;ms!==null&&(vs.alternate=null,Sj(ms)),vs.child=null,vs.deletions=null,vs.sibling=null,vs.tag===5&&(ms=vs.stateNode,ms!==null&&(delete ms[Of$1],delete ms[Pf$1],delete ms[of$1],delete ms[Qf$1],delete ms[Rf$1])),vs.stateNode=null,vs.return=null,vs.dependencies=null,vs.memoizedProps=null,vs.memoizedState=null,vs.pendingProps=null,vs.stateNode=null,vs.updateQueue=null}function Tj(vs){return vs.tag===5||vs.tag===3||vs.tag===4}function Uj(vs){e:for(;;){for(;vs.sibling===null;){if(vs.return===null||Tj(vs.return))return null;vs=vs.return}for(vs.sibling.return=vs.return,vs=vs.sibling;vs.tag!==5&&vs.tag!==6&&vs.tag!==18;){if(vs.flags&2||vs.child===null||vs.tag===4)continue e;vs.child.return=vs,vs=vs.child}if(!(vs.flags&2))return vs.stateNode}}function Vj(vs,ms,ws){var Ss=vs.tag;if(Ss===5||Ss===6)vs=vs.stateNode,ms?ws.nodeType===8?ws.parentNode.insertBefore(vs,ms):ws.insertBefore(vs,ms):(ws.nodeType===8?(ms=ws.parentNode,ms.insertBefore(vs,ws)):(ms=ws,ms.appendChild(vs)),ws=ws._reactRootContainer,ws!=null||ms.onclick!==null||(ms.onclick=Bf$1));else if(Ss!==4&&(vs=vs.child,vs!==null))for(Vj(vs,ms,ws),vs=vs.sibling;vs!==null;)Vj(vs,ms,ws),vs=vs.sibling}function Wj(vs,ms,ws){var Ss=vs.tag;if(Ss===5||Ss===6)vs=vs.stateNode,ms?ws.insertBefore(vs,ms):ws.appendChild(vs);else if(Ss!==4&&(vs=vs.child,vs!==null))for(Wj(vs,ms,ws),vs=vs.sibling;vs!==null;)Wj(vs,ms,ws),vs=vs.sibling}var X$6=null,Xj=!1;function Yj(vs,ms,ws){for(ws=ws.child;ws!==null;)Zj(vs,ms,ws),ws=ws.sibling}function Zj(vs,ms,ws){if(lc$1&&typeof lc$1.onCommitFiberUnmount=="function")try{lc$1.onCommitFiberUnmount(kc$1,ws)}catch{}switch(ws.tag){case 5:U$5||Lj(ws,ms);case 6:var Ss=X$6,Es=Xj;X$6=null,Yj(vs,ms,ws),X$6=Ss,Xj=Es,X$6!==null&&(Xj?(vs=X$6,ws=ws.stateNode,vs.nodeType===8?vs.parentNode.removeChild(ws):vs.removeChild(ws)):X$6.removeChild(ws.stateNode));break;case 18:X$6!==null&&(Xj?(vs=X$6,ws=ws.stateNode,vs.nodeType===8?Kf$1(vs.parentNode,ws):vs.nodeType===1&&Kf$1(vs,ws),bd(vs)):Kf$1(X$6,ws.stateNode));break;case 4:Ss=X$6,Es=Xj,X$6=ws.stateNode.containerInfo,Xj=!0,Yj(vs,ms,ws),X$6=Ss,Xj=Es;break;case 0:case 11:case 14:case 15:if(!U$5&&(Ss=ws.updateQueue,Ss!==null&&(Ss=Ss.lastEffect,Ss!==null))){Es=Ss=Ss.next;do{var _s=Es,Is=_s.destroy;_s=_s.tag,Is!==void 0&&(_s&2||_s&4)&&Mj(ws,ms,Is),Es=Es.next}while(Es!==Ss)}Yj(vs,ms,ws);break;case 1:if(!U$5&&(Lj(ws,ms),Ss=ws.stateNode,typeof Ss.componentWillUnmount=="function"))try{Ss.props=ws.memoizedProps,Ss.state=ws.memoizedState,Ss.componentWillUnmount()}catch(Ts){W$7(ws,ms,Ts)}Yj(vs,ms,ws);break;case 21:Yj(vs,ms,ws);break;case 22:ws.mode&1?(U$5=(Ss=U$5)||ws.memoizedState!==null,Yj(vs,ms,ws),U$5=Ss):Yj(vs,ms,ws);break;default:Yj(vs,ms,ws)}}function ak(vs){var ms=vs.updateQueue;if(ms!==null){vs.updateQueue=null;var ws=vs.stateNode;ws===null&&(ws=vs.stateNode=new Kj),ms.forEach(function(Ss){var Es=bk.bind(null,vs,Ss);ws.has(Ss)||(ws.add(Ss),Ss.then(Es,Es))})}}function ck(vs,ms){var ws=ms.deletions;if(ws!==null)for(var Ss=0;Ss<ws.length;Ss++){var Es=ws[Ss];try{var _s=vs,Is=ms,Ts=Is;e:for(;Ts!==null;){switch(Ts.tag){case 5:X$6=Ts.stateNode,Xj=!1;break e;case 3:X$6=Ts.stateNode.containerInfo,Xj=!0;break e;case 4:X$6=Ts.stateNode.containerInfo,Xj=!0;break e}Ts=Ts.return}if(X$6===null)throw Error(p$6(160));Zj(_s,Is,Es),X$6=null,Xj=!1;var Rs=Es.alternate;Rs!==null&&(Rs.return=null),Es.return=null}catch(Bs){W$7(Es,ms,Bs)}}if(ms.subtreeFlags&12854)for(ms=ms.child;ms!==null;)dk(ms,vs),ms=ms.sibling}function dk(vs,ms){var ws=vs.alternate,Ss=vs.flags;switch(vs.tag){case 0:case 11:case 14:case 15:if(ck(ms,vs),ek(vs),Ss&4){try{Pj(3,vs,vs.return),Qj(3,vs)}catch(_l){W$7(vs,vs.return,_l)}try{Pj(5,vs,vs.return)}catch(_l){W$7(vs,vs.return,_l)}}break;case 1:ck(ms,vs),ek(vs),Ss&512&&ws!==null&&Lj(ws,ws.return);break;case 5:if(ck(ms,vs),ek(vs),Ss&512&&ws!==null&&Lj(ws,ws.return),vs.flags&32){var Es=vs.stateNode;try{ob(Es,"")}catch(_l){W$7(vs,vs.return,_l)}}if(Ss&4&&(Es=vs.stateNode,Es!=null)){var _s=vs.memoizedProps,Is=ws!==null?ws.memoizedProps:_s,Ts=vs.type,Rs=vs.updateQueue;if(vs.updateQueue=null,Rs!==null)try{Ts==="input"&&_s.type==="radio"&&_s.name!=null&&ab(Es,_s),vb(Ts,Is);var Bs=vb(Ts,_s);for(Is=0;Is<Rs.length;Is+=2){var Ns=Rs[Is],Ws=Rs[Is+1];Ns==="style"?sb(Es,Ws):Ns==="dangerouslySetInnerHTML"?nb(Es,Ws):Ns==="children"?ob(Es,Ws):ta$2(Es,Ns,Ws,Bs)}switch(Ts){case"input":bb(Es,_s);break;case"textarea":ib(Es,_s);break;case"select":var Js=Es._wrapperState.wasMultiple;Es._wrapperState.wasMultiple=!!_s.multiple;var $l=_s.value;$l!=null?fb(Es,!!_s.multiple,$l,!1):Js!==!!_s.multiple&&(_s.defaultValue!=null?fb(Es,!!_s.multiple,_s.defaultValue,!0):fb(Es,!!_s.multiple,_s.multiple?[]:"",!1))}Es[Pf$1]=_s}catch(_l){W$7(vs,vs.return,_l)}}break;case 6:if(ck(ms,vs),ek(vs),Ss&4){if(vs.stateNode===null)throw Error(p$6(162));Es=vs.stateNode,_s=vs.memoizedProps;try{Es.nodeValue=_s}catch(_l){W$7(vs,vs.return,_l)}}break;case 3:if(ck(ms,vs),ek(vs),Ss&4&&ws!==null&&ws.memoizedState.isDehydrated)try{bd(ms.containerInfo)}catch(_l){W$7(vs,vs.return,_l)}break;case 4:ck(ms,vs),ek(vs);break;case 13:ck(ms,vs),ek(vs),Es=vs.child,Es.flags&8192&&(_s=Es.memoizedState!==null,Es.stateNode.isHidden=_s,!_s||Es.alternate!==null&&Es.alternate.memoizedState!==null||(fk=B$6())),Ss&4&&ak(vs);break;case 22:if(Ns=ws!==null&&ws.memoizedState!==null,vs.mode&1?(U$5=(Bs=U$5)||Ns,ck(ms,vs),U$5=Bs):ck(ms,vs),ek(vs),Ss&8192){if(Bs=vs.memoizedState!==null,(vs.stateNode.isHidden=Bs)&&!Ns&&vs.mode&1)for(V$6=vs,Ns=vs.child;Ns!==null;){for(Ws=V$6=Ns;V$6!==null;){switch(Js=V$6,$l=Js.child,Js.tag){case 0:case 11:case 14:case 15:Pj(4,Js,Js.return);break;case 1:Lj(Js,Js.return);var wl=Js.stateNode;if(typeof wl.componentWillUnmount=="function"){Ss=Js,ws=Js.return;try{ms=Ss,wl.props=ms.memoizedProps,wl.state=ms.memoizedState,wl.componentWillUnmount()}catch(_l){W$7(Ss,ws,_l)}}break;case 5:Lj(Js,Js.return);break;case 22:if(Js.memoizedState!==null){gk(Ws);continue}}$l!==null?($l.return=Js,V$6=$l):gk(Ws)}Ns=Ns.sibling}e:for(Ns=null,Ws=vs;;){if(Ws.tag===5){if(Ns===null){Ns=Ws;try{Es=Ws.stateNode,Bs?(_s=Es.style,typeof _s.setProperty=="function"?_s.setProperty("display","none","important"):_s.display="none"):(Ts=Ws.stateNode,Rs=Ws.memoizedProps.style,Is=Rs!=null&&Rs.hasOwnProperty("display")?Rs.display:null,Ts.style.display=rb("display",Is))}catch(_l){W$7(vs,vs.return,_l)}}}else if(Ws.tag===6){if(Ns===null)try{Ws.stateNode.nodeValue=Bs?"":Ws.memoizedProps}catch(_l){W$7(vs,vs.return,_l)}}else if((Ws.tag!==22&&Ws.tag!==23||Ws.memoizedState===null||Ws===vs)&&Ws.child!==null){Ws.child.return=Ws,Ws=Ws.child;continue}if(Ws===vs)break e;for(;Ws.sibling===null;){if(Ws.return===null||Ws.return===vs)break e;Ns===Ws&&(Ns=null),Ws=Ws.return}Ns===Ws&&(Ns=null),Ws.sibling.return=Ws.return,Ws=Ws.sibling}}break;case 19:ck(ms,vs),ek(vs),Ss&4&&ak(vs);break;case 21:break;default:ck(ms,vs),ek(vs)}}function ek(vs){var ms=vs.flags;if(ms&2){try{e:{for(var ws=vs.return;ws!==null;){if(Tj(ws)){var Ss=ws;break e}ws=ws.return}throw Error(p$6(160))}switch(Ss.tag){case 5:var Es=Ss.stateNode;Ss.flags&32&&(ob(Es,""),Ss.flags&=-33);var _s=Uj(vs);Wj(vs,_s,Es);break;case 3:case 4:var Is=Ss.stateNode.containerInfo,Ts=Uj(vs);Vj(vs,Ts,Is);break;default:throw Error(p$6(161))}}catch(Rs){W$7(vs,vs.return,Rs)}vs.flags&=-3}ms&4096&&(vs.flags&=-4097)}function hk(vs,ms,ws){V$6=vs,ik(vs)}function ik(vs,ms,ws){for(var Ss=(vs.mode&1)!==0;V$6!==null;){var Es=V$6,_s=Es.child;if(Es.tag===22&&Ss){var Is=Es.memoizedState!==null||Jj;if(!Is){var Ts=Es.alternate,Rs=Ts!==null&&Ts.memoizedState!==null||U$5;Ts=Jj;var Bs=U$5;if(Jj=Is,(U$5=Rs)&&!Bs)for(V$6=Es;V$6!==null;)Is=V$6,Rs=Is.child,Is.tag===22&&Is.memoizedState!==null?jk(Es):Rs!==null?(Rs.return=Is,V$6=Rs):jk(Es);for(;_s!==null;)V$6=_s,ik(_s),_s=_s.sibling;V$6=Es,Jj=Ts,U$5=Bs}kk(vs)}else Es.subtreeFlags&8772&&_s!==null?(_s.return=Es,V$6=_s):kk(vs)}}function kk(vs){for(;V$6!==null;){var ms=V$6;if(ms.flags&8772){var ws=ms.alternate;try{if(ms.flags&8772)switch(ms.tag){case 0:case 11:case 15:U$5||Qj(5,ms);break;case 1:var Ss=ms.stateNode;if(ms.flags&4&&!U$5)if(ws===null)Ss.componentDidMount();else{var Es=ms.elementType===ms.type?ws.memoizedProps:Ci$2(ms.type,ws.memoizedProps);Ss.componentDidUpdate(Es,ws.memoizedState,Ss.__reactInternalSnapshotBeforeUpdate)}var _s=ms.updateQueue;_s!==null&&sh(ms,_s,Ss);break;case 3:var Is=ms.updateQueue;if(Is!==null){if(ws=null,ms.child!==null)switch(ms.child.tag){case 5:ws=ms.child.stateNode;break;case 1:ws=ms.child.stateNode}sh(ms,Is,ws)}break;case 5:var Ts=ms.stateNode;if(ws===null&&ms.flags&4){ws=Ts;var Rs=ms.memoizedProps;switch(ms.type){case"button":case"input":case"select":case"textarea":Rs.autoFocus&&ws.focus();break;case"img":Rs.src&&(ws.src=Rs.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(ms.memoizedState===null){var Bs=ms.alternate;if(Bs!==null){var Ns=Bs.memoizedState;if(Ns!==null){var Ws=Ns.dehydrated;Ws!==null&&bd(Ws)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$6(163))}U$5||ms.flags&512&&Rj(ms)}catch(Js){W$7(ms,ms.return,Js)}}if(ms===vs){V$6=null;break}if(ws=ms.sibling,ws!==null){ws.return=ms.return,V$6=ws;break}V$6=ms.return}}function gk(vs){for(;V$6!==null;){var ms=V$6;if(ms===vs){V$6=null;break}var ws=ms.sibling;if(ws!==null){ws.return=ms.return,V$6=ws;break}V$6=ms.return}}function jk(vs){for(;V$6!==null;){var ms=V$6;try{switch(ms.tag){case 0:case 11:case 15:var ws=ms.return;try{Qj(4,ms)}catch(Rs){W$7(ms,ws,Rs)}break;case 1:var Ss=ms.stateNode;if(typeof Ss.componentDidMount=="function"){var Es=ms.return;try{Ss.componentDidMount()}catch(Rs){W$7(ms,Es,Rs)}}var _s=ms.return;try{Rj(ms)}catch(Rs){W$7(ms,_s,Rs)}break;case 5:var Is=ms.return;try{Rj(ms)}catch(Rs){W$7(ms,Is,Rs)}}}catch(Rs){W$7(ms,ms.return,Rs)}if(ms===vs){V$6=null;break}var Ts=ms.sibling;if(Ts!==null){Ts.return=ms.return,V$6=Ts;break}V$6=ms.return}}var lk=Math.ceil,mk=ua$1.ReactCurrentDispatcher,nk=ua$1.ReactCurrentOwner,ok=ua$1.ReactCurrentBatchConfig,K$7=0,Q$6=null,Y$6=null,Z$4=0,fj=0,ej=Uf$1(0),T$7=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi$2=!1,Pi$2=null,Ri$2=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$8(){return K$7&6?B$6():Ak!==-1?Ak:Ak=B$6()}function yi$2(vs){return vs.mode&1?K$7&2&&Z$4!==0?Z$4&-Z$4:Kg.transition!==null?(Bk===0&&(Bk=yc$1()),Bk):(vs=C$8,vs!==0||(vs=window.event,vs=vs===void 0?16:jd(vs.type)),vs):1}function gi$2(vs,ms,ws,Ss){if(50<yk)throw yk=0,zk=null,Error(p$6(185));Ac$1(vs,ws,Ss),(!(K$7&2)||vs!==Q$6)&&(vs===Q$6&&(!(K$7&2)&&(qk|=ws),T$7===4&&Ck(vs,Z$4)),Dk(vs,Ss),ws===1&&K$7===0&&!(ms.mode&1)&&(Gj=B$6()+500,fg&&jg()))}function Dk(vs,ms){var ws=vs.callbackNode;wc$1(vs,ms);var Ss=uc$1(vs,vs===Q$6?Z$4:0);if(Ss===0)ws!==null&&bc$1(ws),vs.callbackNode=null,vs.callbackPriority=0;else if(ms=Ss&-Ss,vs.callbackPriority!==ms){if(ws!=null&&bc$1(ws),ms===1)vs.tag===0?ig(Ek.bind(null,vs)):hg(Ek.bind(null,vs)),Jf$1(function(){!(K$7&6)&&jg()}),ws=null;else{switch(Dc$1(Ss)){case 1:ws=fc$1;break;case 4:ws=gc$1;break;case 16:ws=hc$1;break;case 536870912:ws=jc$1;break;default:ws=hc$1}ws=Fk(ws,Gk.bind(null,vs))}vs.callbackPriority=ms,vs.callbackNode=ws}}function Gk(vs,ms){if(Ak=-1,Bk=0,K$7&6)throw Error(p$6(327));var ws=vs.callbackNode;if(Hk()&&vs.callbackNode!==ws)return null;var Ss=uc$1(vs,vs===Q$6?Z$4:0);if(Ss===0)return null;if(Ss&30||Ss&vs.expiredLanes||ms)ms=Ik(vs,Ss);else{ms=Ss;var Es=K$7;K$7|=2;var _s=Jk();(Q$6!==vs||Z$4!==ms)&&(uk=null,Gj=B$6()+500,Kk(vs,ms));do try{Lk();break}catch(Ts){Mk(vs,Ts)}while(!0);$g(),mk.current=_s,K$7=Es,Y$6!==null?ms=0:(Q$6=null,Z$4=0,ms=T$7)}if(ms!==0){if(ms===2&&(Es=xc$1(vs),Es!==0&&(Ss=Es,ms=Nk(vs,Es))),ms===1)throw ws=pk,Kk(vs,0),Ck(vs,Ss),Dk(vs,B$6()),ws;if(ms===6)Ck(vs,Ss);else{if(Es=vs.current.alternate,!(Ss&30)&&!Ok(Es)&&(ms=Ik(vs,Ss),ms===2&&(_s=xc$1(vs),_s!==0&&(Ss=_s,ms=Nk(vs,_s))),ms===1))throw ws=pk,Kk(vs,0),Ck(vs,Ss),Dk(vs,B$6()),ws;switch(vs.finishedWork=Es,vs.finishedLanes=Ss,ms){case 0:case 1:throw Error(p$6(345));case 2:Pk(vs,tk,uk);break;case 3:if(Ck(vs,Ss),(Ss&130023424)===Ss&&(ms=fk+500-B$6(),10<ms)){if(uc$1(vs,0)!==0)break;if(Es=vs.suspendedLanes,(Es&Ss)!==Ss){R$8(),vs.pingedLanes|=vs.suspendedLanes&Es;break}vs.timeoutHandle=Ff$1(Pk.bind(null,vs,tk,uk),ms);break}Pk(vs,tk,uk);break;case 4:if(Ck(vs,Ss),(Ss&4194240)===Ss)break;for(ms=vs.eventTimes,Es=-1;0<Ss;){var Is=31-oc$1(Ss);_s=1<<Is,Is=ms[Is],Is>Es&&(Es=Is),Ss&=~_s}if(Ss=Es,Ss=B$6()-Ss,Ss=(120>Ss?120:480>Ss?480:1080>Ss?1080:1920>Ss?1920:3e3>Ss?3e3:4320>Ss?4320:1960*lk(Ss/1960))-Ss,10<Ss){vs.timeoutHandle=Ff$1(Pk.bind(null,vs,tk,uk),Ss);break}Pk(vs,tk,uk);break;case 5:Pk(vs,tk,uk);break;default:throw Error(p$6(329))}}}return Dk(vs,B$6()),vs.callbackNode===ws?Gk.bind(null,vs):null}function Nk(vs,ms){var ws=sk;return vs.current.memoizedState.isDehydrated&&(Kk(vs,ms).flags|=256),vs=Ik(vs,ms),vs!==2&&(ms=tk,tk=ws,ms!==null&&Fj(ms)),vs}function Fj(vs){tk===null?tk=vs:tk.push.apply(tk,vs)}function Ok(vs){for(var ms=vs;;){if(ms.flags&16384){var ws=ms.updateQueue;if(ws!==null&&(ws=ws.stores,ws!==null))for(var Ss=0;Ss<ws.length;Ss++){var Es=ws[Ss],_s=Es.getSnapshot;Es=Es.value;try{if(!He$4(_s(),Es))return!1}catch{return!1}}}if(ws=ms.child,ms.subtreeFlags&16384&&ws!==null)ws.return=ms,ms=ws;else{if(ms===vs)break;for(;ms.sibling===null;){if(ms.return===null||ms.return===vs)return!0;ms=ms.return}ms.sibling.return=ms.return,ms=ms.sibling}}return!0}function Ck(vs,ms){for(ms&=~rk,ms&=~qk,vs.suspendedLanes|=ms,vs.pingedLanes&=~ms,vs=vs.expirationTimes;0<ms;){var ws=31-oc$1(ms),Ss=1<<ws;vs[ws]=-1,ms&=~Ss}}function Ek(vs){if(K$7&6)throw Error(p$6(327));Hk();var ms=uc$1(vs,0);if(!(ms&1))return Dk(vs,B$6()),null;var ws=Ik(vs,ms);if(vs.tag!==0&&ws===2){var Ss=xc$1(vs);Ss!==0&&(ms=Ss,ws=Nk(vs,Ss))}if(ws===1)throw ws=pk,Kk(vs,0),Ck(vs,ms),Dk(vs,B$6()),ws;if(ws===6)throw Error(p$6(345));return vs.finishedWork=vs.current.alternate,vs.finishedLanes=ms,Pk(vs,tk,uk),Dk(vs,B$6()),null}function Qk(vs,ms){var ws=K$7;K$7|=1;try{return vs(ms)}finally{K$7=ws,K$7===0&&(Gj=B$6()+500,fg&&jg())}}function Rk(vs){wk!==null&&wk.tag===0&&!(K$7&6)&&Hk();var ms=K$7;K$7|=1;var ws=ok.transition,Ss=C$8;try{if(ok.transition=null,C$8=1,vs)return vs()}finally{C$8=Ss,ok.transition=ws,K$7=ms,!(K$7&6)&&jg()}}function Hj(){fj=ej.current,E$7(ej)}function Kk(vs,ms){vs.finishedWork=null,vs.finishedLanes=0;var ws=vs.timeoutHandle;if(ws!==-1&&(vs.timeoutHandle=-1,Gf$1(ws)),Y$6!==null)for(ws=Y$6.return;ws!==null;){var Ss=ws;switch(wg(Ss),Ss.tag){case 1:Ss=Ss.type.childContextTypes,Ss!=null&&$f$1();break;case 3:zh(),E$7(Wf$1),E$7(H$5),Eh();break;case 5:Bh(Ss);break;case 4:zh();break;case 13:E$7(L$6);break;case 19:E$7(L$6);break;case 10:ah(Ss.type._context);break;case 22:case 23:Hj()}ws=ws.return}if(Q$6=vs,Y$6=vs=Pg(vs.current,null),Z$4=fj=ms,T$7=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(ms=0;ms<fh.length;ms++)if(ws=fh[ms],Ss=ws.interleaved,Ss!==null){ws.interleaved=null;var Es=Ss.next,_s=ws.pending;if(_s!==null){var Is=_s.next;_s.next=Es,Ss.next=Is}ws.pending=Ss}fh=null}return vs}function Mk(vs,ms){do{var ws=Y$6;try{if($g(),Fh.current=Rh,Ih){for(var Ss=M$8.memoizedState;Ss!==null;){var Es=Ss.queue;Es!==null&&(Es.pending=null),Ss=Ss.next}Ih=!1}if(Hh=0,O$9=N$9=M$8=null,Jh=!1,Kh=0,nk.current=null,ws===null||ws.return===null){T$7=1,pk=ms,Y$6=null;break}e:{var _s=vs,Is=ws.return,Ts=ws,Rs=ms;if(ms=Z$4,Ts.flags|=32768,Rs!==null&&typeof Rs=="object"&&typeof Rs.then=="function"){var Bs=Rs,Ns=Ts,Ws=Ns.tag;if(!(Ns.mode&1)&&(Ws===0||Ws===11||Ws===15)){var Js=Ns.alternate;Js?(Ns.updateQueue=Js.updateQueue,Ns.memoizedState=Js.memoizedState,Ns.lanes=Js.lanes):(Ns.updateQueue=null,Ns.memoizedState=null)}var $l=Ui$2(Is);if($l!==null){$l.flags&=-257,Vi$2($l,Is,Ts,_s,ms),$l.mode&1&&Si$2(_s,Bs,ms),ms=$l,Rs=Bs;var wl=ms.updateQueue;if(wl===null){var _l=new Set;_l.add(Rs),ms.updateQueue=_l}else wl.add(Rs);break e}else{if(!(ms&1)){Si$2(_s,Bs,ms),tj();break e}Rs=Error(p$6(426))}}else if(I$6&&Ts.mode&1){var Cl=Ui$2(Is);if(Cl!==null){!(Cl.flags&65536)&&(Cl.flags|=256),Vi$2(Cl,Is,Ts,_s,ms),Jg(Ji$1(Rs,Ts));break e}}_s=Rs=Ji$1(Rs,Ts),T$7!==4&&(T$7=2),sk===null?sk=[_s]:sk.push(_s),_s=Is;do{switch(_s.tag){case 3:_s.flags|=65536,ms&=-ms,_s.lanes|=ms;var Sl=Ni$2(_s,Rs,ms);ph(_s,Sl);break e;case 1:Ts=Rs;var El=_s.type,xl=_s.stateNode;if(!(_s.flags&128)&&(typeof El.getDerivedStateFromError=="function"||xl!==null&&typeof xl.componentDidCatch=="function"&&(Ri$2===null||!Ri$2.has(xl)))){_s.flags|=65536,ms&=-ms,_s.lanes|=ms;var Ml=Qi$1(_s,Ts,ms);ph(_s,Ml);break e}}_s=_s.return}while(_s!==null)}Sk(ws)}catch(Vl){ms=Vl,Y$6===ws&&ws!==null&&(Y$6=ws=ws.return);continue}break}while(!0)}function Jk(){var vs=mk.current;return mk.current=Rh,vs===null?Rh:vs}function tj(){(T$7===0||T$7===3||T$7===2)&&(T$7=4),Q$6===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$6,Z$4)}function Ik(vs,ms){var ws=K$7;K$7|=2;var Ss=Jk();(Q$6!==vs||Z$4!==ms)&&(uk=null,Kk(vs,ms));do try{Tk();break}catch(Es){Mk(vs,Es)}while(!0);if($g(),K$7=ws,mk.current=Ss,Y$6!==null)throw Error(p$6(261));return Q$6=null,Z$4=0,T$7}function Tk(){for(;Y$6!==null;)Uk(Y$6)}function Lk(){for(;Y$6!==null&&!cc$1();)Uk(Y$6)}function Uk(vs){var ms=Vk(vs.alternate,vs,fj);vs.memoizedProps=vs.pendingProps,ms===null?Sk(vs):Y$6=ms,nk.current=null}function Sk(vs){var ms=vs;do{var ws=ms.alternate;if(vs=ms.return,ms.flags&32768){if(ws=Ij(ws,ms),ws!==null){ws.flags&=32767,Y$6=ws;return}if(vs!==null)vs.flags|=32768,vs.subtreeFlags=0,vs.deletions=null;else{T$7=6,Y$6=null;return}}else if(ws=Ej(ws,ms,fj),ws!==null){Y$6=ws;return}if(ms=ms.sibling,ms!==null){Y$6=ms;return}Y$6=ms=vs}while(ms!==null);T$7===0&&(T$7=5)}function Pk(vs,ms,ws){var Ss=C$8,Es=ok.transition;try{ok.transition=null,C$8=1,Wk(vs,ms,ws,Ss)}finally{ok.transition=Es,C$8=Ss}return null}function Wk(vs,ms,ws,Ss){do Hk();while(wk!==null);if(K$7&6)throw Error(p$6(327));ws=vs.finishedWork;var Es=vs.finishedLanes;if(ws===null)return null;if(vs.finishedWork=null,vs.finishedLanes=0,ws===vs.current)throw Error(p$6(177));vs.callbackNode=null,vs.callbackPriority=0;var _s=ws.lanes|ws.childLanes;if(Bc(vs,_s),vs===Q$6&&(Y$6=Q$6=null,Z$4=0),!(ws.subtreeFlags&2064)&&!(ws.flags&2064)||vk||(vk=!0,Fk(hc$1,function(){return Hk(),null})),_s=(ws.flags&15990)!==0,ws.subtreeFlags&15990||_s){_s=ok.transition,ok.transition=null;var Is=C$8;C$8=1;var Ts=K$7;K$7|=4,nk.current=null,Oj(vs,ws),dk(ws,vs),Oe$4(Df$1),dd=!!Cf$1,Df$1=Cf$1=null,vs.current=ws,hk(ws),dc$1(),K$7=Ts,C$8=Is,ok.transition=_s}else vs.current=ws;if(vk&&(vk=!1,wk=vs,xk=Es),_s=vs.pendingLanes,_s===0&&(Ri$2=null),mc$1(ws.stateNode),Dk(vs,B$6()),ms!==null)for(Ss=vs.onRecoverableError,ws=0;ws<ms.length;ws++)Es=ms[ws],Ss(Es.value,{componentStack:Es.stack,digest:Es.digest});if(Oi$2)throw Oi$2=!1,vs=Pi$2,Pi$2=null,vs;return xk&1&&vs.tag!==0&&Hk(),_s=vs.pendingLanes,_s&1?vs===zk?yk++:(yk=0,zk=vs):yk=0,jg(),null}function Hk(){if(wk!==null){var vs=Dc$1(xk),ms=ok.transition,ws=C$8;try{if(ok.transition=null,C$8=16>vs?16:vs,wk===null)var Ss=!1;else{if(vs=wk,wk=null,xk=0,K$7&6)throw Error(p$6(331));var Es=K$7;for(K$7|=4,V$6=vs.current;V$6!==null;){var _s=V$6,Is=_s.child;if(V$6.flags&16){var Ts=_s.deletions;if(Ts!==null){for(var Rs=0;Rs<Ts.length;Rs++){var Bs=Ts[Rs];for(V$6=Bs;V$6!==null;){var Ns=V$6;switch(Ns.tag){case 0:case 11:case 15:Pj(8,Ns,_s)}var Ws=Ns.child;if(Ws!==null)Ws.return=Ns,V$6=Ws;else for(;V$6!==null;){Ns=V$6;var Js=Ns.sibling,$l=Ns.return;if(Sj(Ns),Ns===Bs){V$6=null;break}if(Js!==null){Js.return=$l,V$6=Js;break}V$6=$l}}}var wl=_s.alternate;if(wl!==null){var _l=wl.child;if(_l!==null){wl.child=null;do{var Cl=_l.sibling;_l.sibling=null,_l=Cl}while(_l!==null)}}V$6=_s}}if(_s.subtreeFlags&2064&&Is!==null)Is.return=_s,V$6=Is;else e:for(;V$6!==null;){if(_s=V$6,_s.flags&2048)switch(_s.tag){case 0:case 11:case 15:Pj(9,_s,_s.return)}var Sl=_s.sibling;if(Sl!==null){Sl.return=_s.return,V$6=Sl;break e}V$6=_s.return}}var El=vs.current;for(V$6=El;V$6!==null;){Is=V$6;var xl=Is.child;if(Is.subtreeFlags&2064&&xl!==null)xl.return=Is,V$6=xl;else e:for(Is=El;V$6!==null;){if(Ts=V$6,Ts.flags&2048)try{switch(Ts.tag){case 0:case 11:case 15:Qj(9,Ts)}}catch(Vl){W$7(Ts,Ts.return,Vl)}if(Ts===Is){V$6=null;break e}var Ml=Ts.sibling;if(Ml!==null){Ml.return=Ts.return,V$6=Ml;break e}V$6=Ts.return}}if(K$7=Es,jg(),lc$1&&typeof lc$1.onPostCommitFiberRoot=="function")try{lc$1.onPostCommitFiberRoot(kc$1,vs)}catch{}Ss=!0}return Ss}finally{C$8=ws,ok.transition=ms}}return!1}function Xk(vs,ms,ws){ms=Ji$1(ws,ms),ms=Ni$2(vs,ms,1),vs=nh(vs,ms,1),ms=R$8(),vs!==null&&(Ac$1(vs,1,ms),Dk(vs,ms))}function W$7(vs,ms,ws){if(vs.tag===3)Xk(vs,vs,ws);else for(;ms!==null;){if(ms.tag===3){Xk(ms,vs,ws);break}else if(ms.tag===1){var Ss=ms.stateNode;if(typeof ms.type.getDerivedStateFromError=="function"||typeof Ss.componentDidCatch=="function"&&(Ri$2===null||!Ri$2.has(Ss))){vs=Ji$1(ws,vs),vs=Qi$1(ms,vs,1),ms=nh(ms,vs,1),vs=R$8(),ms!==null&&(Ac$1(ms,1,vs),Dk(ms,vs));break}}ms=ms.return}}function Ti$2(vs,ms,ws){var Ss=vs.pingCache;Ss!==null&&Ss.delete(ms),ms=R$8(),vs.pingedLanes|=vs.suspendedLanes&ws,Q$6===vs&&(Z$4&ws)===ws&&(T$7===4||T$7===3&&(Z$4&130023424)===Z$4&&500>B$6()-fk?Kk(vs,0):rk|=ws),Dk(vs,ms)}function Yk(vs,ms){ms===0&&(vs.mode&1?(ms=sc$1,sc$1<<=1,!(sc$1&130023424)&&(sc$1=4194304)):ms=1);var ws=R$8();vs=ih(vs,ms),vs!==null&&(Ac$1(vs,ms,ws),Dk(vs,ws))}function uj(vs){var ms=vs.memoizedState,ws=0;ms!==null&&(ws=ms.retryLane),Yk(vs,ws)}function bk(vs,ms){var ws=0;switch(vs.tag){case 13:var Ss=vs.stateNode,Es=vs.memoizedState;Es!==null&&(ws=Es.retryLane);break;case 19:Ss=vs.stateNode;break;default:throw Error(p$6(314))}Ss!==null&&Ss.delete(ms),Yk(vs,ws)}var Vk;Vk=function(vs,ms,ws){if(vs!==null)if(vs.memoizedProps!==ms.pendingProps||Wf$1.current)dh=!0;else{if(!(vs.lanes&ws)&&!(ms.flags&128))return dh=!1,yj(vs,ms,ws);dh=!!(vs.flags&131072)}else dh=!1,I$6&&ms.flags&1048576&&ug(ms,ng,ms.index);switch(ms.lanes=0,ms.tag){case 2:var Ss=ms.type;ij(vs,ms),vs=ms.pendingProps;var Es=Yf$1(ms,H$5.current);ch(ms,ws),Es=Nh(null,ms,Ss,vs,Es,ws);var _s=Sh();return ms.flags|=1,typeof Es=="object"&&Es!==null&&typeof Es.render=="function"&&Es.$$typeof===void 0?(ms.tag=1,ms.memoizedState=null,ms.updateQueue=null,Zf$1(Ss)?(_s=!0,cg(ms)):_s=!1,ms.memoizedState=Es.state!==null&&Es.state!==void 0?Es.state:null,kh(ms),Es.updater=Ei$2,ms.stateNode=Es,Es._reactInternals=ms,Ii$2(ms,Ss,vs,ws),ms=jj(null,ms,Ss,!0,_s,ws)):(ms.tag=0,I$6&&_s&&vg(ms),Xi$1(null,ms,Es,ws),ms=ms.child),ms;case 16:Ss=ms.elementType;e:{switch(ij(vs,ms),vs=ms.pendingProps,Es=Ss._init,Ss=Es(Ss._payload),ms.type=Ss,Es=ms.tag=Zk(Ss),vs=Ci$2(Ss,vs),Es){case 0:ms=cj(null,ms,Ss,vs,ws);break e;case 1:ms=hj(null,ms,Ss,vs,ws);break e;case 11:ms=Yi$2(null,ms,Ss,vs,ws);break e;case 14:ms=$i$2(null,ms,Ss,Ci$2(Ss.type,vs),ws);break e}throw Error(p$6(306,Ss,""))}return ms;case 0:return Ss=ms.type,Es=ms.pendingProps,Es=ms.elementType===Ss?Es:Ci$2(Ss,Es),cj(vs,ms,Ss,Es,ws);case 1:return Ss=ms.type,Es=ms.pendingProps,Es=ms.elementType===Ss?Es:Ci$2(Ss,Es),hj(vs,ms,Ss,Es,ws);case 3:e:{if(kj(ms),vs===null)throw Error(p$6(387));Ss=ms.pendingProps,_s=ms.memoizedState,Es=_s.element,lh(vs,ms),qh(ms,Ss,null,ws);var Is=ms.memoizedState;if(Ss=Is.element,_s.isDehydrated)if(_s={element:Ss,isDehydrated:!1,cache:Is.cache,pendingSuspenseBoundaries:Is.pendingSuspenseBoundaries,transitions:Is.transitions},ms.updateQueue.baseState=_s,ms.memoizedState=_s,ms.flags&256){Es=Ji$1(Error(p$6(423)),ms),ms=lj(vs,ms,Ss,ws,Es);break e}else if(Ss!==Es){Es=Ji$1(Error(p$6(424)),ms),ms=lj(vs,ms,Ss,ws,Es);break e}else for(yg=Lf$1(ms.stateNode.containerInfo.firstChild),xg=ms,I$6=!0,zg=null,ws=Vg(ms,null,Ss,ws),ms.child=ws;ws;)ws.flags=ws.flags&-3|4096,ws=ws.sibling;else{if(Ig(),Ss===Es){ms=Zi$1(vs,ms,ws);break e}Xi$1(vs,ms,Ss,ws)}ms=ms.child}return ms;case 5:return Ah(ms),vs===null&&Eg(ms),Ss=ms.type,Es=ms.pendingProps,_s=vs!==null?vs.memoizedProps:null,Is=Es.children,Ef$1(Ss,Es)?Is=null:_s!==null&&Ef$1(Ss,_s)&&(ms.flags|=32),gj(vs,ms),Xi$1(vs,ms,Is,ws),ms.child;case 6:return vs===null&&Eg(ms),null;case 13:return oj(vs,ms,ws);case 4:return yh(ms,ms.stateNode.containerInfo),Ss=ms.pendingProps,vs===null?ms.child=Ug(ms,null,Ss,ws):Xi$1(vs,ms,Ss,ws),ms.child;case 11:return Ss=ms.type,Es=ms.pendingProps,Es=ms.elementType===Ss?Es:Ci$2(Ss,Es),Yi$2(vs,ms,Ss,Es,ws);case 7:return Xi$1(vs,ms,ms.pendingProps,ws),ms.child;case 8:return Xi$1(vs,ms,ms.pendingProps.children,ws),ms.child;case 12:return Xi$1(vs,ms,ms.pendingProps.children,ws),ms.child;case 10:e:{if(Ss=ms.type._context,Es=ms.pendingProps,_s=ms.memoizedProps,Is=Es.value,G$7(Wg,Ss._currentValue),Ss._currentValue=Is,_s!==null)if(He$4(_s.value,Is)){if(_s.children===Es.children&&!Wf$1.current){ms=Zi$1(vs,ms,ws);break e}}else for(_s=ms.child,_s!==null&&(_s.return=ms);_s!==null;){var Ts=_s.dependencies;if(Ts!==null){Is=_s.child;for(var Rs=Ts.firstContext;Rs!==null;){if(Rs.context===Ss){if(_s.tag===1){Rs=mh(-1,ws&-ws),Rs.tag=2;var Bs=_s.updateQueue;if(Bs!==null){Bs=Bs.shared;var Ns=Bs.pending;Ns===null?Rs.next=Rs:(Rs.next=Ns.next,Ns.next=Rs),Bs.pending=Rs}}_s.lanes|=ws,Rs=_s.alternate,Rs!==null&&(Rs.lanes|=ws),bh(_s.return,ws,ms),Ts.lanes|=ws;break}Rs=Rs.next}}else if(_s.tag===10)Is=_s.type===ms.type?null:_s.child;else if(_s.tag===18){if(Is=_s.return,Is===null)throw Error(p$6(341));Is.lanes|=ws,Ts=Is.alternate,Ts!==null&&(Ts.lanes|=ws),bh(Is,ws,ms),Is=_s.sibling}else Is=_s.child;if(Is!==null)Is.return=_s;else for(Is=_s;Is!==null;){if(Is===ms){Is=null;break}if(_s=Is.sibling,_s!==null){_s.return=Is.return,Is=_s;break}Is=Is.return}_s=Is}Xi$1(vs,ms,Es.children,ws),ms=ms.child}return ms;case 9:return Es=ms.type,Ss=ms.pendingProps.children,ch(ms,ws),Es=eh(Es),Ss=Ss(Es),ms.flags|=1,Xi$1(vs,ms,Ss,ws),ms.child;case 14:return Ss=ms.type,Es=Ci$2(Ss,ms.pendingProps),Es=Ci$2(Ss.type,Es),$i$2(vs,ms,Ss,Es,ws);case 15:return bj(vs,ms,ms.type,ms.pendingProps,ws);case 17:return Ss=ms.type,Es=ms.pendingProps,Es=ms.elementType===Ss?Es:Ci$2(Ss,Es),ij(vs,ms),ms.tag=1,Zf$1(Ss)?(vs=!0,cg(ms)):vs=!1,ch(ms,ws),Gi$2(ms,Ss,Es),Ii$2(ms,Ss,Es,ws),jj(null,ms,Ss,!0,vs,ws);case 19:return xj(vs,ms,ws);case 22:return dj(vs,ms,ws)}throw Error(p$6(156,ms.tag))};function Fk(vs,ms){return ac$1(vs,ms)}function $k(vs,ms,ws,Ss){this.tag=vs,this.key=ws,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=ms,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Ss,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(vs,ms,ws,Ss){return new $k(vs,ms,ws,Ss)}function aj(vs){return vs=vs.prototype,!(!vs||!vs.isReactComponent)}function Zk(vs){if(typeof vs=="function")return aj(vs)?1:0;if(vs!=null){if(vs=vs.$$typeof,vs===Da$1)return 11;if(vs===Ga)return 14}return 2}function Pg(vs,ms){var ws=vs.alternate;return ws===null?(ws=Bg(vs.tag,ms,vs.key,vs.mode),ws.elementType=vs.elementType,ws.type=vs.type,ws.stateNode=vs.stateNode,ws.alternate=vs,vs.alternate=ws):(ws.pendingProps=ms,ws.type=vs.type,ws.flags=0,ws.subtreeFlags=0,ws.deletions=null),ws.flags=vs.flags&14680064,ws.childLanes=vs.childLanes,ws.lanes=vs.lanes,ws.child=vs.child,ws.memoizedProps=vs.memoizedProps,ws.memoizedState=vs.memoizedState,ws.updateQueue=vs.updateQueue,ms=vs.dependencies,ws.dependencies=ms===null?null:{lanes:ms.lanes,firstContext:ms.firstContext},ws.sibling=vs.sibling,ws.index=vs.index,ws.ref=vs.ref,ws}function Rg(vs,ms,ws,Ss,Es,_s){var Is=2;if(Ss=vs,typeof vs=="function")aj(vs)&&(Is=1);else if(typeof vs=="string")Is=5;else e:switch(vs){case ya$1:return Tg(ws.children,Es,_s,ms);case za:Is=8,Es|=8;break;case Aa$1:return vs=Bg(12,ws,ms,Es|2),vs.elementType=Aa$1,vs.lanes=_s,vs;case Ea$1:return vs=Bg(13,ws,ms,Es),vs.elementType=Ea$1,vs.lanes=_s,vs;case Fa:return vs=Bg(19,ws,ms,Es),vs.elementType=Fa,vs.lanes=_s,vs;case Ia$1:return pj(ws,Es,_s,ms);default:if(typeof vs=="object"&&vs!==null)switch(vs.$$typeof){case Ba$1:Is=10;break e;case Ca$1:Is=9;break e;case Da$1:Is=11;break e;case Ga:Is=14;break e;case Ha$1:Is=16,Ss=null;break e}throw Error(p$6(130,vs==null?vs:typeof vs,""))}return ms=Bg(Is,ws,ms,Es),ms.elementType=vs,ms.type=Ss,ms.lanes=_s,ms}function Tg(vs,ms,ws,Ss){return vs=Bg(7,vs,Ss,ms),vs.lanes=ws,vs}function pj(vs,ms,ws,Ss){return vs=Bg(22,vs,Ss,ms),vs.elementType=Ia$1,vs.lanes=ws,vs.stateNode={isHidden:!1},vs}function Qg(vs,ms,ws){return vs=Bg(6,vs,null,ms),vs.lanes=ws,vs}function Sg(vs,ms,ws){return ms=Bg(4,vs.children!==null?vs.children:[],vs.key,ms),ms.lanes=ws,ms.stateNode={containerInfo:vs.containerInfo,pendingChildren:null,implementation:vs.implementation},ms}function al(vs,ms,ws,Ss,Es){this.tag=ms,this.containerInfo=vs,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc$1(0),this.expirationTimes=zc$1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc$1(0),this.identifierPrefix=Ss,this.onRecoverableError=Es,this.mutableSourceEagerHydrationData=null}function bl(vs,ms,ws,Ss,Es,_s,Is,Ts,Rs){return vs=new al(vs,ms,ws,Ts,Rs),ms===1?(ms=1,_s===!0&&(ms|=8)):ms=0,_s=Bg(3,null,null,ms),vs.current=_s,_s.stateNode=vs,_s.memoizedState={element:Ss,isDehydrated:ws,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(_s),vs}function cl(vs,ms,ws){var Ss=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa$1,key:Ss==null?null:""+Ss,children:vs,containerInfo:ms,implementation:ws}}function dl(vs){if(!vs)return Vf$1;vs=vs._reactInternals;e:{if(Vb(vs)!==vs||vs.tag!==1)throw Error(p$6(170));var ms=vs;do{switch(ms.tag){case 3:ms=ms.stateNode.context;break e;case 1:if(Zf$1(ms.type)){ms=ms.stateNode.__reactInternalMemoizedMergedChildContext;break e}}ms=ms.return}while(ms!==null);throw Error(p$6(171))}if(vs.tag===1){var ws=vs.type;if(Zf$1(ws))return bg(vs,ws,ms)}return ms}function el(vs,ms,ws,Ss,Es,_s,Is,Ts,Rs){return vs=bl(ws,Ss,!0,vs,Es,_s,Is,Ts,Rs),vs.context=dl(null),ws=vs.current,Ss=R$8(),Es=yi$2(ws),_s=mh(Ss,Es),_s.callback=ms??null,nh(ws,_s,Es),vs.current.lanes=Es,Ac$1(vs,Es,Ss),Dk(vs,Ss),vs}function fl(vs,ms,ws,Ss){var Es=ms.current,_s=R$8(),Is=yi$2(Es);return ws=dl(ws),ms.context===null?ms.context=ws:ms.pendingContext=ws,ms=mh(_s,Is),ms.payload={element:vs},Ss=Ss===void 0?null:Ss,Ss!==null&&(ms.callback=Ss),vs=nh(Es,ms,Is),vs!==null&&(gi$2(vs,Es,Is,_s),oh(vs,Es,Is)),Is}function gl(vs){if(vs=vs.current,!vs.child)return null;switch(vs.child.tag){case 5:return vs.child.stateNode;default:return vs.child.stateNode}}function hl(vs,ms){if(vs=vs.memoizedState,vs!==null&&vs.dehydrated!==null){var ws=vs.retryLane;vs.retryLane=ws!==0&&ws<ms?ws:ms}}function il(vs,ms){hl(vs,ms),(vs=vs.alternate)&&hl(vs,ms)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(vs){console.error(vs)};function ll(vs){this._internalRoot=vs}ml.prototype.render=ll.prototype.render=function(vs){var ms=this._internalRoot;if(ms===null)throw Error(p$6(409));fl(vs,ms,null,null)},ml.prototype.unmount=ll.prototype.unmount=function(){var vs=this._internalRoot;if(vs!==null){this._internalRoot=null;var ms=vs.containerInfo;Rk(function(){fl(null,vs,null,null)}),ms[uf$1]=null}};function ml(vs){this._internalRoot=vs}ml.prototype.unstable_scheduleHydration=function(vs){if(vs){var ms=Hc$1();vs={blockedOn:null,target:vs,priority:ms};for(var ws=0;ws<Qc$1.length&&ms!==0&&ms<Qc$1[ws].priority;ws++);Qc$1.splice(ws,0,vs),ws===0&&Vc$1(vs)}};function nl(vs){return!(!vs||vs.nodeType!==1&&vs.nodeType!==9&&vs.nodeType!==11)}function ol(vs){return!(!vs||vs.nodeType!==1&&vs.nodeType!==9&&vs.nodeType!==11&&(vs.nodeType!==8||vs.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(vs,ms,ws,Ss,Es){if(Es){if(typeof Ss=="function"){var _s=Ss;Ss=function(){var Bs=gl(Is);_s.call(Bs)}}var Is=el(ms,Ss,vs,0,null,!1,!1,"",pl);return vs._reactRootContainer=Is,vs[uf$1]=Is.current,sf$1(vs.nodeType===8?vs.parentNode:vs),Rk(),Is}for(;Es=vs.lastChild;)vs.removeChild(Es);if(typeof Ss=="function"){var Ts=Ss;Ss=function(){var Bs=gl(Rs);Ts.call(Bs)}}var Rs=bl(vs,0,!1,null,null,!1,!1,"",pl);return vs._reactRootContainer=Rs,vs[uf$1]=Rs.current,sf$1(vs.nodeType===8?vs.parentNode:vs),Rk(function(){fl(ms,Rs,ws,Ss)}),Rs}function rl(vs,ms,ws,Ss,Es){var _s=ws._reactRootContainer;if(_s){var Is=_s;if(typeof Es=="function"){var Ts=Es;Es=function(){var Rs=gl(Is);Ts.call(Rs)}}fl(ms,Is,vs,Es)}else Is=ql(ws,ms,vs,Es,Ss);return gl(Is)}Ec$1=function(vs){switch(vs.tag){case 3:var ms=vs.stateNode;if(ms.current.memoizedState.isDehydrated){var ws=tc$1(ms.pendingLanes);ws!==0&&(Cc$1(ms,ws|1),Dk(ms,B$6()),!(K$7&6)&&(Gj=B$6()+500,jg()))}break;case 13:Rk(function(){var Ss=ih(vs,1);if(Ss!==null){var Es=R$8();gi$2(Ss,vs,1,Es)}}),il(vs,1)}},Fc$1=function(vs){if(vs.tag===13){var ms=ih(vs,134217728);if(ms!==null){var ws=R$8();gi$2(ms,vs,134217728,ws)}il(vs,134217728)}},Gc$1=function(vs){if(vs.tag===13){var ms=yi$2(vs),ws=ih(vs,ms);if(ws!==null){var Ss=R$8();gi$2(ws,vs,ms,Ss)}il(vs,ms)}},Hc$1=function(){return C$8},Ic$1=function(vs,ms){var ws=C$8;try{return C$8=vs,ms()}finally{C$8=ws}},yb=function(vs,ms,ws){switch(ms){case"input":if(bb(vs,ws),ms=ws.name,ws.type==="radio"&&ms!=null){for(ws=vs;ws.parentNode;)ws=ws.parentNode;for(ws=ws.querySelectorAll("input[name="+JSON.stringify(""+ms)+'][type="radio"]'),ms=0;ms<ws.length;ms++){var Ss=ws[ms];if(Ss!==vs&&Ss.form===vs.form){var Es=Db(Ss);if(!Es)throw Error(p$6(90));Wa(Ss),bb(Ss,Es)}}}break;case"textarea":ib(vs,ws);break;case"select":ms=ws.value,ms!=null&&fb(vs,!!ws.multiple,ms,!1)}},Gb=Qk,Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc$1,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$1.ReactCurrentDispatcher,findHostInstanceByFiber:function(vs){return vs=Zb(vs),vs===null?null:vs.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc$1=vl.inject(ul),lc$1=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl,reactDom_production_min.createPortal=function(vs,ms){var ws=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(ms))throw Error(p$6(200));return cl(vs,ms,null,ws)},reactDom_production_min.createRoot=function(vs,ms){if(!nl(vs))throw Error(p$6(299));var ws=!1,Ss="",Es=kl;return ms!=null&&(ms.unstable_strictMode===!0&&(ws=!0),ms.identifierPrefix!==void 0&&(Ss=ms.identifierPrefix),ms.onRecoverableError!==void 0&&(Es=ms.onRecoverableError)),ms=bl(vs,1,!1,null,null,ws,!1,Ss,Es),vs[uf$1]=ms.current,sf$1(vs.nodeType===8?vs.parentNode:vs),new ll(ms)},reactDom_production_min.findDOMNode=function(vs){if(vs==null)return null;if(vs.nodeType===1)return vs;var ms=vs._reactInternals;if(ms===void 0)throw typeof vs.render=="function"?Error(p$6(188)):(vs=Object.keys(vs).join(","),Error(p$6(268,vs)));return vs=Zb(ms),vs=vs===null?null:vs.stateNode,vs},reactDom_production_min.flushSync=function(vs){return Rk(vs)},reactDom_production_min.hydrate=function(vs,ms,ws){if(!ol(ms))throw Error(p$6(200));return rl(null,vs,ms,!0,ws)},reactDom_production_min.hydrateRoot=function(vs,ms,ws){if(!nl(vs))throw Error(p$6(405));var Ss=ws!=null&&ws.hydratedSources||null,Es=!1,_s="",Is=kl;if(ws!=null&&(ws.unstable_strictMode===!0&&(Es=!0),ws.identifierPrefix!==void 0&&(_s=ws.identifierPrefix),ws.onRecoverableError!==void 0&&(Is=ws.onRecoverableError)),ms=el(ms,null,vs,1,ws??null,Es,!1,_s,Is),vs[uf$1]=ms.current,sf$1(vs),Ss)for(vs=0;vs<Ss.length;vs++)ws=Ss[vs],Es=ws._getVersion,Es=Es(ws._source),ms.mutableSourceEagerHydrationData==null?ms.mutableSourceEagerHydrationData=[ws,Es]:ms.mutableSourceEagerHydrationData.push(ws,Es);return new ml(ms)},reactDom_production_min.render=function(vs,ms,ws){if(!ol(ms))throw Error(p$6(200));return rl(null,vs,ms,!1,ws)},reactDom_production_min.unmountComponentAtNode=function(vs){if(!ol(vs))throw Error(p$6(40));return vs._reactRootContainer?(Rk(function(){rl(null,null,vs,!1,function(){vs._reactRootContainer=null,vs[uf$1]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=Qk,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(vs,ms,ws,Ss){if(!ol(ws))throw Error(p$6(200));if(vs==null||vs._reactInternals===void 0)throw Error(p$6(38));return rl(vs,ms,ws,!1,Ss)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(vs){console.error(vs)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$9=reactDomExports;client.createRoot=m$9.createRoot,client.hydrateRoot=m$9.hydrateRoot;var withSelector={exports:{}},withSelector_production={},shim$2={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=reactExports;function is$2(vs,ms){return vs===ms&&(vs!==0||1/vs===1/ms)||vs!==vs&&ms!==ms}var objectIs$1=typeof Object.is=="function"?Object.is:is$2,useState=React$1.useState,useEffect$1=React$1.useEffect,useLayoutEffect=React$1.useLayoutEffect,useDebugValue$1=React$1.useDebugValue;function useSyncExternalStore$2(vs,ms){var ws=ms(),Ss=useState({inst:{value:ws,getSnapshot:ms}}),Es=Ss[0].inst,_s=Ss[1];return useLayoutEffect(function(){Es.value=ws,Es.getSnapshot=ms,checkIfSnapshotChanged(Es)&&_s({inst:Es})},[vs,ws,ms]),useEffect$1(function(){return checkIfSnapshotChanged(Es)&&_s({inst:Es}),vs(function(){checkIfSnapshotChanged(Es)&&_s({inst:Es})})},[vs]),useDebugValue$1(ws),ws}function checkIfSnapshotChanged(vs){var ms=vs.getSnapshot;vs=vs.value;try{var ws=ms();return!objectIs$1(vs,ws)}catch{return!0}}function useSyncExternalStore$1(vs,ms){return ms()}var shim$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React$1.useSyncExternalStore!==void 0?React$1.useSyncExternalStore:shim$1,shim$2.exports=useSyncExternalStoreShim_production;var shimExports=shim$2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports,shim=shimExports;function is$1(vs,ms){return vs===ms&&(vs!==0||1/vs===1/ms)||vs!==vs&&ms!==ms}var objectIs=typeof Object.is=="function"?Object.is:is$1,useSyncExternalStore=shim.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue=React.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(vs,ms,ws,Ss,Es){var _s=useRef(null);if(_s.current===null){var Is={hasValue:!1,value:null};_s.current=Is}else Is=_s.current;_s=useMemo(function(){function Rs($l){if(!Bs){if(Bs=!0,Ns=$l,$l=Ss($l),Es!==void 0&&Is.hasValue){var wl=Is.value;if(Es(wl,$l))return Ws=wl}return Ws=$l}if(wl=Ws,objectIs(Ns,$l))return wl;var _l=Ss($l);return Es!==void 0&&Es(wl,_l)?(Ns=$l,wl):(Ns=$l,Ws=_l)}var Bs=!1,Ns,Ws,Js=ws===void 0?null:ws;return[function(){return Rs(ms())},Js===null?void 0:function(){return Rs(Js())}]},[ms,ws,Ss,Es]);var Ts=useSyncExternalStore(vs,_s[0],_s[1]);return useEffect(function(){Is.hasValue=!0,Is.value=Ts},[Ts]),useDebugValue(Ts),Ts},withSelector.exports=withSelector_production;var withSelectorExports=withSelector.exports;const __storeToDerived=new WeakMap,__derivedToStore=new WeakMap,__depsThatHaveWrittenThisTick={current:[]};let __isFlushing=!1;const __pendingUpdates=new Set,__initialBatchValues=new Map;function __flush_internals(vs){const ms=Array.from(vs).sort((ws,Ss)=>ws instanceof Derived&&ws.options.deps.includes(Ss)?1:Ss instanceof Derived&&Ss.options.deps.includes(ws)?-1:0);for(const ws of ms){if(__depsThatHaveWrittenThisTick.current.includes(ws))continue;__depsThatHaveWrittenThisTick.current.push(ws),ws.recompute();const Ss=__derivedToStore.get(ws);if(Ss)for(const Es of Ss){const _s=__storeToDerived.get(Es);_s&&__flush_internals(_s)}}}function __notifyListeners(vs){vs.listeners.forEach(ms=>ms({prevVal:vs.prevState,currentVal:vs.state}))}function __notifyDerivedListeners(vs){vs.listeners.forEach(ms=>ms({prevVal:vs.prevState,currentVal:vs.state}))}function __flush(vs){if(__pendingUpdates.add(vs),!__isFlushing)try{for(__isFlushing=!0;__pendingUpdates.size>0;){const ms=Array.from(__pendingUpdates);__pendingUpdates.clear();for(const ws of ms){const Ss=__initialBatchValues.get(ws)??ws.prevState;ws.prevState=Ss,__notifyListeners(ws)}for(const ws of ms){const Ss=__storeToDerived.get(ws);Ss&&(__depsThatHaveWrittenThisTick.current.push(ws),__flush_internals(Ss))}for(const ws of ms){const Ss=__storeToDerived.get(ws);if(Ss)for(const Es of Ss)__notifyDerivedListeners(Es)}}}finally{__isFlushing=!1,__depsThatHaveWrittenThisTick.current=[],__initialBatchValues.clear()}}function isUpdaterFunction(vs){return typeof vs=="function"}class Store{constructor(ms,ws){this.listeners=new Set,this.subscribe=Ss=>{var Es,_s;this.listeners.add(Ss);const Is=(_s=(Es=this.options)==null?void 0:Es.onSubscribe)==null?void 0:_s.call(Es,Ss,this);return()=>{this.listeners.delete(Ss),Is==null||Is()}},this.prevState=ms,this.state=ms,this.options=ws}setState(ms){var ws,Ss,Es;this.prevState=this.state,(ws=this.options)!=null&&ws.updateFn?this.state=this.options.updateFn(this.prevState)(ms):isUpdaterFunction(ms)?this.state=ms(this.prevState):this.state=ms,(Es=(Ss=this.options)==null?void 0:Ss.onUpdate)==null||Es.call(Ss),__flush(this)}}class Derived{constructor(ms){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const ws=[],Ss=[];for(const Es of this.options.deps)ws.push(Es.prevState),Ss.push(Es.state);return this.lastSeenDepValues=Ss,{prevDepVals:ws,currDepVals:Ss,prevVal:this.prevState??void 0}},this.recompute=()=>{var ws,Ss;this.prevState=this.state;const{prevDepVals:Es,currDepVals:_s,prevVal:Is}=this.getDepVals();this.state=this.options.fn({prevDepVals:Es,currDepVals:_s,prevVal:Is}),(Ss=(ws=this.options).onUpdate)==null||Ss.call(ws)},this.checkIfRecalculationNeededDeeply=()=>{for(const _s of this.options.deps)_s instanceof Derived&&_s.checkIfRecalculationNeededDeeply();let ws=!1;const Ss=this.lastSeenDepValues,{currDepVals:Es}=this.getDepVals();for(let _s=0;_s<Es.length;_s++)if(Es[_s]!==Ss[_s]){ws=!0;break}ws&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const ws of this._subscriptions)ws()}),this.subscribe=ws=>{var Ss,Es;this.listeners.add(ws);const _s=(Es=(Ss=this.options).onSubscribe)==null?void 0:Es.call(Ss,ws,this);return()=>{this.listeners.delete(ws),_s==null||_s()}},this.options=ms,this.state=ms.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(ms=this.options.deps){for(const ws of ms)if(ws instanceof Derived)ws.registerOnGraph(),this.registerOnGraph(ws.options.deps);else if(ws instanceof Store){let Ss=__storeToDerived.get(ws);Ss||(Ss=new Set,__storeToDerived.set(ws,Ss)),Ss.add(this);let Es=__derivedToStore.get(this);Es||(Es=new Set,__derivedToStore.set(this,Es)),Es.add(ws)}}unregisterFromGraph(ms=this.options.deps){for(const ws of ms)if(ws instanceof Derived)this.unregisterFromGraph(ws.options.deps);else if(ws instanceof Store){const Ss=__storeToDerived.get(ws);Ss&&Ss.delete(this);const Es=__derivedToStore.get(this);Es&&Es.delete(ws)}}}function useStore(vs,ms=ws=>ws){return withSelectorExports.useSyncExternalStoreWithSelector(vs.subscribe,()=>vs.state,()=>vs.state,ms,shallow)}function shallow(vs,ms){if(Object.is(vs,ms))return!0;if(typeof vs!="object"||vs===null||typeof ms!="object"||ms===null)return!1;if(vs instanceof Map&&ms instanceof Map){if(vs.size!==ms.size)return!1;for(const[Ss,Es]of vs)if(!ms.has(Ss)||!Object.is(Es,ms.get(Ss)))return!1;return!0}if(vs instanceof Set&&ms instanceof Set){if(vs.size!==ms.size)return!1;for(const Ss of vs)if(!ms.has(Ss))return!1;return!0}if(vs instanceof Date&&ms instanceof Date)return vs.getTime()===ms.getTime();const ws=Object.keys(vs);if(ws.length!==Object.keys(ms).length)return!1;for(let Ss=0;Ss<ws.length;Ss++)if(!Object.prototype.hasOwnProperty.call(ms,ws[Ss])||!Object.is(vs[ws[Ss]],ms[ws[Ss]]))return!1;return!0}function commonjsRequire(vs){throw new Error('Could not dynamically require "'+vs+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var naclFast={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(__viteBrowserExternal$1);(function(vs){(function(ms){var ws=function(au){var $u,Tu=new Float64Array(16);if(au)for($u=0;$u<au.length;$u++)Tu[$u]=au[$u];return Tu},Ss=function(){throw new Error("no PRNG")},Es=new Uint8Array(16),_s=new Uint8Array(32);_s[0]=9;var Is=ws(),Ts=ws([1]),Rs=ws([56129,1]),Bs=ws([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Ns=ws([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Ws=ws([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Js=ws([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),$l=ws([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function wl(au,$u,Tu,Ql){au[$u]=Tu>>24&255,au[$u+1]=Tu>>16&255,au[$u+2]=Tu>>8&255,au[$u+3]=Tu&255,au[$u+4]=Ql>>24&255,au[$u+5]=Ql>>16&255,au[$u+6]=Ql>>8&255,au[$u+7]=Ql&255}function _l(au,$u,Tu,Ql,Mu){var ap,sp=0;for(ap=0;ap<Mu;ap++)sp|=au[$u+ap]^Tu[Ql+ap];return(1&sp-1>>>8)-1}function Cl(au,$u,Tu,Ql){return _l(au,$u,Tu,Ql,16)}function Sl(au,$u,Tu,Ql){return _l(au,$u,Tu,Ql,32)}function El(au,$u,Tu,Ql){for(var Mu=Ql[0]&255|(Ql[1]&255)<<8|(Ql[2]&255)<<16|(Ql[3]&255)<<24,ap=Tu[0]&255|(Tu[1]&255)<<8|(Tu[2]&255)<<16|(Tu[3]&255)<<24,sp=Tu[4]&255|(Tu[5]&255)<<8|(Tu[6]&255)<<16|(Tu[7]&255)<<24,pp=Tu[8]&255|(Tu[9]&255)<<8|(Tu[10]&255)<<16|(Tu[11]&255)<<24,Mp=Tu[12]&255|(Tu[13]&255)<<8|(Tu[14]&255)<<16|(Tu[15]&255)<<24,qp=Ql[4]&255|(Ql[5]&255)<<8|(Ql[6]&255)<<16|(Ql[7]&255)<<24,Bp=$u[0]&255|($u[1]&255)<<8|($u[2]&255)<<16|($u[3]&255)<<24,sm=$u[4]&255|($u[5]&255)<<8|($u[6]&255)<<16|($u[7]&255)<<24,Np=$u[8]&255|($u[9]&255)<<8|($u[10]&255)<<16|($u[11]&255)<<24,_g=$u[12]&255|($u[13]&255)<<8|($u[14]&255)<<16|($u[15]&255)<<24,Kp=Ql[8]&255|(Ql[9]&255)<<8|(Ql[10]&255)<<16|(Ql[11]&255)<<24,Xp=Tu[16]&255|(Tu[17]&255)<<8|(Tu[18]&255)<<16|(Tu[19]&255)<<24,rm=Tu[20]&255|(Tu[21]&255)<<8|(Tu[22]&255)<<16|(Tu[23]&255)<<24,em=Tu[24]&255|(Tu[25]&255)<<8|(Tu[26]&255)<<16|(Tu[27]&255)<<24,Wp=Tu[28]&255|(Tu[29]&255)<<8|(Tu[30]&255)<<16|(Tu[31]&255)<<24,nm=Ql[12]&255|(Ql[13]&255)<<8|(Ql[14]&255)<<16|(Ql[15]&255)<<24,Fp=Mu,Up=ap,Vp=sp,Lp=pp,xp=Mp,zp=qp,lp=Bp,gp=sm,Tp=Np,mu=_g,Iu=Kp,Cu=Xp,Ju=rm,Ku=em,ep=Wp,up=nm,Pu,yp=0;yp<20;yp+=2)Pu=Fp+Ju|0,xp^=Pu<<7|Pu>>>25,Pu=xp+Fp|0,Tp^=Pu<<9|Pu>>>23,Pu=Tp+xp|0,Ju^=Pu<<13|Pu>>>19,Pu=Ju+Tp|0,Fp^=Pu<<18|Pu>>>14,Pu=zp+Up|0,mu^=Pu<<7|Pu>>>25,Pu=mu+zp|0,Ku^=Pu<<9|Pu>>>23,Pu=Ku+mu|0,Up^=Pu<<13|Pu>>>19,Pu=Up+Ku|0,zp^=Pu<<18|Pu>>>14,Pu=Iu+lp|0,ep^=Pu<<7|Pu>>>25,Pu=ep+Iu|0,Vp^=Pu<<9|Pu>>>23,Pu=Vp+ep|0,lp^=Pu<<13|Pu>>>19,Pu=lp+Vp|0,Iu^=Pu<<18|Pu>>>14,Pu=up+Cu|0,Lp^=Pu<<7|Pu>>>25,Pu=Lp+up|0,gp^=Pu<<9|Pu>>>23,Pu=gp+Lp|0,Cu^=Pu<<13|Pu>>>19,Pu=Cu+gp|0,up^=Pu<<18|Pu>>>14,Pu=Fp+Lp|0,Up^=Pu<<7|Pu>>>25,Pu=Up+Fp|0,Vp^=Pu<<9|Pu>>>23,Pu=Vp+Up|0,Lp^=Pu<<13|Pu>>>19,Pu=Lp+Vp|0,Fp^=Pu<<18|Pu>>>14,Pu=zp+xp|0,lp^=Pu<<7|Pu>>>25,Pu=lp+zp|0,gp^=Pu<<9|Pu>>>23,Pu=gp+lp|0,xp^=Pu<<13|Pu>>>19,Pu=xp+gp|0,zp^=Pu<<18|Pu>>>14,Pu=Iu+mu|0,Cu^=Pu<<7|Pu>>>25,Pu=Cu+Iu|0,Tp^=Pu<<9|Pu>>>23,Pu=Tp+Cu|0,mu^=Pu<<13|Pu>>>19,Pu=mu+Tp|0,Iu^=Pu<<18|Pu>>>14,Pu=up+ep|0,Ju^=Pu<<7|Pu>>>25,Pu=Ju+up|0,Ku^=Pu<<9|Pu>>>23,Pu=Ku+Ju|0,ep^=Pu<<13|Pu>>>19,Pu=ep+Ku|0,up^=Pu<<18|Pu>>>14;Fp=Fp+Mu|0,Up=Up+ap|0,Vp=Vp+sp|0,Lp=Lp+pp|0,xp=xp+Mp|0,zp=zp+qp|0,lp=lp+Bp|0,gp=gp+sm|0,Tp=Tp+Np|0,mu=mu+_g|0,Iu=Iu+Kp|0,Cu=Cu+Xp|0,Ju=Ju+rm|0,Ku=Ku+em|0,ep=ep+Wp|0,up=up+nm|0,au[0]=Fp>>>0&255,au[1]=Fp>>>8&255,au[2]=Fp>>>16&255,au[3]=Fp>>>24&255,au[4]=Up>>>0&255,au[5]=Up>>>8&255,au[6]=Up>>>16&255,au[7]=Up>>>24&255,au[8]=Vp>>>0&255,au[9]=Vp>>>8&255,au[10]=Vp>>>16&255,au[11]=Vp>>>24&255,au[12]=Lp>>>0&255,au[13]=Lp>>>8&255,au[14]=Lp>>>16&255,au[15]=Lp>>>24&255,au[16]=xp>>>0&255,au[17]=xp>>>8&255,au[18]=xp>>>16&255,au[19]=xp>>>24&255,au[20]=zp>>>0&255,au[21]=zp>>>8&255,au[22]=zp>>>16&255,au[23]=zp>>>24&255,au[24]=lp>>>0&255,au[25]=lp>>>8&255,au[26]=lp>>>16&255,au[27]=lp>>>24&255,au[28]=gp>>>0&255,au[29]=gp>>>8&255,au[30]=gp>>>16&255,au[31]=gp>>>24&255,au[32]=Tp>>>0&255,au[33]=Tp>>>8&255,au[34]=Tp>>>16&255,au[35]=Tp>>>24&255,au[36]=mu>>>0&255,au[37]=mu>>>8&255,au[38]=mu>>>16&255,au[39]=mu>>>24&255,au[40]=Iu>>>0&255,au[41]=Iu>>>8&255,au[42]=Iu>>>16&255,au[43]=Iu>>>24&255,au[44]=Cu>>>0&255,au[45]=Cu>>>8&255,au[46]=Cu>>>16&255,au[47]=Cu>>>24&255,au[48]=Ju>>>0&255,au[49]=Ju>>>8&255,au[50]=Ju>>>16&255,au[51]=Ju>>>24&255,au[52]=Ku>>>0&255,au[53]=Ku>>>8&255,au[54]=Ku>>>16&255,au[55]=Ku>>>24&255,au[56]=ep>>>0&255,au[57]=ep>>>8&255,au[58]=ep>>>16&255,au[59]=ep>>>24&255,au[60]=up>>>0&255,au[61]=up>>>8&255,au[62]=up>>>16&255,au[63]=up>>>24&255}function xl(au,$u,Tu,Ql){for(var Mu=Ql[0]&255|(Ql[1]&255)<<8|(Ql[2]&255)<<16|(Ql[3]&255)<<24,ap=Tu[0]&255|(Tu[1]&255)<<8|(Tu[2]&255)<<16|(Tu[3]&255)<<24,sp=Tu[4]&255|(Tu[5]&255)<<8|(Tu[6]&255)<<16|(Tu[7]&255)<<24,pp=Tu[8]&255|(Tu[9]&255)<<8|(Tu[10]&255)<<16|(Tu[11]&255)<<24,Mp=Tu[12]&255|(Tu[13]&255)<<8|(Tu[14]&255)<<16|(Tu[15]&255)<<24,qp=Ql[4]&255|(Ql[5]&255)<<8|(Ql[6]&255)<<16|(Ql[7]&255)<<24,Bp=$u[0]&255|($u[1]&255)<<8|($u[2]&255)<<16|($u[3]&255)<<24,sm=$u[4]&255|($u[5]&255)<<8|($u[6]&255)<<16|($u[7]&255)<<24,Np=$u[8]&255|($u[9]&255)<<8|($u[10]&255)<<16|($u[11]&255)<<24,_g=$u[12]&255|($u[13]&255)<<8|($u[14]&255)<<16|($u[15]&255)<<24,Kp=Ql[8]&255|(Ql[9]&255)<<8|(Ql[10]&255)<<16|(Ql[11]&255)<<24,Xp=Tu[16]&255|(Tu[17]&255)<<8|(Tu[18]&255)<<16|(Tu[19]&255)<<24,rm=Tu[20]&255|(Tu[21]&255)<<8|(Tu[22]&255)<<16|(Tu[23]&255)<<24,em=Tu[24]&255|(Tu[25]&255)<<8|(Tu[26]&255)<<16|(Tu[27]&255)<<24,Wp=Tu[28]&255|(Tu[29]&255)<<8|(Tu[30]&255)<<16|(Tu[31]&255)<<24,nm=Ql[12]&255|(Ql[13]&255)<<8|(Ql[14]&255)<<16|(Ql[15]&255)<<24,Fp=Mu,Up=ap,Vp=sp,Lp=pp,xp=Mp,zp=qp,lp=Bp,gp=sm,Tp=Np,mu=_g,Iu=Kp,Cu=Xp,Ju=rm,Ku=em,ep=Wp,up=nm,Pu,yp=0;yp<20;yp+=2)Pu=Fp+Ju|0,xp^=Pu<<7|Pu>>>25,Pu=xp+Fp|0,Tp^=Pu<<9|Pu>>>23,Pu=Tp+xp|0,Ju^=Pu<<13|Pu>>>19,Pu=Ju+Tp|0,Fp^=Pu<<18|Pu>>>14,Pu=zp+Up|0,mu^=Pu<<7|Pu>>>25,Pu=mu+zp|0,Ku^=Pu<<9|Pu>>>23,Pu=Ku+mu|0,Up^=Pu<<13|Pu>>>19,Pu=Up+Ku|0,zp^=Pu<<18|Pu>>>14,Pu=Iu+lp|0,ep^=Pu<<7|Pu>>>25,Pu=ep+Iu|0,Vp^=Pu<<9|Pu>>>23,Pu=Vp+ep|0,lp^=Pu<<13|Pu>>>19,Pu=lp+Vp|0,Iu^=Pu<<18|Pu>>>14,Pu=up+Cu|0,Lp^=Pu<<7|Pu>>>25,Pu=Lp+up|0,gp^=Pu<<9|Pu>>>23,Pu=gp+Lp|0,Cu^=Pu<<13|Pu>>>19,Pu=Cu+gp|0,up^=Pu<<18|Pu>>>14,Pu=Fp+Lp|0,Up^=Pu<<7|Pu>>>25,Pu=Up+Fp|0,Vp^=Pu<<9|Pu>>>23,Pu=Vp+Up|0,Lp^=Pu<<13|Pu>>>19,Pu=Lp+Vp|0,Fp^=Pu<<18|Pu>>>14,Pu=zp+xp|0,lp^=Pu<<7|Pu>>>25,Pu=lp+zp|0,gp^=Pu<<9|Pu>>>23,Pu=gp+lp|0,xp^=Pu<<13|Pu>>>19,Pu=xp+gp|0,zp^=Pu<<18|Pu>>>14,Pu=Iu+mu|0,Cu^=Pu<<7|Pu>>>25,Pu=Cu+Iu|0,Tp^=Pu<<9|Pu>>>23,Pu=Tp+Cu|0,mu^=Pu<<13|Pu>>>19,Pu=mu+Tp|0,Iu^=Pu<<18|Pu>>>14,Pu=up+ep|0,Ju^=Pu<<7|Pu>>>25,Pu=Ju+up|0,Ku^=Pu<<9|Pu>>>23,Pu=Ku+Ju|0,ep^=Pu<<13|Pu>>>19,Pu=ep+Ku|0,up^=Pu<<18|Pu>>>14;au[0]=Fp>>>0&255,au[1]=Fp>>>8&255,au[2]=Fp>>>16&255,au[3]=Fp>>>24&255,au[4]=zp>>>0&255,au[5]=zp>>>8&255,au[6]=zp>>>16&255,au[7]=zp>>>24&255,au[8]=Iu>>>0&255,au[9]=Iu>>>8&255,au[10]=Iu>>>16&255,au[11]=Iu>>>24&255,au[12]=up>>>0&255,au[13]=up>>>8&255,au[14]=up>>>16&255,au[15]=up>>>24&255,au[16]=lp>>>0&255,au[17]=lp>>>8&255,au[18]=lp>>>16&255,au[19]=lp>>>24&255,au[20]=gp>>>0&255,au[21]=gp>>>8&255,au[22]=gp>>>16&255,au[23]=gp>>>24&255,au[24]=Tp>>>0&255,au[25]=Tp>>>8&255,au[26]=Tp>>>16&255,au[27]=Tp>>>24&255,au[28]=mu>>>0&255,au[29]=mu>>>8&255,au[30]=mu>>>16&255,au[31]=mu>>>24&255}function Ml(au,$u,Tu,Ql){El(au,$u,Tu,Ql)}function Vl(au,$u,Tu,Ql){xl(au,$u,Tu,Ql)}var Ul=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function _h(au,$u,Tu,Ql,Mu,ap,sp){var pp=new Uint8Array(16),Mp=new Uint8Array(64),qp,Bp;for(Bp=0;Bp<16;Bp++)pp[Bp]=0;for(Bp=0;Bp<8;Bp++)pp[Bp]=ap[Bp];for(;Mu>=64;){for(Ml(Mp,pp,sp,Ul),Bp=0;Bp<64;Bp++)au[$u+Bp]=Tu[Ql+Bp]^Mp[Bp];for(qp=1,Bp=8;Bp<16;Bp++)qp=qp+(pp[Bp]&255)|0,pp[Bp]=qp&255,qp>>>=8;Mu-=64,$u+=64,Ql+=64}if(Mu>0)for(Ml(Mp,pp,sp,Ul),Bp=0;Bp<Mu;Bp++)au[$u+Bp]=Tu[Ql+Bp]^Mp[Bp];return 0}function nu(au,$u,Tu,Ql,Mu){var ap=new Uint8Array(16),sp=new Uint8Array(64),pp,Mp;for(Mp=0;Mp<16;Mp++)ap[Mp]=0;for(Mp=0;Mp<8;Mp++)ap[Mp]=Ql[Mp];for(;Tu>=64;){for(Ml(sp,ap,Mu,Ul),Mp=0;Mp<64;Mp++)au[$u+Mp]=sp[Mp];for(pp=1,Mp=8;Mp<16;Mp++)pp=pp+(ap[Mp]&255)|0,ap[Mp]=pp&255,pp>>>=8;Tu-=64,$u+=64}if(Tu>0)for(Ml(sp,ap,Mu,Ul),Mp=0;Mp<Tu;Mp++)au[$u+Mp]=sp[Mp];return 0}function su(au,$u,Tu,Ql,Mu){var ap=new Uint8Array(32);Vl(ap,Ql,Mu,Ul);for(var sp=new Uint8Array(8),pp=0;pp<8;pp++)sp[pp]=Ql[pp+16];return nu(au,$u,Tu,sp,ap)}function Jl(au,$u,Tu,Ql,Mu,ap,sp){var pp=new Uint8Array(32);Vl(pp,ap,sp,Ul);for(var Mp=new Uint8Array(8),qp=0;qp<8;qp++)Mp[qp]=ap[qp+16];return _h(au,$u,Tu,Ql,Mu,Mp,pp)}var Il=function(au){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var $u,Tu,Ql,Mu,ap,sp,pp,Mp;$u=au[0]&255|(au[1]&255)<<8,this.r[0]=$u&8191,Tu=au[2]&255|(au[3]&255)<<8,this.r[1]=($u>>>13|Tu<<3)&8191,Ql=au[4]&255|(au[5]&255)<<8,this.r[2]=(Tu>>>10|Ql<<6)&7939,Mu=au[6]&255|(au[7]&255)<<8,this.r[3]=(Ql>>>7|Mu<<9)&8191,ap=au[8]&255|(au[9]&255)<<8,this.r[4]=(Mu>>>4|ap<<12)&255,this.r[5]=ap>>>1&8190,sp=au[10]&255|(au[11]&255)<<8,this.r[6]=(ap>>>14|sp<<2)&8191,pp=au[12]&255|(au[13]&255)<<8,this.r[7]=(sp>>>11|pp<<5)&8065,Mp=au[14]&255|(au[15]&255)<<8,this.r[8]=(pp>>>8|Mp<<8)&8191,this.r[9]=Mp>>>5&127,this.pad[0]=au[16]&255|(au[17]&255)<<8,this.pad[1]=au[18]&255|(au[19]&255)<<8,this.pad[2]=au[20]&255|(au[21]&255)<<8,this.pad[3]=au[22]&255|(au[23]&255)<<8,this.pad[4]=au[24]&255|(au[25]&255)<<8,this.pad[5]=au[26]&255|(au[27]&255)<<8,this.pad[6]=au[28]&255|(au[29]&255)<<8,this.pad[7]=au[30]&255|(au[31]&255)<<8};Il.prototype.blocks=function(au,$u,Tu){for(var Ql=this.fin?0:2048,Mu,ap,sp,pp,Mp,qp,Bp,sm,Np,_g,Kp,Xp,rm,em,Wp,nm,Fp,Up,Vp,Lp=this.h[0],xp=this.h[1],zp=this.h[2],lp=this.h[3],gp=this.h[4],Tp=this.h[5],mu=this.h[6],Iu=this.h[7],Cu=this.h[8],Ju=this.h[9],Ku=this.r[0],ep=this.r[1],up=this.r[2],Pu=this.r[3],yp=this.r[4],wp=this.r[5],vp=this.r[6],Rp=this.r[7],Gp=this.r[8],Jp=this.r[9];Tu>=16;)Mu=au[$u+0]&255|(au[$u+1]&255)<<8,Lp+=Mu&8191,ap=au[$u+2]&255|(au[$u+3]&255)<<8,xp+=(Mu>>>13|ap<<3)&8191,sp=au[$u+4]&255|(au[$u+5]&255)<<8,zp+=(ap>>>10|sp<<6)&8191,pp=au[$u+6]&255|(au[$u+7]&255)<<8,lp+=(sp>>>7|pp<<9)&8191,Mp=au[$u+8]&255|(au[$u+9]&255)<<8,gp+=(pp>>>4|Mp<<12)&8191,Tp+=Mp>>>1&8191,qp=au[$u+10]&255|(au[$u+11]&255)<<8,mu+=(Mp>>>14|qp<<2)&8191,Bp=au[$u+12]&255|(au[$u+13]&255)<<8,Iu+=(qp>>>11|Bp<<5)&8191,sm=au[$u+14]&255|(au[$u+15]&255)<<8,Cu+=(Bp>>>8|sm<<8)&8191,Ju+=sm>>>5|Ql,Np=0,_g=Np,_g+=Lp*Ku,_g+=xp*(5*Jp),_g+=zp*(5*Gp),_g+=lp*(5*Rp),_g+=gp*(5*vp),Np=_g>>>13,_g&=8191,_g+=Tp*(5*wp),_g+=mu*(5*yp),_g+=Iu*(5*Pu),_g+=Cu*(5*up),_g+=Ju*(5*ep),Np+=_g>>>13,_g&=8191,Kp=Np,Kp+=Lp*ep,Kp+=xp*Ku,Kp+=zp*(5*Jp),Kp+=lp*(5*Gp),Kp+=gp*(5*Rp),Np=Kp>>>13,Kp&=8191,Kp+=Tp*(5*vp),Kp+=mu*(5*wp),Kp+=Iu*(5*yp),Kp+=Cu*(5*Pu),Kp+=Ju*(5*up),Np+=Kp>>>13,Kp&=8191,Xp=Np,Xp+=Lp*up,Xp+=xp*ep,Xp+=zp*Ku,Xp+=lp*(5*Jp),Xp+=gp*(5*Gp),Np=Xp>>>13,Xp&=8191,Xp+=Tp*(5*Rp),Xp+=mu*(5*vp),Xp+=Iu*(5*wp),Xp+=Cu*(5*yp),Xp+=Ju*(5*Pu),Np+=Xp>>>13,Xp&=8191,rm=Np,rm+=Lp*Pu,rm+=xp*up,rm+=zp*ep,rm+=lp*Ku,rm+=gp*(5*Jp),Np=rm>>>13,rm&=8191,rm+=Tp*(5*Gp),rm+=mu*(5*Rp),rm+=Iu*(5*vp),rm+=Cu*(5*wp),rm+=Ju*(5*yp),Np+=rm>>>13,rm&=8191,em=Np,em+=Lp*yp,em+=xp*Pu,em+=zp*up,em+=lp*ep,em+=gp*Ku,Np=em>>>13,em&=8191,em+=Tp*(5*Jp),em+=mu*(5*Gp),em+=Iu*(5*Rp),em+=Cu*(5*vp),em+=Ju*(5*wp),Np+=em>>>13,em&=8191,Wp=Np,Wp+=Lp*wp,Wp+=xp*yp,Wp+=zp*Pu,Wp+=lp*up,Wp+=gp*ep,Np=Wp>>>13,Wp&=8191,Wp+=Tp*Ku,Wp+=mu*(5*Jp),Wp+=Iu*(5*Gp),Wp+=Cu*(5*Rp),Wp+=Ju*(5*vp),Np+=Wp>>>13,Wp&=8191,nm=Np,nm+=Lp*vp,nm+=xp*wp,nm+=zp*yp,nm+=lp*Pu,nm+=gp*up,Np=nm>>>13,nm&=8191,nm+=Tp*ep,nm+=mu*Ku,nm+=Iu*(5*Jp),nm+=Cu*(5*Gp),nm+=Ju*(5*Rp),Np+=nm>>>13,nm&=8191,Fp=Np,Fp+=Lp*Rp,Fp+=xp*vp,Fp+=zp*wp,Fp+=lp*yp,Fp+=gp*Pu,Np=Fp>>>13,Fp&=8191,Fp+=Tp*up,Fp+=mu*ep,Fp+=Iu*Ku,Fp+=Cu*(5*Jp),Fp+=Ju*(5*Gp),Np+=Fp>>>13,Fp&=8191,Up=Np,Up+=Lp*Gp,Up+=xp*Rp,Up+=zp*vp,Up+=lp*wp,Up+=gp*yp,Np=Up>>>13,Up&=8191,Up+=Tp*Pu,Up+=mu*up,Up+=Iu*ep,Up+=Cu*Ku,Up+=Ju*(5*Jp),Np+=Up>>>13,Up&=8191,Vp=Np,Vp+=Lp*Jp,Vp+=xp*Gp,Vp+=zp*Rp,Vp+=lp*vp,Vp+=gp*wp,Np=Vp>>>13,Vp&=8191,Vp+=Tp*yp,Vp+=mu*Pu,Vp+=Iu*up,Vp+=Cu*ep,Vp+=Ju*Ku,Np+=Vp>>>13,Vp&=8191,Np=(Np<<2)+Np|0,Np=Np+_g|0,_g=Np&8191,Np=Np>>>13,Kp+=Np,Lp=_g,xp=Kp,zp=Xp,lp=rm,gp=em,Tp=Wp,mu=nm,Iu=Fp,Cu=Up,Ju=Vp,$u+=16,Tu-=16;this.h[0]=Lp,this.h[1]=xp,this.h[2]=zp,this.h[3]=lp,this.h[4]=gp,this.h[5]=Tp,this.h[6]=mu,this.h[7]=Iu,this.h[8]=Cu,this.h[9]=Ju},Il.prototype.finish=function(au,$u){var Tu=new Uint16Array(10),Ql,Mu,ap,sp;if(this.leftover){for(sp=this.leftover,this.buffer[sp++]=1;sp<16;sp++)this.buffer[sp]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(Ql=this.h[1]>>>13,this.h[1]&=8191,sp=2;sp<10;sp++)this.h[sp]+=Ql,Ql=this.h[sp]>>>13,this.h[sp]&=8191;for(this.h[0]+=Ql*5,Ql=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=Ql,Ql=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=Ql,Tu[0]=this.h[0]+5,Ql=Tu[0]>>>13,Tu[0]&=8191,sp=1;sp<10;sp++)Tu[sp]=this.h[sp]+Ql,Ql=Tu[sp]>>>13,Tu[sp]&=8191;for(Tu[9]-=8192,Mu=(Ql^1)-1,sp=0;sp<10;sp++)Tu[sp]&=Mu;for(Mu=~Mu,sp=0;sp<10;sp++)this.h[sp]=this.h[sp]&Mu|Tu[sp];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,ap=this.h[0]+this.pad[0],this.h[0]=ap&65535,sp=1;sp<8;sp++)ap=(this.h[sp]+this.pad[sp]|0)+(ap>>>16)|0,this.h[sp]=ap&65535;au[$u+0]=this.h[0]>>>0&255,au[$u+1]=this.h[0]>>>8&255,au[$u+2]=this.h[1]>>>0&255,au[$u+3]=this.h[1]>>>8&255,au[$u+4]=this.h[2]>>>0&255,au[$u+5]=this.h[2]>>>8&255,au[$u+6]=this.h[3]>>>0&255,au[$u+7]=this.h[3]>>>8&255,au[$u+8]=this.h[4]>>>0&255,au[$u+9]=this.h[4]>>>8&255,au[$u+10]=this.h[5]>>>0&255,au[$u+11]=this.h[5]>>>8&255,au[$u+12]=this.h[6]>>>0&255,au[$u+13]=this.h[6]>>>8&255,au[$u+14]=this.h[7]>>>0&255,au[$u+15]=this.h[7]>>>8&255},Il.prototype.update=function(au,$u,Tu){var Ql,Mu;if(this.leftover){for(Mu=16-this.leftover,Mu>Tu&&(Mu=Tu),Ql=0;Ql<Mu;Ql++)this.buffer[this.leftover+Ql]=au[$u+Ql];if(Tu-=Mu,$u+=Mu,this.leftover+=Mu,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(Tu>=16&&(Mu=Tu-Tu%16,this.blocks(au,$u,Mu),$u+=Mu,Tu-=Mu),Tu){for(Ql=0;Ql<Tu;Ql++)this.buffer[this.leftover+Ql]=au[$u+Ql];this.leftover+=Tu}};function Nl(au,$u,Tu,Ql,Mu,ap){var sp=new Il(ap);return sp.update(Tu,Ql,Mu),sp.finish(au,$u),0}function Ol(au,$u,Tu,Ql,Mu,ap){var sp=new Uint8Array(16);return Nl(sp,0,Tu,Ql,Mu,ap),Cl(au,$u,sp,0)}function Gl(au,$u,Tu,Ql,Mu){var ap;if(Tu<32)return-1;for(Jl(au,0,$u,0,Tu,Ql,Mu),Nl(au,16,au,32,Tu-32,au),ap=0;ap<16;ap++)au[ap]=0;return 0}function Fl(au,$u,Tu,Ql,Mu){var ap,sp=new Uint8Array(32);if(Tu<32||(su(sp,0,32,Ql,Mu),Ol($u,16,$u,32,Tu-32,sp)!==0))return-1;for(Jl(au,0,$u,0,Tu,Ql,Mu),ap=0;ap<32;ap++)au[ap]=0;return 0}function Al(au,$u){var Tu;for(Tu=0;Tu<16;Tu++)au[Tu]=$u[Tu]|0}function Pl(au){var $u,Tu,Ql=1;for($u=0;$u<16;$u++)Tu=au[$u]+Ql+65535,Ql=Math.floor(Tu/65536),au[$u]=Tu-Ql*65536;au[0]+=Ql-1+37*(Ql-1)}function yl(au,$u,Tu){for(var Ql,Mu=~(Tu-1),ap=0;ap<16;ap++)Ql=Mu&(au[ap]^$u[ap]),au[ap]^=Ql,$u[ap]^=Ql}function Zs(au,$u){var Tu,Ql,Mu,ap=ws(),sp=ws();for(Tu=0;Tu<16;Tu++)sp[Tu]=$u[Tu];for(Pl(sp),Pl(sp),Pl(sp),Ql=0;Ql<2;Ql++){for(ap[0]=sp[0]-65517,Tu=1;Tu<15;Tu++)ap[Tu]=sp[Tu]-65535-(ap[Tu-1]>>16&1),ap[Tu-1]&=65535;ap[15]=sp[15]-32767-(ap[14]>>16&1),Mu=ap[15]>>16&1,ap[14]&=65535,yl(sp,ap,1-Mu)}for(Tu=0;Tu<16;Tu++)au[2*Tu]=sp[Tu]&255,au[2*Tu+1]=sp[Tu]>>8}function Bl(au,$u){var Tu=new Uint8Array(32),Ql=new Uint8Array(32);return Zs(Tu,au),Zs(Ql,$u),Sl(Tu,0,Ql,0)}function eu(au){var $u=new Uint8Array(32);return Zs($u,au),$u[0]&1}function Eu(au,$u){var Tu;for(Tu=0;Tu<16;Tu++)au[Tu]=$u[2*Tu]+($u[2*Tu+1]<<8);au[15]&=32767}function uu(au,$u,Tu){for(var Ql=0;Ql<16;Ql++)au[Ql]=$u[Ql]+Tu[Ql]}function Yl(au,$u,Tu){for(var Ql=0;Ql<16;Ql++)au[Ql]=$u[Ql]-Tu[Ql]}function zl(au,$u,Tu){var Ql,Mu,ap=0,sp=0,pp=0,Mp=0,qp=0,Bp=0,sm=0,Np=0,_g=0,Kp=0,Xp=0,rm=0,em=0,Wp=0,nm=0,Fp=0,Up=0,Vp=0,Lp=0,xp=0,zp=0,lp=0,gp=0,Tp=0,mu=0,Iu=0,Cu=0,Ju=0,Ku=0,ep=0,up=0,Pu=Tu[0],yp=Tu[1],wp=Tu[2],vp=Tu[3],Rp=Tu[4],Gp=Tu[5],Jp=Tu[6],Qs=Tu[7],Rl=Tu[8],Wl=Tu[9],ru=Tu[10],gu=Tu[11],lu=Tu[12],Lu=Tu[13],Yu=Tu[14],Nu=Tu[15];Ql=$u[0],ap+=Ql*Pu,sp+=Ql*yp,pp+=Ql*wp,Mp+=Ql*vp,qp+=Ql*Rp,Bp+=Ql*Gp,sm+=Ql*Jp,Np+=Ql*Qs,_g+=Ql*Rl,Kp+=Ql*Wl,Xp+=Ql*ru,rm+=Ql*gu,em+=Ql*lu,Wp+=Ql*Lu,nm+=Ql*Yu,Fp+=Ql*Nu,Ql=$u[1],sp+=Ql*Pu,pp+=Ql*yp,Mp+=Ql*wp,qp+=Ql*vp,Bp+=Ql*Rp,sm+=Ql*Gp,Np+=Ql*Jp,_g+=Ql*Qs,Kp+=Ql*Rl,Xp+=Ql*Wl,rm+=Ql*ru,em+=Ql*gu,Wp+=Ql*lu,nm+=Ql*Lu,Fp+=Ql*Yu,Up+=Ql*Nu,Ql=$u[2],pp+=Ql*Pu,Mp+=Ql*yp,qp+=Ql*wp,Bp+=Ql*vp,sm+=Ql*Rp,Np+=Ql*Gp,_g+=Ql*Jp,Kp+=Ql*Qs,Xp+=Ql*Rl,rm+=Ql*Wl,em+=Ql*ru,Wp+=Ql*gu,nm+=Ql*lu,Fp+=Ql*Lu,Up+=Ql*Yu,Vp+=Ql*Nu,Ql=$u[3],Mp+=Ql*Pu,qp+=Ql*yp,Bp+=Ql*wp,sm+=Ql*vp,Np+=Ql*Rp,_g+=Ql*Gp,Kp+=Ql*Jp,Xp+=Ql*Qs,rm+=Ql*Rl,em+=Ql*Wl,Wp+=Ql*ru,nm+=Ql*gu,Fp+=Ql*lu,Up+=Ql*Lu,Vp+=Ql*Yu,Lp+=Ql*Nu,Ql=$u[4],qp+=Ql*Pu,Bp+=Ql*yp,sm+=Ql*wp,Np+=Ql*vp,_g+=Ql*Rp,Kp+=Ql*Gp,Xp+=Ql*Jp,rm+=Ql*Qs,em+=Ql*Rl,Wp+=Ql*Wl,nm+=Ql*ru,Fp+=Ql*gu,Up+=Ql*lu,Vp+=Ql*Lu,Lp+=Ql*Yu,xp+=Ql*Nu,Ql=$u[5],Bp+=Ql*Pu,sm+=Ql*yp,Np+=Ql*wp,_g+=Ql*vp,Kp+=Ql*Rp,Xp+=Ql*Gp,rm+=Ql*Jp,em+=Ql*Qs,Wp+=Ql*Rl,nm+=Ql*Wl,Fp+=Ql*ru,Up+=Ql*gu,Vp+=Ql*lu,Lp+=Ql*Lu,xp+=Ql*Yu,zp+=Ql*Nu,Ql=$u[6],sm+=Ql*Pu,Np+=Ql*yp,_g+=Ql*wp,Kp+=Ql*vp,Xp+=Ql*Rp,rm+=Ql*Gp,em+=Ql*Jp,Wp+=Ql*Qs,nm+=Ql*Rl,Fp+=Ql*Wl,Up+=Ql*ru,Vp+=Ql*gu,Lp+=Ql*lu,xp+=Ql*Lu,zp+=Ql*Yu,lp+=Ql*Nu,Ql=$u[7],Np+=Ql*Pu,_g+=Ql*yp,Kp+=Ql*wp,Xp+=Ql*vp,rm+=Ql*Rp,em+=Ql*Gp,Wp+=Ql*Jp,nm+=Ql*Qs,Fp+=Ql*Rl,Up+=Ql*Wl,Vp+=Ql*ru,Lp+=Ql*gu,xp+=Ql*lu,zp+=Ql*Lu,lp+=Ql*Yu,gp+=Ql*Nu,Ql=$u[8],_g+=Ql*Pu,Kp+=Ql*yp,Xp+=Ql*wp,rm+=Ql*vp,em+=Ql*Rp,Wp+=Ql*Gp,nm+=Ql*Jp,Fp+=Ql*Qs,Up+=Ql*Rl,Vp+=Ql*Wl,Lp+=Ql*ru,xp+=Ql*gu,zp+=Ql*lu,lp+=Ql*Lu,gp+=Ql*Yu,Tp+=Ql*Nu,Ql=$u[9],Kp+=Ql*Pu,Xp+=Ql*yp,rm+=Ql*wp,em+=Ql*vp,Wp+=Ql*Rp,nm+=Ql*Gp,Fp+=Ql*Jp,Up+=Ql*Qs,Vp+=Ql*Rl,Lp+=Ql*Wl,xp+=Ql*ru,zp+=Ql*gu,lp+=Ql*lu,gp+=Ql*Lu,Tp+=Ql*Yu,mu+=Ql*Nu,Ql=$u[10],Xp+=Ql*Pu,rm+=Ql*yp,em+=Ql*wp,Wp+=Ql*vp,nm+=Ql*Rp,Fp+=Ql*Gp,Up+=Ql*Jp,Vp+=Ql*Qs,Lp+=Ql*Rl,xp+=Ql*Wl,zp+=Ql*ru,lp+=Ql*gu,gp+=Ql*lu,Tp+=Ql*Lu,mu+=Ql*Yu,Iu+=Ql*Nu,Ql=$u[11],rm+=Ql*Pu,em+=Ql*yp,Wp+=Ql*wp,nm+=Ql*vp,Fp+=Ql*Rp,Up+=Ql*Gp,Vp+=Ql*Jp,Lp+=Ql*Qs,xp+=Ql*Rl,zp+=Ql*Wl,lp+=Ql*ru,gp+=Ql*gu,Tp+=Ql*lu,mu+=Ql*Lu,Iu+=Ql*Yu,Cu+=Ql*Nu,Ql=$u[12],em+=Ql*Pu,Wp+=Ql*yp,nm+=Ql*wp,Fp+=Ql*vp,Up+=Ql*Rp,Vp+=Ql*Gp,Lp+=Ql*Jp,xp+=Ql*Qs,zp+=Ql*Rl,lp+=Ql*Wl,gp+=Ql*ru,Tp+=Ql*gu,mu+=Ql*lu,Iu+=Ql*Lu,Cu+=Ql*Yu,Ju+=Ql*Nu,Ql=$u[13],Wp+=Ql*Pu,nm+=Ql*yp,Fp+=Ql*wp,Up+=Ql*vp,Vp+=Ql*Rp,Lp+=Ql*Gp,xp+=Ql*Jp,zp+=Ql*Qs,lp+=Ql*Rl,gp+=Ql*Wl,Tp+=Ql*ru,mu+=Ql*gu,Iu+=Ql*lu,Cu+=Ql*Lu,Ju+=Ql*Yu,Ku+=Ql*Nu,Ql=$u[14],nm+=Ql*Pu,Fp+=Ql*yp,Up+=Ql*wp,Vp+=Ql*vp,Lp+=Ql*Rp,xp+=Ql*Gp,zp+=Ql*Jp,lp+=Ql*Qs,gp+=Ql*Rl,Tp+=Ql*Wl,mu+=Ql*ru,Iu+=Ql*gu,Cu+=Ql*lu,Ju+=Ql*Lu,Ku+=Ql*Yu,ep+=Ql*Nu,Ql=$u[15],Fp+=Ql*Pu,Up+=Ql*yp,Vp+=Ql*wp,Lp+=Ql*vp,xp+=Ql*Rp,zp+=Ql*Gp,lp+=Ql*Jp,gp+=Ql*Qs,Tp+=Ql*Rl,mu+=Ql*Wl,Iu+=Ql*ru,Cu+=Ql*gu,Ju+=Ql*lu,Ku+=Ql*Lu,ep+=Ql*Yu,up+=Ql*Nu,ap+=38*Up,sp+=38*Vp,pp+=38*Lp,Mp+=38*xp,qp+=38*zp,Bp+=38*lp,sm+=38*gp,Np+=38*Tp,_g+=38*mu,Kp+=38*Iu,Xp+=38*Cu,rm+=38*Ju,em+=38*Ku,Wp+=38*ep,nm+=38*up,Mu=1,Ql=ap+Mu+65535,Mu=Math.floor(Ql/65536),ap=Ql-Mu*65536,Ql=sp+Mu+65535,Mu=Math.floor(Ql/65536),sp=Ql-Mu*65536,Ql=pp+Mu+65535,Mu=Math.floor(Ql/65536),pp=Ql-Mu*65536,Ql=Mp+Mu+65535,Mu=Math.floor(Ql/65536),Mp=Ql-Mu*65536,Ql=qp+Mu+65535,Mu=Math.floor(Ql/65536),qp=Ql-Mu*65536,Ql=Bp+Mu+65535,Mu=Math.floor(Ql/65536),Bp=Ql-Mu*65536,Ql=sm+Mu+65535,Mu=Math.floor(Ql/65536),sm=Ql-Mu*65536,Ql=Np+Mu+65535,Mu=Math.floor(Ql/65536),Np=Ql-Mu*65536,Ql=_g+Mu+65535,Mu=Math.floor(Ql/65536),_g=Ql-Mu*65536,Ql=Kp+Mu+65535,Mu=Math.floor(Ql/65536),Kp=Ql-Mu*65536,Ql=Xp+Mu+65535,Mu=Math.floor(Ql/65536),Xp=Ql-Mu*65536,Ql=rm+Mu+65535,Mu=Math.floor(Ql/65536),rm=Ql-Mu*65536,Ql=em+Mu+65535,Mu=Math.floor(Ql/65536),em=Ql-Mu*65536,Ql=Wp+Mu+65535,Mu=Math.floor(Ql/65536),Wp=Ql-Mu*65536,Ql=nm+Mu+65535,Mu=Math.floor(Ql/65536),nm=Ql-Mu*65536,Ql=Fp+Mu+65535,Mu=Math.floor(Ql/65536),Fp=Ql-Mu*65536,ap+=Mu-1+37*(Mu-1),Mu=1,Ql=ap+Mu+65535,Mu=Math.floor(Ql/65536),ap=Ql-Mu*65536,Ql=sp+Mu+65535,Mu=Math.floor(Ql/65536),sp=Ql-Mu*65536,Ql=pp+Mu+65535,Mu=Math.floor(Ql/65536),pp=Ql-Mu*65536,Ql=Mp+Mu+65535,Mu=Math.floor(Ql/65536),Mp=Ql-Mu*65536,Ql=qp+Mu+65535,Mu=Math.floor(Ql/65536),qp=Ql-Mu*65536,Ql=Bp+Mu+65535,Mu=Math.floor(Ql/65536),Bp=Ql-Mu*65536,Ql=sm+Mu+65535,Mu=Math.floor(Ql/65536),sm=Ql-Mu*65536,Ql=Np+Mu+65535,Mu=Math.floor(Ql/65536),Np=Ql-Mu*65536,Ql=_g+Mu+65535,Mu=Math.floor(Ql/65536),_g=Ql-Mu*65536,Ql=Kp+Mu+65535,Mu=Math.floor(Ql/65536),Kp=Ql-Mu*65536,Ql=Xp+Mu+65535,Mu=Math.floor(Ql/65536),Xp=Ql-Mu*65536,Ql=rm+Mu+65535,Mu=Math.floor(Ql/65536),rm=Ql-Mu*65536,Ql=em+Mu+65535,Mu=Math.floor(Ql/65536),em=Ql-Mu*65536,Ql=Wp+Mu+65535,Mu=Math.floor(Ql/65536),Wp=Ql-Mu*65536,Ql=nm+Mu+65535,Mu=Math.floor(Ql/65536),nm=Ql-Mu*65536,Ql=Fp+Mu+65535,Mu=Math.floor(Ql/65536),Fp=Ql-Mu*65536,ap+=Mu-1+37*(Mu-1),au[0]=ap,au[1]=sp,au[2]=pp,au[3]=Mp,au[4]=qp,au[5]=Bp,au[6]=sm,au[7]=Np,au[8]=_g,au[9]=Kp,au[10]=Xp,au[11]=rm,au[12]=em,au[13]=Wp,au[14]=nm,au[15]=Fp}function ou(au,$u){zl(au,$u,$u)}function pu(au,$u){var Tu=ws(),Ql;for(Ql=0;Ql<16;Ql++)Tu[Ql]=$u[Ql];for(Ql=253;Ql>=0;Ql--)ou(Tu,Tu),Ql!==2&&Ql!==4&&zl(Tu,Tu,$u);for(Ql=0;Ql<16;Ql++)au[Ql]=Tu[Ql]}function fu(au,$u){var Tu=ws(),Ql;for(Ql=0;Ql<16;Ql++)Tu[Ql]=$u[Ql];for(Ql=250;Ql>=0;Ql--)ou(Tu,Tu),Ql!==1&&zl(Tu,Tu,$u);for(Ql=0;Ql<16;Ql++)au[Ql]=Tu[Ql]}function yu(au,$u,Tu){var Ql=new Uint8Array(32),Mu=new Float64Array(80),ap,sp,pp=ws(),Mp=ws(),qp=ws(),Bp=ws(),sm=ws(),Np=ws();for(sp=0;sp<31;sp++)Ql[sp]=$u[sp];for(Ql[31]=$u[31]&127|64,Ql[0]&=248,Eu(Mu,Tu),sp=0;sp<16;sp++)Mp[sp]=Mu[sp],Bp[sp]=pp[sp]=qp[sp]=0;for(pp[0]=Bp[0]=1,sp=254;sp>=0;--sp)ap=Ql[sp>>>3]>>>(sp&7)&1,yl(pp,Mp,ap),yl(qp,Bp,ap),uu(sm,pp,qp),Yl(pp,pp,qp),uu(qp,Mp,Bp),Yl(Mp,Mp,Bp),ou(Bp,sm),ou(Np,pp),zl(pp,qp,pp),zl(qp,Mp,sm),uu(sm,pp,qp),Yl(pp,pp,qp),ou(Mp,pp),Yl(qp,Bp,Np),zl(pp,qp,Rs),uu(pp,pp,Bp),zl(qp,qp,pp),zl(pp,Bp,Np),zl(Bp,Mp,Mu),ou(Mp,sm),yl(pp,Mp,ap),yl(qp,Bp,ap);for(sp=0;sp<16;sp++)Mu[sp+16]=pp[sp],Mu[sp+32]=qp[sp],Mu[sp+48]=Mp[sp],Mu[sp+64]=Bp[sp];var _g=Mu.subarray(32),Kp=Mu.subarray(16);return pu(_g,_g),zl(Kp,Kp,_g),Zs(au,Kp),0}function tu(au,$u){return yu(au,$u,_s)}function Ll(au,$u){return Ss($u,32),tu(au,$u)}function Tl(au,$u,Tu){var Ql=new Uint8Array(32);return yu(Ql,Tu,$u),Vl(au,Es,Ql,Ul)}var Hl=Gl,Dl=Fl;function Kl(au,$u,Tu,Ql,Mu,ap){var sp=new Uint8Array(32);return Tl(sp,Mu,ap),Hl(au,$u,Tu,Ql,sp)}function cu(au,$u,Tu,Ql,Mu,ap){var sp=new Uint8Array(32);return Tl(sp,Mu,ap),Dl(au,$u,Tu,Ql,sp)}var iu=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function du(au,$u,Tu,Ql){for(var Mu=new Int32Array(16),ap=new Int32Array(16),sp,pp,Mp,qp,Bp,sm,Np,_g,Kp,Xp,rm,em,Wp,nm,Fp,Up,Vp,Lp,xp,zp,lp,gp,Tp,mu,Iu,Cu,Ju=au[0],Ku=au[1],ep=au[2],up=au[3],Pu=au[4],yp=au[5],wp=au[6],vp=au[7],Rp=$u[0],Gp=$u[1],Jp=$u[2],Qs=$u[3],Rl=$u[4],Wl=$u[5],ru=$u[6],gu=$u[7],lu=0;Ql>=128;){for(xp=0;xp<16;xp++)zp=8*xp+lu,Mu[xp]=Tu[zp+0]<<24|Tu[zp+1]<<16|Tu[zp+2]<<8|Tu[zp+3],ap[xp]=Tu[zp+4]<<24|Tu[zp+5]<<16|Tu[zp+6]<<8|Tu[zp+7];for(xp=0;xp<80;xp++)if(sp=Ju,pp=Ku,Mp=ep,qp=up,Bp=Pu,sm=yp,Np=wp,_g=vp,Kp=Rp,Xp=Gp,rm=Jp,em=Qs,Wp=Rl,nm=Wl,Fp=ru,Up=gu,lp=vp,gp=gu,Tp=gp&65535,mu=gp>>>16,Iu=lp&65535,Cu=lp>>>16,lp=(Pu>>>14|Rl<<18)^(Pu>>>18|Rl<<14)^(Rl>>>9|Pu<<23),gp=(Rl>>>14|Pu<<18)^(Rl>>>18|Pu<<14)^(Pu>>>9|Rl<<23),Tp+=gp&65535,mu+=gp>>>16,Iu+=lp&65535,Cu+=lp>>>16,lp=Pu&yp^~Pu&wp,gp=Rl&Wl^~Rl&ru,Tp+=gp&65535,mu+=gp>>>16,Iu+=lp&65535,Cu+=lp>>>16,lp=iu[xp*2],gp=iu[xp*2+1],Tp+=gp&65535,mu+=gp>>>16,Iu+=lp&65535,Cu+=lp>>>16,lp=Mu[xp%16],gp=ap[xp%16],Tp+=gp&65535,mu+=gp>>>16,Iu+=lp&65535,Cu+=lp>>>16,mu+=Tp>>>16,Iu+=mu>>>16,Cu+=Iu>>>16,Vp=Iu&65535|Cu<<16,Lp=Tp&65535|mu<<16,lp=Vp,gp=Lp,Tp=gp&65535,mu=gp>>>16,Iu=lp&65535,Cu=lp>>>16,lp=(Ju>>>28|Rp<<4)^(Rp>>>2|Ju<<30)^(Rp>>>7|Ju<<25),gp=(Rp>>>28|Ju<<4)^(Ju>>>2|Rp<<30)^(Ju>>>7|Rp<<25),Tp+=gp&65535,mu+=gp>>>16,Iu+=lp&65535,Cu+=lp>>>16,lp=Ju&Ku^Ju&ep^Ku&ep,gp=Rp&Gp^Rp&Jp^Gp&Jp,Tp+=gp&65535,mu+=gp>>>16,Iu+=lp&65535,Cu+=lp>>>16,mu+=Tp>>>16,Iu+=mu>>>16,Cu+=Iu>>>16,_g=Iu&65535|Cu<<16,Up=Tp&65535|mu<<16,lp=qp,gp=em,Tp=gp&65535,mu=gp>>>16,Iu=lp&65535,Cu=lp>>>16,lp=Vp,gp=Lp,Tp+=gp&65535,mu+=gp>>>16,Iu+=lp&65535,Cu+=lp>>>16,mu+=Tp>>>16,Iu+=mu>>>16,Cu+=Iu>>>16,qp=Iu&65535|Cu<<16,em=Tp&65535|mu<<16,Ku=sp,ep=pp,up=Mp,Pu=qp,yp=Bp,wp=sm,vp=Np,Ju=_g,Gp=Kp,Jp=Xp,Qs=rm,Rl=em,Wl=Wp,ru=nm,gu=Fp,Rp=Up,xp%16===15)for(zp=0;zp<16;zp++)lp=Mu[zp],gp=ap[zp],Tp=gp&65535,mu=gp>>>16,Iu=lp&65535,Cu=lp>>>16,lp=Mu[(zp+9)%16],gp=ap[(zp+9)%16],Tp+=gp&65535,mu+=gp>>>16,Iu+=lp&65535,Cu+=lp>>>16,Vp=Mu[(zp+1)%16],Lp=ap[(zp+1)%16],lp=(Vp>>>1|Lp<<31)^(Vp>>>8|Lp<<24)^Vp>>>7,gp=(Lp>>>1|Vp<<31)^(Lp>>>8|Vp<<24)^(Lp>>>7|Vp<<25),Tp+=gp&65535,mu+=gp>>>16,Iu+=lp&65535,Cu+=lp>>>16,Vp=Mu[(zp+14)%16],Lp=ap[(zp+14)%16],lp=(Vp>>>19|Lp<<13)^(Lp>>>29|Vp<<3)^Vp>>>6,gp=(Lp>>>19|Vp<<13)^(Vp>>>29|Lp<<3)^(Lp>>>6|Vp<<26),Tp+=gp&65535,mu+=gp>>>16,Iu+=lp&65535,Cu+=lp>>>16,mu+=Tp>>>16,Iu+=mu>>>16,Cu+=Iu>>>16,Mu[zp]=Iu&65535|Cu<<16,ap[zp]=Tp&65535|mu<<16;lp=Ju,gp=Rp,Tp=gp&65535,mu=gp>>>16,Iu=lp&65535,Cu=lp>>>16,lp=au[0],gp=$u[0],Tp+=gp&65535,mu+=gp>>>16,Iu+=lp&65535,Cu+=lp>>>16,mu+=Tp>>>16,Iu+=mu>>>16,Cu+=Iu>>>16,au[0]=Ju=Iu&65535|Cu<<16,$u[0]=Rp=Tp&65535|mu<<16,lp=Ku,gp=Gp,Tp=gp&65535,mu=gp>>>16,Iu=lp&65535,Cu=lp>>>16,lp=au[1],gp=$u[1],Tp+=gp&65535,mu+=gp>>>16,Iu+=lp&65535,Cu+=lp>>>16,mu+=Tp>>>16,Iu+=mu>>>16,Cu+=Iu>>>16,au[1]=Ku=Iu&65535|Cu<<16,$u[1]=Gp=Tp&65535|mu<<16,lp=ep,gp=Jp,Tp=gp&65535,mu=gp>>>16,Iu=lp&65535,Cu=lp>>>16,lp=au[2],gp=$u[2],Tp+=gp&65535,mu+=gp>>>16,Iu+=lp&65535,Cu+=lp>>>16,mu+=Tp>>>16,Iu+=mu>>>16,Cu+=Iu>>>16,au[2]=ep=Iu&65535|Cu<<16,$u[2]=Jp=Tp&65535|mu<<16,lp=up,gp=Qs,Tp=gp&65535,mu=gp>>>16,Iu=lp&65535,Cu=lp>>>16,lp=au[3],gp=$u[3],Tp+=gp&65535,mu+=gp>>>16,Iu+=lp&65535,Cu+=lp>>>16,mu+=Tp>>>16,Iu+=mu>>>16,Cu+=Iu>>>16,au[3]=up=Iu&65535|Cu<<16,$u[3]=Qs=Tp&65535|mu<<16,lp=Pu,gp=Rl,Tp=gp&65535,mu=gp>>>16,Iu=lp&65535,Cu=lp>>>16,lp=au[4],gp=$u[4],Tp+=gp&65535,mu+=gp>>>16,Iu+=lp&65535,Cu+=lp>>>16,mu+=Tp>>>16,Iu+=mu>>>16,Cu+=Iu>>>16,au[4]=Pu=Iu&65535|Cu<<16,$u[4]=Rl=Tp&65535|mu<<16,lp=yp,gp=Wl,Tp=gp&65535,mu=gp>>>16,Iu=lp&65535,Cu=lp>>>16,lp=au[5],gp=$u[5],Tp+=gp&65535,mu+=gp>>>16,Iu+=lp&65535,Cu+=lp>>>16,mu+=Tp>>>16,Iu+=mu>>>16,Cu+=Iu>>>16,au[5]=yp=Iu&65535|Cu<<16,$u[5]=Wl=Tp&65535|mu<<16,lp=wp,gp=ru,Tp=gp&65535,mu=gp>>>16,Iu=lp&65535,Cu=lp>>>16,lp=au[6],gp=$u[6],Tp+=gp&65535,mu+=gp>>>16,Iu+=lp&65535,Cu+=lp>>>16,mu+=Tp>>>16,Iu+=mu>>>16,Cu+=Iu>>>16,au[6]=wp=Iu&65535|Cu<<16,$u[6]=ru=Tp&65535|mu<<16,lp=vp,gp=gu,Tp=gp&65535,mu=gp>>>16,Iu=lp&65535,Cu=lp>>>16,lp=au[7],gp=$u[7],Tp+=gp&65535,mu+=gp>>>16,Iu+=lp&65535,Cu+=lp>>>16,mu+=Tp>>>16,Iu+=mu>>>16,Cu+=Iu>>>16,au[7]=vp=Iu&65535|Cu<<16,$u[7]=gu=Tp&65535|mu<<16,lu+=128,Ql-=128}return Ql}function Au(au,$u,Tu){var Ql=new Int32Array(8),Mu=new Int32Array(8),ap=new Uint8Array(256),sp,pp=Tu;for(Ql[0]=1779033703,Ql[1]=3144134277,Ql[2]=1013904242,Ql[3]=2773480762,Ql[4]=1359893119,Ql[5]=2600822924,Ql[6]=528734635,Ql[7]=1541459225,Mu[0]=4089235720,Mu[1]=2227873595,Mu[2]=4271175723,Mu[3]=1595750129,Mu[4]=2917565137,Mu[5]=725511199,Mu[6]=4215389547,Mu[7]=327033209,du(Ql,Mu,$u,Tu),Tu%=128,sp=0;sp<Tu;sp++)ap[sp]=$u[pp-Tu+sp];for(ap[Tu]=128,Tu=256-128*(Tu<112?1:0),ap[Tu-9]=0,wl(ap,Tu-8,pp/536870912|0,pp<<3),du(Ql,Mu,ap,Tu),sp=0;sp<8;sp++)wl(au,8*sp,Ql[sp],Mu[sp]);return 0}function xu(au,$u){var Tu=ws(),Ql=ws(),Mu=ws(),ap=ws(),sp=ws(),pp=ws(),Mp=ws(),qp=ws(),Bp=ws();Yl(Tu,au[1],au[0]),Yl(Bp,$u[1],$u[0]),zl(Tu,Tu,Bp),uu(Ql,au[0],au[1]),uu(Bp,$u[0],$u[1]),zl(Ql,Ql,Bp),zl(Mu,au[3],$u[3]),zl(Mu,Mu,Ns),zl(ap,au[2],$u[2]),uu(ap,ap,ap),Yl(sp,Ql,Tu),Yl(pp,ap,Mu),uu(Mp,ap,Mu),uu(qp,Ql,Tu),zl(au[0],sp,pp),zl(au[1],qp,Mp),zl(au[2],Mp,pp),zl(au[3],sp,qp)}function _u(au,$u,Tu){var Ql;for(Ql=0;Ql<4;Ql++)yl(au[Ql],$u[Ql],Tu)}function Hu(au,$u){var Tu=ws(),Ql=ws(),Mu=ws();pu(Mu,$u[2]),zl(Tu,$u[0],Mu),zl(Ql,$u[1],Mu),Zs(au,Ql),au[31]^=eu(Tu)<<7}function ju(au,$u,Tu){var Ql,Mu;for(Al(au[0],Is),Al(au[1],Ts),Al(au[2],Ts),Al(au[3],Is),Mu=255;Mu>=0;--Mu)Ql=Tu[Mu/8|0]>>(Mu&7)&1,_u(au,$u,Ql),xu($u,au),xu(au,au),_u(au,$u,Ql)}function _d(au,$u){var Tu=[ws(),ws(),ws(),ws()];Al(Tu[0],Ws),Al(Tu[1],Js),Al(Tu[2],Ts),zl(Tu[3],Ws,Js),ju(au,Tu,$u)}function Zu(au,$u,Tu){var Ql=new Uint8Array(64),Mu=[ws(),ws(),ws(),ws()],ap;for(Tu||Ss($u,32),Au(Ql,$u,32),Ql[0]&=248,Ql[31]&=127,Ql[31]|=64,_d(Mu,Ql),Hu(au,Mu),ap=0;ap<32;ap++)$u[ap+32]=au[ap];return 0}var tp=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function hu(au,$u){var Tu,Ql,Mu,ap;for(Ql=63;Ql>=32;--Ql){for(Tu=0,Mu=Ql-32,ap=Ql-12;Mu<ap;++Mu)$u[Mu]+=Tu-16*$u[Ql]*tp[Mu-(Ql-32)],Tu=Math.floor(($u[Mu]+128)/256),$u[Mu]-=Tu*256;$u[Mu]+=Tu,$u[Ql]=0}for(Tu=0,Mu=0;Mu<32;Mu++)$u[Mu]+=Tu-($u[31]>>4)*tp[Mu],Tu=$u[Mu]>>8,$u[Mu]&=255;for(Mu=0;Mu<32;Mu++)$u[Mu]-=Tu*tp[Mu];for(Ql=0;Ql<32;Ql++)$u[Ql+1]+=$u[Ql]>>8,au[Ql]=$u[Ql]&255}function Xl(au){var $u=new Float64Array(64),Tu;for(Tu=0;Tu<64;Tu++)$u[Tu]=au[Tu];for(Tu=0;Tu<64;Tu++)au[Tu]=0;hu(au,$u)}function Zl(au,$u,Tu,Ql){var Mu=new Uint8Array(64),ap=new Uint8Array(64),sp=new Uint8Array(64),pp,Mp,qp=new Float64Array(64),Bp=[ws(),ws(),ws(),ws()];Au(Mu,Ql,32),Mu[0]&=248,Mu[31]&=127,Mu[31]|=64;var sm=Tu+64;for(pp=0;pp<Tu;pp++)au[64+pp]=$u[pp];for(pp=0;pp<32;pp++)au[32+pp]=Mu[32+pp];for(Au(sp,au.subarray(32),Tu+32),Xl(sp),_d(Bp,sp),Hu(au,Bp),pp=32;pp<64;pp++)au[pp]=Ql[pp];for(Au(ap,au,Tu+64),Xl(ap),pp=0;pp<64;pp++)qp[pp]=0;for(pp=0;pp<32;pp++)qp[pp]=sp[pp];for(pp=0;pp<32;pp++)for(Mp=0;Mp<32;Mp++)qp[pp+Mp]+=ap[pp]*Mu[Mp];return hu(au.subarray(32),qp),sm}function bu(au,$u){var Tu=ws(),Ql=ws(),Mu=ws(),ap=ws(),sp=ws(),pp=ws(),Mp=ws();return Al(au[2],Ts),Eu(au[1],$u),ou(Mu,au[1]),zl(ap,Mu,Bs),Yl(Mu,Mu,au[2]),uu(ap,au[2],ap),ou(sp,ap),ou(pp,sp),zl(Mp,pp,sp),zl(Tu,Mp,Mu),zl(Tu,Tu,ap),fu(Tu,Tu),zl(Tu,Tu,Mu),zl(Tu,Tu,ap),zl(Tu,Tu,ap),zl(au[0],Tu,ap),ou(Ql,au[0]),zl(Ql,Ql,ap),Bl(Ql,Mu)&&zl(au[0],au[0],$l),ou(Ql,au[0]),zl(Ql,Ql,ap),Bl(Ql,Mu)?-1:(eu(au[0])===$u[31]>>7&&Yl(au[0],Is,au[0]),zl(au[3],au[0],au[1]),0)}function Ou(au,$u,Tu,Ql){var Mu,ap=new Uint8Array(32),sp=new Uint8Array(64),pp=[ws(),ws(),ws(),ws()],Mp=[ws(),ws(),ws(),ws()];if(Tu<64||bu(Mp,Ql))return-1;for(Mu=0;Mu<Tu;Mu++)au[Mu]=$u[Mu];for(Mu=0;Mu<32;Mu++)au[Mu+32]=Ql[Mu];if(Au(sp,au,Tu),Xl(sp),ju(pp,Mp,sp),_d(Mp,$u.subarray(32)),xu(pp,Mp),Hu(ap,pp),Tu-=64,Sl($u,0,ap,0)){for(Mu=0;Mu<Tu;Mu++)au[Mu]=0;return-1}for(Mu=0;Mu<Tu;Mu++)au[Mu]=$u[Mu+64];return Tu}var zu=32,Qu=24,_p=32,dp=16,kp=32,Dp=32,Ip=32,Hp=32,Yp=32,jp=Qu,tm=_p,hm=dp,am=64,Qp=32,fm=64,cm=32,lm=64;ms.lowlevel={crypto_core_hsalsa20:Vl,crypto_stream_xor:Jl,crypto_stream:su,crypto_stream_salsa20_xor:_h,crypto_stream_salsa20:nu,crypto_onetimeauth:Nl,crypto_onetimeauth_verify:Ol,crypto_verify_16:Cl,crypto_verify_32:Sl,crypto_secretbox:Gl,crypto_secretbox_open:Fl,crypto_scalarmult:yu,crypto_scalarmult_base:tu,crypto_box_beforenm:Tl,crypto_box_afternm:Hl,crypto_box:Kl,crypto_box_open:cu,crypto_box_keypair:Ll,crypto_hash:Au,crypto_sign:Zl,crypto_sign_keypair:Zu,crypto_sign_open:Ou,crypto_secretbox_KEYBYTES:zu,crypto_secretbox_NONCEBYTES:Qu,crypto_secretbox_ZEROBYTES:_p,crypto_secretbox_BOXZEROBYTES:dp,crypto_scalarmult_BYTES:kp,crypto_scalarmult_SCALARBYTES:Dp,crypto_box_PUBLICKEYBYTES:Ip,crypto_box_SECRETKEYBYTES:Hp,crypto_box_BEFORENMBYTES:Yp,crypto_box_NONCEBYTES:jp,crypto_box_ZEROBYTES:tm,crypto_box_BOXZEROBYTES:hm,crypto_sign_BYTES:am,crypto_sign_PUBLICKEYBYTES:Qp,crypto_sign_SECRETKEYBYTES:fm,crypto_sign_SEEDBYTES:cm,crypto_hash_BYTES:lm,gf:ws,D:Bs,L:tp,pack25519:Zs,unpack25519:Eu,M:zl,A:uu,S:ou,Z:Yl,pow2523:fu,add:xu,set25519:Al,modL:hu,scalarmult:ju,scalarbase:_d};function gm(au,$u){if(au.length!==zu)throw new Error("bad key size");if($u.length!==Qu)throw new Error("bad nonce size")}function um(au,$u){if(au.length!==Ip)throw new Error("bad public key size");if($u.length!==Hp)throw new Error("bad secret key size")}function im(){for(var au=0;au<arguments.length;au++)if(!(arguments[au]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ym(au){for(var $u=0;$u<au.length;$u++)au[$u]=0}ms.randomBytes=function(au){var $u=new Uint8Array(au);return Ss($u,au),$u},ms.secretbox=function(au,$u,Tu){im(au,$u,Tu),gm(Tu,$u);for(var Ql=new Uint8Array(_p+au.length),Mu=new Uint8Array(Ql.length),ap=0;ap<au.length;ap++)Ql[ap+_p]=au[ap];return Gl(Mu,Ql,Ql.length,$u,Tu),Mu.subarray(dp)},ms.secretbox.open=function(au,$u,Tu){im(au,$u,Tu),gm(Tu,$u);for(var Ql=new Uint8Array(dp+au.length),Mu=new Uint8Array(Ql.length),ap=0;ap<au.length;ap++)Ql[ap+dp]=au[ap];return Ql.length<32||Fl(Mu,Ql,Ql.length,$u,Tu)!==0?null:Mu.subarray(_p)},ms.secretbox.keyLength=zu,ms.secretbox.nonceLength=Qu,ms.secretbox.overheadLength=dp,ms.scalarMult=function(au,$u){if(im(au,$u),au.length!==Dp)throw new Error("bad n size");if($u.length!==kp)throw new Error("bad p size");var Tu=new Uint8Array(kp);return yu(Tu,au,$u),Tu},ms.scalarMult.base=function(au){if(im(au),au.length!==Dp)throw new Error("bad n size");var $u=new Uint8Array(kp);return tu($u,au),$u},ms.scalarMult.scalarLength=Dp,ms.scalarMult.groupElementLength=kp,ms.box=function(au,$u,Tu,Ql){var Mu=ms.box.before(Tu,Ql);return ms.secretbox(au,$u,Mu)},ms.box.before=function(au,$u){im(au,$u),um(au,$u);var Tu=new Uint8Array(Yp);return Tl(Tu,au,$u),Tu},ms.box.after=ms.secretbox,ms.box.open=function(au,$u,Tu,Ql){var Mu=ms.box.before(Tu,Ql);return ms.secretbox.open(au,$u,Mu)},ms.box.open.after=ms.secretbox.open,ms.box.keyPair=function(){var au=new Uint8Array(Ip),$u=new Uint8Array(Hp);return Ll(au,$u),{publicKey:au,secretKey:$u}},ms.box.keyPair.fromSecretKey=function(au){if(im(au),au.length!==Hp)throw new Error("bad secret key size");var $u=new Uint8Array(Ip);return tu($u,au),{publicKey:$u,secretKey:new Uint8Array(au)}},ms.box.publicKeyLength=Ip,ms.box.secretKeyLength=Hp,ms.box.sharedKeyLength=Yp,ms.box.nonceLength=jp,ms.box.overheadLength=ms.secretbox.overheadLength,ms.sign=function(au,$u){if(im(au,$u),$u.length!==fm)throw new Error("bad secret key size");var Tu=new Uint8Array(am+au.length);return Zl(Tu,au,au.length,$u),Tu},ms.sign.open=function(au,$u){if(im(au,$u),$u.length!==Qp)throw new Error("bad public key size");var Tu=new Uint8Array(au.length),Ql=Ou(Tu,au,au.length,$u);if(Ql<0)return null;for(var Mu=new Uint8Array(Ql),ap=0;ap<Mu.length;ap++)Mu[ap]=Tu[ap];return Mu},ms.sign.detached=function(au,$u){for(var Tu=ms.sign(au,$u),Ql=new Uint8Array(am),Mu=0;Mu<Ql.length;Mu++)Ql[Mu]=Tu[Mu];return Ql},ms.sign.detached.verify=function(au,$u,Tu){if(im(au,$u,Tu),$u.length!==am)throw new Error("bad signature size");if(Tu.length!==Qp)throw new Error("bad public key size");var Ql=new Uint8Array(am+au.length),Mu=new Uint8Array(am+au.length),ap;for(ap=0;ap<am;ap++)Ql[ap]=$u[ap];for(ap=0;ap<au.length;ap++)Ql[ap+am]=au[ap];return Ou(Mu,Ql,Ql.length,Tu)>=0},ms.sign.keyPair=function(){var au=new Uint8Array(Qp),$u=new Uint8Array(fm);return Zu(au,$u),{publicKey:au,secretKey:$u}},ms.sign.keyPair.fromSecretKey=function(au){if(im(au),au.length!==fm)throw new Error("bad secret key size");for(var $u=new Uint8Array(Qp),Tu=0;Tu<$u.length;Tu++)$u[Tu]=au[32+Tu];return{publicKey:$u,secretKey:new Uint8Array(au)}},ms.sign.keyPair.fromSeed=function(au){if(im(au),au.length!==cm)throw new Error("bad seed size");for(var $u=new Uint8Array(Qp),Tu=new Uint8Array(fm),Ql=0;Ql<32;Ql++)Tu[Ql]=au[Ql];return Zu($u,Tu,!0),{publicKey:$u,secretKey:Tu}},ms.sign.publicKeyLength=Qp,ms.sign.secretKeyLength=fm,ms.sign.seedLength=cm,ms.sign.signatureLength=am,ms.hash=function(au){im(au);var $u=new Uint8Array(lm);return Au($u,au,au.length),$u},ms.hash.hashLength=lm,ms.verify=function(au,$u){return im(au,$u),au.length===0||$u.length===0||au.length!==$u.length?!1:_l(au,0,$u,0,au.length)===0},ms.setPRNG=function(au){Ss=au},function(){var au=typeof self<"u"?self.crypto||self.msCrypto:null;if(au&&au.getRandomValues){var $u=65536;ms.setPRNG(function(Tu,Ql){var Mu,ap=new Uint8Array(Ql);for(Mu=0;Mu<Ql;Mu+=$u)au.getRandomValues(ap.subarray(Mu,Mu+Math.min(Ql-Mu,$u)));for(Mu=0;Mu<Ql;Mu++)Tu[Mu]=ap[Mu];ym(ap)})}else typeof commonjsRequire<"u"&&(au=require$$0$1,au&&au.randomBytes&&ms.setPRNG(function(Tu,Ql){var Mu,ap=au.randomBytes(Ql);for(Mu=0;Mu<Ql;Mu++)Tu[Mu]=ap[Mu];ym(ap)}))}()})(vs.exports?vs.exports:self.nacl=self.nacl||{})})(naclFast);var naclFastExports=naclFast.exports;const nacl=getDefaultExportFromCjs(naclFastExports);var sha512$1={exports:{}};/*
 * [js-sha512]{@link https://github.com/emn178/js-sha512}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2018
 * @license MIT
 */(function(vs){(function(){var ms="input is invalid type",ws="finalize already called",Ss=typeof window=="object",Es=Ss?window:{};Es.JS_SHA512_NO_WINDOW&&(Ss=!1);var _s=!Ss&&typeof self=="object",Is=!Es.JS_SHA512_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;Is?Es=window:_s&&(Es=self);var Ts=!Es.JS_SHA512_NO_COMMON_JS&&!0&&vs.exports,Rs=!Es.JS_SHA512_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",Bs="0123456789abcdef".split(""),Ns=[-2147483648,8388608,32768,128],Ws=[24,16,8,0],Js=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],$l=["hex","array","digest","arrayBuffer"],wl=[];(Es.JS_SHA512_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(Ul){return Object.prototype.toString.call(Ul)==="[object Array]"}),Rs&&(Es.JS_SHA512_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(Ul){return typeof Ul=="object"&&Ul.buffer&&Ul.buffer.constructor===ArrayBuffer});var _l=function(Ul,_h){return function(nu){return new xl(_h,!0).update(nu)[Ul]()}},Cl=function(Ul){var _h=_l("hex",Ul);_h.create=function(){return new xl(Ul)},_h.update=function(Jl){return _h.create().update(Jl)};for(var nu=0;nu<$l.length;++nu){var su=$l[nu];_h[su]=_l(su,Ul)}return _h},Sl=function(Ul,_h){return function(nu,su){return new Ml(nu,_h,!0).update(su)[Ul]()}},El=function(Ul){var _h=Sl("hex",Ul);_h.create=function(Jl){return new Ml(Jl,Ul)},_h.update=function(Jl,Il){return _h.create(Jl).update(Il)};for(var nu=0;nu<$l.length;++nu){var su=$l[nu];_h[su]=Sl(su,Ul)}return _h};function xl(Ul,_h){_h?(wl[0]=wl[1]=wl[2]=wl[3]=wl[4]=wl[5]=wl[6]=wl[7]=wl[8]=wl[9]=wl[10]=wl[11]=wl[12]=wl[13]=wl[14]=wl[15]=wl[16]=wl[17]=wl[18]=wl[19]=wl[20]=wl[21]=wl[22]=wl[23]=wl[24]=wl[25]=wl[26]=wl[27]=wl[28]=wl[29]=wl[30]=wl[31]=wl[32]=0,this.blocks=wl):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ul==384?(this.h0h=3418070365,this.h0l=3238371032,this.h1h=1654270250,this.h1l=914150663,this.h2h=2438529370,this.h2l=812702999,this.h3h=355462360,this.h3l=4144912697,this.h4h=1731405415,this.h4l=4290775857,this.h5h=2394180231,this.h5l=1750603025,this.h6h=3675008525,this.h6l=1694076839,this.h7h=1203062813,this.h7l=3204075428):Ul==256?(this.h0h=573645204,this.h0l=4230739756,this.h1h=2673172387,this.h1l=3360449730,this.h2h=596883563,this.h2l=1867755857,this.h3h=2520282905,this.h3l=1497426621,this.h4h=2519219938,this.h4l=2827943907,this.h5h=3193839141,this.h5l=1401305490,this.h6h=721525244,this.h6l=746961066,this.h7h=246885852,this.h7l=2177182882):Ul==224?(this.h0h=2352822216,this.h0l=424955298,this.h1h=1944164710,this.h1l=2312950998,this.h2h=502970286,this.h2l=855612546,this.h3h=1738396948,this.h3l=1479516111,this.h4h=258812777,this.h4l=2077511080,this.h5h=2011393907,this.h5l=79989058,this.h6h=1067287976,this.h6l=1780299464,this.h7h=286451373,this.h7l=2446758561):(this.h0h=1779033703,this.h0l=4089235720,this.h1h=3144134277,this.h1l=2227873595,this.h2h=1013904242,this.h2l=4271175723,this.h3h=2773480762,this.h3l=1595750129,this.h4h=1359893119,this.h4l=2917565137,this.h5h=2600822924,this.h5l=725511199,this.h6h=528734635,this.h6l=4215389547,this.h7h=1541459225,this.h7l=327033209),this.bits=Ul,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1}xl.prototype.update=function(Ul){if(this.finalized)throw new Error(ws);var _h,nu=typeof Ul;if(nu!=="string"){if(nu==="object"){if(Ul===null)throw new Error(ms);if(Rs&&Ul.constructor===ArrayBuffer)Ul=new Uint8Array(Ul);else if(!Array.isArray(Ul)&&(!Rs||!ArrayBuffer.isView(Ul)))throw new Error(ms)}else throw new Error(ms);_h=!0}for(var su,Jl=0,Il,Nl=Ul.length,Ol=this.blocks;Jl<Nl;){if(this.hashed&&(this.hashed=!1,Ol[0]=this.block,Ol[1]=Ol[2]=Ol[3]=Ol[4]=Ol[5]=Ol[6]=Ol[7]=Ol[8]=Ol[9]=Ol[10]=Ol[11]=Ol[12]=Ol[13]=Ol[14]=Ol[15]=Ol[16]=Ol[17]=Ol[18]=Ol[19]=Ol[20]=Ol[21]=Ol[22]=Ol[23]=Ol[24]=Ol[25]=Ol[26]=Ol[27]=Ol[28]=Ol[29]=Ol[30]=Ol[31]=Ol[32]=0),_h)for(Il=this.start;Jl<Nl&&Il<128;++Jl)Ol[Il>>2]|=Ul[Jl]<<Ws[Il++&3];else for(Il=this.start;Jl<Nl&&Il<128;++Jl)su=Ul.charCodeAt(Jl),su<128?Ol[Il>>2]|=su<<Ws[Il++&3]:su<2048?(Ol[Il>>2]|=(192|su>>6)<<Ws[Il++&3],Ol[Il>>2]|=(128|su&63)<<Ws[Il++&3]):su<55296||su>=57344?(Ol[Il>>2]|=(224|su>>12)<<Ws[Il++&3],Ol[Il>>2]|=(128|su>>6&63)<<Ws[Il++&3],Ol[Il>>2]|=(128|su&63)<<Ws[Il++&3]):(su=65536+((su&1023)<<10|Ul.charCodeAt(++Jl)&1023),Ol[Il>>2]|=(240|su>>18)<<Ws[Il++&3],Ol[Il>>2]|=(128|su>>12&63)<<Ws[Il++&3],Ol[Il>>2]|=(128|su>>6&63)<<Ws[Il++&3],Ol[Il>>2]|=(128|su&63)<<Ws[Il++&3]);this.lastByteIndex=Il,this.bytes+=Il-this.start,Il>=128?(this.block=Ol[32],this.start=Il-128,this.hash(),this.hashed=!0):this.start=Il}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},xl.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var Ul=this.blocks,_h=this.lastByteIndex;Ul[32]=this.block,Ul[_h>>2]|=Ns[_h&3],this.block=Ul[32],_h>=112&&(this.hashed||this.hash(),Ul[0]=this.block,Ul[1]=Ul[2]=Ul[3]=Ul[4]=Ul[5]=Ul[6]=Ul[7]=Ul[8]=Ul[9]=Ul[10]=Ul[11]=Ul[12]=Ul[13]=Ul[14]=Ul[15]=Ul[16]=Ul[17]=Ul[18]=Ul[19]=Ul[20]=Ul[21]=Ul[22]=Ul[23]=Ul[24]=Ul[25]=Ul[26]=Ul[27]=Ul[28]=Ul[29]=Ul[30]=Ul[31]=Ul[32]=0),Ul[30]=this.hBytes<<3|this.bytes>>>29,Ul[31]=this.bytes<<3,this.hash()}},xl.prototype.hash=function(){var Ul=this.h0h,_h=this.h0l,nu=this.h1h,su=this.h1l,Jl=this.h2h,Il=this.h2l,Nl=this.h3h,Ol=this.h3l,Gl=this.h4h,Fl=this.h4l,Al=this.h5h,Pl=this.h5l,yl=this.h6h,Zs=this.h6l,Bl=this.h7h,eu=this.h7l,Eu=this.blocks,uu,Yl,zl,ou,pu,fu,yu,tu,Ll,Tl,Hl,Dl,Kl,cu,iu,du,Au,xu,_u,Hu,ju,_d,Zu,tp,hu;for(uu=32;uu<160;uu+=2)Hu=Eu[uu-30],ju=Eu[uu-29],Yl=(Hu>>>1|ju<<31)^(Hu>>>8|ju<<24)^Hu>>>7,zl=(ju>>>1|Hu<<31)^(ju>>>8|Hu<<24)^(ju>>>7|Hu<<25),Hu=Eu[uu-4],ju=Eu[uu-3],ou=(Hu>>>19|ju<<13)^(ju>>>29|Hu<<3)^Hu>>>6,pu=(ju>>>19|Hu<<13)^(Hu>>>29|ju<<3)^(ju>>>6|Hu<<26),Hu=Eu[uu-32],ju=Eu[uu-31],_d=Eu[uu-14],Zu=Eu[uu-13],fu=(Zu&65535)+(ju&65535)+(zl&65535)+(pu&65535),yu=(Zu>>>16)+(ju>>>16)+(zl>>>16)+(pu>>>16)+(fu>>>16),tu=(_d&65535)+(Hu&65535)+(Yl&65535)+(ou&65535)+(yu>>>16),Ll=(_d>>>16)+(Hu>>>16)+(Yl>>>16)+(ou>>>16)+(tu>>>16),Eu[uu]=Ll<<16|tu&65535,Eu[uu+1]=yu<<16|fu&65535;var Xl=Ul,Zl=_h,bu=nu,Ou=su,zu=Jl,Qu=Il,_p=Nl,dp=Ol,kp=Gl,Dp=Fl,Ip=Al,Hp=Pl,Yp=yl,jp=Zs,tm=Bl,hm=eu;for(du=bu&zu,Au=Ou&Qu,uu=0;uu<160;uu+=8)Yl=(Xl>>>28|Zl<<4)^(Zl>>>2|Xl<<30)^(Zl>>>7|Xl<<25),zl=(Zl>>>28|Xl<<4)^(Xl>>>2|Zl<<30)^(Xl>>>7|Zl<<25),ou=(kp>>>14|Dp<<18)^(kp>>>18|Dp<<14)^(Dp>>>9|kp<<23),pu=(Dp>>>14|kp<<18)^(Dp>>>18|kp<<14)^(kp>>>9|Dp<<23),Tl=Xl&bu,Hl=Zl&Ou,xu=Tl^Xl&zu^du,_u=Hl^Zl&Qu^Au,tp=kp&Ip^~kp&Yp,hu=Dp&Hp^~Dp&jp,Hu=Eu[uu],ju=Eu[uu+1],_d=Js[uu],Zu=Js[uu+1],fu=(Zu&65535)+(ju&65535)+(hu&65535)+(pu&65535)+(hm&65535),yu=(Zu>>>16)+(ju>>>16)+(hu>>>16)+(pu>>>16)+(hm>>>16)+(fu>>>16),tu=(_d&65535)+(Hu&65535)+(tp&65535)+(ou&65535)+(tm&65535)+(yu>>>16),Ll=(_d>>>16)+(Hu>>>16)+(tp>>>16)+(ou>>>16)+(tm>>>16)+(tu>>>16),Hu=Ll<<16|tu&65535,ju=yu<<16|fu&65535,fu=(_u&65535)+(zl&65535),yu=(_u>>>16)+(zl>>>16)+(fu>>>16),tu=(xu&65535)+(Yl&65535)+(yu>>>16),Ll=(xu>>>16)+(Yl>>>16)+(tu>>>16),_d=Ll<<16|tu&65535,Zu=yu<<16|fu&65535,fu=(dp&65535)+(ju&65535),yu=(dp>>>16)+(ju>>>16)+(fu>>>16),tu=(_p&65535)+(Hu&65535)+(yu>>>16),Ll=(_p>>>16)+(Hu>>>16)+(tu>>>16),tm=Ll<<16|tu&65535,hm=yu<<16|fu&65535,fu=(Zu&65535)+(ju&65535),yu=(Zu>>>16)+(ju>>>16)+(fu>>>16),tu=(_d&65535)+(Hu&65535)+(yu>>>16),Ll=(_d>>>16)+(Hu>>>16)+(tu>>>16),_p=Ll<<16|tu&65535,dp=yu<<16|fu&65535,Yl=(_p>>>28|dp<<4)^(dp>>>2|_p<<30)^(dp>>>7|_p<<25),zl=(dp>>>28|_p<<4)^(_p>>>2|dp<<30)^(_p>>>7|dp<<25),ou=(tm>>>14|hm<<18)^(tm>>>18|hm<<14)^(hm>>>9|tm<<23),pu=(hm>>>14|tm<<18)^(hm>>>18|tm<<14)^(tm>>>9|hm<<23),Dl=_p&Xl,Kl=dp&Zl,xu=Dl^_p&bu^Tl,_u=Kl^dp&Ou^Hl,tp=tm&kp^~tm&Ip,hu=hm&Dp^~hm&Hp,Hu=Eu[uu+2],ju=Eu[uu+3],_d=Js[uu+2],Zu=Js[uu+3],fu=(Zu&65535)+(ju&65535)+(hu&65535)+(pu&65535)+(jp&65535),yu=(Zu>>>16)+(ju>>>16)+(hu>>>16)+(pu>>>16)+(jp>>>16)+(fu>>>16),tu=(_d&65535)+(Hu&65535)+(tp&65535)+(ou&65535)+(Yp&65535)+(yu>>>16),Ll=(_d>>>16)+(Hu>>>16)+(tp>>>16)+(ou>>>16)+(Yp>>>16)+(tu>>>16),Hu=Ll<<16|tu&65535,ju=yu<<16|fu&65535,fu=(_u&65535)+(zl&65535),yu=(_u>>>16)+(zl>>>16)+(fu>>>16),tu=(xu&65535)+(Yl&65535)+(yu>>>16),Ll=(xu>>>16)+(Yl>>>16)+(tu>>>16),_d=Ll<<16|tu&65535,Zu=yu<<16|fu&65535,fu=(Qu&65535)+(ju&65535),yu=(Qu>>>16)+(ju>>>16)+(fu>>>16),tu=(zu&65535)+(Hu&65535)+(yu>>>16),Ll=(zu>>>16)+(Hu>>>16)+(tu>>>16),Yp=Ll<<16|tu&65535,jp=yu<<16|fu&65535,fu=(Zu&65535)+(ju&65535),yu=(Zu>>>16)+(ju>>>16)+(fu>>>16),tu=(_d&65535)+(Hu&65535)+(yu>>>16),Ll=(_d>>>16)+(Hu>>>16)+(tu>>>16),zu=Ll<<16|tu&65535,Qu=yu<<16|fu&65535,Yl=(zu>>>28|Qu<<4)^(Qu>>>2|zu<<30)^(Qu>>>7|zu<<25),zl=(Qu>>>28|zu<<4)^(zu>>>2|Qu<<30)^(zu>>>7|Qu<<25),ou=(Yp>>>14|jp<<18)^(Yp>>>18|jp<<14)^(jp>>>9|Yp<<23),pu=(jp>>>14|Yp<<18)^(jp>>>18|Yp<<14)^(Yp>>>9|jp<<23),cu=zu&_p,iu=Qu&dp,xu=cu^zu&Xl^Dl,_u=iu^Qu&Zl^Kl,tp=Yp&tm^~Yp&kp,hu=jp&hm^~jp&Dp,Hu=Eu[uu+4],ju=Eu[uu+5],_d=Js[uu+4],Zu=Js[uu+5],fu=(Zu&65535)+(ju&65535)+(hu&65535)+(pu&65535)+(Hp&65535),yu=(Zu>>>16)+(ju>>>16)+(hu>>>16)+(pu>>>16)+(Hp>>>16)+(fu>>>16),tu=(_d&65535)+(Hu&65535)+(tp&65535)+(ou&65535)+(Ip&65535)+(yu>>>16),Ll=(_d>>>16)+(Hu>>>16)+(tp>>>16)+(ou>>>16)+(Ip>>>16)+(tu>>>16),Hu=Ll<<16|tu&65535,ju=yu<<16|fu&65535,fu=(_u&65535)+(zl&65535),yu=(_u>>>16)+(zl>>>16)+(fu>>>16),tu=(xu&65535)+(Yl&65535)+(yu>>>16),Ll=(xu>>>16)+(Yl>>>16)+(tu>>>16),_d=Ll<<16|tu&65535,Zu=yu<<16|fu&65535,fu=(Ou&65535)+(ju&65535),yu=(Ou>>>16)+(ju>>>16)+(fu>>>16),tu=(bu&65535)+(Hu&65535)+(yu>>>16),Ll=(bu>>>16)+(Hu>>>16)+(tu>>>16),Ip=Ll<<16|tu&65535,Hp=yu<<16|fu&65535,fu=(Zu&65535)+(ju&65535),yu=(Zu>>>16)+(ju>>>16)+(fu>>>16),tu=(_d&65535)+(Hu&65535)+(yu>>>16),Ll=(_d>>>16)+(Hu>>>16)+(tu>>>16),bu=Ll<<16|tu&65535,Ou=yu<<16|fu&65535,Yl=(bu>>>28|Ou<<4)^(Ou>>>2|bu<<30)^(Ou>>>7|bu<<25),zl=(Ou>>>28|bu<<4)^(bu>>>2|Ou<<30)^(bu>>>7|Ou<<25),ou=(Ip>>>14|Hp<<18)^(Ip>>>18|Hp<<14)^(Hp>>>9|Ip<<23),pu=(Hp>>>14|Ip<<18)^(Hp>>>18|Ip<<14)^(Ip>>>9|Hp<<23),du=bu&zu,Au=Ou&Qu,xu=du^bu&_p^cu,_u=Au^Ou&dp^iu,tp=Ip&Yp^~Ip&tm,hu=Hp&jp^~Hp&hm,Hu=Eu[uu+6],ju=Eu[uu+7],_d=Js[uu+6],Zu=Js[uu+7],fu=(Zu&65535)+(ju&65535)+(hu&65535)+(pu&65535)+(Dp&65535),yu=(Zu>>>16)+(ju>>>16)+(hu>>>16)+(pu>>>16)+(Dp>>>16)+(fu>>>16),tu=(_d&65535)+(Hu&65535)+(tp&65535)+(ou&65535)+(kp&65535)+(yu>>>16),Ll=(_d>>>16)+(Hu>>>16)+(tp>>>16)+(ou>>>16)+(kp>>>16)+(tu>>>16),Hu=Ll<<16|tu&65535,ju=yu<<16|fu&65535,fu=(_u&65535)+(zl&65535),yu=(_u>>>16)+(zl>>>16)+(fu>>>16),tu=(xu&65535)+(Yl&65535)+(yu>>>16),Ll=(xu>>>16)+(Yl>>>16)+(tu>>>16),_d=Ll<<16|tu&65535,Zu=yu<<16|fu&65535,fu=(Zl&65535)+(ju&65535),yu=(Zl>>>16)+(ju>>>16)+(fu>>>16),tu=(Xl&65535)+(Hu&65535)+(yu>>>16),Ll=(Xl>>>16)+(Hu>>>16)+(tu>>>16),kp=Ll<<16|tu&65535,Dp=yu<<16|fu&65535,fu=(Zu&65535)+(ju&65535),yu=(Zu>>>16)+(ju>>>16)+(fu>>>16),tu=(_d&65535)+(Hu&65535)+(yu>>>16),Ll=(_d>>>16)+(Hu>>>16)+(tu>>>16),Xl=Ll<<16|tu&65535,Zl=yu<<16|fu&65535;fu=(_h&65535)+(Zl&65535),yu=(_h>>>16)+(Zl>>>16)+(fu>>>16),tu=(Ul&65535)+(Xl&65535)+(yu>>>16),Ll=(Ul>>>16)+(Xl>>>16)+(tu>>>16),this.h0h=Ll<<16|tu&65535,this.h0l=yu<<16|fu&65535,fu=(su&65535)+(Ou&65535),yu=(su>>>16)+(Ou>>>16)+(fu>>>16),tu=(nu&65535)+(bu&65535)+(yu>>>16),Ll=(nu>>>16)+(bu>>>16)+(tu>>>16),this.h1h=Ll<<16|tu&65535,this.h1l=yu<<16|fu&65535,fu=(Il&65535)+(Qu&65535),yu=(Il>>>16)+(Qu>>>16)+(fu>>>16),tu=(Jl&65535)+(zu&65535)+(yu>>>16),Ll=(Jl>>>16)+(zu>>>16)+(tu>>>16),this.h2h=Ll<<16|tu&65535,this.h2l=yu<<16|fu&65535,fu=(Ol&65535)+(dp&65535),yu=(Ol>>>16)+(dp>>>16)+(fu>>>16),tu=(Nl&65535)+(_p&65535)+(yu>>>16),Ll=(Nl>>>16)+(_p>>>16)+(tu>>>16),this.h3h=Ll<<16|tu&65535,this.h3l=yu<<16|fu&65535,fu=(Fl&65535)+(Dp&65535),yu=(Fl>>>16)+(Dp>>>16)+(fu>>>16),tu=(Gl&65535)+(kp&65535)+(yu>>>16),Ll=(Gl>>>16)+(kp>>>16)+(tu>>>16),this.h4h=Ll<<16|tu&65535,this.h4l=yu<<16|fu&65535,fu=(Pl&65535)+(Hp&65535),yu=(Pl>>>16)+(Hp>>>16)+(fu>>>16),tu=(Al&65535)+(Ip&65535)+(yu>>>16),Ll=(Al>>>16)+(Ip>>>16)+(tu>>>16),this.h5h=Ll<<16|tu&65535,this.h5l=yu<<16|fu&65535,fu=(Zs&65535)+(jp&65535),yu=(Zs>>>16)+(jp>>>16)+(fu>>>16),tu=(yl&65535)+(Yp&65535)+(yu>>>16),Ll=(yl>>>16)+(Yp>>>16)+(tu>>>16),this.h6h=Ll<<16|tu&65535,this.h6l=yu<<16|fu&65535,fu=(eu&65535)+(hm&65535),yu=(eu>>>16)+(hm>>>16)+(fu>>>16),tu=(Bl&65535)+(tm&65535)+(yu>>>16),Ll=(Bl>>>16)+(tm>>>16)+(tu>>>16),this.h7h=Ll<<16|tu&65535,this.h7l=yu<<16|fu&65535},xl.prototype.hex=function(){this.finalize();var Ul=this.h0h,_h=this.h0l,nu=this.h1h,su=this.h1l,Jl=this.h2h,Il=this.h2l,Nl=this.h3h,Ol=this.h3l,Gl=this.h4h,Fl=this.h4l,Al=this.h5h,Pl=this.h5l,yl=this.h6h,Zs=this.h6l,Bl=this.h7h,eu=this.h7l,Eu=this.bits,uu=Bs[Ul>>28&15]+Bs[Ul>>24&15]+Bs[Ul>>20&15]+Bs[Ul>>16&15]+Bs[Ul>>12&15]+Bs[Ul>>8&15]+Bs[Ul>>4&15]+Bs[Ul&15]+Bs[_h>>28&15]+Bs[_h>>24&15]+Bs[_h>>20&15]+Bs[_h>>16&15]+Bs[_h>>12&15]+Bs[_h>>8&15]+Bs[_h>>4&15]+Bs[_h&15]+Bs[nu>>28&15]+Bs[nu>>24&15]+Bs[nu>>20&15]+Bs[nu>>16&15]+Bs[nu>>12&15]+Bs[nu>>8&15]+Bs[nu>>4&15]+Bs[nu&15]+Bs[su>>28&15]+Bs[su>>24&15]+Bs[su>>20&15]+Bs[su>>16&15]+Bs[su>>12&15]+Bs[su>>8&15]+Bs[su>>4&15]+Bs[su&15]+Bs[Jl>>28&15]+Bs[Jl>>24&15]+Bs[Jl>>20&15]+Bs[Jl>>16&15]+Bs[Jl>>12&15]+Bs[Jl>>8&15]+Bs[Jl>>4&15]+Bs[Jl&15]+Bs[Il>>28&15]+Bs[Il>>24&15]+Bs[Il>>20&15]+Bs[Il>>16&15]+Bs[Il>>12&15]+Bs[Il>>8&15]+Bs[Il>>4&15]+Bs[Il&15]+Bs[Nl>>28&15]+Bs[Nl>>24&15]+Bs[Nl>>20&15]+Bs[Nl>>16&15]+Bs[Nl>>12&15]+Bs[Nl>>8&15]+Bs[Nl>>4&15]+Bs[Nl&15];return Eu>=256&&(uu+=Bs[Ol>>28&15]+Bs[Ol>>24&15]+Bs[Ol>>20&15]+Bs[Ol>>16&15]+Bs[Ol>>12&15]+Bs[Ol>>8&15]+Bs[Ol>>4&15]+Bs[Ol&15]),Eu>=384&&(uu+=Bs[Gl>>28&15]+Bs[Gl>>24&15]+Bs[Gl>>20&15]+Bs[Gl>>16&15]+Bs[Gl>>12&15]+Bs[Gl>>8&15]+Bs[Gl>>4&15]+Bs[Gl&15]+Bs[Fl>>28&15]+Bs[Fl>>24&15]+Bs[Fl>>20&15]+Bs[Fl>>16&15]+Bs[Fl>>12&15]+Bs[Fl>>8&15]+Bs[Fl>>4&15]+Bs[Fl&15]+Bs[Al>>28&15]+Bs[Al>>24&15]+Bs[Al>>20&15]+Bs[Al>>16&15]+Bs[Al>>12&15]+Bs[Al>>8&15]+Bs[Al>>4&15]+Bs[Al&15]+Bs[Pl>>28&15]+Bs[Pl>>24&15]+Bs[Pl>>20&15]+Bs[Pl>>16&15]+Bs[Pl>>12&15]+Bs[Pl>>8&15]+Bs[Pl>>4&15]+Bs[Pl&15]),Eu==512&&(uu+=Bs[yl>>28&15]+Bs[yl>>24&15]+Bs[yl>>20&15]+Bs[yl>>16&15]+Bs[yl>>12&15]+Bs[yl>>8&15]+Bs[yl>>4&15]+Bs[yl&15]+Bs[Zs>>28&15]+Bs[Zs>>24&15]+Bs[Zs>>20&15]+Bs[Zs>>16&15]+Bs[Zs>>12&15]+Bs[Zs>>8&15]+Bs[Zs>>4&15]+Bs[Zs&15]+Bs[Bl>>28&15]+Bs[Bl>>24&15]+Bs[Bl>>20&15]+Bs[Bl>>16&15]+Bs[Bl>>12&15]+Bs[Bl>>8&15]+Bs[Bl>>4&15]+Bs[Bl&15]+Bs[eu>>28&15]+Bs[eu>>24&15]+Bs[eu>>20&15]+Bs[eu>>16&15]+Bs[eu>>12&15]+Bs[eu>>8&15]+Bs[eu>>4&15]+Bs[eu&15]),uu},xl.prototype.toString=xl.prototype.hex,xl.prototype.digest=function(){this.finalize();var Ul=this.h0h,_h=this.h0l,nu=this.h1h,su=this.h1l,Jl=this.h2h,Il=this.h2l,Nl=this.h3h,Ol=this.h3l,Gl=this.h4h,Fl=this.h4l,Al=this.h5h,Pl=this.h5l,yl=this.h6h,Zs=this.h6l,Bl=this.h7h,eu=this.h7l,Eu=this.bits,uu=[Ul>>24&255,Ul>>16&255,Ul>>8&255,Ul&255,_h>>24&255,_h>>16&255,_h>>8&255,_h&255,nu>>24&255,nu>>16&255,nu>>8&255,nu&255,su>>24&255,su>>16&255,su>>8&255,su&255,Jl>>24&255,Jl>>16&255,Jl>>8&255,Jl&255,Il>>24&255,Il>>16&255,Il>>8&255,Il&255,Nl>>24&255,Nl>>16&255,Nl>>8&255,Nl&255];return Eu>=256&&uu.push(Ol>>24&255,Ol>>16&255,Ol>>8&255,Ol&255),Eu>=384&&uu.push(Gl>>24&255,Gl>>16&255,Gl>>8&255,Gl&255,Fl>>24&255,Fl>>16&255,Fl>>8&255,Fl&255,Al>>24&255,Al>>16&255,Al>>8&255,Al&255,Pl>>24&255,Pl>>16&255,Pl>>8&255,Pl&255),Eu==512&&uu.push(yl>>24&255,yl>>16&255,yl>>8&255,yl&255,Zs>>24&255,Zs>>16&255,Zs>>8&255,Zs&255,Bl>>24&255,Bl>>16&255,Bl>>8&255,Bl&255,eu>>24&255,eu>>16&255,eu>>8&255,eu&255),uu},xl.prototype.array=xl.prototype.digest,xl.prototype.arrayBuffer=function(){this.finalize();var Ul=this.bits,_h=new ArrayBuffer(Ul/8),nu=new DataView(_h);return nu.setUint32(0,this.h0h),nu.setUint32(4,this.h0l),nu.setUint32(8,this.h1h),nu.setUint32(12,this.h1l),nu.setUint32(16,this.h2h),nu.setUint32(20,this.h2l),nu.setUint32(24,this.h3h),Ul>=256&&nu.setUint32(28,this.h3l),Ul>=384&&(nu.setUint32(32,this.h4h),nu.setUint32(36,this.h4l),nu.setUint32(40,this.h5h),nu.setUint32(44,this.h5l)),Ul==512&&(nu.setUint32(48,this.h6h),nu.setUint32(52,this.h6l),nu.setUint32(56,this.h7h),nu.setUint32(60,this.h7l)),_h},xl.prototype.clone=function(){var Ul=new xl(this.bits,!1);return this.copyTo(Ul),Ul},xl.prototype.copyTo=function(Ul){var _h=0,nu=["h0h","h0l","h1h","h1l","h2h","h2l","h3h","h3l","h4h","h4l","h5h","h5l","h6h","h6l","h7h","h7l","start","bytes","hBytes","finalized","hashed","lastByteIndex"];for(_h=0;_h<nu.length;++_h)Ul[nu[_h]]=this[nu[_h]];for(_h=0;_h<this.blocks.length;++_h)Ul.blocks[_h]=this.blocks[_h]};function Ml(Ul,_h,nu){var su,Jl=typeof Ul;if(Jl!=="string"){if(Jl==="object"){if(Ul===null)throw new Error(ms);if(Rs&&Ul.constructor===ArrayBuffer)Ul=new Uint8Array(Ul);else if(!Array.isArray(Ul)&&(!Rs||!ArrayBuffer.isView(Ul)))throw new Error(ms)}else throw new Error(ms);su=!0}var Il=Ul.length;if(!su){for(var Nl=[],Il=Ul.length,Ol=0,Gl,Fl=0;Fl<Il;++Fl)Gl=Ul.charCodeAt(Fl),Gl<128?Nl[Ol++]=Gl:Gl<2048?(Nl[Ol++]=192|Gl>>6,Nl[Ol++]=128|Gl&63):Gl<55296||Gl>=57344?(Nl[Ol++]=224|Gl>>12,Nl[Ol++]=128|Gl>>6&63,Nl[Ol++]=128|Gl&63):(Gl=65536+((Gl&1023)<<10|Ul.charCodeAt(++Fl)&1023),Nl[Ol++]=240|Gl>>18,Nl[Ol++]=128|Gl>>12&63,Nl[Ol++]=128|Gl>>6&63,Nl[Ol++]=128|Gl&63);Ul=Nl}Ul.length>128&&(Ul=new xl(_h,!0).update(Ul).array());for(var Al=[],Pl=[],Fl=0;Fl<128;++Fl){var yl=Ul[Fl]||0;Al[Fl]=92^yl,Pl[Fl]=54^yl}xl.call(this,_h,nu),this.update(Pl),this.oKeyPad=Al,this.inner=!0,this.sharedMemory=nu}Ml.prototype=new xl,Ml.prototype.finalize=function(){if(xl.prototype.finalize.call(this),this.inner){this.inner=!1;var Ul=this.array();xl.call(this,this.bits,this.sharedMemory),this.update(this.oKeyPad),this.update(Ul),xl.prototype.finalize.call(this)}},Ml.prototype.clone=function(){var Ul=new Ml([],this.bits,!1);this.copyTo(Ul),Ul.inner=this.inner;for(var _h=0;_h<this.oKeyPad.length;++_h)Ul.oKeyPad[_h]=this.oKeyPad[_h];return Ul};var Vl=Cl(512);Vl.sha512=Vl,Vl.sha384=Cl(384),Vl.sha512_256=Cl(256),Vl.sha512_224=Cl(224),Vl.sha512.hmac=El(512),Vl.sha384.hmac=El(384),Vl.sha512_256.hmac=El(256),Vl.sha512_224.hmac=El(224),Ts?vs.exports=Vl:(Es.sha512=Vl.sha512,Es.sha384=Vl.sha384,Es.sha512_256=Vl.sha512_256,Es.sha512_224=Vl.sha512_224)})()})(sha512$1);var sha512Exports=sha512$1.exports;const sha512=getDefaultExportFromCjs(sha512Exports);var jsonBigint={exports:{}},stringify$1={exports:{}},bignumber={exports:{}};(function(vs){(function(ms){var ws,Ss=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Es=Math.ceil,_s=Math.floor,Is="[BigNumber Error] ",Ts=Is+"Number primitive has more than 15 significant digits: ",Rs=1e14,Bs=14,Ns=9007199254740991,Ws=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Js=1e7,$l=1e9;function wl(Ul){var _h,nu,su,Jl=Yl.prototype={constructor:Yl,toString:null,valueOf:null},Il=new Yl(1),Nl=20,Ol=4,Gl=-7,Fl=21,Al=-1e7,Pl=1e7,yl=!1,Zs=1,Bl=0,eu={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},Eu="0123456789abcdefghijklmnopqrstuvwxyz",uu=!0;function Yl(tu,Ll){var Tl,Hl,Dl,Kl,cu,iu,du,Au,xu=this;if(!(xu instanceof Yl))return new Yl(tu,Ll);if(Ll==null){if(tu&&tu._isBigNumber===!0){xu.s=tu.s,!tu.c||tu.e>Pl?xu.c=xu.e=null:tu.e<Al?xu.c=[xu.e=0]:(xu.e=tu.e,xu.c=tu.c.slice());return}if((iu=typeof tu=="number")&&tu*0==0){if(xu.s=1/tu<0?(tu=-tu,-1):1,tu===~~tu){for(Kl=0,cu=tu;cu>=10;cu/=10,Kl++);Kl>Pl?xu.c=xu.e=null:(xu.e=Kl,xu.c=[tu]);return}Au=String(tu)}else{if(!Ss.test(Au=String(tu)))return su(xu,Au,iu);xu.s=Au.charCodeAt(0)==45?(Au=Au.slice(1),-1):1}(Kl=Au.indexOf("."))>-1&&(Au=Au.replace(".","")),(cu=Au.search(/e/i))>0?(Kl<0&&(Kl=cu),Kl+=+Au.slice(cu+1),Au=Au.substring(0,cu)):Kl<0&&(Kl=Au.length)}else{if(El(Ll,2,Eu.length,"Base"),Ll==10&&uu)return xu=new Yl(tu),fu(xu,Nl+xu.e+1,Ol);if(Au=String(tu),iu=typeof tu=="number"){if(tu*0!=0)return su(xu,Au,iu,Ll);if(xu.s=1/tu<0?(Au=Au.slice(1),-1):1,Yl.DEBUG&&Au.replace(/^0\.0*|\./,"").length>15)throw Error(Ts+tu)}else xu.s=Au.charCodeAt(0)===45?(Au=Au.slice(1),-1):1;for(Tl=Eu.slice(0,Ll),Kl=cu=0,du=Au.length;cu<du;cu++)if(Tl.indexOf(Hl=Au.charAt(cu))<0){if(Hl=="."){if(cu>Kl){Kl=du;continue}}else if(!Dl&&(Au==Au.toUpperCase()&&(Au=Au.toLowerCase())||Au==Au.toLowerCase()&&(Au=Au.toUpperCase()))){Dl=!0,cu=-1,Kl=0;continue}return su(xu,String(tu),iu,Ll)}iu=!1,Au=nu(Au,Ll,10,xu.s),(Kl=Au.indexOf("."))>-1?Au=Au.replace(".",""):Kl=Au.length}for(cu=0;Au.charCodeAt(cu)===48;cu++);for(du=Au.length;Au.charCodeAt(--du)===48;);if(Au=Au.slice(cu,++du)){if(du-=cu,iu&&Yl.DEBUG&&du>15&&(tu>Ns||tu!==_s(tu)))throw Error(Ts+xu.s*tu);if((Kl=Kl-cu-1)>Pl)xu.c=xu.e=null;else if(Kl<Al)xu.c=[xu.e=0];else{if(xu.e=Kl,xu.c=[],cu=(Kl+1)%Bs,Kl<0&&(cu+=Bs),cu<du){for(cu&&xu.c.push(+Au.slice(0,cu)),du-=Bs;cu<du;)xu.c.push(+Au.slice(cu,cu+=Bs));cu=Bs-(Au=Au.slice(cu)).length}else cu-=du;for(;cu--;Au+="0");xu.c.push(+Au)}}else xu.c=[xu.e=0]}Yl.clone=wl,Yl.ROUND_UP=0,Yl.ROUND_DOWN=1,Yl.ROUND_CEIL=2,Yl.ROUND_FLOOR=3,Yl.ROUND_HALF_UP=4,Yl.ROUND_HALF_DOWN=5,Yl.ROUND_HALF_EVEN=6,Yl.ROUND_HALF_CEIL=7,Yl.ROUND_HALF_FLOOR=8,Yl.EUCLID=9,Yl.config=Yl.set=function(tu){var Ll,Tl;if(tu!=null)if(typeof tu=="object"){if(tu.hasOwnProperty(Ll="DECIMAL_PLACES")&&(Tl=tu[Ll],El(Tl,0,$l,Ll),Nl=Tl),tu.hasOwnProperty(Ll="ROUNDING_MODE")&&(Tl=tu[Ll],El(Tl,0,8,Ll),Ol=Tl),tu.hasOwnProperty(Ll="EXPONENTIAL_AT")&&(Tl=tu[Ll],Tl&&Tl.pop?(El(Tl[0],-$l,0,Ll),El(Tl[1],0,$l,Ll),Gl=Tl[0],Fl=Tl[1]):(El(Tl,-$l,$l,Ll),Gl=-(Fl=Tl<0?-Tl:Tl))),tu.hasOwnProperty(Ll="RANGE"))if(Tl=tu[Ll],Tl&&Tl.pop)El(Tl[0],-$l,-1,Ll),El(Tl[1],1,$l,Ll),Al=Tl[0],Pl=Tl[1];else if(El(Tl,-$l,$l,Ll),Tl)Al=-(Pl=Tl<0?-Tl:Tl);else throw Error(Is+Ll+" cannot be zero: "+Tl);if(tu.hasOwnProperty(Ll="CRYPTO"))if(Tl=tu[Ll],Tl===!!Tl)if(Tl)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))yl=Tl;else throw yl=!Tl,Error(Is+"crypto unavailable");else yl=Tl;else throw Error(Is+Ll+" not true or false: "+Tl);if(tu.hasOwnProperty(Ll="MODULO_MODE")&&(Tl=tu[Ll],El(Tl,0,9,Ll),Zs=Tl),tu.hasOwnProperty(Ll="POW_PRECISION")&&(Tl=tu[Ll],El(Tl,0,$l,Ll),Bl=Tl),tu.hasOwnProperty(Ll="FORMAT"))if(Tl=tu[Ll],typeof Tl=="object")eu=Tl;else throw Error(Is+Ll+" not an object: "+Tl);if(tu.hasOwnProperty(Ll="ALPHABET"))if(Tl=tu[Ll],typeof Tl=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(Tl))uu=Tl.slice(0,10)=="0123456789",Eu=Tl;else throw Error(Is+Ll+" invalid: "+Tl)}else throw Error(Is+"Object expected: "+tu);return{DECIMAL_PLACES:Nl,ROUNDING_MODE:Ol,EXPONENTIAL_AT:[Gl,Fl],RANGE:[Al,Pl],CRYPTO:yl,MODULO_MODE:Zs,POW_PRECISION:Bl,FORMAT:eu,ALPHABET:Eu}},Yl.isBigNumber=function(tu){if(!tu||tu._isBigNumber!==!0)return!1;if(!Yl.DEBUG)return!0;var Ll,Tl,Hl=tu.c,Dl=tu.e,Kl=tu.s;e:if({}.toString.call(Hl)=="[object Array]"){if((Kl===1||Kl===-1)&&Dl>=-$l&&Dl<=$l&&Dl===_s(Dl)){if(Hl[0]===0){if(Dl===0&&Hl.length===1)return!0;break e}if(Ll=(Dl+1)%Bs,Ll<1&&(Ll+=Bs),String(Hl[0]).length==Ll){for(Ll=0;Ll<Hl.length;Ll++)if(Tl=Hl[Ll],Tl<0||Tl>=Rs||Tl!==_s(Tl))break e;if(Tl!==0)return!0}}}else if(Hl===null&&Dl===null&&(Kl===null||Kl===1||Kl===-1))return!0;throw Error(Is+"Invalid BigNumber: "+tu)},Yl.maximum=Yl.max=function(){return ou(arguments,-1)},Yl.minimum=Yl.min=function(){return ou(arguments,1)},Yl.random=function(){var tu=9007199254740992,Ll=Math.random()*tu&2097151?function(){return _s(Math.random()*tu)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(Tl){var Hl,Dl,Kl,cu,iu,du=0,Au=[],xu=new Yl(Il);if(Tl==null?Tl=Nl:El(Tl,0,$l),cu=Es(Tl/Bs),yl)if(crypto.getRandomValues){for(Hl=crypto.getRandomValues(new Uint32Array(cu*=2));du<cu;)iu=Hl[du]*131072+(Hl[du+1]>>>11),iu>=9e15?(Dl=crypto.getRandomValues(new Uint32Array(2)),Hl[du]=Dl[0],Hl[du+1]=Dl[1]):(Au.push(iu%1e14),du+=2);du=cu/2}else if(crypto.randomBytes){for(Hl=crypto.randomBytes(cu*=7);du<cu;)iu=(Hl[du]&31)*281474976710656+Hl[du+1]*1099511627776+Hl[du+2]*4294967296+Hl[du+3]*16777216+(Hl[du+4]<<16)+(Hl[du+5]<<8)+Hl[du+6],iu>=9e15?crypto.randomBytes(7).copy(Hl,du):(Au.push(iu%1e14),du+=7);du=cu/7}else throw yl=!1,Error(Is+"crypto unavailable");if(!yl)for(;du<cu;)iu=Ll(),iu<9e15&&(Au[du++]=iu%1e14);for(cu=Au[--du],Tl%=Bs,cu&&Tl&&(iu=Ws[Bs-Tl],Au[du]=_s(cu/iu)*iu);Au[du]===0;Au.pop(),du--);if(du<0)Au=[Kl=0];else{for(Kl=-1;Au[0]===0;Au.splice(0,1),Kl-=Bs);for(du=1,iu=Au[0];iu>=10;iu/=10,du++);du<Bs&&(Kl-=Bs-du)}return xu.e=Kl,xu.c=Au,xu}}(),Yl.sum=function(){for(var tu=1,Ll=arguments,Tl=new Yl(Ll[0]);tu<Ll.length;)Tl=Tl.plus(Ll[tu++]);return Tl},nu=function(){var tu="0123456789";function Ll(Tl,Hl,Dl,Kl){for(var cu,iu=[0],du,Au=0,xu=Tl.length;Au<xu;){for(du=iu.length;du--;iu[du]*=Hl);for(iu[0]+=Kl.indexOf(Tl.charAt(Au++)),cu=0;cu<iu.length;cu++)iu[cu]>Dl-1&&(iu[cu+1]==null&&(iu[cu+1]=0),iu[cu+1]+=iu[cu]/Dl|0,iu[cu]%=Dl)}return iu.reverse()}return function(Tl,Hl,Dl,Kl,cu){var iu,du,Au,xu,_u,Hu,ju,_d,Zu=Tl.indexOf("."),tp=Nl,hu=Ol;for(Zu>=0&&(xu=Bl,Bl=0,Tl=Tl.replace(".",""),_d=new Yl(Hl),Hu=_d.pow(Tl.length-Zu),Bl=xu,_d.c=Ll(Vl(Cl(Hu.c),Hu.e,"0"),10,Dl,tu),_d.e=_d.c.length),ju=Ll(Tl,Hl,Dl,cu?(iu=Eu,tu):(iu=tu,Eu)),Au=xu=ju.length;ju[--xu]==0;ju.pop());if(!ju[0])return iu.charAt(0);if(Zu<0?--Au:(Hu.c=ju,Hu.e=Au,Hu.s=Kl,Hu=_h(Hu,_d,tp,hu,Dl),ju=Hu.c,_u=Hu.r,Au=Hu.e),du=Au+tp+1,Zu=ju[du],xu=Dl/2,_u=_u||du<0||ju[du+1]!=null,_u=hu<4?(Zu!=null||_u)&&(hu==0||hu==(Hu.s<0?3:2)):Zu>xu||Zu==xu&&(hu==4||_u||hu==6&&ju[du-1]&1||hu==(Hu.s<0?8:7)),du<1||!ju[0])Tl=_u?Vl(iu.charAt(1),-tp,iu.charAt(0)):iu.charAt(0);else{if(ju.length=du,_u)for(--Dl;++ju[--du]>Dl;)ju[du]=0,du||(++Au,ju=[1].concat(ju));for(xu=ju.length;!ju[--xu];);for(Zu=0,Tl="";Zu<=xu;Tl+=iu.charAt(ju[Zu++]));Tl=Vl(Tl,Au,iu.charAt(0))}return Tl}}(),_h=function(){function tu(Hl,Dl,Kl){var cu,iu,du,Au,xu=0,_u=Hl.length,Hu=Dl%Js,ju=Dl/Js|0;for(Hl=Hl.slice();_u--;)du=Hl[_u]%Js,Au=Hl[_u]/Js|0,cu=ju*du+Au*Hu,iu=Hu*du+cu%Js*Js+xu,xu=(iu/Kl|0)+(cu/Js|0)+ju*Au,Hl[_u]=iu%Kl;return xu&&(Hl=[xu].concat(Hl)),Hl}function Ll(Hl,Dl,Kl,cu){var iu,du;if(Kl!=cu)du=Kl>cu?1:-1;else for(iu=du=0;iu<Kl;iu++)if(Hl[iu]!=Dl[iu]){du=Hl[iu]>Dl[iu]?1:-1;break}return du}function Tl(Hl,Dl,Kl,cu){for(var iu=0;Kl--;)Hl[Kl]-=iu,iu=Hl[Kl]<Dl[Kl]?1:0,Hl[Kl]=iu*cu+Hl[Kl]-Dl[Kl];for(;!Hl[0]&&Hl.length>1;Hl.splice(0,1));}return function(Hl,Dl,Kl,cu,iu){var du,Au,xu,_u,Hu,ju,_d,Zu,tp,hu,Xl,Zl,bu,Ou,zu,Qu,_p,dp=Hl.s==Dl.s?1:-1,kp=Hl.c,Dp=Dl.c;if(!kp||!kp[0]||!Dp||!Dp[0])return new Yl(!Hl.s||!Dl.s||(kp?Dp&&kp[0]==Dp[0]:!Dp)?NaN:kp&&kp[0]==0||!Dp?dp*0:dp/0);for(Zu=new Yl(dp),tp=Zu.c=[],Au=Hl.e-Dl.e,dp=Kl+Au+1,iu||(iu=Rs,Au=_l(Hl.e/Bs)-_l(Dl.e/Bs),dp=dp/Bs|0),xu=0;Dp[xu]==(kp[xu]||0);xu++);if(Dp[xu]>(kp[xu]||0)&&Au--,dp<0)tp.push(1),_u=!0;else{for(Ou=kp.length,Qu=Dp.length,xu=0,dp+=2,Hu=_s(iu/(Dp[0]+1)),Hu>1&&(Dp=tu(Dp,Hu,iu),kp=tu(kp,Hu,iu),Qu=Dp.length,Ou=kp.length),bu=Qu,hu=kp.slice(0,Qu),Xl=hu.length;Xl<Qu;hu[Xl++]=0);_p=Dp.slice(),_p=[0].concat(_p),zu=Dp[0],Dp[1]>=iu/2&&zu++;do{if(Hu=0,du=Ll(Dp,hu,Qu,Xl),du<0){if(Zl=hu[0],Qu!=Xl&&(Zl=Zl*iu+(hu[1]||0)),Hu=_s(Zl/zu),Hu>1)for(Hu>=iu&&(Hu=iu-1),ju=tu(Dp,Hu,iu),_d=ju.length,Xl=hu.length;Ll(ju,hu,_d,Xl)==1;)Hu--,Tl(ju,Qu<_d?_p:Dp,_d,iu),_d=ju.length,du=1;else Hu==0&&(du=Hu=1),ju=Dp.slice(),_d=ju.length;if(_d<Xl&&(ju=[0].concat(ju)),Tl(hu,ju,Xl,iu),Xl=hu.length,du==-1)for(;Ll(Dp,hu,Qu,Xl)<1;)Hu++,Tl(hu,Qu<Xl?_p:Dp,Xl,iu),Xl=hu.length}else du===0&&(Hu++,hu=[0]);tp[xu++]=Hu,hu[0]?hu[Xl++]=kp[bu]||0:(hu=[kp[bu]],Xl=1)}while((bu++<Ou||hu[0]!=null)&&dp--);_u=hu[0]!=null,tp[0]||tp.splice(0,1)}if(iu==Rs){for(xu=1,dp=tp[0];dp>=10;dp/=10,xu++);fu(Zu,Kl+(Zu.e=xu+Au*Bs-1)+1,cu,_u)}else Zu.e=Au,Zu.r=+_u;return Zu}}();function zl(tu,Ll,Tl,Hl){var Dl,Kl,cu,iu,du;if(Tl==null?Tl=Ol:El(Tl,0,8),!tu.c)return tu.toString();if(Dl=tu.c[0],cu=tu.e,Ll==null)du=Cl(tu.c),du=Hl==1||Hl==2&&(cu<=Gl||cu>=Fl)?Ml(du,cu):Vl(du,cu,"0");else if(tu=fu(new Yl(tu),Ll,Tl),Kl=tu.e,du=Cl(tu.c),iu=du.length,Hl==1||Hl==2&&(Ll<=Kl||Kl<=Gl)){for(;iu<Ll;du+="0",iu++);du=Ml(du,Kl)}else if(Ll-=cu+(Hl===2&&Kl>cu),du=Vl(du,Kl,"0"),Kl+1>iu){if(--Ll>0)for(du+=".";Ll--;du+="0");}else if(Ll+=Kl-iu,Ll>0)for(Kl+1==iu&&(du+=".");Ll--;du+="0");return tu.s<0&&Dl?"-"+du:du}function ou(tu,Ll){for(var Tl,Hl,Dl=1,Kl=new Yl(tu[0]);Dl<tu.length;Dl++)Hl=new Yl(tu[Dl]),(!Hl.s||(Tl=Sl(Kl,Hl))===Ll||Tl===0&&Kl.s===Ll)&&(Kl=Hl);return Kl}function pu(tu,Ll,Tl){for(var Hl=1,Dl=Ll.length;!Ll[--Dl];Ll.pop());for(Dl=Ll[0];Dl>=10;Dl/=10,Hl++);return(Tl=Hl+Tl*Bs-1)>Pl?tu.c=tu.e=null:Tl<Al?tu.c=[tu.e=0]:(tu.e=Tl,tu.c=Ll),tu}su=function(){var tu=/^(-?)0([xbo])(?=\w[\w.]*$)/i,Ll=/^([^.]+)\.$/,Tl=/^\.([^.]+)$/,Hl=/^-?(Infinity|NaN)$/,Dl=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Kl,cu,iu,du){var Au,xu=iu?cu:cu.replace(Dl,"");if(Hl.test(xu))Kl.s=isNaN(xu)?null:xu<0?-1:1;else{if(!iu&&(xu=xu.replace(tu,function(_u,Hu,ju){return Au=(ju=ju.toLowerCase())=="x"?16:ju=="b"?2:8,!du||du==Au?Hu:_u}),du&&(Au=du,xu=xu.replace(Ll,"$1").replace(Tl,"0.$1")),cu!=xu))return new Yl(xu,Au);if(Yl.DEBUG)throw Error(Is+"Not a"+(du?" base "+du:"")+" number: "+cu);Kl.s=null}Kl.c=Kl.e=null}}();function fu(tu,Ll,Tl,Hl){var Dl,Kl,cu,iu,du,Au,xu,_u=tu.c,Hu=Ws;if(_u){e:{for(Dl=1,iu=_u[0];iu>=10;iu/=10,Dl++);if(Kl=Ll-Dl,Kl<0)Kl+=Bs,cu=Ll,du=_u[Au=0],xu=_s(du/Hu[Dl-cu-1]%10);else if(Au=Es((Kl+1)/Bs),Au>=_u.length)if(Hl){for(;_u.length<=Au;_u.push(0));du=xu=0,Dl=1,Kl%=Bs,cu=Kl-Bs+1}else break e;else{for(du=iu=_u[Au],Dl=1;iu>=10;iu/=10,Dl++);Kl%=Bs,cu=Kl-Bs+Dl,xu=cu<0?0:_s(du/Hu[Dl-cu-1]%10)}if(Hl=Hl||Ll<0||_u[Au+1]!=null||(cu<0?du:du%Hu[Dl-cu-1]),Hl=Tl<4?(xu||Hl)&&(Tl==0||Tl==(tu.s<0?3:2)):xu>5||xu==5&&(Tl==4||Hl||Tl==6&&(Kl>0?cu>0?du/Hu[Dl-cu]:0:_u[Au-1])%10&1||Tl==(tu.s<0?8:7)),Ll<1||!_u[0])return _u.length=0,Hl?(Ll-=tu.e+1,_u[0]=Hu[(Bs-Ll%Bs)%Bs],tu.e=-Ll||0):_u[0]=tu.e=0,tu;if(Kl==0?(_u.length=Au,iu=1,Au--):(_u.length=Au+1,iu=Hu[Bs-Kl],_u[Au]=cu>0?_s(du/Hu[Dl-cu]%Hu[cu])*iu:0),Hl)for(;;)if(Au==0){for(Kl=1,cu=_u[0];cu>=10;cu/=10,Kl++);for(cu=_u[0]+=iu,iu=1;cu>=10;cu/=10,iu++);Kl!=iu&&(tu.e++,_u[0]==Rs&&(_u[0]=1));break}else{if(_u[Au]+=iu,_u[Au]!=Rs)break;_u[Au--]=0,iu=1}for(Kl=_u.length;_u[--Kl]===0;_u.pop());}tu.e>Pl?tu.c=tu.e=null:tu.e<Al&&(tu.c=[tu.e=0])}return tu}function yu(tu){var Ll,Tl=tu.e;return Tl===null?tu.toString():(Ll=Cl(tu.c),Ll=Tl<=Gl||Tl>=Fl?Ml(Ll,Tl):Vl(Ll,Tl,"0"),tu.s<0?"-"+Ll:Ll)}return Jl.absoluteValue=Jl.abs=function(){var tu=new Yl(this);return tu.s<0&&(tu.s=1),tu},Jl.comparedTo=function(tu,Ll){return Sl(this,new Yl(tu,Ll))},Jl.decimalPlaces=Jl.dp=function(tu,Ll){var Tl,Hl,Dl,Kl=this;if(tu!=null)return El(tu,0,$l),Ll==null?Ll=Ol:El(Ll,0,8),fu(new Yl(Kl),tu+Kl.e+1,Ll);if(!(Tl=Kl.c))return null;if(Hl=((Dl=Tl.length-1)-_l(this.e/Bs))*Bs,Dl=Tl[Dl])for(;Dl%10==0;Dl/=10,Hl--);return Hl<0&&(Hl=0),Hl},Jl.dividedBy=Jl.div=function(tu,Ll){return _h(this,new Yl(tu,Ll),Nl,Ol)},Jl.dividedToIntegerBy=Jl.idiv=function(tu,Ll){return _h(this,new Yl(tu,Ll),0,1)},Jl.exponentiatedBy=Jl.pow=function(tu,Ll){var Tl,Hl,Dl,Kl,cu,iu,du,Au,xu,_u=this;if(tu=new Yl(tu),tu.c&&!tu.isInteger())throw Error(Is+"Exponent not an integer: "+yu(tu));if(Ll!=null&&(Ll=new Yl(Ll)),iu=tu.e>14,!_u.c||!_u.c[0]||_u.c[0]==1&&!_u.e&&_u.c.length==1||!tu.c||!tu.c[0])return xu=new Yl(Math.pow(+yu(_u),iu?tu.s*(2-xl(tu)):+yu(tu))),Ll?xu.mod(Ll):xu;if(du=tu.s<0,Ll){if(Ll.c?!Ll.c[0]:!Ll.s)return new Yl(NaN);Hl=!du&&_u.isInteger()&&Ll.isInteger(),Hl&&(_u=_u.mod(Ll))}else{if(tu.e>9&&(_u.e>0||_u.e<-1||(_u.e==0?_u.c[0]>1||iu&&_u.c[1]>=24e7:_u.c[0]<8e13||iu&&_u.c[0]<=9999975e7)))return Kl=_u.s<0&&xl(tu)?-0:0,_u.e>-1&&(Kl=1/Kl),new Yl(du?1/Kl:Kl);Bl&&(Kl=Es(Bl/Bs+2))}for(iu?(Tl=new Yl(.5),du&&(tu.s=1),Au=xl(tu)):(Dl=Math.abs(+yu(tu)),Au=Dl%2),xu=new Yl(Il);;){if(Au){if(xu=xu.times(_u),!xu.c)break;Kl?xu.c.length>Kl&&(xu.c.length=Kl):Hl&&(xu=xu.mod(Ll))}if(Dl){if(Dl=_s(Dl/2),Dl===0)break;Au=Dl%2}else if(tu=tu.times(Tl),fu(tu,tu.e+1,1),tu.e>14)Au=xl(tu);else{if(Dl=+yu(tu),Dl===0)break;Au=Dl%2}_u=_u.times(_u),Kl?_u.c&&_u.c.length>Kl&&(_u.c.length=Kl):Hl&&(_u=_u.mod(Ll))}return Hl?xu:(du&&(xu=Il.div(xu)),Ll?xu.mod(Ll):Kl?fu(xu,Bl,Ol,cu):xu)},Jl.integerValue=function(tu){var Ll=new Yl(this);return tu==null?tu=Ol:El(tu,0,8),fu(Ll,Ll.e+1,tu)},Jl.isEqualTo=Jl.eq=function(tu,Ll){return Sl(this,new Yl(tu,Ll))===0},Jl.isFinite=function(){return!!this.c},Jl.isGreaterThan=Jl.gt=function(tu,Ll){return Sl(this,new Yl(tu,Ll))>0},Jl.isGreaterThanOrEqualTo=Jl.gte=function(tu,Ll){return(Ll=Sl(this,new Yl(tu,Ll)))===1||Ll===0},Jl.isInteger=function(){return!!this.c&&_l(this.e/Bs)>this.c.length-2},Jl.isLessThan=Jl.lt=function(tu,Ll){return Sl(this,new Yl(tu,Ll))<0},Jl.isLessThanOrEqualTo=Jl.lte=function(tu,Ll){return(Ll=Sl(this,new Yl(tu,Ll)))===-1||Ll===0},Jl.isNaN=function(){return!this.s},Jl.isNegative=function(){return this.s<0},Jl.isPositive=function(){return this.s>0},Jl.isZero=function(){return!!this.c&&this.c[0]==0},Jl.minus=function(tu,Ll){var Tl,Hl,Dl,Kl,cu=this,iu=cu.s;if(tu=new Yl(tu,Ll),Ll=tu.s,!iu||!Ll)return new Yl(NaN);if(iu!=Ll)return tu.s=-Ll,cu.plus(tu);var du=cu.e/Bs,Au=tu.e/Bs,xu=cu.c,_u=tu.c;if(!du||!Au){if(!xu||!_u)return xu?(tu.s=-Ll,tu):new Yl(_u?cu:NaN);if(!xu[0]||!_u[0])return _u[0]?(tu.s=-Ll,tu):new Yl(xu[0]?cu:Ol==3?-0:0)}if(du=_l(du),Au=_l(Au),xu=xu.slice(),iu=du-Au){for((Kl=iu<0)?(iu=-iu,Dl=xu):(Au=du,Dl=_u),Dl.reverse(),Ll=iu;Ll--;Dl.push(0));Dl.reverse()}else for(Hl=(Kl=(iu=xu.length)<(Ll=_u.length))?iu:Ll,iu=Ll=0;Ll<Hl;Ll++)if(xu[Ll]!=_u[Ll]){Kl=xu[Ll]<_u[Ll];break}if(Kl&&(Dl=xu,xu=_u,_u=Dl,tu.s=-tu.s),Ll=(Hl=_u.length)-(Tl=xu.length),Ll>0)for(;Ll--;xu[Tl++]=0);for(Ll=Rs-1;Hl>iu;){if(xu[--Hl]<_u[Hl]){for(Tl=Hl;Tl&&!xu[--Tl];xu[Tl]=Ll);--xu[Tl],xu[Hl]+=Rs}xu[Hl]-=_u[Hl]}for(;xu[0]==0;xu.splice(0,1),--Au);return xu[0]?pu(tu,xu,Au):(tu.s=Ol==3?-1:1,tu.c=[tu.e=0],tu)},Jl.modulo=Jl.mod=function(tu,Ll){var Tl,Hl,Dl=this;return tu=new Yl(tu,Ll),!Dl.c||!tu.s||tu.c&&!tu.c[0]?new Yl(NaN):!tu.c||Dl.c&&!Dl.c[0]?new Yl(Dl):(Zs==9?(Hl=tu.s,tu.s=1,Tl=_h(Dl,tu,0,3),tu.s=Hl,Tl.s*=Hl):Tl=_h(Dl,tu,0,Zs),tu=Dl.minus(Tl.times(tu)),!tu.c[0]&&Zs==1&&(tu.s=Dl.s),tu)},Jl.multipliedBy=Jl.times=function(tu,Ll){var Tl,Hl,Dl,Kl,cu,iu,du,Au,xu,_u,Hu,ju,_d,Zu,tp,hu=this,Xl=hu.c,Zl=(tu=new Yl(tu,Ll)).c;if(!Xl||!Zl||!Xl[0]||!Zl[0])return!hu.s||!tu.s||Xl&&!Xl[0]&&!Zl||Zl&&!Zl[0]&&!Xl?tu.c=tu.e=tu.s=null:(tu.s*=hu.s,!Xl||!Zl?tu.c=tu.e=null:(tu.c=[0],tu.e=0)),tu;for(Hl=_l(hu.e/Bs)+_l(tu.e/Bs),tu.s*=hu.s,du=Xl.length,_u=Zl.length,du<_u&&(_d=Xl,Xl=Zl,Zl=_d,Dl=du,du=_u,_u=Dl),Dl=du+_u,_d=[];Dl--;_d.push(0));for(Zu=Rs,tp=Js,Dl=_u;--Dl>=0;){for(Tl=0,Hu=Zl[Dl]%tp,ju=Zl[Dl]/tp|0,cu=du,Kl=Dl+cu;Kl>Dl;)Au=Xl[--cu]%tp,xu=Xl[cu]/tp|0,iu=ju*Au+xu*Hu,Au=Hu*Au+iu%tp*tp+_d[Kl]+Tl,Tl=(Au/Zu|0)+(iu/tp|0)+ju*xu,_d[Kl--]=Au%Zu;_d[Kl]=Tl}return Tl?++Hl:_d.splice(0,1),pu(tu,_d,Hl)},Jl.negated=function(){var tu=new Yl(this);return tu.s=-tu.s||null,tu},Jl.plus=function(tu,Ll){var Tl,Hl=this,Dl=Hl.s;if(tu=new Yl(tu,Ll),Ll=tu.s,!Dl||!Ll)return new Yl(NaN);if(Dl!=Ll)return tu.s=-Ll,Hl.minus(tu);var Kl=Hl.e/Bs,cu=tu.e/Bs,iu=Hl.c,du=tu.c;if(!Kl||!cu){if(!iu||!du)return new Yl(Dl/0);if(!iu[0]||!du[0])return du[0]?tu:new Yl(iu[0]?Hl:Dl*0)}if(Kl=_l(Kl),cu=_l(cu),iu=iu.slice(),Dl=Kl-cu){for(Dl>0?(cu=Kl,Tl=du):(Dl=-Dl,Tl=iu),Tl.reverse();Dl--;Tl.push(0));Tl.reverse()}for(Dl=iu.length,Ll=du.length,Dl-Ll<0&&(Tl=du,du=iu,iu=Tl,Ll=Dl),Dl=0;Ll;)Dl=(iu[--Ll]=iu[Ll]+du[Ll]+Dl)/Rs|0,iu[Ll]=Rs===iu[Ll]?0:iu[Ll]%Rs;return Dl&&(iu=[Dl].concat(iu),++cu),pu(tu,iu,cu)},Jl.precision=Jl.sd=function(tu,Ll){var Tl,Hl,Dl,Kl=this;if(tu!=null&&tu!==!!tu)return El(tu,1,$l),Ll==null?Ll=Ol:El(Ll,0,8),fu(new Yl(Kl),tu,Ll);if(!(Tl=Kl.c))return null;if(Dl=Tl.length-1,Hl=Dl*Bs+1,Dl=Tl[Dl]){for(;Dl%10==0;Dl/=10,Hl--);for(Dl=Tl[0];Dl>=10;Dl/=10,Hl++);}return tu&&Kl.e+1>Hl&&(Hl=Kl.e+1),Hl},Jl.shiftedBy=function(tu){return El(tu,-Ns,Ns),this.times("1e"+tu)},Jl.squareRoot=Jl.sqrt=function(){var tu,Ll,Tl,Hl,Dl,Kl=this,cu=Kl.c,iu=Kl.s,du=Kl.e,Au=Nl+4,xu=new Yl("0.5");if(iu!==1||!cu||!cu[0])return new Yl(!iu||iu<0&&(!cu||cu[0])?NaN:cu?Kl:1/0);if(iu=Math.sqrt(+yu(Kl)),iu==0||iu==1/0?(Ll=Cl(cu),(Ll.length+du)%2==0&&(Ll+="0"),iu=Math.sqrt(+Ll),du=_l((du+1)/2)-(du<0||du%2),iu==1/0?Ll="5e"+du:(Ll=iu.toExponential(),Ll=Ll.slice(0,Ll.indexOf("e")+1)+du),Tl=new Yl(Ll)):Tl=new Yl(iu+""),Tl.c[0]){for(du=Tl.e,iu=du+Au,iu<3&&(iu=0);;)if(Dl=Tl,Tl=xu.times(Dl.plus(_h(Kl,Dl,Au,1))),Cl(Dl.c).slice(0,iu)===(Ll=Cl(Tl.c)).slice(0,iu))if(Tl.e<du&&--iu,Ll=Ll.slice(iu-3,iu+1),Ll=="9999"||!Hl&&Ll=="4999"){if(!Hl&&(fu(Dl,Dl.e+Nl+2,0),Dl.times(Dl).eq(Kl))){Tl=Dl;break}Au+=4,iu+=4,Hl=1}else{(!+Ll||!+Ll.slice(1)&&Ll.charAt(0)=="5")&&(fu(Tl,Tl.e+Nl+2,1),tu=!Tl.times(Tl).eq(Kl));break}}return fu(Tl,Tl.e+Nl+1,Ol,tu)},Jl.toExponential=function(tu,Ll){return tu!=null&&(El(tu,0,$l),tu++),zl(this,tu,Ll,1)},Jl.toFixed=function(tu,Ll){return tu!=null&&(El(tu,0,$l),tu=tu+this.e+1),zl(this,tu,Ll)},Jl.toFormat=function(tu,Ll,Tl){var Hl,Dl=this;if(Tl==null)tu!=null&&Ll&&typeof Ll=="object"?(Tl=Ll,Ll=null):tu&&typeof tu=="object"?(Tl=tu,tu=Ll=null):Tl=eu;else if(typeof Tl!="object")throw Error(Is+"Argument not an object: "+Tl);if(Hl=Dl.toFixed(tu,Ll),Dl.c){var Kl,cu=Hl.split("."),iu=+Tl.groupSize,du=+Tl.secondaryGroupSize,Au=Tl.groupSeparator||"",xu=cu[0],_u=cu[1],Hu=Dl.s<0,ju=Hu?xu.slice(1):xu,_d=ju.length;if(du&&(Kl=iu,iu=du,du=Kl,_d-=Kl),iu>0&&_d>0){for(Kl=_d%iu||iu,xu=ju.substr(0,Kl);Kl<_d;Kl+=iu)xu+=Au+ju.substr(Kl,iu);du>0&&(xu+=Au+ju.slice(Kl)),Hu&&(xu="-"+xu)}Hl=_u?xu+(Tl.decimalSeparator||"")+((du=+Tl.fractionGroupSize)?_u.replace(new RegExp("\\d{"+du+"}\\B","g"),"$&"+(Tl.fractionGroupSeparator||"")):_u):xu}return(Tl.prefix||"")+Hl+(Tl.suffix||"")},Jl.toFraction=function(tu){var Ll,Tl,Hl,Dl,Kl,cu,iu,du,Au,xu,_u,Hu,ju=this,_d=ju.c;if(tu!=null&&(iu=new Yl(tu),!iu.isInteger()&&(iu.c||iu.s!==1)||iu.lt(Il)))throw Error(Is+"Argument "+(iu.isInteger()?"out of range: ":"not an integer: ")+yu(iu));if(!_d)return new Yl(ju);for(Ll=new Yl(Il),Au=Tl=new Yl(Il),Hl=du=new Yl(Il),Hu=Cl(_d),Kl=Ll.e=Hu.length-ju.e-1,Ll.c[0]=Ws[(cu=Kl%Bs)<0?Bs+cu:cu],tu=!tu||iu.comparedTo(Ll)>0?Kl>0?Ll:Au:iu,cu=Pl,Pl=1/0,iu=new Yl(Hu),du.c[0]=0;xu=_h(iu,Ll,0,1),Dl=Tl.plus(xu.times(Hl)),Dl.comparedTo(tu)!=1;)Tl=Hl,Hl=Dl,Au=du.plus(xu.times(Dl=Au)),du=Dl,Ll=iu.minus(xu.times(Dl=Ll)),iu=Dl;return Dl=_h(tu.minus(Tl),Hl,0,1),du=du.plus(Dl.times(Au)),Tl=Tl.plus(Dl.times(Hl)),du.s=Au.s=ju.s,Kl=Kl*2,_u=_h(Au,Hl,Kl,Ol).minus(ju).abs().comparedTo(_h(du,Tl,Kl,Ol).minus(ju).abs())<1?[Au,Hl]:[du,Tl],Pl=cu,_u},Jl.toNumber=function(){return+yu(this)},Jl.toPrecision=function(tu,Ll){return tu!=null&&El(tu,1,$l),zl(this,tu,Ll,2)},Jl.toString=function(tu){var Ll,Tl=this,Hl=Tl.s,Dl=Tl.e;return Dl===null?Hl?(Ll="Infinity",Hl<0&&(Ll="-"+Ll)):Ll="NaN":(tu==null?Ll=Dl<=Gl||Dl>=Fl?Ml(Cl(Tl.c),Dl):Vl(Cl(Tl.c),Dl,"0"):tu===10&&uu?(Tl=fu(new Yl(Tl),Nl+Dl+1,Ol),Ll=Vl(Cl(Tl.c),Tl.e,"0")):(El(tu,2,Eu.length,"Base"),Ll=nu(Vl(Cl(Tl.c),Dl,"0"),10,tu,Hl,!0)),Hl<0&&Tl.c[0]&&(Ll="-"+Ll)),Ll},Jl.valueOf=Jl.toJSON=function(){return yu(this)},Jl._isBigNumber=!0,Ul!=null&&Yl.set(Ul),Yl}function _l(Ul){var _h=Ul|0;return Ul>0||Ul===_h?_h:_h-1}function Cl(Ul){for(var _h,nu,su=1,Jl=Ul.length,Il=Ul[0]+"";su<Jl;){for(_h=Ul[su++]+"",nu=Bs-_h.length;nu--;_h="0"+_h);Il+=_h}for(Jl=Il.length;Il.charCodeAt(--Jl)===48;);return Il.slice(0,Jl+1||1)}function Sl(Ul,_h){var nu,su,Jl=Ul.c,Il=_h.c,Nl=Ul.s,Ol=_h.s,Gl=Ul.e,Fl=_h.e;if(!Nl||!Ol)return null;if(nu=Jl&&!Jl[0],su=Il&&!Il[0],nu||su)return nu?su?0:-Ol:Nl;if(Nl!=Ol)return Nl;if(nu=Nl<0,su=Gl==Fl,!Jl||!Il)return su?0:!Jl^nu?1:-1;if(!su)return Gl>Fl^nu?1:-1;for(Ol=(Gl=Jl.length)<(Fl=Il.length)?Gl:Fl,Nl=0;Nl<Ol;Nl++)if(Jl[Nl]!=Il[Nl])return Jl[Nl]>Il[Nl]^nu?1:-1;return Gl==Fl?0:Gl>Fl^nu?1:-1}function El(Ul,_h,nu,su){if(Ul<_h||Ul>nu||Ul!==_s(Ul))throw Error(Is+(su||"Argument")+(typeof Ul=="number"?Ul<_h||Ul>nu?" out of range: ":" not an integer: ":" not a primitive number: ")+String(Ul))}function xl(Ul){var _h=Ul.c.length-1;return _l(Ul.e/Bs)==_h&&Ul.c[_h]%2!=0}function Ml(Ul,_h){return(Ul.length>1?Ul.charAt(0)+"."+Ul.slice(1):Ul)+(_h<0?"e":"e+")+_h}function Vl(Ul,_h,nu){var su,Jl;if(_h<0){for(Jl=nu+".";++_h;Jl+=nu);Ul=Jl+Ul}else if(su=Ul.length,++_h>su){for(Jl=nu,_h-=su;--_h;Jl+=nu);Ul+=Jl}else _h<su&&(Ul=Ul.slice(0,_h)+"."+Ul.slice(_h));return Ul}ws=wl(),ws.default=ws.BigNumber=ws,vs.exports?vs.exports=ws:(ms||(ms=typeof self<"u"&&self?self:window),ms.BigNumber=ws)})(commonjsGlobal)})(bignumber);var bignumberExports=bignumber.exports;(function(vs){var ms=bignumberExports,ws=vs.exports;(function(){var Ss=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Es,_s,Is={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},Ts;function Rs(Ns){return Ss.lastIndex=0,Ss.test(Ns)?'"'+Ns.replace(Ss,function(Ws){var Js=Is[Ws];return typeof Js=="string"?Js:"\\u"+("0000"+Ws.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+Ns+'"'}function Bs(Ns,Ws){var Js,$l,wl,_l,Cl=Es,Sl,El=Ws[Ns],xl=El!=null&&(El instanceof ms||ms.isBigNumber(El));switch(El&&typeof El=="object"&&typeof El.toJSON=="function"&&(El=El.toJSON(Ns)),typeof Ts=="function"&&(El=Ts.call(Ws,Ns,El)),typeof El){case"string":return xl?El:Rs(El);case"number":return isFinite(El)?String(El):"null";case"boolean":case"null":case"bigint":return String(El);case"object":if(!El)return"null";if(Es+=_s,Sl=[],Object.prototype.toString.apply(El)==="[object Array]"){for(_l=El.length,Js=0;Js<_l;Js+=1)Sl[Js]=Bs(Js,El)||"null";return wl=Sl.length===0?"[]":Es?`[
`+Es+Sl.join(`,
`+Es)+`
`+Cl+"]":"["+Sl.join(",")+"]",Es=Cl,wl}if(Ts&&typeof Ts=="object")for(_l=Ts.length,Js=0;Js<_l;Js+=1)typeof Ts[Js]=="string"&&($l=Ts[Js],wl=Bs($l,El),wl&&Sl.push(Rs($l)+(Es?": ":":")+wl));else Object.keys(El).forEach(function(Ml){var Vl=Bs(Ml,El);Vl&&Sl.push(Rs(Ml)+(Es?": ":":")+Vl)});return wl=Sl.length===0?"{}":Es?`{
`+Es+Sl.join(`,
`+Es)+`
`+Cl+"}":"{"+Sl.join(",")+"}",Es=Cl,wl}}typeof ws.stringify!="function"&&(ws.stringify=function(Ns,Ws,Js){var $l;if(Es="",_s="",typeof Js=="number")for($l=0;$l<Js;$l+=1)_s+=" ";else typeof Js=="string"&&(_s=Js);if(Ts=Ws,Ws&&typeof Ws!="function"&&(typeof Ws!="object"||typeof Ws.length!="number"))throw new Error("JSON.stringify");return Bs("",{"":Ns})})})()})(stringify$1);var stringifyExports=stringify$1.exports,BigNumber=null;const suspectProtoRx$1=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,suspectConstructorRx$1=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;var json_parse$1=function(vs){var ms={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(vs!=null){if(vs.strict===!0&&(ms.strict=!0),vs.storeAsString===!0&&(ms.storeAsString=!0),ms.alwaysParseAsBig=vs.alwaysParseAsBig===!0?vs.alwaysParseAsBig:!1,ms.useNativeBigInt=vs.useNativeBigInt===!0?vs.useNativeBigInt:!1,typeof vs.constructorAction<"u")if(vs.constructorAction==="error"||vs.constructorAction==="ignore"||vs.constructorAction==="preserve")ms.constructorAction=vs.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${vs.constructorAction}`);if(typeof vs.protoAction<"u")if(vs.protoAction==="error"||vs.protoAction==="ignore"||vs.protoAction==="preserve")ms.protoAction=vs.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${vs.protoAction}`)}var ws,Ss,Es={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},_s,Is=function(_l){throw{name:"SyntaxError",message:_l,at:ws,text:_s}},Ts=function(_l){return _l&&_l!==Ss&&Is("Expected '"+_l+"' instead of '"+Ss+"'"),Ss=_s.charAt(ws),ws+=1,Ss},Rs=function(){var _l,Cl="";for(Ss==="-"&&(Cl="-",Ts("-"));Ss>="0"&&Ss<="9";)Cl+=Ss,Ts();if(Ss===".")for(Cl+=".";Ts()&&Ss>="0"&&Ss<="9";)Cl+=Ss;if(Ss==="e"||Ss==="E")for(Cl+=Ss,Ts(),(Ss==="-"||Ss==="+")&&(Cl+=Ss,Ts());Ss>="0"&&Ss<="9";)Cl+=Ss,Ts();if(_l=+Cl,!isFinite(_l))Is("Bad number");else return BigNumber==null&&(BigNumber=bignumberExports),Cl.length>15?ms.storeAsString?Cl:ms.useNativeBigInt?BigInt(Cl):new BigNumber(Cl):ms.alwaysParseAsBig?ms.useNativeBigInt?BigInt(_l):new BigNumber(_l):_l},Bs=function(){var _l,Cl,Sl="",El;if(Ss==='"')for(var xl=ws;Ts();){if(Ss==='"')return ws-1>xl&&(Sl+=_s.substring(xl,ws-1)),Ts(),Sl;if(Ss==="\\"){if(ws-1>xl&&(Sl+=_s.substring(xl,ws-1)),Ts(),Ss==="u"){for(El=0,Cl=0;Cl<4&&(_l=parseInt(Ts(),16),!!isFinite(_l));Cl+=1)El=El*16+_l;Sl+=String.fromCharCode(El)}else if(typeof Es[Ss]=="string")Sl+=Es[Ss];else break;xl=ws}}Is("Bad string")},Ns=function(){for(;Ss&&Ss<=" ";)Ts()},Ws=function(){switch(Ss){case"t":return Ts("t"),Ts("r"),Ts("u"),Ts("e"),!0;case"f":return Ts("f"),Ts("a"),Ts("l"),Ts("s"),Ts("e"),!1;case"n":return Ts("n"),Ts("u"),Ts("l"),Ts("l"),null}Is("Unexpected '"+Ss+"'")},Js,$l=function(){var _l=[];if(Ss==="["){if(Ts("["),Ns(),Ss==="]")return Ts("]"),_l;for(;Ss;){if(_l.push(Js()),Ns(),Ss==="]")return Ts("]"),_l;Ts(","),Ns()}}Is("Bad array")},wl=function(){var _l,Cl=Object.create(null);if(Ss==="{"){if(Ts("{"),Ns(),Ss==="}")return Ts("}"),Cl;for(;Ss;){if(_l=Bs(),Ns(),Ts(":"),ms.strict===!0&&Object.hasOwnProperty.call(Cl,_l)&&Is('Duplicate key "'+_l+'"'),suspectProtoRx$1.test(_l)===!0?ms.protoAction==="error"?Is("Object contains forbidden prototype property"):ms.protoAction==="ignore"?Js():Cl[_l]=Js():suspectConstructorRx$1.test(_l)===!0?ms.constructorAction==="error"?Is("Object contains forbidden constructor property"):ms.constructorAction==="ignore"?Js():Cl[_l]=Js():Cl[_l]=Js(),Ns(),Ss==="}")return Ts("}"),Cl;Ts(","),Ns()}}Is("Bad object")};return Js=function(){switch(Ns(),Ss){case"{":return wl();case"[":return $l();case'"':return Bs();case"-":return Rs();default:return Ss>="0"&&Ss<="9"?Rs():Ws()}},function(_l,Cl){var Sl;return _s=_l+"",ws=0,Ss=" ",Sl=Js(),Ns(),Ss&&Is("Syntax error"),typeof Cl=="function"?function El(xl,Ml){var Vl,Ul=xl[Ml];return Ul&&typeof Ul=="object"&&Object.keys(Ul).forEach(function(_h){Vl=El(Ul,_h),Vl!==void 0?Ul[_h]=Vl:delete Ul[_h]}),Cl.call(xl,Ml,Ul)}({"":Sl},""):Sl}},parse=json_parse$1,json_stringify=stringifyExports.stringify,json_parse=parse;jsonBigint.exports=function(vs){return{parse:json_parse(vs),stringify:json_stringify}},jsonBigint.exports.parse=json_parse(),jsonBigint.exports.stringify=json_stringify;var jsonBigintExports=jsonBigint.exports;const JSONbigWithoutConfig=getDefaultExportFromCjs(jsonBigintExports);var IntDecoding;(function(vs){vs.UNSAFE="unsafe",vs.SAFE="safe",vs.MIXED="mixed",vs.BIGINT="bigint"})(IntDecoding||(IntDecoding={}));const IntDecoding$1=IntDecoding,JSONbig=JSONbigWithoutConfig({useNativeBigInt:!0,strict:!0});function parseJSON(vs,{intDecoding:ms}){if(ms!==IntDecoding$1.SAFE&&ms!==IntDecoding$1.UNSAFE&&ms!==IntDecoding$1.BIGINT&&ms!==IntDecoding$1.MIXED)throw new Error(`Invalid intDecoding option: ${ms}`);return JSONbig.parse(vs,(ws,Ss)=>{if(Ss!=null&&typeof Ss=="object"&&Object.getPrototypeOf(Ss)==null&&Object.setPrototypeOf(Ss,Object.prototype),typeof Ss=="bigint"){if(ms===IntDecoding$1.SAFE&&Ss>Number.MAX_SAFE_INTEGER)throw new Error(`Integer exceeds maximum safe integer: ${Ss.toString()}. Try parsing with a different intDecoding option.`);return ms===IntDecoding$1.BIGINT||ms===IntDecoding$1.MIXED&&Ss>Number.MAX_SAFE_INTEGER?Ss:Number(Ss)}return typeof Ss=="number"&&ms===IntDecoding$1.BIGINT&&Number.isInteger(Ss)?BigInt(Ss):Ss})}function stringifyJSON(vs,ms,ws){return JSONbig.stringify(vs,ms,ws)}function arrayEqual(vs,ms){return vs.length!==ms.length?!1:Array.from(vs).every((ws,Ss)=>ws===ms[Ss])}function concatArrays$1(...vs){const ms=vs.reduce((Es,_s)=>Es+_s.length,0),ws=new Uint8Array(ms);let Ss=0;for(let Es=0;Es<vs.length;Es++)ws.set(vs[Es],Ss),Ss+=vs[Es].length;return ws}function isNode$1(){return typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node<"u"}function isReactNative(){const{navigator:vs}=globalThis;return typeof vs=="object"&&vs.product==="ReactNative"}function ensureSafeInteger(vs){if(typeof vs>"u")throw new Error("Value is undefined");if(typeof vs=="bigint"){if(vs>BigInt(Number.MAX_SAFE_INTEGER)||vs<BigInt(Number.MIN_SAFE_INTEGER))throw new Error(`BigInt value ${vs} is not a safe integer`);return Number(vs)}if(typeof vs=="number"){if(Number.isSafeInteger(vs))return vs;throw new Error(`Value ${vs} is not a safe integer`)}throw new Error(`Unexpected type ${typeof vs}, ${vs}`)}function ensureSafeUnsignedInteger(vs){const ms=ensureSafeInteger(vs);if(ms<0)throw new Error(`Value ${ms} is negative`);return ms}function ensureBigInt(vs){if(typeof vs>"u")throw new Error("Value is undefined");if(typeof vs=="bigint")return vs;if(typeof vs=="number"){if(!Number.isSafeInteger(vs))throw new Error(`Value ${vs} is not a safe integer`);return BigInt(vs)}throw new Error(`Unexpected type ${typeof vs}, ${vs}`)}function ensureUint64(vs){const ms=ensureBigInt(vs);if(ms<0||ms>BigInt("0xffffffffffffffff"))throw new Error(`Value ${ms} is not a uint64`);return ms}function genericHash(vs){return sha512.sha512_256.array(vs)}function randomBytes$2(vs){return isReactNative()&&console.warn("It looks like you're running in react-native. In order to perform common crypto operations you will need to polyfill common operations such as crypto.getRandomValues"),nacl.randomBytes(vs)}function keyPairFromSeed(vs){return nacl.sign.keyPair.fromSeed(vs)}function keyPair(){const vs=randomBytes$2(nacl.box.secretKeyLength);return keyPairFromSeed(vs)}function isValidSignatureLength(vs){return vs===nacl.sign.signatureLength}function keyPairFromSecretKey(vs){return nacl.sign.keyPair.fromSecretKey(vs)}function sign(vs,ms){return nacl.sign.detached(vs,ms)}function bytesEqual(vs,ms){return nacl.verify(vs,ms)}function verify(vs,ms,ws){return nacl.sign.detached.verify(vs,ms,ws)}const PUBLIC_KEY_LENGTH=nacl.sign.publicKeyLength;nacl.sign.secretKeyLength;const HASH_BYTES_LENGTH=32,SEED_BTYES_LENGTH=32;var base32$4={exports:{}};/*
 * [hi-base32]{@link https://github.com/emn178/hi-base32}
 *
 * @version 0.5.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(vs){(function(){var ms=typeof window=="object"?window:{},ws=!ms.HI_BASE32_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;ws&&(ms=window);var Ss=!ms.HI_BASE32_NO_COMMON_JS&&!0&&vs.exports,Es="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".split(""),_s={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,2:26,3:27,4:28,5:29,6:30,7:31},Is=[0,0,0,0,0,0,0,0],Ts=function(Cl,Sl){Sl.length>10&&(Sl="..."+Sl.substr(-10));var El=new Error("Decoded data is not valid UTF-8. Maybe try base32.decode.asBytes()? Partial data after reading "+Cl+" bytes: "+Sl+" <-");throw El.position=Cl,El},Rs=function(Cl){for(var Sl="",El=Cl.length,xl=0,Ml=0,Vl,Ul;xl<El;){if(Vl=Cl[xl++],Vl<=127){Sl+=String.fromCharCode(Vl);continue}else Vl>191&&Vl<=223?(Ul=Vl&31,Ml=1):Vl<=239?(Ul=Vl&15,Ml=2):Vl<=247?(Ul=Vl&7,Ml=3):Ts(xl,Sl);for(var _h=0;_h<Ml;++_h)Vl=Cl[xl++],(Vl<128||Vl>191)&&Ts(xl,Sl),Ul<<=6,Ul+=Vl&63;Ul>=55296&&Ul<=57343&&Ts(xl,Sl),Ul>1114111&&Ts(xl,Sl),Ul<=65535?Sl+=String.fromCharCode(Ul):(Ul-=65536,Sl+=String.fromCharCode((Ul>>10)+55296),Sl+=String.fromCharCode((Ul&1023)+56320))}return Sl},Bs=function(Cl){if(Cl==="")return[];if(!/^[A-Z2-7=]+$/.test(Cl))throw new Error("Invalid base32 characters");Cl=Cl.replace(/=/g,"");for(var Sl,El,xl,Ml,Vl,Ul,_h,nu,su=[],Jl=0,Il=Cl.length,Nl=0,Ol=Il>>3<<3;Nl<Ol;)Sl=_s[Cl.charAt(Nl++)],El=_s[Cl.charAt(Nl++)],xl=_s[Cl.charAt(Nl++)],Ml=_s[Cl.charAt(Nl++)],Vl=_s[Cl.charAt(Nl++)],Ul=_s[Cl.charAt(Nl++)],_h=_s[Cl.charAt(Nl++)],nu=_s[Cl.charAt(Nl++)],su[Jl++]=(Sl<<3|El>>>2)&255,su[Jl++]=(El<<6|xl<<1|Ml>>>4)&255,su[Jl++]=(Ml<<4|Vl>>>1)&255,su[Jl++]=(Vl<<7|Ul<<2|_h>>>3)&255,su[Jl++]=(_h<<5|nu)&255;var Gl=Il-Ol;return Gl===2?(Sl=_s[Cl.charAt(Nl++)],El=_s[Cl.charAt(Nl++)],su[Jl++]=(Sl<<3|El>>>2)&255):Gl===4?(Sl=_s[Cl.charAt(Nl++)],El=_s[Cl.charAt(Nl++)],xl=_s[Cl.charAt(Nl++)],Ml=_s[Cl.charAt(Nl++)],su[Jl++]=(Sl<<3|El>>>2)&255,su[Jl++]=(El<<6|xl<<1|Ml>>>4)&255):Gl===5?(Sl=_s[Cl.charAt(Nl++)],El=_s[Cl.charAt(Nl++)],xl=_s[Cl.charAt(Nl++)],Ml=_s[Cl.charAt(Nl++)],Vl=_s[Cl.charAt(Nl++)],su[Jl++]=(Sl<<3|El>>>2)&255,su[Jl++]=(El<<6|xl<<1|Ml>>>4)&255,su[Jl++]=(Ml<<4|Vl>>>1)&255):Gl===7&&(Sl=_s[Cl.charAt(Nl++)],El=_s[Cl.charAt(Nl++)],xl=_s[Cl.charAt(Nl++)],Ml=_s[Cl.charAt(Nl++)],Vl=_s[Cl.charAt(Nl++)],Ul=_s[Cl.charAt(Nl++)],_h=_s[Cl.charAt(Nl++)],su[Jl++]=(Sl<<3|El>>>2)&255,su[Jl++]=(El<<6|xl<<1|Ml>>>4)&255,su[Jl++]=(Ml<<4|Vl>>>1)&255,su[Jl++]=(Vl<<7|Ul<<2|_h>>>3)&255),su},Ns=function(Cl){for(var Sl,El,xl,Ml,Vl,Ul="",_h=Cl.length,nu=0,su=parseInt(_h/5)*5;nu<su;)Sl=Cl.charCodeAt(nu++),El=Cl.charCodeAt(nu++),xl=Cl.charCodeAt(nu++),Ml=Cl.charCodeAt(nu++),Vl=Cl.charCodeAt(nu++),Ul+=Es[Sl>>>3]+Es[(Sl<<2|El>>>6)&31]+Es[El>>>1&31]+Es[(El<<4|xl>>>4)&31]+Es[(xl<<1|Ml>>>7)&31]+Es[Ml>>>2&31]+Es[(Ml<<3|Vl>>>5)&31]+Es[Vl&31];var Jl=_h-su;return Jl===1?(Sl=Cl.charCodeAt(nu),Ul+=Es[Sl>>>3]+Es[Sl<<2&31]+"======"):Jl===2?(Sl=Cl.charCodeAt(nu++),El=Cl.charCodeAt(nu),Ul+=Es[Sl>>>3]+Es[(Sl<<2|El>>>6)&31]+Es[El>>>1&31]+Es[El<<4&31]+"===="):Jl===3?(Sl=Cl.charCodeAt(nu++),El=Cl.charCodeAt(nu++),xl=Cl.charCodeAt(nu),Ul+=Es[Sl>>>3]+Es[(Sl<<2|El>>>6)&31]+Es[El>>>1&31]+Es[(El<<4|xl>>>4)&31]+Es[xl<<1&31]+"==="):Jl===4&&(Sl=Cl.charCodeAt(nu++),El=Cl.charCodeAt(nu++),xl=Cl.charCodeAt(nu++),Ml=Cl.charCodeAt(nu),Ul+=Es[Sl>>>3]+Es[(Sl<<2|El>>>6)&31]+Es[El>>>1&31]+Es[(El<<4|xl>>>4)&31]+Es[(xl<<1|Ml>>>7)&31]+Es[Ml>>>2&31]+Es[Ml<<3&31]+"="),Ul},Ws=function(Cl){var Sl,El,xl,Ml,Vl,Ul,_h=!1,nu="",su=0,Jl,Il=0,Nl=Cl.length;if(Cl==="")return nu;do{for(Is[0]=Is[5],Is[1]=Is[6],Is[2]=Is[7],Jl=Il;su<Nl&&Jl<5;++su)Ul=Cl.charCodeAt(su),Ul<128?Is[Jl++]=Ul:Ul<2048?(Is[Jl++]=192|Ul>>6,Is[Jl++]=128|Ul&63):Ul<55296||Ul>=57344?(Is[Jl++]=224|Ul>>12,Is[Jl++]=128|Ul>>6&63,Is[Jl++]=128|Ul&63):(Ul=65536+((Ul&1023)<<10|Cl.charCodeAt(++su)&1023),Is[Jl++]=240|Ul>>18,Is[Jl++]=128|Ul>>12&63,Is[Jl++]=128|Ul>>6&63,Is[Jl++]=128|Ul&63);Il=Jl-5,su===Nl&&++su,su>Nl&&Jl<6&&(_h=!0),Sl=Is[0],Jl>4?(El=Is[1],xl=Is[2],Ml=Is[3],Vl=Is[4],nu+=Es[Sl>>>3]+Es[(Sl<<2|El>>>6)&31]+Es[El>>>1&31]+Es[(El<<4|xl>>>4)&31]+Es[(xl<<1|Ml>>>7)&31]+Es[Ml>>>2&31]+Es[(Ml<<3|Vl>>>5)&31]+Es[Vl&31]):Jl===1?nu+=Es[Sl>>>3]+Es[Sl<<2&31]+"======":Jl===2?(El=Is[1],nu+=Es[Sl>>>3]+Es[(Sl<<2|El>>>6)&31]+Es[El>>>1&31]+Es[El<<4&31]+"===="):Jl===3?(El=Is[1],xl=Is[2],nu+=Es[Sl>>>3]+Es[(Sl<<2|El>>>6)&31]+Es[El>>>1&31]+Es[(El<<4|xl>>>4)&31]+Es[xl<<1&31]+"==="):(El=Is[1],xl=Is[2],Ml=Is[3],nu+=Es[Sl>>>3]+Es[(Sl<<2|El>>>6)&31]+Es[El>>>1&31]+Es[(El<<4|xl>>>4)&31]+Es[(xl<<1|Ml>>>7)&31]+Es[Ml>>>2&31]+Es[Ml<<3&31]+"=")}while(!_h);return nu},Js=function(Cl){for(var Sl,El,xl,Ml,Vl,Ul="",_h=Cl.length,nu=0,su=parseInt(_h/5)*5;nu<su;)Sl=Cl[nu++],El=Cl[nu++],xl=Cl[nu++],Ml=Cl[nu++],Vl=Cl[nu++],Ul+=Es[Sl>>>3]+Es[(Sl<<2|El>>>6)&31]+Es[El>>>1&31]+Es[(El<<4|xl>>>4)&31]+Es[(xl<<1|Ml>>>7)&31]+Es[Ml>>>2&31]+Es[(Ml<<3|Vl>>>5)&31]+Es[Vl&31];var Jl=_h-su;return Jl===1?(Sl=Cl[nu],Ul+=Es[Sl>>>3]+Es[Sl<<2&31]+"======"):Jl===2?(Sl=Cl[nu++],El=Cl[nu],Ul+=Es[Sl>>>3]+Es[(Sl<<2|El>>>6)&31]+Es[El>>>1&31]+Es[El<<4&31]+"===="):Jl===3?(Sl=Cl[nu++],El=Cl[nu++],xl=Cl[nu],Ul+=Es[Sl>>>3]+Es[(Sl<<2|El>>>6)&31]+Es[El>>>1&31]+Es[(El<<4|xl>>>4)&31]+Es[xl<<1&31]+"==="):Jl===4&&(Sl=Cl[nu++],El=Cl[nu++],xl=Cl[nu++],Ml=Cl[nu],Ul+=Es[Sl>>>3]+Es[(Sl<<2|El>>>6)&31]+Es[El>>>1&31]+Es[(El<<4|xl>>>4)&31]+Es[(xl<<1|Ml>>>7)&31]+Es[Ml>>>2&31]+Es[Ml<<3&31]+"="),Ul},$l=function(Cl,Sl){var El=typeof Cl!="string";return El&&Cl.constructor===ArrayBuffer&&(Cl=new Uint8Array(Cl)),El?Js(Cl):Sl?Ns(Cl):Ws(Cl)},wl=function(Cl,Sl){if(!Sl)return Rs(Bs(Cl));if(Cl==="")return"";if(!/^[A-Z2-7=]+$/.test(Cl))throw new Error("Invalid base32 characters");var El,xl,Ml,Vl,Ul,_h,nu,su,Jl="",Il=Cl.indexOf("=");Il===-1&&(Il=Cl.length);for(var Nl=0,Ol=Il>>3<<3;Nl<Ol;)El=_s[Cl.charAt(Nl++)],xl=_s[Cl.charAt(Nl++)],Ml=_s[Cl.charAt(Nl++)],Vl=_s[Cl.charAt(Nl++)],Ul=_s[Cl.charAt(Nl++)],_h=_s[Cl.charAt(Nl++)],nu=_s[Cl.charAt(Nl++)],su=_s[Cl.charAt(Nl++)],Jl+=String.fromCharCode((El<<3|xl>>>2)&255)+String.fromCharCode((xl<<6|Ml<<1|Vl>>>4)&255)+String.fromCharCode((Vl<<4|Ul>>>1)&255)+String.fromCharCode((Ul<<7|_h<<2|nu>>>3)&255)+String.fromCharCode((nu<<5|su)&255);var Gl=Il-Ol;return Gl===2?(El=_s[Cl.charAt(Nl++)],xl=_s[Cl.charAt(Nl++)],Jl+=String.fromCharCode((El<<3|xl>>>2)&255)):Gl===4?(El=_s[Cl.charAt(Nl++)],xl=_s[Cl.charAt(Nl++)],Ml=_s[Cl.charAt(Nl++)],Vl=_s[Cl.charAt(Nl++)],Jl+=String.fromCharCode((El<<3|xl>>>2)&255)+String.fromCharCode((xl<<6|Ml<<1|Vl>>>4)&255)):Gl===5?(El=_s[Cl.charAt(Nl++)],xl=_s[Cl.charAt(Nl++)],Ml=_s[Cl.charAt(Nl++)],Vl=_s[Cl.charAt(Nl++)],Ul=_s[Cl.charAt(Nl++)],Jl+=String.fromCharCode((El<<3|xl>>>2)&255)+String.fromCharCode((xl<<6|Ml<<1|Vl>>>4)&255)+String.fromCharCode((Vl<<4|Ul>>>1)&255)):Gl===7&&(El=_s[Cl.charAt(Nl++)],xl=_s[Cl.charAt(Nl++)],Ml=_s[Cl.charAt(Nl++)],Vl=_s[Cl.charAt(Nl++)],Ul=_s[Cl.charAt(Nl++)],_h=_s[Cl.charAt(Nl++)],nu=_s[Cl.charAt(Nl++)],Jl+=String.fromCharCode((El<<3|xl>>>2)&255)+String.fromCharCode((xl<<6|Ml<<1|Vl>>>4)&255)+String.fromCharCode((Vl<<4|Ul>>>1)&255)+String.fromCharCode((Ul<<7|_h<<2|nu>>>3)&255)),Jl},_l={encode:$l,decode:wl};wl.asBytes=Bs,Ss?vs.exports=_l:ms.base32=_l})()})(base32$4);var base32Exports=base32$4.exports;const base32$3=getDefaultExportFromCjs(base32Exports);function encodeUint64(vs){if(!(typeof vs=="bigint"||Number.isInteger(vs))||vs<0||vs>BigInt("0xffffffffffffffff"))throw new Error("Input is not a 64-bit unsigned integer");const ws=new Uint8Array(8);return new DataView(ws.buffer).setBigUint64(0,BigInt(vs)),ws}function decodeUint64(vs,ms="safe"){if(ms!=="safe"&&ms!=="mixed"&&ms!=="bigint")throw new Error(`Unknown decodingMode option: ${ms}`);if(vs.byteLength===0||vs.byteLength>8)throw new Error(`Data has unacceptable length. Expected length is between 1 and 8, got ${vs.byteLength}`);const ws=new Uint8Array(8-vs.byteLength),Ss=concatArrays$1(ws,vs),_s=new DataView(Ss.buffer).getBigUint64(0),Is=_s>BigInt(Number.MAX_SAFE_INTEGER);if(ms==="safe"){if(Is)throw new Error(`Integer exceeds maximum safe integer: ${_s.toString()}. Try decoding with "mixed" or "safe" decodingMode.`);return Number(_s)}return ms==="mixed"&&!Is?Number(_s):_s}function base64ToBytes(vs){if(isNode$1())return new Uint8Array(Buffer.from(vs,"base64"));const ms=atob(vs);return Uint8Array.from(ms,ws=>ws.codePointAt(0))}function bytesToBase64(vs){if(isNode$1())return Buffer.from(vs).toString("base64");const ms=Array.from(vs,ws=>String.fromCodePoint(ws)).join("");return btoa(ms)}function bytesToString(vs){return new TextDecoder().decode(vs)}function coerceToBytes(vs){return typeof vs=="string"?new TextEncoder().encode(vs):vs}function bytesToHex$2(vs){return isNode$1()?Buffer.from(vs).toString("hex"):Array.from(vs).map(ms=>ms.toString(16).padStart(2,"0")).join("")}function hexToBytes$2(vs){if(isNode$1())return Buffer.from(vs,"hex");let ms=vs;vs.length%2!==0&&(ms=vs.padStart(1,"0"));const ws=new Uint8Array(ms.length/2);for(let Ss=0;Ss<ms.length/2;Ss++)ws[Ss]=parseInt(ms.slice(2*Ss,2*Ss+2),16);return ws}const ALGORAND_ADDRESS_BYTE_LENGTH=36,ALGORAND_CHECKSUM_BYTE_LENGTH=4,ALGORAND_ADDRESS_LENGTH=58,ALGORAND_ZERO_ADDRESS_STRING="AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY5HFKQ",MALFORMED_ADDRESS_ERROR_MSG="address seems to be malformed",CHECKSUM_ADDRESS_ERROR_MSG="wrong checksum for address";function checksumFromPublicKey(vs){return Uint8Array.from(genericHash(vs).slice(HASH_BYTES_LENGTH-ALGORAND_CHECKSUM_BYTE_LENGTH,HASH_BYTES_LENGTH))}class Address{constructor(ms){if(!(ms instanceof Uint8Array))throw new Error(`${MALFORMED_ADDRESS_ERROR_MSG}: ${ms} is not Uint8Array, type ${typeof ms}`);if(ms.length!==ALGORAND_ADDRESS_BYTE_LENGTH-ALGORAND_CHECKSUM_BYTE_LENGTH)throw new Error(`${MALFORMED_ADDRESS_ERROR_MSG}: 0x${bytesToHex$2(ms)}, length ${ms.length}`);this.publicKey=ms}equals(ms){return ms instanceof Address&&arrayEqual(this.publicKey,ms.publicKey)}checksum(){return checksumFromPublicKey(this.publicKey)}toString(){return base32$3.encode(concatArrays$1(this.publicKey,this.checksum())).slice(0,ALGORAND_ADDRESS_LENGTH)}static fromString(ms){if(typeof ms!="string")throw new Error(`${MALFORMED_ADDRESS_ERROR_MSG}: expected string, got ${typeof ms}, ${ms}`);if(ms.length!==ALGORAND_ADDRESS_LENGTH)throw new Error(`${MALFORMED_ADDRESS_ERROR_MSG}: expected length ${ALGORAND_ADDRESS_LENGTH}, got ${ms.length}: ${ms}`);const ws=base32$3.decode.asBytes(ms);if(ws.length!==ALGORAND_ADDRESS_BYTE_LENGTH)throw new Error(`${MALFORMED_ADDRESS_ERROR_MSG}: expected byte length ${ALGORAND_ADDRESS_BYTE_LENGTH}, got ${ws.length}`);const Ss=new Uint8Array(ws.slice(0,ALGORAND_ADDRESS_BYTE_LENGTH-ALGORAND_CHECKSUM_BYTE_LENGTH)),Es=new Uint8Array(ws.slice(PUBLIC_KEY_LENGTH,ALGORAND_ADDRESS_BYTE_LENGTH)),_s=checksumFromPublicKey(Ss);if(!arrayEqual(_s,Es))throw new Error(CHECKSUM_ADDRESS_ERROR_MSG);return new Address(Ss)}static zeroAddress(){return new Address(new Uint8Array(ALGORAND_ADDRESS_BYTE_LENGTH-ALGORAND_CHECKSUM_BYTE_LENGTH))}}function decodeAddress(vs){return Address.fromString(vs)}function isValidAddress$1(vs){try{Address.fromString(vs)}catch{return!1}return!0}function encodeAddress(vs){return new Address(vs).toString()}const APP_ID_PREFIX=new TextEncoder().encode("appID");function getApplicationAddress(vs){const ms=concatArrays$1(APP_ID_PREFIX,encodeUint64(vs)),ws=genericHash(ms);return new Address(Uint8Array.from(ws))}const MICROALGOS_TO_ALGOS_RATIO=1e6,INVALID_MICROALGOS_ERROR_MSG="Microalgos should be positive and less than 2^53 - 1.";function microalgosToAlgos(vs){if(vs<0||!Number.isSafeInteger(vs))throw new Error(INVALID_MICROALGOS_ERROR_MSG);return vs/MICROALGOS_TO_ALGOS_RATIO}function algosToMicroalgos(vs){const ms=vs*MICROALGOS_TO_ALGOS_RATIO;return Math.round(ms)}class URLTokenBaseHTTPError extends Error{constructor(ms,ws){super(ms),this.response=ws,this.name="URLTokenBaseHTTPError",this.response=ws}}class URLTokenBaseHTTPClient{constructor(ms,ws,Ss,Es={}){this.defaultHeaders=Es;const _s=ws.endsWith("/")?ws:`${ws}/`,Is=new URL(_s);if(typeof Ss<"u"&&(Is.port=Ss.toString()),Is.protocol.length===0)throw new Error("Invalid base server URL, protocol must be defined.");this.baseURL=Is,this.tokenHeader=ms}getURL(ms,ws){let Ss;ms.startsWith("./")?Ss=ms:ms.startsWith("/")?Ss=`.${ms}`:Ss=`./${ms}`;const Es=new URL(Ss,this.baseURL);if(ws)for(const[_s,Is]of Object.entries(ws))Es.searchParams.set(_s,Is.toString());return Es.toString()}static formatFetchResponseHeaders(ms){const ws={};return ms.forEach((Ss,Es)=>{ws[Ss]=Es}),ws}static async checkHttpError(ms){if(ms.ok)return;let ws,Ss;try{ws=new Uint8Array(await ms.arrayBuffer());const _s=JSON.parse(new TextDecoder().decode(ws));_s.message&&(Ss=_s.message)}catch{}let Es=`Network request error. Received status ${ms.status} (${ms.statusText})`;throw Ss&&(Es+=`: ${Ss}`),new URLTokenBaseHTTPError(Es,{body:ws??new Uint8Array,status:ms.status,headers:URLTokenBaseHTTPClient.formatFetchResponseHeaders(ms.headers)})}static async formatFetchResponse(ms){return await this.checkHttpError(ms),{body:new Uint8Array(await ms.arrayBuffer()),status:ms.status,headers:URLTokenBaseHTTPClient.formatFetchResponseHeaders(ms.headers)}}async get(ms,ws,Ss,Es){const _s={...this.tokenHeader,...this.defaultHeaders,...Ss??{}},Is=await fetch(this.getURL(ms,ws),{headers:_s,...Es??{}});return URLTokenBaseHTTPClient.formatFetchResponse(Is)}async post(ms,ws,Ss,Es,_s){const Is={...this.tokenHeader,...this.defaultHeaders,...Es??{}},Ts=await fetch(this.getURL(ms,Ss),{method:"POST",body:ws,headers:Is,..._s??{}});return URLTokenBaseHTTPClient.formatFetchResponse(Ts)}async delete(ms,ws,Ss,Es,_s){const Is={...this.tokenHeader,...this.defaultHeaders,...Es??{}},Ts=await fetch(this.getURL(ms,Ss),{method:"DELETE",body:ws,headers:Is,..._s??{}});return URLTokenBaseHTTPClient.formatFetchResponse(Ts)}}class HTTPClientResponse{constructor(ms){this.body=ms.body,this.text=ms.text,this.format=ms.format,this.headers=ms.headers,this.status=ms.status,this.ok=ms.ok}getJSONText(){if(this.text===void 0)throw new Error(`Response body does not contain JSON data. Format is ${this.format}`);return this.text}parseBodyAsJSON(ms){if(this.text===void 0)throw new Error(`Response body does not contain JSON data. Format is ${this.format}`);return HTTPClient.parseJSON(this.text,this.status,ms)}}function removeFalsyOrEmpty(vs){for(const ms in vs)Object.prototype.hasOwnProperty.call(vs,ms)&&(!vs[ms]||vs[ms].length===0)&&delete vs[ms];return vs}function tolowerCaseKeys(vs){return Object.keys(vs).reduce((ms,ws)=>(ms[ws.toLowerCase()]=vs[ws],ms),{})}function getAcceptFormat(vs){if(vs!==void 0&&Object.prototype.hasOwnProperty.call(vs,"format"))switch(vs.format){case"msgpack":return"application/msgpack";case"json":default:return"application/json"}else return"application/json"}class HTTPClient{constructor(ms,ws,Ss,Es={}){ws!==void 0?this.bc=new URLTokenBaseHTTPClient(ms,ws,Ss,Es):this.bc=ms}static parseJSON(ms,ws,Ss){try{return ms?parseJSON(ms,Ss):null}catch(Es){const _s=Es;throw _s.rawResponse=ms||null,_s.statusCode=ws,_s}}static serializeData(ms,ws){if(!ms)return new Uint8Array(0);if(ws["content-type"]==="application/json")return new TextEncoder().encode(stringifyJSON(ms));if(typeof ms=="string")return new TextEncoder().encode(ms);if(ms instanceof Uint8Array)return ms;throw new Error("provided data is neither a string nor a Uint8Array and content-type is not application/json")}static prepareResponse(ms,ws){const{body:Ss}=ms;let Es;return ws!=="application/msgpack"&&(Es=Ss&&new TextDecoder().decode(Ss)||""),new HTTPClientResponse({...ms,format:ws,text:Es,ok:Math.trunc(ms.status/100)===2})}static prepareResponseError(ms){return ms.response&&(ms.response=HTTPClient.prepareResponse(ms.response,"application/json"),ms.status=ms.response.status),ms}async get({relativePath:ms,query:ws,requestHeaders:Ss,customOptions:Es}){const _s=getAcceptFormat(ws),Is={...Ss??{},accept:_s};try{const Ts=await this.bc.get(ms,ws?removeFalsyOrEmpty(ws):void 0,Is,Es);return HTTPClient.prepareResponse(Ts,_s)}catch(Ts){throw HTTPClient.prepareResponseError(Ts)}}async post({relativePath:ms,data:ws,query:Ss,requestHeaders:Es,customOptions:_s}){const Is={"content-type":"application/json",...tolowerCaseKeys(Es??{})};try{const Ts=await this.bc.post(ms,HTTPClient.serializeData(ws,Is),Ss,Is,_s);return HTTPClient.prepareResponse(Ts,"application/json")}catch(Ts){throw HTTPClient.prepareResponseError(Ts)}}async delete({relativePath:ms,data:ws,requestHeaders:Ss,customOptions:Es}){const _s={"content-type":"application/json",...tolowerCaseKeys(Ss??{})};try{const Is=await this.bc.delete(ms,typeof ws<"u"?HTTPClient.serializeData(ws,_s):void 0,void 0,_s,Es);return HTTPClient.prepareResponse(Is,"application/json")}catch(Is){throw HTTPClient.prepareResponseError(Is)}}}function convertTokenStringToTokenHeader(vs,ms=""){const ws={};return ms===""||(ws[vs]=ms),ws}function isBaseHTTPClient(vs){return typeof vs.get=="function"}class ServiceClient{constructor(ms,ws,Ss,Es,_s={}){if(isBaseHTTPClient(ws))this.c=new HTTPClient(ws);else{let Is;typeof ws=="string"?Is=convertTokenStringToTokenHeader(ms,ws):Is=ws,this.c=new HTTPClient(Is,Ss,Es,_s)}}}function utf8Count$1(vs){for(var ms=vs.length,ws=0,Ss=0;Ss<ms;){var Es=vs.charCodeAt(Ss++);if(Es&4294967168)if(!(Es&4294965248))ws+=2;else{if(Es>=55296&&Es<=56319&&Ss<ms){var _s=vs.charCodeAt(Ss);(_s&64512)===56320&&(++Ss,Es=((Es&1023)<<10)+(_s&1023)+65536)}Es&4294901760?ws+=4:ws+=3}else{ws++;continue}}return ws}function utf8EncodeJs$1(vs,ms,ws){for(var Ss=vs.length,Es=ws,_s=0;_s<Ss;){var Is=vs.charCodeAt(_s++);if(Is&4294967168)if(!(Is&4294965248))ms[Es++]=Is>>6&31|192;else{if(Is>=55296&&Is<=56319&&_s<Ss){var Ts=vs.charCodeAt(_s);(Ts&64512)===56320&&(++_s,Is=((Is&1023)<<10)+(Ts&1023)+65536)}Is&4294901760?(ms[Es++]=Is>>18&7|240,ms[Es++]=Is>>12&63|128,ms[Es++]=Is>>6&63|128):(ms[Es++]=Is>>12&15|224,ms[Es++]=Is>>6&63|128)}else{ms[Es++]=Is;continue}ms[Es++]=Is&63|128}}var sharedTextEncoder$1=new TextEncoder,TEXT_ENCODER_THRESHOLD$1=50;function utf8EncodeTE$1(vs,ms,ws){sharedTextEncoder$1.encodeInto(vs,ms.subarray(ws))}function utf8Encode$1(vs,ms,ws){vs.length>TEXT_ENCODER_THRESHOLD$1?utf8EncodeTE$1(vs,ms,ws):utf8EncodeJs$1(vs,ms,ws)}var CHUNK_SIZE$1=4096;function utf8DecodeJs$1(vs,ms,ws){for(var Ss=ms,Es=Ss+ws,_s=[],Is="";Ss<Es;){var Ts=vs[Ss++];if(!(Ts&128))_s.push(Ts);else if((Ts&224)===192){var Rs=vs[Ss++]&63;_s.push((Ts&31)<<6|Rs)}else if((Ts&240)===224){var Rs=vs[Ss++]&63,Bs=vs[Ss++]&63;_s.push((Ts&31)<<12|Rs<<6|Bs)}else if((Ts&248)===240){var Rs=vs[Ss++]&63,Bs=vs[Ss++]&63,Ns=vs[Ss++]&63,Ws=(Ts&7)<<18|Rs<<12|Bs<<6|Ns;Ws>65535&&(Ws-=65536,_s.push(Ws>>>10&1023|55296),Ws=56320|Ws&1023),_s.push(Ws)}else _s.push(Ts);_s.length>=CHUNK_SIZE$1&&(Is+=String.fromCharCode.apply(String,_s),_s.length=0)}return _s.length>0&&(Is+=String.fromCharCode.apply(String,_s)),Is}var sharedTextDecoder$1=new TextDecoder,TEXT_DECODER_THRESHOLD$1=200;function utf8DecodeTD$1(vs,ms,ws){var Ss=vs.subarray(ms,ms+ws);return sharedTextDecoder$1.decode(Ss)}function utf8Decode$1(vs,ms,ws){return ws>TEXT_DECODER_THRESHOLD$1?utf8DecodeTD$1(vs,ms,ws):utf8DecodeJs$1(vs,ms,ws)}var ExtData$1=function(){function vs(ms,ws){this.type=ms,this.data=ws}return vs}(),__extends$1=function(){var vs=function(ms,ws){return vs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ss,Es){Ss.__proto__=Es}||function(Ss,Es){for(var _s in Es)Object.prototype.hasOwnProperty.call(Es,_s)&&(Ss[_s]=Es[_s])},vs(ms,ws)};return function(ms,ws){if(typeof ws!="function"&&ws!==null)throw new TypeError("Class extends value "+String(ws)+" is not a constructor or null");vs(ms,ws);function Ss(){this.constructor=ms}ms.prototype=ws===null?Object.create(ws):(Ss.prototype=ws.prototype,new Ss)}}(),DecodeError$1=function(vs){__extends$1(ms,vs);function ms(ws){var Ss=vs.call(this,ws)||this,Es=Object.create(ms.prototype);return Object.setPrototypeOf(Ss,Es),Object.defineProperty(Ss,"name",{configurable:!0,enumerable:!1,value:ms.name}),Ss}return ms}(Error),IntMode;(function(vs){vs[vs.UNSAFE_NUMBER=0]="UNSAFE_NUMBER",vs[vs.SAFE_NUMBER=1]="SAFE_NUMBER",vs[vs.AS_ENCODED=2]="AS_ENCODED",vs[vs.MIXED=3]="MIXED",vs[vs.BIGINT=4]="BIGINT"})(IntMode||(IntMode={}));var UINT32_MAX$1=4294967295;function setUint64$1(vs,ms,ws){var Ss=ws/4294967296,Es=ws;vs.setUint32(ms,Ss),vs.setUint32(ms+4,Es)}function setInt64$1(vs,ms,ws){var Ss=Math.floor(ws/4294967296),Es=ws;vs.setUint32(ms,Ss),vs.setUint32(ms+4,Es)}function getInt64$1(vs,ms,ws){if(ws===IntMode.UNSAFE_NUMBER||ws===IntMode.SAFE_NUMBER){var Ss=vs.getInt32(ms),Es=vs.getUint32(ms+4);if(ws===IntMode.SAFE_NUMBER&&(Ss<Math.floor(Number.MIN_SAFE_INTEGER/4294967296)||Ss===Math.floor(Number.MIN_SAFE_INTEGER/4294967296)&&Es===0||Ss>(Number.MAX_SAFE_INTEGER-Es)/4294967296)){var _s="".concat(Ss<0?"-":"","0x").concat(Math.abs(Ss).toString(16)).concat(Es.toString(16).padStart(8,"0"));throw new Error("Mode is IntMode.SAFE_NUMBER and value is not a safe integer: ".concat(_s))}return Ss*4294967296+Es}var Is=vs.getBigInt64(ms);return ws===IntMode.MIXED&&Is>=Number.MIN_SAFE_INTEGER&&Is<=Number.MAX_SAFE_INTEGER?Number(Is):Is}function getUint64$1(vs,ms,ws){if(ws===IntMode.UNSAFE_NUMBER||ws===IntMode.SAFE_NUMBER){var Ss=vs.getUint32(ms),Es=vs.getUint32(ms+4);if(ws===IntMode.SAFE_NUMBER&&Ss>(Number.MAX_SAFE_INTEGER-Es)/4294967296){var _s="0x".concat(Ss.toString(16)).concat(Es.toString(16).padStart(8,"0"));throw new Error("Mode is IntMode.SAFE_NUMBER and value is not a safe integer: ".concat(_s))}return Ss*4294967296+Es}var Is=vs.getBigUint64(ms);return ws===IntMode.MIXED&&Is<=Number.MAX_SAFE_INTEGER?Number(Is):Is}function convertSafeIntegerToMode(vs,ms){return ms===IntMode.BIGINT?BigInt(vs):Number(vs)}var EXT_TIMESTAMP$1=-1,TIMESTAMP32_MAX_SEC$1=4294967296-1,TIMESTAMP64_MAX_SEC$1=17179869184-1;function encodeTimeSpecToTimestamp$1(vs){var ms=vs.sec,ws=vs.nsec;if(ms>=0&&ws>=0&&ms<=TIMESTAMP64_MAX_SEC$1)if(ws===0&&ms<=TIMESTAMP32_MAX_SEC$1){var Ss=new Uint8Array(4),Es=new DataView(Ss.buffer);return Es.setUint32(0,ms),Ss}else{var _s=ms/4294967296,Is=ms&4294967295,Ss=new Uint8Array(8),Es=new DataView(Ss.buffer);return Es.setUint32(0,ws<<2|_s&3),Es.setUint32(4,Is),Ss}else{var Ss=new Uint8Array(12),Es=new DataView(Ss.buffer);return Es.setUint32(0,ws),setInt64$1(Es,4,ms),Ss}}function encodeDateToTimeSpec$1(vs){var ms=vs.getTime(),ws=Math.floor(ms/1e3),Ss=(ms-ws*1e3)*1e6,Es=Math.floor(Ss/1e9);return{sec:ws+Es,nsec:Ss-Es*1e9}}function encodeTimestampExtension$1(vs){if(vs instanceof Date){var ms=encodeDateToTimeSpec$1(vs);return encodeTimeSpecToTimestamp$1(ms)}else return null}function decodeTimestampToTimeSpec$1(vs){var ms=new DataView(vs.buffer,vs.byteOffset,vs.byteLength);switch(vs.byteLength){case 4:{var ws=ms.getUint32(0),Ss=0;return{sec:ws,nsec:Ss}}case 8:{var Es=ms.getUint32(0),_s=ms.getUint32(4),ws=(Es&3)*4294967296+_s,Ss=Es>>>2;return{sec:ws,nsec:Ss}}case 12:{var ws=getInt64$1(ms,4,IntMode.UNSAFE_NUMBER),Ss=ms.getUint32(0);return{sec:ws,nsec:Ss}}default:throw new DecodeError$1("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(vs.length))}}function decodeTimestampExtension$1(vs){var ms=decodeTimestampToTimeSpec$1(vs);return new Date(ms.sec*1e3+ms.nsec/1e6)}var timestampExtension$1={type:EXT_TIMESTAMP$1,encode:encodeTimestampExtension$1,decode:decodeTimestampExtension$1},ExtensionCodec$1=function(){function vs(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(timestampExtension$1)}return vs.prototype.register=function(ms){var ws=ms.type,Ss=ms.encode,Es=ms.decode;if(ws>=0)this.encoders[ws]=Ss,this.decoders[ws]=Es;else{var _s=1+ws;this.builtInEncoders[_s]=Ss,this.builtInDecoders[_s]=Es}},vs.prototype.tryToEncode=function(ms,ws){for(var Ss=0;Ss<this.builtInEncoders.length;Ss++){var Es=this.builtInEncoders[Ss];if(Es!=null){var _s=Es(ms,ws);if(_s!=null){var Is=-1-Ss;return new ExtData$1(Is,_s)}}}for(var Ss=0;Ss<this.encoders.length;Ss++){var Es=this.encoders[Ss];if(Es!=null){var _s=Es(ms,ws);if(_s!=null){var Is=Ss;return new ExtData$1(Is,_s)}}}return ms instanceof ExtData$1?ms:null},vs.prototype.decode=function(ms,ws,Ss){var Es=ws<0?this.builtInDecoders[-1-ws]:this.decoders[ws];return Es?Es(ms,ws,Ss):new ExtData$1(ws,ms)},vs.defaultCodec=new vs,vs}();function ensureUint8Array$2(vs){return vs instanceof Uint8Array?vs:ArrayBuffer.isView(vs)?new Uint8Array(vs.buffer,vs.byteOffset,vs.byteLength):vs instanceof ArrayBuffer?new Uint8Array(vs):Uint8Array.from(vs)}function createDataView(vs){if(vs instanceof ArrayBuffer)return new DataView(vs);var ms=ensureUint8Array$2(vs);return new DataView(ms.buffer,ms.byteOffset,ms.byteLength)}function compareUint8Arrays(vs,ms){for(var ws=Math.min(vs.length,ms.length),Ss=0;Ss<ws;Ss++){var Es=vs[Ss]-ms[Ss];if(Es!==0)return Es}return vs.length-ms.length}var RawBinaryString=function(){function vs(ms){if(this.rawBinaryValue=ms,!ArrayBuffer.isView(ms))throw new TypeError("RawBinaryString: rawBinaryValue must be an ArrayBufferView")}return vs}(),DEFAULT_MAX_DEPTH$1=100,DEFAULT_INITIAL_BUFFER_SIZE$1=2048,Encoder$2=function(){function vs(ms){var ws,Ss,Es,_s,Is,Ts,Rs,Bs;this.extensionCodec=(ws=ms==null?void 0:ms.extensionCodec)!==null&&ws!==void 0?ws:ExtensionCodec$1.defaultCodec,this.context=ms==null?void 0:ms.context,this.forceBigIntToInt64=(Ss=ms==null?void 0:ms.forceBigIntToInt64)!==null&&Ss!==void 0?Ss:!1,this.maxDepth=(Es=ms==null?void 0:ms.maxDepth)!==null&&Es!==void 0?Es:DEFAULT_MAX_DEPTH$1,this.initialBufferSize=(_s=ms==null?void 0:ms.initialBufferSize)!==null&&_s!==void 0?_s:DEFAULT_INITIAL_BUFFER_SIZE$1,this.sortKeys=(Is=ms==null?void 0:ms.sortKeys)!==null&&Is!==void 0?Is:!1,this.forceFloat32=(Ts=ms==null?void 0:ms.forceFloat32)!==null&&Ts!==void 0?Ts:!1,this.ignoreUndefined=(Rs=ms==null?void 0:ms.ignoreUndefined)!==null&&Rs!==void 0?Rs:!1,this.forceIntegerToFloat=(Bs=ms==null?void 0:ms.forceIntegerToFloat)!==null&&Bs!==void 0?Bs:!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return vs.prototype.reinitializeState=function(){this.pos=0},vs.prototype.encodeSharedRef=function(ms){return this.reinitializeState(),this.doEncode(ms,1),this.bytes.subarray(0,this.pos)},vs.prototype.encode=function(ms){return this.reinitializeState(),this.doEncode(ms,1),this.bytes.slice(0,this.pos)},vs.prototype.doEncode=function(ms,ws){if(ws>this.maxDepth)throw new Error("Too deep objects in depth ".concat(ws));ms==null?this.encodeNil():typeof ms=="boolean"?this.encodeBoolean(ms):typeof ms=="number"?this.encodeNumber(ms):typeof ms=="string"?this.encodeString(ms):this.encodeObject(ms,ws)},vs.prototype.ensureBufferSizeToWrite=function(ms){var ws=this.pos+ms;this.view.byteLength<ws&&this.resizeBuffer(ws*2)},vs.prototype.resizeBuffer=function(ms){var ws=new ArrayBuffer(ms),Ss=new Uint8Array(ws),Es=new DataView(ws);Ss.set(this.bytes),this.view=Es,this.bytes=Ss},vs.prototype.encodeNil=function(){this.writeU8(192)},vs.prototype.encodeBoolean=function(ms){ms===!1?this.writeU8(194):this.writeU8(195)},vs.prototype.encodeNumber=function(ms){!this.forceIntegerToFloat&&Number.isSafeInteger(ms)?ms>=0?ms<128?this.writeU8(ms):ms<256?(this.writeU8(204),this.writeU8(ms)):ms<65536?(this.writeU8(205),this.writeU16(ms)):ms<4294967296?(this.writeU8(206),this.writeU32(ms)):(this.writeU8(207),this.writeU64(ms)):ms>=-32?this.writeU8(224|ms+32):ms>=-128?(this.writeU8(208),this.writeI8(ms)):ms>=-32768?(this.writeU8(209),this.writeI16(ms)):ms>=-2147483648?(this.writeU8(210),this.writeI32(ms)):(this.writeU8(211),this.writeI64(ms)):this.encodeNumberAsFloat(ms)},vs.prototype.encodeNumberAsFloat=function(ms){this.forceFloat32?(this.writeU8(202),this.writeF32(ms)):(this.writeU8(203),this.writeF64(ms))},vs.prototype.encodeBigInt=function(ms){if(this.forceBigIntToInt64)this.encodeBigIntAsInt64(ms);else if(ms>=0)if(ms<4294967296||this.forceIntegerToFloat)this.encodeNumber(Number(ms));else if(ms<BigInt("0x10000000000000000"))this.encodeBigIntAsInt64(ms);else throw new Error("Bigint is too large for uint64: ".concat(ms));else if(ms>=-2147483648||this.forceIntegerToFloat)this.encodeNumber(Number(ms));else if(ms>=BigInt(-1)*BigInt("0x8000000000000000"))this.encodeBigIntAsInt64(ms);else throw new Error("Bigint is too small for int64: ".concat(ms))},vs.prototype.encodeBigIntAsInt64=function(ms){ms>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(ms)):(this.writeU8(211),this.writeBigInt64(ms))},vs.prototype.writeStringHeader=function(ms){if(ms<32)this.writeU8(160+ms);else if(ms<256)this.writeU8(217),this.writeU8(ms);else if(ms<65536)this.writeU8(218),this.writeU16(ms);else if(ms<4294967296)this.writeU8(219),this.writeU32(ms);else throw new Error("Too long string: ".concat(ms," bytes in UTF-8"))},vs.prototype.encodeString=function(ms){var ws=5,Ss=utf8Count$1(ms);this.ensureBufferSizeToWrite(ws+Ss),this.writeStringHeader(Ss),utf8Encode$1(ms,this.bytes,this.pos),this.pos+=Ss},vs.prototype.encodeObject=function(ms,ws){var Ss=this.extensionCodec.tryToEncode(ms,this.context);if(Ss!=null)this.encodeExtension(Ss);else if(Array.isArray(ms))this.encodeArray(ms,ws);else if(ArrayBuffer.isView(ms))this.encodeBinary(ms);else if(ms instanceof RawBinaryString)this.encodeBinaryAsString(ms);else if(typeof ms=="bigint")this.encodeBigInt(ms);else if(ms instanceof Map)this.encodeMap(ms,ws);else if(typeof ms=="object")this.encodeMapObject(ms,ws);else throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(ms)))},vs.prototype.encodeBinary=function(ms){var ws=ms.byteLength;if(ws<256)this.writeU8(196),this.writeU8(ws);else if(ws<65536)this.writeU8(197),this.writeU16(ws);else if(ws<4294967296)this.writeU8(198),this.writeU32(ws);else throw new Error("Too large binary: ".concat(ws));var Ss=ensureUint8Array$2(ms);this.writeU8a(Ss)},vs.prototype.encodeBinaryAsString=function(ms){var ws=ms.rawBinaryValue;this.writeStringHeader(ws.byteLength);var Ss=ensureUint8Array$2(ws);this.writeU8a(Ss)},vs.prototype.encodeArray=function(ms,ws){var Ss=ms.length;if(Ss<16)this.writeU8(144+Ss);else if(Ss<65536)this.writeU8(220),this.writeU16(Ss);else if(Ss<4294967296)this.writeU8(221),this.writeU32(Ss);else throw new Error("Too large array: ".concat(Ss));for(var Es=0,_s=ms;Es<_s.length;Es++){var Is=_s[Es];this.doEncode(Is,ws+1)}},vs.prototype.countWithoutUndefined=function(ms,ws){for(var Ss=0,Es=0,_s=ws;Es<_s.length;Es++){var Is=_s[Es];ms.get(Is)!==void 0&&Ss++}return Ss},vs.prototype.sortMapKeys=function(ms){for(var ws=[],Ss=[],Es=[],_s=[],Is=0,Ts=ms;Is<Ts.length;Is++){var Rs=Ts[Is];if(typeof Rs=="number"){if(isNaN(Rs))throw new Error("Cannot sort map keys with NaN value");ws.push(Rs)}else if(typeof Rs=="bigint")ws.push(Rs);else if(typeof Rs=="string")Ss.push(Rs);else if(ArrayBuffer.isView(Rs))_s.push(ensureUint8Array$2(Rs));else if(Rs instanceof RawBinaryString)Es.push(Rs);else throw new Error("Unsupported map key type: ".concat(Object.prototype.toString.apply(Rs)))}return ws.sort(function(Bs,Ns){return Bs<Ns?-1:Bs>Ns?1:0}),Ss.sort(),Es.sort(function(Bs,Ns){return compareUint8Arrays(ensureUint8Array$2(Bs.rawBinaryValue),ensureUint8Array$2(Ns.rawBinaryValue))}),_s.sort(compareUint8Arrays),[].concat(ws,Ss,Es,_s)},vs.prototype.encodeMapObject=function(ms,ws){this.encodeMap(new Map(Object.entries(ms)),ws)},vs.prototype.encodeMap=function(ms,ws){var Ss=Array.from(ms.keys());this.sortKeys&&(Ss=this.sortMapKeys(Ss));var Es=this.ignoreUndefined?this.countWithoutUndefined(ms,Ss):Ss.length;if(Es<16)this.writeU8(128+Es);else if(Es<65536)this.writeU8(222),this.writeU16(Es);else if(Es<4294967296)this.writeU8(223),this.writeU32(Es);else throw new Error("Too large map object: ".concat(Es));for(var _s=0,Is=Ss;_s<Is.length;_s++){var Ts=Is[_s],Rs=ms.get(Ts);if(!(this.ignoreUndefined&&Rs===void 0)){if(typeof Ts=="string")this.encodeString(Ts);else if(typeof Ts=="number")this.encodeNumber(Ts);else if(typeof Ts=="bigint")this.encodeBigInt(Ts);else if(ArrayBuffer.isView(Ts))this.encodeBinary(Ts);else if(Ts instanceof RawBinaryString)this.encodeBinaryAsString(Ts);else throw new Error("Unsupported map key type: ".concat(Object.prototype.toString.apply(Ts)));this.doEncode(Rs,ws+1)}}},vs.prototype.encodeExtension=function(ms){var ws=ms.data.length;if(ws===1)this.writeU8(212);else if(ws===2)this.writeU8(213);else if(ws===4)this.writeU8(214);else if(ws===8)this.writeU8(215);else if(ws===16)this.writeU8(216);else if(ws<256)this.writeU8(199),this.writeU8(ws);else if(ws<65536)this.writeU8(200),this.writeU16(ws);else if(ws<4294967296)this.writeU8(201),this.writeU32(ws);else throw new Error("Too large extension object: ".concat(ws));this.writeI8(ms.type),this.writeU8a(ms.data)},vs.prototype.writeU8=function(ms){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,ms),this.pos++},vs.prototype.writeU8a=function(ms){var ws=ms.length;this.ensureBufferSizeToWrite(ws),this.bytes.set(ms,this.pos),this.pos+=ws},vs.prototype.writeI8=function(ms){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,ms),this.pos++},vs.prototype.writeU16=function(ms){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,ms),this.pos+=2},vs.prototype.writeI16=function(ms){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,ms),this.pos+=2},vs.prototype.writeU32=function(ms){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,ms),this.pos+=4},vs.prototype.writeI32=function(ms){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,ms),this.pos+=4},vs.prototype.writeF32=function(ms){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,ms),this.pos+=4},vs.prototype.writeF64=function(ms){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,ms),this.pos+=8},vs.prototype.writeU64=function(ms){this.ensureBufferSizeToWrite(8),setUint64$1(this.view,this.pos,ms),this.pos+=8},vs.prototype.writeI64=function(ms){this.ensureBufferSizeToWrite(8),setInt64$1(this.view,this.pos,ms),this.pos+=8},vs.prototype.writeBigUint64=function(ms){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,ms),this.pos+=8},vs.prototype.writeBigInt64=function(ms){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,ms),this.pos+=8},vs}();function encode$3(vs,ms){var ws=new Encoder$2(ms);return ws.encodeSharedRef(vs)}function prettyByte$1(vs){return"".concat(vs<0?"-":"","0x").concat(Math.abs(vs).toString(16).padStart(2,"0"))}var DEFAULT_MAX_KEY_LENGTH$1=16,DEFAULT_MAX_LENGTH_PER_KEY$1=16,CachedKeyDecoder$1=function(){function vs(ms,ws){ms===void 0&&(ms=DEFAULT_MAX_KEY_LENGTH$1),ws===void 0&&(ws=DEFAULT_MAX_LENGTH_PER_KEY$1),this.maxKeyLength=ms,this.maxLengthPerKey=ws,this.hit=0,this.miss=0,this.caches=[];for(var Ss=0;Ss<this.maxKeyLength;Ss++)this.caches.push([])}return vs.prototype.canBeCached=function(ms){return ms>0&&ms<=this.maxKeyLength},vs.prototype.find=function(ms,ws,Ss){var Es=this.caches[Ss-1];e:for(var _s=0,Is=Es;_s<Is.length;_s++){for(var Ts=Is[_s],Rs=Ts.bytes,Bs=0;Bs<Ss;Bs++)if(Rs[Bs]!==ms[ws+Bs])continue e;return Ts.str}return null},vs.prototype.store=function(ms,ws){var Ss=this.caches[ms.length-1],Es={bytes:ms,str:ws};Ss.length>=this.maxLengthPerKey?Ss[Math.random()*Ss.length|0]=Es:Ss.push(Es)},vs.prototype.decode=function(ms,ws,Ss){var Es=this.find(ms,ws,Ss);if(Es!=null)return this.hit++,Es;this.miss++;var _s=utf8DecodeJs$1(ms,ws,Ss),Is=Uint8Array.prototype.slice.call(ms,ws,ws+Ss);return this.store(Is,_s),_s},vs}(),__awaiter$1=function(vs,ms,ws,Ss){function Es(_s){return _s instanceof ws?_s:new ws(function(Is){Is(_s)})}return new(ws||(ws=Promise))(function(_s,Is){function Ts(Ns){try{Bs(Ss.next(Ns))}catch(Ws){Is(Ws)}}function Rs(Ns){try{Bs(Ss.throw(Ns))}catch(Ws){Is(Ws)}}function Bs(Ns){Ns.done?_s(Ns.value):Es(Ns.value).then(Ts,Rs)}Bs((Ss=Ss.apply(vs,ms||[])).next())})},__generator$1=function(vs,ms){var ws={label:0,sent:function(){if(_s[0]&1)throw _s[1];return _s[1]},trys:[],ops:[]},Ss,Es,_s,Is;return Is={next:Ts(0),throw:Ts(1),return:Ts(2)},typeof Symbol=="function"&&(Is[Symbol.iterator]=function(){return this}),Is;function Ts(Bs){return function(Ns){return Rs([Bs,Ns])}}function Rs(Bs){if(Ss)throw new TypeError("Generator is already executing.");for(;Is&&(Is=0,Bs[0]&&(ws=0)),ws;)try{if(Ss=1,Es&&(_s=Bs[0]&2?Es.return:Bs[0]?Es.throw||((_s=Es.return)&&_s.call(Es),0):Es.next)&&!(_s=_s.call(Es,Bs[1])).done)return _s;switch(Es=0,_s&&(Bs=[Bs[0]&2,_s.value]),Bs[0]){case 0:case 1:_s=Bs;break;case 4:return ws.label++,{value:Bs[1],done:!1};case 5:ws.label++,Es=Bs[1],Bs=[0];continue;case 7:Bs=ws.ops.pop(),ws.trys.pop();continue;default:if(_s=ws.trys,!(_s=_s.length>0&&_s[_s.length-1])&&(Bs[0]===6||Bs[0]===2)){ws=0;continue}if(Bs[0]===3&&(!_s||Bs[1]>_s[0]&&Bs[1]<_s[3])){ws.label=Bs[1];break}if(Bs[0]===6&&ws.label<_s[1]){ws.label=_s[1],_s=Bs;break}if(_s&&ws.label<_s[2]){ws.label=_s[2],ws.ops.push(Bs);break}_s[2]&&ws.ops.pop(),ws.trys.pop();continue}Bs=ms.call(vs,ws)}catch(Ns){Bs=[6,Ns],Es=0}finally{Ss=_s=0}if(Bs[0]&5)throw Bs[1];return{value:Bs[0]?Bs[1]:void 0,done:!0}}},__asyncValues$1=function(vs){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ms=vs[Symbol.asyncIterator],ws;return ms?ms.call(vs):(vs=typeof __values=="function"?__values(vs):vs[Symbol.iterator](),ws={},Ss("next"),Ss("throw"),Ss("return"),ws[Symbol.asyncIterator]=function(){return this},ws);function Ss(_s){ws[_s]=vs[_s]&&function(Is){return new Promise(function(Ts,Rs){Is=vs[_s](Is),Es(Ts,Rs,Is.done,Is.value)})}}function Es(_s,Is,Ts,Rs){Promise.resolve(Rs).then(function(Bs){_s({value:Bs,done:Ts})},Is)}},__await$1=function(vs){return this instanceof __await$1?(this.v=vs,this):new __await$1(vs)},__asyncGenerator$1=function(vs,ms,ws){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ss=ws.apply(vs,ms||[]),Es,_s=[];return Es={},Is("next"),Is("throw"),Is("return"),Es[Symbol.asyncIterator]=function(){return this},Es;function Is(Js){Ss[Js]&&(Es[Js]=function($l){return new Promise(function(wl,_l){_s.push([Js,$l,wl,_l])>1||Ts(Js,$l)})})}function Ts(Js,$l){try{Rs(Ss[Js]($l))}catch(wl){Ws(_s[0][3],wl)}}function Rs(Js){Js.value instanceof __await$1?Promise.resolve(Js.value.v).then(Bs,Ns):Ws(_s[0][2],Js)}function Bs(Js){Ts("next",Js)}function Ns(Js){Ts("throw",Js)}function Ws(Js,$l){Js($l),_s.shift(),_s.length&&Ts(_s[0][0],_s[0][1])}},STATE_ARRAY$1="array",STATE_MAP_KEY$1="map_key",STATE_MAP_VALUE$1="map_value";function isValidMapKeyType(vs,ms,ws){return ms?typeof vs=="string"||typeof vs=="number"||typeof vs=="bigint"||vs instanceof Uint8Array||vs instanceof RawBinaryString:typeof vs=="string"||ws&&typeof vs=="number"}var StackPool$1=function(){function vs(ms){this.useMap=ms,this.stack=[],this.stackHeadPosition=-1}return Object.defineProperty(vs.prototype,"length",{get:function(){return this.stackHeadPosition+1},enumerable:!1,configurable:!0}),vs.prototype.top=function(){return this.stack[this.stackHeadPosition]},vs.prototype.pushArrayState=function(ms){var ws=this.getUninitializedStateFromPool();ws.type=STATE_ARRAY$1,ws.position=0,ws.size=ms,ws.array=new Array(ms)},vs.prototype.pushMapState=function(ms){var ws=this.getUninitializedStateFromPool();ws.type=STATE_MAP_KEY$1,ws.readCount=0,ws.size=ms,ws.map=this.useMap?new Map:{}},vs.prototype.getUninitializedStateFromPool=function(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){var ms={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(ms)}return this.stack[this.stackHeadPosition]},vs.prototype.release=function(ms){var ws=this.stack[this.stackHeadPosition];if(ws!==ms)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(ms.type===STATE_ARRAY$1){var Ss=ms;Ss.size=0,Ss.array=void 0,Ss.position=0,Ss.type=void 0}if(ms.type===STATE_MAP_KEY$1||ms.type===STATE_MAP_VALUE$1){var Ss=ms;Ss.size=0,Ss.map=void 0,Ss.readCount=0,Ss.type=void 0}this.stackHeadPosition--},vs.prototype.reset=function(){this.stack.length=0,this.stackHeadPosition=-1},vs}(),HEAD_BYTE_REQUIRED$1=-1,EMPTY_VIEW$1=new DataView(new ArrayBuffer(0)),EMPTY_BYTES$1=new Uint8Array(EMPTY_VIEW$1.buffer);try{EMPTY_VIEW$1.getInt8(0)}catch(vs){if(!(vs instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}var DataViewIndexOutOfBoundsError=RangeError,MORE_DATA$1=new DataViewIndexOutOfBoundsError("Insufficient data"),sharedCachedKeyDecoder$1=new CachedKeyDecoder$1,Decoder$2=function(){function vs(ms){var ws,Ss,Es,_s,Is,Ts,Rs,Bs,Ns,Ws,Js,$l;if(this.totalPos=0,this.pos=0,this.view=EMPTY_VIEW$1,this.bytes=EMPTY_BYTES$1,this.headByte=HEAD_BYTE_REQUIRED$1,this.extensionCodec=(ws=ms==null?void 0:ms.extensionCodec)!==null&&ws!==void 0?ws:ExtensionCodec$1.defaultCodec,this.context=ms==null?void 0:ms.context,this.intMode=(Ss=ms==null?void 0:ms.intMode)!==null&&Ss!==void 0?Ss:ms!=null&&ms.useBigInt64?IntMode.AS_ENCODED:IntMode.UNSAFE_NUMBER,this.rawBinaryStringValues=(Es=ms==null?void 0:ms.rawBinaryStringValues)!==null&&Es!==void 0?Es:!1,this.rawBinaryStringKeys=(_s=ms==null?void 0:ms.rawBinaryStringKeys)!==null&&_s!==void 0?_s:!1,this.useRawBinaryStringClass=(Is=ms==null?void 0:ms.useRawBinaryStringClass)!==null&&Is!==void 0?Is:!1,this.useMap=(Ts=ms==null?void 0:ms.useMap)!==null&&Ts!==void 0?Ts:!1,this.supportObjectNumberKeys=(Rs=ms==null?void 0:ms.supportObjectNumberKeys)!==null&&Rs!==void 0?Rs:!1,this.maxStrLength=(Bs=ms==null?void 0:ms.maxStrLength)!==null&&Bs!==void 0?Bs:UINT32_MAX$1,this.maxBinLength=(Ns=ms==null?void 0:ms.maxBinLength)!==null&&Ns!==void 0?Ns:UINT32_MAX$1,this.maxArrayLength=(Ws=ms==null?void 0:ms.maxArrayLength)!==null&&Ws!==void 0?Ws:UINT32_MAX$1,this.maxMapLength=(Js=ms==null?void 0:ms.maxMapLength)!==null&&Js!==void 0?Js:UINT32_MAX$1,this.maxExtLength=($l=ms==null?void 0:ms.maxExtLength)!==null&&$l!==void 0?$l:UINT32_MAX$1,this.keyDecoder=(ms==null?void 0:ms.keyDecoder)!==void 0?ms.keyDecoder:sharedCachedKeyDecoder$1,this.rawBinaryStringKeys&&!this.useMap)throw new Error("rawBinaryStringKeys is only supported when useMap is true");this.stack=new StackPool$1(this.useMap)}return vs.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=HEAD_BYTE_REQUIRED$1,this.stack.reset()},vs.prototype.setBuffer=function(ms){this.bytes=ensureUint8Array$2(ms),this.view=createDataView(this.bytes),this.pos=0},vs.prototype.appendBuffer=function(ms){if(this.headByte===HEAD_BYTE_REQUIRED$1&&!this.hasRemaining(1))this.setBuffer(ms);else{var ws=this.bytes.subarray(this.pos),Ss=ensureUint8Array$2(ms),Es=new Uint8Array(ws.length+Ss.length);Es.set(ws),Es.set(Ss,ws.length),this.setBuffer(Es)}},vs.prototype.hasRemaining=function(ms){return this.view.byteLength-this.pos>=ms},vs.prototype.createExtraByteError=function(ms){var ws=this,Ss=ws.view,Es=ws.pos;return new RangeError("Extra ".concat(Ss.byteLength-Es," of ").concat(Ss.byteLength," byte(s) found at buffer[").concat(ms,"]"))},vs.prototype.decode=function(ms){this.reinitializeState(),this.setBuffer(ms);var ws=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return ws},vs.prototype.decodeMulti=function(ms){return __generator$1(this,function(ws){switch(ws.label){case 0:this.reinitializeState(),this.setBuffer(ms),ws.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return ws.sent(),[3,1];case 3:return[2]}})},vs.prototype.decodeAsync=function(ms){var ws,Ss,Es,_s,Is,Ts,Rs;return __awaiter$1(this,void 0,void 0,function(){var Bs,Ns,Ws,Js,$l,wl,_l,Cl;return __generator$1(this,function(Sl){switch(Sl.label){case 0:Bs=!1,Sl.label=1;case 1:Sl.trys.push([1,6,7,12]),ws=!0,Ss=__asyncValues$1(ms),Sl.label=2;case 2:return[4,Ss.next()];case 3:if(Es=Sl.sent(),_s=Es.done,!!_s)return[3,5];if(Rs=Es.value,ws=!1,Ws=Rs,Bs)throw this.createExtraByteError(this.totalPos);this.appendBuffer(Ws);try{Ns=this.doDecodeSync(),Bs=!0}catch(El){if(!(El instanceof DataViewIndexOutOfBoundsError))throw El}this.totalPos+=this.pos,Sl.label=4;case 4:return ws=!0,[3,2];case 5:return[3,12];case 6:return Js=Sl.sent(),Is={error:Js},[3,12];case 7:return Sl.trys.push([7,,10,11]),!ws&&!_s&&(Ts=Ss.return)?[4,Ts.call(Ss)]:[3,9];case 8:Sl.sent(),Sl.label=9;case 9:return[3,11];case 10:if(Is)throw Is.error;return[7];case 11:return[7];case 12:if(Bs){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,Ns]}throw $l=this,wl=$l.headByte,_l=$l.pos,Cl=$l.totalPos,new RangeError("Insufficient data in parsing ".concat(prettyByte$1(wl)," at ").concat(Cl," (").concat(_l," in the current buffer)"))}})})},vs.prototype.decodeArrayStream=function(ms){return this.decodeMultiAsync(ms,!0)},vs.prototype.decodeStream=function(ms){return this.decodeMultiAsync(ms,!1)},vs.prototype.decodeMultiAsync=function(ms,ws){return __asyncGenerator$1(this,arguments,function(){var Es,_s,Is,Ts,Rs,Bs,Ns,Ws,Js,$l,wl,_l;return __generator$1(this,function(Cl){switch(Cl.label){case 0:Es=ws,_s=-1,Cl.label=1;case 1:Cl.trys.push([1,13,14,19]),Is=!0,Ts=__asyncValues$1(ms),Cl.label=2;case 2:return[4,__await$1(Ts.next())];case 3:if(Rs=Cl.sent(),Js=Rs.done,!!Js)return[3,12];if(_l=Rs.value,Is=!1,Bs=_l,ws&&_s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(Bs),Es&&(_s=this.readArraySize(),Es=!1,this.complete()),Cl.label=4;case 4:Cl.trys.push([4,9,,10]),Cl.label=5;case 5:return[4,__await$1(this.doDecodeSync())];case 6:return[4,Cl.sent()];case 7:return Cl.sent(),--_s===0?[3,8]:[3,5];case 8:return[3,10];case 9:if(Ns=Cl.sent(),!(Ns instanceof DataViewIndexOutOfBoundsError))throw Ns;return[3,10];case 10:this.totalPos+=this.pos,Cl.label=11;case 11:return Is=!0,[3,2];case 12:return[3,19];case 13:return Ws=Cl.sent(),$l={error:Ws},[3,19];case 14:return Cl.trys.push([14,,17,18]),!Is&&!Js&&(wl=Ts.return)?[4,__await$1(wl.call(Ts))]:[3,16];case 15:Cl.sent(),Cl.label=16;case 16:return[3,18];case 17:if($l)throw $l.error;return[7];case 18:return[7];case 19:return[2]}})})},vs.prototype.doDecodeSync=function(){e:for(;;){var ms=this.readHeadByte(),ws=void 0;if(ms>=224)ws=this.convertNumber(ms-256);else if(ms<192)if(ms<128)ws=this.convertNumber(ms);else if(ms<144){var Ss=ms-128;if(Ss!==0){this.pushMapState(Ss),this.complete();continue e}else ws=this.useMap?new Map:{}}else if(ms<160){var Ss=ms-144;if(Ss!==0){this.pushArrayState(Ss),this.complete();continue e}else ws=[]}else{var Es=ms-160;ws=this.decodeString(Es,0)}else if(ms===192)ws=null;else if(ms===194)ws=!1;else if(ms===195)ws=!0;else if(ms===202)ws=this.readF32();else if(ms===203)ws=this.readF64();else if(ms===204)ws=this.convertNumber(this.readU8());else if(ms===205)ws=this.convertNumber(this.readU16());else if(ms===206)ws=this.convertNumber(this.readU32());else if(ms===207)ws=this.readU64();else if(ms===208)ws=this.convertNumber(this.readI8());else if(ms===209)ws=this.convertNumber(this.readI16());else if(ms===210)ws=this.convertNumber(this.readI32());else if(ms===211)ws=this.readI64();else if(ms===217){var Es=this.lookU8();ws=this.decodeString(Es,1)}else if(ms===218){var Es=this.lookU16();ws=this.decodeString(Es,2)}else if(ms===219){var Es=this.lookU32();ws=this.decodeString(Es,4)}else if(ms===220){var Ss=this.readU16();if(Ss!==0){this.pushArrayState(Ss),this.complete();continue e}else ws=[]}else if(ms===221){var Ss=this.readU32();if(Ss!==0){this.pushArrayState(Ss),this.complete();continue e}else ws=[]}else if(ms===222){var Ss=this.readU16();if(Ss!==0){this.pushMapState(Ss),this.complete();continue e}else ws={}}else if(ms===223){var Ss=this.readU32();if(Ss!==0){this.pushMapState(Ss),this.complete();continue e}else ws={}}else if(ms===196){var Ss=this.lookU8();ws=this.decodeBinary(Ss,1)}else if(ms===197){var Ss=this.lookU16();ws=this.decodeBinary(Ss,2)}else if(ms===198){var Ss=this.lookU32();ws=this.decodeBinary(Ss,4)}else if(ms===212)ws=this.decodeExtension(1,0);else if(ms===213)ws=this.decodeExtension(2,0);else if(ms===214)ws=this.decodeExtension(4,0);else if(ms===215)ws=this.decodeExtension(8,0);else if(ms===216)ws=this.decodeExtension(16,0);else if(ms===199){var Ss=this.lookU8();ws=this.decodeExtension(Ss,1)}else if(ms===200){var Ss=this.lookU16();ws=this.decodeExtension(Ss,2)}else if(ms===201){var Ss=this.lookU32();ws=this.decodeExtension(Ss,4)}else throw new DecodeError$1("Unrecognized type byte: ".concat(prettyByte$1(ms)));this.complete();for(var _s=this.stack;_s.length>0;){var Is=_s.top();if(Is.type===STATE_ARRAY$1)if(Is.array[Is.position]=ws,Is.position++,Is.position===Is.size)ws=Is.array,_s.release(Is);else continue e;else if(Is.type===STATE_MAP_KEY$1){if(!isValidMapKeyType(ws,this.useMap,this.supportObjectNumberKeys)){var Ts=this.useMap?"string, number, bigint, or Uint8Array":this.supportObjectNumberKeys?"string or number":"string";throw new DecodeError$1("The type of key must be ".concat(Ts," but got ").concat(typeof ws))}if(!this.useMap&&ws==="__proto__")throw new DecodeError$1("The key __proto__ is not allowed");Is.key=ws,Is.type=STATE_MAP_VALUE$1;continue e}else if(this.useMap?Is.map.set(Is.key,ws):Is.map[Is.key]=ws,Is.readCount++,Is.readCount===Is.size)ws=Is.map,_s.release(Is);else{Is.key=null,Is.type=STATE_MAP_KEY$1;continue e}}return ws}},vs.prototype.readHeadByte=function(){return this.headByte===HEAD_BYTE_REQUIRED$1&&(this.headByte=this.readU8()),this.headByte},vs.prototype.complete=function(){this.headByte=HEAD_BYTE_REQUIRED$1},vs.prototype.readArraySize=function(){var ms=this.readHeadByte();switch(ms){case 220:return this.readU16();case 221:return this.readU32();default:{if(ms<160)return ms-144;throw new DecodeError$1("Unrecognized array type byte: ".concat(prettyByte$1(ms)))}}},vs.prototype.pushMapState=function(ms){if(ms>this.maxMapLength)throw new DecodeError$1("Max length exceeded: map length (".concat(ms,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.pushMapState(ms)},vs.prototype.pushArrayState=function(ms){if(ms>this.maxArrayLength)throw new DecodeError$1("Max length exceeded: array length (".concat(ms,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.pushArrayState(ms)},vs.prototype.decodeString=function(ms,ws){if(this.stateIsMapKey()?this.rawBinaryStringKeys:this.rawBinaryStringValues){var Ss=this.decodeBinary(ms,ws);return this.useRawBinaryStringClass?new RawBinaryString(Ss):Ss}return this.decodeUtf8String(ms,ws)},vs.prototype.decodeUtf8String=function(ms,ws){var Ss;if(ms>this.maxStrLength)throw new DecodeError$1("Max length exceeded: UTF-8 byte length (".concat(ms,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+ws+ms)throw MORE_DATA$1;var Es=this.pos+ws,_s;return this.stateIsMapKey()&&(!((Ss=this.keyDecoder)===null||Ss===void 0)&&Ss.canBeCached(ms))?_s=this.keyDecoder.decode(this.bytes,Es,ms):_s=utf8Decode$1(this.bytes,Es,ms),this.pos+=ws+ms,_s},vs.prototype.stateIsMapKey=function(){if(this.stack.length>0){var ms=this.stack.top();return ms.type===STATE_MAP_KEY$1}return!1},vs.prototype.decodeBinary=function(ms,ws){if(ms>this.maxBinLength)throw new DecodeError$1("Max length exceeded: bin length (".concat(ms,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(ms+ws))throw MORE_DATA$1;var Ss=this.pos+ws,Es=this.bytes.subarray(Ss,Ss+ms);return this.pos+=ws+ms,Es},vs.prototype.decodeExtension=function(ms,ws){if(ms>this.maxExtLength)throw new DecodeError$1("Max length exceeded: ext length (".concat(ms,") > maxExtLength (").concat(this.maxExtLength,")"));var Ss=this.view.getInt8(this.pos+ws),Es=this.decodeBinary(ms,ws+1);return this.extensionCodec.decode(Es,Ss,this.context)},vs.prototype.convertNumber=function(ms){return convertSafeIntegerToMode(ms,this.intMode)},vs.prototype.lookU8=function(){return this.view.getUint8(this.pos)},vs.prototype.lookU16=function(){return this.view.getUint16(this.pos)},vs.prototype.lookU32=function(){return this.view.getUint32(this.pos)},vs.prototype.readU8=function(){var ms=this.view.getUint8(this.pos);return this.pos++,ms},vs.prototype.readI8=function(){var ms=this.view.getInt8(this.pos);return this.pos++,ms},vs.prototype.readU16=function(){var ms=this.view.getUint16(this.pos);return this.pos+=2,ms},vs.prototype.readI16=function(){var ms=this.view.getInt16(this.pos);return this.pos+=2,ms},vs.prototype.readU32=function(){var ms=this.view.getUint32(this.pos);return this.pos+=4,ms},vs.prototype.readI32=function(){var ms=this.view.getInt32(this.pos);return this.pos+=4,ms},vs.prototype.readU64=function(){var ms=getUint64$1(this.view,this.pos,this.intMode);return this.pos+=8,ms},vs.prototype.readI64=function(){var ms=getInt64$1(this.view,this.pos,this.intMode);return this.pos+=8,ms},vs.prototype.readF32=function(){var ms=this.view.getFloat32(this.pos);return this.pos+=4,ms},vs.prototype.readF64=function(){var ms=this.view.getFloat64(this.pos);return this.pos+=8,ms},vs}();function decode$5(vs,ms){var ws=new Decoder$2(ms);return ws.decode(vs)}const ERROR_CONTAINS_EMPTY_STRING="The object contains empty or 0 values. First empty or 0 value encountered during encoding: ";function containsEmpty(vs){for(const ms in vs)if(Object.prototype.hasOwnProperty.call(vs,ms)&&(!vs[ms]||vs[ms].length===0))return{containsEmpty:!0,firstEmptyKey:ms};return{containsEmpty:!1,firstEmptyKey:void 0}}function msgpackRawEncode(vs){return encode$3(vs,{sortKeys:!0})}function encodeObj(vs){const ms=containsEmpty(vs);if(ms.containsEmpty)throw new Error(ERROR_CONTAINS_EMPTY_STRING+ms.firstEmptyKey);return msgpackRawEncode(vs)}function intDecodingToIntMode(vs){switch(vs){case IntDecoding$1.UNSAFE:return IntMode.UNSAFE_NUMBER;case IntDecoding$1.SAFE:return IntMode.SAFE_NUMBER;case IntDecoding$1.MIXED:return IntMode.MIXED;case IntDecoding$1.BIGINT:return IntMode.BIGINT;default:throw new Error(`Invalid intDecoding: ${vs}`)}}function msgpackRawDecode(vs,ms){const ws={intMode:ms!=null&&ms.intDecoding?intDecodingToIntMode(ms==null?void 0:ms.intDecoding):IntMode.BIGINT};return decode$5(vs,ws)}function decodeObj(vs){return msgpackRawDecode(vs,{intDecoding:IntDecoding$1.MIXED})}function msgpackRawDecodeAsMap(vs,ms){const ws={intMode:ms!=null&&ms.intDecoding?intDecodingToIntMode(ms==null?void 0:ms.intDecoding):IntMode.BIGINT,useMap:!0};return decode$5(vs,ws)}function msgpackRawDecodeAsMapWithRawStrings(vs,ms){const ws={intMode:IntMode.BIGINT,useMap:!0,rawBinaryStringKeys:!0,rawBinaryStringValues:!0,useRawBinaryStringClass:!0};return decode$5(vs,ws)}function msgpackEncodingDataToJSONEncodingData(vs){if(vs==null)return vs;if(vs instanceof Uint8Array)return bytesToBase64(vs);if(Array.isArray(vs))return vs.map(msgpackEncodingDataToJSONEncodingData);if(vs instanceof Map){const ms={};for(const[ws,Ss]of vs){if(typeof ws!="string")throw new Error(`JSON map key must be a string: ${ws}`);ms[ws]=msgpackEncodingDataToJSONEncodingData(Ss)}return ms}return vs}function jsonEncodingDataToMsgpackEncodingData(vs){if(vs==null||typeof vs=="string"||typeof vs=="number"||typeof vs=="bigint"||typeof vs=="boolean")return vs;if(Array.isArray(vs))return vs.map(jsonEncodingDataToMsgpackEncodingData);if(typeof vs=="object"){const ms=new Map;for(const[ws,Ss]of Object.entries(vs))ms.set(ws,jsonEncodingDataToMsgpackEncodingData(Ss));return ms}throw new Error(`Invalid JSON encoding data: ${vs}`)}var MsgpackObjectPathSegmentKind;(function(vs){vs[vs.MAP_VALUE=0]="MAP_VALUE",vs[vs.ARRAY_ELEMENT=1]="ARRAY_ELEMENT"})(MsgpackObjectPathSegmentKind||(MsgpackObjectPathSegmentKind={}));class MsgpackRawStringProvider{constructor({parent:ms,segment:ws,baseObjectBytes:Ss}){this.resolvedCache=null,this.resolvedCachePresent=!1,this.parent=ms,this.segment=ws,this.baseObjectBytes=Ss}withMapValue(ms){return new MsgpackRawStringProvider({parent:this,segment:{kind:MsgpackObjectPathSegmentKind.MAP_VALUE,key:ms}})}withArrayElement(ms){return new MsgpackRawStringProvider({parent:this,segment:{kind:MsgpackObjectPathSegmentKind.ARRAY_ELEMENT,key:ms}})}getRawStringAtCurrentLocation(){const ms=this.resolve();if(ms instanceof RawBinaryString)return ms.rawBinaryValue;throw new Error(`Invalid type. Expected RawBinaryString, got ${ms} (${typeof ms})`)}getRawStringKeysAndValuesAtCurrentLocation(){const ms=this.resolve();if(!(ms instanceof Map))throw new Error(`Invalid type. Expected Map, got ${ms} (${typeof ms})`);const ws=new Map;for(const[Ss,Es]of ms)if(Ss instanceof RawBinaryString)ws.set(Ss.rawBinaryValue,Es);else throw new Error(`Invalid type for map key. Expected RawBinaryString, got ${Ss} (${typeof Ss})`);return ws}resolve(){if(this.resolvedCachePresent)return this.resolvedCache;let ms;if(this.parent?ms=this.parent.resolve():ms=msgpackRawDecodeAsMapWithRawStrings(this.baseObjectBytes),!this.segment)return this.resolvedCache=ms,this.resolvedCachePresent=!0,ms;if(this.segment.kind===MsgpackObjectPathSegmentKind.MAP_VALUE){if(!(ms instanceof Map))throw new Error(`Invalid type. Expected Map, got ${ms} (${typeof ms})`);if(typeof this.segment.key=="string"||this.segment.key instanceof Uint8Array||this.segment.key instanceof RawBinaryString){const ws=this.segment.key instanceof RawBinaryString?this.segment.key.rawBinaryValue:coerceToBytes(this.segment.key),Ss=typeof this.segment.key=="string"||this.segment.key instanceof RawBinaryString;for(const[Es,_s]of ms){let Is;if(Ss?Es instanceof RawBinaryString&&(Is=Es.rawBinaryValue):Es instanceof Uint8Array&&(Is=Es),Is&&arrayEqual(ws,Is)){this.resolvedCache=_s;break}}}else this.resolvedCache=ms.get(this.segment.key);return this.resolvedCachePresent=!0,this.resolvedCache}if(this.segment.kind===MsgpackObjectPathSegmentKind.ARRAY_ELEMENT){if(!Array.isArray(ms))throw new Error(`Invalid type. Expected Array, got ${ms} (${typeof ms})`);return this.resolvedCache=ms[this.segment.key],this.resolvedCachePresent=!0,this.resolvedCache}throw new Error(`Invalid segment kind: ${this.segment.kind}`)}getPathString(){const ms=this.parent?this.parent.getPathString():"root";return this.segment?this.segment.kind===MsgpackObjectPathSegmentKind.MAP_VALUE?`${ms} -> map key "${this.segment.key}" (${typeof this.segment.key})`:this.segment.kind===MsgpackObjectPathSegmentKind.ARRAY_ELEMENT?`${ms} -> array index ${this.segment.key} (${typeof this.segment.key})`:`${ms} -> unknown segment kind ${this.segment.kind}`:ms}}class Schema{}function decodeMsgpack(vs,ms){const ws=msgpackRawDecodeAsMap(vs),Ss=new MsgpackRawStringProvider({baseObjectBytes:vs});return ms.fromEncodingData(ms.encodingSchema.fromPreparedMsgpack(ws,Ss))}function encodeMsgpack(vs){return msgpackRawEncode(vs.getEncodingSchema().prepareMsgpack(vs.toEncodingData()))}function decodeJSON(vs,ms){const ws=parseJSON(vs,{intDecoding:IntDecoding$1.BIGINT});return ms.fromEncodingData(ms.encodingSchema.fromPreparedJSON(ws))}function encodeJSON(vs,ms){const{space:ws,...Ss}=ms??{},Es=vs.getEncodingSchema().prepareJSON(vs.toEncodingData(),Ss);return stringifyJSON(Es,void 0,ws)}class BooleanSchema extends Schema{defaultValue(){return!1}isDefaultValue(ms){return ms===!1}prepareMsgpack(ms){if(typeof ms=="boolean")return ms;throw new Error("Invalid boolean")}fromPreparedMsgpack(ms,ws){if(typeof ms=="boolean")return ms;throw new Error("Invalid boolean")}prepareJSON(ms,ws){if(typeof ms=="boolean")return ms;throw new Error("Invalid boolean")}fromPreparedJSON(ms){if(typeof ms=="boolean")return ms;throw new Error("Invalid boolean")}}class StringSchema extends Schema{defaultValue(){return""}isDefaultValue(ms){return ms===""}prepareMsgpack(ms){if(typeof ms=="string")return ms;throw new Error(`Invalid string: (${typeof ms}) ${ms}`)}fromPreparedMsgpack(ms,ws){if(typeof ms=="string")return ms;throw new Error(`Invalid string: (${typeof ms}) ${ms}`)}prepareJSON(ms,ws){if(typeof ms=="string")return ms;throw new Error(`Invalid string: (${typeof ms}) ${ms}`)}fromPreparedJSON(ms){if(typeof ms=="string")return ms;throw new Error(`Invalid string: (${typeof ms}) ${ms}`)}}class Uint64Schema extends Schema{defaultValue(){return BigInt(0)}isDefaultValue(ms){return typeof ms=="bigint"?ms===BigInt(0):typeof ms=="number"?ms===0:!1}prepareMsgpack(ms){return ensureUint64(ms)}fromPreparedMsgpack(ms,ws){return ensureUint64(ms)}prepareJSON(ms,ws){return ensureUint64(ms)}fromPreparedJSON(ms){return ensureUint64(ms)}}class AddressSchema extends Schema{defaultValue(){return Address.zeroAddress()}isDefaultValue(ms){return Address.zeroAddress().equals(ms)}prepareMsgpack(ms){if(ms instanceof Address)return ms.publicKey;throw new Error(`Invalid address: (${typeof ms}) ${ms}`)}fromPreparedMsgpack(ms,ws){return new Address(ms)}prepareJSON(ms,ws){if(ms instanceof Address)return ms.toString();throw new Error(`Invalid address: (${typeof ms}) ${ms}`)}fromPreparedJSON(ms){return Address.fromString(ms)}}class ByteArraySchema extends Schema{defaultValue(){return new Uint8Array}isDefaultValue(ms){return ms instanceof Uint8Array&&ms.byteLength===0}prepareMsgpack(ms){if(ms instanceof Uint8Array)return ms;throw new Error(`Invalid byte array: (${typeof ms}) ${ms}`)}fromPreparedMsgpack(ms,ws){if(ms instanceof Uint8Array)return ms;throw new Error(`Invalid byte array: (${typeof ms}) ${ms}`)}prepareJSON(ms,ws){if(ms instanceof Uint8Array)return bytesToBase64(ms);throw new Error(`Invalid byte array: (${typeof ms}) ${ms}`)}fromPreparedJSON(ms){if(ms==null)return this.defaultValue();if(typeof ms=="string")return base64ToBytes(ms);throw new Error(`Invalid byte array: (${typeof ms}) ${ms}`)}}class FixedLengthByteArraySchema extends Schema{constructor(ms){super(),this.length=ms}defaultValue(){return new Uint8Array(this.length)}isDefaultValue(ms){return ms instanceof Uint8Array&&ms.byteLength===this.length&&ms.every(ws=>ws===0)}prepareMsgpack(ms){if(ms instanceof Uint8Array){if(ms.byteLength===this.length)return ms;throw new Error(`Invalid byte array length: wanted ${this.length}, got ${ms.byteLength}`)}throw new Error("Invalid byte array")}fromPreparedMsgpack(ms,ws){if(ms instanceof Uint8Array){if(ms.byteLength===this.length)return ms;throw new Error(`Invalid byte array length: wanted ${this.length}, got ${ms.byteLength}`)}throw new Error("Invalid byte array")}prepareJSON(ms){if(ms instanceof Uint8Array){if(ms.byteLength===this.length)return bytesToBase64(ms);throw new Error(`Invalid byte array length: wanted ${this.length}, got ${ms.byteLength}`)}throw new Error("Invalid byte array")}fromPreparedJSON(ms){if(typeof ms=="string"){const ws=base64ToBytes(ms);if(ws.byteLength===this.length)return ws;throw new Error(`Invalid byte array length: wanted ${this.length}, got ${ws.byteLength}`)}throw new Error("Invalid base64 byte array")}}const blockHashByteLength=32,base32Length=52;class BlockHashSchema extends Schema{defaultValue(){return new Uint8Array(blockHashByteLength)}isDefaultValue(ms){return ms instanceof Uint8Array&&ms.byteLength===blockHashByteLength&&ms.every(ws=>ws===0)}prepareMsgpack(ms){if(ms instanceof Uint8Array&&ms.byteLength===blockHashByteLength)return ms;throw new Error(`Invalid block hash: (${typeof ms}) ${ms}`)}fromPreparedMsgpack(ms,ws){if(ms instanceof Uint8Array&&ms.byteLength===blockHashByteLength)return ms;throw new Error(`Invalid block hash: (${typeof ms}) ${ms}`)}prepareJSON(ms,ws){if(ms instanceof Uint8Array&&ms.byteLength===blockHashByteLength)return`blk-${base32$3.encode(ms).slice(0,base32Length)}`;throw new Error(`Invalid block hash: (${typeof ms}) ${ms}`)}fromPreparedJSON(ms){if(typeof ms=="string"&&ms.length===base32Length+4&&ms.startsWith("blk-"))return Uint8Array.from(base32$3.decode.asBytes(ms.slice(4)));throw new Error(`Invalid block hash: (${typeof ms}) ${ms}`)}}class SpecialCaseBinaryStringSchema extends Schema{defaultValue(){return new Uint8Array}isDefaultValue(ms){return ms instanceof Uint8Array&&ms.byteLength===0}prepareMsgpack(ms){if(ms instanceof Uint8Array)return new RawBinaryString(ms);throw new Error(`Invalid byte array: (${typeof ms}) ${ms}`)}fromPreparedMsgpack(ms,ws){return ws.getRawStringAtCurrentLocation()}prepareJSON(ms,ws){if(ms instanceof Uint8Array){const Ss=bytesToString(ms);if(!ws.lossyBinaryStringConversion&&!arrayEqual(coerceToBytes(Ss),ms))throw new Error(`Invalid UTF-8 byte array encountered. Encode with lossyBinaryStringConversion enabled to bypass this check. Base64 value: ${bytesToBase64(ms)}`);return Ss}throw new Error(`Invalid byte array: (${typeof ms}) ${ms}`)}fromPreparedJSON(ms){if(typeof ms=="string")return coerceToBytes(ms);throw new Error(`Invalid byte array: (${typeof ms}) ${ms}`)}}class ArraySchema extends Schema{constructor(ms){super(),this.itemSchema=ms}defaultValue(){return[]}isDefaultValue(ms){return Array.isArray(ms)&&ms.length===0}prepareMsgpack(ms){if(Array.isArray(ms))return ms.map(ws=>this.itemSchema.prepareMsgpack(ws));throw new Error("ArraySchema data must be an array")}fromPreparedMsgpack(ms,ws){if(Array.isArray(ms))return ms.map((Ss,Es)=>this.itemSchema.fromPreparedMsgpack(Ss,ws.withArrayElement(Es)));throw new Error(`ArraySchema encoded data must be an array: ${ms} (${typeof ms})`)}prepareJSON(ms,ws){if(Array.isArray(ms))return ms.map(Ss=>this.itemSchema.prepareJSON(Ss,ws));throw new Error("ArraySchema data must be an array")}fromPreparedJSON(ms){if(Array.isArray(ms))return ms.map(ws=>this.itemSchema.fromPreparedJSON(ws));throw new Error(`ArraySchema encoded data must be an array: ${ms} (${typeof ms})`)}}function allOmitEmpty(vs){return vs.map(ms=>({...ms,omitEmpty:!0}))}class NamedMapSchema extends Schema{constructor(ms){super(),this.entries=ms,this.checkEntries()}pushEntries(...ms){this.entries.push(...ms),this.checkEntries()}checkEntries(){for(const ws of this.entries)if(ws.embedded){if(ws.key!=="")throw new Error("Embedded entries must have an empty key");if(!(ws.valueSchema instanceof NamedMapSchema))throw new Error("Embedded entry valueSchema must be a NamedMapSchema")}const ms=new Set;for(const ws of this.getEntries()){if(ms.has(ws.key))throw new Error(`Duplicate key: ${ws.key}`);ms.add(ws.key)}}getEntries(){const ms=[];for(const ws of this.entries)if(ws.embedded){const Ss=ws.valueSchema;ms.push(...Ss.getEntries())}else ms.push(ws);return ms}defaultValue(){const ms=new Map;for(const ws of this.getEntries())ms.set(ws.key,ws.valueSchema.defaultValue());return ms}isDefaultValue(ms){if(!(ms instanceof Map))return!1;for(const ws of this.getEntries())if(!ws.valueSchema.isDefaultValue(ms.get(ws.key)))return!1;return!0}prepareMsgpack(ms){if(!(ms instanceof Map))throw new Error(`NamedMapSchema data must be a Map. Got (${typeof ms}) ${ms}`);const ws=new Map;for(const Ss of this.getEntries()){const Es=ms.get(Ss.key);Ss.omitEmpty&&Ss.valueSchema.isDefaultValue(Es)||ws.set(Ss.key,Ss.valueSchema.prepareMsgpack(Es))}return ws}fromPreparedMsgpack(ms,ws){if(!(ms instanceof Map))throw new Error("NamedMapSchema data must be a Map");const Ss=new Map;for(const Es of this.getEntries())if(ms.has(Es.key))Ss.set(Es.key,Es.valueSchema.fromPreparedMsgpack(ms.get(Es.key),ws.withMapValue(Es.key)));else if(Es.omitEmpty)Ss.set(Es.key,Es.valueSchema.defaultValue());else throw new Error(`Missing key: ${Es.key}`);return Ss}prepareJSON(ms,ws){if(!(ms instanceof Map))throw new Error("NamedMapSchema data must be a Map");const Ss={};for(const Es of this.getEntries()){const _s=ms.get(Es.key);Es.omitEmpty&&Es.valueSchema.isDefaultValue(_s)||(Ss[Es.key]=Es.valueSchema.prepareJSON(_s,ws))}return Ss}fromPreparedJSON(ms){if(ms==null||typeof ms!="object"||Array.isArray(ms))throw new Error("NamedMapSchema data must be an object");const ws=new Map;for(const Ss of this.getEntries())if(Object.prototype.hasOwnProperty.call(ms,Ss.key))ws.set(Ss.key,Ss.valueSchema.fromPreparedJSON(ms[Ss.key]));else if(Ss.omitEmpty)ws.set(Ss.key,Ss.valueSchema.defaultValue());else throw new Error(`Missing key: ${Ss.key}`);return ws}}function combineMaps(...vs){const ms=new Map;for(const ws of vs)for(const[Ss,Es]of ws){if(ms.has(Ss))throw new Error(`Duplicate key: ${Ss}`);ms.set(Ss,Es)}return ms}function convertMap(vs,ms){const ws=new Map;for(const[Ss,Es]of vs){const[_s,Is]=ms(Ss,Es);ws.set(_s,Is)}return ws}class Uint64MapSchema extends Schema{constructor(ms){super(),this.valueSchema=ms}defaultValue(){return new Map}isDefaultValue(ms){return ms instanceof Map&&ms.size===0}prepareMsgpack(ms){if(!(ms instanceof Map))throw new Error(`Uint64MapSchema data must be a Map. Got (${typeof ms}) ${ms}`);const ws=new Map;for(const[Ss,Es]of ms){const _s=ensureUint64(Ss);if(ws.has(_s))throw new Error(`Duplicate key: ${_s}`);ws.set(_s,this.valueSchema.prepareMsgpack(Es))}return ws}fromPreparedMsgpack(ms,ws){if(!(ms instanceof Map))throw new Error("Uint64MapSchema data must be a Map");const Ss=new Map;for(const[Es,_s]of ms){const Is=ensureUint64(Es);if(Ss.has(Is))throw new Error(`Duplicate key: ${Is}`);Ss.set(Is,this.valueSchema.fromPreparedMsgpack(_s,ws.withMapValue(Es)))}return Ss}prepareJSON(ms,ws){if(!(ms instanceof Map))throw new Error(`Uint64MapSchema data must be a Map. Got (${typeof ms}) ${ms}`);const Ss=new Map;for(const[_s,Is]of ms){const Ts=ensureUint64(_s);if(Ss.has(Ts))throw new Error(`Duplicate key: ${Ts}`);Ss.set(Ts,this.valueSchema.prepareJSON(Is,ws))}const Es={};for(const[_s,Is]of Ss)Es[_s.toString()]=Is;return Es}fromPreparedJSON(ms){if(ms==null||typeof ms!="object"||Array.isArray(ms))throw new Error("Uint64MapSchema data must be an object");const ws=new Map;for(const[Ss,Es]of Object.entries(ms)){const _s=BigInt(Ss);if(ws.has(_s))throw new Error(`Duplicate key: ${_s}`);ws.set(_s,this.valueSchema.fromPreparedJSON(Es))}return ws}}class ByteArrayMapSchema extends Schema{constructor(ms){super(),this.valueSchema=ms}defaultValue(){return new Map}isDefaultValue(ms){return ms instanceof Map&&ms.size===0}prepareMsgpack(ms){if(!(ms instanceof Map))throw new Error(`ByteArrayMapSchema data must be a Map. Got (${typeof ms}) ${ms}`);const ws=new Map;for(const[Ss,Es]of ms){if(!(Ss instanceof Uint8Array))throw new Error(`Invalid key: ${Ss} (${typeof Ss})`);ws.set(Ss,this.valueSchema.prepareMsgpack(Es))}return ws}fromPreparedMsgpack(ms,ws){if(!(ms instanceof Map))throw new Error("ByteArrayMapSchema data must be a Map");const Ss=new Map;for(const[Es,_s]of ms){if(!(Es instanceof Uint8Array))throw new Error(`Invalid key: ${Es} (${typeof Es})`);Ss.set(Es,this.valueSchema.fromPreparedMsgpack(_s,ws.withMapValue(Es)))}return Ss}prepareJSON(ms,ws){if(!(ms instanceof Map))throw new Error(`ByteArrayMapSchema data must be a Map. Got (${typeof ms}) ${ms}`);const Ss=new Map;for(const[_s,Is]of ms){if(!(_s instanceof Uint8Array))throw new Error(`Invalid key: ${_s} (${typeof _s})`);const Ts=bytesToBase64(_s);if(Ss.has(Ts))throw new Error(`Duplicate key (base64): ${Ts}`);Ss.set(Ts,this.valueSchema.prepareJSON(Is,ws))}const Es={};for(const[_s,Is]of Ss)Es[_s]=Is;return Es}fromPreparedJSON(ms){if(ms==null||typeof ms!="object"||Array.isArray(ms))throw new Error("ByteArrayMapSchema data must be an object");const ws=new Map;for(const[Ss,Es]of Object.entries(ms))ws.set(base64ToBytes(Ss),this.valueSchema.fromPreparedJSON(Es));return ws}}function convertRawStringsInMsgpackValue(vs){if(vs instanceof RawBinaryString)return bytesToString(vs.rawBinaryValue);if(vs instanceof Map){const ms=new Map;for(const[ws,Ss]of vs)ms.set(convertRawStringsInMsgpackValue(ws),convertRawStringsInMsgpackValue(Ss));return ms}return Array.isArray(vs)?vs.map(convertRawStringsInMsgpackValue):vs}class SpecialCaseBinaryStringMapSchema extends Schema{constructor(ms){super(),this.valueSchema=ms}defaultValue(){return new Map}isDefaultValue(ms){return ms instanceof Map&&ms.size===0}prepareMsgpack(ms){if(!(ms instanceof Map))throw new Error(`SpecialCaseBinaryStringMapSchema data must be a Map. Got (${typeof ms}) ${ms}`);const ws=new Map;for(const[Ss,Es]of ms){if(!(Ss instanceof Uint8Array))throw new Error(`Invalid key: ${Ss} (${typeof Ss})`);ws.set(new RawBinaryString(Ss),this.valueSchema.prepareMsgpack(Es))}return ws}fromPreparedMsgpack(ms,ws){const Ss=new Map,Es=ws.getRawStringKeysAndValuesAtCurrentLocation();for(const[_s,Is]of Es)Ss.set(_s,this.valueSchema.fromPreparedMsgpack(convertRawStringsInMsgpackValue(Is),ws.withMapValue(new RawBinaryString(_s))));return Ss}prepareJSON(ms,ws){if(!(ms instanceof Map))throw new Error(`SpecialCaseBinaryStringMapSchema data must be a Map. Got (${typeof ms}) ${ms}`);const Ss=new Map;for(const[_s,Is]of ms){if(!(_s instanceof Uint8Array))throw new Error(`Invalid key: ${_s}`);const Ts=bytesToString(_s);if(!ws.lossyBinaryStringConversion&&!arrayEqual(coerceToBytes(Ts),_s))throw new Error(`Invalid UTF-8 byte array encountered. Encode with lossyBinaryStringConversion enabled to bypass this check. Base64 value: ${bytesToBase64(_s)}`);Ss.set(Ts,this.valueSchema.prepareJSON(Is,ws))}const Es={};for(const[_s,Is]of Ss)Es[_s]=Is;return Es}fromPreparedJSON(ms){if(ms==null||typeof ms!="object"||Array.isArray(ms))throw new Error("SpecialCaseBinaryStringMapSchema data must be an object");const ws=new Map;for(const[Ss,Es]of Object.entries(ms))ws.set(coerceToBytes(Ss),this.valueSchema.fromPreparedJSON(Es));return ws}}class OptionalSchema extends Schema{constructor(ms){super(),this.valueSchema=ms}defaultValue(){}isDefaultValue(ms){return ms===void 0||this.valueSchema.isDefaultValue(ms)}prepareMsgpack(ms){if(ms!==void 0)return this.valueSchema.prepareMsgpack(ms)}fromPreparedMsgpack(ms,ws){if(ms!=null)return this.valueSchema.fromPreparedMsgpack(ms,ws)}prepareJSON(ms,ws){return ms===void 0?null:this.valueSchema.prepareJSON(ms,ws)}fromPreparedJSON(ms){if(ms!=null)return this.valueSchema.fromPreparedJSON(ms)}}class UntypedSchema extends Schema{defaultValue(){}isDefaultValue(ms){return ms===void 0}prepareMsgpack(ms){return ms}fromPreparedMsgpack(ms,ws){return ms}prepareJSON(ms,ws){return msgpackEncodingDataToJSONEncodingData(ms)}fromPreparedJSON(ms){return jsonEncodingDataToMsgpackEncodingData(ms)}}function boxReferenceToEncodingData(vs,ms,ws){const Ss=BigInt(vs.appIndex),Es=vs.name,_s=Ss===BigInt(0)||Ss===ws,Is=ms.indexOf(Ss)+1;if(Is===0&&!_s)throw new Error(`Box ref with appId ${Ss} not in foreign-apps`);return new Map([["i",Is],["n",Es]])}function boxReferencesToEncodingData(vs,ms,ws){const Ss=BigInt(ws),Es=ms.map(BigInt);return vs.map(_s=>boxReferenceToEncodingData(_s,Es,Ss))}var TransactionType;(function(vs){vs.pay="pay",vs.keyreg="keyreg",vs.acfg="acfg",vs.axfer="axfer",vs.afrz="afrz",vs.appl="appl",vs.stpf="stpf",vs.hb="hb"})(TransactionType||(TransactionType={}));function isTransactionType(vs){return vs===TransactionType.pay||vs===TransactionType.keyreg||vs===TransactionType.acfg||vs===TransactionType.axfer||vs===TransactionType.afrz||vs===TransactionType.appl||vs===TransactionType.stpf||vs===TransactionType.hb}var OnApplicationComplete;(function(vs){vs[vs.NoOpOC=0]="NoOpOC",vs[vs.OptInOC=1]="OptInOC",vs[vs.CloseOutOC=2]="CloseOutOC",vs[vs.ClearStateOC=3]="ClearStateOC",vs[vs.UpdateApplicationOC=4]="UpdateApplicationOC",vs[vs.DeleteApplicationOC=5]="DeleteApplicationOC"})(OnApplicationComplete||(OnApplicationComplete={}));function isOnApplicationComplete(vs){return vs===OnApplicationComplete.NoOpOC||vs===OnApplicationComplete.OptInOC||vs===OnApplicationComplete.CloseOutOC||vs===OnApplicationComplete.ClearStateOC||vs===OnApplicationComplete.UpdateApplicationOC||vs===OnApplicationComplete.DeleteApplicationOC}let HashFactory$1=class o1{constructor(ms){this.hashType=ms.hashType}getEncodingSchema(){return o1.encodingSchema}toEncodingData(){return new Map([["t",this.hashType]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded HashFactory: ${ms}`);return new o1({hashType:Number(ms.get("t"))})}};HashFactory$1.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"t",valueSchema:new Uint64Schema}]));let MerkleArrayProof$1=class a1{constructor(ms){this.path=ms.path,this.hashFactory=ms.hashFactory,this.treeDepth=ms.treeDepth}getEncodingSchema(){return a1.encodingSchema}toEncodingData(){return new Map([["pth",this.path],["hsh",this.hashFactory.toEncodingData()],["td",this.treeDepth]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded MerkleArrayProof: ${ms}`);return new a1({path:ms.get("pth"),hashFactory:HashFactory$1.fromEncodingData(ms.get("hsh")),treeDepth:Number(ms.get("td"))})}};MerkleArrayProof$1.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"pth",valueSchema:new ArraySchema(new ByteArraySchema)},{key:"hsh",valueSchema:HashFactory$1.encodingSchema},{key:"td",valueSchema:new Uint64Schema}]));class MerkleSignatureVerifier{constructor(ms){this.commitment=ms.commitment,this.keyLifetime=ms.keyLifetime}getEncodingSchema(){return MerkleSignatureVerifier.encodingSchema}toEncodingData(){return new Map([["cmt",this.commitment],["lf",this.keyLifetime]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded MerkleSignatureVerifier: ${ms}`);return new MerkleSignatureVerifier({commitment:ms.get("cmt"),keyLifetime:ms.get("lf")})}}MerkleSignatureVerifier.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"cmt",valueSchema:new FixedLengthByteArraySchema(64)},{key:"lf",valueSchema:new Uint64Schema}]));class Participant{constructor(ms){this.pk=ms.pk,this.weight=ms.weight}getEncodingSchema(){return Participant.encodingSchema}toEncodingData(){return new Map([["p",this.pk.toEncodingData()],["w",this.weight]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded Participant: ${ms}`);return new Participant({pk:MerkleSignatureVerifier.fromEncodingData(ms.get("p")),weight:ms.get("w")})}}Participant.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"p",valueSchema:MerkleSignatureVerifier.encodingSchema},{key:"w",valueSchema:new Uint64Schema}]));class FalconVerifier{constructor(ms){this.publicKey=ms.publicKey}getEncodingSchema(){return FalconVerifier.encodingSchema}toEncodingData(){return new Map([["k",this.publicKey]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded FalconVerifier: ${ms}`);return new FalconVerifier({publicKey:ms.get("k")})}}FalconVerifier.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"k",valueSchema:new FixedLengthByteArraySchema(1793)}]));class FalconSignatureStruct{constructor(ms){this.signature=ms.signature,this.vectorCommitmentIndex=ms.index,this.proof=ms.proof,this.verifyingKey=ms.verifyingKey}getEncodingSchema(){return FalconSignatureStruct.encodingSchema}toEncodingData(){return new Map([["sig",this.signature],["idx",this.vectorCommitmentIndex],["prf",this.proof.toEncodingData()],["vkey",this.verifyingKey.toEncodingData()]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded FalconSignatureStruct: ${ms}`);return new FalconSignatureStruct({signature:ms.get("sig"),index:ms.get("idx"),proof:MerkleArrayProof$1.fromEncodingData(ms.get("prf")),verifyingKey:FalconVerifier.fromEncodingData(ms.get("vkey"))})}}FalconSignatureStruct.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"sig",valueSchema:new ByteArraySchema},{key:"idx",valueSchema:new Uint64Schema},{key:"prf",valueSchema:MerkleArrayProof$1.encodingSchema},{key:"vkey",valueSchema:FalconVerifier.encodingSchema}]));class SigslotCommit{constructor(ms){this.sig=ms.sig,this.l=ms.l}getEncodingSchema(){return SigslotCommit.encodingSchema}toEncodingData(){return new Map([["s",this.sig.toEncodingData()],["l",this.l]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded SigslotCommit: ${ms}`);return new SigslotCommit({sig:FalconSignatureStruct.fromEncodingData(ms.get("s")),l:ms.get("l")})}}SigslotCommit.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"s",valueSchema:FalconSignatureStruct.encodingSchema},{key:"l",valueSchema:new Uint64Schema}]));class Reveal{constructor(ms){this.sigslot=ms.sigslot,this.participant=ms.participant}getEncodingSchema(){return Reveal.encodingSchema}toEncodingData(){return new Map([["s",this.sigslot.toEncodingData()],["p",this.participant.toEncodingData()]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded Reveal: ${ms}`);return new Reveal({sigslot:SigslotCommit.fromEncodingData(ms.get("s")),participant:Participant.fromEncodingData(ms.get("p"))})}}Reveal.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"s",valueSchema:SigslotCommit.encodingSchema},{key:"p",valueSchema:Participant.encodingSchema}]));let StateProof$2=class c1{constructor(ms){this.sigCommit=ms.sigCommit,this.signedWeight=ms.signedWeight,this.sigProofs=ms.sigProofs,this.partProofs=ms.partProofs,this.merkleSignatureSaltVersion=ms.merkleSignatureSaltVersion,this.reveals=ms.reveals,this.positionsToReveal=ms.positionsToReveal}getEncodingSchema(){return c1.encodingSchema}toEncodingData(){return new Map([["c",this.sigCommit],["w",this.signedWeight],["S",this.sigProofs.toEncodingData()],["P",this.partProofs.toEncodingData()],["v",this.merkleSignatureSaltVersion],["r",convertMap(this.reveals,(ms,ws)=>[ms,ws.toEncodingData()])],["pr",this.positionsToReveal]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded StateProof: ${ms}`);return new c1({sigCommit:ms.get("c"),signedWeight:ms.get("w"),sigProofs:MerkleArrayProof$1.fromEncodingData(ms.get("S")),partProofs:MerkleArrayProof$1.fromEncodingData(ms.get("P")),merkleSignatureSaltVersion:Number(ms.get("v")),reveals:convertMap(ms.get("r"),(ws,Ss)=>[ws,Reveal.fromEncodingData(Ss)]),positionsToReveal:ms.get("pr")})}};StateProof$2.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"c",valueSchema:new ByteArraySchema},{key:"w",valueSchema:new Uint64Schema},{key:"S",valueSchema:MerkleArrayProof$1.encodingSchema},{key:"P",valueSchema:MerkleArrayProof$1.encodingSchema},{key:"v",valueSchema:new Uint64Schema},{key:"r",valueSchema:new Uint64MapSchema(Reveal.encodingSchema)},{key:"pr",valueSchema:new ArraySchema(new Uint64Schema)}]));let StateProofMessage$1=class qm{constructor(ms){this.blockHeadersCommitment=ms.blockHeadersCommitment,this.votersCommitment=ms.votersCommitment,this.lnProvenWeight=ms.lnProvenWeight,this.firstAttestedRound=ms.firstAttestedRound,this.lastAttestedRound=ms.lastAttestedRound}getEncodingSchema(){return qm.encodingSchema}toEncodingData(){return new Map([["b",this.blockHeadersCommitment],["v",this.votersCommitment],["P",this.lnProvenWeight],["f",this.firstAttestedRound],["l",this.lastAttestedRound]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded StateProofMessage: ${ms}`);return new qm({blockHeadersCommitment:ms.get("b"),votersCommitment:ms.get("v"),lnProvenWeight:ms.get("P"),firstAttestedRound:ms.get("f"),lastAttestedRound:ms.get("l")})}static fromMap(ms){return new qm({blockHeadersCommitment:ms.get("b"),votersCommitment:ms.get("v"),lnProvenWeight:ms.get("P"),firstAttestedRound:ms.get("f"),lastAttestedRound:ms.get("l")})}};StateProofMessage$1.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"b",valueSchema:new ByteArraySchema},{key:"v",valueSchema:new ByteArraySchema},{key:"P",valueSchema:new Uint64Schema},{key:"f",valueSchema:new Uint64Schema},{key:"l",valueSchema:new Uint64Schema}]));class HeartbeatProof{constructor(ms){this.sig=ms.sig,this.pk=ms.pk,this.pk2=ms.pk2,this.pk1Sig=ms.pk1Sig,this.pk2Sig=ms.pk2Sig}getEncodingSchema(){return HeartbeatProof.encodingSchema}toEncodingData(){return new Map([["s",this.sig],["p",this.pk],["p2",this.pk2],["p1s",this.pk1Sig],["p2s",this.pk2Sig]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded HeartbeatProof: ${ms}`);return new HeartbeatProof({sig:ms.get("s"),pk:ms.get("p"),pk2:ms.get("p2"),pk1Sig:ms.get("p1s"),pk2Sig:ms.get("p2s")})}}HeartbeatProof.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"s",valueSchema:new FixedLengthByteArraySchema(64)},{key:"p",valueSchema:new FixedLengthByteArraySchema(32)},{key:"p2",valueSchema:new FixedLengthByteArraySchema(32)},{key:"p1s",valueSchema:new FixedLengthByteArraySchema(64)},{key:"p2s",valueSchema:new FixedLengthByteArraySchema(64)}]));class Heartbeat{constructor(ms){this.address=ms.address,this.proof=ms.proof,this.seed=ms.seed,this.voteID=ms.voteID,this.keyDilution=ms.keyDilution}getEncodingSchema(){return Heartbeat.encodingSchema}toEncodingData(){return new Map([["a",this.address],["prf",this.proof.toEncodingData()],["sd",this.seed],["vid",this.voteID],["kd",this.keyDilution]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded Heartbeat: ${ms}`);return new Heartbeat({address:ms.get("a"),proof:HeartbeatProof.fromEncodingData(ms.get("prf")),seed:ms.get("sd"),voteID:ms.get("vid"),keyDilution:ms.get("kd")})}}Heartbeat.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"a",valueSchema:new AddressSchema},{key:"prf",valueSchema:HeartbeatProof.encodingSchema},{key:"sd",valueSchema:new ByteArraySchema},{key:"vid",valueSchema:new FixedLengthByteArraySchema(32)},{key:"kd",valueSchema:new Uint64Schema}]));const ALGORAND_TRANSACTION_LENGTH=52,ALGORAND_TRANSACTION_LEASE_LENGTH=32,NUM_ADDL_BYTES_AFTER_SIGNING=75,ASSET_METADATA_HASH_LENGTH=32,KEYREG_VOTE_KEY_LENGTH=32,KEYREG_SELECTION_KEY_LENGTH=32,KEYREG_STATE_PROOF_KEY_LENGTH=64,ALGORAND_TRANSACTION_GROUP_LENGTH=32;function uint8ArrayIsEmpty(vs){return vs.every(ms=>ms===0)}function getKeyregKey(vs,ms,ws){if(vs==null)return;let Ss;if(vs instanceof Uint8Array&&(Ss=vs),Ss==null||Ss.byteLength!==ws)throw Error(`${ms} must be a ${ws} byte Uint8Array`);return Ss}function ensureAddress(vs){if(vs==null)throw new Error("Address must not be null or undefined");if(typeof vs=="string")return Address.fromString(vs);if(vs instanceof Address)return vs;throw new Error(`Not an address: ${vs}`)}function optionalAddress(vs){if(vs==null)return;let ms;if(vs instanceof Address)ms=vs;else if(typeof vs=="string")ms=Address.fromString(vs);else throw new Error(`Not an address: ${vs}`);if(uint8ArrayIsEmpty(ms.publicKey))throw new Error("Invalid use of the zero address. To omit this value, pass in undefined");return ms}function optionalUint8Array(vs){if(!(typeof vs>"u")){if(vs instanceof Uint8Array)return vs;throw new Error(`Not a Uint8Array: ${vs}`)}}function ensureUint8Array$1(vs){if(vs instanceof Uint8Array)return vs;throw new Error(`Not a Uint8Array: ${vs}`)}function optionalUint64(vs){if(!(typeof vs>"u"))return ensureUint64(vs)}function ensureBoolean(vs){if(vs===!0||vs===!1)return vs;throw new Error(`Not a boolean: ${vs}`)}function ensureArray(vs){if(Array.isArray(vs))return vs.slice();throw new Error(`Not an array: ${vs}`)}function optionalFixedLengthByteArray(vs,ms,ws){const Ss=optionalUint8Array(vs);if(!(typeof Ss>"u")){if(Ss.byteLength!==ms)throw new Error(`${ws} must be ${ms} bytes long, was ${Ss.byteLength}`);if(!uint8ArrayIsEmpty(Ss))return Ss}}function ensureBoxReference(vs){if(vs!=null&&typeof vs=="object"){const{appIndex:ms,name:ws}=vs;return{appIndex:ensureUint64(ms),name:ensureUint8Array$1(ws)}}throw new Error(`Not a box reference: ${vs}`)}const TX_TAG=new TextEncoder().encode("TX");let Transaction$1=class Gm{constructor(ms){if(!isTransactionType(ms.type))throw new Error(`Invalid transaction type: ${ms.type}`);if(this.type=ms.type,this.sender=ensureAddress(ms.sender),this.note=ensureUint8Array$1(ms.note??new Uint8Array),this.lease=optionalFixedLengthByteArray(ms.lease,ALGORAND_TRANSACTION_LEASE_LENGTH,"lease"),this.rekeyTo=optionalAddress(ms.rekeyTo),this.group=void 0,this.firstValid=ensureUint64(ms.suggestedParams.firstValid),this.lastValid=ensureUint64(ms.suggestedParams.lastValid),ms.suggestedParams.genesisID){if(typeof ms.suggestedParams.genesisID!="string")throw new Error("Genesis ID must be a string if present");this.genesisID=ms.suggestedParams.genesisID}this.genesisHash=optionalUint8Array(ms.suggestedParams.genesisHash);const ws=[];if(ms.paymentParams&&ws.push(TransactionType.pay),ms.keyregParams&&ws.push(TransactionType.keyreg),ms.assetConfigParams&&ws.push(TransactionType.acfg),ms.assetTransferParams&&ws.push(TransactionType.axfer),ms.assetFreezeParams&&ws.push(TransactionType.afrz),ms.appCallParams&&ws.push(TransactionType.appl),ms.stateProofParams&&ws.push(TransactionType.stpf),ms.heartbeatParams&&ws.push(TransactionType.hb),ws.length!==1)throw new Error(`Transaction has wrong number of type fields present (${ws.length}): ${ws}`);if(this.type!==ws[0])throw new Error(`Transaction has type ${this.type} but fields present for ${ws[0]}`);if(ms.paymentParams&&(this.payment={receiver:ensureAddress(ms.paymentParams.receiver),amount:ensureUint64(ms.paymentParams.amount),closeRemainderTo:optionalAddress(ms.paymentParams.closeRemainderTo)}),ms.keyregParams){if(this.keyreg={voteKey:getKeyregKey(ms.keyregParams.voteKey,"voteKey",KEYREG_VOTE_KEY_LENGTH),selectionKey:getKeyregKey(ms.keyregParams.selectionKey,"selectionKey",KEYREG_SELECTION_KEY_LENGTH),stateProofKey:getKeyregKey(ms.keyregParams.stateProofKey,"stateProofKey",KEYREG_STATE_PROOF_KEY_LENGTH),voteFirst:optionalUint64(ms.keyregParams.voteFirst),voteLast:optionalUint64(ms.keyregParams.voteLast),voteKeyDilution:optionalUint64(ms.keyregParams.voteKeyDilution),nonParticipation:ensureBoolean(ms.keyregParams.nonParticipation??!1)},this.keyreg.nonParticipation&&(this.keyreg.voteKey||this.keyreg.selectionKey||this.keyreg.stateProofKey||typeof this.keyreg.voteFirst<"u"||typeof this.keyreg.voteLast<"u"||typeof this.keyreg.voteKeyDilution<"u"))throw new Error("nonParticipation is true but participation params are present.");if(!this.keyreg.nonParticipation&&(this.keyreg.voteKey||this.keyreg.selectionKey||this.keyreg.stateProofKey||typeof this.keyreg.voteFirst<"u"||typeof this.keyreg.voteLast<"u"||typeof this.keyreg.voteKeyDilution<"u")&&!(this.keyreg.voteKey&&this.keyreg.selectionKey&&typeof this.keyreg.voteFirst<"u"&&typeof this.keyreg.voteLast<"u"&&typeof this.keyreg.voteKeyDilution<"u"))throw new Error("Online key registration missing at least one of the following fields: voteKey, selectionKey, voteFirst, voteLast, voteKeyDilution")}if(ms.assetConfigParams&&(this.assetConfig={assetIndex:ensureUint64(ms.assetConfigParams.assetIndex??0),total:ensureUint64(ms.assetConfigParams.total??0),decimals:ensureSafeUnsignedInteger(ms.assetConfigParams.decimals??0),defaultFrozen:ensureBoolean(ms.assetConfigParams.defaultFrozen??!1),manager:optionalAddress(ms.assetConfigParams.manager),reserve:optionalAddress(ms.assetConfigParams.reserve),freeze:optionalAddress(ms.assetConfigParams.freeze),clawback:optionalAddress(ms.assetConfigParams.clawback),unitName:ms.assetConfigParams.unitName,assetName:ms.assetConfigParams.assetName,assetURL:ms.assetConfigParams.assetURL,assetMetadataHash:optionalFixedLengthByteArray(ms.assetConfigParams.assetMetadataHash,ASSET_METADATA_HASH_LENGTH,"assetMetadataHash")}),ms.assetTransferParams&&(this.assetTransfer={assetIndex:ensureUint64(ms.assetTransferParams.assetIndex),amount:ensureUint64(ms.assetTransferParams.amount),assetSender:optionalAddress(ms.assetTransferParams.assetSender),receiver:ensureAddress(ms.assetTransferParams.receiver),closeRemainderTo:optionalAddress(ms.assetTransferParams.closeRemainderTo)}),ms.assetFreezeParams&&(this.assetFreeze={assetIndex:ensureUint64(ms.assetFreezeParams.assetIndex),freezeAccount:ensureAddress(ms.assetFreezeParams.freezeTarget),frozen:ensureBoolean(ms.assetFreezeParams.frozen)}),ms.appCallParams){const{onComplete:Es}=ms.appCallParams;if(!isOnApplicationComplete(Es))throw new Error(`Invalid onCompletion value: ${Es}`);this.applicationCall={appIndex:ensureUint64(ms.appCallParams.appIndex),onComplete:Es,numLocalInts:ensureSafeUnsignedInteger(ms.appCallParams.numLocalInts??0),numLocalByteSlices:ensureSafeUnsignedInteger(ms.appCallParams.numLocalByteSlices??0),numGlobalInts:ensureSafeUnsignedInteger(ms.appCallParams.numGlobalInts??0),numGlobalByteSlices:ensureSafeUnsignedInteger(ms.appCallParams.numGlobalByteSlices??0),extraPages:ensureSafeUnsignedInteger(ms.appCallParams.extraPages??0),approvalProgram:ensureUint8Array$1(ms.appCallParams.approvalProgram??new Uint8Array),clearProgram:ensureUint8Array$1(ms.appCallParams.clearProgram??new Uint8Array),appArgs:ensureArray(ms.appCallParams.appArgs??[]).map(ensureUint8Array$1),accounts:ensureArray(ms.appCallParams.accounts??[]).map(ensureAddress),foreignApps:ensureArray(ms.appCallParams.foreignApps??[]).map(ensureUint64),foreignAssets:ensureArray(ms.appCallParams.foreignAssets??[]).map(ensureUint64),boxes:ensureArray(ms.appCallParams.boxes??[]).map(ensureBoxReference)}}if(ms.stateProofParams&&(this.stateProof={stateProofType:ensureSafeUnsignedInteger(ms.stateProofParams.stateProofType??0),stateProof:ms.stateProofParams.stateProof,message:ms.stateProofParams.message}),ms.heartbeatParams&&(this.heartbeat=new Heartbeat({address:ms.heartbeatParams.address,proof:ms.heartbeatParams.proof,seed:ms.heartbeatParams.seed,voteID:ms.heartbeatParams.voteID,keyDilution:ms.heartbeatParams.keyDilution})),this.fee=ensureUint64(ms.suggestedParams.fee),!ensureBoolean(ms.suggestedParams.flatFee??!1)){const Es=ensureUint64(ms.suggestedParams.minFee);this.fee*=BigInt(this.estimateSize()),this.fee<Es&&(this.fee=Es)}}getEncodingSchema(){return Gm.encodingSchema}toEncodingData(){const ms=new Map([["type",this.type],["fv",this.firstValid],["lv",this.lastValid],["snd",this.sender],["gen",this.genesisID],["gh",this.genesisHash],["fee",this.fee],["note",this.note],["lx",this.lease],["rekey",this.rekeyTo],["grp",this.group]]);if(this.payment)return ms.set("amt",this.payment.amount),ms.set("rcv",this.payment.receiver),ms.set("close",this.payment.closeRemainderTo),ms;if(this.keyreg)return ms.set("votekey",this.keyreg.voteKey),ms.set("selkey",this.keyreg.selectionKey),ms.set("sprfkey",this.keyreg.stateProofKey),ms.set("votefst",this.keyreg.voteFirst),ms.set("votelst",this.keyreg.voteLast),ms.set("votekd",this.keyreg.voteKeyDilution),ms.set("nonpart",this.keyreg.nonParticipation),ms;if(this.assetConfig){ms.set("caid",this.assetConfig.assetIndex);const ws=new Map([["t",this.assetConfig.total],["dc",this.assetConfig.decimals],["df",this.assetConfig.defaultFrozen],["m",this.assetConfig.manager],["r",this.assetConfig.reserve],["f",this.assetConfig.freeze],["c",this.assetConfig.clawback],["un",this.assetConfig.unitName],["an",this.assetConfig.assetName],["au",this.assetConfig.assetURL],["am",this.assetConfig.assetMetadataHash]]);return ms.set("apar",ws),ms}if(this.assetTransfer)return ms.set("xaid",this.assetTransfer.assetIndex),ms.set("aamt",this.assetTransfer.amount),ms.set("arcv",this.assetTransfer.receiver),ms.set("aclose",this.assetTransfer.closeRemainderTo),ms.set("asnd",this.assetTransfer.assetSender),ms;if(this.assetFreeze)return ms.set("faid",this.assetFreeze.assetIndex),ms.set("afrz",this.assetFreeze.frozen),ms.set("fadd",this.assetFreeze.freezeAccount),ms;if(this.applicationCall)return ms.set("apid",this.applicationCall.appIndex),ms.set("apan",this.applicationCall.onComplete),ms.set("apaa",this.applicationCall.appArgs),ms.set("apat",this.applicationCall.accounts),ms.set("apas",this.applicationCall.foreignAssets),ms.set("apfa",this.applicationCall.foreignApps),ms.set("apbx",boxReferencesToEncodingData(this.applicationCall.boxes,this.applicationCall.foreignApps,this.applicationCall.appIndex)),ms.set("apap",this.applicationCall.approvalProgram),ms.set("apsu",this.applicationCall.clearProgram),ms.set("apls",new Map([["nui",this.applicationCall.numLocalInts],["nbs",this.applicationCall.numLocalByteSlices]])),ms.set("apgs",new Map([["nui",this.applicationCall.numGlobalInts],["nbs",this.applicationCall.numGlobalByteSlices]])),ms.set("apep",this.applicationCall.extraPages),ms;if(this.stateProof)return ms.set("sptype",this.stateProof.stateProofType),ms.set("sp",this.stateProof.stateProof?this.stateProof.stateProof.toEncodingData():void 0),ms.set("spmsg",this.stateProof.message?this.stateProof.message.toEncodingData():void 0),ms;if(this.heartbeat){const ws=new Heartbeat({address:this.heartbeat.address,proof:this.heartbeat.proof,seed:this.heartbeat.seed,voteID:this.heartbeat.voteID,keyDilution:this.heartbeat.keyDilution});return ms.set("hb",ws.toEncodingData()),ms}throw new Error(`Unexpected transaction type: ${this.type}`)}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded logic sig account: ${ms}`);const ws={minFee:BigInt(0),flatFee:!0,fee:ms.get("fee")??0,firstValid:ms.get("fv")??0,lastValid:ms.get("lv")??0,genesisHash:ms.get("gh"),genesisID:ms.get("gen")},Ss=ms.get("type");if(!isTransactionType(Ss))throw new Error(`Unrecognized transaction type: ${Ss}`);const Es={type:Ss,sender:ms.get("snd")??Address.zeroAddress(),note:ms.get("note"),lease:ms.get("lx"),suggestedParams:ws};if(ms.get("rekey")&&(Es.rekeyTo=ms.get("rekey")),Es.type===TransactionType.pay){const Is={amount:ms.get("amt")??0,receiver:ms.get("rcv")??Address.zeroAddress()};ms.get("close")&&(Is.closeRemainderTo=ms.get("close")),Es.paymentParams=Is}else if(Es.type===TransactionType.keyreg){const Is={voteKey:ms.get("votekey"),selectionKey:ms.get("selkey"),stateProofKey:ms.get("sprfkey"),voteFirst:ms.get("votefst"),voteLast:ms.get("votelst"),voteKeyDilution:ms.get("votekd"),nonParticipation:ms.get("nonpart")};Es.keyregParams=Is}else if(Es.type===TransactionType.acfg){const Is={assetIndex:ms.get("caid")};if(ms.get("apar")){const Ts=ms.get("apar");Is.total=Ts.get("t"),Is.decimals=Ts.get("dc"),Is.defaultFrozen=Ts.get("df"),Is.unitName=Ts.get("un"),Is.assetName=Ts.get("an"),Is.assetURL=Ts.get("au"),Is.assetMetadataHash=Ts.get("am"),Ts.get("m")&&(Is.manager=Ts.get("m")),Ts.get("r")&&(Is.reserve=Ts.get("r")),Ts.get("f")&&(Is.freeze=Ts.get("f")),Ts.get("c")&&(Is.clawback=Ts.get("c"))}Es.assetConfigParams=Is}else if(Es.type===TransactionType.axfer){const Is={assetIndex:ms.get("xaid")??0,amount:ms.get("aamt")??0,receiver:ms.get("arcv")??Address.zeroAddress()};ms.get("aclose")&&(Is.closeRemainderTo=ms.get("aclose")),ms.get("asnd")&&(Is.assetSender=ms.get("asnd")),Es.assetTransferParams=Is}else if(Es.type===TransactionType.afrz){const Is={assetIndex:ms.get("faid")??0,freezeTarget:ms.get("fadd")??Address.zeroAddress(),frozen:ms.get("afrz")??!1};Es.assetFreezeParams=Is}else if(Es.type===TransactionType.appl){const Is={appIndex:ms.get("apid")??0,onComplete:ensureSafeUnsignedInteger(ms.get("apan")??0),appArgs:ms.get("apaa"),accounts:ms.get("apat"),foreignAssets:ms.get("apas"),foreignApps:ms.get("apfa"),approvalProgram:ms.get("apap"),clearProgram:ms.get("apsu"),extraPages:ms.get("apep")},Ts=ms.get("apls");Ts&&(Is.numLocalInts=Ts.get("nui"),Is.numLocalByteSlices=Ts.get("nbs"));const Rs=ms.get("apgs");Rs&&(Is.numGlobalInts=Rs.get("nui"),Is.numGlobalByteSlices=Rs.get("nbs"));const Bs=ms.get("apbx");Bs&&(Is.boxes=Bs.map(Ns=>{const Ws=ensureSafeUnsignedInteger(Ns.get("i")??0),Js=ensureUint8Array$1(Ns.get("n")??new Uint8Array);if(Ws===0)return{appIndex:0,name:Js};if(!Is.foreignApps||Ws>Is.foreignApps.length)throw new Error(`Cannot find foreign app index ${Ws} in ${Is.foreignApps}`);return{appIndex:Is.foreignApps[Ws-1],name:Js}})),Es.appCallParams=Is}else if(Es.type===TransactionType.stpf){const Is={stateProofType:ms.get("sptype"),stateProof:ms.get("sp")?StateProof$2.fromEncodingData(ms.get("sp")):void 0,message:ms.get("spmsg")?StateProofMessage$1.fromEncodingData(ms.get("spmsg")):void 0};Es.stateProofParams=Is}else if(Es.type===TransactionType.hb){const Is=Heartbeat.fromEncodingData(ms.get("hb")),Ts={address:Is.address,proof:Is.proof,seed:Is.seed,voteID:Is.voteID,keyDilution:Is.keyDilution};Es.heartbeatParams=Ts}else{const Is=Es.type;throw new Error(`Unexpected transaction type: ${Is}`)}const _s=new Gm(Es);if(ms.get("grp")){const Is=ensureUint8Array$1(ms.get("grp"));if(Is.byteLength!==ALGORAND_TRANSACTION_GROUP_LENGTH)throw new Error(`Invalid group length: ${Is.byteLength}`);_s.group=Is}return _s}estimateSize(){return this.toByte().length+NUM_ADDL_BYTES_AFTER_SIGNING}bytesToSign(){const ms=this.toByte();return concatArrays$1(TX_TAG,ms)}toByte(){return encodeMsgpack(this)}rawSignTxn(ms){const ws=this.bytesToSign();return sign(ws,ms)}signTxn(ms){const ws=keyPairFromSecretKey(ms),Ss=new Address(ws.publicKey),Es=this.rawSignTxn(ms);return this.attachSignature(Ss,Es)}attachSignature(ms,ws){if(!isValidSignatureLength(ws.length))throw new Error("Invalid signature length");const Ss=new Map([["sig",ws],["txn",this.toEncodingData()]]),Es=ensureAddress(ms);this.sender.equals(Es)||Ss.set("sgnr",Es);const _s=new NamedMapSchema(allOmitEmpty([{key:"txn",valueSchema:Gm.encodingSchema},{key:"sig",valueSchema:new FixedLengthByteArraySchema(64)},{key:"sgnr",valueSchema:new OptionalSchema(new AddressSchema)}]));return msgpackRawEncode(_s.prepareMsgpack(Ss))}rawTxID(){const ms=this.toByte(),ws=concatArrays$1(TX_TAG,ms);return Uint8Array.from(genericHash(ws))}txID(){const ms=this.rawTxID();return base32$3.encode(ms).slice(0,ALGORAND_TRANSACTION_LENGTH)}};Transaction$1.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"type",valueSchema:new StringSchema},{key:"snd",valueSchema:new AddressSchema},{key:"lv",valueSchema:new Uint64Schema},{key:"gen",valueSchema:new OptionalSchema(new StringSchema)},{key:"gh",valueSchema:new OptionalSchema(new FixedLengthByteArraySchema(32))},{key:"fee",valueSchema:new Uint64Schema},{key:"fv",valueSchema:new Uint64Schema},{key:"note",valueSchema:new ByteArraySchema},{key:"lx",valueSchema:new OptionalSchema(new FixedLengthByteArraySchema(32))},{key:"rekey",valueSchema:new OptionalSchema(new AddressSchema)},{key:"grp",valueSchema:new OptionalSchema(new FixedLengthByteArraySchema(32))},{key:"amt",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"rcv",valueSchema:new OptionalSchema(new AddressSchema)},{key:"close",valueSchema:new OptionalSchema(new AddressSchema)},{key:"votekey",valueSchema:new OptionalSchema(new FixedLengthByteArraySchema(32))},{key:"selkey",valueSchema:new OptionalSchema(new FixedLengthByteArraySchema(32))},{key:"sprfkey",valueSchema:new OptionalSchema(new FixedLengthByteArraySchema(64))},{key:"votefst",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"votelst",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"votekd",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"nonpart",valueSchema:new OptionalSchema(new BooleanSchema)},{key:"caid",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"apar",valueSchema:new OptionalSchema(new NamedMapSchema(allOmitEmpty([{key:"t",valueSchema:new Uint64Schema},{key:"dc",valueSchema:new Uint64Schema},{key:"df",valueSchema:new BooleanSchema},{key:"m",valueSchema:new OptionalSchema(new AddressSchema)},{key:"r",valueSchema:new OptionalSchema(new AddressSchema)},{key:"f",valueSchema:new OptionalSchema(new AddressSchema)},{key:"c",valueSchema:new OptionalSchema(new AddressSchema)},{key:"un",valueSchema:new OptionalSchema(new StringSchema)},{key:"an",valueSchema:new OptionalSchema(new StringSchema)},{key:"au",valueSchema:new OptionalSchema(new StringSchema)},{key:"am",valueSchema:new OptionalSchema(new FixedLengthByteArraySchema(32))}])))},{key:"xaid",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"aamt",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"arcv",valueSchema:new OptionalSchema(new AddressSchema)},{key:"aclose",valueSchema:new OptionalSchema(new AddressSchema)},{key:"asnd",valueSchema:new OptionalSchema(new AddressSchema)},{key:"faid",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"afrz",valueSchema:new OptionalSchema(new BooleanSchema)},{key:"fadd",valueSchema:new OptionalSchema(new AddressSchema)},{key:"apid",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"apan",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"apaa",valueSchema:new OptionalSchema(new ArraySchema(new ByteArraySchema))},{key:"apat",valueSchema:new OptionalSchema(new ArraySchema(new AddressSchema))},{key:"apas",valueSchema:new OptionalSchema(new ArraySchema(new Uint64Schema))},{key:"apfa",valueSchema:new OptionalSchema(new ArraySchema(new Uint64Schema))},{key:"apbx",valueSchema:new OptionalSchema(new ArraySchema(new NamedMapSchema(allOmitEmpty([{key:"i",valueSchema:new Uint64Schema},{key:"n",valueSchema:new ByteArraySchema}]))))},{key:"apap",valueSchema:new OptionalSchema(new ByteArraySchema)},{key:"apsu",valueSchema:new OptionalSchema(new ByteArraySchema)},{key:"apls",valueSchema:new OptionalSchema(new NamedMapSchema(allOmitEmpty([{key:"nui",valueSchema:new Uint64Schema},{key:"nbs",valueSchema:new Uint64Schema}])))},{key:"apgs",valueSchema:new OptionalSchema(new NamedMapSchema(allOmitEmpty([{key:"nui",valueSchema:new Uint64Schema},{key:"nbs",valueSchema:new Uint64Schema}])))},{key:"apep",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"sptype",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"sp",valueSchema:new OptionalSchema(StateProof$2.encodingSchema)},{key:"spmsg",valueSchema:new OptionalSchema(StateProofMessage$1.encodingSchema)},{key:"hb",valueSchema:new OptionalSchema(Heartbeat.encodingSchema)}]));function encodeUnsignedTransaction(vs){return encodeMsgpack(vs)}function decodeUnsignedTransaction(vs){return decodeMsgpack(vs,Transaction$1)}const MULTISIG_PREIMG2ADDR_PREFIX=new Uint8Array([77,117,108,116,105,115,105,103,65,100,100,114]),INVALID_MSIG_VERSION_ERROR_MSG="invalid multisig version",INVALID_MSIG_THRESHOLD_ERROR_MSG="bad multisig threshold",INVALID_MSIG_PK_ERROR_MSG="bad multisig public key - wrong length",UNEXPECTED_PK_LEN_ERROR_MSG="nacl public key length is not 32 bytes";function pksFromAddresses(vs){return vs.map(ms=>typeof ms=="string"?Address.fromString(ms).publicKey:ms.publicKey)}function addressFromMultisigPreImg({version:vs,threshold:ms,pks:ws}){if(vs!==1||vs>255||vs<0)throw new Error(INVALID_MSIG_VERSION_ERROR_MSG);if(ms===0||ws.length===0||ms>ws.length||ms>255)throw new Error(INVALID_MSIG_THRESHOLD_ERROR_MSG);const Ss=ALGORAND_ADDRESS_BYTE_LENGTH-ALGORAND_CHECKSUM_BYTE_LENGTH;if(Ss!==PUBLIC_KEY_LENGTH)throw new Error(UNEXPECTED_PK_LEN_ERROR_MSG);const Es=new Uint8Array(MULTISIG_PREIMG2ADDR_PREFIX.length+2+Ss*ws.length);Es.set(MULTISIG_PREIMG2ADDR_PREFIX,0),Es.set([vs],MULTISIG_PREIMG2ADDR_PREFIX.length),Es.set([ms],MULTISIG_PREIMG2ADDR_PREFIX.length+1);for(let _s=0;_s<ws.length;_s++){if(ws[_s].length!==Ss)throw new Error(INVALID_MSIG_PK_ERROR_MSG);Es.set(ws[_s],MULTISIG_PREIMG2ADDR_PREFIX.length+2+_s*Ss)}return new Address(Uint8Array.from(genericHash(Es)))}function addressFromMultisigPreImgAddrs({version:vs,threshold:ms,addrs:ws}){const Ss=pksFromAddresses(ws);return addressFromMultisigPreImg({version:vs,threshold:ms,pks:Ss})}function verifyMultisig(vs,ms,ws){const Ss=ms.v,Es=ms.thr,_s=ms.subsig,Is=_s.map(Ns=>Ns.pk);if(ms.subsig.length<Es)return!1;let Ts;try{Ts=addressFromMultisigPreImg({version:Ss,threshold:Es,pks:Is}).publicKey}catch{return!1}if(!arrayEqual(Ts,ws))return!1;let Rs=0;for(const Ns of _s)Ns.s!==void 0&&(Rs+=1);if(Rs<Es)return!1;let Bs=0;for(const Ns of _s)Ns.s!==void 0&&verify(vs,Ns.s,Ns.pk)&&(Bs+=1);return!(Bs<Es)}function multisigAddress({version:vs,threshold:ms,addrs:ws}){return addressFromMultisigPreImgAddrs({version:vs,threshold:ms,addrs:ws})}const ENCODED_SUBSIG_SCHEMA=new NamedMapSchema(allOmitEmpty([{key:"pk",valueSchema:new FixedLengthByteArraySchema(32)},{key:"s",valueSchema:new OptionalSchema(new FixedLengthByteArraySchema(64))}]));function encodedSubsigFromEncodingData(vs){if(!(vs instanceof Map))throw new Error(`Invalid decoded EncodedSubsig: ${vs}`);const ms={pk:vs.get("pk")};return vs.get("s")&&(ms.s=vs.get("s")),ms}function encodedSubsigToEncodingData(vs){const ms=new Map([["pk",vs.pk]]);return vs.s&&ms.set("s",vs.s),ms}const ENCODED_MULTISIG_SCHEMA=new NamedMapSchema(allOmitEmpty([{key:"v",valueSchema:new Uint64Schema},{key:"thr",valueSchema:new Uint64Schema},{key:"subsig",valueSchema:new ArraySchema(ENCODED_SUBSIG_SCHEMA)}]));function encodedMultiSigFromEncodingData(vs){if(!(vs instanceof Map))throw new Error(`Invalid decoded EncodedMultiSig: ${vs}`);return{v:ensureSafeUnsignedInteger(vs.get("v")),thr:ensureSafeUnsignedInteger(vs.get("thr")),subsig:vs.get("subsig").map(encodedSubsigFromEncodingData)}}function encodedMultiSigToEncodingData(vs){return new Map([["v",vs.v],["thr",vs.thr],["subsig",vs.subsig.map(encodedSubsigToEncodingData)]])}const base64regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;function sanityCheckProgram(vs){if(!vs||vs.length===0)throw new Error("empty program");const ms=10,ws=32,Ss=126,Es=Is=>ws<=Is&&Is<=Ss;if(vs.every(Is=>Is===ms||Es(Is))){const Is=new TextDecoder().decode(vs);throw isValidAddress$1(Is)?new Error("requesting program bytes, get Algorand address"):base64regex.test(Is)?new Error("program should not be b64 encoded"):new Error("program bytes are all ASCII printable characters, not looking like Teal byte code")}}const programTag=new TextEncoder().encode("Program");class LogicSig{constructor(ms,ws){if(ws&&(!Array.isArray(ws)||!ws.every(Es=>Es.constructor===Uint8Array)))throw new TypeError("Invalid arguments");let Ss=[];ws!=null&&(Ss=ws.map(Es=>new Uint8Array(Es))),sanityCheckProgram(ms),this.logic=ms,this.args=Ss,this.sig=void 0,this.msig=void 0}getEncodingSchema(){return LogicSig.encodingSchema}toEncodingData(){const ms=new Map([["l",this.logic],["arg",this.args],["sig",this.sig]]);return this.msig&&ms.set("msig",encodedMultiSigToEncodingData(this.msig)),ms}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded logic sig: ${ms}`);const ws=new LogicSig(ms.get("l"),ms.get("arg"));return ws.sig=ms.get("sig"),ms.get("msig")&&(ws.msig=encodedMultiSigFromEncodingData(ms.get("msig"))),ws}verify(ms){if(this.sig&&this.msig)return!1;try{sanityCheckProgram(this.logic)}catch{return!1}const ws=concatArrays$1(programTag,this.logic);if(!this.sig&&!this.msig){const Ss=genericHash(ws);return arrayEqual(Ss,ms)}return this.sig?verify(ws,this.sig,ms):verifyMultisig(ws,this.msig,ms)}address(){const ms=concatArrays$1(programTag,this.logic),ws=genericHash(ms);return new Address(Uint8Array.from(ws))}sign(ms,ws){if(ws==null)this.sig=this.signProgram(ms);else{const Ss=pksFromAddresses(ws.addrs).map(Is=>({pk:Is}));this.msig={v:ws.version,thr:ws.threshold,subsig:Ss};const[Es,_s]=this.singleSignMultisig(ms,this.msig);this.msig.subsig[_s].s=Es}}appendToMultisig(ms){if(this.msig===void 0)throw new Error("no multisig present");const[ws,Ss]=this.singleSignMultisig(ms,this.msig);this.msig.subsig[Ss].s=ws}signProgram(ms){const ws=concatArrays$1(programTag,this.logic);return sign(ws,ms)}singleSignMultisig(ms,ws){let Ss=-1;const Es=keyPairFromSecretKey(ms).publicKey;for(let Is=0;Is<ws.subsig.length;Is++){const{pk:Ts}=ws.subsig[Is];if(arrayEqual(Ts,Es)){Ss=Is;break}}if(Ss===-1)throw new Error("invalid secret key");return[this.signProgram(ms),Ss]}toByte(){return encodeMsgpack(this)}static fromByte(ms){return decodeMsgpack(ms,LogicSig)}}LogicSig.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"l",valueSchema:new ByteArraySchema},{key:"arg",valueSchema:new ArraySchema(new ByteArraySchema)},{key:"sig",valueSchema:new OptionalSchema(new FixedLengthByteArraySchema(64))},{key:"msig",valueSchema:new OptionalSchema(ENCODED_MULTISIG_SCHEMA)}]));class LogicSigAccount{constructor(ms,ws){this.lsig=new LogicSig(ms,ws),this.sigkey=void 0}getEncodingSchema(){return LogicSigAccount.encodingSchema}toEncodingData(){return new Map([["lsig",this.lsig.toEncodingData()],["sigkey",this.sigkey]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded logic sig account: ${ms}`);const ws=ms,Ss=LogicSig.fromEncodingData(ws.get("lsig")),Es=new LogicSigAccount(Ss.logic,Ss.args);return Es.lsig=Ss,Es.sigkey=ws.get("sigkey"),Es}toByte(){return encodeMsgpack(this)}static fromByte(ms){return decodeMsgpack(ms,LogicSigAccount)}isDelegated(){return!!(this.lsig.sig||this.lsig.msig)}verify(){const ms=this.address();return this.lsig.verify(ms.publicKey)}address(){if(this.lsig.sig&&this.lsig.msig)throw new Error("LogicSig has too many signatures. At most one of sig or msig may be present");if(this.lsig.sig){if(!this.sigkey)throw new Error("Signing key for delegated account is missing");return new Address(this.sigkey)}if(this.lsig.msig){const ms={version:this.lsig.msig.v,threshold:this.lsig.msig.thr,pks:this.lsig.msig.subsig.map(ws=>ws.pk)};return addressFromMultisigPreImg(ms)}return this.lsig.address()}signMultisig(ms,ws){this.lsig.sign(ws,ms)}appendToMultisig(ms){this.lsig.appendToMultisig(ms)}sign(ms){this.lsig.sign(ms),this.sigkey=keyPairFromSecretKey(ms).publicKey}}LogicSigAccount.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"lsig",valueSchema:LogicSig.encodingSchema},{key:"sigkey",valueSchema:new OptionalSchema(new FixedLengthByteArraySchema(32))}]));function logicSigFromByte(vs){return decodeMsgpack(vs,LogicSig)}const SIGN_PROGRAM_DATA_PREFIX=new TextEncoder().encode("ProgData");function tealSign(vs,ms,ws){const Ss=typeof ws=="string"?Address.fromString(ws):ws,Es=concatArrays$1(Ss.publicKey,ms),_s=concatArrays$1(SIGN_PROGRAM_DATA_PREFIX,Es);return sign(_s,vs)}function verifyTealSign(vs,ms,ws,Ss){const Es=typeof ms=="string"?Address.fromString(ms):ms,_s=concatArrays$1(Es.publicKey,vs),Is=concatArrays$1(SIGN_PROGRAM_DATA_PREFIX,_s);return verify(Is,ws,Ss)}function tealSignFromProgram(vs,ms,ws){const Es=new LogicSig(ws).address();return tealSign(vs,ms,Es)}class SignedTransaction{constructor({txn:ms,sig:ws,msig:Ss,lsig:Es,sgnr:_s}){this.txn=ms,this.sig=ws,this.msig=Ss,this.lsig=Es,this.sgnr=_s;let Is=0;if(ws&&(Is+=1),Ss&&(Is+=1),Es&&(Is+=1),Is>1)throw new Error(`SignedTransaction must not have more than 1 signature. Got ${Is}`)}getEncodingSchema(){return SignedTransaction.encodingSchema}toEncodingData(){return new Map([["txn",this.txn.toEncodingData()],["sig",this.sig],["msig",this.msig?encodedMultiSigToEncodingData(this.msig):void 0],["lsig",this.lsig?this.lsig.toEncodingData():void 0],["sgnr",this.sgnr]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded SignedTransaction: ${ms}`);return new SignedTransaction({txn:Transaction$1.fromEncodingData(ms.get("txn")),sig:ms.get("sig"),msig:ms.get("msig")?encodedMultiSigFromEncodingData(ms.get("msig")):void 0,lsig:ms.get("lsig")?LogicSig.fromEncodingData(ms.get("lsig")):void 0,sgnr:ms.get("sgnr")})}}SignedTransaction.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"txn",valueSchema:Transaction$1.encodingSchema},{key:"sig",valueSchema:new OptionalSchema(new FixedLengthByteArraySchema(64))},{key:"msig",valueSchema:new OptionalSchema(ENCODED_MULTISIG_SCHEMA)},{key:"lsig",valueSchema:new OptionalSchema(LogicSig.encodingSchema)},{key:"sgnr",valueSchema:new OptionalSchema(new AddressSchema)}]));function decodeSignedTransaction(vs){return decodeMsgpack(vs,SignedTransaction)}function encodeUnsignedSimulateTransaction(vs){const ms=new SignedTransaction({txn:vs});return encodeMsgpack(ms)}class StateProofTrackingData{constructor(ms){this.stateProofVotersCommitment=ms.stateProofVotersCommitment,this.stateProofOnlineTotalWeight=ms.stateProofOnlineTotalWeight,this.stateProofNextRound=ms.stateProofNextRound}getEncodingSchema(){return StateProofTrackingData.encodingSchema}toEncodingData(){return new Map([["v",this.stateProofVotersCommitment],["t",this.stateProofOnlineTotalWeight],["n",this.stateProofNextRound]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded StateProofTrackingData: ${ms}`);return new StateProofTrackingData({stateProofVotersCommitment:ms.get("v"),stateProofOnlineTotalWeight:ms.get("t"),stateProofNextRound:ms.get("n")})}}StateProofTrackingData.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"v",valueSchema:new ByteArraySchema},{key:"t",valueSchema:new Uint64Schema},{key:"n",valueSchema:new Uint64Schema}]));class TxnCommitments{constructor(ms){this.nativeSha512_256Commitment=ms.nativeSha512_256Commitment,this.sha256Commitment=ms.sha256Commitment}getEncodingSchema(){return TxnCommitments.encodingSchema}toEncodingData(){return new Map([["txn",this.nativeSha512_256Commitment],["txn256",this.sha256Commitment]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded TxnCommitments: ${ms}`);return new TxnCommitments({nativeSha512_256Commitment:ms.get("txn"),sha256Commitment:ms.get("txn256")})}}TxnCommitments.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"txn",valueSchema:new FixedLengthByteArraySchema(32)},{key:"txn256",valueSchema:new FixedLengthByteArraySchema(32)}]));class RewardState{constructor(ms){this.feeSink=ms.feeSink,this.rewardsPool=ms.rewardsPool,this.rewardsLevel=ms.rewardsLevel,this.rewardsRate=ms.rewardsRate,this.rewardsResidue=ms.rewardsResidue,this.rewardsRecalculationRound=ms.rewardsRecalculationRound}getEncodingSchema(){return RewardState.encodingSchema}toEncodingData(){return new Map([["fees",this.feeSink],["rwd",this.rewardsPool],["earn",this.rewardsLevel],["rate",this.rewardsRate],["frac",this.rewardsResidue],["rwcalr",this.rewardsRecalculationRound]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded RewardState: ${ms}`);return new RewardState({feeSink:ms.get("fees"),rewardsPool:ms.get("rwd"),rewardsLevel:ms.get("earn"),rewardsRate:ms.get("rate"),rewardsResidue:ms.get("frac"),rewardsRecalculationRound:ms.get("rwcalr")})}}RewardState.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"fees",valueSchema:new AddressSchema},{key:"rwd",valueSchema:new AddressSchema},{key:"earn",valueSchema:new Uint64Schema},{key:"rate",valueSchema:new Uint64Schema},{key:"frac",valueSchema:new Uint64Schema},{key:"rwcalr",valueSchema:new Uint64Schema}]));class UpgradeState{constructor(ms){this.currentProtocol=ms.currentProtocol,this.nextProtocol=ms.nextProtocol,this.nextProtocolApprovals=ms.nextProtocolApprovals,this.nextProtocolVoteBefore=ms.nextProtocolVoteBefore,this.nextProtocolSwitchOn=ms.nextProtocolSwitchOn}getEncodingSchema(){return UpgradeState.encodingSchema}toEncodingData(){return new Map([["proto",this.currentProtocol],["nextproto",this.nextProtocol],["nextyes",this.nextProtocolApprovals],["nextbefore",this.nextProtocolVoteBefore],["nextswitch",this.nextProtocolSwitchOn]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded UpgradeState: ${ms}`);return new UpgradeState({currentProtocol:ms.get("proto"),nextProtocol:ms.get("nextproto"),nextProtocolApprovals:ms.get("nextyes"),nextProtocolVoteBefore:ms.get("nextbefore"),nextProtocolSwitchOn:ms.get("nextswitch")})}}UpgradeState.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"proto",valueSchema:new StringSchema},{key:"nextproto",valueSchema:new StringSchema},{key:"nextyes",valueSchema:new Uint64Schema},{key:"nextbefore",valueSchema:new Uint64Schema},{key:"nextswitch",valueSchema:new Uint64Schema}]));class UpgradeVote{constructor(ms){this.upgradePropose=ms.upgradePropose,this.upgradeDelay=ms.upgradeDelay,this.upgradeApprove=ms.upgradeApprove}getEncodingSchema(){return UpgradeVote.encodingSchema}toEncodingData(){return new Map([["upgradeprop",this.upgradePropose],["upgradedelay",this.upgradeDelay],["upgradeyes",this.upgradeApprove]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded UpgradeVote: ${ms}`);return new UpgradeVote({upgradePropose:ms.get("upgradeprop"),upgradeDelay:ms.get("upgradedelay"),upgradeApprove:ms.get("upgradeyes")})}}UpgradeVote.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"upgradeprop",valueSchema:new StringSchema},{key:"upgradedelay",valueSchema:new Uint64Schema},{key:"upgradeyes",valueSchema:new BooleanSchema}]));let ParticipationUpdates$1=class l1{constructor(ms){this.expiredParticipationAccounts=ms.expiredParticipationAccounts,this.absentParticipationAccounts=ms.absentParticipationAccounts}getEncodingSchema(){return l1.encodingSchema}toEncodingData(){return new Map([["partupdrmv",this.expiredParticipationAccounts],["partupdabs",this.absentParticipationAccounts]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded ParticipationUpdates: ${ms}`);return new l1({expiredParticipationAccounts:ms.get("partupdrmv"),absentParticipationAccounts:ms.get("partupdabs")})}};ParticipationUpdates$1.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"partupdrmv",valueSchema:new ArraySchema(new AddressSchema)},{key:"partupdabs",valueSchema:new ArraySchema(new AddressSchema)}]));class BlockHeader{constructor(ms){this.round=ms.round,this.branch=ms.branch,this.seed=ms.seed,this.txnCommitments=ms.txnCommitments,this.timestamp=ms.timestamp,this.genesisID=ms.genesisID,this.genesisHash=ms.genesisHash,this.proposer=ms.proposer,this.feesCollected=ms.feesCollected,this.bonus=ms.bonus,this.proposerPayout=ms.proposerPayout,this.rewardState=ms.rewardState,this.upgradeState=ms.upgradeState,this.upgradeVote=ms.upgradeVote,this.txnCounter=ms.txnCounter,this.stateproofTracking=ms.stateproofTracking,this.participationUpdates=ms.participationUpdates}getEncodingSchema(){return BlockHeader.encodingSchema}toEncodingData(){const ms=new Map([["rnd",this.round],["prev",this.branch],["seed",this.seed],["ts",this.timestamp],["gen",this.genesisID],["gh",this.genesisHash],["prp",this.proposer],["fc",this.feesCollected],["bi",this.bonus],["pp",this.proposerPayout],["tc",this.txnCounter],["spt",convertMap(this.stateproofTracking,(ws,Ss)=>[ws,Ss.toEncodingData()])]]);return combineMaps(ms,this.txnCommitments.toEncodingData(),this.rewardState.toEncodingData(),this.upgradeState.toEncodingData(),this.upgradeVote.toEncodingData(),this.participationUpdates.toEncodingData())}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded BlockHeader: ${ms}`);return new BlockHeader({round:ms.get("rnd"),branch:ms.get("prev"),seed:ms.get("seed"),txnCommitments:TxnCommitments.fromEncodingData(ms),timestamp:ms.get("ts"),genesisID:ms.get("gen"),genesisHash:ms.get("gh"),proposer:ms.get("prp"),feesCollected:ms.get("fc"),bonus:ms.get("bi"),proposerPayout:ms.get("pp"),rewardState:RewardState.fromEncodingData(ms),upgradeState:UpgradeState.fromEncodingData(ms),upgradeVote:UpgradeVote.fromEncodingData(ms),txnCounter:ms.get("tc"),stateproofTracking:convertMap(ms.get("spt"),(ws,Ss)=>[Number(ws),StateProofTrackingData.fromEncodingData(Ss)]),participationUpdates:ParticipationUpdates$1.fromEncodingData(ms)})}}BlockHeader.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"rnd",valueSchema:new Uint64Schema},{key:"prev",valueSchema:new BlockHashSchema},{key:"seed",valueSchema:new ByteArraySchema},{key:"",valueSchema:TxnCommitments.encodingSchema,embedded:!0},{key:"ts",valueSchema:new Uint64Schema},{key:"gen",valueSchema:new StringSchema},{key:"gh",valueSchema:new FixedLengthByteArraySchema(32)},{key:"prp",valueSchema:new AddressSchema},{key:"fc",valueSchema:new Uint64Schema},{key:"bi",valueSchema:new Uint64Schema},{key:"pp",valueSchema:new Uint64Schema},{key:"",valueSchema:RewardState.encodingSchema,embedded:!0},{key:"",valueSchema:UpgradeState.encodingSchema,embedded:!0},{key:"",valueSchema:UpgradeVote.encodingSchema,embedded:!0},{key:"tc",valueSchema:new Uint64Schema},{key:"spt",valueSchema:new Uint64MapSchema(StateProofTrackingData.encodingSchema)},{key:"",valueSchema:ParticipationUpdates$1.encodingSchema,embedded:!0}]));class ValueDelta{constructor(ms){this.action=ms.action,this.bytes=ms.bytes,this.uint=ms.uint}getEncodingSchema(){return ValueDelta.encodingSchema}toEncodingData(){return new Map([["at",this.action],["bs",this.bytes],["ui",this.uint]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded ValueDelta: ${ms}`);return new ValueDelta({action:Number(ms.get("at")),bytes:ms.get("bs"),uint:ms.get("ui")})}}ValueDelta.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"at",valueSchema:new Uint64Schema},{key:"bs",valueSchema:new SpecialCaseBinaryStringSchema},{key:"ui",valueSchema:new Uint64Schema}]));let EvalDelta$2=class h1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries(...allOmitEmpty([{key:"gd",valueSchema:new OptionalSchema(new SpecialCaseBinaryStringMapSchema(ValueDelta.encodingSchema))},{key:"ld",valueSchema:new OptionalSchema(new Uint64MapSchema(new SpecialCaseBinaryStringMapSchema(ValueDelta.encodingSchema)))},{key:"sa",valueSchema:new OptionalSchema(new ArraySchema(new AddressSchema))},{key:"lg",valueSchema:new OptionalSchema(new ArraySchema(new SpecialCaseBinaryStringSchema))},{key:"itx",valueSchema:new OptionalSchema(new ArraySchema(SignedTxnWithAD.encodingSchema))}]))),this.encodingSchemaValue}constructor(ms){this.globalDelta=ms.globalDelta??new Map,this.localDeltas=ms.localDeltas??new Map,this.sharedAccts=ms.sharedAccts??[],this.logs=ms.logs??[],this.innerTxns=ms.innerTxns??[]}getEncodingSchema(){return h1.encodingSchema}toEncodingData(){return new Map([["gd",convertMap(this.globalDelta,(ms,ws)=>[ms,ws.toEncodingData()])],["ld",convertMap(this.localDeltas,(ms,ws)=>[ms,convertMap(ws,(Ss,Es)=>[Ss,Es.toEncodingData()])])],["sa",this.sharedAccts],["lg",this.logs],["itx",this.innerTxns.map(ms=>ms.toEncodingData())]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded EvalDelta: ${ms}`);return new h1({globalDelta:ms.get("gd")?convertMap(ms.get("gd"),(ws,Ss)=>[ws,ValueDelta.fromEncodingData(Ss)]):void 0,localDeltas:ms.get("ld")?convertMap(ms.get("ld"),(ws,Ss)=>[Number(ws),convertMap(Ss,(Es,_s)=>[Es,ValueDelta.fromEncodingData(_s)])]):void 0,sharedAccts:ms.get("sa"),logs:ms.get("lg"),innerTxns:(ms.get("itx")??[]).map(SignedTxnWithAD.fromEncodingData)})}};class ApplyData{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries(...allOmitEmpty([{key:"ca",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"aca",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"rs",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"rr",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"rc",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"dt",valueSchema:new OptionalSchema(EvalDelta$2.encodingSchema)},{key:"caid",valueSchema:new OptionalSchema(new Uint64Schema)},{key:"apid",valueSchema:new OptionalSchema(new Uint64Schema)}]))),this.encodingSchemaValue}constructor(ms){this.closingAmount=ms.closingAmount,this.assetClosingAmount=ms.assetClosingAmount,this.senderRewards=ms.senderRewards,this.receiverRewards=ms.receiverRewards,this.closeRewards=ms.closeRewards,this.evalDelta=ms.evalDelta,this.configAsset=ms.configAsset,this.applicationID=ms.applicationID}getEncodingSchema(){return ApplyData.encodingSchema}toEncodingData(){return new Map([["ca",this.closingAmount],["aca",this.assetClosingAmount],["rs",this.senderRewards],["rr",this.receiverRewards],["rc",this.closeRewards],["dt",this.evalDelta?this.evalDelta.toEncodingData():void 0],["caid",this.configAsset],["apid",this.applicationID]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded ApplyData: ${ms}`);return new ApplyData({closingAmount:ms.get("ca"),assetClosingAmount:ms.get("aca"),senderRewards:ms.get("rs"),receiverRewards:ms.get("rr"),closeRewards:ms.get("rc"),evalDelta:ms.get("dt")?EvalDelta$2.fromEncodingData(ms.get("dt")):void 0,configAsset:ms.get("caid"),applicationID:ms.get("apid")})}}class SignedTxnWithAD{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries(...allOmitEmpty([{key:"",valueSchema:SignedTransaction.encodingSchema,embedded:!0},{key:"",valueSchema:ApplyData.encodingSchema,embedded:!0}]))),this.encodingSchemaValue}constructor(ms){this.signedTxn=ms.signedTxn,this.applyData=ms.applyData}getEncodingSchema(){return SignedTxnWithAD.encodingSchema}toEncodingData(){return combineMaps(this.signedTxn.toEncodingData(),this.applyData.toEncodingData())}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded SignedTxnWithAD: ${ms}`);return new SignedTxnWithAD({signedTxn:SignedTransaction.fromEncodingData(ms),applyData:ApplyData.fromEncodingData(ms)})}}class SignedTxnInBlock{constructor(ms){this.signedTxn=ms.signedTxn,this.hasGenesisID=ms.hasGenesisID,this.hasGenesisHash=ms.hasGenesisHash}getEncodingSchema(){return SignedTxnInBlock.encodingSchema}toEncodingData(){const ms=new Map([["hgi",this.hasGenesisID],["hgh",this.hasGenesisHash]]);return combineMaps(ms,this.signedTxn.toEncodingData())}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded SignedTxnInBlock: ${ms}`);return new SignedTxnInBlock({signedTxn:SignedTxnWithAD.fromEncodingData(ms),hasGenesisID:ms.get("hgi"),hasGenesisHash:ms.get("hgh")})}}SignedTxnInBlock.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"",valueSchema:SignedTxnWithAD.encodingSchema,embedded:!0},{key:"hgi",valueSchema:new BooleanSchema},{key:"hgh",valueSchema:new BooleanSchema}]));let Block$2=class u1{constructor(ms){this.header=ms.header,this.payset=ms.payset}getEncodingSchema(){return u1.encodingSchema}toEncodingData(){const ms=new Map([["txns",this.payset.map(ws=>ws.toEncodingData())]]);return combineMaps(ms,this.header.toEncodingData())}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded BlockHeader: ${ms}`);return new u1({header:BlockHeader.fromEncodingData(ms),payset:ms.get("txns").map(SignedTxnInBlock.fromEncodingData)})}};Block$2.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"",valueSchema:BlockHeader.encodingSchema,embedded:!0},{key:"txns",valueSchema:new ArraySchema(SignedTxnInBlock.encodingSchema)}]));class UntypedValue{constructor(ms){this.data=ms}getEncodingSchema(){return UntypedValue.encodingSchema}toEncodingData(){return this.data}static fromEncodingData(ms){return new UntypedValue(ms)}}UntypedValue.encodingSchema=new UntypedSchema;let TealValue$2=class f1{constructor(ms){this.type=ms.type,this.bytes=ms.bytes,this.uint=ms.uint}getEncodingSchema(){return f1.encodingSchema}toEncodingData(){return new Map([["tt",this.type],["tb",this.bytes],["ui",this.uint]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded TealValue: ${ms}`);return new f1({type:Number(ms.get("tt")),bytes:ms.get("tb"),uint:ms.get("ui")})}};TealValue$2.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"tt",valueSchema:new Uint64Schema},{key:"tb",valueSchema:new OptionalSchema(new SpecialCaseBinaryStringSchema)},{key:"ui",valueSchema:new OptionalSchema(new Uint64Schema)}]));let StateSchema$1=class d1{constructor(ms){this.numUints=ms.numUints,this.numByteSlices=ms.numByteSlices}getEncodingSchema(){return d1.encodingSchema}toEncodingData(){return new Map([["nui",this.numUints],["nbs",this.numByteSlices]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded StateSchema: ${ms}`);return new d1({numUints:Number(ms.get("nui")),numByteSlices:Number(ms.get("nbs"))})}};StateSchema$1.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"nui",valueSchema:new Uint64Schema},{key:"nbs",valueSchema:new Uint64Schema}]));class AppParams{constructor(ms){this.approvalProgram=ms.approvalProgram,this.clearStateProgram=ms.clearStateProgram,this.globalState=ms.globalState,this.localStateSchema=ms.localStateSchema,this.globalStateSchema=ms.globalStateSchema,this.extraProgramPages=ms.extraProgramPages}getEncodingSchema(){return AppParams.encodingSchema}toEncodingData(){return new Map([["approv",this.approvalProgram],["clearp",this.clearStateProgram],["gs",convertMap(this.globalState,(ms,ws)=>[ms,ws.toEncodingData()])],["lsch",this.localStateSchema.toEncodingData()],["gsch",this.globalStateSchema.toEncodingData()],["epp",this.extraProgramPages]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AppParams: ${ms}`);return new AppParams({approvalProgram:ms.get("approv"),clearStateProgram:ms.get("clearp"),globalState:convertMap(ms.get("gs"),(ws,Ss)=>[ws,TealValue$2.fromEncodingData(Ss)]),localStateSchema:StateSchema$1.fromEncodingData(ms.get("lsch")),globalStateSchema:StateSchema$1.fromEncodingData(ms.get("gsch")),extraProgramPages:Number(ms.get("epp"))})}}AppParams.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"approv",valueSchema:new ByteArraySchema},{key:"clearp",valueSchema:new ByteArraySchema},{key:"gs",valueSchema:new SpecialCaseBinaryStringMapSchema(TealValue$2.encodingSchema)},{key:"lsch",valueSchema:StateSchema$1.encodingSchema},{key:"gsch",valueSchema:StateSchema$1.encodingSchema},{key:"epp",valueSchema:new Uint64Schema}]));class AppLocalState{constructor(ms){this.schema=ms.schema,this.keyValue=ms.keyValue}getEncodingSchema(){return AppLocalState.encodingSchema}toEncodingData(){return new Map([["hsch",this.schema.toEncodingData()],["tkv",convertMap(this.keyValue,(ms,ws)=>[ms,ws.toEncodingData()])]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AppLocalState: ${ms}`);return new AppLocalState({schema:StateSchema$1.fromEncodingData(ms.get("hsch")),keyValue:convertMap(ms.get("tkv"),(ws,Ss)=>[ws,TealValue$2.fromEncodingData(Ss)])})}}AppLocalState.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"hsch",valueSchema:StateSchema$1.encodingSchema},{key:"tkv",valueSchema:new SpecialCaseBinaryStringMapSchema(TealValue$2.encodingSchema)}]));class AppLocalStateDelta{constructor(ms){this.localState=ms.localState,this.deleted=ms.deleted}getEncodingSchema(){return AppLocalStateDelta.encodingSchema}toEncodingData(){return new Map([["LocalState",this.localState?this.localState.toEncodingData():void 0],["Deleted",this.deleted]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AppLocalStateDelta: ${ms}`);return new AppLocalStateDelta({localState:ms.get("LocalState")?AppLocalState.fromEncodingData(ms.get("LocalState")):void 0,deleted:ms.get("Deleted")})}}AppLocalStateDelta.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"LocalState",valueSchema:new OptionalSchema(AppLocalState.encodingSchema)},{key:"Deleted",valueSchema:new BooleanSchema}]));class AppParamsDelta{constructor(ms){this.params=ms.params,this.deleted=ms.deleted}getEncodingSchema(){return AppParamsDelta.encodingSchema}toEncodingData(){return new Map([["Params",this.params?this.params.toEncodingData():void 0],["Deleted",this.deleted]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AppParamsDelta: ${ms}`);return new AppParamsDelta({params:ms.get("Params")?AppParams.fromEncodingData(ms.get("Params")):void 0,deleted:ms.get("Deleted")})}}AppParamsDelta.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"Params",valueSchema:new OptionalSchema(AppParams.encodingSchema)},{key:"Deleted",valueSchema:new BooleanSchema}]));class AppResourceRecord{constructor(ms){this.id=ms.id,this.address=ms.address,this.params=ms.params,this.state=ms.state}getEncodingSchema(){return AppResourceRecord.encodingSchema}toEncodingData(){return new Map([["Aidx",this.id],["Addr",this.address],["Params",this.params.toEncodingData()],["State",this.state.toEncodingData()]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AppResourceRecord: ${ms}`);return new AppResourceRecord({id:ms.get("Aidx"),address:ms.get("Addr"),params:AppParamsDelta.fromEncodingData(ms.get("Params")),state:AppLocalStateDelta.fromEncodingData(ms.get("State"))})}}AppResourceRecord.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"Aidx",valueSchema:new Uint64Schema},{key:"Addr",valueSchema:new AddressSchema},{key:"Params",valueSchema:AppParamsDelta.encodingSchema},{key:"State",valueSchema:AppLocalStateDelta.encodingSchema}]));let AssetHolding$2=class p1{constructor(ms){this.amount=ms.amount,this.frozen=ms.frozen}getEncodingSchema(){return p1.encodingSchema}toEncodingData(){return new Map([["a",this.amount],["f",this.frozen]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AssetHolding: ${ms}`);return new p1({amount:ms.get("a"),frozen:ms.get("f")})}};AssetHolding$2.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"a",valueSchema:new Uint64Schema},{key:"f",valueSchema:new BooleanSchema}]));class AssetHoldingDelta{constructor(ms){this.holding=ms.holding,this.deleted=ms.deleted}getEncodingSchema(){return AssetHoldingDelta.encodingSchema}toEncodingData(){return new Map([["Holding",this.holding?this.holding.toEncodingData():void 0],["Deleted",this.deleted]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AssetHoldingDelta: ${ms}`);return new AssetHoldingDelta({holding:ms.get("Holding")?AssetHolding$2.fromEncodingData(ms.get("Holding")):void 0,deleted:ms.get("Deleted")})}}AssetHoldingDelta.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"Holding",valueSchema:new OptionalSchema(AssetHolding$2.encodingSchema)},{key:"Deleted",valueSchema:new BooleanSchema}]));let AssetParams$2=class g1{constructor(ms){this.total=ms.total,this.decimals=ms.decimals,this.defaultFrozen=ms.defaultFrozen,this.unitName=ms.unitName,this.assetName=ms.assetName,this.url=ms.url,this.metadataHash=ms.metadataHash,this.manager=ms.manager,this.reserve=ms.reserve,this.freeze=ms.freeze,this.clawback=ms.clawback}getEncodingSchema(){return g1.encodingSchema}toEncodingData(){return new Map([["t",this.total],["dc",this.decimals],["df",this.defaultFrozen],["un",this.unitName],["an",this.assetName],["au",this.url],["am",this.metadataHash],["m",this.manager],["r",this.reserve],["f",this.freeze],["c",this.clawback]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AssetParams: ${ms}`);return new g1({total:ms.get("t"),decimals:ms.get("dc"),defaultFrozen:ms.get("df"),unitName:ms.get("un"),assetName:ms.get("an"),url:ms.get("au"),metadataHash:ms.get("am"),manager:ms.get("m"),reserve:ms.get("r"),freeze:ms.get("f"),clawback:ms.get("c")})}};AssetParams$2.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"t",valueSchema:new Uint64Schema},{key:"dc",valueSchema:new Uint64Schema},{key:"df",valueSchema:new BooleanSchema},{key:"un",valueSchema:new OptionalSchema(new SpecialCaseBinaryStringSchema)},{key:"an",valueSchema:new OptionalSchema(new SpecialCaseBinaryStringSchema)},{key:"au",valueSchema:new OptionalSchema(new SpecialCaseBinaryStringSchema)},{key:"am",valueSchema:new FixedLengthByteArraySchema(32)},{key:"m",valueSchema:new OptionalSchema(new AddressSchema)},{key:"r",valueSchema:new OptionalSchema(new AddressSchema)},{key:"f",valueSchema:new OptionalSchema(new AddressSchema)},{key:"c",valueSchema:new OptionalSchema(new AddressSchema)}]));class AssetParamsDelta{constructor(ms){this.params=ms.params,this.deleted=ms.deleted}getEncodingSchema(){return AssetParamsDelta.encodingSchema}toEncodingData(){return new Map([["Params",this.params?this.params.toEncodingData():void 0],["Deleted",this.deleted]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AssetParamsDelta: ${ms}`);return new AssetParamsDelta({params:ms.get("Params")?AssetParams$2.fromEncodingData(ms.get("Params")):void 0,deleted:ms.get("Deleted")})}}AssetParamsDelta.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"Params",valueSchema:new OptionalSchema(AssetParams$2.encodingSchema)},{key:"Deleted",valueSchema:new BooleanSchema}]));class AssetResourceRecord{constructor(ms){this.id=ms.id,this.address=ms.address,this.params=ms.params,this.holding=ms.holding}getEncodingSchema(){return AssetResourceRecord.encodingSchema}toEncodingData(){return new Map([["Aidx",this.id],["Addr",this.address],["Params",this.params.toEncodingData()],["Holding",this.holding.toEncodingData()]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AssetResourceRecord: ${ms}`);return new AssetResourceRecord({id:ms.get("Aidx"),address:ms.get("Addr"),params:AssetParamsDelta.fromEncodingData(ms.get("Params")),holding:AssetHoldingDelta.fromEncodingData(ms.get("Holding"))})}}AssetResourceRecord.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"Aidx",valueSchema:new Uint64Schema},{key:"Addr",valueSchema:new AddressSchema},{key:"Params",valueSchema:AssetParamsDelta.encodingSchema},{key:"Holding",valueSchema:AssetHoldingDelta.encodingSchema}]));class VotingData{constructor(ms){this.voteID=ms.voteID,this.selectionID=ms.selectionID,this.stateProofID=ms.stateProofID,this.voteFirstValid=ms.voteFirstValid,this.voteLastValid=ms.voteLastValid,this.voteKeyDilution=ms.voteKeyDilution}getEncodingSchema(){return VotingData.encodingSchema}toEncodingData(){return new Map([["VoteID",this.voteID],["SelectionID",this.selectionID],["StateProofID",this.stateProofID],["VoteFirstValid",this.voteFirstValid],["VoteLastValid",this.voteLastValid],["VoteKeyDilution",this.voteKeyDilution]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded VotingData: ${ms}`);return new VotingData({voteID:ms.get("VoteID"),selectionID:ms.get("SelectionID"),stateProofID:ms.get("StateProofID"),voteFirstValid:ms.get("VoteFirstValid"),voteLastValid:ms.get("VoteLastValid"),voteKeyDilution:ms.get("VoteKeyDilution")})}}VotingData.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"VoteID",valueSchema:new FixedLengthByteArraySchema(32)},{key:"SelectionID",valueSchema:new FixedLengthByteArraySchema(32)},{key:"StateProofID",valueSchema:new FixedLengthByteArraySchema(64)},{key:"VoteFirstValid",valueSchema:new Uint64Schema},{key:"VoteLastValid",valueSchema:new Uint64Schema},{key:"VoteKeyDilution",valueSchema:new Uint64Schema}]));class AccountBaseData{constructor(ms){this.status=ms.status,this.microAlgos=ms.microAlgos,this.rewardsBase=ms.rewardsBase,this.rewardedMicroAlgos=ms.rewardedMicroAlgos,this.authAddr=ms.authAddr,this.incentiveEligible=ms.incentiveEligible,this.totalAppSchema=ms.totalAppSchema,this.totalExtraAppPages=ms.totalExtraAppPages,this.totalAppParams=ms.totalAppParams,this.totalAppLocalStates=ms.totalAppLocalStates,this.totalAssetParams=ms.totalAssetParams,this.totalAssets=ms.totalAssets,this.totalBoxes=ms.totalBoxes,this.totalBoxBytes=ms.totalBoxBytes,this.lastProposed=ms.lastProposed,this.lastHeartbeat=ms.lastHeartbeat}getEncodingSchema(){return AccountBaseData.encodingSchema}toEncodingData(){return new Map([["Status",this.status],["MicroAlgos",this.microAlgos],["RewardsBase",this.rewardsBase],["RewardedMicroAlgos",this.rewardedMicroAlgos],["AuthAddr",this.authAddr],["IncentiveEligible",this.incentiveEligible],["TotalAppSchema",this.totalAppSchema.toEncodingData()],["TotalExtraAppPages",this.totalExtraAppPages],["TotalAppParams",this.totalAppParams],["TotalAppLocalStates",this.totalAppLocalStates],["TotalAssetParams",this.totalAssetParams],["TotalAssets",this.totalAssets],["TotalBoxes",this.totalBoxes],["TotalBoxBytes",this.totalBoxBytes],["LastProposed",this.lastProposed],["LastHeartbeat",this.lastHeartbeat]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AccountBaseData: ${ms}`);return new AccountBaseData({status:Number(ms.get("Status")),microAlgos:ms.get("MicroAlgos"),rewardsBase:ms.get("RewardsBase"),rewardedMicroAlgos:ms.get("RewardedMicroAlgos"),authAddr:ms.get("AuthAddr"),incentiveEligible:ms.get("IncentiveEligible"),totalAppSchema:StateSchema$1.fromEncodingData(ms.get("TotalAppSchema")),totalExtraAppPages:Number(ms.get("TotalExtraAppPages")),totalAppParams:ms.get("TotalAppParams"),totalAppLocalStates:ms.get("TotalAppLocalStates"),totalAssetParams:ms.get("TotalAssetParams"),totalAssets:ms.get("TotalAssets"),totalBoxes:ms.get("TotalBoxes"),totalBoxBytes:ms.get("TotalBoxBytes"),lastProposed:ms.get("LastProposed"),lastHeartbeat:ms.get("LastHeartbeat")})}}AccountBaseData.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"Status",valueSchema:new Uint64Schema},{key:"MicroAlgos",valueSchema:new Uint64Schema},{key:"RewardsBase",valueSchema:new Uint64Schema},{key:"RewardedMicroAlgos",valueSchema:new Uint64Schema},{key:"AuthAddr",valueSchema:new AddressSchema},{key:"IncentiveEligible",valueSchema:new BooleanSchema},{key:"TotalAppSchema",valueSchema:StateSchema$1.encodingSchema},{key:"TotalExtraAppPages",valueSchema:new Uint64Schema},{key:"TotalAppParams",valueSchema:new Uint64Schema},{key:"TotalAppLocalStates",valueSchema:new Uint64Schema},{key:"TotalAssetParams",valueSchema:new Uint64Schema},{key:"TotalAssets",valueSchema:new Uint64Schema},{key:"TotalBoxes",valueSchema:new Uint64Schema},{key:"TotalBoxBytes",valueSchema:new Uint64Schema},{key:"LastProposed",valueSchema:new Uint64Schema},{key:"LastHeartbeat",valueSchema:new Uint64Schema}]));class AccountData{constructor(ms){this.accountBaseData=ms.accountBaseData,this.votingData=ms.votingData}getEncodingSchema(){return AccountData.encodingSchema}toEncodingData(){return combineMaps(this.accountBaseData.toEncodingData(),this.votingData.toEncodingData())}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AccountData: ${ms}`);return new AccountData({accountBaseData:AccountBaseData.fromEncodingData(ms),votingData:VotingData.fromEncodingData(ms)})}}AccountData.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"",valueSchema:AccountBaseData.encodingSchema,embedded:!0},{key:"",valueSchema:VotingData.encodingSchema,embedded:!0}]));class BalanceRecord{constructor(ms){this.addr=ms.addr,this.accountData=ms.accountData}getEncodingSchema(){return BalanceRecord.encodingSchema}toEncodingData(){return combineMaps(new Map([["Addr",this.addr]]),this.accountData.toEncodingData())}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded BalanceRecord: ${ms}`);return new BalanceRecord({addr:ms.get("Addr"),accountData:AccountData.fromEncodingData(ms)})}}BalanceRecord.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"Addr",valueSchema:new AddressSchema},{key:"",valueSchema:AccountData.encodingSchema,embedded:!0}]));class AccountDeltas{constructor(ms){this.accounts=ms.accounts,this.appResources=ms.appResources,this.assetResources=ms.assetResources}getEncodingSchema(){return AccountDeltas.encodingSchema}toEncodingData(){return new Map([["Accts",this.accounts.map(ms=>ms.toEncodingData())],["AppResources",this.appResources.length===0?void 0:this.appResources.map(ms=>ms.toEncodingData())],["AssetResources",this.assetResources.length===0?void 0:this.assetResources.map(ms=>ms.toEncodingData())]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AccountDeltas: ${ms}`);return new AccountDeltas({accounts:(ms.get("Accts")??[]).map(BalanceRecord.fromEncodingData),appResources:(ms.get("AppResources")??[]).map(AppResourceRecord.fromEncodingData),assetResources:(ms.get("AssetResources")??[]).map(AssetResourceRecord.fromEncodingData)})}}AccountDeltas.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"Accts",valueSchema:new ArraySchema(BalanceRecord.encodingSchema)},{key:"AppResources",valueSchema:new OptionalSchema(new ArraySchema(AppResourceRecord.encodingSchema))},{key:"AssetResources",valueSchema:new OptionalSchema(new ArraySchema(AssetResourceRecord.encodingSchema))}]));class KvValueDelta{constructor(ms){this.data=ms.data,this.oldData=ms.oldData}getEncodingSchema(){return KvValueDelta.encodingSchema}toEncodingData(){return new Map([["Data",this.data],["OldData",this.oldData]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded KvValueDelta: ${ms}`);return new KvValueDelta({data:ms.get("Data"),oldData:ms.get("OldData")})}}KvValueDelta.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"Data",valueSchema:new OptionalSchema(new ByteArraySchema)},{key:"OldData",valueSchema:new OptionalSchema(new ByteArraySchema)}]));class IncludedTransactions{constructor(ms){this.lastValid=ms.lastValid,this.intra=ms.intra}getEncodingSchema(){return IncludedTransactions.encodingSchema}toEncodingData(){return new Map([["LastValid",this.lastValid],["Intra",this.intra]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded IncludedTransactions: ${ms}`);return new IncludedTransactions({lastValid:ms.get("LastValid"),intra:Number(ms.get("Intra"))})}}IncludedTransactions.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"LastValid",valueSchema:new Uint64Schema},{key:"Intra",valueSchema:new Uint64Schema}]));class ModifiedCreatable{constructor(ms){this.creatableType=ms.creatableType,this.created=ms.created,this.creator=ms.creator,this.ndeltas=ms.ndeltas}getEncodingSchema(){return ModifiedCreatable.encodingSchema}toEncodingData(){return new Map([["Ctype",this.creatableType],["Created",this.created],["Creator",this.creator],["Ndeltas",this.ndeltas]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded ModifiedCreatable: ${ms}`);return new ModifiedCreatable({creatableType:Number(ms.get("Ctype")),created:ms.get("Created"),creator:ms.get("Creator"),ndeltas:Number(ms.get("Ndeltas"))})}}ModifiedCreatable.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"Ctype",valueSchema:new Uint64Schema},{key:"Created",valueSchema:new BooleanSchema},{key:"Creator",valueSchema:new AddressSchema},{key:"Ndeltas",valueSchema:new Uint64Schema}]));class AlgoCount{constructor(ms){this.money=ms.money,this.rewardUnits=ms.rewardUnits}getEncodingSchema(){return AlgoCount.encodingSchema}toEncodingData(){return new Map([["mon",this.money],["rwd",this.rewardUnits]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AlgoCount: ${ms}`);return new AlgoCount({money:ms.get("mon"),rewardUnits:ms.get("rwd")})}}AlgoCount.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"mon",valueSchema:new Uint64Schema},{key:"rwd",valueSchema:new Uint64Schema}]));class AccountTotals{constructor(ms){this.online=ms.online,this.offline=ms.offline,this.notParticipating=ms.notParticipating,this.rewardsLevel=ms.rewardsLevel}getEncodingSchema(){return AccountTotals.encodingSchema}toEncodingData(){return new Map([["online",this.online.toEncodingData()],["offline",this.offline.toEncodingData()],["notpart",this.notParticipating.toEncodingData()],["rwdlvl",this.rewardsLevel]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AccountTotals: ${ms}`);return new AccountTotals({online:AlgoCount.fromEncodingData(ms.get("online")),offline:AlgoCount.fromEncodingData(ms.get("offline")),notParticipating:AlgoCount.fromEncodingData(ms.get("notpart")),rewardsLevel:ms.get("rwdlvl")})}}AccountTotals.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"online",valueSchema:AlgoCount.encodingSchema},{key:"offline",valueSchema:AlgoCount.encodingSchema},{key:"notpart",valueSchema:AlgoCount.encodingSchema},{key:"rwdlvl",valueSchema:new Uint64Schema}]));class LedgerStateDelta{constructor(ms){this.accounts=ms.accounts,this.kvMods=ms.kvMods,this.txids=ms.txids,this.txleases=ms.txleases,this.creatables=ms.creatables,this.blockHeader=ms.blockHeader,this.stateProofNext=ms.stateProofNext,this.prevTimestamp=ms.prevTimestamp,this.totals=ms.totals}getEncodingSchema(){return LedgerStateDelta.encodingSchema}toEncodingData(){return new Map([["Accts",this.accounts.toEncodingData()],["KvMods",this.kvMods.size===0?void 0:convertMap(this.kvMods,(ms,ws)=>[ms,ws.toEncodingData()])],["Txids",convertMap(this.txids,(ms,ws)=>[ms,ws.toEncodingData()])],["Txleases",this.txleases.toEncodingData()],["Creatables",this.creatables.size===0?void 0:convertMap(this.creatables,(ms,ws)=>[ms,ws.toEncodingData()])],["Hdr",this.blockHeader.toEncodingData()],["StateProofNext",this.stateProofNext],["PrevTimestamp",this.prevTimestamp],["Totals",this.totals.toEncodingData()]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded LedgerStateDelta: ${ms}`);return new LedgerStateDelta({accounts:AccountDeltas.fromEncodingData(ms.get("Accts")),kvMods:convertMap(ms.get("KvMods")??new Map,(ws,Ss)=>[ws,KvValueDelta.fromEncodingData(Ss)]),txids:convertMap(ms.get("Txids"),(ws,Ss)=>[ws,IncludedTransactions.fromEncodingData(Ss)]),txleases:UntypedValue.fromEncodingData(ms.get("Txleases")),creatables:convertMap(ms.get("Creatables")??new Map,(ws,Ss)=>[ws,ModifiedCreatable.fromEncodingData(Ss)]),blockHeader:BlockHeader.fromEncodingData(ms.get("Hdr")),stateProofNext:ms.get("StateProofNext"),prevTimestamp:ms.get("PrevTimestamp"),totals:AccountTotals.fromEncodingData(ms.get("Totals"))})}}LedgerStateDelta.encodingSchema=new NamedMapSchema(allOmitEmpty([{key:"Accts",valueSchema:AccountDeltas.encodingSchema},{key:"KvMods",valueSchema:new OptionalSchema(new SpecialCaseBinaryStringMapSchema(KvValueDelta.encodingSchema))},{key:"Txids",valueSchema:new ByteArrayMapSchema(IncludedTransactions.encodingSchema)},{key:"Txleases",valueSchema:new OptionalSchema(new UntypedSchema)},{key:"Creatables",valueSchema:new OptionalSchema(new Uint64MapSchema(ModifiedCreatable.encodingSchema))},{key:"Hdr",valueSchema:BlockHeader.encodingSchema},{key:"StateProofNext",valueSchema:new Uint64Schema},{key:"PrevTimestamp",valueSchema:new Uint64Schema},{key:"Totals",valueSchema:AccountTotals.encodingSchema}]));let Account$2=class m1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new StringSchema,omitEmpty:!0},{key:"amount",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"amount-without-pending-rewards",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"min-balance",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"pending-rewards",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"rewards",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"status",valueSchema:new StringSchema,omitEmpty:!0},{key:"total-apps-opted-in",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"total-assets-opted-in",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"total-created-apps",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"total-created-assets",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"apps-local-state",valueSchema:new OptionalSchema(new ArraySchema(ApplicationLocalState$1.encodingSchema)),omitEmpty:!0},{key:"apps-total-extra-pages",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"apps-total-schema",valueSchema:new OptionalSchema(ApplicationStateSchema$1.encodingSchema),omitEmpty:!0},{key:"assets",valueSchema:new OptionalSchema(new ArraySchema(AssetHolding$1.encodingSchema)),omitEmpty:!0},{key:"auth-addr",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"created-apps",valueSchema:new OptionalSchema(new ArraySchema(Application$1.encodingSchema)),omitEmpty:!0},{key:"created-assets",valueSchema:new OptionalSchema(new ArraySchema(Asset$1.encodingSchema)),omitEmpty:!0},{key:"incentive-eligible",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"last-heartbeat",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"last-proposed",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"participation",valueSchema:new OptionalSchema(AccountParticipation$1.encodingSchema),omitEmpty:!0},{key:"reward-base",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"sig-type",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"total-box-bytes",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"total-boxes",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:ms,amount:ws,amountWithoutPendingRewards:Ss,minBalance:Es,pendingRewards:_s,rewards:Is,round:Ts,status:Rs,totalAppsOptedIn:Bs,totalAssetsOptedIn:Ns,totalCreatedApps:Ws,totalCreatedAssets:Js,appsLocalState:$l,appsTotalExtraPages:wl,appsTotalSchema:_l,assets:Cl,authAddr:Sl,createdApps:El,createdAssets:xl,incentiveEligible:Ml,lastHeartbeat:Vl,lastProposed:Ul,participation:_h,rewardBase:nu,sigType:su,totalBoxBytes:Jl,totalBoxes:Il}){this.address=ms,this.amount=ensureBigInt(ws),this.amountWithoutPendingRewards=ensureBigInt(Ss),this.minBalance=ensureBigInt(Es),this.pendingRewards=ensureBigInt(_s),this.rewards=ensureBigInt(Is),this.round=ensureBigInt(Ts),this.status=Rs,this.totalAppsOptedIn=ensureSafeInteger(Bs),this.totalAssetsOptedIn=ensureSafeInteger(Ns),this.totalCreatedApps=ensureSafeInteger(Ws),this.totalCreatedAssets=ensureSafeInteger(Js),this.appsLocalState=$l,this.appsTotalExtraPages=typeof wl>"u"?void 0:ensureSafeInteger(wl),this.appsTotalSchema=_l,this.assets=Cl,this.authAddr=typeof Sl=="string"?Address.fromString(Sl):Sl,this.createdApps=El,this.createdAssets=xl,this.incentiveEligible=Ml,this.lastHeartbeat=typeof Vl>"u"?void 0:ensureSafeInteger(Vl),this.lastProposed=typeof Ul>"u"?void 0:ensureSafeInteger(Ul),this.participation=_h,this.rewardBase=typeof nu>"u"?void 0:ensureBigInt(nu),this.sigType=su,this.totalBoxBytes=typeof Jl>"u"?void 0:ensureSafeInteger(Jl),this.totalBoxes=typeof Il>"u"?void 0:ensureSafeInteger(Il)}getEncodingSchema(){return m1.encodingSchema}toEncodingData(){return new Map([["address",this.address],["amount",this.amount],["amount-without-pending-rewards",this.amountWithoutPendingRewards],["min-balance",this.minBalance],["pending-rewards",this.pendingRewards],["rewards",this.rewards],["round",this.round],["status",this.status],["total-apps-opted-in",this.totalAppsOptedIn],["total-assets-opted-in",this.totalAssetsOptedIn],["total-created-apps",this.totalCreatedApps],["total-created-assets",this.totalCreatedAssets],["apps-local-state",typeof this.appsLocalState<"u"?this.appsLocalState.map(ms=>ms.toEncodingData()):void 0],["apps-total-extra-pages",this.appsTotalExtraPages],["apps-total-schema",typeof this.appsTotalSchema<"u"?this.appsTotalSchema.toEncodingData():void 0],["assets",typeof this.assets<"u"?this.assets.map(ms=>ms.toEncodingData()):void 0],["auth-addr",typeof this.authAddr<"u"?this.authAddr.toString():void 0],["created-apps",typeof this.createdApps<"u"?this.createdApps.map(ms=>ms.toEncodingData()):void 0],["created-assets",typeof this.createdAssets<"u"?this.createdAssets.map(ms=>ms.toEncodingData()):void 0],["incentive-eligible",this.incentiveEligible],["last-heartbeat",this.lastHeartbeat],["last-proposed",this.lastProposed],["participation",typeof this.participation<"u"?this.participation.toEncodingData():void 0],["reward-base",this.rewardBase],["sig-type",this.sigType],["total-box-bytes",this.totalBoxBytes],["total-boxes",this.totalBoxes]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded Account: ${ms}`);return new m1({address:ms.get("address"),amount:ms.get("amount"),amountWithoutPendingRewards:ms.get("amount-without-pending-rewards"),minBalance:ms.get("min-balance"),pendingRewards:ms.get("pending-rewards"),rewards:ms.get("rewards"),round:ms.get("round"),status:ms.get("status"),totalAppsOptedIn:ms.get("total-apps-opted-in"),totalAssetsOptedIn:ms.get("total-assets-opted-in"),totalCreatedApps:ms.get("total-created-apps"),totalCreatedAssets:ms.get("total-created-assets"),appsLocalState:typeof ms.get("apps-local-state")<"u"?ms.get("apps-local-state").map(ws=>ApplicationLocalState$1.fromEncodingData(ws)):void 0,appsTotalExtraPages:ms.get("apps-total-extra-pages"),appsTotalSchema:typeof ms.get("apps-total-schema")<"u"?ApplicationStateSchema$1.fromEncodingData(ms.get("apps-total-schema")):void 0,assets:typeof ms.get("assets")<"u"?ms.get("assets").map(ws=>AssetHolding$1.fromEncodingData(ws)):void 0,authAddr:ms.get("auth-addr"),createdApps:typeof ms.get("created-apps")<"u"?ms.get("created-apps").map(ws=>Application$1.fromEncodingData(ws)):void 0,createdAssets:typeof ms.get("created-assets")<"u"?ms.get("created-assets").map(ws=>Asset$1.fromEncodingData(ws)):void 0,incentiveEligible:ms.get("incentive-eligible"),lastHeartbeat:ms.get("last-heartbeat"),lastProposed:ms.get("last-proposed"),participation:typeof ms.get("participation")<"u"?AccountParticipation$1.fromEncodingData(ms.get("participation")):void 0,rewardBase:ms.get("reward-base"),sigType:ms.get("sig-type"),totalBoxBytes:ms.get("total-box-bytes"),totalBoxes:ms.get("total-boxes")})}};class AccountApplicationResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"app-local-state",valueSchema:new OptionalSchema(ApplicationLocalState$1.encodingSchema),omitEmpty:!0},{key:"created-app",valueSchema:new OptionalSchema(ApplicationParams$1.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({round:ms,appLocalState:ws,createdApp:Ss}){this.round=ensureBigInt(ms),this.appLocalState=ws,this.createdApp=Ss}getEncodingSchema(){return AccountApplicationResponse.encodingSchema}toEncodingData(){return new Map([["round",this.round],["app-local-state",typeof this.appLocalState<"u"?this.appLocalState.toEncodingData():void 0],["created-app",typeof this.createdApp<"u"?this.createdApp.toEncodingData():void 0]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AccountApplicationResponse: ${ms}`);return new AccountApplicationResponse({round:ms.get("round"),appLocalState:typeof ms.get("app-local-state")<"u"?ApplicationLocalState$1.fromEncodingData(ms.get("app-local-state")):void 0,createdApp:typeof ms.get("created-app")<"u"?ApplicationParams$1.fromEncodingData(ms.get("created-app")):void 0})}}class AccountAssetHolding{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"asset-holding",valueSchema:AssetHolding$1.encodingSchema,omitEmpty:!0},{key:"asset-params",valueSchema:new OptionalSchema(AssetParams$1.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({assetHolding:ms,assetParams:ws}){this.assetHolding=ms,this.assetParams=ws}getEncodingSchema(){return AccountAssetHolding.encodingSchema}toEncodingData(){return new Map([["asset-holding",this.assetHolding.toEncodingData()],["asset-params",typeof this.assetParams<"u"?this.assetParams.toEncodingData():void 0]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AccountAssetHolding: ${ms}`);return new AccountAssetHolding({assetHolding:AssetHolding$1.fromEncodingData(ms.get("asset-holding")??new Map),assetParams:typeof ms.get("asset-params")<"u"?AssetParams$1.fromEncodingData(ms.get("asset-params")):void 0})}}class AccountAssetResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"asset-holding",valueSchema:new OptionalSchema(AssetHolding$1.encodingSchema),omitEmpty:!0},{key:"created-asset",valueSchema:new OptionalSchema(AssetParams$1.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({round:ms,assetHolding:ws,createdAsset:Ss}){this.round=ensureBigInt(ms),this.assetHolding=ws,this.createdAsset=Ss}getEncodingSchema(){return AccountAssetResponse.encodingSchema}toEncodingData(){return new Map([["round",this.round],["asset-holding",typeof this.assetHolding<"u"?this.assetHolding.toEncodingData():void 0],["created-asset",typeof this.createdAsset<"u"?this.createdAsset.toEncodingData():void 0]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AccountAssetResponse: ${ms}`);return new AccountAssetResponse({round:ms.get("round"),assetHolding:typeof ms.get("asset-holding")<"u"?AssetHolding$1.fromEncodingData(ms.get("asset-holding")):void 0,createdAsset:typeof ms.get("created-asset")<"u"?AssetParams$1.fromEncodingData(ms.get("created-asset")):void 0})}}class AccountAssetsInformationResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"asset-holdings",valueSchema:new OptionalSchema(new ArraySchema(AccountAssetHolding.encodingSchema)),omitEmpty:!0},{key:"next-token",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({round:ms,assetHoldings:ws,nextToken:Ss}){this.round=ensureSafeInteger(ms),this.assetHoldings=ws,this.nextToken=Ss}getEncodingSchema(){return AccountAssetsInformationResponse.encodingSchema}toEncodingData(){return new Map([["round",this.round],["asset-holdings",typeof this.assetHoldings<"u"?this.assetHoldings.map(ms=>ms.toEncodingData()):void 0],["next-token",this.nextToken]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AccountAssetsInformationResponse: ${ms}`);return new AccountAssetsInformationResponse({round:ms.get("round"),assetHoldings:typeof ms.get("asset-holdings")<"u"?ms.get("asset-holdings").map(ws=>AccountAssetHolding.fromEncodingData(ws)):void 0,nextToken:ms.get("next-token")})}}let AccountParticipation$1=class y1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"selection-participation-key",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"vote-first-valid",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"vote-key-dilution",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"vote-last-valid",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"vote-participation-key",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"state-proof-key",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({selectionParticipationKey:ms,voteFirstValid:ws,voteKeyDilution:Ss,voteLastValid:Es,voteParticipationKey:_s,stateProofKey:Is}){this.selectionParticipationKey=typeof ms=="string"?base64ToBytes(ms):ms,this.voteFirstValid=ensureBigInt(ws),this.voteKeyDilution=ensureBigInt(Ss),this.voteLastValid=ensureBigInt(Es),this.voteParticipationKey=typeof _s=="string"?base64ToBytes(_s):_s,this.stateProofKey=typeof Is=="string"?base64ToBytes(Is):Is}getEncodingSchema(){return y1.encodingSchema}toEncodingData(){return new Map([["selection-participation-key",this.selectionParticipationKey],["vote-first-valid",this.voteFirstValid],["vote-key-dilution",this.voteKeyDilution],["vote-last-valid",this.voteLastValid],["vote-participation-key",this.voteParticipationKey],["state-proof-key",this.stateProofKey]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AccountParticipation: ${ms}`);return new y1({selectionParticipationKey:ms.get("selection-participation-key"),voteFirstValid:ms.get("vote-first-valid"),voteKeyDilution:ms.get("vote-key-dilution"),voteLastValid:ms.get("vote-last-valid"),voteParticipationKey:ms.get("vote-participation-key"),stateProofKey:ms.get("state-proof-key")})}},AccountStateDelta$1=class v1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new StringSchema,omitEmpty:!0},{key:"delta",valueSchema:new ArraySchema(EvalDeltaKeyValue$1.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:ms,delta:ws}){this.address=ms,this.delta=ws}getEncodingSchema(){return v1.encodingSchema}toEncodingData(){return new Map([["address",this.address],["delta",this.delta.map(ms=>ms.toEncodingData())]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AccountStateDelta: ${ms}`);return new v1({address:ms.get("address"),delta:(ms.get("delta")??[]).map(ws=>EvalDeltaKeyValue$1.fromEncodingData(ws))})}};class AppCallLogs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"application-index",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"logs",valueSchema:new ArraySchema(new ByteArraySchema),omitEmpty:!0},{key:"txId",valueSchema:new StringSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({applicationIndex:ms,logs:ws,txid:Ss}){this.applicationIndex=ensureSafeInteger(ms),this.logs=ws,this.txid=Ss}getEncodingSchema(){return AppCallLogs.encodingSchema}toEncodingData(){return new Map([["application-index",this.applicationIndex],["logs",this.logs],["txId",this.txid]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AppCallLogs: ${ms}`);return new AppCallLogs({applicationIndex:ms.get("application-index"),logs:ms.get("logs"),txid:ms.get("txId")})}}let Application$1=class w1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"params",valueSchema:ApplicationParams$1.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({id:ms,params:ws}){this.id=ensureBigInt(ms),this.params=ws}getEncodingSchema(){return w1.encodingSchema}toEncodingData(){return new Map([["id",this.id],["params",this.params.toEncodingData()]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded Application: ${ms}`);return new w1({id:ms.get("id"),params:ApplicationParams$1.fromEncodingData(ms.get("params")??new Map)})}};class ApplicationInitialStates{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"app-boxes",valueSchema:new OptionalSchema(ApplicationKVStorage.encodingSchema),omitEmpty:!0},{key:"app-globals",valueSchema:new OptionalSchema(ApplicationKVStorage.encodingSchema),omitEmpty:!0},{key:"app-locals",valueSchema:new OptionalSchema(new ArraySchema(ApplicationKVStorage.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({id:ms,appBoxes:ws,appGlobals:Ss,appLocals:Es}){this.id=ensureBigInt(ms),this.appBoxes=ws,this.appGlobals=Ss,this.appLocals=Es}getEncodingSchema(){return ApplicationInitialStates.encodingSchema}toEncodingData(){return new Map([["id",this.id],["app-boxes",typeof this.appBoxes<"u"?this.appBoxes.toEncodingData():void 0],["app-globals",typeof this.appGlobals<"u"?this.appGlobals.toEncodingData():void 0],["app-locals",typeof this.appLocals<"u"?this.appLocals.map(ms=>ms.toEncodingData()):void 0]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded ApplicationInitialStates: ${ms}`);return new ApplicationInitialStates({id:ms.get("id"),appBoxes:typeof ms.get("app-boxes")<"u"?ApplicationKVStorage.fromEncodingData(ms.get("app-boxes")):void 0,appGlobals:typeof ms.get("app-globals")<"u"?ApplicationKVStorage.fromEncodingData(ms.get("app-globals")):void 0,appLocals:typeof ms.get("app-locals")<"u"?ms.get("app-locals").map(ws=>ApplicationKVStorage.fromEncodingData(ws)):void 0})}}class ApplicationKVStorage{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"kvs",valueSchema:new ArraySchema(AvmKeyValue.encodingSchema),omitEmpty:!0},{key:"account",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({kvs:ms,account:ws}){this.kvs=ms,this.account=typeof ws=="string"?Address.fromString(ws):ws}getEncodingSchema(){return ApplicationKVStorage.encodingSchema}toEncodingData(){return new Map([["kvs",this.kvs.map(ms=>ms.toEncodingData())],["account",typeof this.account<"u"?this.account.toString():void 0]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded ApplicationKVStorage: ${ms}`);return new ApplicationKVStorage({kvs:(ms.get("kvs")??[]).map(ws=>AvmKeyValue.fromEncodingData(ws)),account:ms.get("account")})}}class ApplicationLocalReference{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"account",valueSchema:new StringSchema,omitEmpty:!0},{key:"app",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({account:ms,app:ws}){this.account=typeof ms=="string"?Address.fromString(ms):ms,this.app=ensureBigInt(ws)}getEncodingSchema(){return ApplicationLocalReference.encodingSchema}toEncodingData(){return new Map([["account",this.account.toString()],["app",this.app]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded ApplicationLocalReference: ${ms}`);return new ApplicationLocalReference({account:ms.get("account"),app:ms.get("app")})}}let ApplicationLocalState$1=class S1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"schema",valueSchema:ApplicationStateSchema$1.encodingSchema,omitEmpty:!0},{key:"key-value",valueSchema:new OptionalSchema(new ArraySchema(TealKeyValue$1.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({id:ms,schema:ws,keyValue:Ss}){this.id=ensureBigInt(ms),this.schema=ws,this.keyValue=Ss}getEncodingSchema(){return S1.encodingSchema}toEncodingData(){return new Map([["id",this.id],["schema",this.schema.toEncodingData()],["key-value",typeof this.keyValue<"u"?this.keyValue.map(ms=>ms.toEncodingData()):void 0]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded ApplicationLocalState: ${ms}`);return new S1({id:ms.get("id"),schema:ApplicationStateSchema$1.fromEncodingData(ms.get("schema")??new Map),keyValue:typeof ms.get("key-value")<"u"?ms.get("key-value").map(ws=>TealKeyValue$1.fromEncodingData(ws)):void 0})}},ApplicationParams$1=class E1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"approval-program",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"clear-state-program",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"creator",valueSchema:new StringSchema,omitEmpty:!0},{key:"extra-program-pages",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"global-state",valueSchema:new OptionalSchema(new ArraySchema(TealKeyValue$1.encodingSchema)),omitEmpty:!0},{key:"global-state-schema",valueSchema:new OptionalSchema(ApplicationStateSchema$1.encodingSchema),omitEmpty:!0},{key:"local-state-schema",valueSchema:new OptionalSchema(ApplicationStateSchema$1.encodingSchema),omitEmpty:!0},{key:"version",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({approvalProgram:ms,clearStateProgram:ws,creator:Ss,extraProgramPages:Es,globalState:_s,globalStateSchema:Is,localStateSchema:Ts,version:Rs}){this.approvalProgram=typeof ms=="string"?base64ToBytes(ms):ms,this.clearStateProgram=typeof ws=="string"?base64ToBytes(ws):ws,this.creator=typeof Ss=="string"?Address.fromString(Ss):Ss,this.extraProgramPages=typeof Es>"u"?void 0:ensureSafeInteger(Es),this.globalState=_s,this.globalStateSchema=Is,this.localStateSchema=Ts,this.version=typeof Rs>"u"?void 0:ensureSafeInteger(Rs)}getEncodingSchema(){return E1.encodingSchema}toEncodingData(){return new Map([["approval-program",this.approvalProgram],["clear-state-program",this.clearStateProgram],["creator",this.creator.toString()],["extra-program-pages",this.extraProgramPages],["global-state",typeof this.globalState<"u"?this.globalState.map(ms=>ms.toEncodingData()):void 0],["global-state-schema",typeof this.globalStateSchema<"u"?this.globalStateSchema.toEncodingData():void 0],["local-state-schema",typeof this.localStateSchema<"u"?this.localStateSchema.toEncodingData():void 0],["version",this.version]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded ApplicationParams: ${ms}`);return new E1({approvalProgram:ms.get("approval-program"),clearStateProgram:ms.get("clear-state-program"),creator:ms.get("creator"),extraProgramPages:ms.get("extra-program-pages"),globalState:typeof ms.get("global-state")<"u"?ms.get("global-state").map(ws=>TealKeyValue$1.fromEncodingData(ws)):void 0,globalStateSchema:typeof ms.get("global-state-schema")<"u"?ApplicationStateSchema$1.fromEncodingData(ms.get("global-state-schema")):void 0,localStateSchema:typeof ms.get("local-state-schema")<"u"?ApplicationStateSchema$1.fromEncodingData(ms.get("local-state-schema")):void 0,version:ms.get("version")})}};class ApplicationStateOperation{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"app-state-type",valueSchema:new StringSchema,omitEmpty:!0},{key:"key",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"operation",valueSchema:new StringSchema,omitEmpty:!0},{key:"account",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"new-value",valueSchema:new OptionalSchema(AvmValue.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({appStateType:ms,key:ws,operation:Ss,account:Es,newValue:_s}){this.appStateType=ms,this.key=typeof ws=="string"?base64ToBytes(ws):ws,this.operation=Ss,this.account=typeof Es=="string"?Address.fromString(Es):Es,this.newValue=_s}getEncodingSchema(){return ApplicationStateOperation.encodingSchema}toEncodingData(){return new Map([["app-state-type",this.appStateType],["key",this.key],["operation",this.operation],["account",typeof this.account<"u"?this.account.toString():void 0],["new-value",typeof this.newValue<"u"?this.newValue.toEncodingData():void 0]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded ApplicationStateOperation: ${ms}`);return new ApplicationStateOperation({appStateType:ms.get("app-state-type"),key:ms.get("key"),operation:ms.get("operation"),account:ms.get("account"),newValue:typeof ms.get("new-value")<"u"?AvmValue.fromEncodingData(ms.get("new-value")):void 0})}}let ApplicationStateSchema$1=class b1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"num-byte-slice",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"num-uint",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({numByteSlice:ms,numUint:ws}){this.numByteSlice=ensureSafeInteger(ms),this.numUint=ensureSafeInteger(ws)}getEncodingSchema(){return b1.encodingSchema}toEncodingData(){return new Map([["num-byte-slice",this.numByteSlice],["num-uint",this.numUint]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded ApplicationStateSchema: ${ms}`);return new b1({numByteSlice:ms.get("num-byte-slice"),numUint:ms.get("num-uint")})}},Asset$1=class x1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"index",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"params",valueSchema:AssetParams$1.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({index:ms,params:ws}){this.index=ensureBigInt(ms),this.params=ws}getEncodingSchema(){return x1.encodingSchema}toEncodingData(){return new Map([["index",this.index],["params",this.params.toEncodingData()]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded Asset: ${ms}`);return new x1({index:ms.get("index"),params:AssetParams$1.fromEncodingData(ms.get("params")??new Map)})}},AssetHolding$1=class $1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"amount",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"asset-id",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"is-frozen",valueSchema:new BooleanSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({amount:ms,assetId:ws,isFrozen:Ss}){this.amount=ensureBigInt(ms),this.assetId=ensureBigInt(ws),this.isFrozen=Ss}getEncodingSchema(){return $1.encodingSchema}toEncodingData(){return new Map([["amount",this.amount],["asset-id",this.assetId],["is-frozen",this.isFrozen]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AssetHolding: ${ms}`);return new $1({amount:ms.get("amount"),assetId:ms.get("asset-id"),isFrozen:ms.get("is-frozen")})}};class AssetHoldingReference{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"account",valueSchema:new StringSchema,omitEmpty:!0},{key:"asset",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({account:ms,asset:ws}){this.account=typeof ms=="string"?Address.fromString(ms):ms,this.asset=ensureBigInt(ws)}getEncodingSchema(){return AssetHoldingReference.encodingSchema}toEncodingData(){return new Map([["account",this.account.toString()],["asset",this.asset]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AssetHoldingReference: ${ms}`);return new AssetHoldingReference({account:ms.get("account"),asset:ms.get("asset")})}}let AssetParams$1=class _1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"creator",valueSchema:new StringSchema,omitEmpty:!0},{key:"decimals",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"total",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"clawback",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"default-frozen",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"freeze",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"manager",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"metadata-hash",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"name",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"name-b64",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"reserve",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"unit-name",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"unit-name-b64",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"url",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"url-b64",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({creator:ms,decimals:ws,total:Ss,clawback:Es,defaultFrozen:_s,freeze:Is,manager:Ts,metadataHash:Rs,name:Bs,nameB64:Ns,reserve:Ws,unitName:Js,unitNameB64:$l,url:wl,urlB64:_l}){this.creator=ms,this.decimals=ensureSafeInteger(ws),this.total=ensureBigInt(Ss),this.clawback=Es,this.defaultFrozen=_s,this.freeze=Is,this.manager=Ts,this.metadataHash=typeof Rs=="string"?base64ToBytes(Rs):Rs,this.name=Bs,this.nameB64=typeof Ns=="string"?base64ToBytes(Ns):Ns,this.reserve=Ws,this.unitName=Js,this.unitNameB64=typeof $l=="string"?base64ToBytes($l):$l,this.url=wl,this.urlB64=typeof _l=="string"?base64ToBytes(_l):_l}getEncodingSchema(){return _1.encodingSchema}toEncodingData(){return new Map([["creator",this.creator],["decimals",this.decimals],["total",this.total],["clawback",this.clawback],["default-frozen",this.defaultFrozen],["freeze",this.freeze],["manager",this.manager],["metadata-hash",this.metadataHash],["name",this.name],["name-b64",this.nameB64],["reserve",this.reserve],["unit-name",this.unitName],["unit-name-b64",this.unitNameB64],["url",this.url],["url-b64",this.urlB64]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AssetParams: ${ms}`);return new _1({creator:ms.get("creator"),decimals:ms.get("decimals"),total:ms.get("total"),clawback:ms.get("clawback"),defaultFrozen:ms.get("default-frozen"),freeze:ms.get("freeze"),manager:ms.get("manager"),metadataHash:ms.get("metadata-hash"),name:ms.get("name"),nameB64:ms.get("name-b64"),reserve:ms.get("reserve"),unitName:ms.get("unit-name"),unitNameB64:ms.get("unit-name-b64"),url:ms.get("url"),urlB64:ms.get("url-b64")})}};class AvmKeyValue{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"value",valueSchema:AvmValue.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:ms,value:ws}){this.key=typeof ms=="string"?base64ToBytes(ms):ms,this.value=ws}getEncodingSchema(){return AvmKeyValue.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AvmKeyValue: ${ms}`);return new AvmKeyValue({key:ms.get("key"),value:AvmValue.fromEncodingData(ms.get("value")??new Map)})}}class AvmValue{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"type",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"bytes",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"uint",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({type:ms,bytes:ws,uint:Ss}){this.type=ensureSafeInteger(ms),this.bytes=typeof ws=="string"?base64ToBytes(ws):ws,this.uint=typeof Ss>"u"?void 0:ensureBigInt(Ss)}getEncodingSchema(){return AvmValue.encodingSchema}toEncodingData(){return new Map([["type",this.type],["bytes",this.bytes],["uint",this.uint]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AvmValue: ${ms}`);return new AvmValue({type:ms.get("type"),bytes:ms.get("bytes"),uint:ms.get("uint")})}}class BlockHashResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"blockHash",valueSchema:new StringSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({blockhash:ms}){this.blockhash=ms}getEncodingSchema(){return BlockHashResponse.encodingSchema}toEncodingData(){return new Map([["blockHash",this.blockhash]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded BlockHashResponse: ${ms}`);return new BlockHashResponse({blockhash:ms.get("blockHash")})}}class BlockLogsResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"logs",valueSchema:new ArraySchema(AppCallLogs.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({logs:ms}){this.logs=ms}getEncodingSchema(){return BlockLogsResponse.encodingSchema}toEncodingData(){return new Map([["logs",this.logs.map(ms=>ms.toEncodingData())]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded BlockLogsResponse: ${ms}`);return new BlockLogsResponse({logs:(ms.get("logs")??[]).map(ws=>AppCallLogs.fromEncodingData(ws))})}}class BlockResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"block",valueSchema:Block$2.encodingSchema,omitEmpty:!0},{key:"cert",valueSchema:new OptionalSchema(UntypedValue.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({block:ms,cert:ws}){this.block=ms,this.cert=ws}getEncodingSchema(){return BlockResponse.encodingSchema}toEncodingData(){return new Map([["block",this.block.toEncodingData()],["cert",typeof this.cert<"u"?this.cert.toEncodingData():void 0]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded BlockResponse: ${ms}`);return new BlockResponse({block:Block$2.fromEncodingData(ms.get("block")??new Map),cert:typeof ms.get("cert")<"u"?UntypedValue.fromEncodingData(ms.get("cert")):void 0})}}class BlockTxidsResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"blockTxids",valueSchema:new ArraySchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({blocktxids:ms}){this.blocktxids=ms}getEncodingSchema(){return BlockTxidsResponse.encodingSchema}toEncodingData(){return new Map([["blockTxids",this.blocktxids]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded BlockTxidsResponse: ${ms}`);return new BlockTxidsResponse({blocktxids:ms.get("blockTxids")})}}let Box$1=class A1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"name",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"value",valueSchema:new ByteArraySchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({name:ms,round:ws,value:Ss}){this.name=typeof ms=="string"?base64ToBytes(ms):ms,this.round=ensureBigInt(ws),this.value=typeof Ss=="string"?base64ToBytes(Ss):Ss}getEncodingSchema(){return A1.encodingSchema}toEncodingData(){return new Map([["name",this.name],["round",this.round],["value",this.value]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded Box: ${ms}`);return new A1({name:ms.get("name"),round:ms.get("round"),value:ms.get("value")})}},BoxDescriptor$1=class k1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"name",valueSchema:new ByteArraySchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({name:ms}){this.name=typeof ms=="string"?base64ToBytes(ms):ms}getEncodingSchema(){return k1.encodingSchema}toEncodingData(){return new Map([["name",this.name]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded BoxDescriptor: ${ms}`);return new k1({name:ms.get("name")})}},BoxReference$1=class I1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"app",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"name",valueSchema:new ByteArraySchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({app:ms,name:ws}){this.app=ensureBigInt(ms),this.name=typeof ws=="string"?base64ToBytes(ws):ws}getEncodingSchema(){return I1.encodingSchema}toEncodingData(){return new Map([["app",this.app],["name",this.name]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded BoxReference: ${ms}`);return new I1({app:ms.get("app"),name:ms.get("name")})}},BoxesResponse$1=class T1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"boxes",valueSchema:new ArraySchema(BoxDescriptor$1.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({boxes:ms}){this.boxes=ms}getEncodingSchema(){return T1.encodingSchema}toEncodingData(){return new Map([["boxes",this.boxes.map(ms=>ms.toEncodingData())]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded BoxesResponse: ${ms}`);return new T1({boxes:(ms.get("boxes")??[]).map(ws=>BoxDescriptor$1.fromEncodingData(ws))})}};class BuildVersion{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"branch",valueSchema:new StringSchema,omitEmpty:!0},{key:"build_number",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"channel",valueSchema:new StringSchema,omitEmpty:!0},{key:"commit_hash",valueSchema:new StringSchema,omitEmpty:!0},{key:"major",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"minor",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({branch:ms,buildNumber:ws,channel:Ss,commitHash:Es,major:_s,minor:Is}){this.branch=ms,this.buildNumber=ensureSafeInteger(ws),this.channel=Ss,this.commitHash=Es,this.major=ensureSafeInteger(_s),this.minor=ensureSafeInteger(Is)}getEncodingSchema(){return BuildVersion.encodingSchema}toEncodingData(){return new Map([["branch",this.branch],["build_number",this.buildNumber],["channel",this.channel],["commit_hash",this.commitHash],["major",this.major],["minor",this.minor]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded BuildVersion: ${ms}`);return new BuildVersion({branch:ms.get("branch"),buildNumber:ms.get("build_number"),channel:ms.get("channel"),commitHash:ms.get("commit_hash"),major:ms.get("major"),minor:ms.get("minor")})}}class CompileResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"hash",valueSchema:new StringSchema,omitEmpty:!0},{key:"result",valueSchema:new StringSchema,omitEmpty:!0},{key:"sourcemap",valueSchema:new OptionalSchema(UntypedValue.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({hash:ms,result:ws,sourcemap:Ss}){this.hash=ms,this.result=ws,this.sourcemap=Ss}getEncodingSchema(){return CompileResponse.encodingSchema}toEncodingData(){return new Map([["hash",this.hash],["result",this.result],["sourcemap",typeof this.sourcemap<"u"?this.sourcemap.toEncodingData():void 0]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded CompileResponse: ${ms}`);return new CompileResponse({hash:ms.get("hash"),result:ms.get("result"),sourcemap:typeof ms.get("sourcemap")<"u"?UntypedValue.fromEncodingData(ms.get("sourcemap")):void 0})}}class DisassembleResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"result",valueSchema:new StringSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({result:ms}){this.result=ms}getEncodingSchema(){return DisassembleResponse.encodingSchema}toEncodingData(){return new Map([["result",this.result]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded DisassembleResponse: ${ms}`);return new DisassembleResponse({result:ms.get("result")})}}class DryrunRequest{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"accounts",valueSchema:new ArraySchema(Account$2.encodingSchema),omitEmpty:!0},{key:"apps",valueSchema:new ArraySchema(Application$1.encodingSchema),omitEmpty:!0},{key:"latest-timestamp",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"protocol-version",valueSchema:new StringSchema,omitEmpty:!0},{key:"round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"sources",valueSchema:new ArraySchema(DryrunSource.encodingSchema),omitEmpty:!0},{key:"txns",valueSchema:new ArraySchema(SignedTransaction.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({accounts:ms,apps:ws,latestTimestamp:Ss,protocolVersion:Es,round:_s,sources:Is,txns:Ts}){this.accounts=ms,this.apps=ws,this.latestTimestamp=ensureSafeInteger(Ss),this.protocolVersion=Es,this.round=ensureBigInt(_s),this.sources=Is,this.txns=Ts}getEncodingSchema(){return DryrunRequest.encodingSchema}toEncodingData(){return new Map([["accounts",this.accounts.map(ms=>ms.toEncodingData())],["apps",this.apps.map(ms=>ms.toEncodingData())],["latest-timestamp",this.latestTimestamp],["protocol-version",this.protocolVersion],["round",this.round],["sources",this.sources.map(ms=>ms.toEncodingData())],["txns",this.txns.map(ms=>ms.toEncodingData())]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded DryrunRequest: ${ms}`);return new DryrunRequest({accounts:(ms.get("accounts")??[]).map(ws=>Account$2.fromEncodingData(ws)),apps:(ms.get("apps")??[]).map(ws=>Application$1.fromEncodingData(ws)),latestTimestamp:ms.get("latest-timestamp"),protocolVersion:ms.get("protocol-version"),round:ms.get("round"),sources:(ms.get("sources")??[]).map(ws=>DryrunSource.fromEncodingData(ws)),txns:(ms.get("txns")??[]).map(ws=>SignedTransaction.fromEncodingData(ws))})}}class DryrunResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"error",valueSchema:new StringSchema,omitEmpty:!0},{key:"protocol-version",valueSchema:new StringSchema,omitEmpty:!0},{key:"txns",valueSchema:new ArraySchema(DryrunTxnResult.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({error:ms,protocolVersion:ws,txns:Ss}){this.error=ms,this.protocolVersion=ws,this.txns=Ss}getEncodingSchema(){return DryrunResponse.encodingSchema}toEncodingData(){return new Map([["error",this.error],["protocol-version",this.protocolVersion],["txns",this.txns.map(ms=>ms.toEncodingData())]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded DryrunResponse: ${ms}`);return new DryrunResponse({error:ms.get("error"),protocolVersion:ms.get("protocol-version"),txns:(ms.get("txns")??[]).map(ws=>DryrunTxnResult.fromEncodingData(ws))})}}class DryrunSource{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"app-index",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"field-name",valueSchema:new StringSchema,omitEmpty:!0},{key:"source",valueSchema:new StringSchema,omitEmpty:!0},{key:"txn-index",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({appIndex:ms,fieldName:ws,source:Ss,txnIndex:Es}){this.appIndex=ensureBigInt(ms),this.fieldName=ws,this.source=Ss,this.txnIndex=ensureSafeInteger(Es)}getEncodingSchema(){return DryrunSource.encodingSchema}toEncodingData(){return new Map([["app-index",this.appIndex],["field-name",this.fieldName],["source",this.source],["txn-index",this.txnIndex]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded DryrunSource: ${ms}`);return new DryrunSource({appIndex:ms.get("app-index"),fieldName:ms.get("field-name"),source:ms.get("source"),txnIndex:ms.get("txn-index")})}}class DryrunState{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"line",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"pc",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"stack",valueSchema:new ArraySchema(TealValue$1.encodingSchema),omitEmpty:!0},{key:"error",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"scratch",valueSchema:new OptionalSchema(new ArraySchema(TealValue$1.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({line:ms,pc:ws,stack:Ss,error:Es,scratch:_s}){this.line=ensureSafeInteger(ms),this.pc=ensureSafeInteger(ws),this.stack=Ss,this.error=Es,this.scratch=_s}getEncodingSchema(){return DryrunState.encodingSchema}toEncodingData(){return new Map([["line",this.line],["pc",this.pc],["stack",this.stack.map(ms=>ms.toEncodingData())],["error",this.error],["scratch",typeof this.scratch<"u"?this.scratch.map(ms=>ms.toEncodingData()):void 0]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded DryrunState: ${ms}`);return new DryrunState({line:ms.get("line"),pc:ms.get("pc"),stack:(ms.get("stack")??[]).map(ws=>TealValue$1.fromEncodingData(ws)),error:ms.get("error"),scratch:typeof ms.get("scratch")<"u"?ms.get("scratch").map(ws=>TealValue$1.fromEncodingData(ws)):void 0})}}class DryrunTxnResult{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"disassembly",valueSchema:new ArraySchema(new StringSchema),omitEmpty:!0},{key:"app-call-messages",valueSchema:new OptionalSchema(new ArraySchema(new StringSchema)),omitEmpty:!0},{key:"app-call-trace",valueSchema:new OptionalSchema(new ArraySchema(DryrunState.encodingSchema)),omitEmpty:!0},{key:"budget-added",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"budget-consumed",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"global-delta",valueSchema:new OptionalSchema(new ArraySchema(EvalDeltaKeyValue$1.encodingSchema)),omitEmpty:!0},{key:"local-deltas",valueSchema:new OptionalSchema(new ArraySchema(AccountStateDelta$1.encodingSchema)),omitEmpty:!0},{key:"logic-sig-disassembly",valueSchema:new OptionalSchema(new ArraySchema(new StringSchema)),omitEmpty:!0},{key:"logic-sig-messages",valueSchema:new OptionalSchema(new ArraySchema(new StringSchema)),omitEmpty:!0},{key:"logic-sig-trace",valueSchema:new OptionalSchema(new ArraySchema(DryrunState.encodingSchema)),omitEmpty:!0},{key:"logs",valueSchema:new OptionalSchema(new ArraySchema(new ByteArraySchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({disassembly:ms,appCallMessages:ws,appCallTrace:Ss,budgetAdded:Es,budgetConsumed:_s,globalDelta:Is,localDeltas:Ts,logicSigDisassembly:Rs,logicSigMessages:Bs,logicSigTrace:Ns,logs:Ws}){this.disassembly=ms,this.appCallMessages=ws,this.appCallTrace=Ss,this.budgetAdded=typeof Es>"u"?void 0:ensureSafeInteger(Es),this.budgetConsumed=typeof _s>"u"?void 0:ensureSafeInteger(_s),this.globalDelta=Is,this.localDeltas=Ts,this.logicSigDisassembly=Rs,this.logicSigMessages=Bs,this.logicSigTrace=Ns,this.logs=Ws}getEncodingSchema(){return DryrunTxnResult.encodingSchema}toEncodingData(){return new Map([["disassembly",this.disassembly],["app-call-messages",this.appCallMessages],["app-call-trace",typeof this.appCallTrace<"u"?this.appCallTrace.map(ms=>ms.toEncodingData()):void 0],["budget-added",this.budgetAdded],["budget-consumed",this.budgetConsumed],["global-delta",typeof this.globalDelta<"u"?this.globalDelta.map(ms=>ms.toEncodingData()):void 0],["local-deltas",typeof this.localDeltas<"u"?this.localDeltas.map(ms=>ms.toEncodingData()):void 0],["logic-sig-disassembly",this.logicSigDisassembly],["logic-sig-messages",this.logicSigMessages],["logic-sig-trace",typeof this.logicSigTrace<"u"?this.logicSigTrace.map(ms=>ms.toEncodingData()):void 0],["logs",this.logs]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded DryrunTxnResult: ${ms}`);return new DryrunTxnResult({disassembly:ms.get("disassembly"),appCallMessages:ms.get("app-call-messages"),appCallTrace:typeof ms.get("app-call-trace")<"u"?ms.get("app-call-trace").map(ws=>DryrunState.fromEncodingData(ws)):void 0,budgetAdded:ms.get("budget-added"),budgetConsumed:ms.get("budget-consumed"),globalDelta:typeof ms.get("global-delta")<"u"?ms.get("global-delta").map(ws=>EvalDeltaKeyValue$1.fromEncodingData(ws)):void 0,localDeltas:typeof ms.get("local-deltas")<"u"?ms.get("local-deltas").map(ws=>AccountStateDelta$1.fromEncodingData(ws)):void 0,logicSigDisassembly:ms.get("logic-sig-disassembly"),logicSigMessages:ms.get("logic-sig-messages"),logicSigTrace:typeof ms.get("logic-sig-trace")<"u"?ms.get("logic-sig-trace").map(ws=>DryrunState.fromEncodingData(ws)):void 0,logs:ms.get("logs")})}}let ErrorResponse$1=class C1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"message",valueSchema:new StringSchema,omitEmpty:!0},{key:"data",valueSchema:new OptionalSchema(UntypedValue.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({message:ms,data:ws}){this.message=ms,this.data=ws}getEncodingSchema(){return C1.encodingSchema}toEncodingData(){return new Map([["message",this.message],["data",typeof this.data<"u"?this.data.toEncodingData():void 0]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded ErrorResponse: ${ms}`);return new C1({message:ms.get("message"),data:typeof ms.get("data")<"u"?UntypedValue.fromEncodingData(ms.get("data")):void 0})}},EvalDelta$1=class M1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"action",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"bytes",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"uint",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({action:ms,bytes:ws,uint:Ss}){this.action=ensureSafeInteger(ms),this.bytes=ws,this.uint=typeof Ss>"u"?void 0:ensureBigInt(Ss)}getEncodingSchema(){return M1.encodingSchema}toEncodingData(){return new Map([["action",this.action],["bytes",this.bytes],["uint",this.uint]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded EvalDelta: ${ms}`);return new M1({action:ms.get("action"),bytes:ms.get("bytes"),uint:ms.get("uint")})}},EvalDeltaKeyValue$1=class P1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new StringSchema,omitEmpty:!0},{key:"value",valueSchema:EvalDelta$1.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:ms,value:ws}){this.key=ms,this.value=ws}getEncodingSchema(){return P1.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded EvalDeltaKeyValue: ${ms}`);return new P1({key:ms.get("key"),value:EvalDelta$1.fromEncodingData(ms.get("value")??new Map)})}},Genesis$1=class D1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"alloc",valueSchema:new ArraySchema(GenesisAllocation.encodingSchema),omitEmpty:!0},{key:"fees",valueSchema:new StringSchema,omitEmpty:!0},{key:"id",valueSchema:new StringSchema,omitEmpty:!0},{key:"network",valueSchema:new StringSchema,omitEmpty:!0},{key:"proto",valueSchema:new StringSchema,omitEmpty:!0},{key:"rwd",valueSchema:new StringSchema,omitEmpty:!0},{key:"timestamp",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"comment",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"devmode",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({alloc:ms,fees:ws,id:Ss,network:Es,proto:_s,rwd:Is,timestamp:Ts,comment:Rs,devmode:Bs}){this.alloc=ms,this.fees=ws,this.id=Ss,this.network=Es,this.proto=_s,this.rwd=Is,this.timestamp=ensureSafeInteger(Ts),this.comment=Rs,this.devmode=Bs}getEncodingSchema(){return D1.encodingSchema}toEncodingData(){return new Map([["alloc",this.alloc.map(ms=>ms.toEncodingData())],["fees",this.fees],["id",this.id],["network",this.network],["proto",this.proto],["rwd",this.rwd],["timestamp",this.timestamp],["comment",this.comment],["devmode",this.devmode]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded Genesis: ${ms}`);return new D1({alloc:(ms.get("alloc")??[]).map(ws=>GenesisAllocation.fromEncodingData(ws)),fees:ms.get("fees"),id:ms.get("id"),network:ms.get("network"),proto:ms.get("proto"),rwd:ms.get("rwd"),timestamp:ms.get("timestamp"),comment:ms.get("comment"),devmode:ms.get("devmode")})}};class GenesisAllocation{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"addr",valueSchema:new StringSchema,omitEmpty:!0},{key:"comment",valueSchema:new StringSchema,omitEmpty:!0},{key:"state",valueSchema:UntypedValue.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({addr:ms,comment:ws,state:Ss}){this.addr=ms,this.comment=ws,this.state=Ss}getEncodingSchema(){return GenesisAllocation.encodingSchema}toEncodingData(){return new Map([["addr",this.addr],["comment",this.comment],["state",this.state.toEncodingData()]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded GenesisAllocation: ${ms}`);return new GenesisAllocation({addr:ms.get("addr"),comment:ms.get("comment"),state:UntypedValue.fromEncodingData(ms.get("state")??new Map)})}}class GetBlockTimeStampOffsetResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"offset",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({offset:ms}){this.offset=ensureSafeInteger(ms)}getEncodingSchema(){return GetBlockTimeStampOffsetResponse.encodingSchema}toEncodingData(){return new Map([["offset",this.offset]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded GetBlockTimeStampOffsetResponse: ${ms}`);return new GetBlockTimeStampOffsetResponse({offset:ms.get("offset")})}}class GetSyncRoundResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"round",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({round:ms}){this.round=ensureBigInt(ms)}getEncodingSchema(){return GetSyncRoundResponse.encodingSchema}toEncodingData(){return new Map([["round",this.round]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded GetSyncRoundResponse: ${ms}`);return new GetSyncRoundResponse({round:ms.get("round")})}}class LedgerStateDeltaForTransactionGroup{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"Delta",valueSchema:LedgerStateDelta.encodingSchema,omitEmpty:!0},{key:"Ids",valueSchema:new ArraySchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({delta:ms,ids:ws}){this.delta=ms,this.ids=ws}getEncodingSchema(){return LedgerStateDeltaForTransactionGroup.encodingSchema}toEncodingData(){return new Map([["Delta",this.delta.toEncodingData()],["Ids",this.ids]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded LedgerStateDeltaForTransactionGroup: ${ms}`);return new LedgerStateDeltaForTransactionGroup({delta:LedgerStateDelta.fromEncodingData(ms.get("Delta")??new Map),ids:ms.get("Ids")})}}let LightBlockHeaderProof$1=class R1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"index",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"proof",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"treedepth",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({index:ms,proof:ws,treedepth:Ss}){this.index=ensureSafeInteger(ms),this.proof=typeof ws=="string"?base64ToBytes(ws):ws,this.treedepth=ensureSafeInteger(Ss)}getEncodingSchema(){return R1.encodingSchema}toEncodingData(){return new Map([["index",this.index],["proof",this.proof],["treedepth",this.treedepth]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded LightBlockHeaderProof: ${ms}`);return new R1({index:ms.get("index"),proof:ms.get("proof"),treedepth:ms.get("treedepth")})}};class NodeStatusResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"catchup-time",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"last-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"last-version",valueSchema:new StringSchema,omitEmpty:!0},{key:"next-version",valueSchema:new StringSchema,omitEmpty:!0},{key:"next-version-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"next-version-supported",valueSchema:new BooleanSchema,omitEmpty:!0},{key:"stopped-at-unsupported-round",valueSchema:new BooleanSchema,omitEmpty:!0},{key:"time-since-last-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"catchpoint",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"catchpoint-acquired-blocks",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"catchpoint-processed-accounts",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"catchpoint-processed-kvs",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"catchpoint-total-accounts",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"catchpoint-total-blocks",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"catchpoint-total-kvs",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"catchpoint-verified-accounts",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"catchpoint-verified-kvs",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"last-catchpoint",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"upgrade-delay",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"upgrade-next-protocol-vote-before",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"upgrade-no-votes",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"upgrade-node-vote",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"upgrade-vote-rounds",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"upgrade-votes",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"upgrade-votes-required",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"upgrade-yes-votes",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({catchupTime:ms,lastRound:ws,lastVersion:Ss,nextVersion:Es,nextVersionRound:_s,nextVersionSupported:Is,stoppedAtUnsupportedRound:Ts,timeSinceLastRound:Rs,catchpoint:Bs,catchpointAcquiredBlocks:Ns,catchpointProcessedAccounts:Ws,catchpointProcessedKvs:Js,catchpointTotalAccounts:$l,catchpointTotalBlocks:wl,catchpointTotalKvs:_l,catchpointVerifiedAccounts:Cl,catchpointVerifiedKvs:Sl,lastCatchpoint:El,upgradeDelay:xl,upgradeNextProtocolVoteBefore:Ml,upgradeNoVotes:Vl,upgradeNodeVote:Ul,upgradeVoteRounds:_h,upgradeVotes:nu,upgradeVotesRequired:su,upgradeYesVotes:Jl}){this.catchupTime=ensureBigInt(ms),this.lastRound=ensureBigInt(ws),this.lastVersion=Ss,this.nextVersion=Es,this.nextVersionRound=ensureBigInt(_s),this.nextVersionSupported=Is,this.stoppedAtUnsupportedRound=Ts,this.timeSinceLastRound=ensureBigInt(Rs),this.catchpoint=Bs,this.catchpointAcquiredBlocks=typeof Ns>"u"?void 0:ensureSafeInteger(Ns),this.catchpointProcessedAccounts=typeof Ws>"u"?void 0:ensureSafeInteger(Ws),this.catchpointProcessedKvs=typeof Js>"u"?void 0:ensureSafeInteger(Js),this.catchpointTotalAccounts=typeof $l>"u"?void 0:ensureSafeInteger($l),this.catchpointTotalBlocks=typeof wl>"u"?void 0:ensureSafeInteger(wl),this.catchpointTotalKvs=typeof _l>"u"?void 0:ensureSafeInteger(_l),this.catchpointVerifiedAccounts=typeof Cl>"u"?void 0:ensureSafeInteger(Cl),this.catchpointVerifiedKvs=typeof Sl>"u"?void 0:ensureSafeInteger(Sl),this.lastCatchpoint=El,this.upgradeDelay=typeof xl>"u"?void 0:ensureBigInt(xl),this.upgradeNextProtocolVoteBefore=typeof Ml>"u"?void 0:ensureBigInt(Ml),this.upgradeNoVotes=typeof Vl>"u"?void 0:ensureSafeInteger(Vl),this.upgradeNodeVote=Ul,this.upgradeVoteRounds=typeof _h>"u"?void 0:ensureSafeInteger(_h),this.upgradeVotes=typeof nu>"u"?void 0:ensureSafeInteger(nu),this.upgradeVotesRequired=typeof su>"u"?void 0:ensureSafeInteger(su),this.upgradeYesVotes=typeof Jl>"u"?void 0:ensureSafeInteger(Jl)}getEncodingSchema(){return NodeStatusResponse.encodingSchema}toEncodingData(){return new Map([["catchup-time",this.catchupTime],["last-round",this.lastRound],["last-version",this.lastVersion],["next-version",this.nextVersion],["next-version-round",this.nextVersionRound],["next-version-supported",this.nextVersionSupported],["stopped-at-unsupported-round",this.stoppedAtUnsupportedRound],["time-since-last-round",this.timeSinceLastRound],["catchpoint",this.catchpoint],["catchpoint-acquired-blocks",this.catchpointAcquiredBlocks],["catchpoint-processed-accounts",this.catchpointProcessedAccounts],["catchpoint-processed-kvs",this.catchpointProcessedKvs],["catchpoint-total-accounts",this.catchpointTotalAccounts],["catchpoint-total-blocks",this.catchpointTotalBlocks],["catchpoint-total-kvs",this.catchpointTotalKvs],["catchpoint-verified-accounts",this.catchpointVerifiedAccounts],["catchpoint-verified-kvs",this.catchpointVerifiedKvs],["last-catchpoint",this.lastCatchpoint],["upgrade-delay",this.upgradeDelay],["upgrade-next-protocol-vote-before",this.upgradeNextProtocolVoteBefore],["upgrade-no-votes",this.upgradeNoVotes],["upgrade-node-vote",this.upgradeNodeVote],["upgrade-vote-rounds",this.upgradeVoteRounds],["upgrade-votes",this.upgradeVotes],["upgrade-votes-required",this.upgradeVotesRequired],["upgrade-yes-votes",this.upgradeYesVotes]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded NodeStatusResponse: ${ms}`);return new NodeStatusResponse({catchupTime:ms.get("catchup-time"),lastRound:ms.get("last-round"),lastVersion:ms.get("last-version"),nextVersion:ms.get("next-version"),nextVersionRound:ms.get("next-version-round"),nextVersionSupported:ms.get("next-version-supported"),stoppedAtUnsupportedRound:ms.get("stopped-at-unsupported-round"),timeSinceLastRound:ms.get("time-since-last-round"),catchpoint:ms.get("catchpoint"),catchpointAcquiredBlocks:ms.get("catchpoint-acquired-blocks"),catchpointProcessedAccounts:ms.get("catchpoint-processed-accounts"),catchpointProcessedKvs:ms.get("catchpoint-processed-kvs"),catchpointTotalAccounts:ms.get("catchpoint-total-accounts"),catchpointTotalBlocks:ms.get("catchpoint-total-blocks"),catchpointTotalKvs:ms.get("catchpoint-total-kvs"),catchpointVerifiedAccounts:ms.get("catchpoint-verified-accounts"),catchpointVerifiedKvs:ms.get("catchpoint-verified-kvs"),lastCatchpoint:ms.get("last-catchpoint"),upgradeDelay:ms.get("upgrade-delay"),upgradeNextProtocolVoteBefore:ms.get("upgrade-next-protocol-vote-before"),upgradeNoVotes:ms.get("upgrade-no-votes"),upgradeNodeVote:ms.get("upgrade-node-vote"),upgradeVoteRounds:ms.get("upgrade-vote-rounds"),upgradeVotes:ms.get("upgrade-votes"),upgradeVotesRequired:ms.get("upgrade-votes-required"),upgradeYesVotes:ms.get("upgrade-yes-votes")})}}class PendingTransactionResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"pool-error",valueSchema:new StringSchema,omitEmpty:!0},{key:"txn",valueSchema:SignedTransaction.encodingSchema,omitEmpty:!0},{key:"application-index",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"asset-closing-amount",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"asset-index",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"close-rewards",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"closing-amount",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"confirmed-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"global-state-delta",valueSchema:new OptionalSchema(new ArraySchema(EvalDeltaKeyValue$1.encodingSchema)),omitEmpty:!0},{key:"inner-txns",valueSchema:new OptionalSchema(new ArraySchema(PendingTransactionResponse.encodingSchema)),omitEmpty:!0},{key:"local-state-delta",valueSchema:new OptionalSchema(new ArraySchema(AccountStateDelta$1.encodingSchema)),omitEmpty:!0},{key:"logs",valueSchema:new OptionalSchema(new ArraySchema(new ByteArraySchema)),omitEmpty:!0},{key:"receiver-rewards",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"sender-rewards",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({poolError:ms,txn:ws,applicationIndex:Ss,assetClosingAmount:Es,assetIndex:_s,closeRewards:Is,closingAmount:Ts,confirmedRound:Rs,globalStateDelta:Bs,innerTxns:Ns,localStateDelta:Ws,logs:Js,receiverRewards:$l,senderRewards:wl}){this.poolError=ms,this.txn=ws,this.applicationIndex=typeof Ss>"u"?void 0:ensureBigInt(Ss),this.assetClosingAmount=typeof Es>"u"?void 0:ensureBigInt(Es),this.assetIndex=typeof _s>"u"?void 0:ensureBigInt(_s),this.closeRewards=typeof Is>"u"?void 0:ensureBigInt(Is),this.closingAmount=typeof Ts>"u"?void 0:ensureBigInt(Ts),this.confirmedRound=typeof Rs>"u"?void 0:ensureBigInt(Rs),this.globalStateDelta=Bs,this.innerTxns=Ns,this.localStateDelta=Ws,this.logs=Js,this.receiverRewards=typeof $l>"u"?void 0:ensureBigInt($l),this.senderRewards=typeof wl>"u"?void 0:ensureBigInt(wl)}getEncodingSchema(){return PendingTransactionResponse.encodingSchema}toEncodingData(){return new Map([["pool-error",this.poolError],["txn",this.txn.toEncodingData()],["application-index",this.applicationIndex],["asset-closing-amount",this.assetClosingAmount],["asset-index",this.assetIndex],["close-rewards",this.closeRewards],["closing-amount",this.closingAmount],["confirmed-round",this.confirmedRound],["global-state-delta",typeof this.globalStateDelta<"u"?this.globalStateDelta.map(ms=>ms.toEncodingData()):void 0],["inner-txns",typeof this.innerTxns<"u"?this.innerTxns.map(ms=>ms.toEncodingData()):void 0],["local-state-delta",typeof this.localStateDelta<"u"?this.localStateDelta.map(ms=>ms.toEncodingData()):void 0],["logs",this.logs],["receiver-rewards",this.receiverRewards],["sender-rewards",this.senderRewards]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded PendingTransactionResponse: ${ms}`);return new PendingTransactionResponse({poolError:ms.get("pool-error"),txn:SignedTransaction.fromEncodingData(ms.get("txn")??new Map),applicationIndex:ms.get("application-index"),assetClosingAmount:ms.get("asset-closing-amount"),assetIndex:ms.get("asset-index"),closeRewards:ms.get("close-rewards"),closingAmount:ms.get("closing-amount"),confirmedRound:ms.get("confirmed-round"),globalStateDelta:typeof ms.get("global-state-delta")<"u"?ms.get("global-state-delta").map(ws=>EvalDeltaKeyValue$1.fromEncodingData(ws)):void 0,innerTxns:typeof ms.get("inner-txns")<"u"?ms.get("inner-txns").map(ws=>PendingTransactionResponse.fromEncodingData(ws)):void 0,localStateDelta:typeof ms.get("local-state-delta")<"u"?ms.get("local-state-delta").map(ws=>AccountStateDelta$1.fromEncodingData(ws)):void 0,logs:ms.get("logs"),receiverRewards:ms.get("receiver-rewards"),senderRewards:ms.get("sender-rewards")})}}class PendingTransactionsResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"top-transactions",valueSchema:new ArraySchema(SignedTransaction.encodingSchema),omitEmpty:!0},{key:"total-transactions",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({topTransactions:ms,totalTransactions:ws}){this.topTransactions=ms,this.totalTransactions=ensureSafeInteger(ws)}getEncodingSchema(){return PendingTransactionsResponse.encodingSchema}toEncodingData(){return new Map([["top-transactions",this.topTransactions.map(ms=>ms.toEncodingData())],["total-transactions",this.totalTransactions]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded PendingTransactionsResponse: ${ms}`);return new PendingTransactionsResponse({topTransactions:(ms.get("top-transactions")??[]).map(ws=>SignedTransaction.fromEncodingData(ws)),totalTransactions:ms.get("total-transactions")})}}class PostTransactionsResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"txId",valueSchema:new StringSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({txid:ms}){this.txid=ms}getEncodingSchema(){return PostTransactionsResponse.encodingSchema}toEncodingData(){return new Map([["txId",this.txid]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded PostTransactionsResponse: ${ms}`);return new PostTransactionsResponse({txid:ms.get("txId")})}}class ScratchChange{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"new-value",valueSchema:AvmValue.encodingSchema,omitEmpty:!0},{key:"slot",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({newValue:ms,slot:ws}){this.newValue=ms,this.slot=ensureSafeInteger(ws)}getEncodingSchema(){return ScratchChange.encodingSchema}toEncodingData(){return new Map([["new-value",this.newValue.toEncodingData()],["slot",this.slot]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded ScratchChange: ${ms}`);return new ScratchChange({newValue:AvmValue.fromEncodingData(ms.get("new-value")??new Map),slot:ms.get("slot")})}}class SimulateInitialStates{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"app-initial-states",valueSchema:new OptionalSchema(new ArraySchema(ApplicationInitialStates.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({appInitialStates:ms}){this.appInitialStates=ms}getEncodingSchema(){return SimulateInitialStates.encodingSchema}toEncodingData(){return new Map([["app-initial-states",typeof this.appInitialStates<"u"?this.appInitialStates.map(ms=>ms.toEncodingData()):void 0]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded SimulateInitialStates: ${ms}`);return new SimulateInitialStates({appInitialStates:typeof ms.get("app-initial-states")<"u"?ms.get("app-initial-states").map(ws=>ApplicationInitialStates.fromEncodingData(ws)):void 0})}}class SimulateRequest{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"txn-groups",valueSchema:new ArraySchema(SimulateRequestTransactionGroup.encodingSchema),omitEmpty:!0},{key:"allow-empty-signatures",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"allow-more-logging",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"allow-unnamed-resources",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"exec-trace-config",valueSchema:new OptionalSchema(SimulateTraceConfig.encodingSchema),omitEmpty:!0},{key:"extra-opcode-budget",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"fix-signers",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({txnGroups:ms,allowEmptySignatures:ws,allowMoreLogging:Ss,allowUnnamedResources:Es,execTraceConfig:_s,extraOpcodeBudget:Is,fixSigners:Ts,round:Rs}){this.txnGroups=ms,this.allowEmptySignatures=ws,this.allowMoreLogging=Ss,this.allowUnnamedResources=Es,this.execTraceConfig=_s,this.extraOpcodeBudget=typeof Is>"u"?void 0:ensureSafeInteger(Is),this.fixSigners=Ts,this.round=typeof Rs>"u"?void 0:ensureBigInt(Rs)}getEncodingSchema(){return SimulateRequest.encodingSchema}toEncodingData(){return new Map([["txn-groups",this.txnGroups.map(ms=>ms.toEncodingData())],["allow-empty-signatures",this.allowEmptySignatures],["allow-more-logging",this.allowMoreLogging],["allow-unnamed-resources",this.allowUnnamedResources],["exec-trace-config",typeof this.execTraceConfig<"u"?this.execTraceConfig.toEncodingData():void 0],["extra-opcode-budget",this.extraOpcodeBudget],["fix-signers",this.fixSigners],["round",this.round]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded SimulateRequest: ${ms}`);return new SimulateRequest({txnGroups:(ms.get("txn-groups")??[]).map(ws=>SimulateRequestTransactionGroup.fromEncodingData(ws)),allowEmptySignatures:ms.get("allow-empty-signatures"),allowMoreLogging:ms.get("allow-more-logging"),allowUnnamedResources:ms.get("allow-unnamed-resources"),execTraceConfig:typeof ms.get("exec-trace-config")<"u"?SimulateTraceConfig.fromEncodingData(ms.get("exec-trace-config")):void 0,extraOpcodeBudget:ms.get("extra-opcode-budget"),fixSigners:ms.get("fix-signers"),round:ms.get("round")})}}class SimulateRequestTransactionGroup{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"txns",valueSchema:new ArraySchema(SignedTransaction.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({txns:ms}){this.txns=ms}getEncodingSchema(){return SimulateRequestTransactionGroup.encodingSchema}toEncodingData(){return new Map([["txns",this.txns.map(ms=>ms.toEncodingData())]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded SimulateRequestTransactionGroup: ${ms}`);return new SimulateRequestTransactionGroup({txns:(ms.get("txns")??[]).map(ws=>SignedTransaction.fromEncodingData(ws))})}}class SimulateResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"last-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"txn-groups",valueSchema:new ArraySchema(SimulateTransactionGroupResult.encodingSchema),omitEmpty:!0},{key:"version",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"eval-overrides",valueSchema:new OptionalSchema(SimulationEvalOverrides.encodingSchema),omitEmpty:!0},{key:"exec-trace-config",valueSchema:new OptionalSchema(SimulateTraceConfig.encodingSchema),omitEmpty:!0},{key:"initial-states",valueSchema:new OptionalSchema(SimulateInitialStates.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({lastRound:ms,txnGroups:ws,version:Ss,evalOverrides:Es,execTraceConfig:_s,initialStates:Is}){this.lastRound=ensureBigInt(ms),this.txnGroups=ws,this.version=ensureSafeInteger(Ss),this.evalOverrides=Es,this.execTraceConfig=_s,this.initialStates=Is}getEncodingSchema(){return SimulateResponse.encodingSchema}toEncodingData(){return new Map([["last-round",this.lastRound],["txn-groups",this.txnGroups.map(ms=>ms.toEncodingData())],["version",this.version],["eval-overrides",typeof this.evalOverrides<"u"?this.evalOverrides.toEncodingData():void 0],["exec-trace-config",typeof this.execTraceConfig<"u"?this.execTraceConfig.toEncodingData():void 0],["initial-states",typeof this.initialStates<"u"?this.initialStates.toEncodingData():void 0]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded SimulateResponse: ${ms}`);return new SimulateResponse({lastRound:ms.get("last-round"),txnGroups:(ms.get("txn-groups")??[]).map(ws=>SimulateTransactionGroupResult.fromEncodingData(ws)),version:ms.get("version"),evalOverrides:typeof ms.get("eval-overrides")<"u"?SimulationEvalOverrides.fromEncodingData(ms.get("eval-overrides")):void 0,execTraceConfig:typeof ms.get("exec-trace-config")<"u"?SimulateTraceConfig.fromEncodingData(ms.get("exec-trace-config")):void 0,initialStates:typeof ms.get("initial-states")<"u"?SimulateInitialStates.fromEncodingData(ms.get("initial-states")):void 0})}}class SimulateTraceConfig{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"enable",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"scratch-change",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"stack-change",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"state-change",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({enable:ms,scratchChange:ws,stackChange:Ss,stateChange:Es}){this.enable=ms,this.scratchChange=ws,this.stackChange=Ss,this.stateChange=Es}getEncodingSchema(){return SimulateTraceConfig.encodingSchema}toEncodingData(){return new Map([["enable",this.enable],["scratch-change",this.scratchChange],["stack-change",this.stackChange],["state-change",this.stateChange]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded SimulateTraceConfig: ${ms}`);return new SimulateTraceConfig({enable:ms.get("enable"),scratchChange:ms.get("scratch-change"),stackChange:ms.get("stack-change"),stateChange:ms.get("state-change")})}}class SimulateTransactionGroupResult{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"txn-results",valueSchema:new ArraySchema(SimulateTransactionResult.encodingSchema),omitEmpty:!0},{key:"app-budget-added",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"app-budget-consumed",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"failed-at",valueSchema:new OptionalSchema(new ArraySchema(new Uint64Schema)),omitEmpty:!0},{key:"failure-message",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"unnamed-resources-accessed",valueSchema:new OptionalSchema(SimulateUnnamedResourcesAccessed.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({txnResults:ms,appBudgetAdded:ws,appBudgetConsumed:Ss,failedAt:Es,failureMessage:_s,unnamedResourcesAccessed:Is}){this.txnResults=ms,this.appBudgetAdded=typeof ws>"u"?void 0:ensureSafeInteger(ws),this.appBudgetConsumed=typeof Ss>"u"?void 0:ensureSafeInteger(Ss),this.failedAt=typeof Es>"u"?void 0:Es.map(ensureSafeInteger),this.failureMessage=_s,this.unnamedResourcesAccessed=Is}getEncodingSchema(){return SimulateTransactionGroupResult.encodingSchema}toEncodingData(){return new Map([["txn-results",this.txnResults.map(ms=>ms.toEncodingData())],["app-budget-added",this.appBudgetAdded],["app-budget-consumed",this.appBudgetConsumed],["failed-at",this.failedAt],["failure-message",this.failureMessage],["unnamed-resources-accessed",typeof this.unnamedResourcesAccessed<"u"?this.unnamedResourcesAccessed.toEncodingData():void 0]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded SimulateTransactionGroupResult: ${ms}`);return new SimulateTransactionGroupResult({txnResults:(ms.get("txn-results")??[]).map(ws=>SimulateTransactionResult.fromEncodingData(ws)),appBudgetAdded:ms.get("app-budget-added"),appBudgetConsumed:ms.get("app-budget-consumed"),failedAt:ms.get("failed-at"),failureMessage:ms.get("failure-message"),unnamedResourcesAccessed:typeof ms.get("unnamed-resources-accessed")<"u"?SimulateUnnamedResourcesAccessed.fromEncodingData(ms.get("unnamed-resources-accessed")):void 0})}}class SimulateTransactionResult{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"txn-result",valueSchema:PendingTransactionResponse.encodingSchema,omitEmpty:!0},{key:"app-budget-consumed",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"exec-trace",valueSchema:new OptionalSchema(SimulationTransactionExecTrace.encodingSchema),omitEmpty:!0},{key:"fixed-signer",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"logic-sig-budget-consumed",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"unnamed-resources-accessed",valueSchema:new OptionalSchema(SimulateUnnamedResourcesAccessed.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({txnResult:ms,appBudgetConsumed:ws,execTrace:Ss,fixedSigner:Es,logicSigBudgetConsumed:_s,unnamedResourcesAccessed:Is}){this.txnResult=ms,this.appBudgetConsumed=typeof ws>"u"?void 0:ensureSafeInteger(ws),this.execTrace=Ss,this.fixedSigner=typeof Es=="string"?Address.fromString(Es):Es,this.logicSigBudgetConsumed=typeof _s>"u"?void 0:ensureSafeInteger(_s),this.unnamedResourcesAccessed=Is}getEncodingSchema(){return SimulateTransactionResult.encodingSchema}toEncodingData(){return new Map([["txn-result",this.txnResult.toEncodingData()],["app-budget-consumed",this.appBudgetConsumed],["exec-trace",typeof this.execTrace<"u"?this.execTrace.toEncodingData():void 0],["fixed-signer",typeof this.fixedSigner<"u"?this.fixedSigner.toString():void 0],["logic-sig-budget-consumed",this.logicSigBudgetConsumed],["unnamed-resources-accessed",typeof this.unnamedResourcesAccessed<"u"?this.unnamedResourcesAccessed.toEncodingData():void 0]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded SimulateTransactionResult: ${ms}`);return new SimulateTransactionResult({txnResult:PendingTransactionResponse.fromEncodingData(ms.get("txn-result")??new Map),appBudgetConsumed:ms.get("app-budget-consumed"),execTrace:typeof ms.get("exec-trace")<"u"?SimulationTransactionExecTrace.fromEncodingData(ms.get("exec-trace")):void 0,fixedSigner:ms.get("fixed-signer"),logicSigBudgetConsumed:ms.get("logic-sig-budget-consumed"),unnamedResourcesAccessed:typeof ms.get("unnamed-resources-accessed")<"u"?SimulateUnnamedResourcesAccessed.fromEncodingData(ms.get("unnamed-resources-accessed")):void 0})}}class SimulateUnnamedResourcesAccessed{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"accounts",valueSchema:new OptionalSchema(new ArraySchema(new StringSchema)),omitEmpty:!0},{key:"app-locals",valueSchema:new OptionalSchema(new ArraySchema(ApplicationLocalReference.encodingSchema)),omitEmpty:!0},{key:"apps",valueSchema:new OptionalSchema(new ArraySchema(new Uint64Schema)),omitEmpty:!0},{key:"asset-holdings",valueSchema:new OptionalSchema(new ArraySchema(AssetHoldingReference.encodingSchema)),omitEmpty:!0},{key:"assets",valueSchema:new OptionalSchema(new ArraySchema(new Uint64Schema)),omitEmpty:!0},{key:"boxes",valueSchema:new OptionalSchema(new ArraySchema(BoxReference$1.encodingSchema)),omitEmpty:!0},{key:"extra-box-refs",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({accounts:ms,appLocals:ws,apps:Ss,assetHoldings:Es,assets:_s,boxes:Is,extraBoxRefs:Ts}){this.accounts=typeof ms<"u"?ms.map(Rs=>typeof Rs=="string"?Address.fromString(Rs):Rs):void 0,this.appLocals=ws,this.apps=typeof Ss>"u"?void 0:Ss.map(ensureBigInt),this.assetHoldings=Es,this.assets=typeof _s>"u"?void 0:_s.map(ensureBigInt),this.boxes=Is,this.extraBoxRefs=typeof Ts>"u"?void 0:ensureSafeInteger(Ts)}getEncodingSchema(){return SimulateUnnamedResourcesAccessed.encodingSchema}toEncodingData(){return new Map([["accounts",typeof this.accounts<"u"?this.accounts.map(ms=>ms.toString()):void 0],["app-locals",typeof this.appLocals<"u"?this.appLocals.map(ms=>ms.toEncodingData()):void 0],["apps",this.apps],["asset-holdings",typeof this.assetHoldings<"u"?this.assetHoldings.map(ms=>ms.toEncodingData()):void 0],["assets",this.assets],["boxes",typeof this.boxes<"u"?this.boxes.map(ms=>ms.toEncodingData()):void 0],["extra-box-refs",this.extraBoxRefs]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded SimulateUnnamedResourcesAccessed: ${ms}`);return new SimulateUnnamedResourcesAccessed({accounts:ms.get("accounts"),appLocals:typeof ms.get("app-locals")<"u"?ms.get("app-locals").map(ws=>ApplicationLocalReference.fromEncodingData(ws)):void 0,apps:ms.get("apps"),assetHoldings:typeof ms.get("asset-holdings")<"u"?ms.get("asset-holdings").map(ws=>AssetHoldingReference.fromEncodingData(ws)):void 0,assets:ms.get("assets"),boxes:typeof ms.get("boxes")<"u"?ms.get("boxes").map(ws=>BoxReference$1.fromEncodingData(ws)):void 0,extraBoxRefs:ms.get("extra-box-refs")})}}class SimulationEvalOverrides{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"allow-empty-signatures",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"allow-unnamed-resources",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"extra-opcode-budget",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"fix-signers",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"max-log-calls",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"max-log-size",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({allowEmptySignatures:ms,allowUnnamedResources:ws,extraOpcodeBudget:Ss,fixSigners:Es,maxLogCalls:_s,maxLogSize:Is}){this.allowEmptySignatures=ms,this.allowUnnamedResources=ws,this.extraOpcodeBudget=typeof Ss>"u"?void 0:ensureSafeInteger(Ss),this.fixSigners=Es,this.maxLogCalls=typeof _s>"u"?void 0:ensureSafeInteger(_s),this.maxLogSize=typeof Is>"u"?void 0:ensureSafeInteger(Is)}getEncodingSchema(){return SimulationEvalOverrides.encodingSchema}toEncodingData(){return new Map([["allow-empty-signatures",this.allowEmptySignatures],["allow-unnamed-resources",this.allowUnnamedResources],["extra-opcode-budget",this.extraOpcodeBudget],["fix-signers",this.fixSigners],["max-log-calls",this.maxLogCalls],["max-log-size",this.maxLogSize]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded SimulationEvalOverrides: ${ms}`);return new SimulationEvalOverrides({allowEmptySignatures:ms.get("allow-empty-signatures"),allowUnnamedResources:ms.get("allow-unnamed-resources"),extraOpcodeBudget:ms.get("extra-opcode-budget"),fixSigners:ms.get("fix-signers"),maxLogCalls:ms.get("max-log-calls"),maxLogSize:ms.get("max-log-size")})}}class SimulationOpcodeTraceUnit{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"pc",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"scratch-changes",valueSchema:new OptionalSchema(new ArraySchema(ScratchChange.encodingSchema)),omitEmpty:!0},{key:"spawned-inners",valueSchema:new OptionalSchema(new ArraySchema(new Uint64Schema)),omitEmpty:!0},{key:"stack-additions",valueSchema:new OptionalSchema(new ArraySchema(AvmValue.encodingSchema)),omitEmpty:!0},{key:"stack-pop-count",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"state-changes",valueSchema:new OptionalSchema(new ArraySchema(ApplicationStateOperation.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({pc:ms,scratchChanges:ws,spawnedInners:Ss,stackAdditions:Es,stackPopCount:_s,stateChanges:Is}){this.pc=ensureSafeInteger(ms),this.scratchChanges=ws,this.spawnedInners=typeof Ss>"u"?void 0:Ss.map(ensureSafeInteger),this.stackAdditions=Es,this.stackPopCount=typeof _s>"u"?void 0:ensureSafeInteger(_s),this.stateChanges=Is}getEncodingSchema(){return SimulationOpcodeTraceUnit.encodingSchema}toEncodingData(){return new Map([["pc",this.pc],["scratch-changes",typeof this.scratchChanges<"u"?this.scratchChanges.map(ms=>ms.toEncodingData()):void 0],["spawned-inners",this.spawnedInners],["stack-additions",typeof this.stackAdditions<"u"?this.stackAdditions.map(ms=>ms.toEncodingData()):void 0],["stack-pop-count",this.stackPopCount],["state-changes",typeof this.stateChanges<"u"?this.stateChanges.map(ms=>ms.toEncodingData()):void 0]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded SimulationOpcodeTraceUnit: ${ms}`);return new SimulationOpcodeTraceUnit({pc:ms.get("pc"),scratchChanges:typeof ms.get("scratch-changes")<"u"?ms.get("scratch-changes").map(ws=>ScratchChange.fromEncodingData(ws)):void 0,spawnedInners:ms.get("spawned-inners"),stackAdditions:typeof ms.get("stack-additions")<"u"?ms.get("stack-additions").map(ws=>AvmValue.fromEncodingData(ws)):void 0,stackPopCount:ms.get("stack-pop-count"),stateChanges:typeof ms.get("state-changes")<"u"?ms.get("state-changes").map(ws=>ApplicationStateOperation.fromEncodingData(ws)):void 0})}}class SimulationTransactionExecTrace{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"approval-program-hash",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"approval-program-trace",valueSchema:new OptionalSchema(new ArraySchema(SimulationOpcodeTraceUnit.encodingSchema)),omitEmpty:!0},{key:"clear-state-program-hash",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"clear-state-program-trace",valueSchema:new OptionalSchema(new ArraySchema(SimulationOpcodeTraceUnit.encodingSchema)),omitEmpty:!0},{key:"clear-state-rollback",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"clear-state-rollback-error",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"inner-trace",valueSchema:new OptionalSchema(new ArraySchema(SimulationTransactionExecTrace.encodingSchema)),omitEmpty:!0},{key:"logic-sig-hash",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"logic-sig-trace",valueSchema:new OptionalSchema(new ArraySchema(SimulationOpcodeTraceUnit.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({approvalProgramHash:ms,approvalProgramTrace:ws,clearStateProgramHash:Ss,clearStateProgramTrace:Es,clearStateRollback:_s,clearStateRollbackError:Is,innerTrace:Ts,logicSigHash:Rs,logicSigTrace:Bs}){this.approvalProgramHash=typeof ms=="string"?base64ToBytes(ms):ms,this.approvalProgramTrace=ws,this.clearStateProgramHash=typeof Ss=="string"?base64ToBytes(Ss):Ss,this.clearStateProgramTrace=Es,this.clearStateRollback=_s,this.clearStateRollbackError=Is,this.innerTrace=Ts,this.logicSigHash=typeof Rs=="string"?base64ToBytes(Rs):Rs,this.logicSigTrace=Bs}getEncodingSchema(){return SimulationTransactionExecTrace.encodingSchema}toEncodingData(){return new Map([["approval-program-hash",this.approvalProgramHash],["approval-program-trace",typeof this.approvalProgramTrace<"u"?this.approvalProgramTrace.map(ms=>ms.toEncodingData()):void 0],["clear-state-program-hash",this.clearStateProgramHash],["clear-state-program-trace",typeof this.clearStateProgramTrace<"u"?this.clearStateProgramTrace.map(ms=>ms.toEncodingData()):void 0],["clear-state-rollback",this.clearStateRollback],["clear-state-rollback-error",this.clearStateRollbackError],["inner-trace",typeof this.innerTrace<"u"?this.innerTrace.map(ms=>ms.toEncodingData()):void 0],["logic-sig-hash",this.logicSigHash],["logic-sig-trace",typeof this.logicSigTrace<"u"?this.logicSigTrace.map(ms=>ms.toEncodingData()):void 0]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded SimulationTransactionExecTrace: ${ms}`);return new SimulationTransactionExecTrace({approvalProgramHash:ms.get("approval-program-hash"),approvalProgramTrace:typeof ms.get("approval-program-trace")<"u"?ms.get("approval-program-trace").map(ws=>SimulationOpcodeTraceUnit.fromEncodingData(ws)):void 0,clearStateProgramHash:ms.get("clear-state-program-hash"),clearStateProgramTrace:typeof ms.get("clear-state-program-trace")<"u"?ms.get("clear-state-program-trace").map(ws=>SimulationOpcodeTraceUnit.fromEncodingData(ws)):void 0,clearStateRollback:ms.get("clear-state-rollback"),clearStateRollbackError:ms.get("clear-state-rollback-error"),innerTrace:typeof ms.get("inner-trace")<"u"?ms.get("inner-trace").map(ws=>SimulationTransactionExecTrace.fromEncodingData(ws)):void 0,logicSigHash:ms.get("logic-sig-hash"),logicSigTrace:typeof ms.get("logic-sig-trace")<"u"?ms.get("logic-sig-trace").map(ws=>SimulationOpcodeTraceUnit.fromEncodingData(ws)):void 0})}}let StateProof$1=class O1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"Message",valueSchema:StateProofMessage.encodingSchema,omitEmpty:!0},{key:"StateProof",valueSchema:new ByteArraySchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({message:ms,stateproof:ws}){this.message=ms,this.stateproof=typeof ws=="string"?base64ToBytes(ws):ws}getEncodingSchema(){return O1.encodingSchema}toEncodingData(){return new Map([["Message",this.message.toEncodingData()],["StateProof",this.stateproof]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded StateProof: ${ms}`);return new O1({message:StateProofMessage.fromEncodingData(ms.get("Message")??new Map),stateproof:ms.get("StateProof")})}};class StateProofMessage{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"BlockHeadersCommitment",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"FirstAttestedRound",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"LastAttestedRound",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"LnProvenWeight",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"VotersCommitment",valueSchema:new ByteArraySchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({blockheaderscommitment:ms,firstattestedround:ws,lastattestedround:Ss,lnprovenweight:Es,voterscommitment:_s}){this.blockheaderscommitment=typeof ms=="string"?base64ToBytes(ms):ms,this.firstattestedround=ensureBigInt(ws),this.lastattestedround=ensureBigInt(Ss),this.lnprovenweight=ensureBigInt(Es),this.voterscommitment=typeof _s=="string"?base64ToBytes(_s):_s}getEncodingSchema(){return StateProofMessage.encodingSchema}toEncodingData(){return new Map([["BlockHeadersCommitment",this.blockheaderscommitment],["FirstAttestedRound",this.firstattestedround],["LastAttestedRound",this.lastattestedround],["LnProvenWeight",this.lnprovenweight],["VotersCommitment",this.voterscommitment]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded StateProofMessage: ${ms}`);return new StateProofMessage({blockheaderscommitment:ms.get("BlockHeadersCommitment"),firstattestedround:ms.get("FirstAttestedRound"),lastattestedround:ms.get("LastAttestedRound"),lnprovenweight:ms.get("LnProvenWeight"),voterscommitment:ms.get("VotersCommitment")})}}class SupplyResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"current_round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"online-money",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"total-money",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({currentRound:ms,onlineMoney:ws,totalMoney:Ss}){this.currentRound=ensureBigInt(ms),this.onlineMoney=ensureBigInt(ws),this.totalMoney=ensureBigInt(Ss)}getEncodingSchema(){return SupplyResponse.encodingSchema}toEncodingData(){return new Map([["current_round",this.currentRound],["online-money",this.onlineMoney],["total-money",this.totalMoney]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded SupplyResponse: ${ms}`);return new SupplyResponse({currentRound:ms.get("current_round"),onlineMoney:ms.get("online-money"),totalMoney:ms.get("total-money")})}}let TealKeyValue$1=class B1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"value",valueSchema:TealValue$1.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:ms,value:ws}){this.key=typeof ms=="string"?base64ToBytes(ms):ms,this.value=ws}getEncodingSchema(){return B1.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded TealKeyValue: ${ms}`);return new B1({key:ms.get("key"),value:TealValue$1.fromEncodingData(ms.get("value")??new Map)})}},TealValue$1=class L1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"bytes",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"type",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"uint",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({bytes:ms,type:ws,uint:Ss}){this.bytes=typeof ms=="string"?base64ToBytes(ms):ms,this.type=ensureSafeInteger(ws),this.uint=ensureBigInt(Ss)}getEncodingSchema(){return L1.encodingSchema}toEncodingData(){return new Map([["bytes",this.bytes],["type",this.type],["uint",this.uint]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded TealValue: ${ms}`);return new L1({bytes:ms.get("bytes"),type:ms.get("type"),uint:ms.get("uint")})}};class TransactionGroupLedgerStateDeltasForRoundResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"Deltas",valueSchema:new ArraySchema(LedgerStateDeltaForTransactionGroup.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({deltas:ms}){this.deltas=ms}getEncodingSchema(){return TransactionGroupLedgerStateDeltasForRoundResponse.encodingSchema}toEncodingData(){return new Map([["Deltas",this.deltas.map(ms=>ms.toEncodingData())]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded TransactionGroupLedgerStateDeltasForRoundResponse: ${ms}`);return new TransactionGroupLedgerStateDeltasForRoundResponse({deltas:(ms.get("Deltas")??[]).map(ws=>LedgerStateDeltaForTransactionGroup.fromEncodingData(ws))})}}class TransactionParametersResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"consensus-version",valueSchema:new StringSchema,omitEmpty:!0},{key:"fee",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"genesis-hash",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"genesis-id",valueSchema:new StringSchema,omitEmpty:!0},{key:"last-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"min-fee",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({consensusVersion:ms,fee:ws,genesisHash:Ss,genesisId:Es,lastRound:_s,minFee:Is}){this.consensusVersion=ms,this.fee=ensureBigInt(ws),this.genesisHash=typeof Ss=="string"?base64ToBytes(Ss):Ss,this.genesisId=Es,this.lastRound=ensureBigInt(_s),this.minFee=ensureBigInt(Is)}getEncodingSchema(){return TransactionParametersResponse.encodingSchema}toEncodingData(){return new Map([["consensus-version",this.consensusVersion],["fee",this.fee],["genesis-hash",this.genesisHash],["genesis-id",this.genesisId],["last-round",this.lastRound],["min-fee",this.minFee]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded TransactionParametersResponse: ${ms}`);return new TransactionParametersResponse({consensusVersion:ms.get("consensus-version"),fee:ms.get("fee"),genesisHash:ms.get("genesis-hash"),genesisId:ms.get("genesis-id"),lastRound:ms.get("last-round"),minFee:ms.get("min-fee")})}}class TransactionProof{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"idx",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"proof",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"stibhash",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"treedepth",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"hashtype",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({idx:ms,proof:ws,stibhash:Ss,treedepth:Es,hashtype:_s}){this.idx=ensureSafeInteger(ms),this.proof=typeof ws=="string"?base64ToBytes(ws):ws,this.stibhash=typeof Ss=="string"?base64ToBytes(Ss):Ss,this.treedepth=ensureSafeInteger(Es),this.hashtype=_s}getEncodingSchema(){return TransactionProof.encodingSchema}toEncodingData(){return new Map([["idx",this.idx],["proof",this.proof],["stibhash",this.stibhash],["treedepth",this.treedepth],["hashtype",this.hashtype]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded TransactionProof: ${ms}`);return new TransactionProof({idx:ms.get("idx"),proof:ms.get("proof"),stibhash:ms.get("stibhash"),treedepth:ms.get("treedepth"),hashtype:ms.get("hashtype")})}}class Version{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"build",valueSchema:BuildVersion.encodingSchema,omitEmpty:!0},{key:"genesis_hash_b64",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"genesis_id",valueSchema:new StringSchema,omitEmpty:!0},{key:"versions",valueSchema:new ArraySchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({build:ms,genesisHashB64:ws,genesisId:Ss,versions:Es}){this.build=ms,this.genesisHashB64=typeof ws=="string"?base64ToBytes(ws):ws,this.genesisId=Ss,this.versions=Es}getEncodingSchema(){return Version.encodingSchema}toEncodingData(){return new Map([["build",this.build.toEncodingData()],["genesis_hash_b64",this.genesisHashB64],["genesis_id",this.genesisId],["versions",this.versions]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded Version: ${ms}`);return new Version({build:BuildVersion.fromEncodingData(ms.get("build")??new Map),genesisHashB64:ms.get("genesis_hash_b64"),genesisId:ms.get("genesis_id"),versions:ms.get("versions")})}}const types$2=Object.freeze(Object.defineProperty({__proto__:null,Account:Account$2,AccountApplicationResponse,AccountAssetHolding,AccountAssetResponse,AccountAssetsInformationResponse,AccountParticipation:AccountParticipation$1,AccountStateDelta:AccountStateDelta$1,AppCallLogs,Application:Application$1,ApplicationInitialStates,ApplicationKVStorage,ApplicationLocalReference,ApplicationLocalState:ApplicationLocalState$1,ApplicationParams:ApplicationParams$1,ApplicationStateOperation,ApplicationStateSchema:ApplicationStateSchema$1,Asset:Asset$1,AssetHolding:AssetHolding$1,AssetHoldingReference,AssetParams:AssetParams$1,AvmKeyValue,AvmValue,BlockHashResponse,BlockLogsResponse,BlockResponse,BlockTxidsResponse,Box:Box$1,BoxDescriptor:BoxDescriptor$1,BoxReference:BoxReference$1,BoxesResponse:BoxesResponse$1,BuildVersion,CompileResponse,DisassembleResponse,DryrunRequest,DryrunResponse,DryrunSource,DryrunState,DryrunTxnResult,ErrorResponse:ErrorResponse$1,EvalDelta:EvalDelta$1,EvalDeltaKeyValue:EvalDeltaKeyValue$1,Genesis:Genesis$1,GenesisAllocation,GetBlockTimeStampOffsetResponse,GetSyncRoundResponse,LedgerStateDeltaForTransactionGroup,LightBlockHeaderProof:LightBlockHeaderProof$1,NodeStatusResponse,PendingTransactionResponse,PendingTransactionsResponse,PostTransactionsResponse,ScratchChange,SimulateInitialStates,SimulateRequest,SimulateRequestTransactionGroup,SimulateResponse,SimulateTraceConfig,SimulateTransactionGroupResult,SimulateTransactionResult,SimulateUnnamedResourcesAccessed,SimulationEvalOverrides,SimulationOpcodeTraceUnit,SimulationTransactionExecTrace,StateProof:StateProof$1,StateProofMessage,SupplyResponse,TealKeyValue:TealKeyValue$1,TealValue:TealValue$1,TransactionGroupLedgerStateDeltasForRoundResponse,TransactionParametersResponse,TransactionProof,Version},Symbol.toStringTag,{value:"Module"}));class JSONRequest{constructor(ms){this.c=ms,this.query={}}executeRequest(ms,ws){return this.c.get({relativePath:this.path(),query:this.query,requestHeaders:ms,customOptions:ws})}async do(ms,ws){const Ss=await this.executeRequest(ms,ws);return this.prepare(Ss)}async doRaw(ms,ws){return(await this.executeRequest(ms,ws)).body}}class AccountInformation extends JSONRequest{constructor(ms,ws){super(ms),this.account=ws.toString()}path(){return`/v2/accounts/${this.account}`}exclude(ms){return this.query.exclude=ms,this}prepare(ms){return decodeJSON(ms.getJSONText(),Account$2)}}class AccountAssetInformation extends JSONRequest{constructor(ms,ws,Ss){super(ms),this.account=ws.toString(),this.assetID=BigInt(Ss)}path(){return`/v2/accounts/${this.account}/assets/${this.assetID}`}prepare(ms){return decodeJSON(ms.getJSONText(),AccountAssetResponse)}}class AccountApplicationInformation extends JSONRequest{constructor(ms,ws,Ss){super(ms),this.account=ws.toString(),this.applicationID=BigInt(Ss)}path(){return`/v2/accounts/${this.account}/applications/${this.applicationID}`}prepare(ms){return decodeJSON(ms.getJSONText(),AccountApplicationResponse)}}let Block$1=class extends JSONRequest{constructor(ms,ws){super(ms),this.round=BigInt(ws),this.query={format:"msgpack"}}path(){return`/v2/blocks/${this.round}`}headerOnly(ms){return this.query["header-only"]=ms,this}prepare(ms){return decodeMsgpack(ms.body,BlockResponse)}};function setHeaders$1(vs={}){let ms=vs;return Object.keys(ms).every(ws=>ws.toLowerCase()!=="content-type")&&(ms={...vs},ms["Content-Type"]="text/plain"),ms}class Compile extends JSONRequest{constructor(ms,ws){super(ms),this.source=ws}path(){return"/v2/teal/compile"}sourcemap(ms=!0){return this.query.sourcemap=ms,this}executeRequest(ms,ws){const Ss=setHeaders$1(ms);return this.c.post({relativePath:this.path(),data:coerceToBytes(this.source),query:this.query,requestHeaders:Ss,customOptions:ws})}prepare(ms){return decodeJSON(ms.getJSONText(),CompileResponse)}}class Dryrun extends JSONRequest{constructor(ms,ws){super(ms),this.blob=encodeMsgpack(ws)}path(){return"/v2/teal/dryrun"}executeRequest(ms,ws){const Ss=setHeaders$1(ms);return this.c.post({relativePath:this.path(),data:this.blob,requestHeaders:Ss,customOptions:ws})}prepare(ms){return decodeJSON(ms.getJSONText(),DryrunResponse)}}class Genesis extends JSONRequest{path(){return"/genesis"}prepare(ms){return ms.getJSONText()}}class GetAssetByID extends JSONRequest{constructor(ms,ws){super(ms),this.index=BigInt(ws)}path(){return`/v2/assets/${this.index}`}prepare(ms){return decodeJSON(ms.getJSONText(),Asset$1)}}class GetApplicationByID extends JSONRequest{constructor(ms,ws){super(ms),this.index=BigInt(ws)}path(){return`/v2/applications/${this.index}`}prepare(ms){return decodeJSON(ms.getJSONText(),Application$1)}}class GetBlockHash extends JSONRequest{constructor(ms,ws){super(ms),this.round=BigInt(ws)}path(){return`/v2/blocks/${this.round}/hash`}prepare(ms){return decodeJSON(ms.getJSONText(),BlockHashResponse)}}class GetBlockTxids extends JSONRequest{constructor(ms,ws){super(ms),this.round=BigInt(ws)}path(){return`/v2/blocks/${this.round}/txids`}prepare(ms){return decodeJSON(ms.getJSONText(),BlockTxidsResponse)}}class GetApplicationBoxByName extends JSONRequest{constructor(ms,ws,Ss){super(ms),this.index=BigInt(ws);const Es=bytesToBase64(Ss);this.query.name=encodeURI(`b64:${Es}`)}path(){return`/v2/applications/${this.index}/box`}prepare(ms){return decodeJSON(ms.getJSONText(),Box$1)}}class GetApplicationBoxes extends JSONRequest{constructor(ms,ws){super(ms),this.index=BigInt(ws),this.query.max=0}path(){return`/v2/applications/${this.index}/boxes`}max(ms){return this.query.max=ms,this}prepare(ms){return decodeJSON(ms.getJSONText(),BoxesResponse$1)}}let HealthCheck$1=class extends JSONRequest{path(){return"/health"}prepare(ms){}};class PendingTransactionInformation extends JSONRequest{constructor(ms,ws){super(ms),this.txid=ws,this.query.format="msgpack"}prepare(ms){return decodeMsgpack(ms.body,PendingTransactionResponse)}path(){return`/v2/transactions/pending/${this.txid}`}max(ms){return this.query.max=ms,this}}class PendingTransactions extends JSONRequest{constructor(ms){super(ms),this.query.format="msgpack"}path(){return"/v2/transactions/pending"}prepare(ms){return decodeMsgpack(ms.body,PendingTransactionsResponse)}max(ms){return this.query.max=ms,this}}class PendingTransactionsByAddress extends JSONRequest{constructor(ms,ws){super(ms),this.address=ws.toString(),this.query.format="msgpack"}prepare(ms){return decodeMsgpack(ms.body,PendingTransactionsResponse)}path(){return`/v2/accounts/${this.address}/transactions/pending`}max(ms){return this.query.max=ms,this}}class GetTransactionProof extends JSONRequest{constructor(ms,ws,Ss){super(ms),this.txID=Ss,this.round=BigInt(ws)}path(){return`/v2/blocks/${this.round}/transactions/${this.txID}/proof`}hashType(ms){return this.query.hashtype=ms,this}prepare(ms){return decodeJSON(ms.getJSONText(),TransactionProof)}}function setSendTransactionHeaders(vs={}){let ms=vs;return Object.keys(ms).every(ws=>ws.toLowerCase()!=="content-type")&&(ms={...vs},ms["Content-Type"]="application/x-binary"),ms}function isByteArray(vs){return vs&&vs.byteLength!==void 0}class SendRawTransaction extends JSONRequest{constructor(ms,ws){super(ms);let Ss=ws;if(Array.isArray(ws)){if(!ws.every(isByteArray))throw new TypeError("Array elements must be byte arrays");Ss=concatArrays$1(...ws)}else if(!isByteArray(Ss))throw new TypeError("Argument must be byte array");this.txnBytesToPost=Ss}path(){return"/v2/transactions"}executeRequest(ms,ws){const Ss=setSendTransactionHeaders(ms);return this.c.post({relativePath:this.path(),data:this.txnBytesToPost,requestHeaders:Ss,customOptions:ws})}prepare(ms){return decodeJSON(ms.getJSONText(),PostTransactionsResponse)}}class Status extends JSONRequest{path(){return"/v2/status"}prepare(ms){return decodeJSON(ms.getJSONText(),NodeStatusResponse)}}class StatusAfterBlock extends JSONRequest{constructor(ms,ws){super(ms),this.round=BigInt(ws)}path(){return`/v2/status/wait-for-block-after/${this.round}`}prepare(ms){return decodeJSON(ms.getJSONText(),NodeStatusResponse)}}class SuggestedParamsRequest extends JSONRequest{path(){return"/v2/transactions/params"}prepare(ms){const ws=decodeJSON(ms.getJSONText(),TransactionParametersResponse);return{flatFee:!1,fee:ws.fee,firstValid:ws.lastRound,lastValid:ws.lastRound+BigInt(1e3),genesisID:ws.genesisId,genesisHash:ws.genesisHash,minFee:ws.minFee,consensusVersion:ws.consensusVersion}}}class Supply extends JSONRequest{path(){return"/v2/ledger/supply"}prepare(ms){return decodeJSON(ms.getJSONText(),SupplyResponse)}}class Versions extends JSONRequest{path(){return"/versions"}prepare(ms){return decodeJSON(ms.getJSONText(),Version)}}class LightBlockHeaderProof extends JSONRequest{constructor(ms,ws){super(ms),this.round=BigInt(ws)}path(){return`/v2/blocks/${this.round}/lightheader/proof`}prepare(ms){return decodeJSON(ms.getJSONText(),LightBlockHeaderProof$1)}}class StateProof extends JSONRequest{constructor(ms,ws){super(ms),this.round=BigInt(ws)}path(){return`/v2/stateproofs/${this.round}`}prepare(ms){return decodeJSON(ms.getJSONText(),StateProof$1)}}class SetSyncRound extends JSONRequest{constructor(ms,ws){super(ms),this.round=BigInt(ws)}path(){return`/v2/ledger/sync/${this.round}`}executeRequest(ms,ws){return this.c.post({relativePath:this.path(),data:null,requestHeaders:ms,customOptions:ws})}prepare(ms){}}class GetSyncRound extends JSONRequest{path(){return"/v2/ledger/sync"}prepare(ms){return decodeJSON(ms.getJSONText(),GetSyncRoundResponse)}}class SetBlockOffsetTimestamp extends JSONRequest{constructor(ms,ws){super(ms),this.offset=BigInt(ws)}path(){return`/v2/devmode/blocks/offset/${this.offset}`}executeRequest(ms,ws){return this.c.post({relativePath:this.path(),data:null,requestHeaders:ms,customOptions:ws})}prepare(ms){}}class GetBlockOffsetTimestamp extends JSONRequest{path(){return"/v2/devmode/blocks/offset"}prepare(ms){return decodeJSON(ms.getJSONText(),GetBlockTimeStampOffsetResponse)}}function setHeaders(vs={}){let ms=vs;return Object.keys(ms).every(ws=>ws.toLowerCase()!=="content-type")&&(ms={...vs},ms["Content-Type"]="text/plain"),ms}class Disassemble extends JSONRequest{constructor(ms,ws){super(ms),this.source=ws}path(){return"/v2/teal/disassemble"}executeRequest(ms,ws){const Ss=setHeaders(ms);return this.c.post({relativePath:this.path(),data:coerceToBytes(this.source),query:this.query,requestHeaders:Ss,customOptions:ws})}prepare(ms){return decodeJSON(ms.getJSONText(),DisassembleResponse)}}function setSimulateTransactionsHeaders(vs={}){let ms=vs;return Object.keys(ms).every(ws=>ws.toLowerCase()!=="content-type")&&(ms={...vs},ms["Content-Type"]="application/msgpack"),ms}class SimulateRawTransactions extends JSONRequest{constructor(ms,ws){super(ms),this.query.format="msgpack",this.requestBytes=encodeMsgpack(ws)}path(){return"/v2/transactions/simulate"}executeRequest(ms,ws){const Ss=setSimulateTransactionsHeaders(ms);return this.c.post({relativePath:this.path(),data:this.requestBytes,query:this.query,requestHeaders:Ss,customOptions:ws})}prepare(ms){return decodeMsgpack(ms.body,SimulateResponse)}}class Ready extends JSONRequest{path(){return"/ready"}prepare(ms){}}class UnsetSyncRound extends JSONRequest{path(){return"/v2/ledger/sync"}executeRequest(ms,ws){return this.c.delete({relativePath:this.path(),data:void 0,requestHeaders:ms,customOptions:ws})}prepare(ms){}}class GetLedgerStateDeltaForTransactionGroup extends JSONRequest{constructor(ms,ws){super(ms),this.id=ws,this.query={format:"msgpack"}}path(){return`/v2/deltas/txn/group/${this.id}`}prepare(ms){return decodeMsgpack(ms.body,LedgerStateDelta)}}class GetLedgerStateDelta extends JSONRequest{constructor(ms,ws){super(ms),this.round=BigInt(ws),this.query={format:"msgpack"}}path(){return`/v2/deltas/${this.round}`}prepare(ms){return decodeMsgpack(ms.body,LedgerStateDelta)}}class GetTransactionGroupLedgerStateDeltasForRound extends JSONRequest{constructor(ms,ws){super(ms),this.round=BigInt(ws),this.query={format:"msgpack"}}path(){return`/v2/deltas/${this.round}/txn/group`}prepare(ms){return decodeMsgpack(ms.body,TransactionGroupLedgerStateDeltasForRoundResponse)}}class AlgodClient extends ServiceClient{constructor(ms,ws,Ss,Es={}){super("X-Algo-API-Token",ms,ws,Ss,Es)}healthCheck(){return new HealthCheck$1(this.c)}versionsCheck(){return new Versions(this.c)}sendRawTransaction(ms){return new SendRawTransaction(this.c,ms)}accountInformation(ms){return new AccountInformation(this.c,ms)}accountAssetInformation(ms,ws){return new AccountAssetInformation(this.c,ms,ws)}accountApplicationInformation(ms,ws){return new AccountApplicationInformation(this.c,ms,ws)}block(ms){return new Block$1(this.c,ms)}getBlockHash(ms){return new GetBlockHash(this.c,ms)}getBlockTxids(ms){return new GetBlockTxids(this.c,ms)}pendingTransactionInformation(ms){return new PendingTransactionInformation(this.c,ms)}pendingTransactionsInformation(){return new PendingTransactions(this.c)}pendingTransactionByAddress(ms){return new PendingTransactionsByAddress(this.c,ms)}status(){return new Status(this.c)}statusAfterBlock(ms){return new StatusAfterBlock(this.c,ms)}getTransactionParams(){return new SuggestedParamsRequest(this.c)}supply(){return new Supply(this.c)}compile(ms){return new Compile(this.c,ms)}disassemble(ms){return new Disassemble(this.c,ms)}dryrun(ms){return new Dryrun(this.c,ms)}getAssetByID(ms){return new GetAssetByID(this.c,ms)}getApplicationByID(ms){return new GetApplicationByID(this.c,ms)}getApplicationBoxByName(ms,ws){return new GetApplicationBoxByName(this.c,ms,ws)}getApplicationBoxes(ms){return new GetApplicationBoxes(this.c,ms)}genesis(){return new Genesis(this.c)}getTransactionProof(ms,ws){return new GetTransactionProof(this.c,ms,ws)}getLightBlockHeaderProof(ms){return new LightBlockHeaderProof(this.c,ms)}getStateProof(ms){return new StateProof(this.c,ms)}simulateRawTransactions(ms){const ws=[];if(Array.isArray(ms))for(const Es of ms)ws.push(decodeMsgpack(Es,SignedTransaction));else ws.push(decodeMsgpack(ms,SignedTransaction));const Ss=new SimulateRequest({txnGroups:[new SimulateRequestTransactionGroup({txns:ws})]});return this.simulateTransactions(Ss)}simulateTransactions(ms){return new SimulateRawTransactions(this.c,ms)}setBlockOffsetTimestamp(ms){return new SetBlockOffsetTimestamp(this.c,ms)}getBlockOffsetTimestamp(){return new GetBlockOffsetTimestamp(this.c)}setSyncRound(ms){return new SetSyncRound(this.c,ms)}unsetSyncRound(){return new UnsetSyncRound(this.c)}getSyncRound(){return new GetSyncRound(this.c)}ready(){return new Ready(this.c)}getLedgerStateDeltaForTransactionGroup(ms){return new GetLedgerStateDeltaForTransactionGroup(this.c,ms)}getLedgerStateDelta(ms){return new GetLedgerStateDelta(this.c,ms)}getTransactionGroupLedgerStateDeltasForRound(ms){return new GetTransactionGroupLedgerStateDeltasForRound(this.c,ms)}}class KmdClient extends ServiceClient{constructor(ms,ws="http://127.0.0.1",Ss=7833,Es={}){super("X-KMD-API-Token",ms,ws,Ss,Es)}async get(ms){return(await this.c.get({relativePath:ms})).parseBodyAsJSON({intDecoding:IntDecoding$1.SAFE})}async delete(ms,ws){return(await this.c.delete({relativePath:ms,data:ws})).parseBodyAsJSON({intDecoding:IntDecoding$1.SAFE})}async post(ms,ws){return(await this.c.post({relativePath:ms,data:ws})).parseBodyAsJSON({intDecoding:IntDecoding$1.SAFE})}async versions(){return this.get("/versions")}async listWallets(){return this.get("/v1/wallets")}async createWallet(ms,ws,Ss=new Uint8Array,Es="sqlite"){const _s={wallet_name:ms,wallet_driver_name:Es,wallet_password:ws,master_derivation_key:bytesToBase64(Ss)};return this.post("/v1/wallet",_s)}async initWalletHandle(ms,ws){const Ss={wallet_id:ms,wallet_password:ws};return this.post("/v1/wallet/init",Ss)}async releaseWalletHandle(ms){const ws={wallet_handle_token:ms};return this.post("/v1/wallet/release",ws)}async renewWalletHandle(ms){const ws={wallet_handle_token:ms};return this.post("/v1/wallet/renew",ws)}async renameWallet(ms,ws,Ss){const Es={wallet_id:ms,wallet_password:ws,wallet_name:Ss};return this.post("/v1/wallet/rename",Es)}async getWallet(ms){const ws={wallet_handle_token:ms};return this.post("/v1/wallet/info",ws)}async exportMasterDerivationKey(ms,ws){const Ss={wallet_handle_token:ms,wallet_password:ws},Es=await this.post("/v1/master-key/export",Ss);return{master_derivation_key:base64ToBytes(Es.master_derivation_key)}}async importKey(ms,ws){const Ss={wallet_handle_token:ms,private_key:bytesToBase64(ws)};return this.post("/v1/key/import",Ss)}async exportKey(ms,ws,Ss){const Es={wallet_handle_token:ms,address:Ss,wallet_password:ws},_s=await this.post("/v1/key/export",Es);return{private_key:base64ToBytes(_s.private_key)}}async generateKey(ms){const ws={wallet_handle_token:ms,display_mnemonic:!1};return this.post("/v1/key",ws)}async deleteKey(ms,ws,Ss){const Es={wallet_handle_token:ms,address:Ss,wallet_password:ws};return this.delete("/v1/key",Es)}async listKeys(ms){const ws={wallet_handle_token:ms};return this.post("/v1/key/list",ws)}async signTransaction(ms,ws,Ss){const Es={wallet_handle_token:ms,wallet_password:ws,transaction:bytesToBase64(Ss.toByte())},_s=await this.post("/v1/transaction/sign",Es);return base64ToBytes(_s.signed_transaction)}async signTransactionWithSpecificPublicKey(ms,ws,Ss,Es){const _s=coerceToBytes(Es),Is={wallet_handle_token:ms,wallet_password:ws,transaction:bytesToBase64(Ss.toByte()),public_key:bytesToBase64(_s)},Ts=await this.post("/v1/transaction/sign",Is);return base64ToBytes(Ts.signed_transaction)}async listMultisig(ms){const ws={wallet_handle_token:ms};return this.post("/v1/multisig/list",ws)}async importMultisig(ms,ws,Ss,Es){const _s={wallet_handle_token:ms,multisig_version:ws,threshold:Ss,pks:Es};return this.post("/v1/multisig/import",_s)}async exportMultisig(ms,ws){const Ss={wallet_handle_token:ms,address:ws};return this.post("/v1/multisig/export",Ss)}async signMultisigTransaction(ms,ws,Ss,Es,_s){const Is=coerceToBytes(Es),Ts={wallet_handle_token:ms,transaction:bytesToBase64(Ss.toByte()),public_key:bytesToBase64(Is),partial_multisig:_s,wallet_password:ws};return this.post("/v1/multisig/sign",Ts)}async deleteMultisig(ms,ws,Ss){const Es={wallet_handle_token:ms,address:Ss,wallet_password:ws};return this.delete("/v1/multisig",Es)}}let Account$1=class N1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new StringSchema,omitEmpty:!0},{key:"amount",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"amount-without-pending-rewards",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"min-balance",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"pending-rewards",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"rewards",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"status",valueSchema:new StringSchema,omitEmpty:!0},{key:"total-apps-opted-in",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"total-assets-opted-in",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"total-box-bytes",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"total-boxes",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"total-created-apps",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"total-created-assets",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"apps-local-state",valueSchema:new OptionalSchema(new ArraySchema(ApplicationLocalState.encodingSchema)),omitEmpty:!0},{key:"apps-total-extra-pages",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"apps-total-schema",valueSchema:new OptionalSchema(ApplicationStateSchema.encodingSchema),omitEmpty:!0},{key:"assets",valueSchema:new OptionalSchema(new ArraySchema(AssetHolding.encodingSchema)),omitEmpty:!0},{key:"auth-addr",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"closed-at-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"created-apps",valueSchema:new OptionalSchema(new ArraySchema(Application.encodingSchema)),omitEmpty:!0},{key:"created-assets",valueSchema:new OptionalSchema(new ArraySchema(Asset.encodingSchema)),omitEmpty:!0},{key:"created-at-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"deleted",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"incentive-eligible",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"last-heartbeat",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"last-proposed",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"participation",valueSchema:new OptionalSchema(AccountParticipation.encodingSchema),omitEmpty:!0},{key:"reward-base",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"sig-type",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:ms,amount:ws,amountWithoutPendingRewards:Ss,minBalance:Es,pendingRewards:_s,rewards:Is,round:Ts,status:Rs,totalAppsOptedIn:Bs,totalAssetsOptedIn:Ns,totalBoxBytes:Ws,totalBoxes:Js,totalCreatedApps:$l,totalCreatedAssets:wl,appsLocalState:_l,appsTotalExtraPages:Cl,appsTotalSchema:Sl,assets:El,authAddr:xl,closedAtRound:Ml,createdApps:Vl,createdAssets:Ul,createdAtRound:_h,deleted:nu,incentiveEligible:su,lastHeartbeat:Jl,lastProposed:Il,participation:Nl,rewardBase:Ol,sigType:Gl}){this.address=ms,this.amount=ensureBigInt(ws),this.amountWithoutPendingRewards=ensureBigInt(Ss),this.minBalance=ensureSafeInteger(Es),this.pendingRewards=ensureBigInt(_s),this.rewards=ensureBigInt(Is),this.round=ensureBigInt(Ts),this.status=Rs,this.totalAppsOptedIn=ensureSafeInteger(Bs),this.totalAssetsOptedIn=ensureSafeInteger(Ns),this.totalBoxBytes=ensureSafeInteger(Ws),this.totalBoxes=ensureSafeInteger(Js),this.totalCreatedApps=ensureSafeInteger($l),this.totalCreatedAssets=ensureSafeInteger(wl),this.appsLocalState=_l,this.appsTotalExtraPages=typeof Cl>"u"?void 0:ensureSafeInteger(Cl),this.appsTotalSchema=Sl,this.assets=El,this.authAddr=typeof xl=="string"?Address.fromString(xl):xl,this.closedAtRound=typeof Ml>"u"?void 0:ensureBigInt(Ml),this.createdApps=Vl,this.createdAssets=Ul,this.createdAtRound=typeof _h>"u"?void 0:ensureBigInt(_h),this.deleted=nu,this.incentiveEligible=su,this.lastHeartbeat=typeof Jl>"u"?void 0:ensureSafeInteger(Jl),this.lastProposed=typeof Il>"u"?void 0:ensureSafeInteger(Il),this.participation=Nl,this.rewardBase=typeof Ol>"u"?void 0:ensureBigInt(Ol),this.sigType=Gl}getEncodingSchema(){return N1.encodingSchema}toEncodingData(){return new Map([["address",this.address],["amount",this.amount],["amount-without-pending-rewards",this.amountWithoutPendingRewards],["min-balance",this.minBalance],["pending-rewards",this.pendingRewards],["rewards",this.rewards],["round",this.round],["status",this.status],["total-apps-opted-in",this.totalAppsOptedIn],["total-assets-opted-in",this.totalAssetsOptedIn],["total-box-bytes",this.totalBoxBytes],["total-boxes",this.totalBoxes],["total-created-apps",this.totalCreatedApps],["total-created-assets",this.totalCreatedAssets],["apps-local-state",typeof this.appsLocalState<"u"?this.appsLocalState.map(ms=>ms.toEncodingData()):void 0],["apps-total-extra-pages",this.appsTotalExtraPages],["apps-total-schema",typeof this.appsTotalSchema<"u"?this.appsTotalSchema.toEncodingData():void 0],["assets",typeof this.assets<"u"?this.assets.map(ms=>ms.toEncodingData()):void 0],["auth-addr",typeof this.authAddr<"u"?this.authAddr.toString():void 0],["closed-at-round",this.closedAtRound],["created-apps",typeof this.createdApps<"u"?this.createdApps.map(ms=>ms.toEncodingData()):void 0],["created-assets",typeof this.createdAssets<"u"?this.createdAssets.map(ms=>ms.toEncodingData()):void 0],["created-at-round",this.createdAtRound],["deleted",this.deleted],["incentive-eligible",this.incentiveEligible],["last-heartbeat",this.lastHeartbeat],["last-proposed",this.lastProposed],["participation",typeof this.participation<"u"?this.participation.toEncodingData():void 0],["reward-base",this.rewardBase],["sig-type",this.sigType]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded Account: ${ms}`);return new N1({address:ms.get("address"),amount:ms.get("amount"),amountWithoutPendingRewards:ms.get("amount-without-pending-rewards"),minBalance:ms.get("min-balance"),pendingRewards:ms.get("pending-rewards"),rewards:ms.get("rewards"),round:ms.get("round"),status:ms.get("status"),totalAppsOptedIn:ms.get("total-apps-opted-in"),totalAssetsOptedIn:ms.get("total-assets-opted-in"),totalBoxBytes:ms.get("total-box-bytes"),totalBoxes:ms.get("total-boxes"),totalCreatedApps:ms.get("total-created-apps"),totalCreatedAssets:ms.get("total-created-assets"),appsLocalState:typeof ms.get("apps-local-state")<"u"?ms.get("apps-local-state").map(ws=>ApplicationLocalState.fromEncodingData(ws)):void 0,appsTotalExtraPages:ms.get("apps-total-extra-pages"),appsTotalSchema:typeof ms.get("apps-total-schema")<"u"?ApplicationStateSchema.fromEncodingData(ms.get("apps-total-schema")):void 0,assets:typeof ms.get("assets")<"u"?ms.get("assets").map(ws=>AssetHolding.fromEncodingData(ws)):void 0,authAddr:ms.get("auth-addr"),closedAtRound:ms.get("closed-at-round"),createdApps:typeof ms.get("created-apps")<"u"?ms.get("created-apps").map(ws=>Application.fromEncodingData(ws)):void 0,createdAssets:typeof ms.get("created-assets")<"u"?ms.get("created-assets").map(ws=>Asset.fromEncodingData(ws)):void 0,createdAtRound:ms.get("created-at-round"),deleted:ms.get("deleted"),incentiveEligible:ms.get("incentive-eligible"),lastHeartbeat:ms.get("last-heartbeat"),lastProposed:ms.get("last-proposed"),participation:typeof ms.get("participation")<"u"?AccountParticipation.fromEncodingData(ms.get("participation")):void 0,rewardBase:ms.get("reward-base"),sigType:ms.get("sig-type")})}};class AccountParticipation{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"selection-participation-key",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"vote-first-valid",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"vote-key-dilution",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"vote-last-valid",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"vote-participation-key",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"state-proof-key",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({selectionParticipationKey:ms,voteFirstValid:ws,voteKeyDilution:Ss,voteLastValid:Es,voteParticipationKey:_s,stateProofKey:Is}){this.selectionParticipationKey=typeof ms=="string"?base64ToBytes(ms):ms,this.voteFirstValid=ensureBigInt(ws),this.voteKeyDilution=ensureBigInt(Ss),this.voteLastValid=ensureBigInt(Es),this.voteParticipationKey=typeof _s=="string"?base64ToBytes(_s):_s,this.stateProofKey=typeof Is=="string"?base64ToBytes(Is):Is}getEncodingSchema(){return AccountParticipation.encodingSchema}toEncodingData(){return new Map([["selection-participation-key",this.selectionParticipationKey],["vote-first-valid",this.voteFirstValid],["vote-key-dilution",this.voteKeyDilution],["vote-last-valid",this.voteLastValid],["vote-participation-key",this.voteParticipationKey],["state-proof-key",this.stateProofKey]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AccountParticipation: ${ms}`);return new AccountParticipation({selectionParticipationKey:ms.get("selection-participation-key"),voteFirstValid:ms.get("vote-first-valid"),voteKeyDilution:ms.get("vote-key-dilution"),voteLastValid:ms.get("vote-last-valid"),voteParticipationKey:ms.get("vote-participation-key"),stateProofKey:ms.get("state-proof-key")})}}class AccountResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"account",valueSchema:Account$1.encodingSchema,omitEmpty:!0},{key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({account:ms,currentRound:ws}){this.account=ms,this.currentRound=ensureBigInt(ws)}getEncodingSchema(){return AccountResponse.encodingSchema}toEncodingData(){return new Map([["account",this.account.toEncodingData()],["current-round",this.currentRound]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AccountResponse: ${ms}`);return new AccountResponse({account:Account$1.fromEncodingData(ms.get("account")??new Map),currentRound:ms.get("current-round")})}}class AccountStateDelta{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new StringSchema,omitEmpty:!0},{key:"delta",valueSchema:new ArraySchema(EvalDeltaKeyValue.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:ms,delta:ws}){this.address=ms,this.delta=ws}getEncodingSchema(){return AccountStateDelta.encodingSchema}toEncodingData(){return new Map([["address",this.address],["delta",this.delta.map(ms=>ms.toEncodingData())]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AccountStateDelta: ${ms}`);return new AccountStateDelta({address:ms.get("address"),delta:(ms.get("delta")??[]).map(ws=>EvalDeltaKeyValue.fromEncodingData(ws))})}}class AccountsResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"accounts",valueSchema:new ArraySchema(Account$1.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"next-token",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({accounts:ms,currentRound:ws,nextToken:Ss}){this.accounts=ms,this.currentRound=ensureBigInt(ws),this.nextToken=Ss}getEncodingSchema(){return AccountsResponse.encodingSchema}toEncodingData(){return new Map([["accounts",this.accounts.map(ms=>ms.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AccountsResponse: ${ms}`);return new AccountsResponse({accounts:(ms.get("accounts")??[]).map(ws=>Account$1.fromEncodingData(ws)),currentRound:ms.get("current-round"),nextToken:ms.get("next-token")})}}class Application{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"params",valueSchema:ApplicationParams.encodingSchema,omitEmpty:!0},{key:"created-at-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"deleted",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"deleted-at-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({id:ms,params:ws,createdAtRound:Ss,deleted:Es,deletedAtRound:_s}){this.id=ensureBigInt(ms),this.params=ws,this.createdAtRound=typeof Ss>"u"?void 0:ensureBigInt(Ss),this.deleted=Es,this.deletedAtRound=typeof _s>"u"?void 0:ensureBigInt(_s)}getEncodingSchema(){return Application.encodingSchema}toEncodingData(){return new Map([["id",this.id],["params",this.params.toEncodingData()],["created-at-round",this.createdAtRound],["deleted",this.deleted],["deleted-at-round",this.deletedAtRound]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded Application: ${ms}`);return new Application({id:ms.get("id"),params:ApplicationParams.fromEncodingData(ms.get("params")??new Map),createdAtRound:ms.get("created-at-round"),deleted:ms.get("deleted"),deletedAtRound:ms.get("deleted-at-round")})}}class ApplicationLocalState{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"schema",valueSchema:ApplicationStateSchema.encodingSchema,omitEmpty:!0},{key:"closed-out-at-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"deleted",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"key-value",valueSchema:new OptionalSchema(new ArraySchema(TealKeyValue.encodingSchema)),omitEmpty:!0},{key:"opted-in-at-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({id:ms,schema:ws,closedOutAtRound:Ss,deleted:Es,keyValue:_s,optedInAtRound:Is}){this.id=ensureBigInt(ms),this.schema=ws,this.closedOutAtRound=typeof Ss>"u"?void 0:ensureBigInt(Ss),this.deleted=Es,this.keyValue=_s,this.optedInAtRound=typeof Is>"u"?void 0:ensureBigInt(Is)}getEncodingSchema(){return ApplicationLocalState.encodingSchema}toEncodingData(){return new Map([["id",this.id],["schema",this.schema.toEncodingData()],["closed-out-at-round",this.closedOutAtRound],["deleted",this.deleted],["key-value",typeof this.keyValue<"u"?this.keyValue.map(ms=>ms.toEncodingData()):void 0],["opted-in-at-round",this.optedInAtRound]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded ApplicationLocalState: ${ms}`);return new ApplicationLocalState({id:ms.get("id"),schema:ApplicationStateSchema.fromEncodingData(ms.get("schema")??new Map),closedOutAtRound:ms.get("closed-out-at-round"),deleted:ms.get("deleted"),keyValue:typeof ms.get("key-value")<"u"?ms.get("key-value").map(ws=>TealKeyValue.fromEncodingData(ws)):void 0,optedInAtRound:ms.get("opted-in-at-round")})}}class ApplicationLocalStatesResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"apps-local-states",valueSchema:new ArraySchema(ApplicationLocalState.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"next-token",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({appsLocalStates:ms,currentRound:ws,nextToken:Ss}){this.appsLocalStates=ms,this.currentRound=ensureBigInt(ws),this.nextToken=Ss}getEncodingSchema(){return ApplicationLocalStatesResponse.encodingSchema}toEncodingData(){return new Map([["apps-local-states",this.appsLocalStates.map(ms=>ms.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded ApplicationLocalStatesResponse: ${ms}`);return new ApplicationLocalStatesResponse({appsLocalStates:(ms.get("apps-local-states")??[]).map(ws=>ApplicationLocalState.fromEncodingData(ws)),currentRound:ms.get("current-round"),nextToken:ms.get("next-token")})}}class ApplicationLogData{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"logs",valueSchema:new ArraySchema(new ByteArraySchema),omitEmpty:!0},{key:"txid",valueSchema:new StringSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({logs:ms,txid:ws}){this.logs=ms,this.txid=ws}getEncodingSchema(){return ApplicationLogData.encodingSchema}toEncodingData(){return new Map([["logs",this.logs],["txid",this.txid]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded ApplicationLogData: ${ms}`);return new ApplicationLogData({logs:ms.get("logs"),txid:ms.get("txid")})}}class ApplicationLogsResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"application-id",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"log-data",valueSchema:new OptionalSchema(new ArraySchema(ApplicationLogData.encodingSchema)),omitEmpty:!0},{key:"next-token",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({applicationId:ms,currentRound:ws,logData:Ss,nextToken:Es}){this.applicationId=ensureBigInt(ms),this.currentRound=ensureBigInt(ws),this.logData=Ss,this.nextToken=Es}getEncodingSchema(){return ApplicationLogsResponse.encodingSchema}toEncodingData(){return new Map([["application-id",this.applicationId],["current-round",this.currentRound],["log-data",typeof this.logData<"u"?this.logData.map(ms=>ms.toEncodingData()):void 0],["next-token",this.nextToken]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded ApplicationLogsResponse: ${ms}`);return new ApplicationLogsResponse({applicationId:ms.get("application-id"),currentRound:ms.get("current-round"),logData:typeof ms.get("log-data")<"u"?ms.get("log-data").map(ws=>ApplicationLogData.fromEncodingData(ws)):void 0,nextToken:ms.get("next-token")})}}class ApplicationParams{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"approval-program",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"clear-state-program",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"creator",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"extra-program-pages",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"global-state",valueSchema:new OptionalSchema(new ArraySchema(TealKeyValue.encodingSchema)),omitEmpty:!0},{key:"global-state-schema",valueSchema:new OptionalSchema(ApplicationStateSchema.encodingSchema),omitEmpty:!0},{key:"local-state-schema",valueSchema:new OptionalSchema(ApplicationStateSchema.encodingSchema),omitEmpty:!0},{key:"version",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({approvalProgram:ms,clearStateProgram:ws,creator:Ss,extraProgramPages:Es,globalState:_s,globalStateSchema:Is,localStateSchema:Ts,version:Rs}){this.approvalProgram=typeof ms=="string"?base64ToBytes(ms):ms,this.clearStateProgram=typeof ws=="string"?base64ToBytes(ws):ws,this.creator=typeof Ss=="string"?Address.fromString(Ss):Ss,this.extraProgramPages=typeof Es>"u"?void 0:ensureSafeInteger(Es),this.globalState=_s,this.globalStateSchema=Is,this.localStateSchema=Ts,this.version=typeof Rs>"u"?void 0:ensureSafeInteger(Rs)}getEncodingSchema(){return ApplicationParams.encodingSchema}toEncodingData(){return new Map([["approval-program",this.approvalProgram],["clear-state-program",this.clearStateProgram],["creator",typeof this.creator<"u"?this.creator.toString():void 0],["extra-program-pages",this.extraProgramPages],["global-state",typeof this.globalState<"u"?this.globalState.map(ms=>ms.toEncodingData()):void 0],["global-state-schema",typeof this.globalStateSchema<"u"?this.globalStateSchema.toEncodingData():void 0],["local-state-schema",typeof this.localStateSchema<"u"?this.localStateSchema.toEncodingData():void 0],["version",this.version]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded ApplicationParams: ${ms}`);return new ApplicationParams({approvalProgram:ms.get("approval-program"),clearStateProgram:ms.get("clear-state-program"),creator:ms.get("creator"),extraProgramPages:ms.get("extra-program-pages"),globalState:typeof ms.get("global-state")<"u"?ms.get("global-state").map(ws=>TealKeyValue.fromEncodingData(ws)):void 0,globalStateSchema:typeof ms.get("global-state-schema")<"u"?ApplicationStateSchema.fromEncodingData(ms.get("global-state-schema")):void 0,localStateSchema:typeof ms.get("local-state-schema")<"u"?ApplicationStateSchema.fromEncodingData(ms.get("local-state-schema")):void 0,version:ms.get("version")})}}class ApplicationResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"application",valueSchema:new OptionalSchema(Application.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({currentRound:ms,application:ws}){this.currentRound=ensureBigInt(ms),this.application=ws}getEncodingSchema(){return ApplicationResponse.encodingSchema}toEncodingData(){return new Map([["current-round",this.currentRound],["application",typeof this.application<"u"?this.application.toEncodingData():void 0]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded ApplicationResponse: ${ms}`);return new ApplicationResponse({currentRound:ms.get("current-round"),application:typeof ms.get("application")<"u"?Application.fromEncodingData(ms.get("application")):void 0})}}class ApplicationStateSchema{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"num-byte-slice",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"num-uint",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({numByteSlice:ms,numUint:ws}){this.numByteSlice=ensureSafeInteger(ms),this.numUint=ensureSafeInteger(ws)}getEncodingSchema(){return ApplicationStateSchema.encodingSchema}toEncodingData(){return new Map([["num-byte-slice",this.numByteSlice],["num-uint",this.numUint]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded ApplicationStateSchema: ${ms}`);return new ApplicationStateSchema({numByteSlice:ms.get("num-byte-slice"),numUint:ms.get("num-uint")})}}class ApplicationsResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"applications",valueSchema:new ArraySchema(Application.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"next-token",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({applications:ms,currentRound:ws,nextToken:Ss}){this.applications=ms,this.currentRound=ensureBigInt(ws),this.nextToken=Ss}getEncodingSchema(){return ApplicationsResponse.encodingSchema}toEncodingData(){return new Map([["applications",this.applications.map(ms=>ms.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded ApplicationsResponse: ${ms}`);return new ApplicationsResponse({applications:(ms.get("applications")??[]).map(ws=>Application.fromEncodingData(ws)),currentRound:ms.get("current-round"),nextToken:ms.get("next-token")})}}class Asset{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"index",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"params",valueSchema:AssetParams.encodingSchema,omitEmpty:!0},{key:"created-at-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"deleted",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"destroyed-at-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({index:ms,params:ws,createdAtRound:Ss,deleted:Es,destroyedAtRound:_s}){this.index=ensureBigInt(ms),this.params=ws,this.createdAtRound=typeof Ss>"u"?void 0:ensureBigInt(Ss),this.deleted=Es,this.destroyedAtRound=typeof _s>"u"?void 0:ensureBigInt(_s)}getEncodingSchema(){return Asset.encodingSchema}toEncodingData(){return new Map([["index",this.index],["params",this.params.toEncodingData()],["created-at-round",this.createdAtRound],["deleted",this.deleted],["destroyed-at-round",this.destroyedAtRound]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded Asset: ${ms}`);return new Asset({index:ms.get("index"),params:AssetParams.fromEncodingData(ms.get("params")??new Map),createdAtRound:ms.get("created-at-round"),deleted:ms.get("deleted"),destroyedAtRound:ms.get("destroyed-at-round")})}}class AssetBalancesResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"balances",valueSchema:new ArraySchema(MiniAssetHolding.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"next-token",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({balances:ms,currentRound:ws,nextToken:Ss}){this.balances=ms,this.currentRound=ensureBigInt(ws),this.nextToken=Ss}getEncodingSchema(){return AssetBalancesResponse.encodingSchema}toEncodingData(){return new Map([["balances",this.balances.map(ms=>ms.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AssetBalancesResponse: ${ms}`);return new AssetBalancesResponse({balances:(ms.get("balances")??[]).map(ws=>MiniAssetHolding.fromEncodingData(ws)),currentRound:ms.get("current-round"),nextToken:ms.get("next-token")})}}class AssetHolding{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"amount",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"asset-id",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"is-frozen",valueSchema:new BooleanSchema,omitEmpty:!0},{key:"deleted",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"opted-in-at-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"opted-out-at-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({amount:ms,assetId:ws,isFrozen:Ss,deleted:Es,optedInAtRound:_s,optedOutAtRound:Is}){this.amount=ensureBigInt(ms),this.assetId=ensureBigInt(ws),this.isFrozen=Ss,this.deleted=Es,this.optedInAtRound=typeof _s>"u"?void 0:ensureBigInt(_s),this.optedOutAtRound=typeof Is>"u"?void 0:ensureBigInt(Is)}getEncodingSchema(){return AssetHolding.encodingSchema}toEncodingData(){return new Map([["amount",this.amount],["asset-id",this.assetId],["is-frozen",this.isFrozen],["deleted",this.deleted],["opted-in-at-round",this.optedInAtRound],["opted-out-at-round",this.optedOutAtRound]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AssetHolding: ${ms}`);return new AssetHolding({amount:ms.get("amount"),assetId:ms.get("asset-id"),isFrozen:ms.get("is-frozen"),deleted:ms.get("deleted"),optedInAtRound:ms.get("opted-in-at-round"),optedOutAtRound:ms.get("opted-out-at-round")})}}class AssetHoldingsResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"assets",valueSchema:new ArraySchema(AssetHolding.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"next-token",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({assets:ms,currentRound:ws,nextToken:Ss}){this.assets=ms,this.currentRound=ensureBigInt(ws),this.nextToken=Ss}getEncodingSchema(){return AssetHoldingsResponse.encodingSchema}toEncodingData(){return new Map([["assets",this.assets.map(ms=>ms.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AssetHoldingsResponse: ${ms}`);return new AssetHoldingsResponse({assets:(ms.get("assets")??[]).map(ws=>AssetHolding.fromEncodingData(ws)),currentRound:ms.get("current-round"),nextToken:ms.get("next-token")})}}class AssetParams{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"creator",valueSchema:new StringSchema,omitEmpty:!0},{key:"decimals",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"total",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"clawback",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"default-frozen",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"freeze",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"manager",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"metadata-hash",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"name",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"name-b64",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"reserve",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"unit-name",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"unit-name-b64",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"url",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"url-b64",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({creator:ms,decimals:ws,total:Ss,clawback:Es,defaultFrozen:_s,freeze:Is,manager:Ts,metadataHash:Rs,name:Bs,nameB64:Ns,reserve:Ws,unitName:Js,unitNameB64:$l,url:wl,urlB64:_l}){this.creator=ms,this.decimals=ensureSafeInteger(ws),this.total=ensureBigInt(Ss),this.clawback=Es,this.defaultFrozen=_s,this.freeze=Is,this.manager=Ts,this.metadataHash=typeof Rs=="string"?base64ToBytes(Rs):Rs,this.name=Bs,this.nameB64=typeof Ns=="string"?base64ToBytes(Ns):Ns,this.reserve=Ws,this.unitName=Js,this.unitNameB64=typeof $l=="string"?base64ToBytes($l):$l,this.url=wl,this.urlB64=typeof _l=="string"?base64ToBytes(_l):_l}getEncodingSchema(){return AssetParams.encodingSchema}toEncodingData(){return new Map([["creator",this.creator],["decimals",this.decimals],["total",this.total],["clawback",this.clawback],["default-frozen",this.defaultFrozen],["freeze",this.freeze],["manager",this.manager],["metadata-hash",this.metadataHash],["name",this.name],["name-b64",this.nameB64],["reserve",this.reserve],["unit-name",this.unitName],["unit-name-b64",this.unitNameB64],["url",this.url],["url-b64",this.urlB64]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AssetParams: ${ms}`);return new AssetParams({creator:ms.get("creator"),decimals:ms.get("decimals"),total:ms.get("total"),clawback:ms.get("clawback"),defaultFrozen:ms.get("default-frozen"),freeze:ms.get("freeze"),manager:ms.get("manager"),metadataHash:ms.get("metadata-hash"),name:ms.get("name"),nameB64:ms.get("name-b64"),reserve:ms.get("reserve"),unitName:ms.get("unit-name"),unitNameB64:ms.get("unit-name-b64"),url:ms.get("url"),urlB64:ms.get("url-b64")})}}class AssetResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"asset",valueSchema:Asset.encodingSchema,omitEmpty:!0},{key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({asset:ms,currentRound:ws}){this.asset=ms,this.currentRound=ensureBigInt(ws)}getEncodingSchema(){return AssetResponse.encodingSchema}toEncodingData(){return new Map([["asset",this.asset.toEncodingData()],["current-round",this.currentRound]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AssetResponse: ${ms}`);return new AssetResponse({asset:Asset.fromEncodingData(ms.get("asset")??new Map),currentRound:ms.get("current-round")})}}class AssetsResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"assets",valueSchema:new ArraySchema(Asset.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"next-token",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({assets:ms,currentRound:ws,nextToken:Ss}){this.assets=ms,this.currentRound=ensureBigInt(ws),this.nextToken=Ss}getEncodingSchema(){return AssetsResponse.encodingSchema}toEncodingData(){return new Map([["assets",this.assets.map(ms=>ms.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded AssetsResponse: ${ms}`);return new AssetsResponse({assets:(ms.get("assets")??[]).map(ws=>Asset.fromEncodingData(ws)),currentRound:ms.get("current-round"),nextToken:ms.get("next-token")})}}class Block{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"genesis-hash",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"genesis-id",valueSchema:new StringSchema,omitEmpty:!0},{key:"previous-block-hash",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"seed",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"timestamp",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"transactions-root",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"transactions-root-sha256",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"bonus",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"fees-collected",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"participation-updates",valueSchema:new OptionalSchema(ParticipationUpdates.encodingSchema),omitEmpty:!0},{key:"proposer",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"proposer-payout",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"rewards",valueSchema:new OptionalSchema(BlockRewards.encodingSchema),omitEmpty:!0},{key:"state-proof-tracking",valueSchema:new OptionalSchema(new ArraySchema(StateProofTracking.encodingSchema)),omitEmpty:!0},{key:"transactions",valueSchema:new OptionalSchema(new ArraySchema(Transaction.encodingSchema)),omitEmpty:!0},{key:"txn-counter",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"upgrade-state",valueSchema:new OptionalSchema(BlockUpgradeState.encodingSchema),omitEmpty:!0},{key:"upgrade-vote",valueSchema:new OptionalSchema(BlockUpgradeVote.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({genesisHash:ms,genesisId:ws,previousBlockHash:Ss,round:Es,seed:_s,timestamp:Is,transactionsRoot:Ts,transactionsRootSha256:Rs,bonus:Bs,feesCollected:Ns,participationUpdates:Ws,proposer:Js,proposerPayout:$l,rewards:wl,stateProofTracking:_l,transactions:Cl,txnCounter:Sl,upgradeState:El,upgradeVote:xl}){this.genesisHash=typeof ms=="string"?base64ToBytes(ms):ms,this.genesisId=ws,this.previousBlockHash=typeof Ss=="string"?base64ToBytes(Ss):Ss,this.round=ensureBigInt(Es),this.seed=typeof _s=="string"?base64ToBytes(_s):_s,this.timestamp=ensureSafeInteger(Is),this.transactionsRoot=typeof Ts=="string"?base64ToBytes(Ts):Ts,this.transactionsRootSha256=typeof Rs=="string"?base64ToBytes(Rs):Rs,this.bonus=typeof Bs>"u"?void 0:ensureSafeInteger(Bs),this.feesCollected=typeof Ns>"u"?void 0:ensureSafeInteger(Ns),this.participationUpdates=Ws,this.proposer=typeof Js=="string"?Address.fromString(Js):Js,this.proposerPayout=typeof $l>"u"?void 0:ensureSafeInteger($l),this.rewards=wl,this.stateProofTracking=_l,this.transactions=Cl,this.txnCounter=typeof Sl>"u"?void 0:ensureSafeInteger(Sl),this.upgradeState=El,this.upgradeVote=xl}getEncodingSchema(){return Block.encodingSchema}toEncodingData(){return new Map([["genesis-hash",this.genesisHash],["genesis-id",this.genesisId],["previous-block-hash",this.previousBlockHash],["round",this.round],["seed",this.seed],["timestamp",this.timestamp],["transactions-root",this.transactionsRoot],["transactions-root-sha256",this.transactionsRootSha256],["bonus",this.bonus],["fees-collected",this.feesCollected],["participation-updates",typeof this.participationUpdates<"u"?this.participationUpdates.toEncodingData():void 0],["proposer",typeof this.proposer<"u"?this.proposer.toString():void 0],["proposer-payout",this.proposerPayout],["rewards",typeof this.rewards<"u"?this.rewards.toEncodingData():void 0],["state-proof-tracking",typeof this.stateProofTracking<"u"?this.stateProofTracking.map(ms=>ms.toEncodingData()):void 0],["transactions",typeof this.transactions<"u"?this.transactions.map(ms=>ms.toEncodingData()):void 0],["txn-counter",this.txnCounter],["upgrade-state",typeof this.upgradeState<"u"?this.upgradeState.toEncodingData():void 0],["upgrade-vote",typeof this.upgradeVote<"u"?this.upgradeVote.toEncodingData():void 0]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded Block: ${ms}`);return new Block({genesisHash:ms.get("genesis-hash"),genesisId:ms.get("genesis-id"),previousBlockHash:ms.get("previous-block-hash"),round:ms.get("round"),seed:ms.get("seed"),timestamp:ms.get("timestamp"),transactionsRoot:ms.get("transactions-root"),transactionsRootSha256:ms.get("transactions-root-sha256"),bonus:ms.get("bonus"),feesCollected:ms.get("fees-collected"),participationUpdates:typeof ms.get("participation-updates")<"u"?ParticipationUpdates.fromEncodingData(ms.get("participation-updates")):void 0,proposer:ms.get("proposer"),proposerPayout:ms.get("proposer-payout"),rewards:typeof ms.get("rewards")<"u"?BlockRewards.fromEncodingData(ms.get("rewards")):void 0,stateProofTracking:typeof ms.get("state-proof-tracking")<"u"?ms.get("state-proof-tracking").map(ws=>StateProofTracking.fromEncodingData(ws)):void 0,transactions:typeof ms.get("transactions")<"u"?ms.get("transactions").map(ws=>Transaction.fromEncodingData(ws)):void 0,txnCounter:ms.get("txn-counter"),upgradeState:typeof ms.get("upgrade-state")<"u"?BlockUpgradeState.fromEncodingData(ms.get("upgrade-state")):void 0,upgradeVote:typeof ms.get("upgrade-vote")<"u"?BlockUpgradeVote.fromEncodingData(ms.get("upgrade-vote")):void 0})}}class BlockHeadersResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"blocks",valueSchema:new ArraySchema(Block.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"next-token",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({blocks:ms,currentRound:ws,nextToken:Ss}){this.blocks=ms,this.currentRound=ensureBigInt(ws),this.nextToken=Ss}getEncodingSchema(){return BlockHeadersResponse.encodingSchema}toEncodingData(){return new Map([["blocks",this.blocks.map(ms=>ms.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded BlockHeadersResponse: ${ms}`);return new BlockHeadersResponse({blocks:(ms.get("blocks")??[]).map(ws=>Block.fromEncodingData(ws)),currentRound:ms.get("current-round"),nextToken:ms.get("next-token")})}}class BlockRewards{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"fee-sink",valueSchema:new StringSchema,omitEmpty:!0},{key:"rewards-calculation-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"rewards-level",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"rewards-pool",valueSchema:new StringSchema,omitEmpty:!0},{key:"rewards-rate",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"rewards-residue",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({feeSink:ms,rewardsCalculationRound:ws,rewardsLevel:Ss,rewardsPool:Es,rewardsRate:_s,rewardsResidue:Is}){this.feeSink=ms,this.rewardsCalculationRound=ensureBigInt(ws),this.rewardsLevel=ensureBigInt(Ss),this.rewardsPool=Es,this.rewardsRate=ensureBigInt(_s),this.rewardsResidue=ensureBigInt(Is)}getEncodingSchema(){return BlockRewards.encodingSchema}toEncodingData(){return new Map([["fee-sink",this.feeSink],["rewards-calculation-round",this.rewardsCalculationRound],["rewards-level",this.rewardsLevel],["rewards-pool",this.rewardsPool],["rewards-rate",this.rewardsRate],["rewards-residue",this.rewardsResidue]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded BlockRewards: ${ms}`);return new BlockRewards({feeSink:ms.get("fee-sink"),rewardsCalculationRound:ms.get("rewards-calculation-round"),rewardsLevel:ms.get("rewards-level"),rewardsPool:ms.get("rewards-pool"),rewardsRate:ms.get("rewards-rate"),rewardsResidue:ms.get("rewards-residue")})}}class BlockUpgradeState{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"current-protocol",valueSchema:new StringSchema,omitEmpty:!0},{key:"next-protocol",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"next-protocol-approvals",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"next-protocol-switch-on",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"next-protocol-vote-before",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({currentProtocol:ms,nextProtocol:ws,nextProtocolApprovals:Ss,nextProtocolSwitchOn:Es,nextProtocolVoteBefore:_s}){this.currentProtocol=ms,this.nextProtocol=ws,this.nextProtocolApprovals=typeof Ss>"u"?void 0:ensureSafeInteger(Ss),this.nextProtocolSwitchOn=typeof Es>"u"?void 0:ensureBigInt(Es),this.nextProtocolVoteBefore=typeof _s>"u"?void 0:ensureBigInt(_s)}getEncodingSchema(){return BlockUpgradeState.encodingSchema}toEncodingData(){return new Map([["current-protocol",this.currentProtocol],["next-protocol",this.nextProtocol],["next-protocol-approvals",this.nextProtocolApprovals],["next-protocol-switch-on",this.nextProtocolSwitchOn],["next-protocol-vote-before",this.nextProtocolVoteBefore]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded BlockUpgradeState: ${ms}`);return new BlockUpgradeState({currentProtocol:ms.get("current-protocol"),nextProtocol:ms.get("next-protocol"),nextProtocolApprovals:ms.get("next-protocol-approvals"),nextProtocolSwitchOn:ms.get("next-protocol-switch-on"),nextProtocolVoteBefore:ms.get("next-protocol-vote-before")})}}class BlockUpgradeVote{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"upgrade-approve",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"upgrade-delay",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"upgrade-propose",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({upgradeApprove:ms,upgradeDelay:ws,upgradePropose:Ss}){this.upgradeApprove=ms,this.upgradeDelay=typeof ws>"u"?void 0:ensureBigInt(ws),this.upgradePropose=Ss}getEncodingSchema(){return BlockUpgradeVote.encodingSchema}toEncodingData(){return new Map([["upgrade-approve",this.upgradeApprove],["upgrade-delay",this.upgradeDelay],["upgrade-propose",this.upgradePropose]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded BlockUpgradeVote: ${ms}`);return new BlockUpgradeVote({upgradeApprove:ms.get("upgrade-approve"),upgradeDelay:ms.get("upgrade-delay"),upgradePropose:ms.get("upgrade-propose")})}}class Box{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"name",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"value",valueSchema:new ByteArraySchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({name:ms,round:ws,value:Ss}){this.name=typeof ms=="string"?base64ToBytes(ms):ms,this.round=ensureBigInt(ws),this.value=typeof Ss=="string"?base64ToBytes(Ss):Ss}getEncodingSchema(){return Box.encodingSchema}toEncodingData(){return new Map([["name",this.name],["round",this.round],["value",this.value]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded Box: ${ms}`);return new Box({name:ms.get("name"),round:ms.get("round"),value:ms.get("value")})}}class BoxDescriptor{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"name",valueSchema:new ByteArraySchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({name:ms}){this.name=typeof ms=="string"?base64ToBytes(ms):ms}getEncodingSchema(){return BoxDescriptor.encodingSchema}toEncodingData(){return new Map([["name",this.name]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded BoxDescriptor: ${ms}`);return new BoxDescriptor({name:ms.get("name")})}}class BoxReference{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"app",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"name",valueSchema:new ByteArraySchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({app:ms,name:ws}){this.app=ensureSafeInteger(ms),this.name=typeof ws=="string"?base64ToBytes(ws):ws}getEncodingSchema(){return BoxReference.encodingSchema}toEncodingData(){return new Map([["app",this.app],["name",this.name]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded BoxReference: ${ms}`);return new BoxReference({app:ms.get("app"),name:ms.get("name")})}}class BoxesResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"application-id",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"boxes",valueSchema:new ArraySchema(BoxDescriptor.encodingSchema),omitEmpty:!0},{key:"next-token",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({applicationId:ms,boxes:ws,nextToken:Ss}){this.applicationId=ensureBigInt(ms),this.boxes=ws,this.nextToken=Ss}getEncodingSchema(){return BoxesResponse.encodingSchema}toEncodingData(){return new Map([["application-id",this.applicationId],["boxes",this.boxes.map(ms=>ms.toEncodingData())],["next-token",this.nextToken]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded BoxesResponse: ${ms}`);return new BoxesResponse({applicationId:ms.get("application-id"),boxes:(ms.get("boxes")??[]).map(ws=>BoxDescriptor.fromEncodingData(ws)),nextToken:ms.get("next-token")})}}class ErrorResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"message",valueSchema:new StringSchema,omitEmpty:!0},{key:"data",valueSchema:new OptionalSchema(UntypedValue.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({message:ms,data:ws}){this.message=ms,this.data=ws}getEncodingSchema(){return ErrorResponse.encodingSchema}toEncodingData(){return new Map([["message",this.message],["data",typeof this.data<"u"?this.data.toEncodingData():void 0]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded ErrorResponse: ${ms}`);return new ErrorResponse({message:ms.get("message"),data:typeof ms.get("data")<"u"?UntypedValue.fromEncodingData(ms.get("data")):void 0})}}class EvalDelta{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"action",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"bytes",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"uint",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({action:ms,bytes:ws,uint:Ss}){this.action=ensureSafeInteger(ms),this.bytes=ws,this.uint=typeof Ss>"u"?void 0:ensureBigInt(Ss)}getEncodingSchema(){return EvalDelta.encodingSchema}toEncodingData(){return new Map([["action",this.action],["bytes",this.bytes],["uint",this.uint]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded EvalDelta: ${ms}`);return new EvalDelta({action:ms.get("action"),bytes:ms.get("bytes"),uint:ms.get("uint")})}}class EvalDeltaKeyValue{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new StringSchema,omitEmpty:!0},{key:"value",valueSchema:EvalDelta.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:ms,value:ws}){this.key=ms,this.value=ws}getEncodingSchema(){return EvalDeltaKeyValue.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded EvalDeltaKeyValue: ${ms}`);return new EvalDeltaKeyValue({key:ms.get("key"),value:EvalDelta.fromEncodingData(ms.get("value")??new Map)})}}class HashFactory{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"hash-type",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({hashType:ms}){this.hashType=typeof ms>"u"?void 0:ensureSafeInteger(ms)}getEncodingSchema(){return HashFactory.encodingSchema}toEncodingData(){return new Map([["hash-type",this.hashType]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded HashFactory: ${ms}`);return new HashFactory({hashType:ms.get("hash-type")})}}class HbProofFields{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"hb-pk",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"hb-pk1sig",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"hb-pk2",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"hb-pk2sig",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"hb-sig",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({hbPk:ms,hbPk1sig:ws,hbPk2:Ss,hbPk2sig:Es,hbSig:_s}){this.hbPk=typeof ms=="string"?base64ToBytes(ms):ms,this.hbPk1sig=typeof ws=="string"?base64ToBytes(ws):ws,this.hbPk2=typeof Ss=="string"?base64ToBytes(Ss):Ss,this.hbPk2sig=typeof Es=="string"?base64ToBytes(Es):Es,this.hbSig=typeof _s=="string"?base64ToBytes(_s):_s}getEncodingSchema(){return HbProofFields.encodingSchema}toEncodingData(){return new Map([["hb-pk",this.hbPk],["hb-pk1sig",this.hbPk1sig],["hb-pk2",this.hbPk2],["hb-pk2sig",this.hbPk2sig],["hb-sig",this.hbSig]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded HbProofFields: ${ms}`);return new HbProofFields({hbPk:ms.get("hb-pk"),hbPk1sig:ms.get("hb-pk1sig"),hbPk2:ms.get("hb-pk2"),hbPk2sig:ms.get("hb-pk2sig"),hbSig:ms.get("hb-sig")})}}class HealthCheck{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"db-available",valueSchema:new BooleanSchema,omitEmpty:!0},{key:"is-migrating",valueSchema:new BooleanSchema,omitEmpty:!0},{key:"message",valueSchema:new StringSchema,omitEmpty:!0},{key:"round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"version",valueSchema:new StringSchema,omitEmpty:!0},{key:"data",valueSchema:new OptionalSchema(UntypedValue.encodingSchema),omitEmpty:!0},{key:"errors",valueSchema:new OptionalSchema(new ArraySchema(new StringSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({dbAvailable:ms,isMigrating:ws,message:Ss,round:Es,version:_s,data:Is,errors:Ts}){this.dbAvailable=ms,this.isMigrating=ws,this.message=Ss,this.round=ensureBigInt(Es),this.version=_s,this.data=Is,this.errors=Ts}getEncodingSchema(){return HealthCheck.encodingSchema}toEncodingData(){return new Map([["db-available",this.dbAvailable],["is-migrating",this.isMigrating],["message",this.message],["round",this.round],["version",this.version],["data",typeof this.data<"u"?this.data.toEncodingData():void 0],["errors",this.errors]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded HealthCheck: ${ms}`);return new HealthCheck({dbAvailable:ms.get("db-available"),isMigrating:ms.get("is-migrating"),message:ms.get("message"),round:ms.get("round"),version:ms.get("version"),data:typeof ms.get("data")<"u"?UntypedValue.fromEncodingData(ms.get("data")):void 0,errors:ms.get("errors")})}}class IndexerStateProofMessage{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"block-headers-commitment",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"first-attested-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"latest-attested-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"ln-proven-weight",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"voters-commitment",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({blockHeadersCommitment:ms,firstAttestedRound:ws,latestAttestedRound:Ss,lnProvenWeight:Es,votersCommitment:_s}){this.blockHeadersCommitment=typeof ms=="string"?base64ToBytes(ms):ms,this.firstAttestedRound=typeof ws>"u"?void 0:ensureBigInt(ws),this.latestAttestedRound=typeof Ss>"u"?void 0:ensureBigInt(Ss),this.lnProvenWeight=typeof Es>"u"?void 0:ensureBigInt(Es),this.votersCommitment=typeof _s=="string"?base64ToBytes(_s):_s}getEncodingSchema(){return IndexerStateProofMessage.encodingSchema}toEncodingData(){return new Map([["block-headers-commitment",this.blockHeadersCommitment],["first-attested-round",this.firstAttestedRound],["latest-attested-round",this.latestAttestedRound],["ln-proven-weight",this.lnProvenWeight],["voters-commitment",this.votersCommitment]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded IndexerStateProofMessage: ${ms}`);return new IndexerStateProofMessage({blockHeadersCommitment:ms.get("block-headers-commitment"),firstAttestedRound:ms.get("first-attested-round"),latestAttestedRound:ms.get("latest-attested-round"),lnProvenWeight:ms.get("ln-proven-weight"),votersCommitment:ms.get("voters-commitment")})}}class MerkleArrayProof{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"hash-factory",valueSchema:new OptionalSchema(HashFactory.encodingSchema),omitEmpty:!0},{key:"path",valueSchema:new OptionalSchema(new ArraySchema(new ByteArraySchema)),omitEmpty:!0},{key:"tree-depth",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({hashFactory:ms,path:ws,treeDepth:Ss}){this.hashFactory=ms,this.path=ws,this.treeDepth=typeof Ss>"u"?void 0:ensureSafeInteger(Ss)}getEncodingSchema(){return MerkleArrayProof.encodingSchema}toEncodingData(){return new Map([["hash-factory",typeof this.hashFactory<"u"?this.hashFactory.toEncodingData():void 0],["path",this.path],["tree-depth",this.treeDepth]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded MerkleArrayProof: ${ms}`);return new MerkleArrayProof({hashFactory:typeof ms.get("hash-factory")<"u"?HashFactory.fromEncodingData(ms.get("hash-factory")):void 0,path:ms.get("path"),treeDepth:ms.get("tree-depth")})}}class MiniAssetHolding{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new StringSchema,omitEmpty:!0},{key:"amount",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"is-frozen",valueSchema:new BooleanSchema,omitEmpty:!0},{key:"deleted",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"opted-in-at-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"opted-out-at-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:ms,amount:ws,isFrozen:Ss,deleted:Es,optedInAtRound:_s,optedOutAtRound:Is}){this.address=ms,this.amount=ensureBigInt(ws),this.isFrozen=Ss,this.deleted=Es,this.optedInAtRound=typeof _s>"u"?void 0:ensureBigInt(_s),this.optedOutAtRound=typeof Is>"u"?void 0:ensureBigInt(Is)}getEncodingSchema(){return MiniAssetHolding.encodingSchema}toEncodingData(){return new Map([["address",this.address],["amount",this.amount],["is-frozen",this.isFrozen],["deleted",this.deleted],["opted-in-at-round",this.optedInAtRound],["opted-out-at-round",this.optedOutAtRound]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded MiniAssetHolding: ${ms}`);return new MiniAssetHolding({address:ms.get("address"),amount:ms.get("amount"),isFrozen:ms.get("is-frozen"),deleted:ms.get("deleted"),optedInAtRound:ms.get("opted-in-at-round"),optedOutAtRound:ms.get("opted-out-at-round")})}}class ParticipationUpdates{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"absent-participation-accounts",valueSchema:new OptionalSchema(new ArraySchema(new StringSchema)),omitEmpty:!0},{key:"expired-participation-accounts",valueSchema:new OptionalSchema(new ArraySchema(new StringSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({absentParticipationAccounts:ms,expiredParticipationAccounts:ws}){this.absentParticipationAccounts=ms,this.expiredParticipationAccounts=ws}getEncodingSchema(){return ParticipationUpdates.encodingSchema}toEncodingData(){return new Map([["absent-participation-accounts",this.absentParticipationAccounts],["expired-participation-accounts",this.expiredParticipationAccounts]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded ParticipationUpdates: ${ms}`);return new ParticipationUpdates({absentParticipationAccounts:ms.get("absent-participation-accounts"),expiredParticipationAccounts:ms.get("expired-participation-accounts")})}}class StateProofFields{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"part-proofs",valueSchema:new OptionalSchema(MerkleArrayProof.encodingSchema),omitEmpty:!0},{key:"positions-to-reveal",valueSchema:new OptionalSchema(new ArraySchema(new Uint64Schema)),omitEmpty:!0},{key:"reveals",valueSchema:new OptionalSchema(new ArraySchema(StateProofReveal.encodingSchema)),omitEmpty:!0},{key:"salt-version",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"sig-commit",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"sig-proofs",valueSchema:new OptionalSchema(MerkleArrayProof.encodingSchema),omitEmpty:!0},{key:"signed-weight",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({partProofs:ms,positionsToReveal:ws,reveals:Ss,saltVersion:Es,sigCommit:_s,sigProofs:Is,signedWeight:Ts}){this.partProofs=ms,this.positionsToReveal=typeof ws>"u"?void 0:ws.map(ensureBigInt),this.reveals=Ss,this.saltVersion=typeof Es>"u"?void 0:ensureSafeInteger(Es),this.sigCommit=typeof _s=="string"?base64ToBytes(_s):_s,this.sigProofs=Is,this.signedWeight=typeof Ts>"u"?void 0:ensureBigInt(Ts)}getEncodingSchema(){return StateProofFields.encodingSchema}toEncodingData(){return new Map([["part-proofs",typeof this.partProofs<"u"?this.partProofs.toEncodingData():void 0],["positions-to-reveal",this.positionsToReveal],["reveals",typeof this.reveals<"u"?this.reveals.map(ms=>ms.toEncodingData()):void 0],["salt-version",this.saltVersion],["sig-commit",this.sigCommit],["sig-proofs",typeof this.sigProofs<"u"?this.sigProofs.toEncodingData():void 0],["signed-weight",this.signedWeight]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded StateProofFields: ${ms}`);return new StateProofFields({partProofs:typeof ms.get("part-proofs")<"u"?MerkleArrayProof.fromEncodingData(ms.get("part-proofs")):void 0,positionsToReveal:ms.get("positions-to-reveal"),reveals:typeof ms.get("reveals")<"u"?ms.get("reveals").map(ws=>StateProofReveal.fromEncodingData(ws)):void 0,saltVersion:ms.get("salt-version"),sigCommit:ms.get("sig-commit"),sigProofs:typeof ms.get("sig-proofs")<"u"?MerkleArrayProof.fromEncodingData(ms.get("sig-proofs")):void 0,signedWeight:ms.get("signed-weight")})}}class StateProofParticipant{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"verifier",valueSchema:new OptionalSchema(StateProofVerifier.encodingSchema),omitEmpty:!0},{key:"weight",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({verifier:ms,weight:ws}){this.verifier=ms,this.weight=typeof ws>"u"?void 0:ensureBigInt(ws)}getEncodingSchema(){return StateProofParticipant.encodingSchema}toEncodingData(){return new Map([["verifier",typeof this.verifier<"u"?this.verifier.toEncodingData():void 0],["weight",this.weight]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded StateProofParticipant: ${ms}`);return new StateProofParticipant({verifier:typeof ms.get("verifier")<"u"?StateProofVerifier.fromEncodingData(ms.get("verifier")):void 0,weight:ms.get("weight")})}}class StateProofReveal{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"participant",valueSchema:new OptionalSchema(StateProofParticipant.encodingSchema),omitEmpty:!0},{key:"position",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"sig-slot",valueSchema:new OptionalSchema(StateProofSigSlot.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({participant:ms,position:ws,sigSlot:Ss}){this.participant=ms,this.position=typeof ws>"u"?void 0:ensureBigInt(ws),this.sigSlot=Ss}getEncodingSchema(){return StateProofReveal.encodingSchema}toEncodingData(){return new Map([["participant",typeof this.participant<"u"?this.participant.toEncodingData():void 0],["position",this.position],["sig-slot",typeof this.sigSlot<"u"?this.sigSlot.toEncodingData():void 0]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded StateProofReveal: ${ms}`);return new StateProofReveal({participant:typeof ms.get("participant")<"u"?StateProofParticipant.fromEncodingData(ms.get("participant")):void 0,position:ms.get("position"),sigSlot:typeof ms.get("sig-slot")<"u"?StateProofSigSlot.fromEncodingData(ms.get("sig-slot")):void 0})}}class StateProofSigSlot{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"lower-sig-weight",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"signature",valueSchema:new OptionalSchema(StateProofSignature.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({lowerSigWeight:ms,signature:ws}){this.lowerSigWeight=typeof ms>"u"?void 0:ensureBigInt(ms),this.signature=ws}getEncodingSchema(){return StateProofSigSlot.encodingSchema}toEncodingData(){return new Map([["lower-sig-weight",this.lowerSigWeight],["signature",typeof this.signature<"u"?this.signature.toEncodingData():void 0]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded StateProofSigSlot: ${ms}`);return new StateProofSigSlot({lowerSigWeight:ms.get("lower-sig-weight"),signature:typeof ms.get("signature")<"u"?StateProofSignature.fromEncodingData(ms.get("signature")):void 0})}}class StateProofSignature{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"falcon-signature",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"merkle-array-index",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"proof",valueSchema:new OptionalSchema(MerkleArrayProof.encodingSchema),omitEmpty:!0},{key:"verifying-key",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({falconSignature:ms,merkleArrayIndex:ws,proof:Ss,verifyingKey:Es}){this.falconSignature=typeof ms=="string"?base64ToBytes(ms):ms,this.merkleArrayIndex=typeof ws>"u"?void 0:ensureSafeInteger(ws),this.proof=Ss,this.verifyingKey=typeof Es=="string"?base64ToBytes(Es):Es}getEncodingSchema(){return StateProofSignature.encodingSchema}toEncodingData(){return new Map([["falcon-signature",this.falconSignature],["merkle-array-index",this.merkleArrayIndex],["proof",typeof this.proof<"u"?this.proof.toEncodingData():void 0],["verifying-key",this.verifyingKey]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded StateProofSignature: ${ms}`);return new StateProofSignature({falconSignature:ms.get("falcon-signature"),merkleArrayIndex:ms.get("merkle-array-index"),proof:typeof ms.get("proof")<"u"?MerkleArrayProof.fromEncodingData(ms.get("proof")):void 0,verifyingKey:ms.get("verifying-key")})}}class StateProofTracking{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"next-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"online-total-weight",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"type",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"voters-commitment",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({nextRound:ms,onlineTotalWeight:ws,type:Ss,votersCommitment:Es}){this.nextRound=typeof ms>"u"?void 0:ensureBigInt(ms),this.onlineTotalWeight=typeof ws>"u"?void 0:ensureBigInt(ws),this.type=typeof Ss>"u"?void 0:ensureSafeInteger(Ss),this.votersCommitment=typeof Es=="string"?base64ToBytes(Es):Es}getEncodingSchema(){return StateProofTracking.encodingSchema}toEncodingData(){return new Map([["next-round",this.nextRound],["online-total-weight",this.onlineTotalWeight],["type",this.type],["voters-commitment",this.votersCommitment]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded StateProofTracking: ${ms}`);return new StateProofTracking({nextRound:ms.get("next-round"),onlineTotalWeight:ms.get("online-total-weight"),type:ms.get("type"),votersCommitment:ms.get("voters-commitment")})}}class StateProofVerifier{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"commitment",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"key-lifetime",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({commitment:ms,keyLifetime:ws}){this.commitment=typeof ms=="string"?base64ToBytes(ms):ms,this.keyLifetime=typeof ws>"u"?void 0:ensureBigInt(ws)}getEncodingSchema(){return StateProofVerifier.encodingSchema}toEncodingData(){return new Map([["commitment",this.commitment],["key-lifetime",this.keyLifetime]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded StateProofVerifier: ${ms}`);return new StateProofVerifier({commitment:ms.get("commitment"),keyLifetime:ms.get("key-lifetime")})}}class StateSchema{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"num-byte-slice",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"num-uint",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({numByteSlice:ms,numUint:ws}){this.numByteSlice=ensureSafeInteger(ms),this.numUint=ensureSafeInteger(ws)}getEncodingSchema(){return StateSchema.encodingSchema}toEncodingData(){return new Map([["num-byte-slice",this.numByteSlice],["num-uint",this.numUint]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded StateSchema: ${ms}`);return new StateSchema({numByteSlice:ms.get("num-byte-slice"),numUint:ms.get("num-uint")})}}class TealKeyValue{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"value",valueSchema:TealValue.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:ms,value:ws}){this.key=typeof ms=="string"?base64ToBytes(ms):ms,this.value=ws}getEncodingSchema(){return TealKeyValue.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded TealKeyValue: ${ms}`);return new TealKeyValue({key:ms.get("key"),value:TealValue.fromEncodingData(ms.get("value")??new Map)})}}class TealValue{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"bytes",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"type",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"uint",valueSchema:new Uint64Schema,omitEmpty:!0})),this.encodingSchemaValue}constructor({bytes:ms,type:ws,uint:Ss}){this.bytes=typeof ms=="string"?base64ToBytes(ms):ms,this.type=ensureSafeInteger(ws),this.uint=ensureBigInt(Ss)}getEncodingSchema(){return TealValue.encodingSchema}toEncodingData(){return new Map([["bytes",this.bytes],["type",this.type],["uint",this.uint]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded TealValue: ${ms}`);return new TealValue({bytes:ms.get("bytes"),type:ms.get("type"),uint:ms.get("uint")})}}class Transaction{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"fee",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"first-valid",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"last-valid",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"sender",valueSchema:new StringSchema,omitEmpty:!0},{key:"application-transaction",valueSchema:new OptionalSchema(TransactionApplication.encodingSchema),omitEmpty:!0},{key:"asset-config-transaction",valueSchema:new OptionalSchema(TransactionAssetConfig.encodingSchema),omitEmpty:!0},{key:"asset-freeze-transaction",valueSchema:new OptionalSchema(TransactionAssetFreeze.encodingSchema),omitEmpty:!0},{key:"asset-transfer-transaction",valueSchema:new OptionalSchema(TransactionAssetTransfer.encodingSchema),omitEmpty:!0},{key:"auth-addr",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"close-rewards",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"closing-amount",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"confirmed-round",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"created-application-index",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"created-asset-index",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"genesis-hash",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"genesis-id",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"global-state-delta",valueSchema:new OptionalSchema(new ArraySchema(EvalDeltaKeyValue.encodingSchema)),omitEmpty:!0},{key:"group",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"heartbeat-transaction",valueSchema:new OptionalSchema(TransactionHeartbeat.encodingSchema),omitEmpty:!0},{key:"id",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"inner-txns",valueSchema:new OptionalSchema(new ArraySchema(Transaction.encodingSchema)),omitEmpty:!0},{key:"intra-round-offset",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"keyreg-transaction",valueSchema:new OptionalSchema(TransactionKeyreg.encodingSchema),omitEmpty:!0},{key:"lease",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"local-state-delta",valueSchema:new OptionalSchema(new ArraySchema(AccountStateDelta.encodingSchema)),omitEmpty:!0},{key:"logs",valueSchema:new OptionalSchema(new ArraySchema(new ByteArraySchema)),omitEmpty:!0},{key:"note",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"payment-transaction",valueSchema:new OptionalSchema(TransactionPayment.encodingSchema),omitEmpty:!0},{key:"receiver-rewards",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"rekey-to",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"round-time",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"sender-rewards",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"signature",valueSchema:new OptionalSchema(TransactionSignature.encodingSchema),omitEmpty:!0},{key:"state-proof-transaction",valueSchema:new OptionalSchema(TransactionStateProof.encodingSchema),omitEmpty:!0},{key:"tx-type",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({fee:ms,firstValid:ws,lastValid:Ss,sender:Es,applicationTransaction:_s,assetConfigTransaction:Is,assetFreezeTransaction:Ts,assetTransferTransaction:Rs,authAddr:Bs,closeRewards:Ns,closingAmount:Ws,confirmedRound:Js,createdApplicationIndex:$l,createdAssetIndex:wl,genesisHash:_l,genesisId:Cl,globalStateDelta:Sl,group:El,heartbeatTransaction:xl,id:Ml,innerTxns:Vl,intraRoundOffset:Ul,keyregTransaction:_h,lease:nu,localStateDelta:su,logs:Jl,note:Il,paymentTransaction:Nl,receiverRewards:Ol,rekeyTo:Gl,roundTime:Fl,senderRewards:Al,signature:Pl,stateProofTransaction:yl,txType:Zs}){this.fee=ensureBigInt(ms),this.firstValid=ensureBigInt(ws),this.lastValid=ensureBigInt(Ss),this.sender=Es,this.applicationTransaction=_s,this.assetConfigTransaction=Is,this.assetFreezeTransaction=Ts,this.assetTransferTransaction=Rs,this.authAddr=typeof Bs=="string"?Address.fromString(Bs):Bs,this.closeRewards=typeof Ns>"u"?void 0:ensureBigInt(Ns),this.closingAmount=typeof Ws>"u"?void 0:ensureBigInt(Ws),this.confirmedRound=typeof Js>"u"?void 0:ensureBigInt(Js),this.createdApplicationIndex=typeof $l>"u"?void 0:ensureBigInt($l),this.createdAssetIndex=typeof wl>"u"?void 0:ensureBigInt(wl),this.genesisHash=typeof _l=="string"?base64ToBytes(_l):_l,this.genesisId=Cl,this.globalStateDelta=Sl,this.group=typeof El=="string"?base64ToBytes(El):El,this.heartbeatTransaction=xl,this.id=Ml,this.innerTxns=Vl,this.intraRoundOffset=typeof Ul>"u"?void 0:ensureSafeInteger(Ul),this.keyregTransaction=_h,this.lease=typeof nu=="string"?base64ToBytes(nu):nu,this.localStateDelta=su,this.logs=Jl,this.note=typeof Il=="string"?base64ToBytes(Il):Il,this.paymentTransaction=Nl,this.receiverRewards=typeof Ol>"u"?void 0:ensureBigInt(Ol),this.rekeyTo=typeof Gl=="string"?Address.fromString(Gl):Gl,this.roundTime=typeof Fl>"u"?void 0:ensureSafeInteger(Fl),this.senderRewards=typeof Al>"u"?void 0:ensureBigInt(Al),this.signature=Pl,this.stateProofTransaction=yl,this.txType=Zs}getEncodingSchema(){return Transaction.encodingSchema}toEncodingData(){return new Map([["fee",this.fee],["first-valid",this.firstValid],["last-valid",this.lastValid],["sender",this.sender],["application-transaction",typeof this.applicationTransaction<"u"?this.applicationTransaction.toEncodingData():void 0],["asset-config-transaction",typeof this.assetConfigTransaction<"u"?this.assetConfigTransaction.toEncodingData():void 0],["asset-freeze-transaction",typeof this.assetFreezeTransaction<"u"?this.assetFreezeTransaction.toEncodingData():void 0],["asset-transfer-transaction",typeof this.assetTransferTransaction<"u"?this.assetTransferTransaction.toEncodingData():void 0],["auth-addr",typeof this.authAddr<"u"?this.authAddr.toString():void 0],["close-rewards",this.closeRewards],["closing-amount",this.closingAmount],["confirmed-round",this.confirmedRound],["created-application-index",this.createdApplicationIndex],["created-asset-index",this.createdAssetIndex],["genesis-hash",this.genesisHash],["genesis-id",this.genesisId],["global-state-delta",typeof this.globalStateDelta<"u"?this.globalStateDelta.map(ms=>ms.toEncodingData()):void 0],["group",this.group],["heartbeat-transaction",typeof this.heartbeatTransaction<"u"?this.heartbeatTransaction.toEncodingData():void 0],["id",this.id],["inner-txns",typeof this.innerTxns<"u"?this.innerTxns.map(ms=>ms.toEncodingData()):void 0],["intra-round-offset",this.intraRoundOffset],["keyreg-transaction",typeof this.keyregTransaction<"u"?this.keyregTransaction.toEncodingData():void 0],["lease",this.lease],["local-state-delta",typeof this.localStateDelta<"u"?this.localStateDelta.map(ms=>ms.toEncodingData()):void 0],["logs",this.logs],["note",this.note],["payment-transaction",typeof this.paymentTransaction<"u"?this.paymentTransaction.toEncodingData():void 0],["receiver-rewards",this.receiverRewards],["rekey-to",typeof this.rekeyTo<"u"?this.rekeyTo.toString():void 0],["round-time",this.roundTime],["sender-rewards",this.senderRewards],["signature",typeof this.signature<"u"?this.signature.toEncodingData():void 0],["state-proof-transaction",typeof this.stateProofTransaction<"u"?this.stateProofTransaction.toEncodingData():void 0],["tx-type",this.txType]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded Transaction: ${ms}`);return new Transaction({fee:ms.get("fee"),firstValid:ms.get("first-valid"),lastValid:ms.get("last-valid"),sender:ms.get("sender"),applicationTransaction:typeof ms.get("application-transaction")<"u"?TransactionApplication.fromEncodingData(ms.get("application-transaction")):void 0,assetConfigTransaction:typeof ms.get("asset-config-transaction")<"u"?TransactionAssetConfig.fromEncodingData(ms.get("asset-config-transaction")):void 0,assetFreezeTransaction:typeof ms.get("asset-freeze-transaction")<"u"?TransactionAssetFreeze.fromEncodingData(ms.get("asset-freeze-transaction")):void 0,assetTransferTransaction:typeof ms.get("asset-transfer-transaction")<"u"?TransactionAssetTransfer.fromEncodingData(ms.get("asset-transfer-transaction")):void 0,authAddr:ms.get("auth-addr"),closeRewards:ms.get("close-rewards"),closingAmount:ms.get("closing-amount"),confirmedRound:ms.get("confirmed-round"),createdApplicationIndex:ms.get("created-application-index"),createdAssetIndex:ms.get("created-asset-index"),genesisHash:ms.get("genesis-hash"),genesisId:ms.get("genesis-id"),globalStateDelta:typeof ms.get("global-state-delta")<"u"?ms.get("global-state-delta").map(ws=>EvalDeltaKeyValue.fromEncodingData(ws)):void 0,group:ms.get("group"),heartbeatTransaction:typeof ms.get("heartbeat-transaction")<"u"?TransactionHeartbeat.fromEncodingData(ms.get("heartbeat-transaction")):void 0,id:ms.get("id"),innerTxns:typeof ms.get("inner-txns")<"u"?ms.get("inner-txns").map(ws=>Transaction.fromEncodingData(ws)):void 0,intraRoundOffset:ms.get("intra-round-offset"),keyregTransaction:typeof ms.get("keyreg-transaction")<"u"?TransactionKeyreg.fromEncodingData(ms.get("keyreg-transaction")):void 0,lease:ms.get("lease"),localStateDelta:typeof ms.get("local-state-delta")<"u"?ms.get("local-state-delta").map(ws=>AccountStateDelta.fromEncodingData(ws)):void 0,logs:ms.get("logs"),note:ms.get("note"),paymentTransaction:typeof ms.get("payment-transaction")<"u"?TransactionPayment.fromEncodingData(ms.get("payment-transaction")):void 0,receiverRewards:ms.get("receiver-rewards"),rekeyTo:ms.get("rekey-to"),roundTime:ms.get("round-time"),senderRewards:ms.get("sender-rewards"),signature:typeof ms.get("signature")<"u"?TransactionSignature.fromEncodingData(ms.get("signature")):void 0,stateProofTransaction:typeof ms.get("state-proof-transaction")<"u"?TransactionStateProof.fromEncodingData(ms.get("state-proof-transaction")):void 0,txType:ms.get("tx-type")})}}class TransactionApplication{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"application-id",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"accounts",valueSchema:new OptionalSchema(new ArraySchema(new StringSchema)),omitEmpty:!0},{key:"application-args",valueSchema:new OptionalSchema(new ArraySchema(new ByteArraySchema)),omitEmpty:!0},{key:"approval-program",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"box-references",valueSchema:new OptionalSchema(new ArraySchema(BoxReference.encodingSchema)),omitEmpty:!0},{key:"clear-state-program",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"extra-program-pages",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"foreign-apps",valueSchema:new OptionalSchema(new ArraySchema(new Uint64Schema)),omitEmpty:!0},{key:"foreign-assets",valueSchema:new OptionalSchema(new ArraySchema(new Uint64Schema)),omitEmpty:!0},{key:"global-state-schema",valueSchema:new OptionalSchema(StateSchema.encodingSchema),omitEmpty:!0},{key:"local-state-schema",valueSchema:new OptionalSchema(StateSchema.encodingSchema),omitEmpty:!0},{key:"on-completion",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"reject-version",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({applicationId:ms,accounts:ws,applicationArgs:Ss,approvalProgram:Es,boxReferences:_s,clearStateProgram:Is,extraProgramPages:Ts,foreignApps:Rs,foreignAssets:Bs,globalStateSchema:Ns,localStateSchema:Ws,onCompletion:Js,rejectVersion:$l}){this.applicationId=ensureBigInt(ms),this.accounts=typeof ws<"u"?ws.map(wl=>typeof wl=="string"?Address.fromString(wl):wl):void 0,this.applicationArgs=Ss,this.approvalProgram=typeof Es=="string"?base64ToBytes(Es):Es,this.boxReferences=_s,this.clearStateProgram=typeof Is=="string"?base64ToBytes(Is):Is,this.extraProgramPages=typeof Ts>"u"?void 0:ensureSafeInteger(Ts),this.foreignApps=typeof Rs>"u"?void 0:Rs.map(ensureBigInt),this.foreignAssets=typeof Bs>"u"?void 0:Bs.map(ensureBigInt),this.globalStateSchema=Ns,this.localStateSchema=Ws,this.onCompletion=Js,this.rejectVersion=typeof $l>"u"?void 0:ensureSafeInteger($l)}getEncodingSchema(){return TransactionApplication.encodingSchema}toEncodingData(){return new Map([["application-id",this.applicationId],["accounts",typeof this.accounts<"u"?this.accounts.map(ms=>ms.toString()):void 0],["application-args",this.applicationArgs],["approval-program",this.approvalProgram],["box-references",typeof this.boxReferences<"u"?this.boxReferences.map(ms=>ms.toEncodingData()):void 0],["clear-state-program",this.clearStateProgram],["extra-program-pages",this.extraProgramPages],["foreign-apps",this.foreignApps],["foreign-assets",this.foreignAssets],["global-state-schema",typeof this.globalStateSchema<"u"?this.globalStateSchema.toEncodingData():void 0],["local-state-schema",typeof this.localStateSchema<"u"?this.localStateSchema.toEncodingData():void 0],["on-completion",this.onCompletion],["reject-version",this.rejectVersion]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded TransactionApplication: ${ms}`);return new TransactionApplication({applicationId:ms.get("application-id"),accounts:ms.get("accounts"),applicationArgs:ms.get("application-args"),approvalProgram:ms.get("approval-program"),boxReferences:typeof ms.get("box-references")<"u"?ms.get("box-references").map(ws=>BoxReference.fromEncodingData(ws)):void 0,clearStateProgram:ms.get("clear-state-program"),extraProgramPages:ms.get("extra-program-pages"),foreignApps:ms.get("foreign-apps"),foreignAssets:ms.get("foreign-assets"),globalStateSchema:typeof ms.get("global-state-schema")<"u"?StateSchema.fromEncodingData(ms.get("global-state-schema")):void 0,localStateSchema:typeof ms.get("local-state-schema")<"u"?StateSchema.fromEncodingData(ms.get("local-state-schema")):void 0,onCompletion:ms.get("on-completion"),rejectVersion:ms.get("reject-version")})}}class TransactionAssetConfig{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"asset-id",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"params",valueSchema:new OptionalSchema(AssetParams.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({assetId:ms,params:ws}){this.assetId=typeof ms>"u"?void 0:ensureBigInt(ms),this.params=ws}getEncodingSchema(){return TransactionAssetConfig.encodingSchema}toEncodingData(){return new Map([["asset-id",this.assetId],["params",typeof this.params<"u"?this.params.toEncodingData():void 0]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded TransactionAssetConfig: ${ms}`);return new TransactionAssetConfig({assetId:ms.get("asset-id"),params:typeof ms.get("params")<"u"?AssetParams.fromEncodingData(ms.get("params")):void 0})}}class TransactionAssetFreeze{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new StringSchema,omitEmpty:!0},{key:"asset-id",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"new-freeze-status",valueSchema:new BooleanSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({address:ms,assetId:ws,newFreezeStatus:Ss}){this.address=ms,this.assetId=ensureBigInt(ws),this.newFreezeStatus=Ss}getEncodingSchema(){return TransactionAssetFreeze.encodingSchema}toEncodingData(){return new Map([["address",this.address],["asset-id",this.assetId],["new-freeze-status",this.newFreezeStatus]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded TransactionAssetFreeze: ${ms}`);return new TransactionAssetFreeze({address:ms.get("address"),assetId:ms.get("asset-id"),newFreezeStatus:ms.get("new-freeze-status")})}}class TransactionAssetTransfer{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"amount",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"asset-id",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"receiver",valueSchema:new StringSchema,omitEmpty:!0},{key:"close-amount",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"close-to",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0},{key:"sender",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({amount:ms,assetId:ws,receiver:Ss,closeAmount:Es,closeTo:_s,sender:Is}){this.amount=ensureBigInt(ms),this.assetId=ensureBigInt(ws),this.receiver=Ss,this.closeAmount=typeof Es>"u"?void 0:ensureBigInt(Es),this.closeTo=_s,this.sender=Is}getEncodingSchema(){return TransactionAssetTransfer.encodingSchema}toEncodingData(){return new Map([["amount",this.amount],["asset-id",this.assetId],["receiver",this.receiver],["close-amount",this.closeAmount],["close-to",this.closeTo],["sender",this.sender]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded TransactionAssetTransfer: ${ms}`);return new TransactionAssetTransfer({amount:ms.get("amount"),assetId:ms.get("asset-id"),receiver:ms.get("receiver"),closeAmount:ms.get("close-amount"),closeTo:ms.get("close-to"),sender:ms.get("sender")})}}class TransactionHeartbeat{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"hb-address",valueSchema:new StringSchema,omitEmpty:!0},{key:"hb-key-dilution",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"hb-proof",valueSchema:HbProofFields.encodingSchema,omitEmpty:!0},{key:"hb-seed",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"hb-vote-id",valueSchema:new ByteArraySchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({hbAddress:ms,hbKeyDilution:ws,hbProof:Ss,hbSeed:Es,hbVoteId:_s}){this.hbAddress=ms,this.hbKeyDilution=ensureBigInt(ws),this.hbProof=Ss,this.hbSeed=typeof Es=="string"?base64ToBytes(Es):Es,this.hbVoteId=typeof _s=="string"?base64ToBytes(_s):_s}getEncodingSchema(){return TransactionHeartbeat.encodingSchema}toEncodingData(){return new Map([["hb-address",this.hbAddress],["hb-key-dilution",this.hbKeyDilution],["hb-proof",this.hbProof.toEncodingData()],["hb-seed",this.hbSeed],["hb-vote-id",this.hbVoteId]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded TransactionHeartbeat: ${ms}`);return new TransactionHeartbeat({hbAddress:ms.get("hb-address"),hbKeyDilution:ms.get("hb-key-dilution"),hbProof:HbProofFields.fromEncodingData(ms.get("hb-proof")??new Map),hbSeed:ms.get("hb-seed"),hbVoteId:ms.get("hb-vote-id")})}}class TransactionKeyreg{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"non-participation",valueSchema:new OptionalSchema(new BooleanSchema),omitEmpty:!0},{key:"selection-participation-key",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"state-proof-key",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"vote-first-valid",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"vote-key-dilution",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"vote-last-valid",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"vote-participation-key",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({nonParticipation:ms,selectionParticipationKey:ws,stateProofKey:Ss,voteFirstValid:Es,voteKeyDilution:_s,voteLastValid:Is,voteParticipationKey:Ts}){this.nonParticipation=ms,this.selectionParticipationKey=typeof ws=="string"?base64ToBytes(ws):ws,this.stateProofKey=typeof Ss=="string"?base64ToBytes(Ss):Ss,this.voteFirstValid=typeof Es>"u"?void 0:ensureBigInt(Es),this.voteKeyDilution=typeof _s>"u"?void 0:ensureBigInt(_s),this.voteLastValid=typeof Is>"u"?void 0:ensureBigInt(Is),this.voteParticipationKey=typeof Ts=="string"?base64ToBytes(Ts):Ts}getEncodingSchema(){return TransactionKeyreg.encodingSchema}toEncodingData(){return new Map([["non-participation",this.nonParticipation],["selection-participation-key",this.selectionParticipationKey],["state-proof-key",this.stateProofKey],["vote-first-valid",this.voteFirstValid],["vote-key-dilution",this.voteKeyDilution],["vote-last-valid",this.voteLastValid],["vote-participation-key",this.voteParticipationKey]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded TransactionKeyreg: ${ms}`);return new TransactionKeyreg({nonParticipation:ms.get("non-participation"),selectionParticipationKey:ms.get("selection-participation-key"),stateProofKey:ms.get("state-proof-key"),voteFirstValid:ms.get("vote-first-valid"),voteKeyDilution:ms.get("vote-key-dilution"),voteLastValid:ms.get("vote-last-valid"),voteParticipationKey:ms.get("vote-participation-key")})}}class TransactionPayment{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"amount",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"receiver",valueSchema:new StringSchema,omitEmpty:!0},{key:"close-amount",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"close-remainder-to",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({amount:ms,receiver:ws,closeAmount:Ss,closeRemainderTo:Es}){this.amount=ensureBigInt(ms),this.receiver=ws,this.closeAmount=typeof Ss>"u"?void 0:ensureBigInt(Ss),this.closeRemainderTo=Es}getEncodingSchema(){return TransactionPayment.encodingSchema}toEncodingData(){return new Map([["amount",this.amount],["receiver",this.receiver],["close-amount",this.closeAmount],["close-remainder-to",this.closeRemainderTo]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded TransactionPayment: ${ms}`);return new TransactionPayment({amount:ms.get("amount"),receiver:ms.get("receiver"),closeAmount:ms.get("close-amount"),closeRemainderTo:ms.get("close-remainder-to")})}}class TransactionResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"transaction",valueSchema:Transaction.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({currentRound:ms,transaction:ws}){this.currentRound=ensureBigInt(ms),this.transaction=ws}getEncodingSchema(){return TransactionResponse.encodingSchema}toEncodingData(){return new Map([["current-round",this.currentRound],["transaction",this.transaction.toEncodingData()]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded TransactionResponse: ${ms}`);return new TransactionResponse({currentRound:ms.get("current-round"),transaction:Transaction.fromEncodingData(ms.get("transaction")??new Map)})}}class TransactionSignature{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"logicsig",valueSchema:new OptionalSchema(TransactionSignatureLogicsig.encodingSchema),omitEmpty:!0},{key:"multisig",valueSchema:new OptionalSchema(TransactionSignatureMultisig.encodingSchema),omitEmpty:!0},{key:"sig",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({logicsig:ms,multisig:ws,sig:Ss}){this.logicsig=ms,this.multisig=ws,this.sig=typeof Ss=="string"?base64ToBytes(Ss):Ss}getEncodingSchema(){return TransactionSignature.encodingSchema}toEncodingData(){return new Map([["logicsig",typeof this.logicsig<"u"?this.logicsig.toEncodingData():void 0],["multisig",typeof this.multisig<"u"?this.multisig.toEncodingData():void 0],["sig",this.sig]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded TransactionSignature: ${ms}`);return new TransactionSignature({logicsig:typeof ms.get("logicsig")<"u"?TransactionSignatureLogicsig.fromEncodingData(ms.get("logicsig")):void 0,multisig:typeof ms.get("multisig")<"u"?TransactionSignatureMultisig.fromEncodingData(ms.get("multisig")):void 0,sig:ms.get("sig")})}}class TransactionSignatureLogicsig{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"logic",valueSchema:new ByteArraySchema,omitEmpty:!0},{key:"args",valueSchema:new OptionalSchema(new ArraySchema(new ByteArraySchema)),omitEmpty:!0},{key:"multisig-signature",valueSchema:new OptionalSchema(TransactionSignatureMultisig.encodingSchema),omitEmpty:!0},{key:"signature",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({logic:ms,args:ws,multisigSignature:Ss,signature:Es}){this.logic=typeof ms=="string"?base64ToBytes(ms):ms,this.args=ws,this.multisigSignature=Ss,this.signature=typeof Es=="string"?base64ToBytes(Es):Es}getEncodingSchema(){return TransactionSignatureLogicsig.encodingSchema}toEncodingData(){return new Map([["logic",this.logic],["args",this.args],["multisig-signature",typeof this.multisigSignature<"u"?this.multisigSignature.toEncodingData():void 0],["signature",this.signature]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded TransactionSignatureLogicsig: ${ms}`);return new TransactionSignatureLogicsig({logic:ms.get("logic"),args:ms.get("args"),multisigSignature:typeof ms.get("multisig-signature")<"u"?TransactionSignatureMultisig.fromEncodingData(ms.get("multisig-signature")):void 0,signature:ms.get("signature")})}}class TransactionSignatureMultisig{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"subsignature",valueSchema:new OptionalSchema(new ArraySchema(TransactionSignatureMultisigSubsignature.encodingSchema)),omitEmpty:!0},{key:"threshold",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0},{key:"version",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({subsignature:ms,threshold:ws,version:Ss}){this.subsignature=ms,this.threshold=typeof ws>"u"?void 0:ensureSafeInteger(ws),this.version=typeof Ss>"u"?void 0:ensureSafeInteger(Ss)}getEncodingSchema(){return TransactionSignatureMultisig.encodingSchema}toEncodingData(){return new Map([["subsignature",typeof this.subsignature<"u"?this.subsignature.map(ms=>ms.toEncodingData()):void 0],["threshold",this.threshold],["version",this.version]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded TransactionSignatureMultisig: ${ms}`);return new TransactionSignatureMultisig({subsignature:typeof ms.get("subsignature")<"u"?ms.get("subsignature").map(ws=>TransactionSignatureMultisigSubsignature.fromEncodingData(ws)):void 0,threshold:ms.get("threshold"),version:ms.get("version")})}}class TransactionSignatureMultisigSubsignature{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"public-key",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0},{key:"signature",valueSchema:new OptionalSchema(new ByteArraySchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({publicKey:ms,signature:ws}){this.publicKey=typeof ms=="string"?base64ToBytes(ms):ms,this.signature=typeof ws=="string"?base64ToBytes(ws):ws}getEncodingSchema(){return TransactionSignatureMultisigSubsignature.encodingSchema}toEncodingData(){return new Map([["public-key",this.publicKey],["signature",this.signature]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded TransactionSignatureMultisigSubsignature: ${ms}`);return new TransactionSignatureMultisigSubsignature({publicKey:ms.get("public-key"),signature:ms.get("signature")})}}class TransactionStateProof{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"message",valueSchema:new OptionalSchema(IndexerStateProofMessage.encodingSchema),omitEmpty:!0},{key:"state-proof",valueSchema:new OptionalSchema(StateProofFields.encodingSchema),omitEmpty:!0},{key:"state-proof-type",valueSchema:new OptionalSchema(new Uint64Schema),omitEmpty:!0})),this.encodingSchemaValue}constructor({message:ms,stateProof:ws,stateProofType:Ss}){this.message=ms,this.stateProof=ws,this.stateProofType=typeof Ss>"u"?void 0:ensureSafeInteger(Ss)}getEncodingSchema(){return TransactionStateProof.encodingSchema}toEncodingData(){return new Map([["message",typeof this.message<"u"?this.message.toEncodingData():void 0],["state-proof",typeof this.stateProof<"u"?this.stateProof.toEncodingData():void 0],["state-proof-type",this.stateProofType]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded TransactionStateProof: ${ms}`);return new TransactionStateProof({message:typeof ms.get("message")<"u"?IndexerStateProofMessage.fromEncodingData(ms.get("message")):void 0,stateProof:typeof ms.get("state-proof")<"u"?StateProofFields.fromEncodingData(ms.get("state-proof")):void 0,stateProofType:ms.get("state-proof-type")})}}class TransactionsResponse{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new NamedMapSchema([]),this.encodingSchemaValue.pushEntries({key:"current-round",valueSchema:new Uint64Schema,omitEmpty:!0},{key:"transactions",valueSchema:new ArraySchema(Transaction.encodingSchema),omitEmpty:!0},{key:"next-token",valueSchema:new OptionalSchema(new StringSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({currentRound:ms,transactions:ws,nextToken:Ss}){this.currentRound=ensureBigInt(ms),this.transactions=ws,this.nextToken=Ss}getEncodingSchema(){return TransactionsResponse.encodingSchema}toEncodingData(){return new Map([["current-round",this.currentRound],["transactions",this.transactions.map(ms=>ms.toEncodingData())],["next-token",this.nextToken]])}static fromEncodingData(ms){if(!(ms instanceof Map))throw new Error(`Invalid decoded TransactionsResponse: ${ms}`);return new TransactionsResponse({currentRound:ms.get("current-round"),transactions:(ms.get("transactions")??[]).map(ws=>Transaction.fromEncodingData(ws)),nextToken:ms.get("next-token")})}}const types$1=Object.freeze(Object.defineProperty({__proto__:null,Account:Account$1,AccountParticipation,AccountResponse,AccountStateDelta,AccountsResponse,Application,ApplicationLocalState,ApplicationLocalStatesResponse,ApplicationLogData,ApplicationLogsResponse,ApplicationParams,ApplicationResponse,ApplicationStateSchema,ApplicationsResponse,Asset,AssetBalancesResponse,AssetHolding,AssetHoldingsResponse,AssetParams,AssetResponse,AssetsResponse,Block,BlockHeadersResponse,BlockRewards,BlockUpgradeState,BlockUpgradeVote,Box,BoxDescriptor,BoxReference,BoxesResponse,ErrorResponse,EvalDelta,EvalDeltaKeyValue,HashFactory,HbProofFields,HealthCheck,IndexerStateProofMessage,MerkleArrayProof,MiniAssetHolding,ParticipationUpdates,StateProofFields,StateProofParticipant,StateProofReveal,StateProofSigSlot,StateProofSignature,StateProofTracking,StateProofVerifier,StateSchema,TealKeyValue,TealValue,Transaction,TransactionApplication,TransactionAssetConfig,TransactionAssetFreeze,TransactionAssetTransfer,TransactionHeartbeat,TransactionKeyreg,TransactionPayment,TransactionResponse,TransactionSignature,TransactionSignatureLogicsig,TransactionSignatureMultisig,TransactionSignatureMultisigSubsignature,TransactionStateProof,TransactionsResponse},Symbol.toStringTag,{value:"Module"}));class MakeHealthCheck extends JSONRequest{path(){return"/health"}prepare(ms){return decodeJSON(ms.getJSONText(),HealthCheck)}}class LookupAssetBalances extends JSONRequest{constructor(ms,ws){super(ms),this.index=BigInt(ws)}path(){return`/v2/assets/${this.index}/balances`}limit(ms){return this.query.limit=ms,this}currencyGreaterThan(ms){return this.query["currency-greater-than"]=ms.toString(),this}currencyLessThan(ms){return this.query["currency-less-than"]=ms,this}nextToken(ms){return this.query.next=ms,this}includeAll(ms=!0){return this.query["include-all"]=ms,this}prepare(ms){return decodeJSON(ms.getJSONText(),AssetBalancesResponse)}}function base64StringFunnel(vs){return typeof vs=="string"?vs:bytesToBase64(vs)}class LookupAccountTransactions extends JSONRequest{constructor(ms,ws){super(ms),this.account=ws.toString()}path(){return`/v2/accounts/${this.account}/transactions`}notePrefix(ms){return this.query["note-prefix"]=base64StringFunnel(ms),this}txType(ms){return this.query["tx-type"]=ms,this}sigType(ms){return this.query["sig-type"]=ms,this}txid(ms){return this.query.txid=ms,this}round(ms){return this.query.round=ms,this}minRound(ms){return this.query["min-round"]=ms,this}maxRound(ms){return this.query["max-round"]=ms,this}assetID(ms){return this.query["asset-id"]=ms,this}limit(ms){return this.query.limit=ms,this}beforeTime(ms){return this.query["before-time"]=ms instanceof Date?ms.toISOString():ms,this}afterTime(ms){return this.query["after-time"]=ms instanceof Date?ms.toISOString():ms,this}currencyGreaterThan(ms){return this.query["currency-greater-than"]=ms.toString(),this}currencyLessThan(ms){return this.query["currency-less-than"]=ms,this}nextToken(ms){return this.query.next=ms,this}rekeyTo(ms){return this.query["rekey-to"]=ms,this}prepare(ms){return decodeJSON(ms.getJSONText(),TransactionsResponse)}}class LookupAssetTransactions extends JSONRequest{constructor(ms,ws){super(ms),this.index=BigInt(ws)}path(){return`/v2/assets/${this.index}/transactions`}notePrefix(ms){return this.query["note-prefix"]=base64StringFunnel(ms),this}txType(ms){return this.query["tx-type"]=ms,this}sigType(ms){return this.query["sig-type"]=ms,this}txid(ms){return this.query.txid=ms,this}round(ms){return this.query.round=ms,this}minRound(ms){return this.query["min-round"]=ms,this}maxRound(ms){return this.query["max-round"]=ms,this}limit(ms){return this.query.limit=ms,this}beforeTime(ms){return this.query["before-time"]=ms instanceof Date?ms.toISOString():ms,this}afterTime(ms){return this.query["after-time"]=ms instanceof Date?ms.toISOString():ms,this}currencyGreaterThan(ms){return this.query["currency-greater-than"]=ms.toString(),this}currencyLessThan(ms){return this.query["currency-less-than"]=ms,this}addressRole(ms){return this.query["address-role"]=ms,this}address(ms){return this.query.address=ms.toString(),this}excludeCloseTo(ms){return this.query["exclude-close-to"]=ms,this}nextToken(ms){return this.query.next=ms,this}rekeyTo(ms){return this.query["rekey-to"]=ms,this}prepare(ms){return decodeJSON(ms.getJSONText(),TransactionsResponse)}}class LookupBlock extends JSONRequest{constructor(ms,ws){super(ms),this.round=BigInt(ws)}path(){return`/v2/blocks/${this.round}`}headerOnly(ms){return this.query["header-only"]=ms,this}prepare(ms){return decodeJSON(ms.getJSONText(),Block)}}class LookupTransactionByID extends JSONRequest{constructor(ms,ws){super(ms),this.txID=ws}path(){return`/v2/transactions/${this.txID}`}prepare(ms){return decodeJSON(ms.getJSONText(),TransactionResponse)}}class LookupAccountByID extends JSONRequest{constructor(ms,ws){super(ms),this.account=ws.toString()}path(){return`/v2/accounts/${this.account}`}round(ms){return this.query.round=ms,this}includeAll(ms=!0){return this.query["include-all"]=ms,this}exclude(ms){return this.query.exclude=ms,this}prepare(ms){return decodeJSON(ms.getJSONText(),AccountResponse)}}class LookupAccountAssets extends JSONRequest{constructor(ms,ws){super(ms),this.account=ws.toString()}path(){return`/v2/accounts/${this.account}/assets`}limit(ms){return this.query.limit=ms,this}round(ms){return this.query.round=ms,this}nextToken(ms){return this.query.next=ms,this}includeAll(ms=!0){return this.query["include-all"]=ms,this}assetId(ms){return this.query["asset-id"]=ms,this}prepare(ms){return decodeJSON(ms.getJSONText(),AssetHoldingsResponse)}}class LookupAccountCreatedAssets extends JSONRequest{constructor(ms,ws){super(ms),this.account=ws.toString()}path(){return`/v2/accounts/${this.account}/created-assets`}limit(ms){return this.query.limit=ms,this}round(ms){return this.query.round=ms,this}nextToken(ms){return this.query.next=ms,this}includeAll(ms=!0){return this.query["include-all"]=ms,this}assetID(ms){return this.query["asset-id"]=ms,this}prepare(ms){return decodeJSON(ms.getJSONText(),AssetsResponse)}}class LookupAccountAppLocalStates extends JSONRequest{constructor(ms,ws){super(ms),this.account=ws.toString()}path(){return`/v2/accounts/${this.account}/apps-local-state`}limit(ms){return this.query.limit=ms,this}round(ms){return this.query.round=ms,this}nextToken(ms){return this.query.next=ms,this}includeAll(ms=!0){return this.query["include-all"]=ms,this}applicationID(ms){return this.query["application-id"]=ms,this}prepare(ms){return decodeJSON(ms.getJSONText(),ApplicationLocalStatesResponse)}}class LookupAccountCreatedApplications extends JSONRequest{constructor(ms,ws){super(ms),this.account=ws.toString()}path(){return`/v2/accounts/${this.account}/created-applications`}limit(ms){return this.query.limit=ms,this}round(ms){return this.query.round=ms,this}nextToken(ms){return this.query.next=ms,this}includeAll(ms=!0){return this.query["include-all"]=ms,this}applicationID(ms){return this.query["application-id"]=ms,this}prepare(ms){return decodeJSON(ms.getJSONText(),ApplicationsResponse)}}class LookupAssetByID extends JSONRequest{constructor(ms,ws){super(ms),this.index=BigInt(ws)}path(){return`/v2/assets/${this.index}`}includeAll(ms=!0){return this.query["include-all"]=ms,this}prepare(ms){return decodeJSON(ms.getJSONText(),AssetResponse)}}class LookupApplications extends JSONRequest{constructor(ms,ws){super(ms),this.index=BigInt(ws)}path(){return`/v2/applications/${this.index}`}includeAll(ms=!0){return this.query["include-all"]=ms,this}prepare(ms){return decodeJSON(ms.getJSONText(),ApplicationResponse)}}class LookupApplicationLogs extends JSONRequest{constructor(ms,ws){super(ms),this.appID=BigInt(ws)}path(){return`/v2/applications/${this.appID}/logs`}limit(ms){return this.query.limit=ms,this}minRound(ms){return this.query["min-round"]=ms,this}maxRound(ms){return this.query["max-round"]=ms,this}nextToken(ms){return this.query.next=ms,this}sender(ms){return this.query["sender-address"]=ms,this}txid(ms){return this.query.txid=ms,this}prepare(ms){return decodeJSON(ms.getJSONText(),ApplicationLogsResponse)}}class LookupApplicationBoxByIDandName extends JSONRequest{constructor(ms,ws,Ss){super(ms),this.index=BigInt(ws);const Es=bytesToBase64(Ss);this.query.name=encodeURI(`b64:${Es}`)}path(){return`/v2/applications/${this.index}/box`}prepare(ms){return decodeJSON(ms.getJSONText(),Box)}}class SearchAccounts extends JSONRequest{path(){return"/v2/accounts"}currencyGreaterThan(ms){return this.query["currency-greater-than"]=ms.toString(),this}currencyLessThan(ms){return this.query["currency-less-than"]=ms,this}limit(ms){return this.query.limit=ms,this}assetID(ms){return this.query["asset-id"]=ms,this}nextToken(ms){return this.query.next=ms,this}round(ms){return this.query.round=ms,this}authAddr(ms){return this.query["auth-addr"]=ms.toString(),this}applicationID(ms){return this.query["application-id"]=ms,this}includeAll(ms=!0){return this.query["include-all"]=ms,this}exclude(ms){return this.query.exclude=ms,this}onlineOnly(ms){return this.query["online-only"]=ms,this}prepare(ms){return decodeJSON(ms.getJSONText(),AccountsResponse)}}class SearchForBlockHeaders extends JSONRequest{path(){return"/v2/block-headers"}absent(ms){return this.query.absent=ms,this}afterTime(ms){return this.query["after-time"]=ms instanceof Date?ms.toISOString():ms,this}beforeTime(ms){return this.query["before-time"]=ms instanceof Date?ms.toISOString():ms,this}expired(ms){return this.query.expired=ms,this}limit(ms){return this.query.limit=ms,this}maxRound(ms){return this.query["max-round"]=ms,this}minRound(ms){return this.query["min-round"]=ms,this}nextToken(ms){return this.query.next=ms,this}proposers(ms){return this.query.proposers=ms,this}prepare(ms){return decodeJSON(ms.getJSONText(),BlockHeadersResponse)}}class SearchForTransactions extends JSONRequest{path(){return"/v2/transactions"}notePrefix(ms){return this.query["note-prefix"]=base64StringFunnel(ms),this}txType(ms){return this.query["tx-type"]=ms,this}sigType(ms){return this.query["sig-type"]=ms,this}txid(ms){return this.query.txid=ms,this}groupid(ms){return this.query["group-id"]=base64StringFunnel(ms),this}round(ms){return this.query.round=ms,this}minRound(ms){return this.query["min-round"]=ms,this}maxRound(ms){return this.query["max-round"]=ms,this}assetID(ms){return this.query["asset-id"]=ms,this}limit(ms){return this.query.limit=ms,this}beforeTime(ms){return this.query["before-time"]=ms instanceof Date?ms.toISOString():ms,this}afterTime(ms){return this.query["after-time"]=ms instanceof Date?ms.toISOString():ms,this}addressRole(ms){return this.query["address-role"]=ms,this}address(ms){return this.query.address=ms.toString(),this}excludeCloseTo(ms){return this.query["exclude-close-to"]=ms,this}nextToken(ms){return this.query.next=ms,this}rekeyTo(ms){return this.query["rekey-to"]=ms,this}applicationID(ms){return this.query["application-id"]=ms,this}currencyGreaterThan(ms){return this.query["currency-greater-than"]=ms.toString(),this}currencyLessThan(ms){return this.query["currency-less-than"]=ms,this}prepare(ms){return decodeJSON(ms.getJSONText(),TransactionsResponse)}}class SearchForAssets extends JSONRequest{path(){return"/v2/assets"}limit(ms){return this.query.limit=ms,this}creator(ms){return this.query.creator=ms.toString(),this}name(ms){return this.query.name=ms,this}unit(ms){return this.query.unit=ms,this}index(ms){return this.query["asset-id"]=ms,this}nextToken(ms){return this.query.next=ms,this}includeAll(ms=!0){return this.query["include-all"]=ms,this}prepare(ms){return decodeJSON(ms.getJSONText(),AssetsResponse)}}class SearchForApplications extends JSONRequest{path(){return"/v2/applications"}index(ms){return this.query["application-id"]=ms,this}creator(ms){return this.query.creator=ms.toString(),this}nextToken(ms){return this.query.next=ms,this}limit(ms){return this.query.limit=ms,this}includeAll(ms=!0){return this.query["include-all"]=ms,this}prepare(ms){return decodeJSON(ms.getJSONText(),ApplicationsResponse)}}class SearchForApplicationBoxes extends JSONRequest{constructor(ms,ws){super(ms),this.index=BigInt(ws)}path(){return`/v2/applications/${this.index}/boxes`}nextToken(ms){return this.query.next=ms,this}limit(ms){return this.query.limit=ms,this}prepare(ms){return decodeJSON(ms.getJSONText(),BoxesResponse)}}class IndexerClient extends ServiceClient{constructor(ms,ws="http://127.0.0.1",Ss=8080,Es={}){super("X-Indexer-API-Token",ms,ws,Ss,Es)}makeHealthCheck(){return new MakeHealthCheck(this.c)}lookupAssetBalances(ms){return new LookupAssetBalances(this.c,ms)}lookupAssetTransactions(ms){return new LookupAssetTransactions(this.c,ms)}lookupAccountTransactions(ms){return new LookupAccountTransactions(this.c,ms)}lookupBlock(ms){return new LookupBlock(this.c,ms)}lookupTransactionByID(ms){return new LookupTransactionByID(this.c,ms)}lookupAccountByID(ms){return new LookupAccountByID(this.c,ms)}lookupAccountAssets(ms){return new LookupAccountAssets(this.c,ms)}lookupAccountCreatedAssets(ms){return new LookupAccountCreatedAssets(this.c,ms)}lookupAccountAppLocalStates(ms){return new LookupAccountAppLocalStates(this.c,ms)}lookupAccountCreatedApplications(ms){return new LookupAccountCreatedApplications(this.c,ms)}lookupAssetByID(ms){return new LookupAssetByID(this.c,ms)}lookupApplications(ms){return new LookupApplications(this.c,ms)}lookupApplicationLogs(ms){return new LookupApplicationLogs(this.c,ms)}searchAccounts(){return new SearchAccounts(this.c)}searchForBlockHeaders(){return new SearchForBlockHeaders(this.c)}searchForTransactions(){return new SearchForTransactions(this.c)}searchForAssets(){return new SearchForAssets(this.c)}searchForApplications(){return new SearchForApplications(this.c)}searchForApplicationBoxes(ms){return new SearchForApplicationBoxes(this.c,ms)}lookupApplicationBoxByIDandName(ms,ws){return new LookupApplicationBoxByIDandName(this.c,ms,ws)}}async function waitForConfirmation(vs,ms,ws){const Ss=await vs.status().do();if(typeof Ss>"u")throw new Error("Unable to get node status");const Es=Ss.lastRound+BigInt(1),_s=Es+BigInt(ws);let Is=Es;for(;Is<_s;){let Ts=!1;try{const Rs=await vs.pendingTransactionInformation(ms).do();if(Rs.confirmedRound)return Rs;if(Rs.poolError)throw Ts=!0,new Error(`Transaction Rejected: ${Rs.poolError}`)}catch(Rs){if(Ts)throw Rs}await vs.statusAfterBlock(Is).do(),Is+=BigInt(1)}throw new Error(`Transaction not confirmed after ${ws} rounds`)}function bigIntToBytes(vs,ms){let ws=vs.toString(16);ws.length!==ms*2&&(ws=ws.padStart(ms*2,"0"));const Ss=new Uint8Array(ws.length/2);for(let Es=0,_s=0;Es<ws.length/2;Es++,_s+=2)Ss[Es]=parseInt(ws.slice(_s,_s+2),16);return Ss}function bytesToBigInt(vs){let ms=BigInt(0);const ws=new DataView(vs.buffer,vs.byteOffset);for(let Ss=0;Ss<vs.length;Ss++)ms=BigInt(Number(ws.getUint8(Ss)))+ms*BigInt(256);return ms}function generateAccount(){const vs=keyPair();return{addr:new Address(vs.publicKey),sk:vs.secretKey}}const english=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"],FAIL_TO_DECODE_MNEMONIC_ERROR_MSG="failed to decode mnemonic",NOT_IN_WORDS_LIST_ERROR_MSG="the mnemonic contains a word that is not in the wordlist";function toUint11Array(vs){const ms=[];let ws=0,Ss=0;function Es(Is){ws|=Is<<Ss,Ss+=8,Ss>=11&&(ms.push(ws&2047),ws>>=11,Ss-=11)}function _s(){Ss&&ms.push(ws)}return vs.forEach(Es),_s(),ms}function applyWords(vs){return vs.map(ms=>english[ms])}function computeChecksum(vs){const ms=genericHash(vs),ws=toUint11Array(ms);return applyWords(ws)[0]}function mnemonicFromSeed(vs){if(vs.length!==SEED_BTYES_LENGTH)throw new RangeError(`Seed length must be ${SEED_BTYES_LENGTH}`);const ms=toUint11Array(vs),ws=applyWords(ms),Ss=computeChecksum(vs);return`${ws.join(" ")} ${Ss}`}function toUint8Array(vs){const ms=[];let ws=0,Ss=0;function Es(Is){for(ws|=Is<<Ss,Ss+=11;Ss>=8;)ms.push(ws&255),ws>>=8,Ss-=8}function _s(){Ss&&ms.push(ws)}return vs.forEach(Es),_s(),new Uint8Array(ms)}function seedFromMnemonic(vs){const ms=vs.split(" "),ws=ms.slice(0,24);for(const Ts of ws)if(english.indexOf(Ts)===-1)throw new Error(NOT_IN_WORDS_LIST_ERROR_MSG);const Ss=ms[ms.length-1],Es=ws.map(Ts=>english.indexOf(Ts));let _s=toUint8Array(Es);if(_s.length!==33)throw new Error(FAIL_TO_DECODE_MNEMONIC_ERROR_MSG);if(_s[_s.length-1]!==0)throw new Error(FAIL_TO_DECODE_MNEMONIC_ERROR_MSG);if(_s=_s.slice(0,_s.length-1),computeChecksum(_s)===Ss)return _s;throw new Error(FAIL_TO_DECODE_MNEMONIC_ERROR_MSG)}function mnemonicToSecretKey(vs){const ms=seedFromMnemonic(vs),ws=keyPairFromSeed(ms);return{addr:new Address(ws.publicKey),sk:ws.secretKey}}function secretKeyToMnemonic(vs){const ms=vs.slice(0,SEED_BTYES_LENGTH);return mnemonicFromSeed(ms)}function mnemonicToMasterDerivationKey(vs){return seedFromMnemonic(vs)}function masterDerivationKeyToMnemonic(vs){return mnemonicFromSeed(vs)}const ALGORAND_MAX_TX_GROUP_SIZE=16,TX_GROUP_TAG=new TextEncoder().encode("TG");function txGroupPreimage(vs){if(vs.length>ALGORAND_MAX_TX_GROUP_SIZE)throw new Error(`${vs.length} transactions grouped together but max group size is ${ALGORAND_MAX_TX_GROUP_SIZE}`);if(vs.length===0)throw new Error("Cannot compute group ID of zero transactions");const ms=msgpackRawEncode({txlist:vs});return concatArrays$1(TX_GROUP_TAG,ms)}function computeGroupID(vs){const ms=[];for(const Es of vs)ms.push(Es.rawTxID());const ws=txGroupPreimage(ms),Ss=genericHash(ws);return Uint8Array.from(Ss)}function assignGroupID(vs){const ms=computeGroupID(vs);for(const ws of vs)ws.group=ms;return vs}function signLogicSigTransactionWithAddress(vs,ms,ws){if(!ms.verify(ws.publicKey))throw new Error("Logic signature verification failed. Ensure the program and signature are valid.");let Ss;bytesEqual(ws.publicKey,vs.sender.publicKey)||(Ss=ws);const Es=new SignedTransaction({lsig:ms,txn:vs,sgnr:Ss});return{txID:vs.txID(),blob:encodeMsgpack(Es)}}function signLogicSigTransactionObject(vs,ms){let ws,Ss;if(ms instanceof LogicSigAccount)ws=ms.lsig,Ss=ms.address();else if(ws=ms,ws.sig)Ss=new Address(vs.sender.publicKey);else if(ws.msig){const Es={version:ws.msig.v,threshold:ws.msig.thr,pks:ws.msig.subsig.map(_s=>_s.pk)};Ss=addressFromMultisigPreImg(Es)}else Ss=ws.address();return signLogicSigTransactionWithAddress(vs,ws,Ss)}function signLogicSigTransaction(vs,ms){return signLogicSigTransactionObject(vs,ms)}const MULTISIG_MERGE_LESSTHANTWO_ERROR_MSG="Not enough multisig transactions to merge. Need at least two",MULTISIG_MERGE_MISMATCH_ERROR_MSG="Cannot merge txs. txIDs differ",MULTISIG_MERGE_MISMATCH_AUTH_ADDR_MSG="Cannot merge txs. Auth addrs differ",MULTISIG_MERGE_WRONG_PREIMAGE_ERROR_MSG="Cannot merge txs. Multisig preimages differ",MULTISIG_MERGE_SIG_MISMATCH_ERROR_MSG="Cannot merge txs. subsigs are mismatched.",MULTISIG_SIGNATURE_LENGTH_ERROR_MSG="Cannot add multisig signature. Signature is not of the correct length.",MULTISIG_KEY_NOT_EXIST_ERROR_MSG="Key does not exist";function createMultisigTransaction(vs,{version:ms,threshold:ws,addrs:Ss}){const Es=pksFromAddresses(Ss),_s=Es.map(Ns=>({pk:Ns})),Is={v:ms,thr:ws,subsig:_s},Ts=addressFromMultisigPreImg({version:ms,threshold:ws,pks:Es});let Rs;vs.sender.equals(Ts)||(Rs=Ts);const Bs=new SignedTransaction({txn:vs,msig:Is,sgnr:Rs});return encodeMsgpack(Bs)}function createMultisigTransactionWithSignature(vs,{rawSig:ms,myPk:ws},{version:Ss,threshold:Es,pks:_s}){const Is=createMultisigTransaction(vs,{version:Ss,threshold:Es,addrs:_s.map(Bs=>new Address(Bs))}),Ts=decodeMsgpack(Is,SignedTransaction);let Rs=!1;if(Ts.msig.subsig.forEach((Bs,Ns)=>{bytesEqual(Bs.pk,ws)&&(Rs=!0,Ts.msig.subsig[Ns].s=ms)}),!Rs)throw new Error(MULTISIG_KEY_NOT_EXIST_ERROR_MSG);return encodeMsgpack(Ts)}function partialSignTxn(vs,{version:ms,threshold:ws,pks:Ss},Es){const _s=keyPairFromSecretKey(Es).publicKey;return createMultisigTransactionWithSignature(vs,{rawSig:vs.rawSignTxn(Es),myPk:_s},{version:ms,threshold:ws,pks:Ss})}function partialSignWithMultisigSignature(vs,ms,ws,Ss){if(!isValidSignatureLength(Ss.length))throw new Error(MULTISIG_SIGNATURE_LENGTH_ERROR_MSG);const Es=typeof ws=="string"?Address.fromString(ws):ws;return createMultisigTransactionWithSignature(vs,{rawSig:Ss,myPk:Es.publicKey},ms)}function mergeMultisigTransactions(vs){if(vs.length<2)throw new Error(MULTISIG_MERGE_LESSTHANTWO_ERROR_MSG);const ms=decodeMsgpack(vs[0],SignedTransaction);if(!ms.msig)throw new Error("Invalid multisig transaction, multisig structure missing at index 0");const ws=ms.txn.txID(),Ss=ms.sgnr?ms.sgnr.toString():void 0,Es={version:ms.msig.v,threshold:ms.msig.thr,pks:ms.msig.subsig.map(Ns=>Ns.pk)},_s=addressFromMultisigPreImg(Es),Is=ms.msig.subsig.map(Ns=>({...Ns}));for(let Ns=1;Ns<vs.length;Ns++){const Ws=decodeMsgpack(vs[Ns],SignedTransaction);if(!Ws.msig)throw new Error(`Invalid multisig transaction, multisig structure missing at index ${Ns}`);if(Ws.txn.txID()!==ws)throw new Error(MULTISIG_MERGE_MISMATCH_ERROR_MSG);const Js=Ws.sgnr?Ws.sgnr.toString():void 0;if(Ss!==Js)throw new Error(MULTISIG_MERGE_MISMATCH_AUTH_ADDR_MSG);if(Ws.msig.subsig.length!==ms.msig.subsig.length)throw new Error(MULTISIG_MERGE_WRONG_PREIMAGE_ERROR_MSG);const $l={version:Ws.msig.v,threshold:Ws.msig.thr,pks:Ws.msig.subsig.map(_l=>_l.pk)},wl=addressFromMultisigPreImg($l);if(!_s.equals(wl))throw new Error(MULTISIG_MERGE_WRONG_PREIMAGE_ERROR_MSG);Ws.msig.subsig.forEach((_l,Cl)=>{if(!_l.s)return;const Sl=Is[Cl];if(Sl.s&&!arrayEqual(_l.s,Sl.s))throw new Error(MULTISIG_MERGE_SIG_MISMATCH_ERROR_MSG);Sl.s=_l.s})}const Ts={v:ms.msig.v,thr:ms.msig.thr,subsig:Is},Rs=typeof Ss<"u"?ms.sgnr:void 0,Bs=new SignedTransaction({msig:Ts,txn:ms.txn,sgnr:Rs});return encodeMsgpack(Bs)}function signMultisigTransaction(vs,{version:ms,threshold:ws,addrs:Ss},Es){const _s=pksFromAddresses(Ss),Is=partialSignTxn(vs,{version:ms,threshold:ws,pks:_s},Es);return{txID:vs.txID(),blob:Is}}function appendSignMultisigTransaction(vs,{version:ms,threshold:ws,addrs:Ss},Es){const _s=pksFromAddresses(Ss),Is=decodeMsgpack(vs,SignedTransaction),Ts=partialSignTxn(Is.txn,{version:ms,threshold:ws,pks:_s},Es);return{txID:Is.txn.txID(),blob:mergeMultisigTransactions([vs,Ts])}}function appendSignRawMultisigSignature(vs,{version:ms,threshold:ws,addrs:Ss},Es,_s){const Is=pksFromAddresses(Ss),Ts=decodeMsgpack(vs,SignedTransaction),Rs=partialSignWithMultisigSignature(Ts.txn,{version:ms,threshold:ws,pks:Is},Es,_s);return{txID:Ts.txn.txID(),blob:mergeMultisigTransactions([vs,Rs])}}let char_to_integer={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("").forEach(function(vs,ms){char_to_integer[vs]=ms});function decode$4(vs){let ms=[],ws=0,Ss=0;for(let Es=0;Es<vs.length;Es+=1){let _s=char_to_integer[vs[Es]];if(_s===void 0)throw new Error("Invalid character ("+vs[Es]+")");const Is=_s&32;if(_s&=31,Ss+=_s<<ws,Is)ws+=5;else{const Ts=Ss&1;Ss>>>=1,Ts?ms.push(Ss===0?-2147483648:-Ss):ms.push(Ss),Ss=ws=0}}return ms}class ProgramSourceMap{constructor({version:ms,sources:ws,names:Ss,mappings:Es}){if(this.version=ms,this.sources=ws,this.names=Ss,this.mappings=Es,this.version!==3)throw new Error(`Only version 3 is supported, got ${this.version}`);if(this.mappings===void 0)throw new Error("mapping undefined, cannot build source map without `mapping`");const _s=this.mappings.split(";").map(decode$4);this.pcToLocation=new Map,this.sourceAndLineToPc=new Map;const Is={line:0,column:0,sourceIndex:0,nameIndex:0};for(const[Ts,Rs]of _s.entries()){if(Rs.length<4)continue;const Bs=Rs.length>4?Rs[4]:void 0,[,Ns,Ws,Js]=Rs;Is.sourceIndex+=Ns,Is.line+=Ws,Is.column+=Js,typeof Bs<"u"&&(Is.nameIndex+=Bs);const $l=`${Is.sourceIndex}:${Is.line}`;let wl=this.sourceAndLineToPc.get($l);wl===void 0&&(wl=[],this.sourceAndLineToPc.set($l,wl));const _l={pc:Ts,column:Is.column},Cl={line:Is.line,column:Is.column,sourceIndex:Is.sourceIndex};typeof Bs<"u"&&(_l.nameIndex=Is.nameIndex,Cl.nameIndex=Is.nameIndex),wl.push(_l),this.pcToLocation.set(Ts,Cl)}}getPcs(){return Array.from(this.pcToLocation.keys())}getLocationForPc(ms){return this.pcToLocation.get(ms)}getPcsOnSourceLine(ms,ws){const Ss=this.sourceAndLineToPc.get(`${ms}:${ws}`);return Ss===void 0?[]:Ss}}const defaultAppId=1380011588,defaultMaxWidth=30;async function createDryrun({client:vs,txns:ms,protocolVersion:ws,latestTimestamp:Ss,round:Es,sources:_s}){const Is=[],Ts=[],Rs=[],Bs=[],Ns=[];for(const wl of ms)if(wl.txn.type===TransactionType.appl)if(Ns.push(wl.txn.sender.toString()),Ns.push(...wl.txn.applicationCall.accounts.map(_l=>_l.toString())),Rs.push(...wl.txn.applicationCall.foreignApps),Ns.push(...wl.txn.applicationCall.foreignApps.map(getApplicationAddress).map(_l=>_l.toString())),Bs.push(...wl.txn.applicationCall.foreignAssets),wl.txn.applicationCall.appIndex===BigInt(0))Is.push(new Application$1({id:defaultAppId,params:new ApplicationParams$1({creator:wl.txn.sender.toString(),approvalProgram:wl.txn.applicationCall.approvalProgram,clearStateProgram:wl.txn.applicationCall.clearProgram,localStateSchema:new ApplicationStateSchema$1({numUint:wl.txn.applicationCall.numLocalInts,numByteSlice:wl.txn.applicationCall.numLocalByteSlices}),globalStateSchema:new ApplicationStateSchema$1({numUint:wl.txn.applicationCall.numGlobalInts,numByteSlice:wl.txn.applicationCall.numGlobalByteSlices})})}));else{const{appIndex:_l}=wl.txn.applicationCall;Rs.push(_l),Ns.push(getApplicationAddress(_l).toString())}const Ws=[];for(const wl of new Set(Bs))Ws.push(vs.getAssetByID(wl).do().then(_l=>{Ns.push(_l.params.creator)}));await Promise.all(Ws);const Js=[];for(const wl of new Set(Rs))Js.push(vs.getApplicationByID(wl).do().then(_l=>{Is.push(_l),Ns.push(_l.params.creator.toString())}));await Promise.all(Js);const $l=[];for(const wl of new Set(Ns))$l.push(vs.accountInformation(wl).do().then(_l=>{Ts.push(_l)}));return await Promise.all($l),new DryrunRequest({txns:ms.slice(),accounts:Ts,apps:Is,latestTimestamp:Ss??0,round:Es??0,protocolVersion:ws??"",sources:_s??[]})}function truncate(vs,ms){return vs.length>ms&&ms>0?`${vs.slice(0,ms)}...`:vs}function scratchToString(vs,ms){if(ms.length===0)return"";let ws=null;for(let Es=0;Es<ms.length;Es++){if(Es>vs.length){ws=Es;continue}stringifyJSON(vs[Es])!==stringifyJSON(ms[Es])&&(ws=Es)}if(ws==null)return"";const Ss=ms[ws];return Ss.bytes.length>0?`${ws} = 0x${bytesToHex$2(Ss.bytes)}`:`${ws} = ${Ss.uint.toString()}`}function stackToString(vs,ms){return`[${(ms?vs.reverse():vs).map(Ss=>{switch(Ss.type){case 1:return`0x${bytesToHex$2(Ss.bytes)}`;case 2:return Ss.uint.toString();default:return""}}).join(", ")}]`}function dryrunTrace(vs,ms,ws){const Ss=ws.maxValueWidth||defaultMaxWidth,Es=[["pc#","ln#","source","scratch","stack"]];for(let Is=0;Is<vs.length;Is++){const{line:Ts,error:Rs,pc:Bs,scratch:Ns,stack:Ws}=vs[Is],Js=Ns!==void 0?Ns:[],$l=Is>0&&vs[Is-1].scratch!==void 0?vs[Is-1].scratch:[],wl=Rs?`!! ${Rs} !!`:ms[Ts];Es.push([Bs.toString().padEnd(3," "),Ts.toString().padEnd(3," "),truncate(wl,Ss),truncate(scratchToString($l,Js),Ss),truncate(stackToString(Ws,ws.topOfStackFirst),Ss)])}const _s=Es.reduce((Is,Ts)=>{const Rs=new Array(Es[0].length).fill(0);for(let Bs=0;Bs<Is.length;Bs++)Rs[Bs]=Ts[Bs].length>Is[Bs]?Ts[Bs].length:Is[Bs];return Rs},new Array(Es[0].length).fill(0));return`${Es.map(Is=>Is.map((Ts,Rs)=>Ts.padEnd(_s[Rs]+1," ")).join("|").trim()).join(`
`)}
`}function dryrunTxnResultAppTrace(vs,ms){if(!vs.appCallTrace||!vs.disassembly)return"";let ws=ms;return ms!==void 0?ws=ms:ws={maxValueWidth:defaultMaxWidth,topOfStackFirst:!1},dryrunTrace(vs.appCallTrace,vs.disassembly,ws)}function dryrunTxnResultLogicSigTrace(vs,ms){if(!vs.logicSigTrace||!vs.logicSigDisassembly)return"";let ws;return ms!==void 0?ws=ms:ws={maxValueWidth:defaultMaxWidth,topOfStackFirst:!0},dryrunTrace(vs.logicSigTrace,vs.logicSigDisassembly,ws)}function makePaymentTxnWithSuggestedParamsFromObject({sender:vs,receiver:ms,amount:ws,closeRemainderTo:Ss,suggestedParams:Es,note:_s,lease:Is,rekeyTo:Ts}){return new Transaction$1({type:TransactionType.pay,sender:vs,note:_s,lease:Is,rekeyTo:Ts,suggestedParams:Es,paymentParams:{receiver:ms,amount:ws,closeRemainderTo:Ss}})}function makeKeyRegistrationTxnWithSuggestedParamsFromObject({sender:vs,voteKey:ms,selectionKey:ws,stateProofKey:Ss,voteFirst:Es,voteLast:_s,voteKeyDilution:Is,nonParticipation:Ts,suggestedParams:Rs,note:Bs,lease:Ns,rekeyTo:Ws}){return new Transaction$1({type:TransactionType.keyreg,sender:vs,note:Bs,lease:Ns,rekeyTo:Ws,suggestedParams:Rs,keyregParams:{voteKey:ms,selectionKey:ws,stateProofKey:Ss,voteFirst:Es,voteLast:_s,voteKeyDilution:Is,nonParticipation:Ts}})}function makeBaseAssetConfigTxn({sender:vs,assetIndex:ms,total:ws,decimals:Ss,defaultFrozen:Es,manager:_s,reserve:Is,freeze:Ts,clawback:Rs,unitName:Bs,assetName:Ns,assetURL:Ws,assetMetadataHash:Js,note:$l,lease:wl,rekeyTo:_l,suggestedParams:Cl}){return new Transaction$1({type:TransactionType.acfg,sender:vs,note:$l,lease:wl,rekeyTo:_l,suggestedParams:Cl,assetConfigParams:{assetIndex:ms,total:ws,decimals:Ss,defaultFrozen:Es,manager:_s,reserve:Is,freeze:Ts,clawback:Rs,unitName:Bs,assetName:Ns,assetURL:Ws,assetMetadataHash:Js}})}function makeAssetCreateTxnWithSuggestedParamsFromObject({sender:vs,total:ms,decimals:ws,defaultFrozen:Ss,manager:Es,reserve:_s,freeze:Is,clawback:Ts,unitName:Rs,assetName:Bs,assetURL:Ns,assetMetadataHash:Ws,note:Js,lease:$l,rekeyTo:wl,suggestedParams:_l}){return makeBaseAssetConfigTxn({sender:vs,total:ms,decimals:ws,defaultFrozen:Ss,manager:Es,reserve:_s,freeze:Is,clawback:Ts,unitName:Rs,assetName:Bs,assetURL:Ns,assetMetadataHash:Ws,note:Js,lease:$l,rekeyTo:wl,suggestedParams:_l})}function makeAssetConfigTxnWithSuggestedParamsFromObject({sender:vs,assetIndex:ms,manager:ws,reserve:Ss,freeze:Es,clawback:_s,strictEmptyAddressChecking:Is,note:Ts,lease:Rs,rekeyTo:Bs,suggestedParams:Ns}){if(!ms)throw Error("assetIndex must be provided");if((Is??!0)&&(ws==null||Ss==null||Es==null||_s==null))throw Error("strictEmptyAddressChecking is enabled, but an address is empty. If this is intentional, set strictEmptyAddressChecking to false.");return makeBaseAssetConfigTxn({sender:vs,assetIndex:ms,manager:ws,reserve:Ss,freeze:Es,clawback:_s,note:Ts,lease:Rs,rekeyTo:Bs,suggestedParams:Ns})}function makeAssetDestroyTxnWithSuggestedParamsFromObject({sender:vs,assetIndex:ms,note:ws,lease:Ss,rekeyTo:Es,suggestedParams:_s}){if(!ms)throw Error("assetIndex must be provided");return makeBaseAssetConfigTxn({sender:vs,assetIndex:ms,note:ws,lease:Ss,rekeyTo:Es,suggestedParams:_s})}function makeAssetFreezeTxnWithSuggestedParamsFromObject({sender:vs,assetIndex:ms,freezeTarget:ws,frozen:Ss,suggestedParams:Es,note:_s,lease:Is,rekeyTo:Ts}){return new Transaction$1({type:TransactionType.afrz,sender:vs,note:_s,lease:Is,rekeyTo:Ts,suggestedParams:Es,assetFreezeParams:{assetIndex:ms,freezeTarget:ws,frozen:Ss}})}function makeAssetTransferTxnWithSuggestedParamsFromObject({sender:vs,receiver:ms,amount:ws,closeRemainderTo:Ss,assetSender:Es,note:_s,assetIndex:Is,suggestedParams:Ts,rekeyTo:Rs,lease:Bs}){if(!Is)throw Error("assetIndex must be provided");return new Transaction$1({type:TransactionType.axfer,sender:vs,note:_s,lease:Bs,rekeyTo:Rs,suggestedParams:Ts,assetTransferParams:{assetIndex:Is,receiver:ms,amount:ws,assetSender:Es,closeRemainderTo:Ss}})}function makeApplicationCallTxnFromObject({sender:vs,appIndex:ms,onComplete:ws,appArgs:Ss,accounts:Es,foreignApps:_s,foreignAssets:Is,boxes:Ts,approvalProgram:Rs,clearProgram:Bs,numLocalInts:Ns,numLocalByteSlices:Ws,numGlobalInts:Js,numGlobalByteSlices:$l,extraPages:wl,note:_l,lease:Cl,rekeyTo:Sl,suggestedParams:El}){if(ws==null)throw Error("onComplete must be provided");return new Transaction$1({type:TransactionType.appl,sender:vs,note:_l,lease:Cl,rekeyTo:Sl,suggestedParams:El,appCallParams:{appIndex:ms,onComplete:ws,appArgs:Ss,accounts:Es,foreignAssets:Is,foreignApps:_s,boxes:Ts,approvalProgram:Rs,clearProgram:Bs,numLocalInts:Ns,numLocalByteSlices:Ws,numGlobalInts:Js,numGlobalByteSlices:$l,extraPages:wl}})}function makeApplicationCreateTxnFromObject({sender:vs,onComplete:ms,appArgs:ws,accounts:Ss,foreignApps:Es,foreignAssets:_s,boxes:Is,approvalProgram:Ts,clearProgram:Rs,numLocalInts:Bs,numLocalByteSlices:Ns,numGlobalInts:Ws,numGlobalByteSlices:Js,extraPages:$l,note:wl,lease:_l,rekeyTo:Cl,suggestedParams:Sl}){if(!Ts||!Rs)throw Error("approvalProgram and clearProgram must be provided");if(ms==null)throw Error("onComplete must be provided");return makeApplicationCallTxnFromObject({sender:vs,appIndex:0,onComplete:ms,appArgs:ws,accounts:Ss,foreignApps:Es,foreignAssets:_s,boxes:Is,approvalProgram:Ts,clearProgram:Rs,numLocalInts:Bs,numLocalByteSlices:Ns,numGlobalInts:Ws,numGlobalByteSlices:Js,extraPages:$l,note:wl,lease:_l,rekeyTo:Cl,suggestedParams:Sl})}function makeApplicationUpdateTxnFromObject({sender:vs,appIndex:ms,appArgs:ws,accounts:Ss,foreignApps:Es,foreignAssets:_s,boxes:Is,approvalProgram:Ts,clearProgram:Rs,note:Bs,lease:Ns,rekeyTo:Ws,suggestedParams:Js}){if(!ms)throw Error("appIndex must be provided");if(!Ts||!Rs)throw Error("approvalProgram and clearProgram must be provided");return makeApplicationCallTxnFromObject({sender:vs,appIndex:ms,onComplete:OnApplicationComplete.UpdateApplicationOC,appArgs:ws,accounts:Ss,foreignApps:Es,foreignAssets:_s,boxes:Is,approvalProgram:Ts,clearProgram:Rs,note:Bs,lease:Ns,rekeyTo:Ws,suggestedParams:Js})}function makeApplicationDeleteTxnFromObject({sender:vs,appIndex:ms,appArgs:ws,accounts:Ss,foreignApps:Es,foreignAssets:_s,boxes:Is,note:Ts,lease:Rs,rekeyTo:Bs,suggestedParams:Ns}){if(!ms)throw Error("appIndex must be provided");return makeApplicationCallTxnFromObject({sender:vs,appIndex:ms,onComplete:OnApplicationComplete.DeleteApplicationOC,appArgs:ws,accounts:Ss,foreignApps:Es,foreignAssets:_s,boxes:Is,note:Ts,lease:Rs,rekeyTo:Bs,suggestedParams:Ns})}function makeApplicationOptInTxnFromObject({sender:vs,appIndex:ms,appArgs:ws,accounts:Ss,foreignApps:Es,foreignAssets:_s,boxes:Is,note:Ts,lease:Rs,rekeyTo:Bs,suggestedParams:Ns}){if(!ms)throw Error("appIndex must be provided");return makeApplicationCallTxnFromObject({sender:vs,appIndex:ms,onComplete:OnApplicationComplete.OptInOC,appArgs:ws,accounts:Ss,foreignApps:Es,foreignAssets:_s,boxes:Is,note:Ts,lease:Rs,rekeyTo:Bs,suggestedParams:Ns})}function makeApplicationCloseOutTxnFromObject({sender:vs,appIndex:ms,appArgs:ws,accounts:Ss,foreignApps:Es,foreignAssets:_s,boxes:Is,note:Ts,lease:Rs,rekeyTo:Bs,suggestedParams:Ns}){if(!ms)throw Error("appIndex must be provided");return makeApplicationCallTxnFromObject({sender:vs,appIndex:ms,onComplete:OnApplicationComplete.CloseOutOC,appArgs:ws,accounts:Ss,foreignApps:Es,foreignAssets:_s,boxes:Is,note:Ts,lease:Rs,rekeyTo:Bs,suggestedParams:Ns})}function makeApplicationClearStateTxnFromObject({sender:vs,appIndex:ms,appArgs:ws,accounts:Ss,foreignApps:Es,foreignAssets:_s,boxes:Is,note:Ts,lease:Rs,rekeyTo:Bs,suggestedParams:Ns}){if(!ms)throw Error("appIndex must be provided");return makeApplicationCallTxnFromObject({sender:vs,appIndex:ms,onComplete:OnApplicationComplete.ClearStateOC,appArgs:ws,accounts:Ss,foreignApps:Es,foreignAssets:_s,boxes:Is,note:Ts,lease:Rs,rekeyTo:Bs,suggestedParams:Ns})}function makeApplicationNoOpTxnFromObject({sender:vs,appIndex:ms,appArgs:ws,accounts:Ss,foreignApps:Es,foreignAssets:_s,boxes:Is,note:Ts,lease:Rs,rekeyTo:Bs,suggestedParams:Ns}){if(!ms)throw Error("appIndex must be provided");return makeApplicationCallTxnFromObject({sender:vs,appIndex:ms,onComplete:OnApplicationComplete.NoOpOC,appArgs:ws,accounts:Ss,foreignApps:Es,foreignAssets:_s,boxes:Is,note:Ts,lease:Rs,rekeyTo:Bs,suggestedParams:Ns})}function makeBasicAccountTransactionSigner(vs){return(ms,ws)=>{const Ss=[];for(const Es of ws)Ss.push(ms[Es].signTxn(vs.sk));return Promise.resolve(Ss)}}function makeLogicSigAccountTransactionSigner(vs){return(ms,ws)=>{const Ss=[];for(const Es of ws){const{blob:_s}=signLogicSigTransactionObject(ms[Es],vs);Ss.push(_s)}return Promise.resolve(Ss)}}function makeMultiSigAccountTransactionSigner(vs,ms){return(ws,Ss)=>{const Es=[];for(const _s of Ss){const Is=ws[_s],Ts=[];for(const Rs of ms){const{blob:Bs}=signMultisigTransaction(Is,vs,Rs);Ts.push(Bs)}Ts.length>1?Es.push(mergeMultisigTransactions(Ts)):Es.push(Ts[0])}return Promise.resolve(Es)}}function makeEmptyTransactionSigner(){return(vs,ms)=>{const ws=[];for(const Ss of ms)ws.push(encodeUnsignedSimulateTransaction(vs[Ss]));return Promise.resolve(ws)}}function isTransactionWithSigner(vs){return typeof vs=="object"&&Object.keys(vs).length===2&&typeof vs.txn=="object"&&typeof vs.signer=="function"}const MAX_LEN=2**16-1,ADDR_BYTE_SIZE=32,SINGLE_BYTE_SIZE=1,SINGLE_BOOL_SIZE=1,LENGTH_ENCODE_BYTE_SIZE=2,staticArrayRegexp=/^([a-z\d[\](),]+)\[(0|[1-9][\d]*)]$/,ufixedRegexp=/^ufixed([1-9][\d]*)x([1-9][\d]*)$/;class ABIType{static from(ms){if(ms.endsWith("[]")){const ws=ABIType.from(ms.slice(0,ms.length-2));return new ABIArrayDynamicType(ws)}if(ms.endsWith("]")){const ws=ms.match(staticArrayRegexp);if(!ws||ws.length!==3)throw new Error(`malformed static array string: ${ms}`);const Ss=ws[2],Es=parseInt(Ss,10);if(Es>MAX_LEN)throw new Error(`array length exceeds limit ${MAX_LEN}`);const _s=ABIType.from(ws[1]);return new ABIArrayStaticType(_s,Es)}if(ms.startsWith("uint")){const ws=_s=>[..._s].every(Is=>"0123456789".includes(Is)),Ss=ms.slice(4,ms.length);if(!ws(Ss))throw new Error(`malformed uint string: ${Ss}`);const Es=parseInt(Ss,10);if(Es>MAX_LEN)throw new Error(`malformed uint string: ${Es}`);return new ABIUintType(Es)}if(ms==="byte")return new ABIByteType;if(ms.startsWith("ufixed")){const ws=ms.match(ufixedRegexp);if(!ws||ws.length!==3)throw new Error(`malformed ufixed type: ${ms}`);const Ss=parseInt(ws[1],10),Es=parseInt(ws[2],10);return new ABIUfixedType(Ss,Es)}if(ms==="bool")return new ABIBoolType;if(ms==="address")return new ABIAddressType;if(ms==="string")return new ABIStringType;if(ms.length>=2&&ms[0]==="("&&ms[ms.length-1]===")"){const ws=ABITupleType.parseTupleContent(ms.slice(1,ms.length-1)),Ss=[];for(let Es=0;Es<ws.length;Es++){const _s=ABIType.from(ws[Es]);Ss.push(_s)}return new ABITupleType(Ss)}throw new Error(`cannot convert a string ${ms} to an ABI type`)}}class ABIUintType extends ABIType{constructor(ms){if(super(),ms%8!==0||ms<8||ms>512)throw new Error(`unsupported uint type bitSize: ${ms}`);this.bitSize=ms}toString(){return`uint${this.bitSize}`}equals(ms){return ms instanceof ABIUintType&&this.bitSize===ms.bitSize}isDynamic(){return!1}byteLen(){return this.bitSize/8}encode(ms){if(typeof ms!="bigint"&&typeof ms!="number")throw new Error(`Cannot encode value as uint${this.bitSize}: ${ms}`);if(ms>=BigInt(2**this.bitSize)||ms<BigInt(0))throw new Error(`${ms} is not a non-negative int or too big to fit in size uint${this.bitSize}`);if(typeof ms=="number"&&!Number.isSafeInteger(ms))throw new Error(`${ms} should be converted into a BigInt before it is encoded`);return bigIntToBytes(ms,this.bitSize/8)}decode(ms){if(ms.length!==this.bitSize/8)throw new Error(`byte string must correspond to a uint${this.bitSize}`);return bytesToBigInt(ms)}}class ABIUfixedType extends ABIType{constructor(ms,ws){if(super(),ms%8!==0||ms<8||ms>512)throw new Error(`unsupported ufixed type bitSize: ${ms}`);if(ws>160||ws<1)throw new Error(`unsupported ufixed type precision: ${ws}`);this.bitSize=ms,this.precision=ws}toString(){return`ufixed${this.bitSize}x${this.precision}`}equals(ms){return ms instanceof ABIUfixedType&&this.bitSize===ms.bitSize&&this.precision===ms.precision}isDynamic(){return!1}byteLen(){return this.bitSize/8}encode(ms){if(typeof ms!="bigint"&&typeof ms!="number")throw new Error(`Cannot encode value as ${this.toString()}: ${ms}`);if(ms>=BigInt(2**this.bitSize)||ms<BigInt(0))throw new Error(`${ms} is not a non-negative int or too big to fit in size ${this.toString()}`);if(typeof ms=="number"&&!Number.isSafeInteger(ms))throw new Error(`${ms} should be converted into a BigInt before it is encoded`);return bigIntToBytes(ms,this.bitSize/8)}decode(ms){if(ms.length!==this.bitSize/8)throw new Error(`byte string must correspond to a ${this.toString()}`);return bytesToBigInt(ms)}}class ABIAddressType extends ABIType{toString(){return"address"}equals(ms){return ms instanceof ABIAddressType}isDynamic(){return!1}byteLen(){return ADDR_BYTE_SIZE}encode(ms){if(typeof ms=="string")return decodeAddress(ms).publicKey;if(ms instanceof Address)return ms.publicKey;if(ms instanceof Uint8Array){if(ms.byteLength!==32)throw new Error("byte string must be 32 bytes long for an address");return ms}throw new Error(`Cannot encode value as ${this.toString()}: ${ms}`)}decode(ms){if(ms.byteLength!==32)throw new Error("byte string must be 32 bytes long for an address");return encodeAddress(ms)}}class ABIBoolType extends ABIType{toString(){return"bool"}equals(ms){return ms instanceof ABIBoolType}isDynamic(){return!1}byteLen(){return SINGLE_BOOL_SIZE}encode(ms){if(typeof ms!="boolean")throw new Error(`Cannot encode value as bool: ${ms}`);return ms?new Uint8Array([128]):new Uint8Array([0])}decode(ms){if(ms.byteLength!==1)throw new Error("bool string must be 1 byte long");const ws=ms[0];if(ws===128)return!0;if(ws===0)return!1;throw new Error("boolean could not be decoded from the byte string")}}class ABIByteType extends ABIType{toString(){return"byte"}equals(ms){return ms instanceof ABIByteType}isDynamic(){return!1}byteLen(){return SINGLE_BYTE_SIZE}encode(ms){if(typeof ms!="number"&&typeof ms!="bigint")throw new Error(`Cannot encode value as byte: ${ms}`);if(typeof ms=="bigint"&&(ms=Number(ms)),ms<0||ms>255)throw new Error(`${ms} cannot be encoded into a byte`);return new Uint8Array([ms])}decode(ms){if(ms.byteLength!==1)throw new Error("byte string must be 1 byte long");return ms[0]}}class ABIStringType extends ABIType{toString(){return"string"}equals(ms){return ms instanceof ABIStringType}isDynamic(){return!0}byteLen(){throw new Error(`${this.toString()} is a dynamic type`)}encode(ms){if(typeof ms!="string"&&!(ms instanceof Uint8Array))throw new Error(`Cannot encode value as string: ${ms}`);let ws;typeof ms=="string"?ws=new TextEncoder().encode(ms):ws=ms;const Ss=bigIntToBytes(ws.length,LENGTH_ENCODE_BYTE_SIZE),Es=new Uint8Array(ws.length+LENGTH_ENCODE_BYTE_SIZE);return Es.set(Ss),Es.set(ws,LENGTH_ENCODE_BYTE_SIZE),Es}decode(ms){if(ms.length<LENGTH_ENCODE_BYTE_SIZE)throw new Error(`byte string is too short to be decoded. Actual length is ${ms.length}, but expected at least ${LENGTH_ENCODE_BYTE_SIZE}`);const Ss=new DataView(ms.buffer,ms.byteOffset,LENGTH_ENCODE_BYTE_SIZE).getUint16(0),Es=ms.slice(LENGTH_ENCODE_BYTE_SIZE,ms.length);if(Ss!==Es.length)throw new Error(`string length bytes do not match the actual length of string. Expected ${Ss}, got ${Es.length}`);return new TextDecoder("utf-8").decode(Es)}}class ABIArrayStaticType extends ABIType{constructor(ms,ws){if(super(),ws<0)throw new Error(`static array must have a non negative length: ${ws}`);this.childType=ms,this.staticLength=ws}toString(){return`${this.childType.toString()}[${this.staticLength}]`}equals(ms){return ms instanceof ABIArrayStaticType&&this.staticLength===ms.staticLength&&this.childType.equals(ms.childType)}isDynamic(){return this.childType.isDynamic()}byteLen(){return this.childType.constructor===ABIBoolType?Math.ceil(this.staticLength/8):this.staticLength*this.childType.byteLen()}encode(ms){if(!Array.isArray(ms)&&!(ms instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${ms}`);if(ms.length!==this.staticLength)throw new Error(`Value array does not match static array length. Expected ${this.staticLength}, got ${ms.length}`);return this.toABITupleType().encode(ms)}decode(ms){return this.toABITupleType().decode(ms)}toABITupleType(){return new ABITupleType(Array(this.staticLength).fill(this.childType))}}class ABIArrayDynamicType extends ABIType{constructor(ms){super(),this.childType=ms}toString(){return`${this.childType.toString()}[]`}equals(ms){return ms instanceof ABIArrayDynamicType&&this.childType.equals(ms.childType)}isDynamic(){return!0}byteLen(){throw new Error(`${this.toString()} is a dynamic type`)}encode(ms){if(!Array.isArray(ms)&&!(ms instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${ms}`);const ws=this.toABITupleType(ms.length),Ss=ws.encode(ms),Es=bigIntToBytes(ws.childTypes.length,LENGTH_ENCODE_BYTE_SIZE);return concatArrays$1(Es,Ss)}decode(ms){const Ss=new DataView(ms.buffer,0,LENGTH_ENCODE_BYTE_SIZE).getUint16(0);return this.toABITupleType(Ss).decode(ms.slice(LENGTH_ENCODE_BYTE_SIZE,ms.length))}toABITupleType(ms){return new ABITupleType(Array(ms).fill(this.childType))}}class ABITupleType extends ABIType{constructor(ms){if(super(),ms.length>=MAX_LEN)throw new Error("tuple type child type number larger than maximum uint16 error");this.childTypes=ms}toString(){const ms=[];for(let ws=0;ws<this.childTypes.length;ws++)ms[ws]=this.childTypes[ws].toString();return`(${ms.join(",")})`}equals(ms){return ms instanceof ABITupleType&&this.childTypes.length===ms.childTypes.length&&this.childTypes.every((ws,Ss)=>ws.equals(ms.childTypes[Ss]))}isDynamic(){const ms=ws=>ws.isDynamic();return this.childTypes.some(ms)}byteLen(){let ms=0;for(let ws=0;ws<this.childTypes.length;ws++)if(this.childTypes[ws].constructor===ABIBoolType){const Ss=findBoolLR(this.childTypes,ws,1),Es=Ss+1;ws+=Ss,ms+=Math.trunc((Es+7)/8)}else{const Ss=this.childTypes[ws].byteLen();ms+=Ss}return ms}encode(ms){if(!Array.isArray(ms)&&!(ms instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${ms}`);const ws=Array.from(ms);if(ms.length>MAX_LEN)throw new Error("length of tuple array should not exceed a uint16");const Ss=this.childTypes,Es=[],_s=[],Is=new Map;let Ts=0;for(;Ts<Ss.length;){const Ns=Ss[Ts];if(Ns.isDynamic())Is.set(Es.length,!0),Es.push(new Uint8Array([0,0])),_s.push(Ns.encode(ws[Ts]));else{if(Ns.constructor===ABIBoolType){const Ws=findBoolLR(Ss,Ts,-1);let Js=findBoolLR(Ss,Ts,1);if(Ws%8!==0)throw new Error("expected before index should have number of bool mod 8 equal 0");Js=Math.min(7,Js);const $l=compressMultipleBool(ws.slice(Ts,Ts+Js+1));Es.push(bigIntToBytes($l,1)),Ts+=Js}else{const Ws=Ns.encode(ws[Ts]);Es.push(Ws)}Is.set(Ts,!1),_s.push(new Uint8Array)}Ts+=1}let Rs=0;for(const Ns of Es)Rs+=Ns.length;let Bs=0;for(let Ns=0;Ns<Es.length;Ns++){if(Is.get(Ns)){const Ws=Rs+Bs;if(Ws>MAX_LEN)throw new Error(`byte length of ${Ws} should not exceed a uint16`);Es[Ns]=bigIntToBytes(Ws,LENGTH_ENCODE_BYTE_SIZE)}Bs+=_s[Ns].length}return concatArrays$1(...Es,..._s)}decode(ms){const ws=this.childTypes,Ss=[],Es=[];let _s=0,Is=0;const Ts=new DataView(ms.buffer);for(;_s<ws.length;){const Ns=ws[_s];if(Ns.isDynamic()){if(ms.slice(Is,ms.length).length<LENGTH_ENCODE_BYTE_SIZE)throw new Error("dynamic type in tuple is too short to be decoded");const Ws=Ts.getUint16(Is);if(Ss.length>0&&(Ss[Ss.length-1].right=Ws,Ws<Ss[Ss.length-1].left))throw new Error("dynamic index segment miscalculation: left is greater than right index");const Js={left:Ws,right:-1};Ss.push(Js),Es.push(null),Is+=LENGTH_ENCODE_BYTE_SIZE}else if(Ns.constructor===ABIBoolType){const Ws=findBoolLR(this.childTypes,_s,-1);let Js=findBoolLR(this.childTypes,_s,1);if(Ws%8!==0)throw new Error("expected before bool number mod 8 === 0");Js=Math.min(7,Js);for(let $l=0;$l<=Js;$l++){const wl=128>>$l;(ms[Is]&wl)>0?Es.push(new Uint8Array([128])):Es.push(new Uint8Array([0]))}_s+=Js,Is+=1}else{const Ws=Ns.byteLen();Es.push(ms.slice(Is,Is+Ws)),Is+=Ws}if(_s!==ws.length-1&&Is>=ms.length)throw new Error("input byte not enough to decode");_s+=1}if(Ss.length>0&&(Ss[Ss.length-1].right=ms.length,Is=ms.length),Is<ms.length)throw new Error("input byte not fully consumed");for(let Ns=0;Ns<Ss.length;Ns++){const Ws=Ss[Ns];if(Ws.left>Ws.right)throw new Error("dynamic segment should display a [l, r] space with l <= r");if(Ns!==Ss.length-1&&Ws.right!==Ss[Ns+1].left)throw new Error("dynamic segment should be consecutive")}let Rs=0;for(let Ns=0;Ns<ws.length;Ns++)ws[Ns].isDynamic()&&(Es[Ns]=ms.slice(Ss[Rs].left,Ss[Rs].right),Rs+=1);const Bs=[];for(let Ns=0;Ns<ws.length;Ns++){const Ws=ws[Ns].decode(Es[Ns]);Bs.push(Ws)}return Bs}static parseTupleContent(ms){if(ms.length===0)return[];if(ms.endsWith(",")||ms.startsWith(","))throw new Error("tuple string should not start with comma");if(ms.includes(",,"))throw new Error("tuple string should not have consecutive commas");const ws=[];let Ss=0,Es="";for(const _s of ms)Es+=_s,_s==="("?Ss+=1:_s===")"?Ss-=1:_s===","&&Ss===0&&(ws.push(Es.slice(0,Es.length-1)),Es="");if(Es.length!==0&&ws.push(Es),Ss!==0)throw new Error("tuple string has mismatched parentheses");return ws}}function compressMultipleBool(vs){let ms=0;if(vs.length>8)throw new Error("value list passed in should be no greater than length 8");for(let ws=0;ws<vs.length;ws++){const Ss=vs[ws];if(typeof Ss!="boolean")throw new Error("non-boolean values cannot be compressed into a byte");Ss&&(ms|=1<<7-ws)}return ms}function findBoolLR(vs,ms,ws){let Ss=0;for(;;){const Es=ms+ws*Ss;if(vs[Es].constructor===ABIBoolType)if(Es!==vs.length-1&&ws===1)Ss+=1;else if(Es>0&&ws===-1)Ss+=1;else break;else{Ss-=1;break}}return Ss}var ABITransactionType;(function(vs){vs.any="txn",vs.pay="pay",vs.keyreg="keyreg",vs.acfg="acfg",vs.axfer="axfer",vs.afrz="afrz",vs.appl="appl"})(ABITransactionType||(ABITransactionType={}));function abiTypeIsTransaction(vs){return vs===ABITransactionType.any||vs===ABITransactionType.pay||vs===ABITransactionType.keyreg||vs===ABITransactionType.acfg||vs===ABITransactionType.axfer||vs===ABITransactionType.afrz||vs===ABITransactionType.appl}function abiCheckTransactionType(vs,ms){return vs===ABITransactionType.any?!0:ms.type?ms.type.toString()===vs.toString():!1}var ABIReferenceType;(function(vs){vs.account="account",vs.application="application",vs.asset="asset"})(ABIReferenceType||(ABIReferenceType={}));function abiTypeIsReference(vs){return vs===ABIReferenceType.account||vs===ABIReferenceType.application||vs===ABIReferenceType.asset}function parseMethodSignature(vs){const ms=vs.indexOf("(");if(ms===-1)throw new Error(`Invalid method signature: ${vs}`);let ws=-1,Ss=0;for(let Es=ms;Es<vs.length;Es++){const _s=vs[Es];if(_s==="(")Ss+=1;else if(_s===")"){if(Ss===0)break;if(Ss-=1,Ss===0){ws=Es;break}}}if(ws===-1)throw new Error(`Invalid method signature: ${vs}`);return{name:vs.slice(0,ms),args:ABITupleType.parseTupleContent(vs.slice(ms+1,ws)),returns:vs.slice(ws+1)}}class ABIMethod{constructor(ms){if(typeof ms.name!="string"||typeof ms.returns!="object"||!Array.isArray(ms.args))throw new Error("Invalid ABIMethod parameters");this.name=ms.name,this.description=ms.desc,this.args=ms.args.map(({type:ws,name:Ss,desc:Es})=>abiTypeIsTransaction(ws)||abiTypeIsReference(ws)?{type:ws,name:Ss,description:Es}:{type:ABIType.from(ws),name:Ss,description:Es}),this.returns={type:ms.returns.type==="void"?ms.returns.type:ABIType.from(ms.returns.type),description:ms.returns.desc},this.events=ms.events,this.readonly=ms.readonly}getSignature(){const ms=this.args.map(Ss=>Ss.type.toString()).join(","),ws=this.returns.type.toString();return`${this.name}(${ms})${ws}`}getSelector(){const ms=genericHash(this.getSignature());return new Uint8Array(ms.slice(0,4))}txnCount(){let ms=1;for(const ws of this.args)typeof ws.type=="string"&&abiTypeIsTransaction(ws.type)&&(ms+=1);return ms}toJSON(){return{name:this.name,desc:this.description,args:this.args.map(({type:ms,name:ws,description:Ss})=>({type:ms.toString(),name:ws,desc:Ss})),returns:{type:this.returns.type.toString(),desc:this.returns.description},events:this.events,readonly:this.readonly}}static fromSignature(ms){const{name:ws,args:Ss,returns:Es}=parseMethodSignature(ms);return new ABIMethod({name:ws,args:Ss.map(_s=>({type:_s})),returns:{type:Es}})}}function getMethodByName(vs,ms){if(vs===null||!Array.isArray(vs)||!vs.every(Ss=>Ss instanceof ABIMethod))throw new Error("Methods list provided is null or not the correct type");const ws=vs.filter(Ss=>Ss.name===ms);if(ws.length>1)throw new Error(`found ${ws.length} methods with the same name ${ws.map(Ss=>Ss.getSignature()).join(",")}`);if(ws.length===0)throw new Error(`found 0 methods with the name ${ms}`);return ws[0]}class ABIContract{constructor(ms){if(typeof ms.name!="string"||!Array.isArray(ms.methods)||ms.networks&&typeof ms.networks!="object")throw new Error("Invalid ABIContract parameters");this.name=ms.name,this.description=ms.desc,this.networks=ms.networks?{...ms.networks}:{},this.methods=ms.methods.map(ws=>new ABIMethod(ws)),this.events=ms.events}toJSON(){return{name:this.name,desc:this.description,networks:this.networks,methods:this.methods.map(ms=>ms.toJSON()),events:this.events}}getMethodByName(ms){return getMethodByName(this.methods,ms)}}class ABIInterface{constructor(ms){if(typeof ms.name!="string"||!Array.isArray(ms.methods))throw new Error("Invalid ABIInterface parameters");this.name=ms.name,this.description=ms.desc,this.methods=ms.methods.map(ws=>new ABIMethod(ws))}toJSON(){return{name:this.name,desc:this.description,methods:this.methods.map(ms=>ms.toJSON())}}getMethodByName(ms){return getMethodByName(this.methods,ms)}}const RETURN_PREFIX=new Uint8Array([21,31,124,117]),MAX_APP_ARGS=16;var AtomicTransactionComposerStatus;(function(vs){vs[vs.BUILDING=0]="BUILDING",vs[vs.BUILT=1]="BUILT",vs[vs.SIGNED=2]="SIGNED",vs[vs.SUBMITTED=3]="SUBMITTED",vs[vs.COMMITTED=4]="COMMITTED"})(AtomicTransactionComposerStatus||(AtomicTransactionComposerStatus={}));function populateForeignArray(vs,ms,ws){if(ws!=null&&vs===ws)return 0;const Ss=ws==null?0:1;for(let Es=0;Es<ms.length;Es++)if(vs===ms[Es])return Es+Ss;return ms.push(vs),ms.length-1+Ss}class AtomicTransactionComposer{constructor(){this.status=AtomicTransactionComposerStatus.BUILDING,this.transactions=[],this.methodCalls=new Map,this.signedTxns=[],this.txIDs=[]}getStatus(){return this.status}count(){return this.transactions.length}clone(){const ms=new AtomicTransactionComposer;return ms.transactions=this.transactions.map(({txn:ws,signer:Ss})=>{const Es=ws.toEncodingData();return Es.delete("grp"),{txn:Transaction$1.fromEncodingData(Es),signer:Ss}}),ms.methodCalls=new Map(this.methodCalls),ms}addTransaction(ms){if(this.status!==AtomicTransactionComposerStatus.BUILDING)throw new Error("Cannot add transactions when composer status is not BUILDING");if(this.transactions.length===AtomicTransactionComposer.MAX_GROUP_SIZE)throw new Error(`Adding an additional transaction exceeds the maximum atomic group size of ${AtomicTransactionComposer.MAX_GROUP_SIZE}`);if(ms.txn.group&&ms.txn.group.some(ws=>ws!==0))throw new Error("Cannot add a transaction with nonzero group ID");this.transactions.push(ms)}addMethodCall({appID:ms,method:ws,methodArgs:Ss,sender:Es,suggestedParams:_s,onComplete:Is,approvalProgram:Ts,clearProgram:Rs,numGlobalInts:Bs,numGlobalByteSlices:Ns,numLocalInts:Ws,numLocalByteSlices:Js,extraPages:$l,appAccounts:wl,appForeignApps:_l,appForeignAssets:Cl,boxes:Sl,note:El,lease:xl,rekeyTo:Ml,signer:Vl}){if(this.status!==AtomicTransactionComposerStatus.BUILDING)throw new Error("Cannot add transactions when composer status is not BUILDING");if(this.transactions.length+ws.txnCount()>AtomicTransactionComposer.MAX_GROUP_SIZE)throw new Error(`Adding additional transactions exceeds the maximum atomic group size of ${AtomicTransactionComposer.MAX_GROUP_SIZE}`);if(BigInt(ms)===BigInt(0)){if(Ts==null||Rs==null||Bs==null||Ns==null||Ws==null||Js==null)throw new Error("One of the following required parameters for application creation is missing: approvalProgram, clearProgram, numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices")}else if(Is===OnApplicationComplete.UpdateApplicationOC){if(Ts==null||Rs==null)throw new Error("One of the following required parameters for OnApplicationComplete.UpdateApplicationOC is missing: approvalProgram, clearProgram");if(Bs!=null||Ns!=null||Ws!=null||Js!=null||$l!=null)throw new Error("One of the following application creation parameters were set on a non-creation call: numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices, extraPages")}else if(Ts!=null||Rs!=null||Bs!=null||Ns!=null||Ws!=null||Js!=null||$l!=null)throw new Error("One of the following application creation parameters were set on a non-creation call: approvalProgram, clearProgram, numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices, extraPages");if(Ss==null&&(Ss=[]),Ss.length!==ws.args.length)throw new Error(`Incorrect number of method arguments. Expected ${ws.args.length}, got ${Ss.length}`);let Ul=[],_h=[];const nu=[],su=[],Jl=[],Il=new Map,Nl=Sl||[];for(let Zs=0;Zs<Ss.length;Zs++){let Bl=ws.args[Zs].type;const eu=Ss[Zs];if(abiTypeIsTransaction(Bl)){if(!isTransactionWithSigner(eu)||!abiCheckTransactionType(Bl,eu.txn))throw new Error(`Expected ${Bl} TransactionWithSigner for argument at index ${Zs}`);if(eu.txn.group&&eu.txn.group.some(Eu=>Eu!==0))throw new Error("Cannot add a transaction with nonzero group ID");nu.push(eu);continue}if(isTransactionWithSigner(eu))throw new Error(`Expected non-transaction value for argument at index ${Zs}`);if(abiTypeIsReference(Bl)&&(Il.set(su.length,Ul.length),su.push(Bl),Jl.push(eu),Bl=new ABIUintType(8)),typeof Bl=="string")throw new Error(`Unknown ABI type: ${Bl}`);Ul.push(Bl),_h.push(eu)}const Ol=[],Gl=wl==null?[]:wl.map(Zs=>Zs.toString()),Fl=_l==null?[]:_l.map(ensureUint64),Al=Cl==null?[]:Cl.map(ensureUint64);for(let Zs=0;Zs<su.length;Zs++){const Bl=su[Zs],eu=Jl[Zs];let Eu=0;switch(Bl){case ABIReferenceType.account:{const uu=new ABIAddressType,Yl=uu.decode(uu.encode(eu));Eu=populateForeignArray(Yl,Gl,Es.toString());break}case ABIReferenceType.application:{const uu=new ABIUintType(64),Yl=uu.decode(uu.encode(eu));if(Yl>Number.MAX_SAFE_INTEGER)throw new Error(`Expected safe integer for application value, got ${Yl}`);Eu=populateForeignArray(Yl,Fl,ensureUint64(ms));break}case ABIReferenceType.asset:{const uu=new ABIUintType(64),Yl=uu.decode(uu.encode(eu));if(Yl>Number.MAX_SAFE_INTEGER)throw new Error(`Expected safe integer for asset value, got ${Yl}`);Eu=populateForeignArray(Yl,Al);break}default:throw new Error(`Unknown reference type: ${Bl}`)}Ol.push(Eu)}for(let Zs=0;Zs<Ol.length;Zs++){const Bl=Il.get(Zs);_h[Bl]=Ol[Zs]}if(Ul.length>MAX_APP_ARGS-1){const Zs=Ul.slice(MAX_APP_ARGS-2),Bl=_h.slice(MAX_APP_ARGS-2);Ul=Ul.slice(0,MAX_APP_ARGS-2),_h=_h.slice(0,MAX_APP_ARGS-2),Ul.push(new ABITupleType(Zs)),_h.push(Bl)}const Pl=[ws.getSelector()];for(let Zs=0;Zs<Ul.length;Zs++)Pl.push(Ul[Zs].encode(_h[Zs]));const yl={txn:makeApplicationCallTxnFromObject({sender:Es,appIndex:ms,appArgs:Pl,accounts:Gl,foreignApps:Fl,foreignAssets:Al,boxes:Nl,onComplete:Is??OnApplicationComplete.NoOpOC,approvalProgram:Ts,clearProgram:Rs,numGlobalInts:Bs,numGlobalByteSlices:Ns,numLocalInts:Ws,numLocalByteSlices:Js,extraPages:$l,lease:xl,note:El,rekeyTo:Ml,suggestedParams:_s}),signer:Vl};this.transactions.push(...nu,yl),this.methodCalls.set(this.transactions.length-1,ws)}buildGroup(){if(this.status===AtomicTransactionComposerStatus.BUILDING){if(this.transactions.length===0)throw new Error("Cannot build a group with 0 transactions");this.transactions.length>1&&assignGroupID(this.transactions.map(ms=>ms.txn)),this.status=AtomicTransactionComposerStatus.BUILT}return this.transactions}async gatherSignatures(){if(this.status>=AtomicTransactionComposerStatus.SIGNED)return this.signedTxns;const ms=this.buildGroup(),ws=ms.map(Bs=>Bs.txn),Ss=new Map;for(let Bs=0;Bs<ms.length;Bs++){const{signer:Ns}=ms[Bs];Ss.has(Ns)||Ss.set(Ns,[]),Ss.get(Ns).push(Bs)}const Es=Array.from(Ss),_s=await Promise.all(Es.map(([Bs,Ns])=>Bs(ws,Ns))),Is=ms.map(()=>null);for(let Bs=0;Bs<Es.length;Bs++){const Ns=Es[Bs][1],Ws=_s[Bs];for(let Js=0;Js<Ns.length;Js++)Is[Ns[Js]]=Ws[Js]}function Ts(Bs){return Bs.every(Ns=>Ns!=null)}if(!Ts(Is))throw new Error(`Missing signatures. Got ${Is}`);const Rs=Is.map((Bs,Ns)=>{try{return decodeMsgpack(Bs,SignedTransaction).txn.txID()}catch(Ws){throw new Error(`Cannot decode signed transaction at index ${Ns}. ${Ws}`)}});return this.signedTxns=Is,this.txIDs=Rs,this.status=AtomicTransactionComposerStatus.SIGNED,Is}async submit(ms){if(this.status>AtomicTransactionComposerStatus.SUBMITTED)throw new Error("Transaction group cannot be resubmitted");const ws=await this.gatherSignatures();return await ms.sendRawTransaction(ws).do(),this.status=AtomicTransactionComposerStatus.SUBMITTED,this.txIDs}async simulate(ms,ws){if(this.status>AtomicTransactionComposerStatus.SUBMITTED)throw new Error("Simulated Transaction group has already been submitted to the network");const Es=(await this.gatherSignatures()).map(Rs=>decodeMsgpack(Rs,SignedTransaction)),_s=ws??new SimulateRequest({txnGroups:[]});_s.txnGroups=[new SimulateRequestTransactionGroup({txns:Es})];const Is=await ms.simulateTransactions(_s).do(),Ts=[];for(const[Rs,Bs]of this.methodCalls){const Ns=this.txIDs[Rs],Ws=Is.txnGroups[0].txnResults[Rs].txnResult,Js={txID:Ns,rawReturnValue:new Uint8Array,method:Bs};Ts.push(AtomicTransactionComposer.parseMethodResponse(Bs,Js,Ws))}return{methodResults:Ts,simulateResponse:Is}}async execute(ms,ws){if(this.status===AtomicTransactionComposerStatus.COMMITTED)throw new Error("Transaction group has already been executed successfully");const Ss=await this.submit(ms);this.status=AtomicTransactionComposerStatus.SUBMITTED;const Es=this.transactions.findIndex((Bs,Ns)=>this.methodCalls.has(Ns)),Is=await waitForConfirmation(ms,Ss[Es===-1?0:Es],ws);this.status=AtomicTransactionComposerStatus.COMMITTED;const Ts=Is.confirmedRound,Rs=[];for(const[Bs,Ns]of this.methodCalls){const Ws=Ss[Bs];let Js={txID:Ws,rawReturnValue:new Uint8Array,method:Ns};try{const $l=Bs===Es?Is:await ms.pendingTransactionInformation(Ws).do();Js=AtomicTransactionComposer.parseMethodResponse(Ns,Js,$l)}catch($l){Js.decodeError=$l}Rs.push(Js)}return{confirmedRound:Ts,txIDs:Ss,methodResults:Rs}}static parseMethodResponse(ms,ws,Ss){const Es=ws;try{if(Es.txInfo=Ss,ms.returns.type!=="void"){const _s=Ss.logs||[];if(_s.length===0)throw new Error(`App call transaction did not log a return value ${stringifyJSON(Ss)}`);const Is=_s[_s.length-1];if(Is.byteLength<4||!arrayEqual(Is.slice(0,4),RETURN_PREFIX))throw new Error(`App call transaction did not log a ABI return value ${stringifyJSON(Ss)}`);Es.rawReturnValue=new Uint8Array(Is.slice(4)),Es.returnValue=ms.returns.type.decode(ws.rawReturnValue)}}catch(_s){Es.decodeError=_s}return Es}}AtomicTransactionComposer.MAX_GROUP_SIZE=16;const SIGN_BYTES_PREFIX=Uint8Array.from([77,88]),MULTISIG_BAD_SENDER_ERROR_MSG="The transaction sender address and multisig preimage do not match.";function signTransaction(vs,ms){return{txID:vs.txID(),blob:vs.signTxn(ms)}}function signBytes(vs,ms){const ws=concatArrays$1(SIGN_BYTES_PREFIX,vs);return sign(ws,ms)}function verifyBytes(vs,ms,ws){const Ss=concatArrays$1(SIGN_BYTES_PREFIX,vs),Es=typeof ws=="string"?Address.fromString(ws):ws;return verify(Ss,ms,Es.publicKey)}const ERROR_MULTISIG_BAD_SENDER=new Error(MULTISIG_BAD_SENDER_ERROR_MSG),ERROR_INVALID_MICROALGOS=new Error(INVALID_MICROALGOS_ERROR_MSG),algosdk=Object.freeze(Object.defineProperty({__proto__:null,ABIAddressType,ABIArrayDynamicType,ABIArrayStaticType,ABIBoolType,ABIByteType,ABIContract,ABIInterface,ABIMethod,get ABIReferenceType(){return ABIReferenceType},ABIStringType,get ABITransactionType(){return ABITransactionType},ABITupleType,ABIType,ABIUfixedType,ABIUintType,ADDR_BYTE_SIZE,ALGORAND_ZERO_ADDRESS_STRING,AccountBaseData,AccountData,AccountDeltas,AccountTotals,Address,AlgoCount,Algodv2:AlgodClient,AppLocalState,AppLocalStateDelta,AppParams,AppParamsDelta,AppResourceRecord,ApplyData,AssetHolding:AssetHolding$2,AssetHoldingDelta,AssetParams:AssetParams$2,AssetParamsDelta,AssetResourceRecord,AtomicTransactionComposer,get AtomicTransactionComposerStatus(){return AtomicTransactionComposerStatus},BalanceRecord,Block:Block$2,BlockHeader,ENCODED_MULTISIG_SCHEMA,ENCODED_SUBSIG_SCHEMA,ERROR_INVALID_MICROALGOS,ERROR_MULTISIG_BAD_SENDER,EvalDelta:EvalDelta$2,FalconSignatureStruct,FalconVerifier,HashFactory:HashFactory$1,INVALID_MICROALGOS_ERROR_MSG,IncludedTransactions,Indexer:IndexerClient,IntDecoding:IntDecoding$1,Kmd:KmdClient,KvValueDelta,LENGTH_ENCODE_BYTE_SIZE,LedgerStateDelta,LogicSig,LogicSigAccount,MAX_LEN,MULTISIG_BAD_SENDER_ERROR_MSG,MerkleArrayProof:MerkleArrayProof$1,MerkleSignatureVerifier,ModifiedCreatable,get OnApplicationComplete(){return OnApplicationComplete},Participant,ParticipationUpdates:ParticipationUpdates$1,ProgramSourceMap,Reveal,RewardState,SINGLE_BOOL_SIZE,SINGLE_BYTE_SIZE,SignedTransaction,SignedTxnInBlock,SignedTxnWithAD,SigslotCommit,StateProof:StateProof$2,StateProofMessage:StateProofMessage$1,StateProofTrackingData,StateSchema:StateSchema$1,TealValue:TealValue$2,Transaction:Transaction$1,get TransactionType(){return TransactionType},TxnCommitments,UntypedValue,UpgradeState,UpgradeVote,ValueDelta,VotingData,abiCheckTransactionType,abiTypeIsReference,abiTypeIsTransaction,algosToMicroalgos,appendSignMultisigTransaction,appendSignRawMultisigSignature,assignGroupID,base64ToBytes,bigIntToBytes,bytesToBase64,bytesToBigInt,bytesToHex:bytesToHex$2,bytesToString,coerceToBytes,computeGroupID,createDryrun,createMultisigTransaction,decodeAddress,decodeJSON,decodeMsgpack,decodeObj,decodeSignedTransaction,decodeUint64,decodeUnsignedTransaction,dryrunTxnResultAppTrace,dryrunTxnResultLogicSigTrace,encodeAddress,encodeJSON,encodeMsgpack,encodeObj,encodeUint64,encodeUnsignedSimulateTransaction,encodeUnsignedTransaction,encodedMultiSigFromEncodingData,encodedMultiSigToEncodingData,encodedSubsigFromEncodingData,encodedSubsigToEncodingData,generateAccount,getApplicationAddress,getMethodByName,hexToBytes:hexToBytes$2,indexerModels:types$1,isOnApplicationComplete,isTransactionType,isTransactionWithSigner,isValidAddress:isValidAddress$1,logicSigFromByte,makeApplicationCallTxnFromObject,makeApplicationClearStateTxnFromObject,makeApplicationCloseOutTxnFromObject,makeApplicationCreateTxnFromObject,makeApplicationDeleteTxnFromObject,makeApplicationNoOpTxnFromObject,makeApplicationOptInTxnFromObject,makeApplicationUpdateTxnFromObject,makeAssetConfigTxnWithSuggestedParamsFromObject,makeAssetCreateTxnWithSuggestedParamsFromObject,makeAssetDestroyTxnWithSuggestedParamsFromObject,makeAssetFreezeTxnWithSuggestedParamsFromObject,makeAssetTransferTxnWithSuggestedParamsFromObject,makeBaseAssetConfigTxn,makeBasicAccountTransactionSigner,makeEmptyTransactionSigner,makeKeyRegistrationTxnWithSuggestedParamsFromObject,makeLogicSigAccountTransactionSigner,makeMultiSigAccountTransactionSigner,makePaymentTxnWithSuggestedParamsFromObject,masterDerivationKeyToMnemonic,mergeMultisigTransactions,microalgosToAlgos,mnemonicFromSeed,mnemonicToMasterDerivationKey,mnemonicToSecretKey,modelsv2:types$2,msgpackRawDecode,msgpackRawDecodeAsMap,msgpackRawEncode,multisigAddress,parseJSON,secretKeyToMnemonic,seedFromMnemonic,signBytes,signLogicSigTransaction,signLogicSigTransactionObject,signMultisigTransaction,signTransaction,stringifyJSON,tealSign,tealSignFromProgram,verifyBytes,verifyMultisig,verifyTealSign,waitForConfirmation},Symbol.toStringTag,{value:"Module"}));var __defProp=Object.defineProperty,__getOwnPropNames=Object.getOwnPropertyNames,__require=(vs=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(vs,{get:(ms,ws)=>(typeof require<"u"?require:ms)[ws]}):vs)(function(vs){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+vs+'" is not supported')}),__esm=(vs,ms)=>function(){return vs&&(ms=(0,vs[__getOwnPropNames(vs)[0]])(vs=0)),ms},__export=(vs,ms)=>{for(var ws in ms)__defProp(vs,ws,{get:ms[ws],enumerable:!0})},m$8,v$a,u$5,_$5,f$9,g$6,Z$3,E$6,y$7,x$7,A$6,R$7,I$5,N$8,h$6,T$6,O$8,S$6,b$7,C$7,F$5,U$4,k$7,L$5,w$6,D$5,V$5,G$6,H$4,q$4,W$6,J$7,Y$5,B$5,P$7,j$5,Q$5,X$5,z$6,init_es=__esm({"../../node_modules/.pnpm/@magic-sdk+types@24.21.0/node_modules/@magic-sdk/types/dist/es/index.mjs"(){m$8=(vs=>(vs.MissingApiKey="MISSING_API_KEY",vs.ModalNotReady="MODAL_NOT_READY",vs.ConnectionLost="CONNECTION_WAS_LOST",vs.MalformedResponse="MALFORMED_RESPONSE",vs.InvalidArgument="INVALID_ARGUMENT",vs.ExtensionNotInitialized="EXTENSION_NOT_INITIALIZED",vs.IncompatibleExtensions="INCOMPATIBLE_EXTENSIONS",vs))(m$8||{}),v$a=(vs=>(vs.SyncWeb3Method="SYNC_WEB3_METHOD",vs.DuplicateIframe="DUPLICATE_IFRAME",vs.ReactNativeEndpointConfiguration="REACT_NATIVE_ENDPOINT_CONFIGURATION",vs.DeprecationNotice="DEPRECATION_NOTICE",vs.ProductAnnouncement="ANNOUNCEMENT",vs))(v$a||{}),u$5=(vs=>(vs[vs.ParseError=-32700]="ParseError",vs[vs.InvalidRequest=-32600]="InvalidRequest",vs[vs.MethodNotFound=-32601]="MethodNotFound",vs[vs.InvalidParams=-32602]="InvalidParams",vs[vs.InternalError=-32603]="InternalError",vs[vs.MagicLinkFailedVerification=-1e4]="MagicLinkFailedVerification",vs[vs.MagicLinkExpired=-10001]="MagicLinkExpired",vs[vs.MagicLinkRateLimited=-10002]="MagicLinkRateLimited",vs[vs.MagicLinkInvalidRedirectURL=-10006]="MagicLinkInvalidRedirectURL",vs[vs.UserAlreadyLoggedIn=-10003]="UserAlreadyLoggedIn",vs[vs.UpdateEmailFailed=-10004]="UpdateEmailFailed",vs[vs.UserRequestEditEmail=-10005]="UserRequestEditEmail",vs[vs.InactiveRecipient=-10010]="InactiveRecipient",vs[vs.AccessDeniedToUser=-10011]="AccessDeniedToUser",vs[vs.RedirectLoginComplete=-10015]="RedirectLoginComplete",vs[vs.DpopInvalidated=-10019]="DpopInvalidated",vs))(u$5||{}),_$5=(vs=>(vs.PROVIDER="magic_3pw_provider",vs.ADDRESS="magic_3pw_address",vs.CHAIN_ID="magic_3pw_chainId",vs))(_$5||{}),f$9=(vs=>(vs.WalletConnected="wallet_connected",vs.WalletRejected="wallet_rejected",vs.Web3ModalSelected="web3modal_selected",vs))(f$9||{}),g$6=(vs=>(vs.LoginWithSms="magic_auth_login_with_sms",vs.LoginWithEmailOTP="magic_auth_login_with_email_otp",vs.LoginWithMagicLink="magic_auth_login_with_magic_link",vs.LoginWithCredential="magic_auth_login_with_credential",vs.SetAuthorizationToken="magic_auth_set_authorization_token",vs.GetIdToken="magic_auth_get_id_token",vs.GenerateIdToken="magic_auth_generate_id_token",vs.GetMetadata="magic_auth_get_metadata",vs.IsLoggedIn="magic_is_logged_in",vs.Logout="magic_auth_logout",vs.UpdateEmail="magic_auth_update_email",vs.UserSettings="magic_auth_settings",vs.UserSettingsTestMode="magic_auth_settings_testing_mode",vs.LoginWithSmsTestMode="magic_auth_login_with_sms_testing_mode",vs.LoginWithEmailOTPTestMode="magic_auth_login_with_email_otp_testing_mode",vs.LoginWithMagicLinkTestMode="magic_login_with_magic_link_testing_mode",vs.LoginWithCredentialTestMode="magic_auth_login_with_credential_testing_mode",vs.GetIdTokenTestMode="magic_auth_get_id_token_testing_mode",vs.GenerateIdTokenTestMode="magic_auth_generate_id_token_testing_mode",vs.GetMetadataTestMode="magic_auth_get_metadata_testing_mode",vs.IsLoggedInTestMode="magic_auth_is_logged_in_testing_mode",vs.LogoutTestMode="magic_auth_logout_testing_mode",vs.UpdateEmailTestMode="magic_auth_update_email_testing_mode",vs.IntermediaryEvent="magic_intermediary_event",vs.RequestAccounts="eth_requestAccounts",vs.GetInfo="magic_get_info",vs.ShowUI="magic_wallet",vs.NFTPurchase="magic_nft_purchase",vs.NFTCheckout="magic_nft_checkout",vs.NFTTransfer="magic_nft_transfer",vs.RequestUserInfoWithUI="mc_request_user_info",vs.Disconnect="mc_disconnect",vs.RecoverAccount="magic_auth_recover_account",vs.RecoverAccountTestMode="magic_auth_recover_account_testing_mode",vs.MagicBoxHeartBeat="magic_box_heart_beat",vs.AutoConnect="mc_auto_connect",vs.Login="mc_login",vs.EncryptV1="magic_auth_encrypt_v1",vs.DecryptV1="magic_auth_decrypt_v1",vs.ShowNFTs="magic_show_nfts",vs.ShowOnRamp="magic_show_fiat_onramp",vs.ShowSendTokensUI="magic_show_send_tokens_ui",vs.ShowAddress="magic_show_address",vs.ShowBalances="magic_show_balances",vs.SendGaslessTransaction="eth_sendGaslessTransaction",vs.RevealPK="magic_reveal_key",vs.EnableMFA="magic_auth_enable_mfa_flow",vs.DisableMFA="magic_auth_disable_mfa_flow",vs))(g$6||{}),Z$3=["magic_intermediary_event","magic_nft_checkout","mc_login"],E$6=(vs=>(vs.MAGIC_HANDLE_RESPONSE="MAGIC_HANDLE_RESPONSE",vs.MAGIC_OVERLAY_READY="MAGIC_OVERLAY_READY",vs.MAGIC_SHOW_OVERLAY="MAGIC_SHOW_OVERLAY",vs.MAGIC_HIDE_OVERLAY="MAGIC_HIDE_OVERLAY",vs.MAGIC_HANDLE_EVENT="MAGIC_HANDLE_EVENT",vs.MAGIC_MG_BOX_SEND_RECEIPT="MAGIC_MG_BOX_SEND_RECEIPT",vs.MAGIC_SEND_PRODUCT_ANNOUNCEMENT="MAGIC_SEND_PRODUCT_ANNOUNCEMENT",vs.MAGIC_PONG="MAGIC_PONG",vs.MAGIC_POPUP_RESPONSE="MAGIC_POPUP_RESPONSE",vs.MAGIC_POPUP_OAUTH_VERIFY_RESPONSE="MAGIC_POPUP_OAUTH_VERIFY_RESPONSE",vs))(E$6||{}),y$7=(vs=>(vs.MAGIC_HANDLE_REQUEST="MAGIC_HANDLE_REQUEST",vs.MAGIC_PING="MAGIC_PING",vs))(y$7||{}),x$7=(vs=>(vs.UpdateEmail="update-email",vs.MFA="mfa",vs.Recovery="recovery",vs))(x$7||{}),A$6=(vs=>(vs.Retry="retry",vs))(A$6||{}),R$7=(vs=>(vs.EmailSent="email-sent",vs.EmailNotDeliverable="email-not-deliverable",vs))(R$7||{}),I$5=(vs=>(vs.VerifyEmailOtp="verify-email-otp",vs.VerifyMFACode="verify-mfa-code",vs.LostDevice="lost-device",vs.VerifyRecoveryCode="verify-recovery-code",vs.Cancel="cancel",vs))(I$5||{}),N$8=(vs=>(vs.VerifySmsOtp="verify-sms-otp",vs.Cancel="cancel",vs.Retry="retry",vs))(N$8||{}),h$6=(vs=>(vs.SmsOTPSent="sms-otp-sent",vs.InvalidSmsOtp="invalid-sms-otp",vs.ExpiredSmsOtp="expired-sms-otp",vs))(h$6||{}),T$6=(vs=>(vs.EmailOTPSent="email-otp-sent",vs.InvalidEmailOtp="invalid-email-otp",vs.InvalidMfaOtp="invalid-mfa-otp",vs.ExpiredEmailOtp="expired-email-otp",vs.MfaSentHandle="mfa-sent-handle",vs.RecoveryCodeSentHandle="recovery-code-sent-handle",vs.InvalidRecoveryCode="invalid-recovery-code",vs.RecoveryCodeSuccess="recovery-code-success",vs.LoginThrottled="login-throttled",vs))(T$6||{}),O$8=(vs=>(vs.Retry="device-retry",vs))(O$8||{}),S$6=(vs=>(vs.DeviceApproved="device-approved",vs.DeviceNeedsApproval="device-needs-approval",vs.DeviceVerificationLinkExpired="device-verification-link-expired",vs.DeviceVerificationEmailSent="device-verification-email-sent",vs))(S$6||{}),b$7=(vs=>(vs.Retry="Recency/auth-factor-retry",vs.Cancel="Recency/auth-factor-verification-cancel",vs.VerifyEmailOtp="Recency/auth-factor-verify-email-otp",vs.VerifyMFACode="Recency/verify-mfa-code",vs))(b$7||{}),C$7=(vs=>(vs.PrimaryAuthFactorNeedsVerification="Recency/auth-factor-needs-verification",vs.PrimaryAuthFactorVerified="Recency/auth-factor-verified",vs.InvalidEmailOtp="Recency/auth-factor-invalid-email-otp",vs.EmailExpired="Recency/auth-factor-verification-email-expired",vs.EmailSent="Recency/auth-factor-verification-email-sent",vs.EmailNotDeliverable="Recency/auth-factor-verification-email-not-deliverable",vs))(C$7||{}),F$5=(vs=>(vs.RetryWithNewEmail="UpdateEmail/retry-with-new-email",vs.Cancel="UpdateEmail/new-email-verification-cancel",vs.VerifyEmailOtp="UpdateEmail/new-email-verify-otp",vs))(F$5||{}),U$4=(vs=>(vs.NewAuthFactorNeedsVerification="UpdateEmail/new-email-needs-verification",vs.EmailUpdated="UpdateEmail/email-updated",vs.InvalidEmailOtp="UpdateEmail/new-email-invalid-email-otp",vs.EmailExpired="UpdateEmail/new-email-verification-email-expired",vs.EmailSent="UpdateEmail/new-email-verification-email-sent",vs.EmailNotDeliverable="UpdateEmail/new-email-verification-email-not-deliverable",vs.InvalidEmail="UpdateEmail/new-email-invalid",vs.EmailAlreadyExists="UpdateEmail/new-email-already-exists",vs))(U$4||{}),k$7=(vs=>(vs.IDTokenCreated="Auth/id-token-created",vs))(k$7||{}),L$5=(vs=>(vs.Cancel="Farcaster/cancel",vs))(L$5||{}),w$6=(vs=>(vs.MFASecretGenerated="mfa-secret-generated",vs.InvalidMFAOtp="invalid-mfa-otp",vs.MFARecoveryCodes="mfa-recovery-codes",vs))(w$6||{}),D$5=(vs=>(vs.VerifyMFACode="verify-mfa-code",vs.Cancel="cancel-mfa-setup",vs))(D$5||{}),V$5=(vs=>(vs.MFACodeRequested="mfa-code-requested",vs.InvalidMFAOtp="invalid-mfa-otp",vs.InvalidRecoveryCode="invalid-recovery-code",vs))(V$5||{}),G$6=(vs=>(vs.VerifyMFACode="verify-mfa-code",vs.LostDevice="lost-device",vs.Cancel="cancel-mfa-disable",vs))(G$6||{}),H$4=(vs=>(vs.Harmony="HARMONY",vs))(H$4||{}),q$4=(vs=>(vs.ClosedByUser="closed-by-user",vs))(q$4||{}),W$6=(vs=>(vs.ClosedByUser="closed-by-user-on-received",vs))(W$6||{}),J$7=(vs=>(vs.EnterNewPhoneNumber="enter-new-phone-number",vs.EnterOtpCode="enter-otp-code",vs.RecoveryFactorAlreadyExists="recovery-factor-already-exists",vs.MalformedPhoneNumber="malformed-phone-number",vs.InvalidOtpCode="invalid-otp-code",vs.RecoveryFactorUpdated="recovery-factor-updated",vs.RecoveryFactorDeleted="recovery-factor-deleted",vs))(J$7||{}),Y$5=(vs=>(vs.SendNewPhoneNumber="send-new-phone-number",vs.SendOtpCode="send-otp-code",vs.Cancel="cancel",vs.StartEditPhoneNumber="start-edit-phone-number",vs))(Y$5||{}),B$5=(vs=>(vs.PhoneNumber="phone_number",vs))(B$5||{}),P$7=(vs=>(vs.SmsOtpSent="sms-otp-sent",vs.LoginThrottled="login-throttled",vs.InvalidSmsOtp="invalid-sms-otp",vs.SmsVerified="sms-verified",vs.AccountRecovered="account-recovered",vs.UpdateEmailRequired="update-email-required",vs))(P$7||{}),j$5=(vs=>(vs.Cancel="cancel",vs.VerifyOtp="verify-otp-code",vs.ResendSms="resend-sms-otp",vs.UpdateEmail="update-email",vs))(j$5||{}),Q$5=(vs=>(vs.Success="nft-checkout-success",vs.Failure="nft-checkout-failure",vs.Initiated="nft-checkout-initiated",vs.Disconnect="disconnect",vs))(Q$5||{}),X$5=(vs=>(vs.WalletInfoFetched="Wallet/wallet-info-fetched",vs))(X$5||{}),z$6=(vs=>(vs.CloseMagicWindow="close-magic-window",vs))(z$6||{})}});function or$4(vs){let ms={exports:{}};return vs(ms,ms.exports),ms.exports}function Wr$3(vs){return String.fromCharCode(parseInt(vs.slice(1),16))}function Jr$2(vs){return`%${`00${vs.charCodeAt(0).toString(16)}`.slice(-2)}`}function Gr$3(vs){return btoa(encodeURIComponent(vs).replace(/%[0-9A-F]{2}/g,Wr$3))}function Kr$2(vs){return decodeURIComponent(Array.from(atob(vs),Jr$2).join(""))}function ce$2(vs){return Gr$3(JSON.stringify(vs))}function at$2(vs){return JSON.parse(Kr$2(vs))}function N2(vs){return typeof vs>"u"}function Br$3(vs){return vs===null}function le$3(vs){return Br$3(vs)||N2(vs)}function ct$3(vs){return le$3(vs)?!1:!N2(vs.jsonrpc)&&!N2(vs.id)&&(!N2(vs.result)||!N2(vs.error))}function lt$3(vs){return le$3(vs)?!1:typeof vs=="number"&&Object.values(u$5).includes(vs)}function ee$3(vs){if(!vs)return!0;for(let ms in vs)if(Object.hasOwnProperty.call(vs,ms))return!1;return!0}function Hr$3(vs,ms){return Object.assign(m2,ms),vs}function ut$4(){return new $$3(m$8.MissingApiKey,"Please provide an API key that you acquired from the Magic developer dashboard.")}function pt$2(){return new $$3(m$8.ModalNotReady,"Modal is not ready")}function mt$3(){return new $$3(m$8.MalformedResponse,"Response from the Magic iframe is malformed.")}function ht$3(vs){return new $$3(m$8.ExtensionNotInitialized,`Extensions must be initialized with a Magic SDK instance before \`Extension.${vs}\` can be accessed. Do not invoke \`Extension.${vs}\` inside an extension constructor.`)}function Et$4(vs){let ms=`Some extensions are incompatible with \`${m2.sdkName}@${m2.version}\`:`;return vs.filter(ws=>typeof ws.compat<"u"&&ws.compat!==null).forEach(ws=>{let Ss=ws.compat[m2.sdkName];typeof Ss=="string"?ms+=`
  - Extension \`${ws.name}\` supports version(s) \`${Ss}\``:Ss||(ms+=`
  - Extension \`${ws.name}\` does not support ${m2.platform} environments.`)}),new $$3(m$8.IncompatibleExtensions,ms)}function ft$3(vs){let ms=ws=>{let Ss=ws+1,Es=Ss%10,_s=Ss%100;return Es===1&&_s!==11?`${Ss}st`:Es===2&&_s!==12?`${Ss}nd`:Es===3&&_s!==13?`${Ss}rd`:`${Ss}th`};return new $$3(m$8.InvalidArgument,`Invalid ${ms(vs.argument)} argument given to \`${vs.procedure}\`.
  Expected: \`${vs.expected}\`
  Received: \`${vs.received}\``)}function Bn$3(){return new L2(v$a.DuplicateIframe,"Duplicate iframes found.")}function gt$4(){return new L2(v$a.SyncWeb3Method,"Non-async web3 methods are deprecated in web3 > 1.0 and are not supported by the Magic web3 provider. Please use an async method instead.")}function yt$2(){return new L2(v$a.ReactNativeEndpointConfiguration,`CUSTOM DOMAINS ARE NOT SUPPORTED WHEN USING MAGIC SDK WITH REACT NATIVE! The \`endpoint\` parameter SHOULD NOT be provided. The Magic \`<iframe>\` is automatically wrapped by a WebView pointed at \`${m2.defaultEndpoint}\`. Changing this default behavior will lead to unexpected results and potentially security-threatening bugs.`)}function Rt$5(vs){let{method:ms,removalVersions:ws,useInstead:Ss}=vs,Es=ws[m2.sdkName],_s=Ss?` Use \`${Ss}\` instead.`:"",Is=`\`${ms}\` will be removed from \`${m2.sdkName}\` in version \`${Es}\`.${_s}`;return new L2(v$a.DeprecationNotice,Is)}function*zr$2(){let vs=0;for(;;)vs<Number.MAX_SAFE_INTEGER?yield++vs:vs=0}function $e$3(){return Yr$2.next().value}function O2(vs){return async(...ms)=>(pe$4||(pe$4=await m2.configureStorage()),await pe$4.ready(),pe$4[vs](...ms))}function vt$4(){let vs=window.crypto.getRandomValues(new Uint8Array(16));vs[6]=vs[6]&15|64,vs[8]=vs[8]&191|128;let ms="";return ms+=vs[0].toString(16),ms+=vs[1].toString(16),ms+=vs[2].toString(16),ms+=vs[3].toString(16),ms+="-",ms+=vs[4].toString(16),ms+=vs[5].toString(16),ms+="-",ms+=vs[6].toString(16),ms+=vs[7].toString(16),ms+="-",ms+=vs[8].toString(16),ms+=vs[9].toString(16),ms+="-",ms+=vs[10].toString(16),ms+=vs[11].toString(16),ms+=vs[12].toString(16),ms+=vs[13].toString(16),ms+=vs[14].toString(16),ms+=vs[15].toString(16),ms}function re$1(){let vs=typeof window<"u"&&!!window.crypto,ms=vs&&!!window.crypto.subtle;return vs&&ms}function bt$3(){A2(he$3),A2(Oe$3)}async function Pt$4(){let vs=await sn$3();if(!vs){console.info("unable to create public key or webcrypto is unsupported");return}let{subtle:ms}=window.crypto,ws=await R2(Oe$3);if(!ws||!ms){console.info("unable to find private key or webcrypto unsupported");return}let Ss={iat:Math.floor(new Date().getTime()/1e3),jti:vt$4()},Es={protected:Tt$4(JSON.stringify({typ:"dpop+jwt",alg:"ES256",jwk:vs})),claims:Tt$4(JSON.stringify(Ss))},_s=an$2(`${Es.protected}.${Es.claims}`),Is={name:It$5,hash:{name:"SHA-256"}},Ts=ln$2(new Uint8Array(await ms.sign(Is,ws,_s)));return`${Es.protected}.${Es.claims}.${Ts}`}async function sn$3(){if(!re$1()){console.info("webcrypto is not supported");return}return await R2(he$3)||await on$4(),R2(he$3)}async function on$4(){let{subtle:vs}=window.crypto,ms=await vs.generateKey(nn$3,!1,["sign"]),ws=await vs.exportKey("jwk",ms.publicKey);await S2(Oe$3,ms.privateKey),await S2(he$3,ws)}function Tt$4(vs){return wt$4(cn$2(vs))}function an$2(vs){return new TextEncoder().encode(vs)}function wt$4(vs){return btoa(vs).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+/g,"")}function cn$2(vs){return encodeURIComponent(vs).replace(/%([0-9A-F]{2})/g,(ms,ws)=>String.fromCharCode(parseInt(ws,16)))}function ln$2(vs){let ms="";return vs.forEach(ws=>{ms+=String.fromCharCode(ws)}),wt$4(ms)}function xt$4(vs){return Object.defineProperty(vs,St$5,{value:!0,enumerable:!1}),vs}function un$2(vs){return!!vs[St$5]}function F2(vs){return un$2(vs)||(vs.jsonrpc=vs.jsonrpc??"2.0",vs.id=$e$3(),vs.method=vs.method??"noop",vs.params=vs.params??[],xt$4(vs)),vs}function p$5(vs,ms=[]){return xt$4({params:ms,method:vs,jsonrpc:"2.0",id:$e$3()})}function fe$4(){let vs=new ke$3;return{emitter:vs,createChainingEmitterMethod:(ms,ws)=>(...Ss)=>(vs[ms].apply(vs,Ss),ws),createBoundEmitterMethod:ms=>(...ws)=>vs[ms].apply(vs,ws)}}function $t$3(vs){return!!vs[At$3]}function b2(vs){let ms=De$4(vs),{createBoundEmitterMethod:ws,createChainingEmitterMethod:Ss}=fe$4(),Es=Symbol("Promise.then"),_s=Symbol("Promise.catch"),Is=Symbol("Promise.finally"),Ts=(Ns,Ws)=>(...Js)=>{let $l=Ws[Ns].apply(Ws,Js);return Rs($l)},Rs=Ns=>Object.assign(Ns,{[At$3]:!0,[Es]:Ns[Es]||Ns.then,[_s]:Ns[_s]||Ns.catch,[Is]:Ns[Is]||Ns.finally,then:Ts(Es,Ns),catch:Ts(_s,Ns),finally:Ts(Is,Ns),on:Ss("on",Ns),once:Ss("once",Ns),addListener:Ss("addListener",Ns),off:Ss("off",Ns),removeListener:Ss("removeListener",Ns),removeAllListeners:Ss("removeAllListeners",Ns),emit:ws("emit"),eventNames:ws("eventNames"),listeners:ws("listeners"),listenerCount:ws("listenerCount")}),Bs=Rs(ms.then(Ns=>(Bs.emit("done",Ns),Bs.emit("settled"),Ns),Ns=>{throw Bs.emit("error",Ns),Bs.emit("settled"),Ns}));return Bs.on(W$6.ClosedByUser,()=>{Bs.emit(q$4.ClosedByUser)}),Bs}function De$4(vs){return new Promise((ms,ws)=>{let Ss=vs(ms,ws);Promise.resolve(Ss).catch(ws)})}function Lt$4(vs,ms){let[ws]=vs.split(".").map(Number);return ws>=ms}async function Re$2(){let vs=[];await Le$3((ms,ws,Ss)=>{ws.startsWith(`${qe$3}_`)&&vs.push(ws)});for(let ms of vs)await A2(ms)}function _t$4(vs){let ms="",ws=new Uint8Array(vs),Ss=ws.byteLength;for(let Es=0;Es<Ss;Es++)ms+=String.fromCharCode(ws[Es]);return window.btoa(ms)}function kt$4(vs){let ms=window.atob(vs),ws=ms.length,Ss=new Uint8Array(ws);for(let Es=0;Es<ws;Es++)Ss[Es]=ms.charCodeAt(Es);return Ss.buffer}async function In$3(){if(!re$1()){console.info("webcrypto is not supported");return}let{crypto:vs}=window;return await R2(Fe$2)||vs.getRandomValues(new Uint8Array(12))}async function bn$3(){if(!re$1()){console.info("webcrypto is not supported");return}let{subtle:vs}=window.crypto;return await R2(Ue$3)||await vs.generateKey({name:We$2,length:Tn$3},!1,["encrypt","decrypt"])}async function Dt$3(vs,ms){let ws=await In$3(),Ss=await bn$3();if(!ws||!Ss||!vs)return;let Es=kt$4(vs),{subtle:_s}=window.crypto,Is=await _s.encrypt({name:We$2,iv:ws},Ss,Es),Ts=_t$4(Is);await S2(`${qe$3}_${ms}`,Ts),await S2(Ue$3,Ss),await S2(Fe$2,ws)}async function qt$3(vs){let ms=await R2(`${qe$3}_${vs}`),ws=await R2(Fe$2),Ss=await R2(Ue$3);if(!ws||!ms||!Ss||!re$1())return;let{subtle:Es}=window.crypto,_s=await Es.decrypt({name:We$2,iv:ws},Ss,kt$4(ms));return _t$4(_s)}function Je$2(vs,ms){return ms?new URL(vs,ms):new URL(vs)}function Wt$4(vs){return vs.compat&&vs.compat[m2.sdkName]!=null?typeof vs.compat[m2.sdkName]=="string"?ot$2(it$3(m2.version),vs.compat[m2.sdkName]):!!vs.compat[m2.sdkName]:!0}function wn$2(vs,ms,ws){return!ms&&!ws?`${vs}_eth_mainnet`:ws?`${vs}_${JSON.stringify(ws)}`:ms?typeof ms=="string"?`${vs}_eth_${ms}`:`${vs}_${ms.rpcUrl}_${ms.chainId}_${ms.chainType}`:`${vs}_unknown`}function Sn$3(vs){let ms=(vs==null?void 0:vs.extensions)??[],ws={},Ss=[];if(Array.isArray(ms)?ms.forEach(Es=>{Wt$4(Es)?(Es.init(this),Es.name&&(this[Es.name]=Es),ee$3(Es.config)||(ws[Es.name]=Es.config)):Ss.push(Es)}):Object.keys(ms).forEach(Es=>{if(Wt$4(ms[Es])){ms[Es].init(this);let _s=ms[Es];this[Es]=_s,ee$3(_s.config)||(ws[ms[Es].name]=_s.config)}else Ss.push(ms[Es])}),Ss.length)throw Et$4(Ss);return ws}function xn$3(vs,ms){return ms&&Array.isArray(vs)?vs.find(ws=>ws.id===ms):vs}function Jt$3(vs,ms){var Es;let ws=(Es=ms.data.response)==null?void 0:Es.id,Ss=xn$3(vs,ws);if(ws&&Ss){let _s=new K$6(Ss).applyResult(ms.data.response.result).applyError(ms.data.response.error);return{id:ws,response:_s}}return{}}async function Gt$3(vs,ms,ws){let Ss=await R2("rt"),Es;if(m2.platform==="web")try{Es=await R2("jwt")??await Pt$4()}catch(Ts){console.error("webcrypto error",Ts)}let _s={msgType:vs,payload:ms};Es&&(_s.jwt=Es),Es&&Ss&&(_s.rt=Ss);let Is=await qt$3(ws);return Is&&(_s.deviceShare=Is),_s}async function Kt$3(vs){vs.data.rt&&await S2("rt",vs.data.rt)}function jt$4(vs,ms){let ws=null;return function(...Ss){ws&&clearTimeout(ws),ws=setTimeout(()=>{vs(...Ss)},ms)}}function $n$3(vs){let ms=Object.getPrototypeOf(vs),ws=[ms];for(;ms!==f2.prototype;)ms=Object.getPrototypeOf(ms),ws.push(ms);return ws}var zt$3,Ce$3,Yt$4,Qt$3,Zt$3,er$2,tr$2,rr$3,nr$2,sr$2,Ct$4,ir$3,Ae$2,ar$2,h2,Z2,Xe$3,st$1,cr$3,lr$2,ze$1,oe$1,Ye$3,Qe$3,X2,M$7,dr$3,J2,ur$2,pr$3,mr$3,hr$3,Er$3,fr$3,gr$3,yr$3,Rr$3,vr$3,Tr$3,Ir$3,br$3,Ne$2,z2,Y2,Ze$3,et$2,Q2,y2,E2,Pr$3,wr$3,Sr$3,tt$3,xr$3,T2,Mr$3,Cr$3,Nr$3,Ar$3,$r$3,Lr$3,Or$3,_r$3,kr$3,Dr$3,ot$2,qr$3,rt$3,nt$3,Ur$3,Fr$2,ie$1,ae$3,it$3,m2,dt$4,$$3,U2,L2,de$2,te$3,Yr$2,me$4,pe$4,R2,S2,A2,Qr$3,Zr$3,en$4,tn$3,Le$3,Oe$3,he$3,It$5,rn$3,nn$3,St$5,K$6,Nt$4,ke$3,At$3,f2,vn$3,ye$3,qe$3,Ue$3,Fe$2,We$2,Tn$3,Te$2,Ie$2,Pe$3,we$4,H2,Se$3,Me$4,Ke$3,Nn$3,Bt$4,Vt$3,An$3,je$2,Ht$3,Ve$3,Be$3,He$3,init_es2=__esm({"../../node_modules/.pnpm/@magic-sdk+provider@29.4.2_localforage@1.10.0/node_modules/@magic-sdk/provider/dist/es/index.mjs"(){var vs,ms;init_es(),init_es(),init_es(),init_es(),init_es(),init_es(),init_es(),init_es(),init_es(),init_es(),init_es(),init_es(),zt$3=Object.create,Ce$3=Object.defineProperty,Yt$4=Object.getOwnPropertyDescriptor,Qt$3=Object.getOwnPropertyNames,Zt$3=Object.getPrototypeOf,er$2=Object.prototype.hasOwnProperty,tr$2=(ws,Ss)=>()=>(Ss||ws((Ss={exports:{}}).exports,Ss),Ss.exports),rr$3=(ws,Ss)=>{for(var Es in Ss)Ce$3(ws,Es,{get:Ss[Es],enumerable:!0})},nr$2=(ws,Ss,Es,_s)=>{if(Ss&&typeof Ss=="object"||typeof Ss=="function")for(let Is of Qt$3(Ss))!er$2.call(ws,Is)&&Is!==Es&&Ce$3(ws,Is,{get:()=>Ss[Is],enumerable:!(_s=Yt$4(Ss,Is))||_s.enumerable});return ws},sr$2=(ws,Ss,Es)=>(Es=ws!=null?zt$3(Zt$3(ws)):{},nr$2(Ss||!ws||!ws.__esModule?Ce$3(Es,"default",{value:ws,enumerable:!0}):Es,ws)),Ct$4=tr$2((ws,Ss)=>{var Es=Object.prototype.hasOwnProperty,_s="~";function Is(){}Object.create&&(Is.prototype=Object.create(null),new Is().__proto__||(_s=!1));function Ts(Ws,Js,$l){this.fn=Ws,this.context=Js,this.once=$l||!1}function Rs(Ws,Js,$l,wl,_l){if(typeof $l!="function")throw new TypeError("The listener must be a function");var Cl=new Ts($l,wl||Ws,_l),Sl=_s?_s+Js:Js;return Ws._events[Sl]?Ws._events[Sl].fn?Ws._events[Sl]=[Ws._events[Sl],Cl]:Ws._events[Sl].push(Cl):(Ws._events[Sl]=Cl,Ws._eventsCount++),Ws}function Bs(Ws,Js){--Ws._eventsCount===0?Ws._events=new Is:delete Ws._events[Js]}function Ns(){this._events=new Is,this._eventsCount=0}Ns.prototype.eventNames=function(){var Ws=[],Js,$l;if(this._eventsCount===0)return Ws;for($l in Js=this._events)Es.call(Js,$l)&&Ws.push(_s?$l.slice(1):$l);return Object.getOwnPropertySymbols?Ws.concat(Object.getOwnPropertySymbols(Js)):Ws},Ns.prototype.listeners=function(Ws){var Js=_s?_s+Ws:Ws,$l=this._events[Js];if(!$l)return[];if($l.fn)return[$l.fn];for(var wl=0,_l=$l.length,Cl=new Array(_l);wl<_l;wl++)Cl[wl]=$l[wl].fn;return Cl},Ns.prototype.listenerCount=function(Ws){var Js=_s?_s+Ws:Ws,$l=this._events[Js];return $l?$l.fn?1:$l.length:0},Ns.prototype.emit=function(Ws,Js,$l,wl,_l,Cl){var Sl=_s?_s+Ws:Ws;if(!this._events[Sl])return!1;var El=this._events[Sl],xl=arguments.length,Ml,Vl;if(El.fn){switch(El.once&&this.removeListener(Ws,El.fn,void 0,!0),xl){case 1:return El.fn.call(El.context),!0;case 2:return El.fn.call(El.context,Js),!0;case 3:return El.fn.call(El.context,Js,$l),!0;case 4:return El.fn.call(El.context,Js,$l,wl),!0;case 5:return El.fn.call(El.context,Js,$l,wl,_l),!0;case 6:return El.fn.call(El.context,Js,$l,wl,_l,Cl),!0}for(Vl=1,Ml=new Array(xl-1);Vl<xl;Vl++)Ml[Vl-1]=arguments[Vl];El.fn.apply(El.context,Ml)}else{var Ul=El.length,_h;for(Vl=0;Vl<Ul;Vl++)switch(El[Vl].once&&this.removeListener(Ws,El[Vl].fn,void 0,!0),xl){case 1:El[Vl].fn.call(El[Vl].context);break;case 2:El[Vl].fn.call(El[Vl].context,Js);break;case 3:El[Vl].fn.call(El[Vl].context,Js,$l);break;case 4:El[Vl].fn.call(El[Vl].context,Js,$l,wl);break;default:if(!Ml)for(_h=1,Ml=new Array(xl-1);_h<xl;_h++)Ml[_h-1]=arguments[_h];El[Vl].fn.apply(El[Vl].context,Ml)}}return!0},Ns.prototype.on=function(Ws,Js,$l){return Rs(this,Ws,Js,$l,!1)},Ns.prototype.once=function(Ws,Js,$l){return Rs(this,Ws,Js,$l,!0)},Ns.prototype.removeListener=function(Ws,Js,$l,wl){var _l=_s?_s+Ws:Ws;if(!this._events[_l])return this;if(!Js)return Bs(this,_l),this;var Cl=this._events[_l];if(Cl.fn)Cl.fn===Js&&(!wl||Cl.once)&&(!$l||Cl.context===$l)&&Bs(this,_l);else{for(var Sl=0,El=[],xl=Cl.length;Sl<xl;Sl++)(Cl[Sl].fn!==Js||wl&&!Cl[Sl].once||$l&&Cl[Sl].context!==$l)&&El.push(Cl[Sl]);El.length?this._events[_l]=El.length===1?El[0]:El:Bs(this,_l)}return this},Ns.prototype.removeAllListeners=function(Ws){var Js;return Ws?(Js=_s?_s+Ws:Ws,this._events[Js]&&Bs(this,Js)):(this._events=new Is,this._eventsCount=0),this},Ns.prototype.off=Ns.prototype.removeListener,Ns.prototype.addListener=Ns.prototype.on,Ns.prefixed=_s,Ns.EventEmitter=Ns,typeof Ss<"u"&&(Ss.exports=Ns)}),ir$3=Number.MAX_SAFE_INTEGER||9007199254740991,Ae$2={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:ir$3,MAX_SAFE_COMPONENT_LENGTH:16},ar$2=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...ws)=>console.error("SEMVER",...ws):()=>{},h2=ar$2,Z2=or$4(function(ws,Ss){let{MAX_SAFE_COMPONENT_LENGTH:Es}=Ae$2,_s=(Ss=ws.exports={}).re=[],Is=Ss.src=[],Ts=Ss.t={},Rs=0,Bs=(Ns,Ws,Js)=>{let $l=Rs++;h2($l,Ws),Ts[Ns]=$l,Is[$l]=Ws,_s[$l]=new RegExp(Ws,Js?"g":void 0)};Bs("NUMERICIDENTIFIER","0|[1-9]\\d*"),Bs("NUMERICIDENTIFIERLOOSE","[0-9]+"),Bs("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),Bs("MAINVERSION",`(${Is[Ts.NUMERICIDENTIFIER]})\\.(${Is[Ts.NUMERICIDENTIFIER]})\\.(${Is[Ts.NUMERICIDENTIFIER]})`),Bs("MAINVERSIONLOOSE",`(${Is[Ts.NUMERICIDENTIFIERLOOSE]})\\.(${Is[Ts.NUMERICIDENTIFIERLOOSE]})\\.(${Is[Ts.NUMERICIDENTIFIERLOOSE]})`),Bs("PRERELEASEIDENTIFIER",`(?:${Is[Ts.NUMERICIDENTIFIER]}|${Is[Ts.NONNUMERICIDENTIFIER]})`),Bs("PRERELEASEIDENTIFIERLOOSE",`(?:${Is[Ts.NUMERICIDENTIFIERLOOSE]}|${Is[Ts.NONNUMERICIDENTIFIER]})`),Bs("PRERELEASE",`(?:-(${Is[Ts.PRERELEASEIDENTIFIER]}(?:\\.${Is[Ts.PRERELEASEIDENTIFIER]})*))`),Bs("PRERELEASELOOSE",`(?:-?(${Is[Ts.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Is[Ts.PRERELEASEIDENTIFIERLOOSE]})*))`),Bs("BUILDIDENTIFIER","[0-9A-Za-z-]+"),Bs("BUILD",`(?:\\+(${Is[Ts.BUILDIDENTIFIER]}(?:\\.${Is[Ts.BUILDIDENTIFIER]})*))`),Bs("FULLPLAIN",`v?${Is[Ts.MAINVERSION]}${Is[Ts.PRERELEASE]}?${Is[Ts.BUILD]}?`),Bs("FULL",`^${Is[Ts.FULLPLAIN]}$`),Bs("LOOSEPLAIN",`[v=\\s]*${Is[Ts.MAINVERSIONLOOSE]}${Is[Ts.PRERELEASELOOSE]}?${Is[Ts.BUILD]}?`),Bs("LOOSE",`^${Is[Ts.LOOSEPLAIN]}$`),Bs("GTLT","((?:<|>)?=?)"),Bs("XRANGEIDENTIFIERLOOSE",`${Is[Ts.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),Bs("XRANGEIDENTIFIER",`${Is[Ts.NUMERICIDENTIFIER]}|x|X|\\*`),Bs("XRANGEPLAIN",`[v=\\s]*(${Is[Ts.XRANGEIDENTIFIER]})(?:\\.(${Is[Ts.XRANGEIDENTIFIER]})(?:\\.(${Is[Ts.XRANGEIDENTIFIER]})(?:${Is[Ts.PRERELEASE]})?${Is[Ts.BUILD]}?)?)?`),Bs("XRANGEPLAINLOOSE",`[v=\\s]*(${Is[Ts.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Is[Ts.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Is[Ts.XRANGEIDENTIFIERLOOSE]})(?:${Is[Ts.PRERELEASELOOSE]})?${Is[Ts.BUILD]}?)?)?`),Bs("XRANGE",`^${Is[Ts.GTLT]}\\s*${Is[Ts.XRANGEPLAIN]}$`),Bs("XRANGELOOSE",`^${Is[Ts.GTLT]}\\s*${Is[Ts.XRANGEPLAINLOOSE]}$`),Bs("COERCE",`(^|[^\\d])(\\d{1,${Es}})(?:\\.(\\d{1,${Es}}))?(?:\\.(\\d{1,${Es}}))?(?:$|[^\\d])`),Bs("COERCERTL",Is[Ts.COERCE],!0),Bs("LONETILDE","(?:~>?)"),Bs("TILDETRIM",`(\\s*)${Is[Ts.LONETILDE]}\\s+`,!0),Ss.tildeTrimReplace="$1~",Bs("TILDE",`^${Is[Ts.LONETILDE]}${Is[Ts.XRANGEPLAIN]}$`),Bs("TILDELOOSE",`^${Is[Ts.LONETILDE]}${Is[Ts.XRANGEPLAINLOOSE]}$`),Bs("LONECARET","(?:\\^)"),Bs("CARETTRIM",`(\\s*)${Is[Ts.LONECARET]}\\s+`,!0),Ss.caretTrimReplace="$1^",Bs("CARET",`^${Is[Ts.LONECARET]}${Is[Ts.XRANGEPLAIN]}$`),Bs("CARETLOOSE",`^${Is[Ts.LONECARET]}${Is[Ts.XRANGEPLAINLOOSE]}$`),Bs("COMPARATORLOOSE",`^${Is[Ts.GTLT]}\\s*(${Is[Ts.LOOSEPLAIN]})$|^$`),Bs("COMPARATOR",`^${Is[Ts.GTLT]}\\s*(${Is[Ts.FULLPLAIN]})$|^$`),Bs("COMPARATORTRIM",`(\\s*)${Is[Ts.GTLT]}\\s*(${Is[Ts.LOOSEPLAIN]}|${Is[Ts.XRANGEPLAIN]})`,!0),Ss.comparatorTrimReplace="$1$2$3",Bs("HYPHENRANGE",`^\\s*(${Is[Ts.XRANGEPLAIN]})\\s+-\\s+(${Is[Ts.XRANGEPLAIN]})\\s*$`),Bs("HYPHENRANGELOOSE",`^\\s*(${Is[Ts.XRANGEPLAINLOOSE]})\\s+-\\s+(${Is[Ts.XRANGEPLAINLOOSE]})\\s*$`),Bs("STAR","(<|>)?=?\\s*\\*"),Bs("GTE0","^\\s*>=\\s*0.0.0\\s*$"),Bs("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")}),Xe$3=/^[0-9]+$/,st$1=(ws,Ss)=>{let Es=Xe$3.test(ws),_s=Xe$3.test(Ss);return Es&&_s&&(ws=+ws,Ss=+Ss),ws===Ss?0:Es&&!_s?-1:_s&&!Es?1:ws<Ss?-1:1},cr$3=(ws,Ss)=>st$1(Ss,ws),lr$2={compareIdentifiers:st$1,rcompareIdentifiers:cr$3},{MAX_LENGTH:ze$1,MAX_SAFE_INTEGER:oe$1}=Ae$2,{re:Ye$3,t:Qe$3}=Z2,{compareIdentifiers:X2}=lr$2,M$7=class Pm{constructor(Ss,Es){if(Es&&typeof Es=="object"||(Es={loose:!!Es,includePrerelease:!1}),Ss instanceof Pm){if(Ss.loose===!!Es.loose&&Ss.includePrerelease===!!Es.includePrerelease)return Ss;Ss=Ss.version}else if(typeof Ss!="string")throw new TypeError(`Invalid Version: ${Ss}`);if(Ss.length>ze$1)throw new TypeError(`version is longer than ${ze$1} characters`);h2("SemVer",Ss,Es),this.options=Es,this.loose=!!Es.loose,this.includePrerelease=!!Es.includePrerelease;let _s=Ss.trim().match(Es.loose?Ye$3[Qe$3.LOOSE]:Ye$3[Qe$3.FULL]);if(!_s)throw new TypeError(`Invalid Version: ${Ss}`);if(this.raw=Ss,this.major=+_s[1],this.minor=+_s[2],this.patch=+_s[3],this.major>oe$1||this.major<0)throw new TypeError("Invalid major version");if(this.minor>oe$1||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>oe$1||this.patch<0)throw new TypeError("Invalid patch version");_s[4]?this.prerelease=_s[4].split(".").map(Is=>{if(/^[0-9]+$/.test(Is)){let Ts=+Is;if(Ts>=0&&Ts<oe$1)return Ts}return Is}):this.prerelease=[],this.build=_s[5]?_s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(Ss){if(h2("SemVer.compare",this.version,this.options,Ss),!(Ss instanceof Pm)){if(typeof Ss=="string"&&Ss===this.version)return 0;Ss=new Pm(Ss,this.options)}return Ss.version===this.version?0:this.compareMain(Ss)||this.comparePre(Ss)}compareMain(Ss){return Ss instanceof Pm||(Ss=new Pm(Ss,this.options)),X2(this.major,Ss.major)||X2(this.minor,Ss.minor)||X2(this.patch,Ss.patch)}comparePre(Ss){if(Ss instanceof Pm||(Ss=new Pm(Ss,this.options)),this.prerelease.length&&!Ss.prerelease.length)return-1;if(!this.prerelease.length&&Ss.prerelease.length)return 1;if(!this.prerelease.length&&!Ss.prerelease.length)return 0;let Es=0;do{let _s=this.prerelease[Es],Is=Ss.prerelease[Es];if(h2("prerelease compare",Es,_s,Is),_s===void 0&&Is===void 0)return 0;if(Is===void 0)return 1;if(_s===void 0)return-1;if(_s!==Is)return X2(_s,Is)}while(++Es)}compareBuild(Ss){Ss instanceof Pm||(Ss=new Pm(Ss,this.options));let Es=0;do{let _s=this.build[Es],Is=Ss.build[Es];if(h2("prerelease compare",Es,_s,Is),_s===void 0&&Is===void 0)return 0;if(Is===void 0)return 1;if(_s===void 0)return-1;if(_s!==Is)return X2(_s,Is)}while(++Es)}inc(Ss,Es){switch(Ss){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",Es);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",Es);break;case"prepatch":this.prerelease.length=0,this.inc("patch",Es),this.inc("pre",Es);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",Es),this.inc("pre",Es);break;case"major":this.minor===0&&this.patch===0&&this.prerelease.length!==0||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":this.patch===0&&this.prerelease.length!==0||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let _s=this.prerelease.length;for(;--_s>=0;)typeof this.prerelease[_s]=="number"&&(this.prerelease[_s]++,_s=-2);_s===-1&&this.prerelease.push(0)}Es&&(this.prerelease[0]===Es?isNaN(this.prerelease[1])&&(this.prerelease=[Es,0]):this.prerelease=[Es,0]);break;default:throw new Error(`invalid increment argument: ${Ss}`)}return this.format(),this.raw=this.version,this}},dr$3=(ws,Ss,Es)=>new M$7(ws,Es).compare(new M$7(Ss,Es)),J2=dr$3,ur$2=(ws,Ss,Es)=>J2(ws,Ss,Es)===0,pr$3=ur$2,mr$3=(ws,Ss,Es)=>J2(ws,Ss,Es)!==0,hr$3=mr$3,Er$3=(ws,Ss,Es)=>J2(ws,Ss,Es)>0,fr$3=Er$3,gr$3=(ws,Ss,Es)=>J2(ws,Ss,Es)>=0,yr$3=gr$3,Rr$3=(ws,Ss,Es)=>J2(ws,Ss,Es)<0,vr$3=Rr$3,Tr$3=(ws,Ss,Es)=>J2(ws,Ss,Es)<=0,Ir$3=Tr$3,br$3=(ws,Ss,Es,_s)=>{switch(Ss){case"===":return typeof ws=="object"&&(ws=ws.version),typeof Es=="object"&&(Es=Es.version),ws===Es;case"!==":return typeof ws=="object"&&(ws=ws.version),typeof Es=="object"&&(Es=Es.version),ws!==Es;case"":case"=":case"==":return pr$3(ws,Es,_s);case"!=":return hr$3(ws,Es,_s);case">":return fr$3(ws,Es,_s);case">=":return yr$3(ws,Es,_s);case"<":return vr$3(ws,Es,_s);case"<=":return Ir$3(ws,Es,_s);default:throw new TypeError(`Invalid operator: ${Ss}`)}},Ne$2=br$3,z2=Symbol("SemVer ANY"),Y2=class F1{static get ANY(){return z2}constructor(Ss,Es){if(Es&&typeof Es=="object"||(Es={loose:!!Es,includePrerelease:!1}),Ss instanceof F1){if(Ss.loose===!!Es.loose)return Ss;Ss=Ss.value}h2("comparator",Ss,Es),this.options=Es,this.loose=!!Es.loose,this.parse(Ss),this.semver===z2?this.value="":this.value=this.operator+this.semver.version,h2("comp",this)}parse(Ss){let Es=this.options.loose?Ze$3[et$2.COMPARATORLOOSE]:Ze$3[et$2.COMPARATOR],_s=Ss.match(Es);if(!_s)throw new TypeError(`Invalid comparator: ${Ss}`);this.operator=_s[1]!==void 0?_s[1]:"",this.operator==="="&&(this.operator=""),_s[2]?this.semver=new M$7(_s[2],this.options.loose):this.semver=z2}toString(){return this.value}test(Ss){if(h2("Comparator.test",Ss,this.options.loose),this.semver===z2||Ss===z2)return!0;if(typeof Ss=="string")try{Ss=new M$7(Ss,this.options)}catch{return!1}return Ne$2(Ss,this.operator,this.semver,this.options)}intersects(Ss,Es){if(!(Ss instanceof F1))throw new TypeError("a Comparator is required");if(Es&&typeof Es=="object"||(Es={loose:!!Es,includePrerelease:!1}),this.operator==="")return this.value===""||new Q2(Ss.value,Es).test(this.value);if(Ss.operator==="")return Ss.value===""||new Q2(this.value,Es).test(Ss.semver);let _s=!(this.operator!==">="&&this.operator!==">"||Ss.operator!==">="&&Ss.operator!==">"),Is=!(this.operator!=="<="&&this.operator!=="<"||Ss.operator!=="<="&&Ss.operator!=="<"),Ts=this.semver.version===Ss.semver.version,Rs=!(this.operator!==">="&&this.operator!=="<="||Ss.operator!==">="&&Ss.operator!=="<="),Bs=Ne$2(this.semver,"<",Ss.semver,Es)&&(this.operator===">="||this.operator===">")&&(Ss.operator==="<="||Ss.operator==="<"),Ns=Ne$2(this.semver,">",Ss.semver,Es)&&(this.operator==="<="||this.operator==="<")&&(Ss.operator===">="||Ss.operator===">");return _s||Is||Ts&&Rs||Bs||Ns}},{re:Ze$3,t:et$2}=Z2,Q2=class Wm{constructor(Ss,Es){if(Es&&typeof Es=="object"||(Es={loose:!!Es,includePrerelease:!1}),Ss instanceof Wm)return Ss.loose===!!Es.loose&&Ss.includePrerelease===!!Es.includePrerelease?Ss:new Wm(Ss.raw,Es);if(Ss instanceof Y2)return this.raw=Ss.value,this.set=[[Ss]],this.format(),this;if(this.options=Es,this.loose=!!Es.loose,this.includePrerelease=!!Es.includePrerelease,this.raw=Ss,this.set=Ss.split(/\s*\|\|\s*/).map(_s=>this.parseRange(_s.trim())).filter(_s=>_s.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${Ss}`);this.format()}format(){return this.range=this.set.map(Ss=>Ss.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(Ss){let{loose:Es}=this.options;Ss=Ss.trim();let _s=Es?y2[E2.HYPHENRANGELOOSE]:y2[E2.HYPHENRANGE];Ss=Ss.replace(_s,kr$3(this.options.includePrerelease)),h2("hyphen replace",Ss),Ss=Ss.replace(y2[E2.COMPARATORTRIM],Pr$3),h2("comparator trim",Ss,y2[E2.COMPARATORTRIM]),Ss=(Ss=(Ss=Ss.replace(y2[E2.TILDETRIM],wr$3)).replace(y2[E2.CARETTRIM],Sr$3)).split(/\s+/).join(" ");let Is=Es?y2[E2.COMPARATORLOOSE]:y2[E2.COMPARATOR];return Ss.split(" ").map(Ts=>xr$3(Ts,this.options)).join(" ").split(/\s+/).map(Ts=>_r$3(Ts,this.options)).filter(this.options.loose?Ts=>!!Ts.match(Is):()=>!0).map(Ts=>new Y2(Ts,this.options))}intersects(Ss,Es){if(!(Ss instanceof Wm))throw new TypeError("a Range is required");return this.set.some(_s=>tt$3(_s,Es)&&Ss.set.some(Is=>tt$3(Is,Es)&&_s.every(Ts=>Is.every(Rs=>Ts.intersects(Rs,Es)))))}test(Ss){if(!Ss)return!1;if(typeof Ss=="string")try{Ss=new M$7(Ss,this.options)}catch{return!1}for(let Es=0;Es<this.set.length;Es++)if(Dr$3(this.set[Es],Ss,this.options))return!0;return!1}},{re:y2,t:E2,comparatorTrimReplace:Pr$3,tildeTrimReplace:wr$3,caretTrimReplace:Sr$3}=Z2,tt$3=(ws,Ss)=>{let Es=!0,_s=ws.slice(),Is=_s.pop();for(;Es&&_s.length;)Es=_s.every(Ts=>Is.intersects(Ts,Ss)),Is=_s.pop();return Es},xr$3=(ws,Ss)=>(h2("comp",ws,Ss),ws=Nr$3(ws,Ss),h2("caret",ws),ws=Mr$3(ws,Ss),h2("tildes",ws),ws=$r$3(ws,Ss),h2("xrange",ws),ws=Or$3(ws,Ss),h2("stars",ws),ws),T2=ws=>!ws||ws.toLowerCase()==="x"||ws==="*",Mr$3=(ws,Ss)=>ws.trim().split(/\s+/).map(Es=>Cr$3(Es,Ss)).join(" "),Cr$3=(ws,Ss)=>{let Es=Ss.loose?y2[E2.TILDELOOSE]:y2[E2.TILDE];return ws.replace(Es,(_s,Is,Ts,Rs,Bs)=>{let Ns;return h2("tilde",ws,_s,Is,Ts,Rs,Bs),T2(Is)?Ns="":T2(Ts)?Ns=`>=${Is}.0.0 <${+Is+1}.0.0-0`:T2(Rs)?Ns=`>=${Is}.${Ts}.0 <${Is}.${+Ts+1}.0-0`:Bs?(h2("replaceTilde pr",Bs),Ns=`>=${Is}.${Ts}.${Rs}-${Bs} <${Is}.${+Ts+1}.0-0`):Ns=`>=${Is}.${Ts}.${Rs} <${Is}.${+Ts+1}.0-0`,h2("tilde return",Ns),Ns})},Nr$3=(ws,Ss)=>ws.trim().split(/\s+/).map(Es=>Ar$3(Es,Ss)).join(" "),Ar$3=(ws,Ss)=>{h2("caret",ws,Ss);let Es=Ss.loose?y2[E2.CARETLOOSE]:y2[E2.CARET],_s=Ss.includePrerelease?"-0":"";return ws.replace(Es,(Is,Ts,Rs,Bs,Ns)=>{let Ws;return h2("caret",ws,Is,Ts,Rs,Bs,Ns),T2(Ts)?Ws="":T2(Rs)?Ws=`>=${Ts}.0.0${_s} <${+Ts+1}.0.0-0`:T2(Bs)?Ws=Ts==="0"?`>=${Ts}.${Rs}.0${_s} <${Ts}.${+Rs+1}.0-0`:`>=${Ts}.${Rs}.0${_s} <${+Ts+1}.0.0-0`:Ns?(h2("replaceCaret pr",Ns),Ws=Ts==="0"?Rs==="0"?`>=${Ts}.${Rs}.${Bs}-${Ns} <${Ts}.${Rs}.${+Bs+1}-0`:`>=${Ts}.${Rs}.${Bs}-${Ns} <${Ts}.${+Rs+1}.0-0`:`>=${Ts}.${Rs}.${Bs}-${Ns} <${+Ts+1}.0.0-0`):(h2("no pr"),Ws=Ts==="0"?Rs==="0"?`>=${Ts}.${Rs}.${Bs}${_s} <${Ts}.${Rs}.${+Bs+1}-0`:`>=${Ts}.${Rs}.${Bs}${_s} <${Ts}.${+Rs+1}.0-0`:`>=${Ts}.${Rs}.${Bs} <${+Ts+1}.0.0-0`),h2("caret return",Ws),Ws})},$r$3=(ws,Ss)=>(h2("replaceXRanges",ws,Ss),ws.split(/\s+/).map(Es=>Lr$3(Es,Ss)).join(" ")),Lr$3=(ws,Ss)=>{ws=ws.trim();let Es=Ss.loose?y2[E2.XRANGELOOSE]:y2[E2.XRANGE];return ws.replace(Es,(_s,Is,Ts,Rs,Bs,Ns)=>{h2("xRange",ws,_s,Is,Ts,Rs,Bs,Ns);let Ws=T2(Ts),Js=Ws||T2(Rs),$l=Js||T2(Bs),wl=$l;return Is==="="&&wl&&(Is=""),Ns=Ss.includePrerelease?"-0":"",Ws?_s=Is===">"||Is==="<"?"<0.0.0-0":"*":Is&&wl?(Js&&(Rs=0),Bs=0,Is===">"?(Is=">=",Js?(Ts=+Ts+1,Rs=0,Bs=0):(Rs=+Rs+1,Bs=0)):Is==="<="&&(Is="<",Js?Ts=+Ts+1:Rs=+Rs+1),Is==="<"&&(Ns="-0"),_s=`${Is+Ts}.${Rs}.${Bs}${Ns}`):Js?_s=`>=${Ts}.0.0${Ns} <${+Ts+1}.0.0-0`:$l&&(_s=`>=${Ts}.${Rs}.0${Ns} <${Ts}.${+Rs+1}.0-0`),h2("xRange return",_s),_s})},Or$3=(ws,Ss)=>(h2("replaceStars",ws,Ss),ws.trim().replace(y2[E2.STAR],"")),_r$3=(ws,Ss)=>(h2("replaceGTE0",ws,Ss),ws.trim().replace(y2[Ss.includePrerelease?E2.GTE0PRE:E2.GTE0],"")),kr$3=ws=>(Ss,Es,_s,Is,Ts,Rs,Bs,Ns,Ws,Js,$l,wl,_l)=>`${Es=T2(_s)?"":T2(Is)?`>=${_s}.0.0${ws?"-0":""}`:T2(Ts)?`>=${_s}.${Is}.0${ws?"-0":""}`:Rs?`>=${Es}`:`>=${Es}${ws?"-0":""}`} ${Ns=T2(Ws)?"":T2(Js)?`<${+Ws+1}.0.0-0`:T2($l)?`<${Ws}.${+Js+1}.0-0`:wl?`<=${Ws}.${Js}.${$l}-${wl}`:ws?`<${Ws}.${Js}.${+$l+1}-0`:`<=${Ns}`}`.trim(),Dr$3=(ws,Ss,Es)=>{for(let _s=0;_s<ws.length;_s++)if(!ws[_s].test(Ss))return!1;if(Ss.prerelease.length&&!Es.includePrerelease){for(let _s=0;_s<ws.length;_s++)if(h2(ws[_s].semver),ws[_s].semver!==Y2.ANY&&ws[_s].semver.prerelease.length>0){let Is=ws[_s].semver;if(Is.major===Ss.major&&Is.minor===Ss.minor&&Is.patch===Ss.patch)return!0}return!1}return!0},ot$2=(ws,Ss,Es)=>{try{Ss=new Q2(Ss,Es)}catch{return!1}return Ss.test(ws)},{MAX_LENGTH:qr$3}=Ae$2,{re:rt$3,t:nt$3}=Z2,Ur$3=(ws,Ss)=>{if(Ss&&typeof Ss=="object"||(Ss={loose:!!Ss,includePrerelease:!1}),ws instanceof M$7)return ws;if(typeof ws!="string"||ws.length>qr$3||!(Ss.loose?rt$3[nt$3.LOOSE]:rt$3[nt$3.FULL]).test(ws))return null;try{return new M$7(ws,Ss)}catch{return null}},Fr$2=Ur$3,{re:ie$1,t:ae$3}=Z2,it$3=(ws,Ss)=>{if(ws instanceof M$7)return ws;if(typeof ws=="number"&&(ws=String(ws)),typeof ws!="string")return null;let Es=null;if((Ss=Ss||{}).rtl){let _s;for(;(_s=ie$1[ae$3.COERCERTL].exec(ws))&&(!Es||Es.index+Es[0].length!==ws.length);)Es&&_s.index+_s[0].length===Es.index+Es[0].length||(Es=_s),ie$1[ae$3.COERCERTL].lastIndex=_s.index+_s[1].length+_s[2].length;ie$1[ae$3.COERCERTL].lastIndex=-1}else Es=ws.match(ie$1[ae$3.COERCE]);return Es===null?null:Fr$2(`${Es[2]}.${Es[3]||"0"}.${Es[4]||"0"}`,Ss)},m2={},dt$4={"magic-sdk":"magic-sdk","@magic-sdk/react-native":"magic-sdk-rn","@magic-sdk/react-native-bare":"magic-sdk-rn-bare","@magic-sdk/react-native-expo":"magic-sdk-rn-expo"},$$3=class U1 extends Error{constructor(Es,_s){super(`Magic SDK Error: [${Es}] ${_s}`);cp(this,"__proto__",Error);this.code=Es,this.rawMessage=_s,Object.setPrototypeOf(this,U1.prototype)}},U2=class V1 extends Error{constructor(Es){super();cp(this,"__proto__",Error);cp(this,"code");cp(this,"rawMessage");cp(this,"data");let _s=Number(Es==null?void 0:Es.code);this.rawMessage=(Es==null?void 0:Es.message)||"Internal error",this.code=lt$3(_s)?_s:u$5.InternalError,this.message=`Magic RPC Error: [${this.code}] ${this.rawMessage}`,this.data=(Es==null?void 0:Es.data)||void 0,Object.setPrototypeOf(this,V1.prototype)}},L2=class{constructor(ws,Ss){cp(this,"message");this.code=ws,this.rawMessage=Ss,this.message=`Magic SDK Warning: [${ws}] ${Ss}`}log(){console.warn(this.message)}},de$2=class z1 extends Error{constructor(Es,_s,Is,Ts){super(`Magic Extension Error (${Es.name}): [${_s}] ${Is}`);cp(this,"__proto__",Error);this.code=_s,this.rawMessage=Is,this.data=Ts,Object.setPrototypeOf(this,z1.prototype)}},te$3=class{constructor(ws,Ss,Es){cp(this,"message");this.code=Ss,this.rawMessage=Es,this.message=`Magic Extension Warning (${ws.name}): [${Ss}] ${Es}`}log(){console.warn(this.message)}},Yr$2=zr$2(),me$4={},rr$3(me$4,{clear:()=>Qr$3,getItem:()=>R2,iterate:()=>Le$3,key:()=>en$4,keys:()=>tn$3,length:()=>Zr$3,removeItem:()=>A2,setItem:()=>S2}),R2=O2("getItem"),S2=O2("setItem"),A2=O2("removeItem"),Qr$3=O2("clear"),Zr$3=O2("length"),en$4=O2("key"),tn$3=O2("keys"),Le$3=O2("iterate"),Oe$3="STORE_KEY_PRIVATE_KEY",he$3="STORE_KEY_PUBLIC_JWK",It$5="ECDSA",rn$3="P-256",nn$3={name:It$5,namedCurve:rn$3},St$5=Symbol("Payload pre-processed by Magic SDK"),K$6=class j1{constructor(Ss){cp(this,"_jsonrpc");cp(this,"_id");cp(this,"_result");cp(this,"_error");Ss instanceof j1?(this._jsonrpc=Ss.payload.jsonrpc,this._id=Ss.payload.id,this._result=Ss.payload.result,this._error=Ss.payload.error):ct$3(Ss)?(this._jsonrpc=Ss.jsonrpc,this._id=Ss.id,this._result=Ss.result,this._error=Ss.error):(this._jsonrpc=Ss.jsonrpc,this._id=Ss.id,this._result=void 0,this._error=void 0)}applyError(Ss){return this._error=Ss,this}applyResult(Ss){return this._result=Ss,this}get hasError(){var Ss;return((Ss=this._error)==null?void 0:Ss.code)===u$5.DpopInvalidated&&bt$3(),typeof this._error<"u"&&this._error!==null}get hasResult(){return typeof this._result<"u"}get payload(){return{jsonrpc:this._jsonrpc,id:this._id,result:this._result,error:this._error}}},Nt$4=sr$2(Ct$4()),ke$3=class extends Nt$4.default{},At$3=Symbol("isPromiEvent"),f2=class{constructor(ws){this.sdk=ws}get overlay(){return this.sdk.overlay}request(ws){if(this.sdk.thirdPartyWallets.isConnected&&!Z$3.includes(ws.method))return b2((Is,Ts)=>{this.sdk.thirdPartyWallets.requestOverride(ws).then(Is).catch(Ts)});let Ss=this.overlay.post(y$7.MAGIC_HANDLE_REQUEST,F2(ws)),Es=b2((Is,Ts)=>{Ss.then(Rs=>{if(_s(),Rs.hasError)Ts(new U2(Rs.payload.error));else if(Rs.hasResult)Is(Rs.payload.result);else throw mt$3()}).catch(Rs=>{_s(),Ts(Rs)})}),_s=this.overlay.on(E$6.MAGIC_HANDLE_EVENT,Is=>{var Rs;let{response:Ts}=Is.data;if(Ts.id===ws.id&&((Rs=Ts.result)!=null&&Rs.event)){let{event:Bs,params:Ns=[]}=Ts.result;Es.emit(Bs,...Ns)}});return Es}createIntermediaryEvent(ws,Ss){return Es=>{let _s=p$5(g$6.IntermediaryEvent,[{payloadId:Ss,eventType:ws,args:Es}]);this.request(_s)}}},vn$3={"magic-sdk":"v18.0.0","@magic-sdk/react-native":"v14.0.0","@magic-sdk/react-native-bare":"v19.0.0","@magic-sdk/react-native-expo":"v19.0.0"},ye$3=class extends f2{loginWithMagicLink(ws){let Ss=m2.sdkName==="@magic-sdk/react-native"||m2.sdkName==="@magic-sdk/react-native-bare"||m2.sdkName==="@magic-sdk/react-native-expo";if(Ss&&Lt$4(m2.version,19))throw new Error("loginWithMagicLink() is deprecated for this package, please utilize a passcode method like loginWithSMS or loginWithEmailOTP instead.");Ss&&Rt$5({method:"auth.loginWithMagicLink()",removalVersions:vn$3,useInstead:"auth.loginWithEmailOTP()"}).log();let{email:Es,showUI:_s=!0,redirectURI:Is,overrides:Ts,lifespan:Rs}=ws,Bs=p$5(this.sdk.testMode?g$6.LoginWithMagicLinkTestMode:g$6.LoginWithMagicLink,[{email:Es,showUI:_s,redirectURI:Is,overrides:Ts,lifespan:Rs}]);return this.request(Bs)}loginWithSMS(ws){let{phoneNumber:Ss,showUI:Es=!0,lifespan:_s}=ws,Is=p$5(this.sdk.testMode?g$6.LoginWithSmsTestMode:g$6.LoginWithSms,[{phoneNumber:Ss,showUI:Es,lifespan:_s}]),Ts=this.request(Is);return!Es&&Ts&&(Ts.on(N$8.VerifySmsOtp,Rs=>{this.createIntermediaryEvent(N$8.VerifySmsOtp,Is.id)(Rs)}),Ts.on(N$8.Cancel,()=>{this.createIntermediaryEvent(N$8.Cancel,Is.id)()})),Ts}loginWithEmailOTP(ws){let{email:Ss,showUI:Es,deviceCheckUI:_s,overrides:Is,lifespan:Ts}=ws,Rs=p$5(this.sdk.testMode?g$6.LoginWithEmailOTPTestMode:g$6.LoginWithEmailOTP,[{email:Ss,showUI:Es,deviceCheckUI:_s,overrides:Is,lifespan:Ts}]),Bs=this.request(Rs);return!_s&&Bs&&Bs.on(O$8.Retry,()=>{this.createIntermediaryEvent(O$8.Retry,Rs.id)()}),!Es&&Bs&&(Bs.on(I$5.VerifyEmailOtp,Ns=>{this.createIntermediaryEvent(I$5.VerifyEmailOtp,Rs.id)(Ns)}),Bs.on(I$5.VerifyMFACode,Ns=>{this.createIntermediaryEvent(I$5.VerifyMFACode,Rs.id)(Ns)}),Bs.on(I$5.LostDevice,()=>{this.createIntermediaryEvent(I$5.LostDevice,Rs.id)()}),Bs.on(I$5.VerifyRecoveryCode,Ns=>{this.createIntermediaryEvent(I$5.VerifyRecoveryCode,Rs.id)(Ns)}),Bs.on(I$5.Cancel,()=>{this.createIntermediaryEvent(I$5.Cancel,Rs.id)()})),Bs}loginWithCredential(ws){let{credentialOrQueryString:Ss,lifespan:Es}=ws||{},_s=Ss??"";if(!Ss&&m2.platform==="web"){_s=window.location.search;let Ts=window.location.origin+window.location.pathname;window.history.replaceState(null,"",Ts)}let Is=p$5(this.sdk.testMode?g$6.LoginWithCredentialTestMode:g$6.LoginWithCredential,[_s,Es]);return this.request(Is)}setAuthorizationToken(ws){let Ss=p$5(g$6.SetAuthorizationToken,[{jwt:ws}]);return this.request(Ss)}updateEmailWithUI(ws){let{email:Ss,showUI:Es=!0}=ws,_s=p$5(this.sdk.testMode?g$6.UpdateEmailTestMode:g$6.UpdateEmail,[{email:Ss,showUI:Es}]),Is=this.request(_s);return Es||(Is.on(b$7.Retry,()=>{this.createIntermediaryEvent(b$7.Retry,_s.id)()}),Is.on(b$7.Cancel,()=>{this.createIntermediaryEvent(b$7.Cancel,_s.id)()}),Is.on(b$7.VerifyEmailOtp,Ts=>{this.createIntermediaryEvent(b$7.VerifyEmailOtp,_s.id)(Ts)}),Is.on(b$7.VerifyMFACode,Ts=>{this.createIntermediaryEvent(b$7.VerifyMFACode,_s.id)(Ts)}),Is.on(F$5.RetryWithNewEmail,Ts=>{this.createIntermediaryEvent(F$5.RetryWithNewEmail,_s.id)(Ts)}),Is.on(F$5.Cancel,()=>{this.createIntermediaryEvent(F$5.Cancel,_s.id)()}),Is.on(F$5.VerifyEmailOtp,Ts=>{this.createIntermediaryEvent(F$5.VerifyEmailOtp,_s.id)(Ts)})),Is}},qe$3="ds",Ue$3="ek",Fe$2="iv",We$2="AES-GCM",Tn$3=256,Te$2=class extends f2{constructor(){super(...arguments);cp(this,"localForageIsLoggedInKey","magic_auth_is_logged_in");cp(this,"userLoggedOutCallbacks",[])}getIdToken(Ss){let Es=p$5(this.sdk.testMode?g$6.GetIdTokenTestMode:g$6.GetIdToken,[Ss]);return this.request(Es)}generateIdToken(Ss){let Es=p$5(this.sdk.testMode?g$6.GenerateIdTokenTestMode:g$6.GenerateIdToken,[Ss]);return this.request(Es)}getInfo(){let Ss=p$5(g$6.GetInfo,[]);return this.request(Ss)}isLoggedIn(){return b2(async(Ss,Es)=>{try{let _s=!1;this.sdk.useStorageCache&&(_s=await R2(this.localForageIsLoggedInKey)==="true",_s&&Ss(!0));let Is=p$5(this.sdk.testMode?g$6.IsLoggedInTestMode:g$6.IsLoggedIn),Ts=await this.request(Is);this.sdk.useStorageCache&&(Ts?S2(this.localForageIsLoggedInKey,!0):A2(this.localForageIsLoggedInKey),_s&&!Ts&&this.emitUserLoggedOut(!0)),Ss(Ts)}catch(_s){Es(_s)}})}logout(){return A2(this.localForageIsLoggedInKey),Re$2(),b2(async(Ss,Es)=>{try{let _s=p$5(this.sdk.testMode?g$6.LogoutTestMode:g$6.Logout),Is=await this.request(_s);this.sdk.useStorageCache&&this.emitUserLoggedOut(Is),Ss(Is)}catch(_s){Es(_s)}})}requestInfoWithUI(Ss){let Es=p$5(g$6.RequestUserInfoWithUI,Ss?[Ss]:[]);return this.request(Es)}showSettings(Ss){let{showUI:Es=!0}=Ss||{},_s=p$5(this.sdk.testMode?g$6.UserSettingsTestMode:g$6.UserSettings,[Ss]),Is=this.request(_s);return!Es&&Is&&(Is.on(Y$5.SendNewPhoneNumber,Ts=>{this.createIntermediaryEvent(Y$5.SendNewPhoneNumber,_s.id)(Ts)}),Is.on(Y$5.SendOtpCode,Ts=>{this.createIntermediaryEvent(Y$5.SendOtpCode,_s.id)(Ts)}),Is.on(Y$5.StartEditPhoneNumber,()=>{this.createIntermediaryEvent(Y$5.StartEditPhoneNumber,_s.id)()}),Is.on(Y$5.Cancel,()=>{this.createIntermediaryEvent(Y$5.Cancel,_s.id)()}),Is.on(b$7.VerifyEmailOtp,Ts=>{this.createIntermediaryEvent(b$7.VerifyEmailOtp,_s.id)(Ts)})),Is}recoverAccount(Ss){let{email:Es,showUI:_s}=Ss,Is=p$5(this.sdk.testMode?g$6.RecoverAccountTestMode:g$6.RecoverAccount,[{email:Es,showUI:_s}]),Ts=this.request(Is);return!_s&&Ts&&(Ts.on(j$5.Cancel,()=>{this.createIntermediaryEvent(j$5.Cancel,Is.id)()}),Ts.on(j$5.ResendSms,()=>{this.createIntermediaryEvent(j$5.ResendSms,Is.id)()}),Ts.on(j$5.VerifyOtp,Rs=>{this.createIntermediaryEvent(j$5.VerifyOtp,Is.id)(Rs)}),Ts.on(j$5.UpdateEmail,Rs=>{this.createIntermediaryEvent(j$5.UpdateEmail,Is.id)(Rs)}),Ts.on(F$5.Cancel,()=>{this.createIntermediaryEvent(F$5.Cancel,Is.id)()}),Ts.on(F$5.RetryWithNewEmail,Rs=>{this.createIntermediaryEvent(F$5.RetryWithNewEmail,Is.id)(Rs)}),Ts.on(F$5.VerifyEmailOtp,Rs=>{this.createIntermediaryEvent(F$5.VerifyEmailOtp,Is.id)(Rs)})),Ts}revealPrivateKey(){let Ss=p$5(g$6.RevealPK);return this.request(Ss)}onUserLoggedOut(Ss){this.userLoggedOutCallbacks.push(Ss)}enableMFA(Ss){let{showUI:Es=!0}=Ss,_s=p$5(g$6.EnableMFA,[{showUI:Es}]),Is=this.request(_s);return!Es&&Is&&(Is.on(D$5.VerifyMFACode,Ts=>{this.createIntermediaryEvent(D$5.VerifyMFACode,_s.id)(Ts)}),Is.on(D$5.Cancel,()=>{this.createIntermediaryEvent(D$5.Cancel,_s.id)()})),Is}disableMFA(Ss){let{showUI:Es=!0}=Ss,_s=p$5(g$6.DisableMFA,[{showUI:Es}]),Is=this.request(_s);return!Es&&Is&&(Is.on(G$6.VerifyMFACode,Ts=>{this.createIntermediaryEvent(G$6.VerifyMFACode,_s.id)(Ts)}),Is.on(G$6.LostDevice,Ts=>{this.createIntermediaryEvent(G$6.LostDevice,_s.id)(Ts)}),Is.on(G$6.Cancel,()=>{this.createIntermediaryEvent(G$6.Cancel,_s.id)()})),Is}emitUserLoggedOut(Ss){this.userLoggedOutCallbacks.forEach(Es=>{Es(Ss)})}},Ie$2=class extends f2{connectWithUI(ws){let Ss=b2(async(Es,_s)=>{try{let Is=p$5(g$6.Login,[{enabledWallets:this.sdk.thirdPartyWallets.enabledWallets,...ws}]),Ts=this.request(Is);this.sdk.thirdPartyWallets.eventListeners.forEach(({event:Bs,callback:Ns})=>{Ts.on(Bs,()=>Ns(Is.id))}),Ts.on("id-token-created",Bs=>{Ss.emit("id-token-created",Bs)});let Rs=await Ts;Rs.error&&_s(Rs),Es(Rs)}catch(Is){_s(Is)}});return Ss}showUI(ws){return this.request(p$5(g$6.ShowUI,[ws]))}showAddress(){return this.request(p$5(g$6.ShowAddress))}showSendTokensUI(){return this.request(p$5(g$6.ShowSendTokensUI))}showOnRamp(){return this.request(p$5(g$6.ShowOnRamp))}showNFTs(){return this.request(p$5(g$6.ShowNFTs))}showBalances(){return this.request(p$5(g$6.ShowBalances))}sendGaslessTransaction(ws,Ss){return this.request(p$5(g$6.SendGaslessTransaction,[ws,Ss]))}},Pe$3=class extends f2{constructor(){super(...arguments);cp(this,"eventListeners",[]);cp(this,"enabledWallets",{});cp(this,"isConnected",!1)}resetThirdPartyWalletState(){localStorage.removeItem(_$5.PROVIDER),localStorage.removeItem(_$5.ADDRESS),localStorage.removeItem(_$5.CHAIN_ID),this.isConnected=!1}requestOverride(Ss){if(Ss.method===g$6.Login)return this.resetThirdPartyWalletState(),super.request(Ss);if(Ss.method===g$6.GetInfo)return this.getInfo(Ss);if(Ss.method===g$6.IsLoggedIn)return this.isLoggedIn(Ss);if(Ss.method===g$6.Logout)return this.logout(Ss);switch(localStorage.getItem(_$5.PROVIDER)){case"web3modal":return this.web3modalRequest(Ss);default:return this.resetThirdPartyWalletState(),super.request(Ss)}}isLoggedIn(Ss){switch(localStorage.getItem(_$5.PROVIDER)){case"web3modal":return this.web3modalIsLoggedIn();default:return this.resetThirdPartyWalletState(),super.request(Ss)}}getInfo(Ss){switch(localStorage.getItem(_$5.PROVIDER)){case"web3modal":return this.web3modalGetInfo();default:return this.resetThirdPartyWalletState(),super.request(Ss)}}logout(Ss){let Es=localStorage.getItem(_$5.PROVIDER);switch(this.resetThirdPartyWalletState(),Es){case"web3modal":return this.web3modalLogout();default:return super.request(Ss)}}web3modalRequest(Ss){return b2((Es,_s)=>{this.sdk.web3modal.modal.getWalletProvider().request(Ss).then(Es).catch(_s)})}web3modalIsLoggedIn(){return b2(Ss=>{let Es=this.sdk.web3modal.modal.getStatus();if(Es==="connected"&&Ss(!0),Es==="disconnected"&&(this.resetThirdPartyWalletState(),Ss(!1)),Es==="reconnecting"){let _s=this.sdk.web3modal.modal.subscribeProvider(({status:Is})=>{Is==="connected"&&(_s(),Ss(!0)),Is==="disconnected"&&(_s(),this.resetThirdPartyWalletState(),Ss(!1))})}})}formatWeb3modalGetInfoResponse(){var _s;let Ss=(_s=this.sdk.web3modal.modal.getWalletInfo())==null?void 0:_s.name,Es=this.sdk.web3modal.modal.getAddress();return{publicAddress:Es,email:null,issuer:`did:ethr:${Es}`,phoneNumber:null,isMfaEnabled:!1,recoveryFactors:[],walletType:Ss||"web3modal",firstLoginAt:null}}web3modalGetInfo(){return b2((Ss,Es)=>{let _s=this.sdk.web3modal.modal.getStatus();if(_s==="connected"&&Ss(this.formatWeb3modalGetInfoResponse()),_s==="disconnected"&&(this.resetThirdPartyWalletState(),Es("Magic RPC Error: [-32603] Internal error: User denied account access.")),_s==="reconnecting"){let Is=this.sdk.web3modal.modal.subscribeProvider(({status:Ts})=>{Ts==="connected"&&(Is(),Ss(this.formatWeb3modalGetInfoResponse())),Ts==="disconnected"&&(Is(),this.resetThirdPartyWalletState(),Es("Magic RPC Error: [-32603] Internal error: User denied account access."))})}})}web3modalLogout(){return b2(async Ss=>{try{await this.sdk.web3modal.modal.disconnect()}catch(Es){console.error(Es)}Ss(!0)})}},{createBoundEmitterMethod:we$4,createChainingEmitterMethod:H2}=fe$4(),Se$3=class extends f2{constructor(){super(...arguments);cp(this,"isMagic",!0);cp(this,"on",H2("on",this));cp(this,"once",H2("once",this));cp(this,"addListener",H2("addListener",this));cp(this,"off",H2("off",this));cp(this,"removeListener",H2("removeListener",this));cp(this,"removeAllListeners",H2("removeAllListeners",this));cp(this,"emit",we$4("emit"));cp(this,"eventNames",we$4("eventNames"));cp(this,"listeners",we$4("listeners"));cp(this,"listenerCount",we$4("listenerCount"))}sendAsync(Ss,Es){if(!Es)throw ft$3({procedure:"Magic.rpcProvider.sendAsync",argument:1,expected:"function",received:Es===null?"null":typeof Es});if(Array.isArray(Ss))this.overlay.post(y$7.MAGIC_HANDLE_REQUEST,Ss.map(_s=>{let Is=F2(_s);return this.prefixPayloadMethodForTestMode(Is),Is})).then(_s=>{Es(null,_s.map(Is=>({...Is.payload,error:Is.hasError?new U2(Is.payload.error):null})))});else{let _s=F2(Ss);this.prefixPayloadMethodForTestMode(_s),this.overlay.post(y$7.MAGIC_HANDLE_REQUEST,_s).then(Is=>{Es(Is.hasError?new U2(Is.payload.error):null,Is.payload)})}}send(Ss,Es){if(typeof Ss=="string"){let Is=p$5(Ss,Array.isArray(Es)?Es:[]);return this.request(Is)}if(Array.isArray(Ss)||Es){this.sendAsync(Ss,Es);return}let _s=gt$4();return _s.log(),new K$6(Ss).applyError({code:-32603,message:_s.rawMessage}).payload}enable(){let Ss=p$5(g$6.Login);return this.request(Ss)}request(Ss){return this.prefixPayloadMethodForTestMode(Ss),super.request(Ss)}prefixPayloadMethodForTestMode(Ss){let Es="testMode/eth/";this.sdk.testMode&&(Ss.method=`${Es}${Ss.method}`)}},Me$4=class extends f2{purchase(ws){let Ss=p$5(g$6.NFTPurchase,[ws]);return this.request(Ss)}checkout(ws){let Ss=this.sdk.thirdPartyWallets.isConnected,Es=p$5(g$6.NFTCheckout,[{...ws,walletProvider:Ss?"web3modal":"magic"}]),_s=this.request(Es);return Ss&&(_s.on(Q$5.Initiated,async Is=>{try{let Ts=await this.request({method:"eth_sendTransaction",params:[Is]});this.createIntermediaryEvent(Q$5.Success,Es.id)(Ts)}catch{this.createIntermediaryEvent(Q$5.Failure,Es.id)()}}),_s.on(Q$5.Disconnect,()=>{this.sdk.thirdPartyWallets.resetThirdPartyWalletState(),_s.emit("disconnect")})),_s}transfer(ws){let Ss=p$5(g$6.NFTTransfer,[ws]);return this.request(Ss)}},Ke$3=(vs=class{constructor(Ss,Es){cp(this,"endpoint");cp(this,"parameters");cp(this,"networkHash");cp(this,"testMode");cp(this,"useStorageCache");cp(this,"auth");cp(this,"user");cp(this,"wallet");cp(this,"nft");cp(this,"thirdPartyWallets");cp(this,"rpcProvider");if(this.apiKey=Ss,!Ss)throw ut$4();m2.platform==="react-native"&&(Es!=null&&Es.endpoint)&&yt$2().log();let{defaultEndpoint:_s,version:Is}=m2;this.testMode=!!(Es!=null&&Es.testMode),this.useStorageCache=!!(Es!=null&&Es.useStorageCache),this.endpoint=Je$2((Es==null?void 0:Es.endpoint)??_s).origin,this.auth=new ye$3(this),this.user=new Te$2(this),this.wallet=new Ie$2(this),this.nft=new Me$4(this),this.thirdPartyWallets=new Pe$3(this),this.rpcProvider=new Se$3(this);let Ts=Sn$3.call(this,Es);this.parameters=ce$2({API_KEY:this.apiKey,DOMAIN_ORIGIN:typeof window<"u"&&(window!=null&&window.location)?window==null?void 0:window.location.origin:"",ETH_NETWORK:Es==null?void 0:Es.network,host:Je$2(this.endpoint).host,sdk:dt$4[m2.sdkName],version:Is,ext:ee$3(Ts)?void 0:Ts,locale:(Es==null?void 0:Es.locale)||"en_US",authConfig:Es!=null&&Es.authConfig?{...Es.authConfig}:void 0,...m2.bundleId?{bundleId:m2.bundleId}:{},meta:Es==null?void 0:Es.meta}),this.networkHash=wn$2(this.apiKey,Es==null?void 0:Es.network,ee$3(Ts)?void 0:Ts),Es!=null&&Es.deferPreload||this.preload()}get overlay(){if(!vs.__overlays__.has(this.parameters)){let Ss=new m2.ViewController(this.endpoint,this.parameters,this.networkHash);Ss.init(),vs.__overlays__.set(this.parameters,Ss)}return vs.__overlays__.get(this.parameters)}async preload(){await this.overlay.waitForReady()}},cp(vs,"__overlays__",new Map),vs),Nn$3=1e3,Bt$4=60*Nn$3,Vt$3=5*Bt$4,An$3=60*Bt$4,je$2=class{constructor(ws,Ss,Es){cp(this,"isReadyForRequest",!1);cp(this,"messageHandlers",new Set);cp(this,"isConnectedToInternet",!0);cp(this,"lastPongTime",null);cp(this,"heartbeatIntervalTimer",null);cp(this,"heartbeatDebounce",jt$4(()=>{this.endpoint==="https://auth.magic.link/"&&this.heartBeatCheck()},An$3));this.endpoint=ws,this.parameters=Ss,this.networkHash=Es,this.listen()}async post(ws,Ss){return De$4(async(Es,_s)=>{if(!this.isConnectedToInternet){let Ws=pt$2();_s(Ws)}await this.checkRelayerExistsInDOM()||(this.isReadyForRequest=!1,await this.reloadRelayer()),this.isReadyForRequest||await this.waitForReady();let Is=[],Ts=Array.isArray(Ss)?Ss.map(Ws=>Ws.id):[],Rs=await Gt$3(`${ws}-${this.parameters}`,Ss,this.networkHash);await this._post(Rs);let Bs=Ws=>Js=>{var _l;let{id:$l,response:wl}=Jt$3(Ss,Js);if(Kt$3(Js),((_l=wl==null?void 0:wl.payload.error)==null?void 0:_l.message)==="User denied account access.")Re$2();else if(Js.data.deviceShare){let{deviceShare:Cl}=Js.data;Dt$3(Cl,this.networkHash)}$l&&wl&&Array.isArray(Ss)&&Ts.includes($l)?(Is.push(wl),Is.length===Ss.length&&(Ws(),Es(Is))):$l&&wl&&!Array.isArray(Ss)&&$l===Ss.id&&(Ws(),Es(wl))},Ns=this.on(E$6.MAGIC_HANDLE_RESPONSE,Bs(()=>Ns()))})}on(ws,Ss){let Es=Ss.bind(window),_s=Is=>{Is.data.msgType===`${ws}-${this.parameters}`&&Es(Is)};return this.messageHandlers.add(_s),()=>this.messageHandlers.delete(_s)}waitForReady(){return new Promise(ws=>{let Ss=this.on(E$6.MAGIC_OVERLAY_READY,()=>{this.isReadyForRequest=!0,ws(),Ss()})})}listen(){this.on(E$6.MAGIC_HIDE_OVERLAY,()=>{this.hideOverlay()}),this.on(E$6.MAGIC_SHOW_OVERLAY,()=>{this.showOverlay()}),this.on(E$6.MAGIC_SEND_PRODUCT_ANNOUNCEMENT,ws=>{ws.data.response.result.product_announcement&&new L2(v$a.ProductAnnouncement,ws.data.response.result.product_announcement).log()})}heartBeatCheck(){let ws=!0,Ss=async()=>{let Es={msgType:`${y$7.MAGIC_PING}-${this.parameters}`,payload:[]};await this._post(Es)};this.heartbeatIntervalTimer=setInterval(async()=>{if(this.lastPongTime){if(Date.now()-this.lastPongTime>Vt$3*2){this.reloadRelayer(),ws=!0;return}}else if(!ws){this.reloadRelayer(),ws=!0;return}await Ss(),ws=!1},Vt$3)}stopHeartBeat(){this.heartbeatDebounce(),this.lastPongTime=null,this.heartbeatIntervalTimer&&(clearInterval(this.heartbeatIntervalTimer),this.heartbeatIntervalTimer=null)}},Ht$3=["request","overlay","sdk"],Ve$3=class extends f2{constructor(){super(void 0);cp(this,"compat");cp(this,"__sdk_access_field_descriptors__",new Map);cp(this,"__is_initialized__",!1);cp(this,"utils",{createPromiEvent:b2,isPromiEvent:$t$3,encodeJSON:ce$2,decodeJSON:at$2,createJsonRpcRequestPayload:p$5,standardizeJsonRpcRequestPayload:F2,storage:me$4});let Ss=[this,...$n$3(this)];Ht$3.forEach(Es=>{let _s=Ss.map(Bs=>Object.getOwnPropertyDescriptor(Bs,Es)),Is=_s.findIndex(Bs=>!!Bs),Ts=Is>0,Rs=_s[Is];Rs&&(this.__sdk_access_field_descriptors__.set(Es,{descriptor:Rs,isPrototypeField:Ts}),Object.defineProperty(this,Es,{configurable:!0,get:()=>{throw ht$3(Es)}}))})}init(Ss){this.__is_initialized__||(Ht$3.forEach(Es=>{if(this.__sdk_access_field_descriptors__.has(Es)){let{descriptor:_s,isPrototypeField:Is}=this.__sdk_access_field_descriptors__.get(Es);Is?delete this[Es]:Object.defineProperty(this,Es,_s)}}),this.sdk=Ss,this.__is_initialized__=!0)}createDeprecationWarning(Ss){let{method:Es,removalVersion:_s,useInstead:Is}=Ss,Ts=Is?` Use \`${Is}\` instead.`:"",Rs=`\`${Es}\` will be removed from this Extension in version \`${_s}\`.${Ts}`;return new te$3(this,"DEPRECATION_NOTICE",Rs)}createWarning(Ss,Es){return new te$3(this,Ss,Es)}createError(Ss,Es,_s){return new de$2(this,Ss,Es,_s)}},Be$3=class extends Ve$3{},He$3=(ms=class{},cp(ms,"Internal",Be$3),ms)}}),init_es3=__esm({"../../node_modules/.pnpm/@magic-sdk+commons@25.4.2_@magic-sdk+provider@29.4.2_localforage@1.10.0__@magic-sdk+types@24.21.0/node_modules/@magic-sdk/commons/dist/es/index.mjs"(){init_es2(),init_es()}}),es_exports={};__export(es_exports,{AuthEventOnReceived:()=>k$7,DeepLinkPage:()=>x$7,DeviceVerificationEventEmit:()=>O$8,DeviceVerificationEventOnReceived:()=>S$6,DisableMFAEventEmit:()=>G$6,DisableMFAEventOnReceived:()=>V$5,EnableMFAEventEmit:()=>D$5,EnableMFAEventOnReceived:()=>w$6,EthChainType:()=>H$4,Extension:()=>He$3,ExtensionError:()=>de$2,ExtensionWarning:()=>te$3,FarcasterLoginEventEmit:()=>L$5,LocalStorageKeys:()=>_$5,LoginWithEmailOTPEventEmit:()=>I$5,LoginWithEmailOTPEventOnReceived:()=>T$6,LoginWithMagicLinkEventEmit:()=>A$6,LoginWithMagicLinkEventOnReceived:()=>R$7,LoginWithSmsOTPEventEmit:()=>N$8,LoginWithSmsOTPEventOnReceived:()=>h$6,Magic:()=>wt2,MagicIncomingWindowMessage:()=>E$6,MagicOutgoingWindowMessage:()=>y$7,MagicPayloadMethod:()=>g$6,NftCheckoutIntermediaryEvents:()=>Q$5,RPCError:()=>U2,RPCErrorCode:()=>u$5,RecencyCheckEventEmit:()=>b$7,RecencyCheckEventOnReceived:()=>C$7,RecoverAccountEventEmit:()=>j$5,RecoverAccountEventOnReceived:()=>P$7,RecoveryFactorEventEmit:()=>Y$5,RecoveryFactorEventOnReceived:()=>J$7,RecoveryMethodType:()=>B$5,SDKError:()=>$$3,SDKErrorCode:()=>m$8,SDKWarning:()=>L2,SDKWarningCode:()=>v$a,ThirdPartyWalletEvents:()=>f$9,UiEventsEmit:()=>z$6,UpdateEmailEventEmit:()=>F$5,UpdateEmailEventOnReceived:()=>U$4,UserEventsEmit:()=>q$4,UserEventsOnReceived:()=>W$6,WalletEventOnReceived:()=>X$5,isPromiEvent:()=>$t$3,routeToMagicMethods:()=>Z$3});function ft2(vs){for(let[ms,ws]of Object.entries(at2))vs.style[ms]=ws}function st2(vs){return!![].slice.call(document.querySelectorAll(".magic-iframe")).find(ms=>ms.src.includes(vs))}var $r2,Qe2,Zr2,qr2,kr2,et2,de2,Je2,rt2,$e2,qe2,er2,pe2,Te2,at2,ye2,wt2,init_es4=__esm({"../../node_modules/.pnpm/magic-sdk@29.4.2/node_modules/magic-sdk/dist/es/index.mjs"(){init_es2(),init_es2(),init_es(),init_es3(),$r2=Object.create,Qe2=Object.defineProperty,Zr2=Object.getOwnPropertyDescriptor,qr2=Object.getOwnPropertyNames,kr2=Object.getPrototypeOf,et2=Object.prototype.hasOwnProperty,de2=(vs=>typeof __require<"u"?__require:typeof Proxy<"u"?new Proxy(vs,{get:(ms,ws)=>(typeof __require<"u"?__require:ms)[ws]}):vs)(function(vs){if(typeof __require<"u")return __require.apply(this,arguments);throw Error('Dynamic require of "'+vs+'" is not supported')}),Je2=(vs,ms)=>()=>(ms||vs((ms={exports:{}}).exports,ms),ms.exports),rt2=(vs,ms,ws,Ss)=>{if(ms&&typeof ms=="object"||typeof ms=="function")for(let Es of qr2(ms))!et2.call(vs,Es)&&Es!==ws&&Qe2(vs,Es,{get:()=>ms[Es],enumerable:!(Ss=Zr2(ms,Es))||Ss.enumerable});return vs},$e2=(vs,ms,ws)=>(ws=vs!=null?$r2(kr2(vs)):{},rt2(ms||!vs||!vs.__esModule?Qe2(ws,"default",{value:vs,enumerable:!0}):ws,vs)),qe2=Je2((vs,ms)=>{(function(ws){if(typeof vs=="object"&&typeof ms<"u")ms.exports=ws();else if(typeof define=="function"&&define.amd)define([],ws);else{var Ss;typeof window<"u"||typeof window<"u"?Ss=window:typeof self<"u"?Ss=self:Ss=this,Ss.localforage=ws()}})(function(){return function ws(Ss,Es,_s){function Is(Bs,Ns){if(!Es[Bs]){if(!Ss[Bs]){var Ws=typeof de2=="function"&&de2;if(!Ns&&Ws)return Ws(Bs,!0);if(Ts)return Ts(Bs,!0);var Js=new Error("Cannot find module '"+Bs+"'");throw Js.code="MODULE_NOT_FOUND",Js}var $l=Es[Bs]={exports:{}};Ss[Bs][0].call($l.exports,function(wl){var _l=Ss[Bs][1][wl];return Is(_l||wl)},$l,$l.exports,ws,Ss,Es,_s)}return Es[Bs].exports}for(var Ts=typeof de2=="function"&&de2,Rs=0;Rs<_s.length;Rs++)Is(_s[Rs]);return Is}({1:[function(ws,Ss,Es){(function(_s){var Is=_s.MutationObserver||_s.WebKitMutationObserver,Ts;if(Is){var Rs=0,Bs=new Is(wl),Ns=_s.document.createTextNode("");Bs.observe(Ns,{characterData:!0}),Ts=function(){Ns.data=Rs=++Rs%2}}else if(!_s.setImmediate&&typeof _s.MessageChannel<"u"){var Ws=new _s.MessageChannel;Ws.port1.onmessage=wl,Ts=function(){Ws.port2.postMessage(0)}}else"document"in _s&&"onreadystatechange"in _s.document.createElement("script")?Ts=function(){var Cl=_s.document.createElement("script");Cl.onreadystatechange=function(){wl(),Cl.onreadystatechange=null,Cl.parentNode.removeChild(Cl),Cl=null},_s.document.documentElement.appendChild(Cl)}:Ts=function(){setTimeout(wl,0)};var Js,$l=[];function wl(){Js=!0;for(var Cl,Sl,El=$l.length;El;){for(Sl=$l,$l=[],Cl=-1;++Cl<El;)Sl[Cl]();El=$l.length}Js=!1}Ss.exports=_l;function _l(Cl){$l.push(Cl)===1&&!Js&&Ts()}}).call(this,typeof window<"u"?window:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(ws,Ss,Es){var _s=ws(1);function Is(){}var Ts={},Rs=["REJECTED"],Bs=["FULFILLED"],Ns=["PENDING"];Ss.exports=Ws;function Ws(Vl){if(typeof Vl!="function")throw new TypeError("resolver must be a function");this.state=Ns,this.queue=[],this.outcome=void 0,Vl!==Is&&_l(this,Vl)}Ws.prototype.catch=function(Vl){return this.then(null,Vl)},Ws.prototype.then=function(Vl,Ul){if(typeof Vl!="function"&&this.state===Bs||typeof Ul!="function"&&this.state===Rs)return this;var _h=new this.constructor(Is);if(this.state!==Ns){var nu=this.state===Bs?Vl:Ul;$l(_h,nu,this.outcome)}else this.queue.push(new Js(_h,Vl,Ul));return _h};function Js(Vl,Ul,_h){this.promise=Vl,typeof Ul=="function"&&(this.onFulfilled=Ul,this.callFulfilled=this.otherCallFulfilled),typeof _h=="function"&&(this.onRejected=_h,this.callRejected=this.otherCallRejected)}Js.prototype.callFulfilled=function(Vl){Ts.resolve(this.promise,Vl)},Js.prototype.otherCallFulfilled=function(Vl){$l(this.promise,this.onFulfilled,Vl)},Js.prototype.callRejected=function(Vl){Ts.reject(this.promise,Vl)},Js.prototype.otherCallRejected=function(Vl){$l(this.promise,this.onRejected,Vl)};function $l(Vl,Ul,_h){_s(function(){var nu;try{nu=Ul(_h)}catch(su){return Ts.reject(Vl,su)}nu===Vl?Ts.reject(Vl,new TypeError("Cannot resolve promise with itself")):Ts.resolve(Vl,nu)})}Ts.resolve=function(Vl,Ul){var _h=Cl(wl,Ul);if(_h.status==="error")return Ts.reject(Vl,_h.value);var nu=_h.value;if(nu)_l(Vl,nu);else{Vl.state=Bs,Vl.outcome=Ul;for(var su=-1,Jl=Vl.queue.length;++su<Jl;)Vl.queue[su].callFulfilled(Ul)}return Vl},Ts.reject=function(Vl,Ul){Vl.state=Rs,Vl.outcome=Ul;for(var _h=-1,nu=Vl.queue.length;++_h<nu;)Vl.queue[_h].callRejected(Ul);return Vl};function wl(Vl){var Ul=Vl&&Vl.then;if(Vl&&(typeof Vl=="object"||typeof Vl=="function")&&typeof Ul=="function")return function(){Ul.apply(Vl,arguments)}}function _l(Vl,Ul){var _h=!1;function nu(Nl){_h||(_h=!0,Ts.reject(Vl,Nl))}function su(Nl){_h||(_h=!0,Ts.resolve(Vl,Nl))}function Jl(){Ul(su,nu)}var Il=Cl(Jl);Il.status==="error"&&nu(Il.value)}function Cl(Vl,Ul){var _h={};try{_h.value=Vl(Ul),_h.status="success"}catch(nu){_h.status="error",_h.value=nu}return _h}Ws.resolve=Sl;function Sl(Vl){return Vl instanceof this?Vl:Ts.resolve(new this(Is),Vl)}Ws.reject=El;function El(Vl){var Ul=new this(Is);return Ts.reject(Ul,Vl)}Ws.all=xl;function xl(Vl){var Ul=this;if(Object.prototype.toString.call(Vl)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _h=Vl.length,nu=!1;if(!_h)return this.resolve([]);for(var su=new Array(_h),Jl=0,Il=-1,Nl=new this(Is);++Il<_h;)Ol(Vl[Il],Il);return Nl;function Ol(Gl,Fl){Ul.resolve(Gl).then(Al,function(Pl){nu||(nu=!0,Ts.reject(Nl,Pl))});function Al(Pl){su[Fl]=Pl,++Jl===_h&&!nu&&(nu=!0,Ts.resolve(Nl,su))}}}Ws.race=Ml;function Ml(Vl){var Ul=this;if(Object.prototype.toString.call(Vl)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _h=Vl.length,nu=!1;if(!_h)return this.resolve([]);for(var su=-1,Jl=new this(Is);++su<_h;)Il(Vl[su]);return Jl;function Il(Nl){Ul.resolve(Nl).then(function(Ol){nu||(nu=!0,Ts.resolve(Jl,Ol))},function(Ol){nu||(nu=!0,Ts.reject(Jl,Ol))})}}},{1:1}],3:[function(ws,Ss,Es){(function(_s){typeof _s.Promise!="function"&&(_s.Promise=ws(2))}).call(this,typeof window<"u"?window:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(ws,Ss,Es){var _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(mu){return typeof mu}:function(mu){return mu&&typeof Symbol=="function"&&mu.constructor===Symbol&&mu!==Symbol.prototype?"symbol":typeof mu};function Is(mu,Iu){if(!(mu instanceof Iu))throw new TypeError("Cannot call a class as a function")}function Ts(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var Rs=Ts();function Bs(){try{if(!Rs||!Rs.open)return!1;var mu=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Iu=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!mu||Iu)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function Ns(mu,Iu){mu=mu||[],Iu=Iu||{};try{return new Blob(mu,Iu)}catch(ep){if(ep.name!=="TypeError")throw ep;for(var Cu=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Ju=new Cu,Ku=0;Ku<mu.length;Ku+=1)Ju.append(mu[Ku]);return Ju.getBlob(Iu.type)}}typeof Promise>"u"&&ws(3);var Ws=Promise;function Js(mu,Iu){Iu&&mu.then(function(Cu){Iu(null,Cu)},function(Cu){Iu(Cu)})}function $l(mu,Iu,Cu){typeof Iu=="function"&&mu.then(Iu),typeof Cu=="function"&&mu.catch(Cu)}function wl(mu){return typeof mu!="string"&&(console.warn(mu+" used as a key, but it is not a string."),mu=String(mu)),mu}function _l(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var Cl="local-forage-detect-blob-support",Sl=void 0,El={},xl=Object.prototype.toString,Ml="readonly",Vl="readwrite";function Ul(mu){for(var Iu=mu.length,Cu=new ArrayBuffer(Iu),Ju=new Uint8Array(Cu),Ku=0;Ku<Iu;Ku++)Ju[Ku]=mu.charCodeAt(Ku);return Cu}function _h(mu){return new Ws(function(Iu){var Cu=mu.transaction(Cl,Vl),Ju=Ns([""]);Cu.objectStore(Cl).put(Ju,"key"),Cu.onabort=function(Ku){Ku.preventDefault(),Ku.stopPropagation(),Iu(!1)},Cu.oncomplete=function(){var Ku=navigator.userAgent.match(/Chrome\/(\d+)/),ep=navigator.userAgent.match(/Edge\//);Iu(ep||!Ku||parseInt(Ku[1],10)>=43)}}).catch(function(){return!1})}function nu(mu){return typeof Sl=="boolean"?Ws.resolve(Sl):_h(mu).then(function(Iu){return Sl=Iu,Sl})}function su(mu){var Iu=El[mu.name],Cu={};Cu.promise=new Ws(function(Ju,Ku){Cu.resolve=Ju,Cu.reject=Ku}),Iu.deferredOperations.push(Cu),Iu.dbReady?Iu.dbReady=Iu.dbReady.then(function(){return Cu.promise}):Iu.dbReady=Cu.promise}function Jl(mu){var Iu=El[mu.name],Cu=Iu.deferredOperations.pop();if(Cu)return Cu.resolve(),Cu.promise}function Il(mu,Iu){var Cu=El[mu.name],Ju=Cu.deferredOperations.pop();if(Ju)return Ju.reject(Iu),Ju.promise}function Nl(mu,Iu){return new Ws(function(Cu,Ju){if(El[mu.name]=El[mu.name]||Eu(),mu.db)if(Iu)su(mu),mu.db.close();else return Cu(mu.db);var Ku=[mu.name];Iu&&Ku.push(mu.version);var ep=Rs.open.apply(Rs,Ku);Iu&&(ep.onupgradeneeded=function(up){var Pu=ep.result;try{Pu.createObjectStore(mu.storeName),up.oldVersion<=1&&Pu.createObjectStore(Cl)}catch(yp){if(yp.name==="ConstraintError")console.warn('The database "'+mu.name+'" has been upgraded from version '+up.oldVersion+" to version "+up.newVersion+', but the storage "'+mu.storeName+'" already exists.');else throw yp}}),ep.onerror=function(up){up.preventDefault(),Ju(ep.error)},ep.onsuccess=function(){var up=ep.result;up.onversionchange=function(Pu){Pu.target.close()},Cu(up),Jl(mu)}})}function Ol(mu){return Nl(mu,!1)}function Gl(mu){return Nl(mu,!0)}function Fl(mu,Iu){if(!mu.db)return!0;var Cu=!mu.db.objectStoreNames.contains(mu.storeName),Ju=mu.version<mu.db.version,Ku=mu.version>mu.db.version;if(Ju&&(mu.version!==Iu&&console.warn('The database "'+mu.name+`" can't be downgraded from version `+mu.db.version+" to version "+mu.version+"."),mu.version=mu.db.version),Ku||Cu){if(Cu){var ep=mu.db.version+1;ep>mu.version&&(mu.version=ep)}return!0}return!1}function Al(mu){return new Ws(function(Iu,Cu){var Ju=new FileReader;Ju.onerror=Cu,Ju.onloadend=function(Ku){var ep=btoa(Ku.target.result||"");Iu({__local_forage_encoded_blob:!0,data:ep,type:mu.type})},Ju.readAsBinaryString(mu)})}function Pl(mu){var Iu=Ul(atob(mu.data));return Ns([Iu],{type:mu.type})}function yl(mu){return mu&&mu.__local_forage_encoded_blob}function Zs(mu){var Iu=this,Cu=Iu._initReady().then(function(){var Ju=El[Iu._dbInfo.name];if(Ju&&Ju.dbReady)return Ju.dbReady});return $l(Cu,mu,mu),Cu}function Bl(mu){su(mu);for(var Iu=El[mu.name],Cu=Iu.forages,Ju=0;Ju<Cu.length;Ju++){var Ku=Cu[Ju];Ku._dbInfo.db&&(Ku._dbInfo.db.close(),Ku._dbInfo.db=null)}return mu.db=null,Ol(mu).then(function(ep){return mu.db=ep,Fl(mu)?Gl(mu):ep}).then(function(ep){mu.db=Iu.db=ep;for(var up=0;up<Cu.length;up++)Cu[up]._dbInfo.db=ep}).catch(function(ep){throw Il(mu,ep),ep})}function eu(mu,Iu,Cu,Ju){Ju===void 0&&(Ju=1);try{var Ku=mu.db.transaction(mu.storeName,Iu);Cu(null,Ku)}catch(ep){if(Ju>0&&(!mu.db||ep.name==="InvalidStateError"||ep.name==="NotFoundError"))return Ws.resolve().then(function(){if(!mu.db||ep.name==="NotFoundError"&&!mu.db.objectStoreNames.contains(mu.storeName)&&mu.version<=mu.db.version)return mu.db&&(mu.version=mu.db.version+1),Gl(mu)}).then(function(){return Bl(mu).then(function(){eu(mu,Iu,Cu,Ju-1)})}).catch(Cu);Cu(ep)}}function Eu(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function uu(mu){var Iu=this,Cu={db:null};if(mu)for(var Ju in mu)Cu[Ju]=mu[Ju];var Ku=El[Cu.name];Ku||(Ku=Eu(),El[Cu.name]=Ku),Ku.forages.push(Iu),Iu._initReady||(Iu._initReady=Iu.ready,Iu.ready=Zs);var ep=[];function up(){return Ws.resolve()}for(var Pu=0;Pu<Ku.forages.length;Pu++){var yp=Ku.forages[Pu];yp!==Iu&&ep.push(yp._initReady().catch(up))}var wp=Ku.forages.slice(0);return Ws.all(ep).then(function(){return Cu.db=Ku.db,Ol(Cu)}).then(function(vp){return Cu.db=vp,Fl(Cu,Iu._defaultConfig.version)?Gl(Cu):vp}).then(function(vp){Cu.db=Ku.db=vp,Iu._dbInfo=Cu;for(var Rp=0;Rp<wp.length;Rp++){var Gp=wp[Rp];Gp!==Iu&&(Gp._dbInfo.db=Cu.db,Gp._dbInfo.version=Cu.version)}})}function Yl(mu,Iu){var Cu=this;mu=wl(mu);var Ju=new Ws(function(Ku,ep){Cu.ready().then(function(){eu(Cu._dbInfo,Ml,function(up,Pu){if(up)return ep(up);try{var yp=Pu.objectStore(Cu._dbInfo.storeName),wp=yp.get(mu);wp.onsuccess=function(){var vp=wp.result;vp===void 0&&(vp=null),yl(vp)&&(vp=Pl(vp)),Ku(vp)},wp.onerror=function(){ep(wp.error)}}catch(vp){ep(vp)}})}).catch(ep)});return Js(Ju,Iu),Ju}function zl(mu,Iu){var Cu=this,Ju=new Ws(function(Ku,ep){Cu.ready().then(function(){eu(Cu._dbInfo,Ml,function(up,Pu){if(up)return ep(up);try{var yp=Pu.objectStore(Cu._dbInfo.storeName),wp=yp.openCursor(),vp=1;wp.onsuccess=function(){var Rp=wp.result;if(Rp){var Gp=Rp.value;yl(Gp)&&(Gp=Pl(Gp));var Jp=mu(Gp,Rp.key,vp++);Jp!==void 0?Ku(Jp):Rp.continue()}else Ku()},wp.onerror=function(){ep(wp.error)}}catch(Rp){ep(Rp)}})}).catch(ep)});return Js(Ju,Iu),Ju}function ou(mu,Iu,Cu){var Ju=this;mu=wl(mu);var Ku=new Ws(function(ep,up){var Pu;Ju.ready().then(function(){return Pu=Ju._dbInfo,xl.call(Iu)==="[object Blob]"?nu(Pu.db).then(function(yp){return yp?Iu:Al(Iu)}):Iu}).then(function(yp){eu(Ju._dbInfo,Vl,function(wp,vp){if(wp)return up(wp);try{var Rp=vp.objectStore(Ju._dbInfo.storeName);yp===null&&(yp=void 0);var Gp=Rp.put(yp,mu);vp.oncomplete=function(){yp===void 0&&(yp=null),ep(yp)},vp.onabort=vp.onerror=function(){var Jp=Gp.error?Gp.error:Gp.transaction.error;up(Jp)}}catch(Jp){up(Jp)}})}).catch(up)});return Js(Ku,Cu),Ku}function pu(mu,Iu){var Cu=this;mu=wl(mu);var Ju=new Ws(function(Ku,ep){Cu.ready().then(function(){eu(Cu._dbInfo,Vl,function(up,Pu){if(up)return ep(up);try{var yp=Pu.objectStore(Cu._dbInfo.storeName),wp=yp.delete(mu);Pu.oncomplete=function(){Ku()},Pu.onerror=function(){ep(wp.error)},Pu.onabort=function(){var vp=wp.error?wp.error:wp.transaction.error;ep(vp)}}catch(vp){ep(vp)}})}).catch(ep)});return Js(Ju,Iu),Ju}function fu(mu){var Iu=this,Cu=new Ws(function(Ju,Ku){Iu.ready().then(function(){eu(Iu._dbInfo,Vl,function(ep,up){if(ep)return Ku(ep);try{var Pu=up.objectStore(Iu._dbInfo.storeName),yp=Pu.clear();up.oncomplete=function(){Ju()},up.onabort=up.onerror=function(){var wp=yp.error?yp.error:yp.transaction.error;Ku(wp)}}catch(wp){Ku(wp)}})}).catch(Ku)});return Js(Cu,mu),Cu}function yu(mu){var Iu=this,Cu=new Ws(function(Ju,Ku){Iu.ready().then(function(){eu(Iu._dbInfo,Ml,function(ep,up){if(ep)return Ku(ep);try{var Pu=up.objectStore(Iu._dbInfo.storeName),yp=Pu.count();yp.onsuccess=function(){Ju(yp.result)},yp.onerror=function(){Ku(yp.error)}}catch(wp){Ku(wp)}})}).catch(Ku)});return Js(Cu,mu),Cu}function tu(mu,Iu){var Cu=this,Ju=new Ws(function(Ku,ep){if(mu<0){Ku(null);return}Cu.ready().then(function(){eu(Cu._dbInfo,Ml,function(up,Pu){if(up)return ep(up);try{var yp=Pu.objectStore(Cu._dbInfo.storeName),wp=!1,vp=yp.openKeyCursor();vp.onsuccess=function(){var Rp=vp.result;if(!Rp){Ku(null);return}mu===0||wp?Ku(Rp.key):(wp=!0,Rp.advance(mu))},vp.onerror=function(){ep(vp.error)}}catch(Rp){ep(Rp)}})}).catch(ep)});return Js(Ju,Iu),Ju}function Ll(mu){var Iu=this,Cu=new Ws(function(Ju,Ku){Iu.ready().then(function(){eu(Iu._dbInfo,Ml,function(ep,up){if(ep)return Ku(ep);try{var Pu=up.objectStore(Iu._dbInfo.storeName),yp=Pu.openKeyCursor(),wp=[];yp.onsuccess=function(){var vp=yp.result;if(!vp){Ju(wp);return}wp.push(vp.key),vp.continue()},yp.onerror=function(){Ku(yp.error)}}catch(vp){Ku(vp)}})}).catch(Ku)});return Js(Cu,mu),Cu}function Tl(mu,Iu){Iu=_l.apply(this,arguments);var Cu=this.config();mu=typeof mu!="function"&&mu||{},mu.name||(mu.name=mu.name||Cu.name,mu.storeName=mu.storeName||Cu.storeName);var Ju=this,Ku;if(!mu.name)Ku=Ws.reject("Invalid arguments");else{var ep=mu.name===Cu.name&&Ju._dbInfo.db,up=ep?Ws.resolve(Ju._dbInfo.db):Ol(mu).then(function(Pu){var yp=El[mu.name],wp=yp.forages;yp.db=Pu;for(var vp=0;vp<wp.length;vp++)wp[vp]._dbInfo.db=Pu;return Pu});mu.storeName?Ku=up.then(function(Pu){if(Pu.objectStoreNames.contains(mu.storeName)){var yp=Pu.version+1;su(mu);var wp=El[mu.name],vp=wp.forages;Pu.close();for(var Rp=0;Rp<vp.length;Rp++){var Gp=vp[Rp];Gp._dbInfo.db=null,Gp._dbInfo.version=yp}var Jp=new Ws(function(Qs,Rl){var Wl=Rs.open(mu.name,yp);Wl.onerror=function(ru){var gu=Wl.result;gu.close(),Rl(ru)},Wl.onupgradeneeded=function(){var ru=Wl.result;ru.deleteObjectStore(mu.storeName)},Wl.onsuccess=function(){var ru=Wl.result;ru.close(),Qs(ru)}});return Jp.then(function(Qs){wp.db=Qs;for(var Rl=0;Rl<vp.length;Rl++){var Wl=vp[Rl];Wl._dbInfo.db=Qs,Jl(Wl._dbInfo)}}).catch(function(Qs){throw(Il(mu,Qs)||Ws.resolve()).catch(function(){}),Qs})}}):Ku=up.then(function(Pu){su(mu);var yp=El[mu.name],wp=yp.forages;Pu.close();for(var vp=0;vp<wp.length;vp++){var Rp=wp[vp];Rp._dbInfo.db=null}var Gp=new Ws(function(Jp,Qs){var Rl=Rs.deleteDatabase(mu.name);Rl.onerror=function(){var Wl=Rl.result;Wl&&Wl.close(),Qs(Rl.error)},Rl.onblocked=function(){console.warn('dropInstance blocked for database "'+mu.name+'" until all open connections are closed')},Rl.onsuccess=function(){var Wl=Rl.result;Wl&&Wl.close(),Jp(Wl)}});return Gp.then(function(Jp){yp.db=Jp;for(var Qs=0;Qs<wp.length;Qs++){var Rl=wp[Qs];Jl(Rl._dbInfo)}}).catch(function(Jp){throw(Il(mu,Jp)||Ws.resolve()).catch(function(){}),Jp})})}return Js(Ku,Iu),Ku}var Hl={_driver:"asyncStorage",_initStorage:uu,_support:Bs(),iterate:zl,getItem:Yl,setItem:ou,removeItem:pu,clear:fu,length:yu,key:tu,keys:Ll,dropInstance:Tl};function Dl(){return typeof openDatabase=="function"}var Kl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cu="~~local_forage_type~",iu=/^~~local_forage_type~([^~]+)~/,du="__lfsc__:",Au=du.length,xu="arbf",_u="blob",Hu="si08",ju="ui08",_d="uic8",Zu="si16",tp="si32",hu="ur16",Xl="ui32",Zl="fl32",bu="fl64",Ou=Au+xu.length,zu=Object.prototype.toString;function Qu(mu){var Iu=mu.length*.75,Cu=mu.length,Ju,Ku=0,ep,up,Pu,yp;mu[mu.length-1]==="="&&(Iu--,mu[mu.length-2]==="="&&Iu--);var wp=new ArrayBuffer(Iu),vp=new Uint8Array(wp);for(Ju=0;Ju<Cu;Ju+=4)ep=Kl.indexOf(mu[Ju]),up=Kl.indexOf(mu[Ju+1]),Pu=Kl.indexOf(mu[Ju+2]),yp=Kl.indexOf(mu[Ju+3]),vp[Ku++]=ep<<2|up>>4,vp[Ku++]=(up&15)<<4|Pu>>2,vp[Ku++]=(Pu&3)<<6|yp&63;return wp}function _p(mu){var Iu=new Uint8Array(mu),Cu="",Ju;for(Ju=0;Ju<Iu.length;Ju+=3)Cu+=Kl[Iu[Ju]>>2],Cu+=Kl[(Iu[Ju]&3)<<4|Iu[Ju+1]>>4],Cu+=Kl[(Iu[Ju+1]&15)<<2|Iu[Ju+2]>>6],Cu+=Kl[Iu[Ju+2]&63];return Iu.length%3===2?Cu=Cu.substring(0,Cu.length-1)+"=":Iu.length%3===1&&(Cu=Cu.substring(0,Cu.length-2)+"=="),Cu}function dp(mu,Iu){var Cu="";if(mu&&(Cu=zu.call(mu)),mu&&(Cu==="[object ArrayBuffer]"||mu.buffer&&zu.call(mu.buffer)==="[object ArrayBuffer]")){var Ju,Ku=du;mu instanceof ArrayBuffer?(Ju=mu,Ku+=xu):(Ju=mu.buffer,Cu==="[object Int8Array]"?Ku+=Hu:Cu==="[object Uint8Array]"?Ku+=ju:Cu==="[object Uint8ClampedArray]"?Ku+=_d:Cu==="[object Int16Array]"?Ku+=Zu:Cu==="[object Uint16Array]"?Ku+=hu:Cu==="[object Int32Array]"?Ku+=tp:Cu==="[object Uint32Array]"?Ku+=Xl:Cu==="[object Float32Array]"?Ku+=Zl:Cu==="[object Float64Array]"?Ku+=bu:Iu(new Error("Failed to get type for BinaryArray"))),Iu(Ku+_p(Ju))}else if(Cu==="[object Blob]"){var ep=new FileReader;ep.onload=function(){var up=cu+mu.type+"~"+_p(this.result);Iu(du+_u+up)},ep.readAsArrayBuffer(mu)}else try{Iu(JSON.stringify(mu))}catch(up){console.error("Couldn't convert value into a JSON string: ",mu),Iu(null,up)}}function kp(mu){if(mu.substring(0,Au)!==du)return JSON.parse(mu);var Iu=mu.substring(Ou),Cu=mu.substring(Au,Ou),Ju;if(Cu===_u&&iu.test(Iu)){var Ku=Iu.match(iu);Ju=Ku[1],Iu=Iu.substring(Ku[0].length)}var ep=Qu(Iu);switch(Cu){case xu:return ep;case _u:return Ns([ep],{type:Ju});case Hu:return new Int8Array(ep);case ju:return new Uint8Array(ep);case _d:return new Uint8ClampedArray(ep);case Zu:return new Int16Array(ep);case hu:return new Uint16Array(ep);case tp:return new Int32Array(ep);case Xl:return new Uint32Array(ep);case Zl:return new Float32Array(ep);case bu:return new Float64Array(ep);default:throw new Error("Unkown type: "+Cu)}}var Dp={serialize:dp,deserialize:kp,stringToBuffer:Qu,bufferToString:_p};function Ip(mu,Iu,Cu,Ju){mu.executeSql("CREATE TABLE IF NOT EXISTS "+Iu.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Cu,Ju)}function Hp(mu){var Iu=this,Cu={db:null};if(mu)for(var Ju in mu)Cu[Ju]=typeof mu[Ju]!="string"?mu[Ju].toString():mu[Ju];var Ku=new Ws(function(ep,up){try{Cu.db=openDatabase(Cu.name,String(Cu.version),Cu.description,Cu.size)}catch(Pu){return up(Pu)}Cu.db.transaction(function(Pu){Ip(Pu,Cu,function(){Iu._dbInfo=Cu,ep()},function(yp,wp){up(wp)})},up)});return Cu.serializer=Dp,Ku}function Yp(mu,Iu,Cu,Ju,Ku,ep){mu.executeSql(Cu,Ju,Ku,function(up,Pu){Pu.code===Pu.SYNTAX_ERR?up.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Iu.storeName],function(yp,wp){wp.rows.length?ep(yp,Pu):Ip(yp,Iu,function(){yp.executeSql(Cu,Ju,Ku,ep)},ep)},ep):ep(up,Pu)},ep)}function jp(mu,Iu){var Cu=this;mu=wl(mu);var Ju=new Ws(function(Ku,ep){Cu.ready().then(function(){var up=Cu._dbInfo;up.db.transaction(function(Pu){Yp(Pu,up,"SELECT * FROM "+up.storeName+" WHERE key = ? LIMIT 1",[mu],function(yp,wp){var vp=wp.rows.length?wp.rows.item(0).value:null;vp&&(vp=up.serializer.deserialize(vp)),Ku(vp)},function(yp,wp){ep(wp)})})}).catch(ep)});return Js(Ju,Iu),Ju}function tm(mu,Iu){var Cu=this,Ju=new Ws(function(Ku,ep){Cu.ready().then(function(){var up=Cu._dbInfo;up.db.transaction(function(Pu){Yp(Pu,up,"SELECT * FROM "+up.storeName,[],function(yp,wp){for(var vp=wp.rows,Rp=vp.length,Gp=0;Gp<Rp;Gp++){var Jp=vp.item(Gp),Qs=Jp.value;if(Qs&&(Qs=up.serializer.deserialize(Qs)),Qs=mu(Qs,Jp.key,Gp+1),Qs!==void 0){Ku(Qs);return}}Ku()},function(yp,wp){ep(wp)})})}).catch(ep)});return Js(Ju,Iu),Ju}function hm(mu,Iu,Cu,Ju){var Ku=this;mu=wl(mu);var ep=new Ws(function(up,Pu){Ku.ready().then(function(){Iu===void 0&&(Iu=null);var yp=Iu,wp=Ku._dbInfo;wp.serializer.serialize(Iu,function(vp,Rp){Rp?Pu(Rp):wp.db.transaction(function(Gp){Yp(Gp,wp,"INSERT OR REPLACE INTO "+wp.storeName+" (key, value) VALUES (?, ?)",[mu,vp],function(){up(yp)},function(Jp,Qs){Pu(Qs)})},function(Gp){if(Gp.code===Gp.QUOTA_ERR){if(Ju>0){up(hm.apply(Ku,[mu,yp,Cu,Ju-1]));return}Pu(Gp)}})})}).catch(Pu)});return Js(ep,Cu),ep}function am(mu,Iu,Cu){return hm.apply(this,[mu,Iu,Cu,1])}function Qp(mu,Iu){var Cu=this;mu=wl(mu);var Ju=new Ws(function(Ku,ep){Cu.ready().then(function(){var up=Cu._dbInfo;up.db.transaction(function(Pu){Yp(Pu,up,"DELETE FROM "+up.storeName+" WHERE key = ?",[mu],function(){Ku()},function(yp,wp){ep(wp)})})}).catch(ep)});return Js(Ju,Iu),Ju}function fm(mu){var Iu=this,Cu=new Ws(function(Ju,Ku){Iu.ready().then(function(){var ep=Iu._dbInfo;ep.db.transaction(function(up){Yp(up,ep,"DELETE FROM "+ep.storeName,[],function(){Ju()},function(Pu,yp){Ku(yp)})})}).catch(Ku)});return Js(Cu,mu),Cu}function cm(mu){var Iu=this,Cu=new Ws(function(Ju,Ku){Iu.ready().then(function(){var ep=Iu._dbInfo;ep.db.transaction(function(up){Yp(up,ep,"SELECT COUNT(key) as c FROM "+ep.storeName,[],function(Pu,yp){var wp=yp.rows.item(0).c;Ju(wp)},function(Pu,yp){Ku(yp)})})}).catch(Ku)});return Js(Cu,mu),Cu}function lm(mu,Iu){var Cu=this,Ju=new Ws(function(Ku,ep){Cu.ready().then(function(){var up=Cu._dbInfo;up.db.transaction(function(Pu){Yp(Pu,up,"SELECT key FROM "+up.storeName+" WHERE id = ? LIMIT 1",[mu+1],function(yp,wp){var vp=wp.rows.length?wp.rows.item(0).key:null;Ku(vp)},function(yp,wp){ep(wp)})})}).catch(ep)});return Js(Ju,Iu),Ju}function gm(mu){var Iu=this,Cu=new Ws(function(Ju,Ku){Iu.ready().then(function(){var ep=Iu._dbInfo;ep.db.transaction(function(up){Yp(up,ep,"SELECT key FROM "+ep.storeName,[],function(Pu,yp){for(var wp=[],vp=0;vp<yp.rows.length;vp++)wp.push(yp.rows.item(vp).key);Ju(wp)},function(Pu,yp){Ku(yp)})})}).catch(Ku)});return Js(Cu,mu),Cu}function um(mu){return new Ws(function(Iu,Cu){mu.transaction(function(Ju){Ju.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Ku,ep){for(var up=[],Pu=0;Pu<ep.rows.length;Pu++)up.push(ep.rows.item(Pu).name);Iu({db:mu,storeNames:up})},function(Ku,ep){Cu(ep)})},function(Ju){Cu(Ju)})})}function im(mu,Iu){Iu=_l.apply(this,arguments);var Cu=this.config();mu=typeof mu!="function"&&mu||{},mu.name||(mu.name=mu.name||Cu.name,mu.storeName=mu.storeName||Cu.storeName);var Ju=this,Ku;return mu.name?Ku=new Ws(function(ep){var up;mu.name===Cu.name?up=Ju._dbInfo.db:up=openDatabase(mu.name,"","",0),mu.storeName?ep({db:up,storeNames:[mu.storeName]}):ep(um(up))}).then(function(ep){return new Ws(function(up,Pu){ep.db.transaction(function(yp){function wp(Jp){return new Ws(function(Qs,Rl){yp.executeSql("DROP TABLE IF EXISTS "+Jp,[],function(){Qs()},function(Wl,ru){Rl(ru)})})}for(var vp=[],Rp=0,Gp=ep.storeNames.length;Rp<Gp;Rp++)vp.push(wp(ep.storeNames[Rp]));Ws.all(vp).then(function(){up()}).catch(function(Jp){Pu(Jp)})},function(yp){Pu(yp)})})}):Ku=Ws.reject("Invalid arguments"),Js(Ku,Iu),Ku}var ym={_driver:"webSQLStorage",_initStorage:Hp,_support:Dl(),iterate:tm,getItem:jp,setItem:am,removeItem:Qp,clear:fm,length:cm,key:lm,keys:gm,dropInstance:im};function au(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function $u(mu,Iu){var Cu=mu.name+"/";return mu.storeName!==Iu.storeName&&(Cu+=mu.storeName+"/"),Cu}function Tu(){var mu="_localforage_support_test";try{return localStorage.setItem(mu,!0),localStorage.removeItem(mu),!1}catch{return!0}}function Ql(){return!Tu()||localStorage.length>0}function Mu(mu){var Iu=this,Cu={};if(mu)for(var Ju in mu)Cu[Ju]=mu[Ju];return Cu.keyPrefix=$u(mu,Iu._defaultConfig),Ql()?(Iu._dbInfo=Cu,Cu.serializer=Dp,Ws.resolve()):Ws.reject()}function ap(mu){var Iu=this,Cu=Iu.ready().then(function(){for(var Ju=Iu._dbInfo.keyPrefix,Ku=localStorage.length-1;Ku>=0;Ku--){var ep=localStorage.key(Ku);ep.indexOf(Ju)===0&&localStorage.removeItem(ep)}});return Js(Cu,mu),Cu}function sp(mu,Iu){var Cu=this;mu=wl(mu);var Ju=Cu.ready().then(function(){var Ku=Cu._dbInfo,ep=localStorage.getItem(Ku.keyPrefix+mu);return ep&&(ep=Ku.serializer.deserialize(ep)),ep});return Js(Ju,Iu),Ju}function pp(mu,Iu){var Cu=this,Ju=Cu.ready().then(function(){for(var Ku=Cu._dbInfo,ep=Ku.keyPrefix,up=ep.length,Pu=localStorage.length,yp=1,wp=0;wp<Pu;wp++){var vp=localStorage.key(wp);if(vp.indexOf(ep)===0){var Rp=localStorage.getItem(vp);if(Rp&&(Rp=Ku.serializer.deserialize(Rp)),Rp=mu(Rp,vp.substring(up),yp++),Rp!==void 0)return Rp}}});return Js(Ju,Iu),Ju}function Mp(mu,Iu){var Cu=this,Ju=Cu.ready().then(function(){var Ku=Cu._dbInfo,ep;try{ep=localStorage.key(mu)}catch{ep=null}return ep&&(ep=ep.substring(Ku.keyPrefix.length)),ep});return Js(Ju,Iu),Ju}function qp(mu){var Iu=this,Cu=Iu.ready().then(function(){for(var Ju=Iu._dbInfo,Ku=localStorage.length,ep=[],up=0;up<Ku;up++){var Pu=localStorage.key(up);Pu.indexOf(Ju.keyPrefix)===0&&ep.push(Pu.substring(Ju.keyPrefix.length))}return ep});return Js(Cu,mu),Cu}function Bp(mu){var Iu=this,Cu=Iu.keys().then(function(Ju){return Ju.length});return Js(Cu,mu),Cu}function sm(mu,Iu){var Cu=this;mu=wl(mu);var Ju=Cu.ready().then(function(){var Ku=Cu._dbInfo;localStorage.removeItem(Ku.keyPrefix+mu)});return Js(Ju,Iu),Ju}function Np(mu,Iu,Cu){var Ju=this;mu=wl(mu);var Ku=Ju.ready().then(function(){Iu===void 0&&(Iu=null);var ep=Iu;return new Ws(function(up,Pu){var yp=Ju._dbInfo;yp.serializer.serialize(Iu,function(wp,vp){if(vp)Pu(vp);else try{localStorage.setItem(yp.keyPrefix+mu,wp),up(ep)}catch(Rp){(Rp.name==="QuotaExceededError"||Rp.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Pu(Rp),Pu(Rp)}})})});return Js(Ku,Cu),Ku}function _g(mu,Iu){if(Iu=_l.apply(this,arguments),mu=typeof mu!="function"&&mu||{},!mu.name){var Cu=this.config();mu.name=mu.name||Cu.name,mu.storeName=mu.storeName||Cu.storeName}var Ju=this,Ku;return mu.name?Ku=new Ws(function(ep){mu.storeName?ep($u(mu,Ju._defaultConfig)):ep(mu.name+"/")}).then(function(ep){for(var up=localStorage.length-1;up>=0;up--){var Pu=localStorage.key(up);Pu.indexOf(ep)===0&&localStorage.removeItem(Pu)}}):Ku=Ws.reject("Invalid arguments"),Js(Ku,Iu),Ku}var Kp={_driver:"localStorageWrapper",_initStorage:Mu,_support:au(),iterate:pp,getItem:sp,setItem:Np,removeItem:sm,clear:ap,length:Bp,key:Mp,keys:qp,dropInstance:_g},Xp=function(mu,Iu){return mu===Iu||typeof mu=="number"&&typeof Iu=="number"&&isNaN(mu)&&isNaN(Iu)},rm=function(mu,Iu){for(var Cu=mu.length,Ju=0;Ju<Cu;){if(Xp(mu[Ju],Iu))return!0;Ju++}return!1},em=Array.isArray||function(mu){return Object.prototype.toString.call(mu)==="[object Array]"},Wp={},nm={},Fp={INDEXEDDB:Hl,WEBSQL:ym,LOCALSTORAGE:Kp},Up=[Fp.INDEXEDDB._driver,Fp.WEBSQL._driver,Fp.LOCALSTORAGE._driver],Vp=["dropInstance"],Lp=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Vp),xp={description:"",driver:Up.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function zp(mu,Iu){mu[Iu]=function(){var Cu=arguments;return mu.ready().then(function(){return mu[Iu].apply(mu,Cu)})}}function lp(){for(var mu=1;mu<arguments.length;mu++){var Iu=arguments[mu];if(Iu)for(var Cu in Iu)Iu.hasOwnProperty(Cu)&&(em(Iu[Cu])?arguments[0][Cu]=Iu[Cu].slice():arguments[0][Cu]=Iu[Cu])}return arguments[0]}var gp=function(){function mu(Iu){Is(this,mu);for(var Cu in Fp)if(Fp.hasOwnProperty(Cu)){var Ju=Fp[Cu],Ku=Ju._driver;this[Cu]=Ku,Wp[Ku]||this.defineDriver(Ju)}this._defaultConfig=lp({},xp),this._config=lp({},this._defaultConfig,Iu),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return mu.prototype.config=function(Iu){if((typeof Iu>"u"?"undefined":_s(Iu))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Cu in Iu){if(Cu==="storeName"&&(Iu[Cu]=Iu[Cu].replace(/\W/g,"_")),Cu==="version"&&typeof Iu[Cu]!="number")return new Error("Database version must be a number.");this._config[Cu]=Iu[Cu]}return"driver"in Iu&&Iu.driver?this.setDriver(this._config.driver):!0}else return typeof Iu=="string"?this._config[Iu]:this._config},mu.prototype.defineDriver=function(Iu,Cu,Ju){var Ku=new Ws(function(ep,up){try{var Pu=Iu._driver,yp=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Iu._driver){up(yp);return}for(var wp=Lp.concat("_initStorage"),vp=0,Rp=wp.length;vp<Rp;vp++){var Gp=wp[vp],Jp=!rm(Vp,Gp);if((Jp||Iu[Gp])&&typeof Iu[Gp]!="function"){up(yp);return}}var Qs=function(){for(var Wl=function(Lu){return function(){var Yu=new Error("Method "+Lu+" is not implemented by the current driver"),Nu=Ws.reject(Yu);return Js(Nu,arguments[arguments.length-1]),Nu}},ru=0,gu=Vp.length;ru<gu;ru++){var lu=Vp[ru];Iu[lu]||(Iu[lu]=Wl(lu))}};Qs();var Rl=function(Wl){Wp[Pu]&&console.info("Redefining LocalForage driver: "+Pu),Wp[Pu]=Iu,nm[Pu]=Wl,ep()};"_support"in Iu?Iu._support&&typeof Iu._support=="function"?Iu._support().then(Rl,up):Rl(!!Iu._support):Rl(!0)}catch(Wl){up(Wl)}});return $l(Ku,Cu,Ju),Ku},mu.prototype.driver=function(){return this._driver||null},mu.prototype.getDriver=function(Iu,Cu,Ju){var Ku=Wp[Iu]?Ws.resolve(Wp[Iu]):Ws.reject(new Error("Driver not found."));return $l(Ku,Cu,Ju),Ku},mu.prototype.getSerializer=function(Iu){var Cu=Ws.resolve(Dp);return $l(Cu,Iu),Cu},mu.prototype.ready=function(Iu){var Cu=this,Ju=Cu._driverSet.then(function(){return Cu._ready===null&&(Cu._ready=Cu._initDriver()),Cu._ready});return $l(Ju,Iu,Iu),Ju},mu.prototype.setDriver=function(Iu,Cu,Ju){var Ku=this;em(Iu)||(Iu=[Iu]);var ep=this._getSupportedDrivers(Iu);function up(){Ku._config.driver=Ku.driver()}function Pu(vp){return Ku._extend(vp),up(),Ku._ready=Ku._initStorage(Ku._config),Ku._ready}function yp(vp){return function(){var Rp=0;function Gp(){for(;Rp<vp.length;){var Jp=vp[Rp];return Rp++,Ku._dbInfo=null,Ku._ready=null,Ku.getDriver(Jp).then(Pu).catch(Gp)}up();var Qs=new Error("No available storage method found.");return Ku._driverSet=Ws.reject(Qs),Ku._driverSet}return Gp()}}var wp=this._driverSet!==null?this._driverSet.catch(function(){return Ws.resolve()}):Ws.resolve();return this._driverSet=wp.then(function(){var vp=ep[0];return Ku._dbInfo=null,Ku._ready=null,Ku.getDriver(vp).then(function(Rp){Ku._driver=Rp._driver,up(),Ku._wrapLibraryMethodsWithReady(),Ku._initDriver=yp(ep)})}).catch(function(){up();var vp=new Error("No available storage method found.");return Ku._driverSet=Ws.reject(vp),Ku._driverSet}),$l(this._driverSet,Cu,Ju),this._driverSet},mu.prototype.supports=function(Iu){return!!nm[Iu]},mu.prototype._extend=function(Iu){lp(this,Iu)},mu.prototype._getSupportedDrivers=function(Iu){for(var Cu=[],Ju=0,Ku=Iu.length;Ju<Ku;Ju++){var ep=Iu[Ju];this.supports(ep)&&Cu.push(ep)}return Cu},mu.prototype._wrapLibraryMethodsWithReady=function(){for(var Iu=0,Cu=Lp.length;Iu<Cu;Iu++)zp(this,Lp[Iu])},mu.prototype.createInstance=function(Iu){return new mu(Iu)},mu}(),Tp=new gp;Ss.exports=Tp},{3:3}]},{},[4])(4)})}),er2=Je2((vs,ms)=>{(function(ws,Ss){typeof vs=="object"&&typeof ms<"u"?Ss(vs):typeof define=="function"&&define.amd?define("localforage-driver-memory",["exports"],Ss):Ss(ws.LocalforageDriverMemory={})})(typeof self<"u"?self:vs,function(ws){var Ss="localforage-driver-memory";function Es(yl){var Zs=typeof Symbol=="function"&&yl[Symbol.iterator],Bl=0;return Zs?Zs.call(yl):{next:function(){return yl&&Bl>=yl.length&&(yl=void 0),{value:yl&&yl[Bl++],done:!yl}}}}function _s(yl,Zs){yl=yl||[],Zs=Zs||{};try{return new Blob(yl,Zs)}catch(uu){if(uu.name!=="TypeError")throw uu;for(var Bl=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,eu=new Bl,Eu=0;Eu<yl.length;Eu+=1)eu.append(yl[Eu]);return eu.getBlob(Zs.type)}}var Is=/^~~local_forage_type~([^~]+)~/,Ts=9,Rs=Ts+4,Bs=Object.prototype.toString;function Ns(yl){var Zs=yl.length*.75,Bl=yl.length;yl[yl.length-1]==="="&&(Zs--,yl[yl.length-2]==="="&&Zs--);for(var eu=new ArrayBuffer(Zs),Eu=new Uint8Array(eu),uu=0,Yl=0;uu<Bl;uu+=4){var zl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(yl[uu]),ou="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(yl[uu+1]),pu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(yl[uu+2]),fu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(yl[uu+3]);Eu[Yl++]=zl<<2|ou>>4,Eu[Yl++]=(ou&15)<<4|pu>>2,Eu[Yl++]=(pu&3)<<6|fu&63}return eu}function Ws(yl){for(var Zs=new Uint8Array(yl),Bl="",eu=0;eu<Zs.length;eu+=3)Bl+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Zs[eu]>>2],Bl+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(Zs[eu]&3)<<4|Zs[eu+1]>>4],Bl+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(Zs[eu+1]&15)<<2|Zs[eu+2]>>6],Bl+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Zs[eu+2]&63];return Zs.length%3===2?Bl=Bl.substring(0,Bl.length-1)+"=":Zs.length%3===1&&(Bl=Bl.substring(0,Bl.length-2)+"=="),Bl}function Js(yl,Zs){var Bl="";if(yl&&(Bl=Bs.call(yl)),yl&&(Bl==="[object ArrayBuffer]"||yl.buffer&&Bs.call(yl.buffer)==="[object ArrayBuffer]")){var eu=void 0,Eu="__lfsc__:";yl instanceof ArrayBuffer?(eu=yl,Eu+="arbf"):(eu=yl.buffer,Bl==="[object Int8Array]"?Eu+="si08":Bl==="[object Uint8Array]"?Eu+="ui08":Bl==="[object Uint8ClampedArray]"?Eu+="uic8":Bl==="[object Int16Array]"?Eu+="si16":Bl==="[object Uint16Array]"?Eu+="ur16":Bl==="[object Int32Array]"?Eu+="si32":Bl==="[object Uint32Array]"?Eu+="ui32":Bl==="[object Float32Array]"?Eu+="fl32":Bl==="[object Float64Array]"?Eu+="fl64":Zs(new Error("Failed to get type for BinaryArray"))),Zs(Eu+Ws(eu))}else if(Bl==="[object Blob]"){var uu=new FileReader;uu.onload=function(){var Yl="~~local_forage_type~"+yl.type+"~"+Ws(this.result);Zs("__lfsc__:blob"+Yl)},uu.readAsArrayBuffer(yl)}else try{Zs(JSON.stringify(yl))}catch(Yl){console.error("Couldn't convert value into a JSON string: ",yl),Zs(null,Yl)}}function $l(yl){if(yl.substring(0,Ts)!=="__lfsc__:")return JSON.parse(yl);var Zs=yl.substring(Rs),Bl=yl.substring(Ts,Rs),eu;if(Bl==="blob"&&Is.test(Zs)){var Eu=Zs.match(Is);eu=Eu[1],Zs=Zs.substring(Eu[0].length)}var uu=Ns(Zs);switch(Bl){case"arbf":return uu;case"blob":return _s([uu],{type:eu});case"si08":return new Int8Array(uu);case"ui08":return new Uint8Array(uu);case"uic8":return new Uint8ClampedArray(uu);case"si16":return new Int16Array(uu);case"ur16":return new Uint16Array(uu);case"si32":return new Int32Array(uu);case"ui32":return new Uint32Array(uu);case"fl32":return new Float32Array(uu);case"fl64":return new Float64Array(uu);default:throw new Error("Unkown type: "+Bl)}}function wl(yl){var Zs,Bl;if(yl===null||typeof yl!="object"||"isActiveClone"in yl)return yl;var eu=yl instanceof Date?new Date(yl):yl.constructor();try{for(var Eu=Es(Object.keys(yl)),uu=Eu.next();!uu.done;uu=Eu.next()){var Yl=uu.value;Object.prototype.hasOwnProperty.call(yl,Yl)&&(yl.isActiveClone=null,eu[Yl]=wl(yl[Yl]),delete yl.isActiveClone)}}catch(zl){Zs={error:zl}}finally{try{uu&&!uu.done&&(Bl=Eu.return)&&Bl.call(Eu)}finally{if(Zs)throw Zs.error}}return eu}function _l(yl,Zs){return(yl.name||Zs.name)+"/"+(yl.storeName||Zs.storeName)+"/"}function Cl(yl,Zs){Zs&&yl.then(function(Bl){Zs(null,Bl)},function(Bl){Zs(Bl)})}function Sl(){for(var yl=[],Zs=0;Zs<arguments.length;Zs++)yl[Zs]=arguments[Zs];if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}function El(yl,Zs){var Bl=this;if(Zs=Sl.apply(this,arguments),yl=typeof yl!="function"&&yl||{},!yl.name){var eu=this.config();yl.name=yl.name||eu.name,yl.storeName=yl.storeName||eu.storeName}var Eu;return yl.name?Eu=new Promise(function(uu){yl.storeName?uu(_l(yl,Bl._defaultConfig)):uu(yl.name+"/")}):Eu=Promise.reject("Invalid arguments"),{promise:Eu,callback:Zs}}function xl(yl){return typeof yl!="string"&&(console.warn(yl+" used as a key, but it is not a string."),yl=String(yl)),yl}var Ml={bufferToString:Ws,deserialize:$l,serialize:Js,stringToBuffer:Ns},Vl={},Ul=function(){function yl(Zs){this.kp=Zs,this.data={}}return yl.resolve=function(Zs){return Vl[Zs]||(Vl[Zs]=new yl(Zs)),Vl[Zs]},yl.prototype.clear=function(){this.data={}},yl.prototype.drop=function(){this.clear(),delete Vl[this.kp]},yl.prototype.get=function(Zs){return this.data[Zs]},yl.prototype.key=function(Zs){return this.keys()[Zs]},yl.prototype.keys=function(){return Object.keys(this.data)},yl.prototype.rm=function(Zs){delete this.data[Zs]},yl.prototype.set=function(Zs,Bl){this.data[Zs]=Bl},yl}();function _h(yl){var Zs=yl?wl(yl):{},Bl=_l(Zs,this._defaultConfig),eu=Ul.resolve(Bl);return this._dbInfo=Zs,this._dbInfo.serializer=Ml,this._dbInfo.keyPrefix=Bl,this._dbInfo.mStore=eu,Promise.resolve()}function nu(yl){var Zs=this,Bl=this.ready().then(function(){Zs._dbInfo.mStore.clear()});return Cl(Bl,yl),Bl}function su(yl,Zs){var Bl=El.apply(this,arguments),eu=Bl.promise,Eu=Bl.callback,uu=eu.then(function(Yl){Ul.resolve(Yl).drop()});return Cl(uu,Eu),eu}function Jl(yl,Zs){var Bl=this;yl=xl(yl);var eu=this.ready().then(function(){var Eu=Bl._dbInfo.mStore.get(yl);return Eu==null?null:Bl._dbInfo.serializer.deserialize(Eu)});return Cl(eu,Zs),eu}function Il(yl,Zs){var Bl=this,eu=this.ready().then(function(){for(var Eu=Bl._dbInfo.mStore,uu=Eu.keys(),Yl=0;Yl<uu.length;Yl++){var zl=Eu.get(uu[Yl]);if(zl&&(zl=Bl._dbInfo.serializer.deserialize(zl)),zl=yl(zl,uu[Yl],Yl+1),zl!==void 0)return zl}});return Cl(eu,Zs),eu}function Nl(yl,Zs){var Bl=this,eu=this.ready().then(function(){var Eu;try{Eu=Bl._dbInfo.mStore.key(yl),Eu===void 0&&(Eu=null)}catch{Eu=null}return Eu});return Cl(eu,Zs),eu}function Ol(yl){var Zs=this,Bl=this.ready().then(function(){return Zs._dbInfo.mStore.keys()});return Cl(Bl,yl),Bl}function Gl(yl){var Zs=this.keys().then(function(Bl){return Bl.length});return Cl(Zs,yl),Zs}function Fl(yl,Zs){var Bl=this;yl=xl(yl);var eu=this.ready().then(function(){Bl._dbInfo.mStore.rm(yl)});return Cl(eu,Zs),eu}function Al(yl,Zs,Bl){var eu=this;yl=xl(yl);var Eu=this.ready().then(function(){Zs===void 0&&(Zs=null);var uu=Zs;return new Promise(function(Yl,zl){eu._dbInfo.serializer.serialize(Zs,function(ou,pu){if(pu)zl(pu);else try{eu._dbInfo.mStore.set(yl,ou),Yl(uu)}catch(fu){zl(fu)}})})});return Cl(Eu,Bl),Eu}var Pl=!0;ws._support=Pl,ws._driver=Ss,ws._initStorage=_h,ws.clear=nu,ws.dropInstance=su,ws.getItem=Jl,ws.iterate=Il,ws.key=Nl,ws.keys=Ol,ws.length=Gl,ws.removeItem=Fl,ws.setItem=Al,Object.defineProperty(ws,"__esModule",{value:!0})})}),pe2=$e2(qe2()),Te2=$e2(er2()),at2={display:"none",position:"fixed",top:"0",right:"0",width:"100%",height:"100%",borderRadius:"0",border:"none",opacity:"0",zIndex:"-1"},ye2=class extends je$2{constructor(){super(...arguments);cp(this,"activeElement",null);cp(this,"iframe");cp(this,"relayerSrc",Je$2(`/send?params=${encodeURIComponent(this.parameters)}`,this.endpoint).href)}init(){this.test="hello",this.iframe=new Promise(ms=>{let ws=()=>{if(st2(encodeURIComponent(this.parameters)))Bn$3().log();else{let Ss=document.createElement("iframe");Ss.classList.add("magic-iframe"),Ss.dataset.magicIframeLabel=Je$2(this.endpoint).host,Ss.title="Secure Modal",Ss.src=this.relayerSrc,Ss.allow="clipboard-read; clipboard-write",ft2(Ss),document.body.appendChild(Ss),ms(Ss)}};["loaded","interactive","complete"].includes(document.readyState)?ws():window.addEventListener("load",ws,!1)}),this.iframe.then(ms=>{ms instanceof HTMLIFrameElement&&ms.addEventListener("load",async()=>{this.heartbeatDebounce()})}),window.addEventListener("message",ms=>{if(ms.origin===this.endpoint&&ms.data.msgType&&(ms.data.msgType.includes(E$6.MAGIC_PONG)&&(this.lastPongTime=Date.now()),ms.data&&this.messageHandlers.size)){ms.data.response=ms.data.response??{},this.stopHeartBeat();for(let ws of this.messageHandlers.values())ws(ms)}}),window.addEventListener("beforeunload",()=>{this.stopHeartBeat()})}async showOverlay(){let ms=await this.iframe;ms.style.display="block",ms.style.zIndex="2147483647",ms.style.opacity="1",this.activeElement=document.activeElement,ms.focus()}async hideOverlay(){var ws;let ms=await this.iframe;ms.style.display="none",ms.style.zIndex="-1",ms.style.opacity="0",(ws=this.activeElement)!=null&&ws.focus&&this.activeElement.focus(),this.activeElement=null}async _post(ms){let ws=await this.iframe;if(ws&&ws.contentWindow)ws.contentWindow.postMessage(ms,this.endpoint);else throw pt$2()}async checkRelayerExistsInDOM(){let ms=await this.iframe;return!ms||!ms.contentWindow?!1:!![].slice.call(document.querySelectorAll(".magic-iframe")).find(ws=>ws.src.includes(encodeURIComponent(this.parameters)))}async reloadRelayer(){let ms=await this.iframe;if(this.stopHeartBeat(),!ms){this.init(),console.warn("Magic SDK: Modal lost, re-initiating");return}if(!ms.contentWindow){document.body.appendChild(ms),console.warn("Magic SDK: Modal did not append in the iframe, re-initiating");return}ms&&(ms.src=this.relayerSrc)}},wt2=Hr$3(Ke$3,{platform:"web",sdkName:"magic-sdk",version:"29.4.2",defaultEndpoint:"https://auth.magic.link/",ViewController:ye2,configureStorage:async()=>{let vs=pe2.default.createInstance({name:"MagicAuthLocalStorageDB",storeName:"MagicAuthLocalStorage"});return await vs.defineDriver(Te2),await vs.setDriver([pe2.default.INDEXEDDB,pe2.default.LOCALSTORAGE,Te2._driver]),vs}})}}),es_exports2={};__export(es_exports2,{AlgorandExtension:()=>r9});var r9,init_es5=__esm({"../../node_modules/.pnpm/@magic-ext+algorand@24.4.2/node_modules/@magic-ext/algorand/dist/es/index.mjs"(){init_es3(),r9=class extends He$3.Internal{constructor(ms){super();cp(this,"name","algod");cp(this,"config",{});this.algorandConfig=ms,this.config={rpcUrl:ms.rpcUrl,chainType:"ALGOD"}}async signTransaction(ms){return this.request(this.utils.createJsonRpcRequestPayload("algod_signTransaction",ms))}async signBid(ms){return this.request(this.utils.createJsonRpcRequestPayload("algod_signBid",ms))}async getWallet(){return this.request(this.utils.createJsonRpcRequestPayload("algod_getWallet",[]))}async signGroupTransaction(ms){return this.request(this.utils.createJsonRpcRequestPayload("algod_signGroupTransaction",ms))}async signGroupTransactionV2(ms){return this.request(this.utils.createJsonRpcRequestPayload("algod_signGroupTransactionV2",ms))}}}}),Logger=(Em=class{constructor(){cp(this,"level");cp(this,"isClient");this.level=2,this.isClient=typeof window<"u"}static getInstance(){return Em.instance||(Em.instance=new Em),Em.instance}static setLevel(ms){Em.getInstance().level=ms}log(ms,ws,Ss,...Es){if(ms>=this.level&&this.isClient){const _s=ws?`[${ws}] ${Ss}`:Ss;switch(ms){case 0:case 1:console.info(_s,...Es);break;case 2:console.warn(_s,...Es);break;case 3:console.error(_s,...Es);break}}}createScopedLogger(ms){return{debug:(ws,...Ss)=>this.log(0,ms,ws,...Ss),info:(ws,...Ss)=>this.log(1,ms,ws,...Ss),warn:(ws,...Ss)=>this.log(2,ms,ws,...Ss),error:(ws,...Ss)=>this.log(3,ms,ws,...Ss)}}debug(ms,...ws){this.log(0,void 0,ms,...ws)}info(ms,...ws){this.log(1,void 0,ms,...ws)}warn(ms,...ws){this.log(2,void 0,ms,...ws)}error(ms,...ws){this.log(3,void 0,ms,...ws)}setIsClient(ms){this.isClient=ms}},cp(Em,"instance",null),Em),logger=Logger.getInstance(),DEFAULT_NETWORK_CONFIG={mainnet:{algod:{token:"",baseServer:"https://mainnet-api.4160.nodely.dev",headers:{}},isTestnet:!1,genesisHash:"wGHE2Pwdvd7S12BL5FaOP20EGYesN73ktiC1qzkkit8=",genesisId:"mainnet-v1.0",caipChainId:"algorand:wGHE2Pwdvd7S12BL5FaOP20EGYesN73k"},testnet:{algod:{token:"",baseServer:"https://testnet-api.4160.nodely.dev",headers:{}},isTestnet:!0,genesisHash:"SGO1GKSzyE7IEPItTxCByw9x8FmnrCDexi9/cOUJOiI=",genesisId:"testnet-v1.0",caipChainId:"algorand:SGO1GKSzyE7IEPItTxCByw9x8FmnrCDe"},betanet:{algod:{token:"",baseServer:"https://betanet-api.4160.nodely.dev",headers:{}},isTestnet:!0,genesisHash:"mFgazF-2uRS1tMiL9dsj01hJGySEmPN2OvOTQHJ6iQg=",genesisId:"betanet-v1.0",caipChainId:"algorand:mFgazF-2uRS1tMiL9dsj01hJGySEmPN2"},fnet:{algod:{token:"",baseServer:"https://fnet-api.4160.nodely.dev",headers:{}},isTestnet:!0,genesisHash:"kUt08LxeVAAGHnh4JoAoAMM9ql_hBwSoRrQQKWSVgxk=",genesisId:"fnet-v1",caipChainId:"algorand:kUt08LxeVAAGHnh4JoAoAMM9ql_hBwSo"},localnet:{algod:{token:"a".repeat(64),baseServer:"http://localhost",port:4001,headers:{}},isTestnet:!0}},NetworkConfigBuilder=class{constructor(){cp(this,"networks");this.networks=new Map(Object.entries(DEFAULT_NETWORK_CONFIG))}mainnet(vs){return this.networks.set("mainnet",{...DEFAULT_NETWORK_CONFIG.mainnet,...vs,genesisHash:DEFAULT_NETWORK_CONFIG.mainnet.genesisHash,genesisId:DEFAULT_NETWORK_CONFIG.mainnet.genesisId,caipChainId:DEFAULT_NETWORK_CONFIG.mainnet.caipChainId,algod:{...DEFAULT_NETWORK_CONFIG.mainnet.algod,...vs.algod||{}}}),this}testnet(vs){return this.networks.set("testnet",{...DEFAULT_NETWORK_CONFIG.testnet,...vs,genesisHash:DEFAULT_NETWORK_CONFIG.testnet.genesisHash,genesisId:DEFAULT_NETWORK_CONFIG.testnet.genesisId,caipChainId:DEFAULT_NETWORK_CONFIG.testnet.caipChainId,algod:{...DEFAULT_NETWORK_CONFIG.testnet.algod,...vs.algod||{}}}),this}betanet(vs){return this.networks.set("betanet",{...DEFAULT_NETWORK_CONFIG.betanet,...vs,genesisHash:DEFAULT_NETWORK_CONFIG.betanet.genesisHash,genesisId:DEFAULT_NETWORK_CONFIG.betanet.genesisId,caipChainId:DEFAULT_NETWORK_CONFIG.betanet.caipChainId,algod:{...DEFAULT_NETWORK_CONFIG.betanet.algod,...vs.algod||{}}}),this}fnet(vs){return this.networks.set("fnet",{...DEFAULT_NETWORK_CONFIG.fnet,...vs,genesisHash:DEFAULT_NETWORK_CONFIG.fnet.genesisHash,genesisId:DEFAULT_NETWORK_CONFIG.fnet.genesisId,caipChainId:DEFAULT_NETWORK_CONFIG.fnet.caipChainId,algod:{...DEFAULT_NETWORK_CONFIG.fnet.algod,...vs.algod||{}}}),this}localnet(vs){return this.networks.set("localnet",{...DEFAULT_NETWORK_CONFIG.localnet,...vs,algod:{...DEFAULT_NETWORK_CONFIG.localnet.algod,...vs.algod||{}}}),this}addNetwork(vs,ms){if(DEFAULT_NETWORK_CONFIG[vs])throw new Error(`Cannot add network with reserved id "${vs}". Use the ${vs}() method instead.`);return this.networks.set(vs,ms),this}build(){return Object.fromEntries(this.networks)}},createNetworkConfig=()=>new NetworkConfigBuilder().build();function isValidToken(vs){return typeof vs=="string"?!0:typeof vs!="object"||vs===null?!1:"X-Algo-API-Token"in vs&&typeof vs["X-Algo-API-Token"]=="string"||"get"in vs&&"post"in vs&&"delete"in vs?!0:Object.values(vs).every(ms=>typeof ms=="string")}function isNetworkConfig(vs){if(typeof vs!="object"||vs===null)return!1;const{algod:ms,isTestnet:ws,genesisHash:Ss,genesisId:Es,caipChainId:_s}=vs;return typeof ms=="object"&&ms!==null&&isValidToken(ms.token)&&typeof ms.baseServer=="string"&&(ws===void 0||typeof ws=="boolean")&&(Ss===void 0||typeof Ss=="string")&&(Es===void 0||typeof Es=="string")&&(_s===void 0||typeof _s=="string")}var NetworkId=(vs=>(vs.MAINNET="mainnet",vs.TESTNET="testnet",vs.BETANET="betanet",vs.FNET="fnet",vs.LOCALNET="localnet",vs))(NetworkId||{}),StorageAdapter=class{static getItem(vs){return typeof window>"u"?null:localStorage.getItem(vs)}static setItem(vs,ms){typeof window>"u"||localStorage.setItem(vs,ms)}static removeItem(vs){typeof window>"u"||localStorage.removeItem(vs)}},WalletId=(vs=>(vs.BIATEC="biatec",vs.DEFLY="defly",vs.DEFLY_WEB="defly-web",vs.CUSTOM="custom",vs.EXODUS="exodus",vs.KIBISIS="kibisis",vs.KMD="kmd",vs.LUTE="lute",vs.MAGIC="magic",vs.MNEMONIC="mnemonic",vs.PERA="pera",vs.WALLETCONNECT="walletconnect",vs.W3_WALLET="w3-wallet",vs))(WalletId||{}),SignTxnsError=class extends Error{constructor(ms,ws,Ss){super(ms);cp(this,"code");cp(this,"data");this.name="SignTxnsError",this.code=ws,this.data=Ss}},SignDataError=class extends Error{constructor(ms,ws,Ss){super(ms);cp(this,"code");cp(this,"data");this.name="SignDataError",this.code=ws,this.data=Ss}},DEFAULT_STATE={wallets:{},activeWallet:null,activeNetwork:"testnet",algodClient:new algosdk.Algodv2("","https://testnet-api.4160.nodely.dev/"),managerStatus:"initializing",networkConfig:DEFAULT_NETWORK_CONFIG,customNetworkConfigs:{}},LOCAL_STORAGE_KEY="@txnlab/use-wallet:v4";function addWallet(vs,{walletId:ms,wallet:ws}){vs.setState(Ss=>{const Es={...Ss.wallets,[ms]:{accounts:ws.accounts.map(_s=>({..._s})),activeAccount:ws.activeAccount?{...ws.activeAccount}:null}};return{...Ss,wallets:Es,activeWallet:ms}})}function removeWallet(vs,{walletId:ms}){vs.setState(ws=>{const Ss={...ws.wallets};return delete Ss[ms],{...ws,wallets:Ss,activeWallet:ws.activeWallet===ms?null:ws.activeWallet}})}function setActiveWallet(vs,{walletId:ms}){vs.setState(ws=>({...ws,activeWallet:ms}))}function setActiveAccount(vs,{walletId:ms,address:ws}){vs.setState(Ss=>{const Es=Ss.wallets[ms];if(!Es)return logger.warn(`Wallet with id "${ms}" not found`),Ss;const _s=Es.accounts.find(Rs=>Rs.address===ws);if(!_s)return logger.warn(`Account with address ${ws} not found in wallet "${ms}"`),Ss;const Is={...Es,accounts:Es.accounts.map(Rs=>({...Rs})),activeAccount:{..._s}},Ts={...Ss.wallets,[ms]:Is};return{...Ss,wallets:Ts}})}function setAccounts(vs,{walletId:ms,accounts:ws}){vs.setState(Ss=>{const Es=Ss.wallets[ms];if(!Es)return logger.warn(`Wallet with id "${ms}" not found`),Ss;const _s=ws.map(Ns=>({...Ns})),Ts=_s.some(Ns=>{var Ws;return Ns.address===((Ws=Es.activeAccount)==null?void 0:Ws.address)})?{...Es.activeAccount}:_s[0]||null,Rs={...Es,accounts:_s,activeAccount:Ts},Bs={...Ss.wallets,[ms]:Rs};return{...Ss,wallets:Bs}})}function setActiveNetwork(vs,{networkId:ms,algodClient:ws}){vs.setState(Ss=>({...Ss,activeNetwork:ms,algodClient:ws}))}function isValidPersistedState(vs){return typeof vs=="object"&&vs!==null&&"wallets"in vs&&"activeWallet"in vs&&"activeNetwork"in vs&&(!("customNetworkConfigs"in vs)||typeof vs.customNetworkConfigs=="object"&&vs.customNetworkConfigs!==null)}var BaseWallet=(Im=class{constructor({id:vs,metadata:ms,store:ws,subscribe:Ss,getAlgodClient:Es}){cp(this,"id");cp(this,"metadata");cp(this,"store");cp(this,"getAlgodClient");cp(this,"subscribe");cp(this,"logger");cp(this,"setActive",()=>{this.logger.info(`Set active wallet: ${this.id}`),setActiveWallet(this.store,{walletId:this.id})});cp(this,"setActiveAccount",vs=>{this.logger.info(`Set active account: ${vs}`),setActiveAccount(this.store,{walletId:this.id,address:vs})});cp(this,"transactionSigner",async(vs,ms)=>(await this.signTransactions(vs,ms)).reduce((Es,_s)=>(_s!==null&&Es.push(_s),Es),[]));cp(this,"canSignData",!1);cp(this,"signData",async(vs,ms)=>{throw this.logger.error("Method not supported: signData"),new Error("Method not supported: signData")});cp(this,"onDisconnect",()=>{this.logger.debug("Removing wallet from store..."),removeWallet(this.store,{walletId:this.id})});cp(this,"manageWalletConnectSession",(vs,ms)=>{const ws=ms||this.id;if(vs==="backup"){const Ss=StorageAdapter.getItem("walletconnect");Ss&&(StorageAdapter.setItem(`walletconnect-${ws}`,Ss),StorageAdapter.removeItem("walletconnect"),this.logger.debug(`Backed up WalletConnect session for ${ws}`))}else if(vs==="restore"){const Ss=StorageAdapter.getItem(`walletconnect-${ws}`);Ss&&(StorageAdapter.setItem("walletconnect",Ss),StorageAdapter.removeItem(`walletconnect-${ws}`),this.logger.debug(`Restored WalletConnect session for ${ws}`))}});this.id=vs,this.store=ws,this.subscribe=Ss,this.getAlgodClient=Es;const _s=this.constructor;this.metadata={..._s.defaultMetadata,...ms},this.logger=logger.createScopedLogger(`Wallet:${this.id.toUpperCase()}`)}get name(){return this.id.toUpperCase()}get accounts(){const ms=this.store.state.wallets[this.id];return ms?ms.accounts:[]}get addresses(){return this.accounts.map(vs=>vs.address)}get activeAccount(){const ms=this.store.state.wallets[this.id];return ms?ms.activeAccount:null}get activeAddress(){var vs;return((vs=this.activeAccount)==null?void 0:vs.address)??null}get activeNetwork(){return this.store.state.activeNetwork}get isConnected(){const ms=this.store.state.wallets[this.id];return ms?ms.accounts.length>0:!1}get isActive(){return this.store.state.activeWallet===this.id}get activeNetworkConfig(){const{networkConfig:vs,activeNetwork:ms}=this.store.state;return vs[ms]}},cp(Im,"defaultMetadata",{name:"Base Wallet",icon:""}),Im),SessionError=class extends Error{constructor(vs){super(vs),this.name="SessionError"}},ICON=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 480 480" xmlns="http://www.w3.org/2000/svg">
  <rect width="480" height="480" fill="#FFFFFF" />
  <path fill="#3396FF" d="M126.6,168c62.6-61.3,164.2-61.3,226.8,0l7.5,7.4c3.1,3.1,3.1,8,0,11.1l-25.8,25.2c-1.6,1.5-4.1,1.5-5.7,0l-10.4-10.2c-43.7-42.8-114.5-42.8-158.2,0l-11.1,10.9c-1.6,1.5-4.1,1.5-5.7,0l-25.8-25.2c-3.1-3.1-3.1-8,0-11.1L126.6,168zM406.7,220.2l22.9,22.5c3.1,3.1,3.1,8,0,11.1L326.2,355.1c-3.1,3.1-8.2,3.1-11.3,0l-73.4-71.9c-0.8-0.8-2.1-0.8-2.8,0l-73.4,71.9c-3.1,3.1-8.2,3.1-11.3,0L50.3,253.8c-3.1-3.1-3.1-8,0-11.1l22.9-22.5c3.1-3.1,8.2-3.1,11.3,0l73.4,71.9c0.8,0.8,2.1,0.8,2.8,0 l73.4-71.9c3.1-3.1,8.2-3.1,11.3,0l73.4,71.9c0.8,0.8,2.1,0.8,2.8,0l73.4-71.9C398.5,217.1,403.6,217.1,406.7,220.2L406.7,220.2z" />
</svg>
`)}`,WalletConnect$1=(Lm=class extends BaseWallet{constructor({id:ws,store:Ss,subscribe:Es,getAlgodClient:_s,options:Is,metadata:Ts={}}){super({id:ws,metadata:Ts,getAlgodClient:_s,store:Ss,subscribe:Es});cp(this,"client",null);cp(this,"options");cp(this,"modal",null);cp(this,"modalOptions");cp(this,"session",null);cp(this,"store");cp(this,"connect",async()=>{var ws;this.logger.info("Connecting...");try{const Ss=this.client||await this.initializeClient(),Es=this.modal||await this.initializeModal(),_s={algorand:{chains:[this.activeChainId],methods:["algo_signTxn"],events:[]}},{uri:Is,approval:Ts}=await Ss.connect({requiredNamespaces:_s});if(!Is)throw this.logger.error("No URI found"),new Error("No URI found");await Es.openModal({uri:Is});const Rs=await Ts(),Bs=this.onSessionConnected(Rs);return this.logger.info("Connected successfully"),Bs}catch(Ss){throw this.logger.error("Error connecting:",Ss.message),Ss}finally{(ws=this.modal)==null||ws.closeModal()}});cp(this,"disconnect",async()=>{this.logger.info("Disconnecting...");try{this.onDisconnect(),this.client&&this.session&&await this.client.disconnect({topic:this.session.topic,reason:{message:"User disconnected.",code:6e3}}),this.logger.info("Disconnected")}catch(ws){throw this.logger.error("Error disconnecting:",ws.message),ws}});cp(this,"resumeSession",async()=>{try{if(!this.store.state.wallets[this.id]){this.logger.info("No session to resume");return}this.logger.info("Resuming session...");const Es=this.client||await this.initializeClient();if(Es.session.length){const _s=Es.session.keys.length-1,Is=Es.session.get(Es.session.keys[_s]);this.onSessionConnected(Is)}this.logger.info("Session resumed successfully")}catch(ws){throw this.logger.error("Error resuming session:",ws.message),this.onDisconnect(),ws}});cp(this,"signTransactions",async(ws,Ss)=>{try{if(!this.session)throw this.logger.error("No session found!"),new SessionError("No session found!");this.logger.debug("Signing transactions...",{txnGroup:ws,indexesToSign:Ss});let Es=[];if(isTransactionArray(ws)){const Ns=flattenTxnGroup(ws);Es=this.processTxns(Ns,Ss)}else{const Ns=flattenTxnGroup(ws);Es=this.processEncodedTxns(Ns,Ss)}const _s=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",[Es]);const Is=formatJsonRpcRequest$1("algo_signTxn",[Es]),Ts=await _s.request({chainId:this.activeChainId,topic:this.session.topic,request:Is});this.logger.debug("Received signed transactions from wallet",Ts);const Rs=Ts.reduce((Ns,Ws)=>{if(Ws){let Js;typeof Ws=="string"?Js=base64ToByteArray(Ws):Ws instanceof Uint8Array?Js=Ws:Array.isArray(Ws)?Js=new Uint8Array(Ws):(this.logger.warn("Unexpected type in signTxnsResult",Ws),Js=new Uint8Array),Ns.push(Js)}return Ns},[]),Bs=Es.reduce((Ns,Ws)=>{if(Ws.signers&&Ws.signers.length==0)Ns.push(null);else{const Js=Rs.shift();Js&&Ns.push(Js)}return Ns},[]);return this.logger.debug("Transactions signed successfully",Bs),Bs}catch(Es){throw this.logger.error("Error signing transactions:",Es.message),Es}});if(!(Is!=null&&Is.projectId))throw this.logger.error("Missing required option: projectId"),new Error("Missing required option: projectId");const{projectId:Rs,relayUrl:Bs="wss://relay.walletconnect.com",metadata:Ns,...Ws}=Is,Js={...this.getWindowMetadata(),...Ns};this.options={projectId:Rs,relayUrl:Bs,metadata:Js},this.modalOptions=Ws,this.store=Ss}getWindowMetadata(){let ws,Ss;const Es={name:"",description:"",url:"",icons:[]};function _s(El){let xl;return typeof window<"u"&&typeof window[El]<"u"&&(xl=window[El]),xl}function Is(El){const xl=_s(El);if(!xl)throw new Error(`${El} is not defined in Window`);return xl}function Ts(){return Is("document")}function Rs(){return Is("location")}try{ws=Ts(),Ss=Rs()}catch(El){return this.logger.warn("Error getting window metadata:",El),Es}function Bs(){const El=ws.getElementsByTagName("link"),xl=[];for(let Ml=0;Ml<El.length;Ml++){const Vl=El[Ml],Ul=Vl.getAttribute("rel");if(Ul&&Ul.toLowerCase().indexOf("icon")>-1){const _h=Vl.getAttribute("href");if(_h)if(_h.toLowerCase().indexOf("https:")===-1&&_h.toLowerCase().indexOf("http:")===-1&&_h.indexOf("//")!==0){let nu=Ss.protocol+"//"+Ss.host;if(_h.indexOf("/")===0)nu+=_h;else{const su=Ss.pathname.split("/");su.pop();const Jl=su.join("/");nu+=Jl+"/"+_h}xl.push(nu)}else if(_h.indexOf("//")===0){const nu=Ss.protocol+_h;xl.push(nu)}else xl.push(_h)}}return xl}function Ns(...El){const xl=ws.getElementsByTagName("meta");for(let Ml=0;Ml<xl.length;Ml++){const Vl=xl[Ml],Ul=["itemprop","property","name"].map(_h=>Vl.getAttribute(_h)).filter(_h=>_h?El.includes(_h):!1);if(Ul.length&&Ul){const _h=Vl.getAttribute("content");if(_h)return _h}}return""}function Ws(){let El=Ns("name","og:site_name","og:title","twitter:title");return El||(El=ws.title),El}function Js(){return Ns("description","og:description","twitter:description","keywords")}const $l=Ws(),wl=Js(),_l=Ss.origin,Cl=Bs();return{description:wl,url:_l,icons:Cl,name:$l}}async initializeClient(){this.logger.info("Initializing client...");const Ss=await(await Promise.resolve().then(()=>index_es)).SignClient.init(this.options);return Ss.on("session_event",Es=>{this.logger.info("EVENT: session_event",Es)}),Ss.on("session_update",({topic:Es,params:_s})=>{this.logger.info("EVENT: session_update",{topic:Es,params:_s});const{namespaces:Is}=_s,Rs={...Ss.session.get(Es),namespaces:Is};this.onSessionConnected(Rs)}),Ss.on("session_delete",()=>{this.logger.info("EVENT: session_delete"),this.session=null}),this.client=Ss,this.logger.info("Client initialized"),Ss}async initializeModal(){this.logger.info("Initializing modal...");const ws=(await Promise.resolve().then(()=>useWallet$4)).WalletConnectModal,Ss=new ws({projectId:this.options.projectId,...this.modalOptions});return Ss.subscribeModal(Es=>this.logger.info(`Modal ${Es.open?"open":"closed"}`)),this.modal=Ss,this.logger.info("Modal initialized"),Ss}onSessionConnected(ws){const Ss=ws.namespaces.algorand.accounts;if(!Ss.length)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const _s=[...new Set(Ss.map(Rs=>Rs.split(":").pop()))].map((Rs,Bs)=>({name:`${this.metadata.name} Account ${Bs+1}`,address:Rs})),Ts=this.store.state.wallets[this.id];if(Ts)compareAccounts(_s,Ts.accounts)||(this.logger.warn("Session accounts mismatch, updating accounts",{prev:Ts.accounts,current:_s}),setAccounts(this.store,{walletId:this.id,accounts:_s}));else{const Rs={accounts:_s,activeAccount:_s[0]};addWallet(this.store,{walletId:this.id,wallet:Rs}),this.logger.info("Connected",Rs)}return this.session=ws,_s}get activeChainId(){const ws=this.activeNetworkConfig;return ws!=null&&ws.caipChainId?ws.caipChainId:(this.logger.warn(`No CAIP-2 chain ID found for network: ${this.activeNetwork}`),"")}processTxns(ws,Ss){const Es=[];return ws.forEach((_s,Is)=>{const Ts=!Ss||Ss.includes(Is),Rs=_s.sender.toString(),Bs=this.addresses.includes(Rs),Ns=byteArrayToBase64(_s.toByte());Ts&&Bs?Es.push({txn:Ns}):Es.push({txn:Ns,signers:[]})}),Es}processEncodedTxns(ws,Ss){const Es=[];return ws.forEach((_s,Is)=>{const Ts=algosdk.msgpackRawDecode(_s),Rs=isSignedTxn(Ts),Bs=Rs?algosdk.decodeSignedTransaction(_s).txn:algosdk.decodeUnsignedTransaction(_s),Ns=!Ss||Ss.includes(Is),Ws=Bs.sender.toString(),Js=!Rs&&this.addresses.includes(Ws),$l=byteArrayToBase64(Bs.toByte());Ns&&Js?Es.push({txn:$l}):Es.push({txn:$l,signers:[]})}),Es}},cp(Lm,"defaultMetadata",{name:"WalletConnect",icon:ICON}),Lm),ICON2=`data:image/svg+xml;base64,${btoa(`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 180"><path d="M94.27 151.629c-.861-.526-1.51-1.37-1.83-2.386-.197-.62-.18-.627 1.082-.437.705.105 1.6.356 1.988.557.696.36 1.815 1.876 1.815 2.459 0 .486-2.166.348-3.054-.193m23.953-.263c-.788-.419-2.095-2.123-2.108-2.75-.01-.433 2.467-.182 3.403.345.955.536 2.148 1.97 2.148 2.582 0 .503-2.397.38-3.443-.177m-9.024-1.165c-1.567-1.193-2.38-2.74-2.55-4.849-.075-.933-.054-1.697.045-1.697.866 0 2.714 1.67 3.439 3.107.398.789.657 3.888.351 4.195-.07.07-.648-.27-1.285-.756m-8.906-1.354c-.63-.684-1.21-1.648-1.387-2.305-.318-1.18-.136-3.416.278-3.416.555 0 2.108 1.697 2.505 2.737.472 1.237.457 3.905-.023 4.063-.16.053-.777-.433-1.373-1.08m-6.805-1.775c-2.764-.612-5.223-1.425-5.357-1.772-.08-.21.169-1.027.555-1.814s.701-1.469.701-1.515c0-.047-.803.067-1.786.253-.982.185-1.857.256-1.944.157-.088-.1-.365-.715-.618-1.367-.252-.652-.858-1.729-1.345-2.393-1.293-1.76-5.285-5.526-7.272-6.858-3.826-2.564-4.96-3.855-4.667-5.316.08-.402.692-1.574 1.359-2.606 1.65-2.551 2.51-4.472 2.512-5.62.002-.571-.364-1.69-.901-2.758l-.905-1.796.706-.532c1.936-1.46 4.649-4.916 4.205-5.36-.06-.06-.846.72-1.745 1.732-3.553 3.997-7.814 6.463-16.014 9.27-5.324 1.823-5.853 2.06-7.183 3.228-1.555 1.365-1.962 2.502-2.531 7.063-.284 2.275-.706 4.79-.937 5.591-.231.8-.403 2.17-.382 3.043.032 1.346-.157 2.06-1.248 4.698-1.498 3.622-1.068 3.708-4.138-.827l-2.036-3.008.747-.784c.411-.43 1.075-.978 1.475-1.216.955-.568.919-.922-.236-2.331-.53-.647-.917-1.209-.86-1.25s.43-.277.83-.526c1.788-1.12 2.7-4.727 2.987-11.822.214-5.274.595-6.46 2.195-6.83 6.634-1.535 7.58-1.98 8.618-4.066.926-1.858.9-3.701-.121-8.475-.87-4.072-1.047-7.21-.516-9.223.606-2.303 3.759-7.433 5.667-9.221.376-.353.684-.729.684-.835 0-.254-3.325-2.697-4.448-3.268-.482-.245-1.455-.45-2.163-.456-3.892-.03-6.628 1.877-8.722 6.08-.603 1.212-1.582 2.73-2.176 3.374-2.733 2.965-8.602 4.09-12.666 2.43l-.913-.374 1.323-.05c1.422-.054 3.498-.94 3.944-1.683.414-.69.076-.79-1.06-.314-1.443.605-4.075.597-5.039-.015-1.259-.8-2.23-1.81-2.795-2.908l-.535-1.042 1.243 1.095c1.51 1.328 2.691 1.752 4.425 1.585 1.506-.145 2.523-.851 1.65-1.147-3.195-1.08-5.834-3.078-7.07-5.35-.809-1.485-1.513-3.982-1.504-5.334l.006-.936.42.854c.232.47.941 1.333 1.576 1.918l1.155 1.064 2.189-.012 2.188-.011-1.012-.535c-.975-.514-3.353-2.766-3.353-3.175 0-.11.506.079 1.124.418 1.282.703 3.888 1.32 4.21.996.12-.118-.204-.612-.718-1.097-.513-.484-1.17-1.344-1.46-1.911l-.525-1.03 1.174.895c2.02 1.542 3.883 1.506 6.342-.123.69-.457 1.218-.863 1.175-.903s-.989.227-2.103.594c-1.87.618-2.11.64-3.151.305-1.284-.415-2.023-1.273-2.25-2.613l-.158-.926.486.595c1.07 1.31 2.652 1.255 6.363-.224 1.132-.451 2.892-1.036 3.91-1.3 2.732-.706 1.561-.926-2.298-.43-1.778.228-3.27.376-3.318.329-.047-.047.662-.415 1.575-.818 2.002-.883 4.78-1.152 6.858-.663 1.817.427 2.555.81 4.032 2.087 1.151.997 3.654 2.156 4.605 2.133.595-.015-2.96-3.395-4.552-4.328-1.639-.96-4.11-1.542-6.107-1.438-.92.049-1.627.016-1.571-.073.242-.388 3.44-.825 5.203-.71 4.048.265 6.96 2.546 10.902 8.537 2.553 3.883 4.234 5.67 6.137 6.524l1.092.49 2.215-1.027c4.747-2.2 8.797-2.518 16.097-1.26 2.25.387 4.717.704 5.482.704h1.39l.074 3.203.074 3.203.894-1.113c.88-1.096.894-1.152.846-3.516l-.049-2.402-1.61-1.721c-4.14-4.425-4.335-6.536-1.135-12.213 2.744-4.87 2.704-4.41.813-9.32-.883-2.292-1.696-4.167-1.807-4.167-.339 0-.205 4 .196 5.821.716 3.256.435 4.822-1.006 5.603-.371.2-2.144.33-4.904.36-3.6.036-4.348-.022-4.473-.348-.087-.227.102-.582.451-.845.53-.4.563-.53.274-1.09-.18-.35-.692-1.022-1.137-1.493s-.734-.933-.64-1.026c.093-.094 1.072-.036 2.175.128 3.023.45 3.76.398 4.211-.297.4-.615 2.887-9.725 2.704-9.907-.196-.196-1.55 1.62-2.759 3.7-1.782 3.068-3.14 3.895-6.379 3.889-2.485-.005-5.43-1.098-8.658-3.213-1.439-.943-3.02-1.855-3.514-2.027-1.524-.531-3.75-.392-5.163.324l-1.26.638.567-.603c.892-.95 3.048-2.004 4.432-2.167 1.94-.23 3.3.283 5.786 2.18 2.39 1.823 3.163 2.225 4.28 2.225.6 0 .497-.12-.745-.872-.792-.48-2.416-1.598-3.609-2.486-2.658-1.978-4.119-2.58-5.831-2.4l-1.26.132.926-.39c.667-.281 1.609-.36 3.373-.284 1.346.059 2.448.077 2.448.04 0-.278-2.537-1.455-3.71-1.722-.89-.202-1.231-.365-.884-.421.312-.051 1.86.225 3.44.614 2.564.63 3.167.687 5.602.525 5.536-.369 7.032-1.144 9.218-4.774l1.433-2.382-1.224 1.323c-.673.728-1.779 1.928-2.457 2.666-.677.739-1.53 1.417-1.893 1.508l-.662.165.61-.503c.334-.277 1.088-1.491 1.675-2.698 1.772-3.648 3.228-4.779 6.772-5.257 3.522-.476 4.797-.791 5.421-1.342.332-.293.429-.44.215-.329-.213.112-1.94.277-3.836.367-2.955.14-3.666.263-4.97.86-1.632.749-4.092 2.893-4.996 4.356-.764 1.236-.923.905-.224-.465 1.387-2.718 4.685-4.945 8.366-5.651l1.815-.349-1.058-.235c-.582-.13-1.952-.224-3.043-.209l-1.984.027 1.72-.82c1.427-.682 2.04-.822 3.611-.822 1.607 0 1.86-.06 1.679-.4-.539-1.005-1.377-1.452-2.69-1.432-.769.011-1.156-.067-.937-.19.534-.298 2.168-.34 4.169-.104 1.648.194 1.82.159 3.59-.733 1.023-.515 2.472-1.047 3.22-1.183 1.388-.253 3.607-.04 4.472.429.942.51 1.958 1.825 2.095 2.712.116.746 0 1.052-.671 1.777-.752.813-.811 1.018-.811 2.82 0 1.706-.105 2.127-.85 3.424-.467.814-.973 1.476-1.124 1.473s-.797-.242-1.435-.532c-1.277-.579-1.714-.435-1.988.655-.115.46.045.84.605 1.44.42.448 1.621 2.237 2.671 3.975 1.883 3.116 1.905 3.175 1.585 4.146-.258.78-.258 1.56 0 3.73.179 1.51.253 3.031.166 3.38-.128.509.033.795.805 1.432 1.367 1.126 5.02 2.947 5.914 2.947 1.268 0 1.588.247 1.588 1.227 0 1.057-.642 2.742-1.045 2.742-.153 0-.278-.298-.278-.662 0-.558-.123-.661-.793-.661-.436 0-2.162-.467-3.836-1.036l-3.044-1.036v1.788c0 .984-.077 3.057-.172 4.608l-.173 2.82h3.015l-.133.86c-.073.472-.206 2.11-.295 3.637-.373 6.42-.634 7.203-4.207 12.65-4.119 6.278-4.635 7.984-3.493 11.548.37 1.158.647 2.133.613 2.167-.246.246-2.569-1.19-3.783-2.34-2.616-2.473-2.922-3.975-1.146-5.619.954-.882 1.054-1.087.892-1.828-.417-1.91-.553-1.976-1-.482-.232.777-.693 1.849-1.024 2.382-.526.846-.603 1.318-.603 3.705v2.736l3.175 1.022c1.746.562 3.446 1.028 3.777 1.034.583.012.59-.012.194-.776-.224-.434-.479-1.307-.566-1.939-.208-1.523.53-3.065 3.905-8.159 4.537-6.845 5.478-9.25 5.681-14.513.07-1.82.19-3.93.267-4.692.137-1.353.17-1.398 1.379-1.933 2.27-1.004 4.245-3.717 6.253-8.589.526-1.274.459-1.204-1.891 1.985-1.019 1.382-2.13 2.751-2.47 3.042-.604.516-.603.506.048-.397.938-1.299 1.216-2.144 1.685-5.107.663-4.193 1.699-6.255 4.604-9.16 3.639-3.638 9.47-6.348 13.7-6.365.635-.003 1.201-.155 1.322-.356.117-.192 1.105-.92 2.196-1.615 1.092-.696 2.252-1.511 2.579-1.812.327-.3.66-.48.74-.4.081.081-.038.942-.263 1.914s-.41 1.88-.41 2.016c0 .37 1.393.3 1.992-.102.287-.192 1.296-.62 2.241-.953s1.998-.78 2.338-.994c.34-.215.665-.345.722-.288.302.302-1.982 3.526-2.927 4.132l-1.152.74c-.277.179 1.202 3.732 1.975 4.745.674.882.862 1.347.742 1.825-.089.354.045 1.273.296 2.044.645 1.98 2.913 6.751 3.698 7.779.808 1.06.82 1.416.075 2.363-.32.408-.648 1.225-.728 1.816-.118.879-.279 1.12-.89 1.335-1.457.512-2.298-.449-2.94-3.358-.113-.512-.325-.728-.715-.728-.634 0-.619.099.398 2.514.368.873.572 1.685.453 1.804-.12.119-.679.178-1.244.132-1.006-.082-1.03-.108-1.165-1.29-.11-.958-.407-1.515-1.444-2.716-1.28-1.483-1.523-1.617-3.974-2.186-.436-.102-1.235-.406-1.776-.677l-.981-.491-.311 1.124c-.462 1.668-.381 7.592.14 10.35.244 1.29.926 3.552 1.516 5.027 1.864 4.655 1.933 4.98 1.924 9.031-.006 2.853-.112 3.972-.461 4.87-.25.641-.415 1.204-.367 1.252.047.047 2.935.203 6.419.347 4.2.174 6.786.397 7.679.664 1.433.429 2.955 1.341 3.328 1.995.125.219 1.292 3.718 2.594 7.777 2.56 7.978 2.515 7.613 1.142 9.263-.582.7-.623.918-.458 2.455l.18 1.686-1.685 1.59c-2.476 2.335-2.487 2.338-2.833.702l-.825-3.894c-.497-2.344-.503-2.535-.09-2.844.245-.182.75-.332 1.121-.335 1.259-.007 1.444-.36.672-1.277l-.7-.833.461-1.209c.403-1.054.421-1.428.146-2.924-.856-4.647-3.463-7.755-6.516-7.769-1.198-.006-5.626.726-6.143 1.015-.419.235 1.36 2.035 4.026 4.073 1.954 1.494 2.487 2.265 2.708 3.918.115.858-.031 1.278-.963 2.753-1.122 1.776-2.596 4.941-4.015 8.62-.437 1.133-1.048 2.383-1.358 2.777-.546.695-.623.712-2.434.544-1.51-.14-2.034-.085-2.726.287-.933.503-1.032.488-5.234-.754l-1.852-.547 1.058-.93c2.452-2.155 4.96-4.035 5.375-4.028.245.004.743.417 1.107.919.364.5.74.914.835.918.336.014 2.673-2.777 3.423-4.09.928-1.622 1.429-3.721 1.19-4.992-.414-2.208-2.105-3.2-8.836-5.183-4.604-1.356-5.44-1.637-6.837-2.3-.81-.384-.92-.36-3.047.664-2.593 1.248-5.507 2.251-8.665 2.983-3.304.766-9.686.95-12.988.376-3.227-.562-7.639-2.035-9.626-3.214-.856-.508-1.618-.862-1.693-.787-.15.15 1.12 2.079 1.665 2.53.271.226.239.732-.166 2.586-1.245 5.713-2.66 8.612-7.189 14.73-2.852 3.852-3.402 5.685-2.327 7.762.66 1.274 9.278 9.763 11.016 10.85.797.498 1.576 1.26 1.929 1.889.496.883 2.158 5.275 2.158 5.704 0 .2-1.577.111-2.779-.154m46.76-1.68c-2.98-1.107-5.348-3.111-7.054-5.97-1.025-1.72-2.16-4.428-1.946-4.643.229-.229 3.039.644 4.916 1.527 3.417 1.608 6.275 5.198 6.594 8.283.178 1.723.063 1.76-2.51.803m-70.399.107c-2.923-.4-6.887-2.043-7.56-3.132-.23-.371 1.693-1.772 3.683-2.683 4.119-1.887 9.22-1.779 13.075.277 1.637.873 4.347 2.943 4.307 3.29-.014.122-.895.499-1.957.837-4.06 1.29-8.482 1.831-11.548 1.411m51.264-1.55c-1.687-.66-3.315-1.831-4.87-3.503l-1.323-1.421 2.116-.183c3.467-.298 6.424.354 8.757 1.932 1.096.742 2.753 2.456 2.753 2.848 0 .859-5.46 1.099-7.433.326m38.521-1.26c-3.84-.798-6.966-2.331-9.705-4.761-2.156-1.913-3.179-2.512-5.08-2.978-1.478-.362-3.339-1.249-3.339-1.591 0-.318 2.824-.81 5.689-.991 7.046-.446 13.549 2.741 16.133 7.908.513 1.024.932 2.025.932 2.224 0 .277-.479.354-2.05.33-1.128-.016-2.289-.08-2.58-.14m-61.217-2.076c-1.35-.421-2.52-1.449-3.238-2.845l-.51-.992h1.178c1.479 0 2.46.365 3.42 1.273.65.615 1.762 2.392 1.762 2.817 0 .255-1.426.117-2.612-.253m5.45-1.504c-1.583-1.153-2.396-3.509-1.878-5.442.192-.715.563-.742 1.334-.098 1.18.986 1.673 2.177 1.674 4.051 0 .974-.09 1.826-.2 1.895-.112.068-.53-.114-.93-.406m-26.254-1.075a150 150 0 0 0-3.968-1.97l-2.382-1.138 1.21-.001c2.527-.002 4.928 1.203 6.339 3.185.306.43.52.777.473.77-.046-.007-.799-.388-1.672-.845zm-14.354-3.608c-.764-.264-1.631-.699-1.927-.966-.59-.534-1.695-2.22-1.542-2.352.053-.045.573-.192 1.155-.325 1.324-.303 1.45-.925.662-3.265-.306-.908-.503-1.705-.438-1.77.066-.066.637.018 1.27.187.95.253 1.683.849 4.194 3.411 2.483 2.534 3.286 3.19 4.366 3.566.727.253 1.62.587 1.984.742l.662.28-.662.199c-.779.234-6.102.794-7.42.782-.503-.005-1.54-.225-2.304-.489m104.313-.83c-1.528-.484-4.719-2.704-4.75-3.303-.006-.145.88-.42 1.972-.61 2.368-.414 4.676-.11 6.582.864 1.41.721 3.082 2.35 2.83 2.756-.55.891-4.237 1.054-6.634.294m-56.58-.117c-2.06-.734-3.35-2.65-3.345-4.961.006-2.304.15-2.574 1.279-2.397 1.516.239 3.013.83 3.677 1.455l.609.572 1.523-1.507c.838-.829 1.593-1.507 1.679-1.507.085 0 .362.735.614 1.633.94 3.35-.383 5.974-3.431 6.806-1.302.356-1.35.354-2.605-.094m-75.315-.698c-6.533-.942-11.018-2.967-14.552-6.571-1.972-2.01-3.175-3.81-2.8-4.186.109-.109 1.32-.239 2.693-.29 5.235-.192 9.266 1.449 13.22 5.381 2.097 2.085 5.101 5.853 4.838 6.068-.05.041-1.58-.14-3.4-.402m97.327-1.25c4.267-5.096 8.959-7.442 13.334-6.666.982.174 1.84.405 1.906.513.198.32-1.54 2.713-2.834 3.904-2.314 2.13-5.42 3.148-10.492 3.438l-3.055.175zm17.502-.559c0-.646 1.702-5.318 2.447-6.715 1.472-2.762 4.84-5.965 5.538-5.267.161.161.234 1.18.176 2.481-.114 2.603-.705 4.023-2.51 6.03-1.524 1.695-5.651 4.23-5.651 3.471m8.04-1.157c3.728-2.356 7.725-5.133 8.864-6.158 1.353-1.218 1.403-1.24.984-.43-1.093 2.113-4.85 5.104-7.93 6.31-1.734.68-2.798.834-1.919.278m2.457-4.828c-.243-.511-.443-1.383-.443-1.937 0-1.018.973-3.223 1.5-3.399.368-.123 1.146 1.814 1.146 2.853 0 .855-.78 2.6-1.39 3.105-.298.247-.456.127-.813-.622m11.343.373c-1.157-.135-2.15-.292-2.206-.348-.16-.16 1.966-2.017 3.71-3.24 2.387-1.673 4.54-2.317 7.745-2.316 2.182 0 2.874.104 3.949.596l1.303.595-.907.936c-2.935 3.03-7.986 4.433-13.594 3.777m-135.543-5.98c-3.17-5.953-3.802-11.809-1.769-16.407.766-1.73 2.408-4.033 2.878-4.033.185 0 .7.685 1.142 1.522 2.02 3.82 2.643 8.569 1.708 13.03-.515 2.454-2.383 7.938-2.705 7.938-.089 0-.653-.923-1.254-2.05m131.543-.026c-2.11-1.55-3.023-3.093-3.023-5.108 0-1.215.77-3.056 1.587-3.796.494-.447.574-.438 1.965.243 1.713.838 2.676 1.892 3.072 3.363.464 1.725-.257 3.872-1.791 5.328l-.771.733zm-142.341-2.392c-.955-.434-3.028-2.462-3.028-2.963 0-.106.589-.273 1.309-.372 2.032-.28 3.923.381 5.269 1.84.602.654 1.095 1.295 1.095 1.426 0 .289-1.308.57-2.613.562-.527-.003-1.442-.225-2.032-.493m134.927-3.139c1.218-3.954 1.471-13.59.477-18.203a57 57 0 0 0-1.472-5.291c-1.025-3-1.187-3.508-1.031-3.229.06.11.227.199.369.199s.185-.12.095-.265-.099-.265-.019-.265c.285 0 2.284 4.27 2.94 6.28.942 2.884 1.488 6.584 1.481 10.037-.008 4.205-.63 7.156-2.126 10.088-.577 1.13-.974 1.491-.714.65m15.622-.53c.096-.4.694-1.798 1.33-3.108 1.78-3.673 4.396-6.043 7.61-6.899 2.261-.602 2.412-.555 2.244.699-.39 2.903-3.348 6.413-6.971 8.27-.455.233-1.63.726-2.608 1.094l-1.78.67zm-150.592-3.621c-5.551-2.683-8.865-5.295-11.436-9.013-2.092-3.028-3.72-7.066-3.72-9.231 0-.636.089-.69 1.135-.69 2.913 0 6.796 1.74 9.585 4.296 3.283 3.008 5.033 6.073 6.587 11.534 1.15 4.043 1.263 4.544 1.02 4.54-.111 0-1.539-.647-3.17-1.436m145.075.485c-.092-.241-.309-1.552-.48-2.914-.562-4.443.43-8.183 2.772-10.456.58-.562 1.164-1.022 1.3-1.022.405 0 1.01 1.75 1.186 3.43.324 3.1-.9 6.63-3.421 9.872-.926 1.19-1.226 1.431-1.357 1.09m-6.353-7.675c.34-1.413.908-2.21 1.957-2.745 1.55-.792 1.96-.718 1.754.314-.326 1.628-1.397 2.695-3.034 3.022-.84.168-.856.154-.677-.591m18.432-2.084c-.473-.206-.857-.469-.854-.585.01-.368 1.945-1.592 2.816-1.781.461-.1 1.34-.047 1.952.118l1.114.3-.882.909c-.764.789-2.17 1.45-3.022 1.422-.145-.005-.651-.178-1.124-.383m-4.19-2.014c.437-5.243 1.85-8.992 4.434-11.754 1.589-1.698 4.011-3.172 5.51-3.353.608-.073.669.016.745 1.087.125 1.742-.655 4.812-1.81 7.117-1.233 2.466-3.244 4.75-6.16 7-3.185 2.457-2.932 2.466-2.719-.097M164.535 96.2c.011-.601.996-2.432 1.613-2.997.74-.68 1.86-1.142 2.764-1.142.74 0 .783.213.287 1.402-.328.784-2.05 2.558-2.496 2.573-.105.004-.636.11-1.182.237-.703.163-.99.142-.986-.073M39.38 92.511l-1.19-.287 1.894-.184c2.429-.237 4.211-.836 5.755-1.933 1.705-1.212 2.43-2.3 3.187-4.777.358-1.173 1.027-2.644 1.487-3.27.855-1.16 1.328-1.354.772-.315-.17.317-.42 1.753-.555 3.191s-.371 2.944-.524 3.347c-1.29 3.39-6.255 5.33-10.826 4.228m132.353-3.022c-1.37-3.004-1.722-4.62-1.596-7.322.12-2.584.663-4.209 1.984-5.941l.698-.915.593.689c1.538 1.787 2.37 6.366 1.72 9.457-.375 1.79-1.903 5.61-2.293 5.734-.158.05-.656-.715-1.106-1.702m6.655.323c.094-.582.245-3.618.336-6.747.16-5.514-.097-11.175-.726-16.007-.66-5.078-2.584-11.438-4.788-15.834-.572-1.142-.914-1.998-.76-1.903.154.096.28.02.28-.17 0-.608 1.905 2.465 3.056 4.93 3.19 6.83 5.492 18.482 5.039 25.5-.219 3.379-.79 6.78-1.52 9.04-.672 2.084-1.164 2.722-.917 1.191m-5.129-39.936c0-.065-.119-.19-.264-.28s-.265-.038-.265.116.12.28.265.28.264-.052.264-.116M21.39 87.46c-6.885-6.262-9.634-10.983-10.312-17.71-.218-2.153.098-6.211.514-6.628.377-.377 2.86.757 4.714 2.153 4.287 3.228 7.128 8.67 7.976 15.276.349 2.717.746 9.923.547 9.92-.073-.001-1.62-1.356-3.44-3.01m141.818 1.495c.002-1.223.51-2.654 1.254-3.539.681-.81 2.635-1.902 2.999-1.677.248.154-.193 2.347-.65 3.224-.523 1.007-1.444 1.82-2.616 2.31l-.989.413zm19.715-9.65c.101-.48.414-1.25.694-1.712.53-.872 2.361-1.937 3.331-1.937.515 0 .537.075.29.992-.432 1.599-1.891 2.901-3.749 3.347-.733.176-.746.16-.566-.69m-1.078-4.864c-.434-3.474.426-7.949 2.004-10.427.992-1.557 3.308-3.704 3.996-3.704.79 0 1.023 5.098.34 7.427-.775 2.639-3.22 6.102-5.41 7.661l-.744.53zM27.106 70.74c-.83-2.163.852-9.285 3.442-14.577 3.414-6.977 9.876-14.173 15.518-17.28 1.338-.736 1.306-.696-.732.921-3.554 2.82-6.93 6.51-9.617 10.514-2.78 4.142-4.184 7.582-5.825 14.274-.593 2.419-1.273 4.885-1.512 5.482-.446 1.116-.991 1.401-1.274.666m148.415-4.429c-3.31-1.775-5.714-4.87-6.05-7.787-.123-1.073-.097-1.124.573-1.122 1.742.006 4.537 2.38 5.833 4.954.468.928 1.437 4.572 1.263 4.746-.028.028-.757-.328-1.62-.79M24.465 63.817c-1.392-2.767-2.046-5.175-2.208-8.138-.16-2.924.292-6.48.823-6.48.632 0 2.73 1.536 3.654 2.676 1.65 2.036 2.173 3.325 2.185 5.393.01 1.729-.094 2.069-1.554 5.094-.86 1.782-1.663 3.24-1.783 3.24s-.623-.803-1.117-1.785m155.049-4.47c-.602-3.045-.356-5.571.757-7.767.795-1.57 2.708-3.351 3.137-2.921.187.187.302 1.33.302 3 0 2.617-.03 2.756-1.001 4.573-.551 1.03-1.462 2.322-2.024 2.871l-1.022.998zm-68.432-2.831c0-.451.748-1.115 1.521-1.35.762-.233.743.064-.061.978-.678.77-1.46.969-1.46.372M33.59 54.752c1.046-1.877 3.42-4.082 5.433-5.045 1.457-.699 2.23-.892 3.93-.982 2.15-.115 3.863.18 4.728.812.444.324.393.442-.74 1.701-1.47 1.635-3.438 2.97-5.575 3.778-1.242.47-2.33.63-4.998.735l-3.41.135zm76.965.194c0-.802 1.282-2.19 2.17-2.35.969-.176 1.534.041 1.534.587 0 .382-.305.583-1.245.82-.685.172-1.518.608-1.852.968l-.607.655zm57.018-.605c-.437-.225-.965-.578-1.173-.783-.327-.323-.22-.446.794-.905 1.314-.597 2.774-.659 4.347-.184 1.386.417 1.347.95-.122 1.69-1.377.695-2.73.76-3.846.182m-58.306-1.16c.174-.5.815-1.406 1.424-2.015.918-.918 1.368-1.152 2.637-1.37 1.42-.246 2.024-.224 3.048.107.8.26-.765 1.148-2.022 1.148-1.584 0-2.915.6-4.27 1.928l-1.133 1.109zm65.577-2.87c-.75-1.497-.906-2.129-1.001-4.048-.094-1.886-.02-2.485.431-3.506.3-.677.655-1.231.79-1.231.33 0 1.475 1.777 1.856 2.883.497 1.442.383 4.31-.236 5.965-.3.803-.638 1.517-.75 1.586-.11.069-.602-.673-1.09-1.649m-65.359.239c.662-1.25 2.453-2.918 3.604-3.357 1.384-.53 4.318-.42 5.512.206l.757.397-.576.403c-.45.315-1.084.374-2.904.27-2.854-.163-3.938.155-5.54 1.625-.876.802-1.1.922-.853.456m-79.602-1.036c-1.895-1.894-2.474-3.183-2.62-5.824-.066-1.211-.008-2.314.128-2.45.332-.332 2.019.945 2.831 2.145.348.513.825 1.5 1.06 2.192.47 1.384.581 4.818.164 5.076-.144.089-.848-.423-1.563-1.139m78.698-.58c.528-1.848 2.227-3.934 3.94-4.841 1.648-.872 4.113-.74 7.331.392l2.55.897-.936.614c-.919.602-.967.606-2.55.2-2.732-.698-3.209-.739-5.014-.424-2.025.352-3.826 1.419-4.84 2.865-.543.777-.635.833-.481.297m54.957-.028c-.619-.306-1.125-.665-1.125-.797 0-.133.387-.477.86-.765 1.455-.887 4.475-.65 6.244.49l.621.401-1.15.602c-1.547.81-3.894.84-5.45.07m-113.51-5.029c-.621-.307-1.376-.872-1.677-1.255l-.548-.696.883-.372c2.07-.872 5.296-.261 6.675 1.263.498.55.494.556-.662 1.08-1.52.69-3.253.682-4.672-.02m69.126-.293c-2.905-1.128-5.647-1.179-7.871-.147-.837.388-1.522.665-1.522.615 0-.292 2.738-1.751 3.95-2.106 1.796-.525 4.726-.535 6.634-.023 1.759.472 3.564.489 4.61.043.696-.298.59-.32-1.07-.226-1.83.103-1.852.096-3.683-1.16-1.013-.694-2.318-1.413-2.9-1.596l-1.058-.333.988-.018c.544-.01 2.135.28 3.535.644 2.6.675 4.605.856 4.605.415 0-.347-1.479-1.36-2.616-1.791-.935-.355-.915-.361.9-.261 2.1.115 3.862.79 4.957 1.899.72.729.727.73.727.13 0-.934-1.81-2.484-3.47-2.973-1.732-.51-.9-.598.957-.102 2.68.716 5.39 2.515 6.21 4.124.295.578.537 1.15.537 1.273 0 .122-1.102.361-2.448.532s-3.511.671-4.812 1.112c-3.03 1.027-4.41 1.017-7.16-.05m-83.06-2.246c-.331-4.672.95-8.655 3.622-11.257l1.343-1.308.418.754c.31.56.419 1.506.419 3.664 0 2.803-.036 2.984-.958 4.895-.887 1.84-3.687 5.524-4.365 5.745-.197.064-.358-.772-.48-2.493m125.87-.33c-.464-.283-1.05-.829-1.301-1.212-.556-.848-.22-1.17 1.221-1.176 1.652-.007 4.104 1.78 3.588 2.615-.3.486-2.579.34-3.507-.227m-104.922-.902c-1.831-.683-4.166-2.965-3.74-3.655.203-.328 3.603-.26 4.628.093.494.17 1.341.6 1.882.955 1.055.692 2.477 2.374 2.223 2.628-.352.353-4.033.337-4.993-.021m.993-5.296c-.727-.191-2.034-.56-2.902-.82l-1.58-.473.898-.75c2.53-2.112 6.92-3.595 9.62-3.25 1.876.239 3.85 1.003 4.937 1.91l.907.758-1.14.825c-1.943 1.409-3.805 1.977-6.771 2.068-1.607.05-3.165-.056-3.969-.268" style="fill:teal;stroke-width:.264583"></path></svg>
`)}`,BiatecWallet=(Km=class extends WalletConnect$1{},cp(Km,"defaultMetadata",{name:"BiatecWallet",icon:ICON2}),Km),ICON3=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <rect width="24" height="24" fill="#525252" />
</svg>
`)}`,CustomWallet=(Ym=class extends BaseWallet{constructor({id:ms,store:ws,subscribe:Ss,getAlgodClient:Es,options:_s,metadata:Is={}}){super({id:ms,metadata:Is,getAlgodClient:Es,store:ws,subscribe:Ss});cp(this,"provider");cp(this,"store");cp(this,"connect",async ms=>{this.logger.info("Connecting...");try{if(!this.provider.connect)throw this.logger.error("Method not supported: connect"),new Error("Method not supported: connect");const ws=await this.provider.connect(ms);if(ws.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const Ss=ws[0],Es={accounts:ws,activeAccount:Ss};return addWallet(this.store,{walletId:this.id,wallet:Es}),this.logger.info("✅ Connected.",Es),ws}catch(ws){throw this.logger.error("Error connecting:",ws.message||ws),ws}});cp(this,"disconnect",async()=>{var ms,ws;this.logger.info("Disconnecting..."),this.onDisconnect(),await((ws=(ms=this.provider).disconnect)==null?void 0:ws.call(ms))});cp(this,"resumeSession",async()=>{var ms,ws;try{const Es=this.store.state.wallets[this.id];if(!Es){this.logger.info("No session to resume");return}this.logger.info("Resuming session...");const _s=await((ws=(ms=this.provider).resumeSession)==null?void 0:ws.call(ms));if(Array.isArray(_s)){const Is=_s;if(Is.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");compareAccounts(Is,Es.accounts)||(this.logger.warn("Session accounts mismatch, updating accounts",{prev:Es.accounts,current:Is}),setAccounts(this.store,{walletId:this.id,accounts:Is}))}this.logger.info("Session resumed.")}catch(Ss){throw this.logger.error("Error resuming session:",Ss.message),Ss}});cp(this,"signTransactions",async(ms,ws)=>{if(!this.provider.signTransactions)throw this.logger.error("Method not supported: signTransactions"),new Error("Method not supported: signTransactions");return this.logger.debug("Signing transactions...",{txnGroup:ms,indexesToSign:ws}),await this.provider.signTransactions(ms,ws)});cp(this,"transactionSigner",async(ms,ws)=>{if(!this.provider.transactionSigner)throw this.logger.error("Method not supported: transactionSigner"),new Error("Method not supported: transactionSigner");return this.logger.debug("Transaction signer called...",{txnGroup:ms,indexesToSign:ws}),await this.provider.transactionSigner(ms,ws)});cp(this,"signData",async(ms,ws)=>{if(!this.provider.signData)throw this.logger.error("Method not supported: signData"),new Error("Method not supported: signData");return this.logger.debug("Signing data...",{data:ms,metadata:ws}),await this.provider.signData(ms,ws)});if(!(_s!=null&&_s.provider))throw this.logger.error("Missing required option: provider"),new Error("Missing required option: provider");this.provider=_s.provider,this.store=ws}},cp(Ym,"defaultMetadata",{name:"Custom",icon:ICON3}),Ym),ICON4=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
  <rect width="1024" height="1024" />
  <path fill="#FFFFFF" d="M779.9,684.4L512,230L244.1,684.4L512,529.5L779.9,684.4z" />
  <path fill="#FFFFFF" d="M733.1,730L512,613.5L290.9,730L512,658L733.1,730z" />
</svg>
`)}`,DeflyWallet=(Jm=class extends BaseWallet{constructor({id:ms,store:ws,subscribe:Ss,getAlgodClient:Es,options:_s={},metadata:Is={}}){super({id:ms,metadata:Is,getAlgodClient:Es,store:ws,subscribe:Ss});cp(this,"client",null);cp(this,"options");cp(this,"store");cp(this,"connect",async()=>{var Ts;this.logger.info("Connecting...");const ms=this.store.state.activeWallet;ms&&ms!==this.id&&this.manageWalletConnectSession("backup",ms);const ws=this.client||await this.initializeClient(),Ss=await ws.connect();if((Ts=ws.connector)==null||Ts.on("disconnect",this.onDisconnect),Ss.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const Es=Ss.map((Rs,Bs)=>({name:`${this.metadata.name} Account ${Bs+1}`,address:Rs})),_s=Es[0],Is={accounts:Es,activeAccount:_s};return addWallet(this.store,{walletId:this.id,wallet:Is}),this.logger.info("✅ Connected.",Is),Es});cp(this,"disconnect",async()=>{this.logger.info("Disconnecting...");const ms=this.client||await this.initializeClient(),ws=this.store.state.activeWallet;ws&&ws!==this.id?(this.manageWalletConnectSession("backup",ws),this.manageWalletConnectSession("restore",this.id),await ms.disconnect(),await new Promise(Ss=>setTimeout(Ss,500)),this.manageWalletConnectSession("restore",ws)):await ms.disconnect(),this.onDisconnect(),this.logger.info("Disconnected")});cp(this,"setActive",()=>{this.logger.info(`Set active wallet: ${this.id}`);const ms=this.store.state.activeWallet;ms&&ms==="pera"&&this.manageWalletConnectSession("backup",ms),this.manageWalletConnectSession("restore"),setActiveWallet(this.store,{walletId:this.id})});cp(this,"resumeSession",async()=>{try{const ms=this.store.state,ws=ms.wallets[this.id];if(!ws){this.logger.info("No session to resume");return}if(ms.activeWallet==="pera"){this.logger.info("Skipping reconnectSession for Defly (inactive)");return}this.logger.info("Resuming session...");const Es=await(this.client||await this.initializeClient()).reconnectSession();if(Es.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const _s=Es.map((Ts,Rs)=>({name:`${this.metadata.name} Account ${Rs+1}`,address:Ts}));compareAccounts(_s,ws.accounts)||(this.logger.warn("Session accounts mismatch, updating accounts",{prev:ws.accounts,current:_s}),setAccounts(this.store,{walletId:this.id,accounts:_s})),this.logger.info("Session resumed")}catch(ms){throw this.logger.error("Error resuming session:",ms.message),this.onDisconnect(),ms}});cp(this,"signTransactions",async(ms,ws)=>{try{this.logger.debug("Signing transactions...",{txnGroup:ms,indexesToSign:ws});let Ss=[];if(isTransactionArray(ms)){const Ts=flattenTxnGroup(ms);Ss=this.processTxns(Ts,ws)}else{const Ts=flattenTxnGroup(ms);Ss=this.processEncodedTxns(Ts,ws)}const Es=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",[Ss]);const _s=await Es.signTransaction([Ss]);this.logger.debug("Received signed transactions from wallet",_s);const Is=Ss.reduce((Ts,Rs)=>{if(Rs.signers&&Rs.signers.length==0)Ts.push(null);else{const Bs=_s.shift();Bs&&Ts.push(Bs)}return Ts},[]);return this.logger.debug("Transactions signed successfully",Is),Is}catch(Ss){throw this.logger.error("Error signing transactions:",Ss.message),Ss}});this.options=_s,this.store=ws}async initializeClient(){this.logger.info("Initializing client...");const{DeflyWalletConnect:ms}=await Promise.resolve().then(()=>index$1),ws=new ms(this.options);return this.client=ws,this.logger.info("Client initialized"),ws}processTxns(ms,ws){const Ss=[];return ms.forEach((Es,_s)=>{const Is=!ws||ws.includes(_s),Ts=Es.sender.toString(),Rs=this.addresses.includes(Ts);Is&&Rs?Ss.push({txn:Es}):Ss.push({txn:Es,signers:[]})}),Ss}processEncodedTxns(ms,ws){const Ss=[];return ms.forEach((Es,_s)=>{const Is=algosdk.msgpackRawDecode(Es),Ts=isSignedTxn(Is),Rs=Ts?algosdk.decodeSignedTransaction(Es).txn:algosdk.decodeUnsignedTransaction(Es),Bs=!ws||ws.includes(_s),Ns=Rs.sender.toString(),Ws=!Ts&&this.addresses.includes(Ns);Bs&&Ws?Ss.push({txn:Rs}):Ss.push({txn:Rs,signers:[]})}),Ss}},cp(Jm,"defaultMetadata",{name:"Defly",icon:ICON4}),Jm);function isAVMWebProviderSDKError(vs){return typeof vs=="object"&&"code"in vs&&"message"in vs}var AVMProvider=class extends BaseWallet{constructor(ms){super(ms);cp(this,"avmWebClient",null);cp(this,"avmWebProviderSDK",null);cp(this,"providerId");this.providerId=ms.providerId}async _initializeAVMWebProviderSDK(){if(!this.avmWebProviderSDK){this.logger.info("Initializing @agoralabs-sh/avm-web-provider...");const ms=await Promise.resolve().then(()=>useWallet$3);if(this.avmWebProviderSDK=ms.default?ms.default:ms,!this.avmWebProviderSDK)throw new Error("Failed to initialize, the @agoralabs-sh/avm-web-provider SDK was not provided");if(!this.avmWebProviderSDK.AVMWebClient)throw new Error("Failed to initialize, AVMWebClient missing from @agoralabs-sh/avm-web-provider SDK");this.logger.info("@agoralabs-sh/avm-web-provider SDK initialized")}return this.avmWebProviderSDK}async _initializeAVMWebClient(){const ms=await this._initializeAVMWebProviderSDK();if(!ms.AVMWebClient)throw new Error("Failed to initialize, AVMWebClient not found");return this.avmWebClient||(this.logger.info("Initializing new AVM Web Client..."),this.avmWebClient=ms.AVMWebClient.init(),this.logger.info("AVM Web Client initialized")),this.avmWebClient}async _getGenesisHash(){const ms=this.activeNetworkConfig;if(ms.genesisHash)return ms.genesisHash;const Ss=await this.getAlgodClient().versionsCheck().do();return algosdk.bytesToBase64(Ss.genesisHashB64)}_mapAVMWebProviderAccountToWalletAccounts(ms){return ms.map(({address:ws,name:Ss},Es)=>({name:Ss||`[${this.metadata.name}] Account ${Es+1}`,address:ws}))}processTxns(ms,ws){const Ss=[];return ms.forEach((Es,_s)=>{const Is=!ws||ws.includes(_s),Ts=Es.sender.toString(),Rs=this.addresses.includes(Ts),Bs=byteArrayToBase64(Es.toByte());Is&&Rs?Ss.push({txn:Bs}):Ss.push({txn:Bs,signers:[]})}),Ss}processEncodedTxns(ms,ws){const Ss=[];return ms.forEach((Es,_s)=>{const Is=algosdk.msgpackRawDecode(Es),Ts=isSignedTxn(Is),Rs=Ts?algosdk.decodeSignedTransaction(Es).txn:algosdk.decodeUnsignedTransaction(Es),Bs=!ws||ws.includes(_s),Ns=Rs.sender.toString(),Ws=!Ts&&this.addresses.includes(Ns),Js=byteArrayToBase64(Rs.toByte());Bs&&Ws?Ss.push({txn:Js}):Ss.push({txn:Js,signers:[]})}),Ss}async connect(){try{this.logger.info("Connecting...");const ms=await this._enable();this.logger.info(`Successfully connected on network "${ms.genesisId}"`);const ws=this._mapAVMWebProviderAccountToWalletAccounts(ms.accounts),Ss={accounts:ws,activeAccount:ws[0]};return addWallet(this.store,{walletId:this.id,wallet:Ss}),this.logger.info("✅ Connected.",Ss),ws}catch(ms){throw this.logger.error("Error connecting: ",isAVMWebProviderSDKError(ms)?`${ms.message} (code: ${ms.code})`:ms.message),ms}}async disconnect(){try{this.logger.info("Disconnecting..."),this.onDisconnect();const ms=await this._disable();this.logger.info(`Successfully disconnected${ms.sessionIds&&ms.sessionIds.length?` sessions [${ms.sessionIds.join(",")}]`:""} on network "${ms.genesisId}"`)}catch(ms){throw this.logger.error("Error disconnecting: ",isAVMWebProviderSDKError(ms)?`${ms.message} (code: ${ms.code})`:ms.message),ms}}async resumeSession(){const ws=this.store.state.wallets[this.id];if(!ws){this.logger.info("No session to resume");return}try{this.logger.info("Resuming session...");const Ss=await this._enable();if(Ss.accounts.length===0)throw new Error("No accounts found!");const Es=this._mapAVMWebProviderAccountToWalletAccounts(Ss.accounts);compareAccounts(Es,ws.accounts)||(this.logger.warn("Session accounts mismatch, updating accounts",{prev:ws.accounts,current:Es}),setAccounts(this.store,{walletId:this.id,accounts:Es})),this.logger.info("Session resumed successfully")}catch(Ss){throw this.logger.error("Error resuming session: ",isAVMWebProviderSDKError(Ss)?`${Ss.message} (code: ${Ss.code})`:Ss.message),this.onDisconnect(),Ss}}async signTransactions(ms,ws){try{this.logger.debug("Signing transactions...",{txnGroup:ms,indexesToSign:ws});let Ss=[];if(isTransactionArray(ms)){const Is=flattenTxnGroup(ms);Ss=this.processTxns(Is,ws)}else{const Is=flattenTxnGroup(ms);Ss=this.processEncodedTxns(Is,ws)}this.logger.debug("Sending processed transactions to wallet...",Ss);const Es=await this._signTransactions(Ss);this.logger.debug("Received signed transactions from wallet",Es);const _s=Es.stxns.map(Is=>Is===null?null:base64ToByteArray(Is));return this.logger.debug("Transactions signed successfully",_s),_s}catch(Ss){throw this.logger.error("Error signing transactions: ",isAVMWebProviderSDKError(Ss)?`${Ss.message} (code: ${Ss.code})`:Ss.message),Ss}}},DEFLY_WEB_PROVIDER_ID="95426e60-5f2e-49e9-b912-c488577be962",ICON5=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
  <rect width="1024" height="1024" />
  <path fill="#FFFFFF" d="M779.9,684.4L512,230L244.1,684.4L512,529.5L779.9,684.4z" />
  <path fill="#FFFFFF" d="M733.1,730L512,613.5L290.9,730L512,658L733.1,730z" />
</svg>
`)}`,DeflyWebWallet=(Xm=class extends AVMProvider{constructor({id:vs,store:ms,subscribe:ws,getAlgodClient:Ss,metadata:Es={}}){super({id:vs,metadata:Es,getAlgodClient:Ss,store:ms,subscribe:ws,providerId:DEFLY_WEB_PROVIDER_ID})}async _enable(){const{ARC0027MethodEnum:vs,ARC0027MethodTimedOutError:ms,ARC0027UnknownError:ws,DEFAULT_REQUEST_TIMEOUT:Ss}=await this._initializeAVMWebProviderSDK(),Es=await this._initializeAVMWebClient(),_s=await this._getGenesisHash();return new Promise((Is,Ts)=>{const Rs=window.setTimeout(()=>{Es.removeListener(Bs),Ts(new ms({method:vs.Enable,message:`no response from provider "${this.metadata.name}"`,providerId:DEFLY_WEB_PROVIDER_ID}))},Ss),Bs=Es.onEnable(({error:Ns,method:Ws,result:Js})=>(Es.removeListener(Bs),window.clearTimeout(Rs),Ns?Ts(Ns):Js?Is(Js):Ts(new ws({message:`received response, but "${Ws}" request details were empty for provider "${this.metadata.name}"`,providerId:DEFLY_WEB_PROVIDER_ID}))));Es.enable({genesisHash:_s,providerId:DEFLY_WEB_PROVIDER_ID})})}async _disable(){const{ARC0027MethodEnum:vs,ARC0027MethodTimedOutError:ms,ARC0027UnknownError:ws,LOWER_REQUEST_TIMEOUT:Ss}=await this._initializeAVMWebProviderSDK(),Es=await this._initializeAVMWebClient(),_s=await this._getGenesisHash();return new Promise((Is,Ts)=>{const Rs=window.setTimeout(()=>{Es.removeListener(Bs),Ts(new ms({method:vs.Disable,message:`no response from provider "${this.metadata.name}"`,providerId:DEFLY_WEB_PROVIDER_ID}))},Ss),Bs=Es.onDisable(({error:Ns,method:Ws,result:Js})=>(Es.removeListener(Bs),window.clearTimeout(Rs),Ns?Ts(Ns):Js?(this.logger.debug("Disable successful",{result:Js}),Is(Js)):Ts(new ws({message:`received response, but "${Ws}" request details were empty for provider "${this.metadata.name}"`,providerId:DEFLY_WEB_PROVIDER_ID}))));this.logger.debug("Sending disable request...",{genesisHash:_s}),Es.disable({genesisHash:_s,providerId:DEFLY_WEB_PROVIDER_ID})})}async _signTransactions(vs){const{ARC0027MethodEnum:ms,ARC0027MethodTimedOutError:ws,ARC0027UnknownError:Ss,DEFAULT_REQUEST_TIMEOUT:Es}=await this._initializeAVMWebProviderSDK(),_s=await this._initializeAVMWebClient();return new Promise((Is,Ts)=>{const Rs=window.setTimeout(()=>{_s.removeListener(Bs),Ts(new ws({method:ms.SignTransactions,message:`no response from provider "${this.metadata.name}"`,providerId:DEFLY_WEB_PROVIDER_ID}))},Es),Bs=_s.onSignTransactions(({error:Ns,method:Ws,result:Js})=>(_s.removeListener(Bs),window.clearTimeout(Rs),Ns?Ts(Ns):Js?(this.logger.debug("Sign transactions successful",{result:Js}),Is(Js)):Ts(new Ss({message:`received response, but "${Ws}" request details were empty for provider "${this.metadata.name}"`,providerId:DEFLY_WEB_PROVIDER_ID}))));this.logger.debug("Sending sign transactions request...",{txns:vs}),_s.signTransactions({txns:vs,providerId:DEFLY_WEB_PROVIDER_ID})})}},cp(Xm,"defaultMetadata",{name:"Defly Web Wallet",icon:ICON5}),Xm),ICON6=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg">
  <linearGradient id="grad1" gradientUnits="userSpaceOnUse" x1="246.603" y1="9.2212" x2="174.158" y2="308.5426" gradientTransform="matrix(1 0 0 -1 0 302)">
    <stop offset="0" stop-color="#0B46F9" />
    <stop offset="1" stop-color="#BBFBE0" />
  </linearGradient>
  <path fill="url(#grad1)" d="M274.7,93.9L166.6,23v39.6l69.4,45.1l-8.2,25.8h-61.2v32.9h61.2l8.2,25.8l-69.4,45.1V277l108.2-70.7L257,150.1L274.7,93.9z" />
  
  <linearGradient id="grad2" gradientUnits="userSpaceOnUse" x1="129.3516" y1="-19.1573" x2="56.9066" y2="280.1641" gradientTransform="matrix(1 0 0 -1 0 302)">
    <stop offset="0" stop-color="#0B46F9" />
    <stop offset="1" stop-color="#BBFBE0" />
  </linearGradient>
  <path fill="url(#grad2)" d="M72.5,166.4h61v-32.9H72.2l-7.9-25.8l69.2-45.1V23L25.3,93.9L43,150.1l-17.7,56.2L133.7,277v-39.6l-69.4-45.1L72.5,166.4z" />
  
  <mask id="mask1" maskUnits="userSpaceOnUse" x="25.4" y="23" width="247.6" height="254">
    <path fill="url(#grad1)" d="M274.7,93.9L166.6,23v39.6l69.4,45.1l-8.2,25.8h-61.2v32.9h61.2l8.2,25.8l-69.4,45.1V277l108.2-70.7L257,150.1L274.7,93.9z" />
    <path fill="url(#grad2)" d="M72.5,166.4h61v-32.9H72.2l-7.9-25.8l69.2-45.1V23L25.3,93.9L43,150.1l-17.7,56.2L133.7,277v-39.6l-69.4-45.1L72.5,166.4z" />
  </mask>
  
  <linearGradient id="grad3" gradientUnits="userSpaceOnUse" x1="46.4662" y1="228.7554" x2="171.8638" y2="135.1039" gradientTransform="matrix(1 0 0 -1 0 302)">
    <stop offset="0.1198" stop-color="#8952FF" stop-opacity="0.87" />
    <stop offset="1" stop-color="#DABDFF" stop-opacity="0" />
  </linearGradient>
  <rect x="25.4" y="23" width="247.6" height="254" fill="url(#grad3)" mask="url(#mask1)" />
</svg>
`)}`,ExodusWallet=(Zm=class extends BaseWallet{constructor({id:ms,store:ws,subscribe:Ss,getAlgodClient:Es,options:_s={},metadata:Is={}}){super({id:ms,metadata:Is,getAlgodClient:Es,store:ws,subscribe:Ss});cp(this,"client",null);cp(this,"options");cp(this,"store");cp(this,"connect",async()=>{this.logger.info("Connecting...");const ms=this.client||await this.initializeClient(),{accounts:ws}=await ms.enable(this.options);if(ws.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const Ss=ws.map((Is,Ts)=>({name:`${this.metadata.name} Account ${Ts+1}`,address:Is})),Es=Ss[0],_s={accounts:Ss,activeAccount:Es};return addWallet(this.store,{walletId:this.id,wallet:_s}),this.logger.info("✅ Connected.",_s),Ss});cp(this,"disconnect",async()=>{this.logger.info("Disconnecting..."),this.onDisconnect(),this.logger.info("Disconnected.")});cp(this,"resumeSession",async()=>{try{if(!this.store.state.wallets[this.id]){this.logger.info("No session to resume");return}if(this.logger.info("Resuming session..."),!(await this.initializeClient()).isConnected)throw this.logger.error("Exodus is not connected."),new Error("Exodus is not connected.");this.logger.info("Session resumed")}catch(ms){throw this.logger.error("Error resuming session:",ms.message),this.onDisconnect(),ms}});cp(this,"signTransactions",async(ms,ws)=>{try{this.logger.debug("Signing transactions...",{txnGroup:ms,indexesToSign:ws});let Ss=[];if(isTransactionArray(ms)){const Ts=flattenTxnGroup(ms);Ss=this.processTxns(Ts,ws)}else{const Ts=flattenTxnGroup(ms);Ss=this.processEncodedTxns(Ts,ws)}const Es=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",Ss);const _s=await Es.signTxns(Ss);this.logger.debug("Received signed transactions from wallet",_s);const Is=_s.map(Ts=>Ts===null?null:base64ToByteArray(Ts));return this.logger.debug("Transactions signed successfully",Is),Is}catch(Ss){throw this.logger.error("Error signing transactions:",Ss.message),Ss}});this.options=_s,this.store=ws}async initializeClient(){if(this.logger.info("Initializing client..."),typeof window>"u"||window.algorand===void 0)throw this.logger.error("Exodus is not available."),new Error("Exodus is not available.");const ms=window.algorand;return this.client=ms,this.logger.info("Client initialized"),ms}processTxns(ms,ws){const Ss=[];return ms.forEach((Es,_s)=>{const Is=!ws||ws.includes(_s),Ts=Es.sender.toString(),Rs=this.addresses.includes(Ts),Bs=byteArrayToBase64(Es.toByte());Is&&Rs?Ss.push({txn:Bs}):Ss.push({txn:Bs,signers:[]})}),Ss}processEncodedTxns(ms,ws){const Ss=[];return ms.forEach((Es,_s)=>{const Is=algosdk.msgpackRawDecode(Es),Ts=isSignedTxn(Is),Rs=Ts?algosdk.decodeSignedTransaction(Es).txn:algosdk.decodeUnsignedTransaction(Es),Bs=!ws||ws.includes(_s),Ns=Rs.sender.toString(),Ws=!Ts&&this.addresses.includes(Ns),Js=byteArrayToBase64(Rs.toByte());Bs&&Ws?Ss.push({txn:Js}):Ss.push({txn:Js,signers:[]})}),Ss}},cp(Zm,"defaultMetadata",{name:"Exodus",icon:ICON6}),Zm),KIBISIS_AVM_WEB_PROVIDER_ID="f6d1c86b-4493-42fb-b88d-a62407b4cdf6",ICON7=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 480 480" xmlns="http://www.w3.org/2000/svg">
  <rect fill="#801C96" width="480" height="480" />
  <path fill="#FFFFFF" d="M393.5,223.2c0-7.3-0.6-14.6-1.6-21.6c-0.9-6.5-2.3-12.8-4-18.9c-18-64.9-77.4-112.5-148-112.5c-70.6,0-130,47.6-148,112.5c-1.7,6.2-3,12.5-4,19c-1,7.1-1.6,14.3-1.6,21.6h0v85.5h19.7v-85.5c0-7.2,0.6-14.4,1.8-21.4c14,1.1,27.6,4.3,40.5,9.5c15.9,6.4,30.3,15.6,42.6,27.3c12.3,11.7,22,25.4,28.7,40.6c6.9,15.6,10.5,32.2,10.5,49.2v81.4h0.1h19.6h0.1v-81.5c0.1-17.1,3.6-33.7,10.5-49.2c6.7-15.2,16.4-28.8,28.7-40.6c4.2-4,8.6-7.7,13.2-11.1v132.2h19.7V223.2h0c0-2.5-0.1-5-0.4-7.4c3.3-1.6,6.6-3.1,10-4.5c12.9-5.2,26.4-8.4,40.4-9.5c1.2,7,1.7,14.2,1.8,21.4v85.5h19.7L393.5,223.2L393.5,223.2z M240.1,277.3c-11.6-29.3-32.7-54.1-59.8-71c2.9-10,8.2-19.1,15.8-26.6c11.8-11.8,27.4-18.2,44-18.2s32.3,6.5,44,18.2c4.1,4.1,7.5,8.7,10.3,13.6c5.6-3.4,11.4-6.4,17.4-9.2c-14-25.2-40.9-42.3-71.8-42.3c-35.9,0-66.3,23-77.5,55.1c-15.5-7.1-32.5-11.8-50.4-13.5c1.3-4,2.7-7.9,4.3-11.8c6.7-15.9,16.4-30.3,28.7-42.6s26.6-22,42.6-28.7c16.5-7,34-10.5,52.1-10.5s35.6,3.5,52.1,10.5c15.9,6.7,30.3,16.4,42.6,28.7s22,26.6,28.7,42.6c1.6,3.9,3.1,7.8,4.3,11.8C309,189.2,260.1,226.5,240.1,277.3z" />
  <path fill="#FFFFFF" d="M158.1,359.8h19.7V245.5c-6.1-5.4-12.7-10-19.7-14V359.8z" />
</svg>
`)}`,KibisisWallet=(Qm=class extends AVMProvider{constructor({id:vs,store:ms,subscribe:ws,getAlgodClient:Ss,metadata:Es={}}){super({id:vs,metadata:Es,getAlgodClient:Ss,store:ms,subscribe:ws,providerId:KIBISIS_AVM_WEB_PROVIDER_ID})}async _enable(){const{ARC0027MethodEnum:vs,ARC0027MethodTimedOutError:ms,ARC0027UnknownError:ws,DEFAULT_REQUEST_TIMEOUT:Ss}=await this._initializeAVMWebProviderSDK(),Es=await this._initializeAVMWebClient(),_s=await this._getGenesisHash();return new Promise((Is,Ts)=>{const Rs=window.setTimeout(()=>{Es.removeListener(Bs),Ts(new ms({method:vs.Enable,message:`no response from provider "${this.metadata.name}"`,providerId:KIBISIS_AVM_WEB_PROVIDER_ID}))},Ss),Bs=Es.onEnable(({error:Ns,method:Ws,result:Js})=>(Es.removeListener(Bs),window.clearTimeout(Rs),Ns?Ts(Ns):Js?Is(Js):Ts(new ws({message:`received response, but "${Ws}" request details were empty for provider "${this.metadata.name}"`,providerId:KIBISIS_AVM_WEB_PROVIDER_ID}))));Es.enable({genesisHash:_s,providerId:KIBISIS_AVM_WEB_PROVIDER_ID})})}async _disable(){const{ARC0027MethodEnum:vs,ARC0027MethodTimedOutError:ms,ARC0027UnknownError:ws,LOWER_REQUEST_TIMEOUT:Ss}=await this._initializeAVMWebProviderSDK(),Es=await this._initializeAVMWebClient(),_s=await this._getGenesisHash();return new Promise((Is,Ts)=>{const Rs=window.setTimeout(()=>{Es.removeListener(Bs),Ts(new ms({method:vs.Disable,message:`no response from provider "${this.metadata.name}"`,providerId:KIBISIS_AVM_WEB_PROVIDER_ID}))},Ss),Bs=Es.onDisable(({error:Ns,method:Ws,result:Js})=>(Es.removeListener(Bs),window.clearTimeout(Rs),Ns?Ts(Ns):Js?(this.logger.debug("Disable successful",{result:Js}),Is(Js)):Ts(new ws({message:`received response, but "${Ws}" request details were empty for provider "${this.metadata.name}"`,providerId:KIBISIS_AVM_WEB_PROVIDER_ID}))));this.logger.debug("Sending disable request...",{genesisHash:_s}),Es.disable({genesisHash:_s,providerId:KIBISIS_AVM_WEB_PROVIDER_ID})})}async _signTransactions(vs){const{ARC0027MethodEnum:ms,ARC0027MethodTimedOutError:ws,ARC0027UnknownError:Ss,DEFAULT_REQUEST_TIMEOUT:Es}=await this._initializeAVMWebProviderSDK(),_s=await this._initializeAVMWebClient();return new Promise((Is,Ts)=>{const Rs=window.setTimeout(()=>{_s.removeListener(Bs),Ts(new ws({method:ms.SignTransactions,message:`no response from provider "${this.metadata.name}"`,providerId:KIBISIS_AVM_WEB_PROVIDER_ID}))},Es),Bs=_s.onSignTransactions(({error:Ns,method:Ws,result:Js})=>(_s.removeListener(Bs),window.clearTimeout(Rs),Ns?Ts(Ns):Js?(this.logger.debug("Sign transactions successful",{result:Js}),Is(Js)):Ts(new Ss({message:`received response, but "${Ws}" request details were empty for provider "${this.metadata.name}"`,providerId:KIBISIS_AVM_WEB_PROVIDER_ID}))));this.logger.debug("Sending sign transactions request...",{txns:vs}),_s.signTransactions({txns:vs,providerId:KIBISIS_AVM_WEB_PROVIDER_ID})})}},cp(Qm,"defaultMetadata",{name:"Kibisis",icon:ICON7}),Qm),ICON8=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
  <linearGradient id="algokitGradient" gradientUnits="userSpaceOnUse" x1="0" y1="400" x2="400" y2="0">
    <stop offset="0" style="stop-color:#31D8EE"/>
    <stop offset="1" style="stop-color:#01DC94"/>
  </linearGradient>
  <rect fill="url(#algokitGradient)" width="400" height="400" />
  <path fill="#FFFFFF" d="M309.2,309.3H275l-22.2-82.7l-47.9,82.7h-38.3l73.9-128l-11.9-44.5l-99.6,172.6H90.8L217.1,90.6 h33.5l14.7,54.3h34.6l-23.6,41L309.2,309.3z" />
</svg>
`)}`,KmdWallet=(e1=class extends BaseWallet{constructor({id:ms,store:ws,subscribe:Ss,getAlgodClient:Es,options:_s,metadata:Is={}}){super({id:ms,metadata:Is,getAlgodClient:Es,store:ws,subscribe:Ss});cp(this,"client",null);cp(this,"options");cp(this,"walletName");cp(this,"walletId","");cp(this,"password",null);cp(this,"store");cp(this,"connect",async()=>{this.logger.info("Connecting..."),this.client||await this.initializeClient();try{const ms=await this.fetchToken(),ws=await this.fetchAccounts(ms);if(ws.length===0)throw new Error("No accounts found!");const Ss=ws.map((Is,Ts)=>({name:`${this.metadata.name} Account ${Ts+1}`,address:Is})),Es=Ss[0],_s={accounts:Ss,activeAccount:Es};return addWallet(this.store,{walletId:this.id,wallet:_s}),await this.releaseToken(ms),this.logger.info("✅ Connected.",_s),Ss}catch(ms){throw this.logger.error("Error connecting:",ms.message),ms}});cp(this,"disconnect",async()=>{this.logger.info("Disconnecting..."),this.onDisconnect(),this.logger.info("Disconnected.")});cp(this,"resumeSession",async()=>{try{if(!this.store.state.wallets[this.id]){this.logger.info("No session to resume");return}this.logger.info("Resuming session..."),await this.initializeClient(),this.logger.info("Session resumed")}catch(ms){throw this.logger.error("Error resuming session:",ms.message),this.onDisconnect(),ms}});cp(this,"signTransactions",async(ms,ws)=>{try{this.logger.debug("Signing transactions...",{txnGroup:ms,indexesToSign:ws});let Ss=[];if(isTransactionArray(ms)){const Rs=flattenTxnGroup(ms);Ss=this.processTxns(Rs,ws)}else{const Rs=flattenTxnGroup(ms);Ss=this.processEncodedTxns(Rs,ws)}const Es=await this.fetchToken(),_s=await this.getPassword(),Is=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",Ss);const Ts=await Promise.all(Ss.map(Rs=>Is.signTransaction(Es,_s,Rs)));return this.logger.debug("Received signed transactions from wallet",Ts),await this.releaseToken(Es),this.logger.debug("Transactions signed successfully",Ts),Ts}catch(Ss){throw this.logger.error("Error signing transactions:",Ss.message),Ss}});const{token:Ts="a".repeat(64),baseServer:Rs="http://127.0.0.1",port:Bs=4002,wallet:Ns="unencrypted-default-wallet",promptForPassword:Ws=()=>Promise.resolve(prompt("KMD password")||"")}=_s||{};this.options={token:Ts,baseServer:Rs,port:Bs,promptForPassword:Ws},this.walletName=Ns,this.store=ws}async initializeClient(){this.logger.info("Initializing client...");const{token:ms,baseServer:ws,port:Ss}=this.options,Es=new algosdk.Kmd(ms,ws,Ss);return this.client=Es,this.logger.info("Client initialized"),Es}processTxns(ms,ws){const Ss=[];return ms.forEach((Es,_s)=>{const Is=!ws||ws.includes(_s),Ts=Es.sender.toString(),Rs=this.addresses.includes(Ts);Is&&Rs&&Ss.push(Es)}),Ss}processEncodedTxns(ms,ws){const Ss=[];return ms.forEach((Es,_s)=>{const Is=algosdk.msgpackRawDecode(Es),Ts=isSignedTxn(Is),Rs=Ts?algosdk.decodeSignedTransaction(Es).txn:algosdk.decodeUnsignedTransaction(Es),Bs=!ws||ws.includes(_s),Ns=Rs.sender.toString(),Ws=!Ts&&this.addresses.includes(Ns);Bs&&Ws&&Ss.push(Rs)}),Ss}async fetchWalletId(){this.logger.debug("Fetching wallet data...",{walletName:this.walletName});const ms=this.client||await this.initializeClient(),{wallets:ws}=await ms.listWallets(),Ss=ws.find(Es=>Es.name===this.walletName);if(!Ss)throw this.logger.error(`Wallet "${this.walletName}" not found!`),new Error(`Wallet "${this.walletName}" not found!`);return this.walletId=Ss.id,this.logger.debug("Wallet data fetched successfully",{walletId:this.walletId}),Ss.id}async fetchToken(){this.logger.debug("Fetching token...",{walletId:this.walletId});const ms=this.client||await this.initializeClient(),ws=this.walletId||await this.fetchWalletId(),Ss=await this.getPassword(),{wallet_handle_token:Es}=await ms.initWalletHandle(ws,Ss);return this.logger.debug("Token fetched successfully"),Es}async releaseToken(ms){this.logger.debug("Releasing token..."),await(this.client||await this.initializeClient()).releaseWalletHandle(ms),this.logger.debug("Token released successfully")}async getPassword(){if(this.password!==null)return this.password;const ms=await this.options.promptForPassword();return this.password=ms,ms}async fetchAccounts(ms){this.logger.debug("Fetching accounts...");const ws=this.client||await this.initializeClient(),{addresses:Ss}=await ws.listKeys(ms);return this.logger.debug("Accounts fetched successfully",{addresses:Ss}),Ss}},cp(e1,"defaultMetadata",{name:"KMD",icon:ICON8}),e1);function isSignTxnsError(vs){return vs instanceof Error&&"code"in vs}function isSignDataError(vs){return vs instanceof Error&&"code"in vs}var ICON9=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
  <path fill="#AB47BC" d="M283.7,263.6c-0.6,0-1.3-0.1-1.8-0.4c-0.6-0.3-1.1-0.8-1.5-1.3c-0.4-0.6-0.7-1.3-0.8-2 c-0.1-0.8-0.1-1.7,0.1-2.5c0.2-0.9,0.6-1.8,1.2-2.6c0.6-0.8,1.4-1.7,2.2-2.3c0.9-0.7,2.1-1.2,3.2-1.6c1.2-0.4,2.7-0.5,4-0.5 c1.4,0,3,0.3,4.4,0.8c1.5,0.5,3.1,1.4,4.3,2.3c1.4,1,2.8,2.4,3.8,3.7c1.1,1.5,2.1,3.3,2.8,5.1c0.7,1.9,1.2,4.1,1.3,6.1 c0.2,2.1,0,4.6-0.4,6.7c-0.5,2.2-1.4,4.7-2.4,6.7c-1.1,2.1-2.8,4.4-4.4,6.2c-1.8,1.9-4.1,3.7-6.3,5c-2.3,1.4-5.2,2.6-7.9,3.3 c-2.8,0.7-6.1,1.1-8.9,1.1c-3,0-6.5-0.6-9.3-1.4c-3-0.9-6.4-2.4-9.1-4c-2.8-1.7-5.8-4.2-8-6.6c-2.3-2.5-4.6-5.8-6.2-8.9 c-1.7-3.2-3.1-7.1-3.8-10.7c-0.8-3.7-1.1-8-0.9-11.8c0.2-3.9,1.1-8.3,2.3-12c1.3-3.8,3.4-8.1,5.7-11.4c2.3-3.5,5.6-7.1,8.8-9.9 c3.3-2.8,7.5-5.6,11.5-7.5c4.1-1.9,9-3.5,13.5-4.3c4.6-0.8,10-1.1,14.6-0.7c4.8,0.4,10.2,1.6,14.7,3.3c4.7,1.7,9.7,4.4,13.8,7.3 c4.2,3,8.5,7,11.7,10.9c3.3,4.1,6.5,9.2,8.7,14c2.2,4.9,4,10.9,4.9,16.3c0.9,5.5,1,11.9,0.4,17.5c-0.6,5.7-2.2,12.1-4.3,17.4 c-2.1,5.5-5.4,11.4-8.9,16.1c-3.6,4.8-8.4,9.8-13.1,13.6c-4.8,3.8-11,7.5-16.6,9.9c-5.8,2.5-12.8,4.5-19.1,5.4 c-6.4,0.9-13.9,1-20.3,0.2c-6.6-0.8-14-2.7-20.1-5.2c-6.3-2.5-13.1-6.4-18.5-10.5c-5.5-4.2-11.2-9.8-15.4-15.3 c-4.3-5.6-8.4-12.7-11.2-19.2c-2.8-6.7-4.9-14.7-5.9-21.9c-0.9-5.9-2.8-12.6-5.2-18.1c-2.3-5.4-5.9-11.2-9.5-15.8 c-3.6-4.5-8.3-9-13-12.4c-4.5-3.3-10.1-6.4-15.3-8.3c-5-1.9-11.1-3.4-16.5-3.9c-5.2-0.5-11.3-0.3-16.5,0.5c-5,0.8-10.7,2.6-15.3,4.7 c-4.5,2.1-9.4,5.1-13.2,8.3c-3.7,3.1-7.5,7.2-10.2,11.1c-2.7,3.8-5.2,8.6-6.7,13c-1.5,4.2-2.6,9.3-3,13.8c-0.3,4.3-0.1,9.4,0.7,13.7 c0.8,4.1,2.3,8.8,4.2,12.5c1.8,3.6,4.4,7.6,7.1,10.6c2.6,2.9,6,5.9,9.3,8.1c3.1,2.1,7.1,4,10.6,5.1c3.4,1.1,7.5,1.9,11.1,2 c3.5,0.2,7.4-0.2,10.8-1c3.2-0.7,6.8-2.1,9.7-3.6c2.8-1.5,5.7-3.6,8-5.8c2.2-2.1,4.3-4.8,5.9-7.4c1.5-2.5,2.8-5.5,3.5-8.3 c0.7-2.6,1.1-5.7,1.1-8.5c0-2.6-0.5-5.5-1.2-8c-0.7-2.3-1.8-4.9-3.1-6.9c-1.2-1.9-2.9-3.9-4.6-5.4c-1.6-1.4-3.6-2.8-5.5-3.7 c-1.8-0.9-4-1.6-5.9-1.9c-1.8-0.3-3.9-0.4-5.8-0.1c-1.7,0.2-3.6,0.7-5.1,1.4c-1.4,0.6-2.9,1.6-4.1,2.6c-1.1,0.9-2.1,2.2-2.9,3.4 c-0.7,1.1-1.2,2.5-1.5,3.7c-0.3,1.1-0.4,2.4-0.3,3.6c0.1,1,0.4,2.2,0.8,3.1c0.4,0.8,1,1.7,1.6,2.3c0.6,0.5,1.3,1,2.1,1.3 c0.6,0.2,1.5,0.4,2.1,0.3c0.6-0.1,1.3-0.3,1.8-0.6c0.5-0.3,1-0.8,1.2-1.4c0.3-0.5,0.7-1,1.2-1.4c0.5-0.3,1.2-0.6,1.8-0.6 c0.7-0.1,1.5,0.1,2.1,0.3c0.7,0.3,1.5,0.8,2.1,1.3c0.6,0.6,1.3,1.5,1.6,2.3c0.4,0.9,0.7,2.1,0.8,3.1c0.1,1.1,0,2.5-0.3,3.6 c-0.3,1.2-0.9,2.6-1.5,3.7c-0.7,1.2-1.8,2.4-2.9,3.4c-1.2,1-2.7,2-4.1,2.6c-1.5,0.7-3.4,1.2-5.1,1.4c-1.8,0.2-4,0.2-5.8-0.1 c-2-0.3-4.1-1-5.9-1.9c-1.9-0.9-4-2.3-5.5-3.7c-1.7-1.5-3.4-3.5-4.6-5.4c-1.3-2-2.4-4.6-3.1-6.9c-0.7-2.5-1.2-5.4-1.2-8 c0-2.7,0.4-5.8,1.1-8.5c0.7-2.8,2-5.8,3.5-8.3c1.5-2.6,3.7-5.3,5.9-7.4c2.3-2.2,5.2-4.3,8-5.8c2.9-1.6,6.5-2.9,9.7-3.6 c3.4-0.8,7.4-1.1,10.8-1c3.6,0.2,7.7,0.9,11.1,2c3.6,1.2,7.5,3.1,10.6,5.1c3.3,2.1,6.7,5.1,9.3,8.1c2.7,3,5.3,7,7.1,10.6 c1.8,3.8,3.4,8.4,4.2,12.5c0.8,4.3,1.1,9.3,0.7,13.7c-0.4,4.5-1.5,9.6-3,13.8c-1.6,4.4-4.1,9.2-6.7,13c-2.8,3.9-6.5,8-10.2,11.1 c-3.8,3.2-8.7,6.2-13.2,8.3c-4.6,2.1-10.3,3.8-15.3,4.7c-5.2,0.9-11.3,1-16.5,0.5c-5.4-0.5-11.5-2-16.5-3.9 c-5.2-2-10.8-5.1-15.3-8.3c-4.6-3.4-9.4-7.9-13-12.4c-3.7-4.6-7.2-10.4-9.5-15.8c-2.4-5.5-4.3-12.2-5.2-18.1 c-0.9-6.1-1-13.2-0.3-19.3c0.7-6.3,2.5-13.4,4.9-19.2c2.4-6,6.1-12.5,10-17.7c4-5.3,9.3-10.7,14.6-14.8c5.3-4.2,12.1-8.1,18.3-10.7 c6.4-2.7,14.1-4.8,21-5.7c7-1,15.2-1,22.2-0.1c7.2,0.9,15.2,3.1,21.9,5.8c5.6,2.2,12.3,3.9,18.3,4.6c5.8,0.7,12.6,0.5,18.4-0.4 c5.6-0.9,12-2.7,17.2-5c5.1-2.3,10.6-5.6,14.9-9.1c4.2-3.4,8.5-8,11.7-12.3c3.1-4.3,6-9.6,7.8-14.5c1.8-4.8,3.1-10.5,3.6-15.6 c0.5-4.9,0.3-10.7-0.6-15.6c-0.8-4.7-2.5-10.1-4.5-14.4c-2-4.2-4.9-8.8-7.9-12.3c-2.9-3.4-6.8-6.9-10.5-9.5 c-3.6-2.5-8.1-4.8-12.2-6.2c-4-1.4-8.7-2.4-12.9-2.7c-4-0.3-8.7,0-12.7,0.8c-3.8,0.8-8.1,2.2-11.6,4c-3.4,1.7-7,4.1-9.7,6.6 c-2.7,2.4-5.4,5.6-7.3,8.6c-1.9,2.9-3.6,6.5-4.6,9.8c-1,3.2-1.6,6.9-1.7,10.2c-0.1,3.2,0.3,6.8,1,9.9c0.7,2.9,2,6.2,3.5,8.8 c1.4,2.5,3.4,5.1,5.4,7.2c1.9,1.9,4.4,3.8,6.8,5.2c2.2,1.3,5,2.4,7.5,3c2.3,0.6,5.1,0.9,7.6,0.8c2.3-0.1,4.9-0.5,7-1.3 c2-0.7,4.2-1.7,6-2.9c1.6-1.1,3.3-2.7,4.6-4.2c1.2-1.4,2.3-3.2,3-4.9c0.7-1.6,1.2-3.5,1.3-5.1c0.2-1.5,0.1-3.3-0.2-4.9 c-0.3-1.4-0.8-2.9-1.5-4.2c-0.6-1.1-1.5-2.3-2.4-3.2c-0.8-0.8-1.9-1.5-3-2c-0.9-0.4-2.1-0.7-3.1-0.8c-0.9-0.1-1.9,0-2.8,0.3 c-0.7,0.2-1.6,0.6-2.2,1.1c-0.5,0.4-1,1.1-1.3,1.7c-0.3,0.6-0.4,1.3-0.4,1.9c0,0.6,0.2,1.2,0.6,1.7c0.3,0.5,0.5,1.2,0.6,1.7 c0,0.6-0.1,1.3-0.4,1.9c-0.3,0.6-0.8,1.3-1.3,1.7c-0.6,0.5-1.4,0.9-2.2,1.1c-0.9,0.3-1.9,0.3-2.8,0.3c-1-0.1-2.2-0.4-3.1-0.8 c-1-0.5-2.1-1.2-3-2c-0.9-0.9-1.8-2.1-2.4-3.2c-0.7-1.2-1.2-2.8-1.5-4.2c-0.3-1.5-0.4-3.3-0.2-4.9c0.2-1.7,0.7-3.6,1.3-5.1 c0.7-1.7,1.8-3.5,3-4.9c1.3-1.5,3-3.1,4.6-4.2c1.8-1.2,4-2.3,6-2.9c2.2-0.7,4.8-1.2,7-1.3c2.4-0.1,5.2,0.2,7.6,0.8 c2.5,0.6,5.3,1.7,7.5,3c2.4,1.3,4.9,3.2,6.8,5.2c2,2,4,4.7,5.4,7.2c1.5,2.6,2.7,5.9,3.5,8.8c0.8,3.1,1.1,6.7,1,9.9 c-0.1,3.3-0.7,7.1-1.7,10.2c-1,3.3-2.7,6.9-4.6,9.8c-1.9,3-4.7,6.2-7.3,8.6c-2.8,2.5-6.4,5-9.7,6.6c-3.5,1.8-7.8,3.2-11.6,4 c-4,0.8-8.7,1.1-12.7,0.8c-4.2-0.3-9-1.3-12.9-2.7c-4.1-1.4-8.6-3.7-12.2-6.2c-3.7-2.6-7.6-6.1-10.5-9.5c-3-3.6-5.9-8.1-7.9-12.3 c-2-4.4-3.7-9.7-4.5-14.4c-0.8-4.9-1.1-10.6-0.6-15.6c0.5-5.1,1.8-10.8,3.6-15.6c1.8-4.9,4.7-10.3,7.8-14.5 c3.2-4.4,7.5-8.9,11.7-12.3c4.3-3.5,9.8-6.9,14.9-9.1c5.2-2.3,11.6-4.2,17.2-5c5.8-0.9,12.6-1,18.4-0.4c6,0.7,12.7,2.4,18.3,4.6 c5.7,2.3,12,5.7,16.9,9.4c5.1,3.8,10.3,8.9,14.2,13.8c4,5.1,7.8,11.5,10.3,17.5c2.6,6.1,4.6,13.5,5.5,20c0.9,6.7,1,14.5,0.1,21.2 c-0.9,6.9-2.9,14.6-5.5,21c-2.7,6.5-6.8,13.6-11,19.3c-4.4,5.7-10.3,11.7-16,16c-4.7,3.7-9.5,8.7-13.1,13.6 c-3.5,4.7-6.8,10.7-8.9,16.1c-2.1,5.3-3.6,11.7-4.3,17.4c-0.6,5.5-0.4,12,0.4,17.5c0.9,5.3,2.6,11.3,4.9,16.3c2.2,4.8,5.4,10,8.7,14 c3.2,3.9,7.6,8,11.7,10.9c4,2.9,9.1,5.6,13.8,7.3c4.5,1.7,9.9,2.9,14.7,3.3c4.6,0.4,10,0.2,14.6-0.7c4.4-0.8,9.4-2.4,13.5-4.3 c3.9-1.9,8.2-4.6,11.5-7.5c3.2-2.7,6.4-6.4,8.8-9.9c2.3-3.4,4.4-7.6,5.7-11.4c1.2-3.7,2.1-8.1,2.3-12c0.2-3.7-0.1-8.1-0.9-11.8 c-0.8-3.5-2.2-7.5-3.8-10.7c-1.6-3.1-3.9-6.3-6.2-8.9c-2.2-2.4-5.2-4.9-8-6.6c-2.7-1.7-6-3.2-9.1-4c-2.9-0.8-6.3-1.4-9.3-1.4 c-2.9,0-6.2,0.4-8.9,1.1c-2.6,0.7-5.5,1.9-7.9,3.3c-2.2,1.3-4.5,3.2-6.3,5c-1.7,1.8-3.3,4-4.4,6.2c-1.1,2-2,4.5-2.4,6.7 c-0.4,2.1-0.6,4.5-0.4,6.7c0.2,2,0.6,4.2,1.3,6.1c0.6,1.7,1.7,3.6,2.8,5.1c1,1.3,2.4,2.7,3.8,3.7c1.3,0.9,2.8,1.8,4.3,2.3 c1.3,0.5,2.9,0.8,4.4,0.8c1.3,0,2.7-0.1,4-0.5c1.1-0.3,2.3-0.9,3.2-1.6c0.8-0.6,1.7-1.4,2.2-2.3c0.5-0.7,0.9-1.7,1.2-2.6 c0.2-0.8,0.2-1.7,0.1-2.5c-0.1-0.7-0.4-1.4-0.8-2c-0.4-0.5-0.9-1-1.5-1.3C285,263.7,284.3,263.6,283.7,263.6L283.7,263.6z" />
</svg>
`)}`,LuteWallet=(t1=class extends BaseWallet{constructor({id:ms,store:ws,subscribe:Ss,getAlgodClient:Es,options:_s={},metadata:Is={}}){super({id:ms,metadata:Is,getAlgodClient:Es,store:ws,subscribe:Ss});cp(this,"client",null);cp(this,"options");cp(this,"store");cp(this,"connect",async()=>{this.logger.info("Connecting...");const ms=this.client||await this.initializeClient(),ws=await this.getGenesisId(),Ss=await ms.connect(ws);if(Ss.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const Es=Ss.map((Ts,Rs)=>({name:`${this.metadata.name} Account ${Rs+1}`,address:Ts})),_s=Es[0],Is={accounts:Es,activeAccount:_s};return addWallet(this.store,{walletId:this.id,wallet:Is}),this.logger.info("Connected successfully",Is),Es});cp(this,"disconnect",async()=>{this.onDisconnect(),this.logger.info("Disconnected")});cp(this,"resumeSession",async()=>{try{if(!this.store.state.wallets[this.id]){this.logger.info("No session to resume");return}this.logger.info("Resuming session..."),await this.initializeClient(),this.logger.info("Session resumed successfully")}catch(ms){throw this.logger.error("Error resuming session:",ms.message),this.onDisconnect(),ms}});cp(this,"signTransactions",async(ms,ws)=>{try{this.logger.debug("Signing transactions...",{txnGroup:ms,indexesToSign:ws});let Ss=[];if(isTransactionArray(ms)){const Is=flattenTxnGroup(ms);Ss=this.processTxns(Is,ws)}else{const Is=flattenTxnGroup(ms);Ss=this.processEncodedTxns(Is,ws)}const Es=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",Ss);const _s=await Es.signTxns(Ss);return this.logger.debug("Transactions signed successfully",_s),_s}catch(Ss){throw isSignTxnsError(Ss)?(this.logger.error("Error signing transactions:",Ss.message,`(code: ${Ss.code})`),new SignTxnsError(Ss.message,Ss.code)):(this.logger.error("Unknown error signing transactions:",Ss),Ss)}});cp(this,"canSignData",!0);cp(this,"signData",async(ms,ws)=>{try{this.logger.debug("Signing data...",{data:ms,metadata:ws});const Es=await(this.client||await this.initializeClient()).signData(ms,ws);return this.logger.debug("Data signed successfully",Es),Es}catch(Ss){throw isSignDataError(Ss)?(this.logger.error("Error signing data:",Ss.message,`(code: ${Ss.code})`),new SignDataError(Ss.message,Ss.code)):(this.logger.error("Unknown error signing data:",Ss),Ss)}});this.options=_s,this.store=ws}async initializeClient(){var Es;this.logger.info("Initializing client...");const ws=(await Promise.resolve().then(()=>useWallet$1)).default,Ss=new ws((Es=this.options)==null?void 0:Es.siteName);return this.client=Ss,this.logger.info("Client initialized"),Ss}async getGenesisId(){const ms=this.activeNetworkConfig;if(ms.genesisId)return ms.genesisId;const Ss=await this.getAlgodClient().genesis().do(),Es=algosdk.parseJSON(Ss,{intDecoding:algosdk.IntDecoding.MIXED});return`${Es.network}-${Es.id}`}processTxns(ms,ws){const Ss=[];return ms.forEach((Es,_s)=>{const Is=!ws||ws.includes(_s),Ts=Es.sender.toString(),Rs=this.addresses.includes(Ts),Bs=byteArrayToBase64(Es.toByte());Is&&Rs?Ss.push({txn:Bs}):Ss.push({txn:Bs,signers:[]})}),Ss}processEncodedTxns(ms,ws){const Ss=[];return ms.forEach((Es,_s)=>{const Is=algosdk.msgpackRawDecode(Es),Ts=isSignedTxn(Is),Rs=Ts?algosdk.decodeSignedTransaction(Es).txn:algosdk.decodeUnsignedTransaction(Es),Bs=!ws||ws.includes(_s),Ns=Rs.sender.toString(),Ws=!Ts&&this.addresses.includes(Ns),Js=byteArrayToBase64(Rs.toByte());Bs&&Ws?Ss.push({txn:Js}):Ss.push({txn:Js,signers:[]})}),Ss}},cp(t1,"defaultMetadata",{name:"Lute",icon:ICON9}),t1),ICON10=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 47 47" xmlns="http://www.w3.org/2000/svg">
  <path fill="#6851FF" d="M 23.960861 1.80769 C 25.835077 4.103153 27.902216 6.23489 30.137539 8.178169 C 28.647968 13.009323 27.846092 18.142094 27.846092 23.462154 C 27.846092 28.782307 28.648062 33.915169 30.13763 38.746368 C 27.902216 40.689724 25.835077 42.821476 23.960861 45.116985 C 22.086554 42.821476 20.019415 40.689632 17.783998 38.746368 C 19.273476 33.915169 20.075445 28.7824 20.075445 23.462337 C 20.075445 18.142277 19.273476 13.009506 17.783998 8.178318 C 20.019415 6.235001 22.086554 4.10321 23.960861 1.80769 Z M 13.511427 35.406403 C 11.145139 33.747814 8.633816 32.282063 6.000269 31.031937 C 6.730776 28.637476 7.123754 26.095783 7.123754 23.462429 C 7.123754 20.828892 6.730762 18.287201 6.000235 15.892738 C 8.633816 14.642616 11.145175 13.176861 13.511501 11.518276 C 14.416311 15.352554 14.895074 19.351414 14.895074 23.462154 C 14.895074 27.572985 14.416283 31.571938 13.511427 35.406403 Z M 33.027046 23.462337 C 33.027046 27.572985 33.505753 31.571846 34.410553 35.406124 C 36.776859 33.747631 39.288094 32.281876 41.921539 31.031845 C 41.191017 28.637384 40.798061 26.095692 40.798061 23.462246 C 40.798061 20.8288 41.191017 18.287201 41.921539 15.89283 C 39.288094 14.642708 36.776768 13.177048 34.410553 11.518555 C 33.505753 15.352831 33.027046 19.351692 33.027046 23.462337 Z" />
</svg>
`)}`,MagicAuth=(n1=class extends BaseWallet{constructor({id:ms,store:ws,subscribe:Ss,getAlgodClient:Es,options:_s,metadata:Is={}}){super({id:ms,metadata:Is,getAlgodClient:Es,store:ws,subscribe:Ss});cp(this,"client",null);cp(this,"options");cp(this,"store");cp(this,"userInfo",null);cp(this,"connect",async ms=>{if(this.logger.info("Connecting..."),!(ms!=null&&ms.email)||typeof ms.email!="string")throw this.logger.error("Magic Link provider requires an email (string) to connect"),new Error("Magic Link provider requires an email (string) to connect");const{email:ws}=ms,Ss=this.client||await this.initializeClient();this.logger.info(`Logging in ${ws}...`),await Ss.auth.loginWithMagicLink({email:ws});const Es=await Ss.user.getInfo();if(!Es)throw this.logger.error("User info not found!"),new Error("User info not found!");if(!Es.publicAddress)throw this.logger.error("No account found!"),new Error("No account found!");this.userInfo=Es,this.logger.info("Login successful",Es);const _s={name:Es.email??"Magic Wallet 1",address:Es.publicAddress},Is={accounts:[_s],activeAccount:_s};return addWallet(this.store,{walletId:this.id,wallet:Is}),this.logger.info("Connected successfully",Is),[_s]});cp(this,"disconnect",async()=>{var ws;this.logger.info("Disconnecting..."),this.onDisconnect();const ms=this.client||await this.initializeClient();this.logger.info(`Logging out ${((ws=this.userInfo)==null?void 0:ws.email)||"user"}...`),await ms.user.logout(),this.logger.info("Disconnected")});cp(this,"resumeSession",async()=>{try{const ws=this.store.state.wallets[this.id];if(!ws){this.logger.info("No session to resume");return}this.logger.info("Resuming session...");const Ss=this.client||await this.initializeClient();if(!await Ss.user.isLoggedIn()){this.logger.warn("Not logged in, please reconnect..."),this.onDisconnect();return}const _s=await Ss.user.getInfo();if(!_s)throw await Ss.user.logout(),this.logger.error("User info not found!"),new Error("User info not found!");if(!_s.publicAddress)throw await Ss.user.logout(),this.logger.error("No account found!"),new Error("No account found!");this.userInfo=_s;const Is={name:_s.email??`${this.metadata.name} Account 1`,address:_s.publicAddress},Ts=ws.accounts[0],{name:Rs,address:Bs}=Is,{name:Ns,address:Ws}=Ts;Rs===Ns&&Bs===Ws||(this.logger.warn("Session account mismatch, updating account",{prev:Ts,current:Is}),setAccounts(this.store,{walletId:this.id,accounts:[Is]})),this.logger.info("Session resumed successfully")}catch(ms){throw this.logger.error("Error resuming session:",ms.message),this.onDisconnect(),ms}});cp(this,"signTransactions",async(ms,ws)=>{try{this.logger.debug("Signing transactions...",{txnGroup:ms,indexesToSign:ws});let Ss=[];if(isTransactionArray(ms)){const Ts=flattenTxnGroup(ms);Ss=this.processTxns(Ts,ws)}else{const Ts=flattenTxnGroup(ms);Ss=this.processEncodedTxns(Ts,ws)}const Es=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",Ss);const _s=await Es.algorand.signGroupTransactionV2(Ss);this.logger.debug("Received signed transactions from wallet",_s);const Is=_s.map(Ts=>Ts===void 0?null:base64ToByteArray(Ts));return this.logger.debug("Transactions signed successfully",Is),Is}catch(Ss){throw this.logger.error("Error signing transactions:",Ss.message),Ss}});if(!(_s!=null&&_s.apiKey))throw this.logger.error("Missing required option: apiKey"),new Error("Missing required option: apiKey");this.options=_s,this.store=ws}async initializeClient(){this.logger.info("Initializing client...");const ms=(await Promise.resolve().then(()=>(init_es4(),es_exports))).Magic,ws=(await Promise.resolve().then(()=>(init_es5(),es_exports2))).AlgorandExtension,Ss=new ms(this.options.apiKey,{extensions:{algorand:new ws({rpcUrl:""})}});return this.client=Ss,this.logger.info("Client initialized"),Ss}processTxns(ms,ws){const Ss=[];return ms.forEach((Es,_s)=>{const Is=!ws||ws.includes(_s),Ts=Es.sender.toString(),Rs=this.addresses.includes(Ts),Bs=byteArrayToBase64(Es.toByte());Is&&Rs?Ss.push({txn:Bs}):Ss.push({txn:Bs,signers:[]})}),Ss}processEncodedTxns(ms,ws){const Ss=[];return ms.forEach((Es,_s)=>{const Is=algosdk.msgpackRawDecode(Es),Ts=isSignedTxn(Is),Rs=Ts?algosdk.decodeSignedTransaction(Es).txn:algosdk.decodeUnsignedTransaction(Es),Bs=!ws||ws.includes(_s),Ns=Rs.sender.toString(),Ws=!Ts&&this.addresses.includes(Ns),Js=byteArrayToBase64(Rs.toByte());Bs&&Ws?Ss.push({txn:Js}):Ss.push({txn:Js,signers:[]})}),Ss}},cp(n1,"defaultMetadata",{name:"Magic",icon:ICON10}),n1),LOCAL_STORAGE_MNEMONIC_KEY=`${LOCAL_STORAGE_KEY}_mnemonic`,ICON11=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
  <rect fill="#525252" width="400" height="400" />
  <path fill="#FFFFFF" d="M309.2,309.3H275l-22.2-82.7l-47.9,82.7h-38.3l73.9-128l-11.9-44.5l-99.6,172.6H90.8L217.1,90.6 h33.5l14.7,54.3h34.6l-23.6,41L309.2,309.3z" />
</svg>
`)}`,MnemonicWallet=(r1=class extends BaseWallet{constructor({id:ms,store:ws,subscribe:Ss,getAlgodClient:Es,options:_s,metadata:Is={}}){super({id:ms,metadata:Is,getAlgodClient:Es,store:ws,subscribe:Ss});cp(this,"account",null);cp(this,"options");cp(this,"store");cp(this,"connect",async()=>{this.checkMainnet(),this.logger.info("Connecting...");const ms=await this.initializeAccount(),ws={name:`${this.metadata.name} Account`,address:ms.addr.toString()},Ss={accounts:[ws],activeAccount:ws};return addWallet(this.store,{walletId:this.id,wallet:Ss}),this.logger.info("Connected successfully",Ss),[ws]});cp(this,"disconnect",async()=>{this.logger.info("Disconnecting..."),this.onDisconnect(),this.account=null,this.removeMnemonicFromStorage(),this.logger.info("Disconnected")});cp(this,"resumeSession",async()=>{if(this.checkMainnet(),!this.store.state.wallets[this.id]){this.logger.info("No session to resume");return}if(this.logger.info("Resuming session..."),this.options.persistToStorage)try{await this.initializeAccount(),this.logger.info("Session resumed successfully")}catch(Ss){throw this.logger.error("Error resuming session:",Ss.message),this.disconnect(),Ss}else this.logger.info("No session to resume, disconnecting..."),this.disconnect()});cp(this,"signTransactions",async(ms,ws)=>{this.checkMainnet();try{this.logger.debug("Signing transactions...",{txnGroup:ms,indexesToSign:ws});let Ss=[];if(isTransactionArray(ms)){const _s=flattenTxnGroup(ms);Ss=this.processTxns(_s,ws)}else{const _s=flattenTxnGroup(ms);Ss=this.processEncodedTxns(_s,ws)}const Es=Ss.map(_s=>_s.signTxn(this.account.sk));return this.logger.debug("Transactions signed successfully",{signedTxns:Es}),Es}catch(Ss){throw this.logger.error("Error signing transactions:",Ss.message),Ss}});const{persistToStorage:Ts=!1,promptForMnemonic:Rs=()=>Promise.resolve(prompt("Enter 25-word mnemonic passphrase:"))}=_s||{};this.options={persistToStorage:Ts,promptForMnemonic:Rs},this.store=ws,this.options.persistToStorage&&this.logger.warn("Persisting mnemonics to storage is insecure. Any private key mnemonics used should never hold real Algos (i.e., on MainNet). Use with caution!")}loadMnemonicFromStorage(){return StorageAdapter.getItem(LOCAL_STORAGE_MNEMONIC_KEY)}saveMnemonicToStorage(ms){StorageAdapter.setItem(LOCAL_STORAGE_MNEMONIC_KEY,ms)}removeMnemonicFromStorage(){StorageAdapter.removeItem(LOCAL_STORAGE_MNEMONIC_KEY)}checkMainnet(){try{if(!this.activeNetworkConfig.isTestnet)throw this.logger.warn("The Mnemonic wallet provider is insecure and intended for testing only. Any private key mnemonics used should never hold real Algos (i.e., on MainNet)."),new Error("Production network detected. Aborting.")}catch(ms){throw this.disconnect(),ms}}async initializeAccount(){let ms=this.loadMnemonicFromStorage();if(!ms){if(ms=await this.options.promptForMnemonic(),!ms)throw this.account=null,this.logger.error("No mnemonic provided"),new Error("No mnemonic provided");this.options.persistToStorage&&(this.logger.warn("Mnemonic saved to localStorage."),this.saveMnemonicToStorage(ms))}const ws=algosdk.mnemonicToSecretKey(ms);return this.account=ws,ws}processTxns(ms,ws){const Ss=[];return ms.forEach((Es,_s)=>{const Is=!ws||ws.includes(_s),Rs=Es.sender.toString()===this.account.addr.toString();Is&&Rs&&Ss.push(Es)}),Ss}processEncodedTxns(ms,ws){const Ss=[];return ms.forEach((Es,_s)=>{const Is=algosdk.msgpackRawDecode(Es),Ts=isSignedTxn(Is),Rs=Ts?algosdk.decodeSignedTransaction(Es).txn:algosdk.decodeUnsignedTransaction(Es),Bs=!ws||ws.includes(_s),Ns=Rs.sender.toString(),Ws=!Ts&&Ns===this.account.addr.toString();Bs&&Ws&&Ss.push(Rs)}),Ss}},cp(r1,"defaultMetadata",{name:"Mnemonic",icon:ICON11}),r1),ICON12=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
  <rect fill="#FFEE55" width="200" height="200" />
  <path fill="#1C1C1C" d="M106.1,64.3c2.2,9.1,1.5,17-1.7,17.8c-3.1,0.8-7.4-6-9.6-15c-2.2-9.1-1.5-17,1.7-17.8 C99.6,48.5,103.9,55.2,106.1,64.3z" />
  <path fill="#1C1C1C" d="M142.2,72.1c-4.8-5.1-14.5-3.7-21.6,3.1c-7,6.9-8.8,16.6-4,21.7c4.8,5.1,14.5,3.7,21.6-3.1 C145.3,86.9,147.1,77.2,142.2,72.1z" />
  <path fill="#1C1C1C" d="M103.7,150.8c3.1-0.8,3.7-9.2,1.4-18.8c-2.3-9.6-6.7-16.8-9.8-16c-3.1,0.8-3.7,9.2-1.4,18.8 C96.2,144.3,100.6,151.5,103.7,150.8z" />
  <path fill="#1C1C1C" d="M72.1,76.8c9,2.6,15.5,7.3,14.6,10.3c-0.9,3.1-8.9,3.4-17.8,0.8s-15.5-7.3-14.6-10.3 C55.1,74.5,63.1,74.1,72.1,76.8z" />
  <path fill="#1C1C1C" d="M130.2,111.5c9.5,2.8,16.5,7.6,15.6,10.6c-0.9,3.1-9.3,3.3-18.8,0.5c-9.5-2.8-16.5-7.6-15.6-10.6 C112.2,108.9,120.7,108.7,130.2,111.5z" />
  <path fill="#1C1C1C" d="M82.1,105c-2.2-2.3-9.5,1-16.3,7.5c-6.8,6.4-10.4,13.5-8.2,15.8c2.2,2.3,9.5-1,16.3-7.5 C80.7,114.4,84.3,107.3,82.1,105z" />
</svg>
`)}`,PeraWallet=(i1=class extends BaseWallet{constructor({id:ms,store:ws,subscribe:Ss,getAlgodClient:Es,options:_s={},metadata:Is={}}){super({id:ms,metadata:Is,getAlgodClient:Es,store:ws,subscribe:Ss});cp(this,"client",null);cp(this,"options");cp(this,"store");cp(this,"connect",async()=>{var Ts;this.logger.info("Connecting...");const ms=this.store.state.activeWallet;ms&&ms!==this.id&&this.manageWalletConnectSession("backup",ms);const ws=this.client||await this.initializeClient(),Ss=await ws.connect();if((Ts=ws.connector)==null||Ts.on("disconnect",this.onDisconnect),Ss.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const Es=Ss.map((Rs,Bs)=>({name:`${this.metadata.name} Account ${Bs+1}`,address:Rs})),_s=Es[0],Is={accounts:Es,activeAccount:_s};return addWallet(this.store,{walletId:this.id,wallet:Is}),this.logger.info("Connected successfully",Is),Es});cp(this,"disconnect",async()=>{this.logger.info("Disconnecting...");const ms=this.client||await this.initializeClient(),ws=this.store.state.activeWallet;ws&&ws!==this.id?(this.manageWalletConnectSession("backup",ws),this.manageWalletConnectSession("restore",this.id),await ms.disconnect(),await new Promise(Ss=>setTimeout(Ss,500)),this.manageWalletConnectSession("restore",ws)):await ms.disconnect(),this.onDisconnect(),this.logger.info("Disconnected")});cp(this,"setActive",()=>{this.logger.info(`Set active wallet: ${this.id}`);const ms=this.store.state.activeWallet;ms&&ms==="defly"&&this.manageWalletConnectSession("backup",ms),this.manageWalletConnectSession("restore"),setActiveWallet(this.store,{walletId:this.id})});cp(this,"resumeSession",async()=>{try{const ms=this.store.state,ws=ms.wallets[this.id];if(typeof window<"u"&&window.navigator&&window.navigator.userAgent.includes("pera")&&!ws&&!ms.activeWallet){this.logger.info("Pera Discover browser detected, attempting auto-connect...");try{await this.connect(),this.logger.info("Auto-connect successful");return}catch(Rs){this.logger.warn("Auto-connect failed:",Rs.message)}}if(!ws){this.logger.info("No session to resume");return}if(ms.activeWallet==="defly"){this.logger.info("Skipping reconnectSession for Pera (inactive)");return}this.logger.info("Resuming session...");const Es=await(this.client||await this.initializeClient()).reconnectSession();if(Es.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const _s=Es.map((Ts,Rs)=>({name:`${this.metadata.name} Account ${Rs+1}`,address:Ts}));compareAccounts(_s,ws.accounts)||(this.logger.warn("Session accounts mismatch, updating accounts",{prev:ws.accounts,current:_s}),setAccounts(this.store,{walletId:this.id,accounts:_s})),this.logger.info("Session resumed successfully")}catch(ms){throw this.logger.error("Error resuming session:",ms.message),this.onDisconnect(),ms}});cp(this,"signTransactions",async(ms,ws)=>{try{this.logger.debug("Signing transactions...",{txnGroup:ms,indexesToSign:ws});let Ss=[];if(isTransactionArray(ms)){const Ts=flattenTxnGroup(ms);Ss=this.processTxns(Ts,ws)}else{const Ts=flattenTxnGroup(ms);Ss=this.processEncodedTxns(Ts,ws)}const Es=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",[Ss]);const _s=await Es.signTransaction([Ss]);this.logger.debug("Received signed transactions from wallet",_s);const Is=Ss.reduce((Ts,Rs)=>{if(Rs.signers&&Rs.signers.length==0)Ts.push(null);else{const Bs=_s.shift();Bs&&Ts.push(Bs)}return Ts},[]);return this.logger.debug("Transactions signed successfully",Is),Is}catch(Ss){throw this.logger.error("Error signing transactions:",Ss.message),Ss}});this.options=_s,this.store=ws}async initializeClient(){this.logger.info("Initializing client...");const{PeraWalletConnect:ms}=await Promise.resolve().then(()=>index),ws=new ms(this.options);return this.client=ws,this.logger.info("Client initialized"),ws}processTxns(ms,ws){const Ss=[];return ms.forEach((Es,_s)=>{const Is=!ws||ws.includes(_s),Ts=Es.sender.toString(),Rs=this.addresses.includes(Ts);Is&&Rs?Ss.push({txn:Es}):Ss.push({txn:Es,signers:[]})}),Ss}processEncodedTxns(ms,ws){const Ss=[];return ms.forEach((Es,_s)=>{const Is=algosdk.msgpackRawDecode(Es),Ts=isSignedTxn(Is),Rs=Ts?algosdk.decodeSignedTransaction(Es).txn:algosdk.decodeUnsignedTransaction(Es),Bs=!ws||ws.includes(_s),Ns=Rs.sender.toString(),Ws=!Ts&&this.addresses.includes(Ns);Bs&&Ws?Ss.push({txn:Rs}):Ss.push({txn:Rs,signers:[]})}),Ss}},cp(i1,"defaultMetadata",{name:"Pera",icon:ICON12}),i1),ICON13=`data:image/svg+xml;base64,${btoa(`
<svg width="860" height="860" viewBox="0 0 860 860" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="860" height="860" rx="30" fill="#151923"/>
  <path d="M766 207L496.627 623.406C463.521 675.336 382.014 652.248 382.014 590.941V432.568L260.638 623.28C227.559 675.255 146 652.186 146 590.854V274.844H234.646V499.761L356.022 309.049C389.101 257.074 470.66 280.143 470.66 341.475V499.978L660.146 207L766 207Z" fill="#4BB7D1"/>
</svg>
`)}`,W3Wallet=(s1=class extends BaseWallet{constructor({id:ms,store:ws,subscribe:Ss,getAlgodClient:Es,metadata:_s={}}){super({id:ms,metadata:_s,getAlgodClient:Es,store:ws,subscribe:Ss});cp(this,"client",null);cp(this,"store");cp(this,"connect",async()=>{this.logger.info("Connecting...");const ws=await(this.client||await this.initializeClient()).account(),Ss={accounts:[ws],activeAccount:ws};return addWallet(this.store,{walletId:this.id,wallet:Ss}),this.logger.info("✅ Connected.",Ss),[ws]});cp(this,"disconnect",async()=>{this.logger.info("Disconnecting..."),this.onDisconnect(),this.logger.info("Disconnected.")});cp(this,"resumeSession",async()=>{try{if(!this.store.state.wallets[this.id]){this.logger.info("No session to resume");return}if(this.logger.info("Resuming session..."),!await(await this.initializeClient()).isConnected())throw this.logger.error("W3 Wallet is not connected."),new Error("W3 Wallet is not connected.");this.logger.info("Session resumed")}catch(ms){throw this.logger.error("Error resuming session:",ms.message),this.onDisconnect(),ms}});cp(this,"signTransactions",async(ms,ws)=>{try{this.logger.debug("Signing transactions...",{txnGroup:ms,indexesToSign:ws});let Ss=[];if(isTransactionArray(ms)){const Ts=flattenTxnGroup(ms);Ss=this.processTxns(Ts,ws)}else{const Ts=flattenTxnGroup(ms);Ss=this.processEncodedTxns(Ts,ws)}const Es=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",Ss);const _s=await Es.signTxns(Ss);this.logger.debug("Received signed transactions from wallet",_s);const Is=_s.map(Ts=>Ts===null?null:base64ToByteArray(Ts));return this.logger.debug("Transactions signed successfully",Is),Is}catch(Ss){throw this.logger.error("Error signing transactions:",Ss.message),Ss}});this.store=ws}async initializeClient(){if(this.logger.info("Initializing client..."),typeof window>"u"||window.w3walletAlgorand===void 0)throw this.logger.error("W3 Wallet is not available."),new Error("W3 Wallet is not available.");const ms=window.w3walletAlgorand;return this.client=ms,this.logger.info("Client initialized"),ms}processTxns(ms,ws){const Ss=[];return ms.forEach((Es,_s)=>{const Is=!ws||ws.includes(_s),Ts=Es.sender.toString(),Rs=this.addresses.includes(Ts),Bs=byteArrayToBase64(Es.toByte());Is&&Rs?Ss.push({txn:Bs}):Ss.push({txn:Bs,signers:[]})}),Ss}processEncodedTxns(ms,ws){const Ss=[];return ms.forEach((Es,_s)=>{const Is=algosdk.msgpackRawDecode(Es),Ts=isSignedTxn(Is),Rs=Ts?algosdk.decodeSignedTransaction(Es).txn:algosdk.decodeUnsignedTransaction(Es),Bs=!ws||ws.includes(_s),Ns=Rs.sender.toString(),Ws=!Ts&&this.addresses.includes(Ns),Js=byteArrayToBase64(Rs.toByte());Bs&&Ws?Ss.push({txn:Js}):Ss.push({txn:Js,signers:[]})}),Ss}},cp(s1,"defaultMetadata",{name:"W3 Wallet",icon:ICON13}),s1);function createWalletMap(){return{biatec:BiatecWallet,custom:CustomWallet,defly:DeflyWallet,"defly-web":DeflyWebWallet,exodus:ExodusWallet,kibisis:KibisisWallet,kmd:KmdWallet,lute:LuteWallet,magic:MagicAuth,mnemonic:MnemonicWallet,pera:PeraWallet,walletconnect:WalletConnect$1,"w3-wallet":W3Wallet}}function compareAccounts(vs,ms){const ws=new Set(vs.map(Es=>Es.address)),Ss=new Set(ms.map(Es=>Es.address));if(ws.size!==Ss.size)return!1;for(const Es of ws)if(!Ss.has(Es))return!1;return!0}function base64ToByteArray(vs){return stringToByteArray(atob(vs))}function byteArrayToBase64(vs){return btoa(byteArrayToString(vs))}function stringToByteArray(vs){const ms=new Uint8Array(vs.length);for(let ws=0;ws<vs.length;ws++)ms[ws]=vs.charCodeAt(ws);return ms}function byteArrayToString(vs){let ms="";for(let ws=0;ws<vs.length;ws++)ms+=String.fromCharCode(vs[ws]);return ms}function isSignedTxn(vs){if(!vs||typeof vs!="object"||!("sig"in vs&&"txn"in vs)||!(vs.sig instanceof Uint8Array))return!1;const ms=vs.txn;return!ms||typeof ms!="object"?!1:"type"in ms&&"snd"in ms}function isTransaction(vs){return vs&&typeof vs=="object"&&"sender"in vs&&(vs.sender instanceof algosdk.Address||typeof vs.sender=="string")}function isTransactionArray(vs){return!Array.isArray(vs)||vs.length===0?!1:!!(isTransaction(vs[0])||Array.isArray(vs[0])&&vs[0].length>0&&isTransaction(vs[0][0]))}function flattenTxnGroup(vs){return Array.isArray(vs[0])?vs.flat():vs}function getPayloadId(){const vs=Date.now()*Math.pow(10,3),ms=Math.floor(Math.random()*Math.pow(10,3));return vs+ms}function formatJsonRpcRequest$1(vs,ms){return{id:getPayloadId(),jsonrpc:"2.0",method:vs,params:ms}}var WalletManager=class{constructor({wallets:vs=[],networks:ms,defaultNetwork:ws="testnet",options:Ss={}}={}){cp(this,"_clients",new Map);cp(this,"baseNetworkConfig");cp(this,"store");cp(this,"subscribe");cp(this,"options");cp(this,"logger");cp(this,"getAlgodClient",()=>this.algodClient);cp(this,"setActiveNetwork",async vs=>{if(this.activeNetwork===vs)return;if(!this.networkConfig[vs])throw new Error(`Network "${vs}" not found in network configuration`);const ms=this.createAlgodClient(this.networkConfig[vs].algod);setActiveNetwork(this.store,{networkId:vs,algodClient:ms}),this.logger.info(`✅ Active network set to ${vs}`)});this.logger=this.initializeLogger(Ss),this.logger.debug("Initializing WalletManager with config:",{wallets:vs,networks:ms,defaultNetwork:ws,options:Ss});const Es=this.loadPersistedState();this.baseNetworkConfig=ms||createNetworkConfig();const _s=this.initNetworkConfig(this.baseNetworkConfig,Es);this.options={resetNetwork:Ss.resetNetwork||!1};const Is=this.options.resetNetwork?ws:(Es==null?void 0:Es.activeNetwork)||ws;if(!_s[Is])throw new Error(`Network "${Is}" not found in network configuration`);const Ts=this.createAlgodClient(_s[Is].algod),Rs={...DEFAULT_STATE,...Es,networkConfig:_s,activeNetwork:Is,algodClient:Ts};this.store=new Store(Rs,{onUpdate:()=>this.savePersistedState()}),this.savePersistedState(),this.subscribe=Bs=>this.store.subscribe(()=>{Bs(this.store.state)}),this.initializeWallets(vs)}initializeLogger(vs){const ms=this.determineLogLevel(vs);return Logger.setLevel(ms),logger.createScopedLogger("WalletManager")}determineLogLevel(vs){return vs!=null&&vs.debug?0:(vs==null?void 0:vs.logLevel)!==void 0?vs.logLevel:2}get algodClient(){return this.store.state.algodClient}set algodClient(vs){this.store.setState(ms=>({...ms,algodClient:vs}))}loadPersistedState(){try{const vs=StorageAdapter.getItem(LOCAL_STORAGE_KEY);if(vs===null)return null;const ms=JSON.parse(vs);if(!isValidPersistedState(ms))throw this.logger.warn("Parsed state:",ms),new Error("Persisted state is invalid");return ms}catch(vs){return this.logger.error(`Could not load state from local storage: ${vs.message}`),null}}savePersistedState(){try{const{wallets:vs,activeWallet:ms,activeNetwork:ws,networkConfig:Ss}=this.store.state,Es={wallets:vs,activeWallet:ms,activeNetwork:ws,customNetworkConfigs:{}};for(const[Is,Ts]of Object.entries(Ss)){const Rs=this.baseNetworkConfig[Is];if(!Rs)continue;const Bs={};let Ns=!1;JSON.stringify(Ts.algod)!==JSON.stringify(Rs.algod)&&(Bs.algod=Ts.algod,Ns=!0),Ns&&(Es.customNetworkConfigs={...Es.customNetworkConfigs||{},[Is]:Bs})}const _s=JSON.stringify(Es);StorageAdapter.setItem(LOCAL_STORAGE_KEY,_s)}catch(vs){this.logger.error("Could not save state to local storage:",vs)}}get status(){return this.store.state.managerStatus}get isReady(){return this.store.state.managerStatus==="ready"}initializeWallets(vs){this.logger.info("Initializing wallets...");for(const Ss of vs){let Es,_s,Is;if(typeof Ss=="string")Es=Ss;else{const{id:Ns,options:Ws,metadata:Js}=Ss;Es=Ns,_s=Ws,Is=Js}const Rs=createWalletMap()[Es];if(!Rs){this.logger.error(`Wallet not found: ${Es}`);continue}const Bs=new Rs({id:Es,metadata:Is,options:_s,getAlgodClient:this.getAlgodClient,store:this.store,subscribe:this.subscribe});this._clients.set(Es,Bs),this.logger.info(`✅ Initialized ${Es}`)}const ms=this.store.state,ws=Object.keys(ms.wallets);for(const Ss of ws)this._clients.has(Ss)||(this.logger.warn(`Connected wallet not found: ${Ss}`),removeWallet(this.store,{walletId:Ss}));ms.activeWallet&&!this._clients.has(ms.activeWallet)&&(this.logger.warn(`Active wallet not found: ${ms.activeWallet}`),setActiveWallet(this.store,{walletId:null}))}get wallets(){return[...this._clients.values()]}getWallet(vs){return this._clients.get(vs)}async resumeSessions(){try{const vs=this.wallets.map(ms=>ms==null?void 0:ms.resumeSession());await Promise.all(vs)}finally{this.store.setState(vs=>({...vs,managerStatus:"ready"}))}}async disconnect(){const vs=this.wallets.filter(ms=>ms.isConnected).map(ms=>ms==null?void 0:ms.disconnect());await Promise.all(vs)}initNetworkConfig(vs,ms){this.logger.info("Initializing network configuration...");const ws=(ms==null?void 0:ms.customNetworkConfigs)||{},Ss={};for(const[Es,_s]of Object.entries(vs)){const Is=ws[Es];Ss[Es]={..._s,...Is,algod:{..._s.algod,...(Is==null?void 0:Is.algod)||{}}}}for(const[Es,_s]of Object.entries(Ss))if(!isNetworkConfig(_s))throw new Error(`Invalid network configuration for "${Es}"`);return this.logger.debug("Network configuration:",Ss),Ss}createAlgodClient(vs){this.logger.info("Creating new Algodv2 client...");const{token:ms="",baseServer:ws,port:Ss="",headers:Es={}}=vs;return new algosdk.Algodv2(ms,ws,Ss,Es)}updateAlgodConfig(vs,ms){if(!this.networkConfig[vs])throw new Error(`Network "${vs}" not found in network configuration`);const ws={...this.networkConfig[vs],algod:{...this.networkConfig[vs].algod,...ms}};if(!isNetworkConfig(ws))throw new Error("Invalid network configuration");this.store.setState(Ss=>({...Ss,networkConfig:{...Ss.networkConfig,[vs]:ws}})),this.activeNetwork===vs&&(this.algodClient=this.createAlgodClient(ws.algod)),this.savePersistedState(),this.logger.info(`✅ Updated algod configuration for ${vs}`)}resetNetworkConfig(vs){if(!this.baseNetworkConfig[vs])throw new Error(`Network "${vs}" not found in network configuration`);this.store.setState(ws=>({...ws,networkConfig:{...ws.networkConfig,[vs]:{...this.baseNetworkConfig[vs]}}})),this.activeNetwork===vs&&(this.algodClient=this.createAlgodClient(this.baseNetworkConfig[vs].algod));const ms=this.loadPersistedState();ms!=null&&ms.customNetworkConfigs&&(delete ms.customNetworkConfigs[vs],StorageAdapter.setItem(LOCAL_STORAGE_KEY,JSON.stringify(ms))),this.logger.info(`✅ Reset network configuration for ${vs}`)}get activeNetwork(){return this.store.state.activeNetwork}get networkConfig(){return this.store.state.networkConfig}get activeNetworkConfig(){const{networkConfig:vs,activeNetwork:ms}=this.store.state;return vs[ms]}get activeWallet(){const vs=this.store.state,ms=this.wallets.find(ws=>ws.id===vs.activeWallet);return ms||null}get activeWalletAccounts(){return this.activeWallet?this.activeWallet.accounts:null}get activeWalletAddresses(){return this.activeWallet?this.activeWallet.accounts.map(vs=>vs.address):null}get activeAccount(){return this.activeWallet?this.activeWallet.activeAccount:null}get activeAddress(){return this.activeAccount?this.activeAccount.address:null}get signTransactions(){if(!this.activeWallet)throw this.logger.error("No active wallet found!"),new Error("No active wallet found!");return this.activeWallet.signTransactions}get transactionSigner(){if(!this.activeWallet)throw this.logger.error("No active wallet found!"),new Error("No active wallet found!");return this.activeWallet.transactionSigner}},WalletContext=reactExports.createContext(void 0),WalletProvider=({manager:vs,children:ms})=>{const[ws,Ss]=reactExports.useState(vs.algodClient);reactExports.useEffect(()=>{vs.algodClient=ws},[ws,vs]);const Es=reactExports.useRef(!1);return reactExports.useEffect(()=>{Es.current||(vs.resumeSessions(),Es.current=!0)},[vs]),jsxRuntimeExports.jsx(WalletContext.Provider,{value:{manager:vs,algodClient:ws,setAlgodClient:Ss},children:ms})},useWallet$5=()=>{const vs=reactExports.useContext(WalletContext);if(!vs)throw new Error("useWallet must be used within the WalletProvider");const{manager:ms,algodClient:ws,setAlgodClient:Ss}=vs,_s=useStore(ms.store,xl=>xl.managerStatus)==="ready",Is=useStore(ms.store,xl=>xl.wallets),Ts=useStore(ms.store,xl=>xl.activeWallet),Rs=reactExports.useCallback(xl=>{const Ml=Is[xl.id];return{id:xl.id,metadata:xl.metadata,accounts:(Ml==null?void 0:Ml.accounts)??[],activeAccount:(Ml==null?void 0:Ml.activeAccount)??null,isConnected:!!Ml,isActive:xl.id===Ts,canSignData:xl.canSignData??!1,connect:Vl=>xl.connect(Vl),disconnect:()=>xl.disconnect(),setActive:()=>xl.setActive(),setActiveAccount:Vl=>xl.setActiveAccount(Vl)}},[Is,Ts]),Bs=reactExports.useMemo(()=>[...ms.wallets.values()].map(Rs),[ms,Rs]),Ns=Ts&&ms.getWallet(Ts)||null,Ws=reactExports.useMemo(()=>Ns?Rs(Ns):null,[Ns,Rs]),Js=(Ws==null?void 0:Ws.accounts)??null,$l=(Js==null?void 0:Js.map(xl=>xl.address))??null,wl=(Ws==null?void 0:Ws.activeAccount)??null,_l=(wl==null?void 0:wl.address)??null;return{wallets:Bs,isReady:_s,algodClient:ws,setAlgodClient:Ss,activeWallet:Ws,activeWalletAccounts:Js,activeWalletAddresses:$l,activeAccount:wl,activeAddress:_l,signData:(xl,Ml)=>{if(!Ns)throw new Error("No active wallet");return Ns.signData(xl,Ml)},signTransactions:(xl,Ml)=>{if(!Ns)throw new Error("No active wallet");return Ns.signTransactions(xl,Ml)},transactionSigner:(xl,Ml)=>{if(!Ns)throw new Error("No active wallet");return Ns.transactionSigner(xl,Ml)}}};function setConnectedAccount(vs){window.connectedAccount=vs??null,window.dispatchEvent(new CustomEvent("wallet:activeAddress",{detail:{address:vs}}))}function attachWalletBridge(vs){const ms=new AlgodClient("","https://testnet-api.algonode.cloud","");function ws(){return vs.getActiveAddress()}async function Ss(_s){if(!ws())throw new Error("No active wallet. Please connect first.");const Rs=_s.map(Ws=>algosdk.decodeUnsignedTransaction(Buffer.from(Ws,"base64"))).map(Ws=>algosdk.encodeUnsignedTransaction(Ws)),Bs=await vs.signTransactions(Rs),{txId:Ns}=await ms.sendRawTransaction(Bs).do();return Ns}async function Es(_s){return Ss([_s])}window.Hyperdrive={getActiveAddress:ws,signAndSendGroup:Ss,signAndSendSingle:Es},window.dispatchEvent(new CustomEvent("hyperdrive:bridge-ready"))}function Account(){const{activeAddress:vs,wallets:ms}=useWallet$5();if(!vs)return null;const ws=async()=>{const Ss=ms==null?void 0:ms.find(Es=>Es.isActive);Ss?(await Ss.disconnect(),setConnectedAccount(null)):(localStorage.removeItem("@txnlab/use-wallet:v3"),location.reload())};return jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-slate-800/50 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"truncate",children:["Connected: ",jsxRuntimeExports.jsx("span",{className:"font-mono",children:vs})]}),jsxRuntimeExports.jsx("button",{onClick:ws,className:"ml-3 px-3 py-1 rounded-lg bg-slate-700 hover:bg-slate-600",children:"Disconnect"})]})}const ConnectWallet=({openModal:vs,closeModal:ms})=>{const{wallets:ws,activeAddress:Ss}=useWallet$5(),Es=React$2.useRef(null);React$2.useEffect(()=>{const Rs=Es.current;if(Rs)try{vs&&!Rs.open?Rs.showModal():!vs&&Rs.open&&Rs.close()}catch{}},[vs]),React$2.useEffect(()=>{setConnectedAccount(Ss??null)},[Ss]);const _s=Rs=>Rs.id===WalletId.KMD,Is=Rs=>{const Bs=((Rs==null?void 0:Rs.message)||String(Rs||"")).toLowerCase();return Bs.includes("closed by user")||Bs.includes("user closed")||Bs.includes("user rejected")||Bs.includes("rejected")||Bs.includes("cancelled")||Bs.includes("canceled")||Bs.includes("modal closed")},Ts=Rs=>async Bs=>{Bs.preventDefault();const Ns=Es.current;try{Ns!=null&&Ns.open&&Ns.close()}catch{}requestAnimationFrame(async()=>{try{await Rs.connect()}catch(Ws){if(Is(Ws)){console.debug("Wallet connect dismissed:",Ws);return}console.error("Wallet connect error:",Ws),alert((Ws==null?void 0:Ws.message)??String(Ws))}})};return jsxRuntimeExports.jsx("dialog",{ref:Es,className:"rounded-xl bg-slate-900 text-slate-100 p-0 backdrop:bg-black/50 w-[32rem] max-w-[95vw] border border-slate-700",onClose:ms,children:jsxRuntimeExports.jsxs("form",{method:"dialog",className:"p-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-2xl",children:"Select wallet provider"}),jsxRuntimeExports.jsx("button",{"aria-label":"Close",className:"px-2 py-1 rounded-lg bg-slate-800 hover:bg-slate-700 text-sm",onClick:Rs=>{Rs.preventDefault(),ms()},children:"✕"})]}),jsxRuntimeExports.jsxs("div",{className:"grid m-2 pt-5",children:[Ss&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Account,{}),jsxRuntimeExports.jsx("div",{className:"my-4 h-px bg-slate-700"})]}),!Ss&&(ws==null?void 0:ws.map(Rs=>jsxRuntimeExports.jsxs("button",{"data-test-id":`${Rs.id}-connect`,className:"border border-teal-800 m-2 px-3 py-2 rounded-lg bg-slate-800 hover:bg-slate-700 flex items-center gap-3 text-left",onClick:Ts(Rs),children:[!_s(Rs)&&jsxRuntimeExports.jsx("img",{alt:`wallet_icon_${Rs.id}`,src:Rs.metadata.icon,style:{objectFit:"contain",width:"30px",height:"auto"}}),jsxRuntimeExports.jsx("span",{children:_s(Rs)?"LocalNet Wallet":Rs.metadata.name})]},`provider-${Rs.id}`)))]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[jsxRuntimeExports.jsx("button",{"data-test-id":"close-wallet-modal",className:"px-3 py-2 rounded-lg bg-slate-800 hover:bg-slate-700",onClick:Rs=>{Rs.preventDefault(),ms()},children:"Close"}),Ss&&jsxRuntimeExports.jsx("button",{className:"px-3 py-2 rounded-lg bg-amber-600 hover:bg-amber-500","data-test-id":"logout",onClick:async Rs=>{if(Rs.preventDefault(),ws){const Bs=ws.find(Ns=>Ns.isActive);Bs?(await Bs.disconnect(),setConnectedAccount(null)):(localStorage.removeItem("@txnlab/use-wallet:v3"),window.location.reload())}},children:"Logout"})]})]})})},manager=new WalletManager({wallets:[WalletId.PERA,WalletId.DEFLY],defaultNetwork:NetworkId.TESTNET});function BridgeInstaller(){const{activeAddress:vs,signTransactions:ms}=useWallet$5();return React$2.useEffect(()=>{setConnectedAccount(vs??null),attachWalletBridge({getActiveAddress:()=>vs??null,signTransactions:ms})},[vs,ms]),null}function Widget(){const[vs,ms]=React$2.useState(!1);return jsxRuntimeExports.jsxs(WalletProvider,{manager,children:[jsxRuntimeExports.jsx(BridgeInstaller,{}),jsxRuntimeExports.jsx(ConnectButton,{onClick:()=>ms(!0)}),jsxRuntimeExports.jsx(ConnectWallet,{openModal:vs,closeModal:()=>ms(!1)})]})}function ConnectButton({onClick:vs}){const[ms,ws]=React$2.useState(null);React$2.useEffect(()=>{const Es=_s=>{var Is;return ws(((Is=_s==null?void 0:_s.detail)==null?void 0:Is.address)??null)};return window.addEventListener("wallet:activeAddress",Es),()=>window.removeEventListener("wallet:activeAddress",Es)},[]),React$2.useEffect(()=>{var _s,Is;const Es=localStorage.getItem("@txnlab/use-wallet:v3");if(Es)try{const Ts=JSON.parse(Es),Rs=(Is=(_s=Ts==null?void 0:Ts.state)==null?void 0:_s.activeAccount)==null?void 0:Is.address;Rs&&(ws(Rs),setConnectedAccount(Rs))}catch{}},[]);const Ss=ms?`Connected: ${ms.slice(0,6)}...${ms.slice(-4)}`:"Connect Wallet";return jsxRuntimeExports.jsx("button",{onClick:vs,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-indigo-600 hover:bg-indigo-500 text-white",children:Ss})}function mountAll(){Array.from(document.querySelectorAll(".connect-wallet")).forEach(ms=>{ms.__mounted||(ms.__mounted=!0,client.createRoot(ms).render(jsxRuntimeExports.jsx(Widget,{})))})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",mountAll):mountAll();var events={exports:{}},R$6=typeof Reflect=="object"?Reflect:null,ReflectApply=R$6&&typeof R$6.apply=="function"?R$6.apply:function(ms,ws,Ss){return Function.prototype.apply.call(ms,ws,Ss)},ReflectOwnKeys;R$6&&typeof R$6.ownKeys=="function"?ReflectOwnKeys=R$6.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(ms){return Object.getOwnPropertyNames(ms).concat(Object.getOwnPropertySymbols(ms))}:ReflectOwnKeys=function(ms){return Object.getOwnPropertyNames(ms)};function ProcessEmitWarning(vs){console&&console.warn&&console.warn(vs)}var NumberIsNaN=Number.isNaN||function(ms){return ms!==ms};function EventEmitter(){EventEmitter.init.call(this)}events.exports=EventEmitter,events.exports.once=once,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(vs){if(typeof vs!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof vs)}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(vs){if(typeof vs!="number"||vs<0||NumberIsNaN(vs))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+vs+".");defaultMaxListeners=vs}}),EventEmitter.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(ms){if(typeof ms!="number"||ms<0||NumberIsNaN(ms))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ms+".");return this._maxListeners=ms,this};function _getMaxListeners(vs){return vs._maxListeners===void 0?EventEmitter.defaultMaxListeners:vs._maxListeners}EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function(ms){for(var ws=[],Ss=1;Ss<arguments.length;Ss++)ws.push(arguments[Ss]);var Es=ms==="error",_s=this._events;if(_s!==void 0)Es=Es&&_s.error===void 0;else if(!Es)return!1;if(Es){var Is;if(ws.length>0&&(Is=ws[0]),Is instanceof Error)throw Is;var Ts=new Error("Unhandled error."+(Is?" ("+Is.message+")":""));throw Ts.context=Is,Ts}var Rs=_s[ms];if(Rs===void 0)return!1;if(typeof Rs=="function")ReflectApply(Rs,this,ws);else for(var Bs=Rs.length,Ns=arrayClone(Rs,Bs),Ss=0;Ss<Bs;++Ss)ReflectApply(Ns[Ss],this,ws);return!0};function _addListener(vs,ms,ws,Ss){var Es,_s,Is;if(checkListener(ws),_s=vs._events,_s===void 0?(_s=vs._events=Object.create(null),vs._eventsCount=0):(_s.newListener!==void 0&&(vs.emit("newListener",ms,ws.listener?ws.listener:ws),_s=vs._events),Is=_s[ms]),Is===void 0)Is=_s[ms]=ws,++vs._eventsCount;else if(typeof Is=="function"?Is=_s[ms]=Ss?[ws,Is]:[Is,ws]:Ss?Is.unshift(ws):Is.push(ws),Es=_getMaxListeners(vs),Es>0&&Is.length>Es&&!Is.warned){Is.warned=!0;var Ts=new Error("Possible EventEmitter memory leak detected. "+Is.length+" "+String(ms)+" listeners added. Use emitter.setMaxListeners() to increase limit");Ts.name="MaxListenersExceededWarning",Ts.emitter=vs,Ts.type=ms,Ts.count=Is.length,ProcessEmitWarning(Ts)}return vs}EventEmitter.prototype.addListener=function(ms,ws){return _addListener(this,ms,ws,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(ms,ws){return _addListener(this,ms,ws,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(vs,ms,ws){var Ss={fired:!1,wrapFn:void 0,target:vs,type:ms,listener:ws},Es=onceWrapper.bind(Ss);return Es.listener=ws,Ss.wrapFn=Es,Es}EventEmitter.prototype.once=function(ms,ws){return checkListener(ws),this.on(ms,_onceWrap(this,ms,ws)),this},EventEmitter.prototype.prependOnceListener=function(ms,ws){return checkListener(ws),this.prependListener(ms,_onceWrap(this,ms,ws)),this},EventEmitter.prototype.removeListener=function(ms,ws){var Ss,Es,_s,Is,Ts;if(checkListener(ws),Es=this._events,Es===void 0)return this;if(Ss=Es[ms],Ss===void 0)return this;if(Ss===ws||Ss.listener===ws)--this._eventsCount===0?this._events=Object.create(null):(delete Es[ms],Es.removeListener&&this.emit("removeListener",ms,Ss.listener||ws));else if(typeof Ss!="function"){for(_s=-1,Is=Ss.length-1;Is>=0;Is--)if(Ss[Is]===ws||Ss[Is].listener===ws){Ts=Ss[Is].listener,_s=Is;break}if(_s<0)return this;_s===0?Ss.shift():spliceOne(Ss,_s),Ss.length===1&&(Es[ms]=Ss[0]),Es.removeListener!==void 0&&this.emit("removeListener",ms,Ts||ws)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(ms){var ws,Ss,Es;if(Ss=this._events,Ss===void 0)return this;if(Ss.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Ss[ms]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Ss[ms]),this;if(arguments.length===0){var _s=Object.keys(Ss),Is;for(Es=0;Es<_s.length;++Es)Is=_s[Es],Is!=="removeListener"&&this.removeAllListeners(Is);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(ws=Ss[ms],typeof ws=="function")this.removeListener(ms,ws);else if(ws!==void 0)for(Es=ws.length-1;Es>=0;Es--)this.removeListener(ms,ws[Es]);return this};function _listeners(vs,ms,ws){var Ss=vs._events;if(Ss===void 0)return[];var Es=Ss[ms];return Es===void 0?[]:typeof Es=="function"?ws?[Es.listener||Es]:[Es]:ws?unwrapListeners(Es):arrayClone(Es,Es.length)}EventEmitter.prototype.listeners=function(ms){return _listeners(this,ms,!0)},EventEmitter.prototype.rawListeners=function(ms){return _listeners(this,ms,!1)},EventEmitter.listenerCount=function(vs,ms){return typeof vs.listenerCount=="function"?vs.listenerCount(ms):listenerCount.call(vs,ms)},EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(vs){var ms=this._events;if(ms!==void 0){var ws=ms[vs];if(typeof ws=="function")return 1;if(ws!==void 0)return ws.length}return 0}EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(vs,ms){for(var ws=new Array(ms),Ss=0;Ss<ms;++Ss)ws[Ss]=vs[Ss];return ws}function spliceOne(vs,ms){for(;ms+1<vs.length;ms++)vs[ms]=vs[ms+1];vs.pop()}function unwrapListeners(vs){for(var ms=new Array(vs.length),ws=0;ws<ms.length;++ws)ms[ws]=vs[ws].listener||vs[ws];return ms}function once(vs,ms){return new Promise(function(ws,Ss){function Es(Is){vs.removeListener(ms,_s),Ss(Is)}function _s(){typeof vs.removeListener=="function"&&vs.removeListener("error",Es),ws([].slice.call(arguments))}eventTargetAgnosticAddListener(vs,ms,_s,{once:!0}),ms!=="error"&&addErrorHandlerIfEventEmitter(vs,Es,{once:!0})})}function addErrorHandlerIfEventEmitter(vs,ms,ws){typeof vs.on=="function"&&eventTargetAgnosticAddListener(vs,"error",ms,ws)}function eventTargetAgnosticAddListener(vs,ms,ws,Ss){if(typeof vs.on=="function")Ss.once?vs.once(ms,ws):vs.on(ms,ws);else if(typeof vs.addEventListener=="function")vs.addEventListener(ms,function Es(_s){Ss.once&&vs.removeEventListener(ms,Es),ws(_s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof vs)}var eventsExports=events.exports;const ys$1=getDefaultExportFromCjs(eventsExports);var cjs$5={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var extendStatics=function(vs,ms){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ws,Ss){ws.__proto__=Ss}||function(ws,Ss){for(var Es in Ss)Ss.hasOwnProperty(Es)&&(ws[Es]=Ss[Es])},extendStatics(vs,ms)};function __extends(vs,ms){extendStatics(vs,ms);function ws(){this.constructor=vs}vs.prototype=ms===null?Object.create(ms):(ws.prototype=ms.prototype,new ws)}var __assign=function(){return __assign=Object.assign||function(ms){for(var ws,Ss=1,Es=arguments.length;Ss<Es;Ss++){ws=arguments[Ss];for(var _s in ws)Object.prototype.hasOwnProperty.call(ws,_s)&&(ms[_s]=ws[_s])}return ms},__assign.apply(this,arguments)};function __rest(vs,ms){var ws={};for(var Ss in vs)Object.prototype.hasOwnProperty.call(vs,Ss)&&ms.indexOf(Ss)<0&&(ws[Ss]=vs[Ss]);if(vs!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Es=0,Ss=Object.getOwnPropertySymbols(vs);Es<Ss.length;Es++)ms.indexOf(Ss[Es])<0&&Object.prototype.propertyIsEnumerable.call(vs,Ss[Es])&&(ws[Ss[Es]]=vs[Ss[Es]]);return ws}function __decorate(vs,ms,ws,Ss){var Es=arguments.length,_s=Es<3?ms:Ss===null?Ss=Object.getOwnPropertyDescriptor(ms,ws):Ss,Is;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_s=Reflect.decorate(vs,ms,ws,Ss);else for(var Ts=vs.length-1;Ts>=0;Ts--)(Is=vs[Ts])&&(_s=(Es<3?Is(_s):Es>3?Is(ms,ws,_s):Is(ms,ws))||_s);return Es>3&&_s&&Object.defineProperty(ms,ws,_s),_s}function __param(vs,ms){return function(ws,Ss){ms(ws,Ss,vs)}}function __metadata(vs,ms){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(vs,ms)}function __awaiter(vs,ms,ws,Ss){function Es(_s){return _s instanceof ws?_s:new ws(function(Is){Is(_s)})}return new(ws||(ws=Promise))(function(_s,Is){function Ts(Ns){try{Bs(Ss.next(Ns))}catch(Ws){Is(Ws)}}function Rs(Ns){try{Bs(Ss.throw(Ns))}catch(Ws){Is(Ws)}}function Bs(Ns){Ns.done?_s(Ns.value):Es(Ns.value).then(Ts,Rs)}Bs((Ss=Ss.apply(vs,ms||[])).next())})}function __generator(vs,ms){var ws={label:0,sent:function(){if(_s[0]&1)throw _s[1];return _s[1]},trys:[],ops:[]},Ss,Es,_s,Is;return Is={next:Ts(0),throw:Ts(1),return:Ts(2)},typeof Symbol=="function"&&(Is[Symbol.iterator]=function(){return this}),Is;function Ts(Bs){return function(Ns){return Rs([Bs,Ns])}}function Rs(Bs){if(Ss)throw new TypeError("Generator is already executing.");for(;ws;)try{if(Ss=1,Es&&(_s=Bs[0]&2?Es.return:Bs[0]?Es.throw||((_s=Es.return)&&_s.call(Es),0):Es.next)&&!(_s=_s.call(Es,Bs[1])).done)return _s;switch(Es=0,_s&&(Bs=[Bs[0]&2,_s.value]),Bs[0]){case 0:case 1:_s=Bs;break;case 4:return ws.label++,{value:Bs[1],done:!1};case 5:ws.label++,Es=Bs[1],Bs=[0];continue;case 7:Bs=ws.ops.pop(),ws.trys.pop();continue;default:if(_s=ws.trys,!(_s=_s.length>0&&_s[_s.length-1])&&(Bs[0]===6||Bs[0]===2)){ws=0;continue}if(Bs[0]===3&&(!_s||Bs[1]>_s[0]&&Bs[1]<_s[3])){ws.label=Bs[1];break}if(Bs[0]===6&&ws.label<_s[1]){ws.label=_s[1],_s=Bs;break}if(_s&&ws.label<_s[2]){ws.label=_s[2],ws.ops.push(Bs);break}_s[2]&&ws.ops.pop(),ws.trys.pop();continue}Bs=ms.call(vs,ws)}catch(Ns){Bs=[6,Ns],Es=0}finally{Ss=_s=0}if(Bs[0]&5)throw Bs[1];return{value:Bs[0]?Bs[1]:void 0,done:!0}}}function __createBinding(vs,ms,ws,Ss){Ss===void 0&&(Ss=ws),vs[Ss]=ms[ws]}function __exportStar(vs,ms){for(var ws in vs)ws!=="default"&&!ms.hasOwnProperty(ws)&&(ms[ws]=vs[ws])}function __values$1(vs){var ms=typeof Symbol=="function"&&Symbol.iterator,ws=ms&&vs[ms],Ss=0;if(ws)return ws.call(vs);if(vs&&typeof vs.length=="number")return{next:function(){return vs&&Ss>=vs.length&&(vs=void 0),{value:vs&&vs[Ss++],done:!vs}}};throw new TypeError(ms?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(vs,ms){var ws=typeof Symbol=="function"&&vs[Symbol.iterator];if(!ws)return vs;var Ss=ws.call(vs),Es,_s=[],Is;try{for(;(ms===void 0||ms-- >0)&&!(Es=Ss.next()).done;)_s.push(Es.value)}catch(Ts){Is={error:Ts}}finally{try{Es&&!Es.done&&(ws=Ss.return)&&ws.call(Ss)}finally{if(Is)throw Is.error}}return _s}function __spread(){for(var vs=[],ms=0;ms<arguments.length;ms++)vs=vs.concat(__read(arguments[ms]));return vs}function __spreadArrays$1(){for(var vs=0,ms=0,ws=arguments.length;ms<ws;ms++)vs+=arguments[ms].length;for(var Ss=Array(vs),Es=0,ms=0;ms<ws;ms++)for(var _s=arguments[ms],Is=0,Ts=_s.length;Is<Ts;Is++,Es++)Ss[Es]=_s[Is];return Ss}function __await(vs){return this instanceof __await?(this.v=vs,this):new __await(vs)}function __asyncGenerator(vs,ms,ws){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ss=ws.apply(vs,ms||[]),Es,_s=[];return Es={},Is("next"),Is("throw"),Is("return"),Es[Symbol.asyncIterator]=function(){return this},Es;function Is(Js){Ss[Js]&&(Es[Js]=function($l){return new Promise(function(wl,_l){_s.push([Js,$l,wl,_l])>1||Ts(Js,$l)})})}function Ts(Js,$l){try{Rs(Ss[Js]($l))}catch(wl){Ws(_s[0][3],wl)}}function Rs(Js){Js.value instanceof __await?Promise.resolve(Js.value.v).then(Bs,Ns):Ws(_s[0][2],Js)}function Bs(Js){Ts("next",Js)}function Ns(Js){Ts("throw",Js)}function Ws(Js,$l){Js($l),_s.shift(),_s.length&&Ts(_s[0][0],_s[0][1])}}function __asyncDelegator(vs){var ms,ws;return ms={},Ss("next"),Ss("throw",function(Es){throw Es}),Ss("return"),ms[Symbol.iterator]=function(){return this},ms;function Ss(Es,_s){ms[Es]=vs[Es]?function(Is){return(ws=!ws)?{value:__await(vs[Es](Is)),done:Es==="return"}:_s?_s(Is):Is}:_s}}function __asyncValues(vs){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ms=vs[Symbol.asyncIterator],ws;return ms?ms.call(vs):(vs=typeof __values$1=="function"?__values$1(vs):vs[Symbol.iterator](),ws={},Ss("next"),Ss("throw"),Ss("return"),ws[Symbol.asyncIterator]=function(){return this},ws);function Ss(_s){ws[_s]=vs[_s]&&function(Is){return new Promise(function(Ts,Rs){Is=vs[_s](Is),Es(Ts,Rs,Is.done,Is.value)})}}function Es(_s,Is,Ts,Rs){Promise.resolve(Rs).then(function(Bs){_s({value:Bs,done:Ts})},Is)}}function __makeTemplateObject(vs,ms){return Object.defineProperty?Object.defineProperty(vs,"raw",{value:ms}):vs.raw=ms,vs}function __importStar(vs){if(vs&&vs.__esModule)return vs;var ms={};if(vs!=null)for(var ws in vs)Object.hasOwnProperty.call(vs,ws)&&(ms[ws]=vs[ws]);return ms.default=vs,ms}function __importDefault(vs){return vs&&vs.__esModule?vs:{default:vs}}function __classPrivateFieldGet(vs,ms){if(!ms.has(vs))throw new TypeError("attempted to get private field on non-instance");return ms.get(vs)}function __classPrivateFieldSet(vs,ms,ws){if(!ms.has(vs))throw new TypeError("attempted to set private field on non-instance");return ms.set(vs,ws),ws}const tslib_es6=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return __assign},__asyncDelegator,__asyncGenerator,__asyncValues,__await,__awaiter,__classPrivateFieldGet,__classPrivateFieldSet,__createBinding,__decorate,__exportStar,__extends,__generator,__importDefault,__importStar,__makeTemplateObject,__metadata,__param,__read,__rest,__spread,__spreadArrays:__spreadArrays$1,__values:__values$1},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(tslib_es6);var utils={},delay={},hasRequiredDelay;function requireDelay(){if(hasRequiredDelay)return delay;hasRequiredDelay=1,Object.defineProperty(delay,"__esModule",{value:!0}),delay.delay=void 0;function vs(ms){return new Promise(ws=>{setTimeout(()=>{ws(!0)},ms)})}return delay.delay=vs,delay}var convert={},constants={},misc={},hasRequiredMisc;function requireMisc(){return hasRequiredMisc||(hasRequiredMisc=1,Object.defineProperty(misc,"__esModule",{value:!0}),misc.ONE_THOUSAND=misc.ONE_HUNDRED=void 0,misc.ONE_HUNDRED=100,misc.ONE_THOUSAND=1e3),misc}var time={},hasRequiredTime;function requireTime(){return hasRequiredTime||(hasRequiredTime=1,function(vs){Object.defineProperty(vs,"__esModule",{value:!0}),vs.ONE_YEAR=vs.FOUR_WEEKS=vs.THREE_WEEKS=vs.TWO_WEEKS=vs.ONE_WEEK=vs.THIRTY_DAYS=vs.SEVEN_DAYS=vs.FIVE_DAYS=vs.THREE_DAYS=vs.ONE_DAY=vs.TWENTY_FOUR_HOURS=vs.TWELVE_HOURS=vs.SIX_HOURS=vs.THREE_HOURS=vs.ONE_HOUR=vs.SIXTY_MINUTES=vs.THIRTY_MINUTES=vs.TEN_MINUTES=vs.FIVE_MINUTES=vs.ONE_MINUTE=vs.SIXTY_SECONDS=vs.THIRTY_SECONDS=vs.TEN_SECONDS=vs.FIVE_SECONDS=vs.ONE_SECOND=void 0,vs.ONE_SECOND=1,vs.FIVE_SECONDS=5,vs.TEN_SECONDS=10,vs.THIRTY_SECONDS=30,vs.SIXTY_SECONDS=60,vs.ONE_MINUTE=vs.SIXTY_SECONDS,vs.FIVE_MINUTES=vs.ONE_MINUTE*5,vs.TEN_MINUTES=vs.ONE_MINUTE*10,vs.THIRTY_MINUTES=vs.ONE_MINUTE*30,vs.SIXTY_MINUTES=vs.ONE_MINUTE*60,vs.ONE_HOUR=vs.SIXTY_MINUTES,vs.THREE_HOURS=vs.ONE_HOUR*3,vs.SIX_HOURS=vs.ONE_HOUR*6,vs.TWELVE_HOURS=vs.ONE_HOUR*12,vs.TWENTY_FOUR_HOURS=vs.ONE_HOUR*24,vs.ONE_DAY=vs.TWENTY_FOUR_HOURS,vs.THREE_DAYS=vs.ONE_DAY*3,vs.FIVE_DAYS=vs.ONE_DAY*5,vs.SEVEN_DAYS=vs.ONE_DAY*7,vs.THIRTY_DAYS=vs.ONE_DAY*30,vs.ONE_WEEK=vs.SEVEN_DAYS,vs.TWO_WEEKS=vs.ONE_WEEK*2,vs.THREE_WEEKS=vs.ONE_WEEK*3,vs.FOUR_WEEKS=vs.ONE_WEEK*4,vs.ONE_YEAR=vs.ONE_DAY*365}(time)),time}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(vs){Object.defineProperty(vs,"__esModule",{value:!0});const ms=require$$0;ms.__exportStar(requireMisc(),vs),ms.__exportStar(requireTime(),vs)}(constants)),constants}var hasRequiredConvert;function requireConvert(){if(hasRequiredConvert)return convert;hasRequiredConvert=1,Object.defineProperty(convert,"__esModule",{value:!0}),convert.fromMiliseconds=convert.toMiliseconds=void 0;const vs=requireConstants();function ms(Ss){return Ss*vs.ONE_THOUSAND}convert.toMiliseconds=ms;function ws(Ss){return Math.floor(Ss/vs.ONE_THOUSAND)}return convert.fromMiliseconds=ws,convert}var hasRequiredUtils;function requireUtils(){return hasRequiredUtils||(hasRequiredUtils=1,function(vs){Object.defineProperty(vs,"__esModule",{value:!0});const ms=require$$0;ms.__exportStar(requireDelay(),vs),ms.__exportStar(requireConvert(),vs)}(utils)),utils}var watch$2={},hasRequiredWatch$1;function requireWatch$1(){if(hasRequiredWatch$1)return watch$2;hasRequiredWatch$1=1,Object.defineProperty(watch$2,"__esModule",{value:!0}),watch$2.Watch=void 0;class vs{constructor(){this.timestamps=new Map}start(ws){if(this.timestamps.has(ws))throw new Error(`Watch already started for label: ${ws}`);this.timestamps.set(ws,{started:Date.now()})}stop(ws){const Ss=this.get(ws);if(typeof Ss.elapsed<"u")throw new Error(`Watch already stopped for label: ${ws}`);const Es=Date.now()-Ss.started;this.timestamps.set(ws,{started:Ss.started,elapsed:Es})}get(ws){const Ss=this.timestamps.get(ws);if(typeof Ss>"u")throw new Error(`No timestamp found for label: ${ws}`);return Ss}elapsed(ws){const Ss=this.get(ws);return Ss.elapsed||Date.now()-Ss.started}}return watch$2.Watch=vs,watch$2.default=vs,watch$2}var types={},watch$1={},hasRequiredWatch;function requireWatch(){if(hasRequiredWatch)return watch$1;hasRequiredWatch=1,Object.defineProperty(watch$1,"__esModule",{value:!0}),watch$1.IWatch=void 0;class vs{}return watch$1.IWatch=vs,watch$1}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(vs){Object.defineProperty(vs,"__esModule",{value:!0}),require$$0.__exportStar(requireWatch(),vs)}(types)),types}(function(vs){Object.defineProperty(vs,"__esModule",{value:!0});const ms=require$$0;ms.__exportStar(requireUtils(),vs),ms.__exportStar(requireWatch$1(),vs),ms.__exportStar(requireTypes(),vs),ms.__exportStar(requireConstants(),vs)})(cjs$5);class IEvents{}let n$2=class extends IEvents{constructor(ms){super()}};const s$2=cjs$5.FIVE_SECONDS,r$4={pulse:"heartbeat_pulse"};let i$5=class H1 extends n$2{constructor(ms){super(ms),this.events=new eventsExports.EventEmitter,this.interval=s$2,this.interval=(ms==null?void 0:ms.interval)||s$2}static async init(ms){const ws=new H1(ms);return await ws.init(),ws}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(ms,ws){this.events.on(ms,ws)}once(ms,ws){this.events.once(ms,ws)}off(ms,ws){this.events.off(ms,ws)}removeListener(ms,ws){this.events.removeListener(ms,ws)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),cjs$5.toMiliseconds(this.interval))}pulse(){this.events.emit(r$4.pulse)}};const suspectProtoRx=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,suspectConstructorRx=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,JsonSigRx=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jsonParseTransform(vs,ms){if(vs==="__proto__"||vs==="constructor"&&ms&&typeof ms=="object"&&"prototype"in ms){warnKeyDropped(vs);return}return ms}function warnKeyDropped(vs){console.warn(`[destr] Dropping "${vs}" key to prevent prototype pollution.`)}function destr(vs,ms={}){if(typeof vs!="string")return vs;if(vs[0]==='"'&&vs[vs.length-1]==='"'&&vs.indexOf("\\")===-1)return vs.slice(1,-1);const ws=vs.trim();if(ws.length<=9)switch(ws.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!JsonSigRx.test(vs)){if(ms.strict)throw new SyntaxError("[destr] Invalid JSON");return vs}try{if(suspectProtoRx.test(vs)||suspectConstructorRx.test(vs)){if(ms.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(vs,jsonParseTransform)}return JSON.parse(vs)}catch(Ss){if(ms.strict)throw Ss;return vs}}function wrapToPromise(vs){return!vs||typeof vs.then!="function"?Promise.resolve(vs):vs}function asyncCall(vs,...ms){try{return wrapToPromise(vs(...ms))}catch(ws){return Promise.reject(ws)}}function isPrimitive(vs){const ms=typeof vs;return vs===null||ms!=="object"&&ms!=="function"}function isPureObject(vs){const ms=Object.getPrototypeOf(vs);return!ms||ms.isPrototypeOf(Object)}function stringify(vs){if(isPrimitive(vs))return String(vs);if(isPureObject(vs)||Array.isArray(vs))return JSON.stringify(vs);if(typeof vs.toJSON=="function")return stringify(vs.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const BASE64_PREFIX="base64:";function serializeRaw(vs){return typeof vs=="string"?vs:BASE64_PREFIX+base64Encode(vs)}function deserializeRaw(vs){return typeof vs!="string"||!vs.startsWith(BASE64_PREFIX)?vs:base64Decode(vs.slice(BASE64_PREFIX.length))}function base64Decode(vs){return globalThis.Buffer?Buffer.from(vs,"base64"):Uint8Array.from(globalThis.atob(vs),ms=>ms.codePointAt(0))}function base64Encode(vs){return globalThis.Buffer?Buffer.from(vs).toString("base64"):globalThis.btoa(String.fromCodePoint(...vs))}function normalizeKey(vs){var ms;return vs&&((ms=vs.split("?")[0])==null?void 0:ms.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function joinKeys(...vs){return normalizeKey(vs.join(":"))}function normalizeBaseKey(vs){return vs=normalizeKey(vs),vs?vs+":":""}function filterKeyByDepth(vs,ms){if(ms===void 0)return!0;let ws=0,Ss=vs.indexOf(":");for(;Ss>-1;)ws++,Ss=vs.indexOf(":",Ss+1);return ws<=ms}function filterKeyByBase(vs,ms){return ms?vs.startsWith(ms)&&vs[vs.length-1]!=="$":vs[vs.length-1]!=="$"}function defineDriver(vs){return vs}const DRIVER_NAME="memory",memory=()=>{const vs=new Map;return{name:DRIVER_NAME,getInstance:()=>vs,hasItem(ms){return vs.has(ms)},getItem(ms){return vs.get(ms)??null},getItemRaw(ms){return vs.get(ms)??null},setItem(ms,ws){vs.set(ms,ws)},setItemRaw(ms,ws){vs.set(ms,ws)},removeItem(ms){vs.delete(ms)},getKeys(){return[...vs.keys()]},clear(){vs.clear()},dispose(){vs.clear()}}};function createStorage(vs={}){const ms={mounts:{"":vs.driver||memory()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},ws=Bs=>{for(const Ns of ms.mountpoints)if(Bs.startsWith(Ns))return{base:Ns,relativeKey:Bs.slice(Ns.length),driver:ms.mounts[Ns]};return{base:"",relativeKey:Bs,driver:ms.mounts[""]}},Ss=(Bs,Ns)=>ms.mountpoints.filter(Ws=>Ws.startsWith(Bs)||Ns&&Bs.startsWith(Ws)).map(Ws=>({relativeBase:Bs.length>Ws.length?Bs.slice(Ws.length):void 0,mountpoint:Ws,driver:ms.mounts[Ws]})),Es=(Bs,Ns)=>{if(ms.watching){Ns=normalizeKey(Ns);for(const Ws of ms.watchListeners)Ws(Bs,Ns)}},_s=async()=>{if(!ms.watching){ms.watching=!0;for(const Bs in ms.mounts)ms.unwatch[Bs]=await watch(ms.mounts[Bs],Es,Bs)}},Is=async()=>{if(ms.watching){for(const Bs in ms.unwatch)await ms.unwatch[Bs]();ms.unwatch={},ms.watching=!1}},Ts=(Bs,Ns,Ws)=>{const Js=new Map,$l=wl=>{let _l=Js.get(wl.base);return _l||(_l={driver:wl.driver,base:wl.base,items:[]},Js.set(wl.base,_l)),_l};for(const wl of Bs){const _l=typeof wl=="string",Cl=normalizeKey(_l?wl:wl.key),Sl=_l?void 0:wl.value,El=_l||!wl.options?Ns:{...Ns,...wl.options},xl=ws(Cl);$l(xl).items.push({key:Cl,value:Sl,relativeKey:xl.relativeKey,options:El})}return Promise.all([...Js.values()].map(wl=>Ws(wl))).then(wl=>wl.flat())},Rs={hasItem(Bs,Ns={}){Bs=normalizeKey(Bs);const{relativeKey:Ws,driver:Js}=ws(Bs);return asyncCall(Js.hasItem,Ws,Ns)},getItem(Bs,Ns={}){Bs=normalizeKey(Bs);const{relativeKey:Ws,driver:Js}=ws(Bs);return asyncCall(Js.getItem,Ws,Ns).then($l=>destr($l))},getItems(Bs,Ns={}){return Ts(Bs,Ns,Ws=>Ws.driver.getItems?asyncCall(Ws.driver.getItems,Ws.items.map(Js=>({key:Js.relativeKey,options:Js.options})),Ns).then(Js=>Js.map($l=>({key:joinKeys(Ws.base,$l.key),value:destr($l.value)}))):Promise.all(Ws.items.map(Js=>asyncCall(Ws.driver.getItem,Js.relativeKey,Js.options).then($l=>({key:Js.key,value:destr($l)})))))},getItemRaw(Bs,Ns={}){Bs=normalizeKey(Bs);const{relativeKey:Ws,driver:Js}=ws(Bs);return Js.getItemRaw?asyncCall(Js.getItemRaw,Ws,Ns):asyncCall(Js.getItem,Ws,Ns).then($l=>deserializeRaw($l))},async setItem(Bs,Ns,Ws={}){if(Ns===void 0)return Rs.removeItem(Bs);Bs=normalizeKey(Bs);const{relativeKey:Js,driver:$l}=ws(Bs);$l.setItem&&(await asyncCall($l.setItem,Js,stringify(Ns),Ws),$l.watch||Es("update",Bs))},async setItems(Bs,Ns){await Ts(Bs,Ns,async Ws=>{if(Ws.driver.setItems)return asyncCall(Ws.driver.setItems,Ws.items.map(Js=>({key:Js.relativeKey,value:stringify(Js.value),options:Js.options})),Ns);Ws.driver.setItem&&await Promise.all(Ws.items.map(Js=>asyncCall(Ws.driver.setItem,Js.relativeKey,stringify(Js.value),Js.options)))})},async setItemRaw(Bs,Ns,Ws={}){if(Ns===void 0)return Rs.removeItem(Bs,Ws);Bs=normalizeKey(Bs);const{relativeKey:Js,driver:$l}=ws(Bs);if($l.setItemRaw)await asyncCall($l.setItemRaw,Js,Ns,Ws);else if($l.setItem)await asyncCall($l.setItem,Js,serializeRaw(Ns),Ws);else return;$l.watch||Es("update",Bs)},async removeItem(Bs,Ns={}){typeof Ns=="boolean"&&(Ns={removeMeta:Ns}),Bs=normalizeKey(Bs);const{relativeKey:Ws,driver:Js}=ws(Bs);Js.removeItem&&(await asyncCall(Js.removeItem,Ws,Ns),(Ns.removeMeta||Ns.removeMata)&&await asyncCall(Js.removeItem,Ws+"$",Ns),Js.watch||Es("remove",Bs))},async getMeta(Bs,Ns={}){typeof Ns=="boolean"&&(Ns={nativeOnly:Ns}),Bs=normalizeKey(Bs);const{relativeKey:Ws,driver:Js}=ws(Bs),$l=Object.create(null);if(Js.getMeta&&Object.assign($l,await asyncCall(Js.getMeta,Ws,Ns)),!Ns.nativeOnly){const wl=await asyncCall(Js.getItem,Ws+"$",Ns).then(_l=>destr(_l));wl&&typeof wl=="object"&&(typeof wl.atime=="string"&&(wl.atime=new Date(wl.atime)),typeof wl.mtime=="string"&&(wl.mtime=new Date(wl.mtime)),Object.assign($l,wl))}return $l},setMeta(Bs,Ns,Ws={}){return this.setItem(Bs+"$",Ns,Ws)},removeMeta(Bs,Ns={}){return this.removeItem(Bs+"$",Ns)},async getKeys(Bs,Ns={}){var Cl;Bs=normalizeBaseKey(Bs);const Ws=Ss(Bs,!0);let Js=[];const $l=[];let wl=!0;for(const Sl of Ws){(Cl=Sl.driver.flags)!=null&&Cl.maxDepth||(wl=!1);const El=await asyncCall(Sl.driver.getKeys,Sl.relativeBase,Ns);for(const xl of El){const Ml=Sl.mountpoint+normalizeKey(xl);Js.some(Vl=>Ml.startsWith(Vl))||$l.push(Ml)}Js=[Sl.mountpoint,...Js.filter(xl=>!xl.startsWith(Sl.mountpoint))]}const _l=Ns.maxDepth!==void 0&&!wl;return $l.filter(Sl=>(!_l||filterKeyByDepth(Sl,Ns.maxDepth))&&filterKeyByBase(Sl,Bs))},async clear(Bs,Ns={}){Bs=normalizeBaseKey(Bs),await Promise.all(Ss(Bs,!1).map(async Ws=>{if(Ws.driver.clear)return asyncCall(Ws.driver.clear,Ws.relativeBase,Ns);if(Ws.driver.removeItem){const Js=await Ws.driver.getKeys(Ws.relativeBase||"",Ns);return Promise.all(Js.map($l=>Ws.driver.removeItem($l,Ns)))}}))},async dispose(){await Promise.all(Object.values(ms.mounts).map(Bs=>dispose(Bs)))},async watch(Bs){return await _s(),ms.watchListeners.push(Bs),async()=>{ms.watchListeners=ms.watchListeners.filter(Ns=>Ns!==Bs),ms.watchListeners.length===0&&await Is()}},async unwatch(){ms.watchListeners=[],await Is()},mount(Bs,Ns){if(Bs=normalizeBaseKey(Bs),Bs&&ms.mounts[Bs])throw new Error(`already mounted at ${Bs}`);return Bs&&(ms.mountpoints.push(Bs),ms.mountpoints.sort((Ws,Js)=>Js.length-Ws.length)),ms.mounts[Bs]=Ns,ms.watching&&Promise.resolve(watch(Ns,Es,Bs)).then(Ws=>{ms.unwatch[Bs]=Ws}).catch(console.error),Rs},async unmount(Bs,Ns=!0){var Ws,Js;Bs=normalizeBaseKey(Bs),!(!Bs||!ms.mounts[Bs])&&(ms.watching&&Bs in ms.unwatch&&((Js=(Ws=ms.unwatch)[Bs])==null||Js.call(Ws),delete ms.unwatch[Bs]),Ns&&await dispose(ms.mounts[Bs]),ms.mountpoints=ms.mountpoints.filter($l=>$l!==Bs),delete ms.mounts[Bs])},getMount(Bs=""){Bs=normalizeKey(Bs)+":";const Ns=ws(Bs);return{driver:Ns.driver,base:Ns.base}},getMounts(Bs="",Ns={}){return Bs=normalizeKey(Bs),Ss(Bs,Ns.parents).map(Js=>({driver:Js.driver,base:Js.mountpoint}))},keys:(Bs,Ns={})=>Rs.getKeys(Bs,Ns),get:(Bs,Ns={})=>Rs.getItem(Bs,Ns),set:(Bs,Ns,Ws={})=>Rs.setItem(Bs,Ns,Ws),has:(Bs,Ns={})=>Rs.hasItem(Bs,Ns),del:(Bs,Ns={})=>Rs.removeItem(Bs,Ns),remove:(Bs,Ns={})=>Rs.removeItem(Bs,Ns)};return Rs}function watch(vs,ms,ws){return vs.watch?vs.watch((Ss,Es)=>ms(Ss,ws+Es)):()=>{}}async function dispose(vs){typeof vs.dispose=="function"&&await asyncCall(vs.dispose)}function promisifyRequest(vs){return new Promise((ms,ws)=>{vs.oncomplete=vs.onsuccess=()=>ms(vs.result),vs.onabort=vs.onerror=()=>ws(vs.error)})}function createStore(vs,ms){let ws;const Ss=()=>{if(ws)return ws;const Es=indexedDB.open(vs);return Es.onupgradeneeded=()=>Es.result.createObjectStore(ms),ws=promisifyRequest(Es),ws.then(_s=>{_s.onclose=()=>ws=void 0},()=>{}),ws};return(Es,_s)=>Ss().then(Is=>_s(Is.transaction(ms,Es).objectStore(ms)))}let defaultGetStoreFunc;function defaultGetStore(){return defaultGetStoreFunc||(defaultGetStoreFunc=createStore("keyval-store","keyval")),defaultGetStoreFunc}function get(vs,ms=defaultGetStore()){return ms("readonly",ws=>promisifyRequest(ws.get(vs)))}function set$1(vs,ms,ws=defaultGetStore()){return ws("readwrite",Ss=>(Ss.put(ms,vs),promisifyRequest(Ss.transaction)))}function del(vs,ms=defaultGetStore()){return ms("readwrite",ws=>(ws.delete(vs),promisifyRequest(ws.transaction)))}function clear(vs=defaultGetStore()){return vs("readwrite",ms=>(ms.clear(),promisifyRequest(ms.transaction)))}function eachCursor(vs,ms){return vs.openCursor().onsuccess=function(){this.result&&(ms(this.result),this.result.continue())},promisifyRequest(vs.transaction)}function keys(vs=defaultGetStore()){return vs("readonly",ms=>{if(ms.getAllKeys)return promisifyRequest(ms.getAllKeys());const ws=[];return eachCursor(ms,Ss=>ws.push(Ss.key)).then(()=>ws)})}const JSONStringify=vs=>JSON.stringify(vs,(ms,ws)=>typeof ws=="bigint"?ws.toString()+"n":ws),JSONParse=vs=>{const ms=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,ws=vs.replace(ms,'$1"$2n"$3');return JSON.parse(ws,(Ss,Es)=>typeof Es=="string"&&Es.match(/^\d+n$/)?BigInt(Es.substring(0,Es.length-1)):Es)};function safeJsonParse$2(vs){if(typeof vs!="string")throw new Error(`Cannot safe json parse value of type ${typeof vs}`);try{return JSONParse(vs)}catch{return vs}}function safeJsonStringify$2(vs){return typeof vs=="string"?vs:JSONStringify(vs)||""}const x$6="idb-keyval";var z$5=(vs={})=>{const ms=vs.base&&vs.base.length>0?`${vs.base}:`:"",ws=Es=>ms+Es;let Ss;return vs.dbName&&vs.storeName&&(Ss=createStore(vs.dbName,vs.storeName)),{name:x$6,options:vs,async hasItem(Es){return!(typeof await get(ws(Es),Ss)>"u")},async getItem(Es){return await get(ws(Es),Ss)??null},setItem(Es,_s){return set$1(ws(Es),_s,Ss)},removeItem(Es){return del(ws(Es),Ss)},getKeys(){return keys(Ss)},clear(){return clear(Ss)}}};const D$4="WALLET_CONNECT_V2_INDEXED_DB",E$5="keyvaluestorage";let _$4=class{constructor(){this.indexedDb=createStorage({driver:z$5({dbName:D$4,storeName:E$5})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(ms=>[ms.key,ms.value])}async getItem(ms){const ws=await this.indexedDb.getItem(ms);if(ws!==null)return ws}async setItem(ms,ws){await this.indexedDb.setItem(ms,safeJsonStringify$2(ws))}async removeItem(ms){await this.indexedDb.removeItem(ms)}};var l$3=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{},c$5={exports:{}};(function(){let vs;function ms(){}vs=ms,vs.prototype.getItem=function(ws){return this.hasOwnProperty(ws)?String(this[ws]):null},vs.prototype.setItem=function(ws,Ss){this[ws]=String(Ss)},vs.prototype.removeItem=function(ws){delete this[ws]},vs.prototype.clear=function(){const ws=this;Object.keys(ws).forEach(function(Ss){ws[Ss]=void 0,delete ws[Ss]})},vs.prototype.key=function(ws){return ws=ws||0,Object.keys(this)[ws]},vs.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof l$3<"u"&&l$3.localStorage?c$5.exports=l$3.localStorage:typeof window<"u"&&window.localStorage?c$5.exports=window.localStorage:c$5.exports=new ms})();function k$6(vs){var ms;return[vs[0],safeJsonParse$2((ms=vs[1])!=null?ms:"")]}let K$5=class{constructor(){this.localStorage=c$5.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(k$6)}async getItem(ms){const ws=this.localStorage.getItem(ms);if(ws!==null)return safeJsonParse$2(ws)}async setItem(ms,ws){this.localStorage.setItem(ms,safeJsonStringify$2(ws))}async removeItem(ms){this.localStorage.removeItem(ms)}};const N$7="wc_storage_version",y$6=1,O$7=async(vs,ms,ws)=>{const Ss=N$7,Es=await ms.getItem(Ss);if(Es&&Es>=y$6){ws(ms);return}const _s=await vs.getKeys();if(!_s.length){ws(ms);return}const Is=[];for(;_s.length;){const Ts=_s.shift();if(!Ts)continue;const Rs=Ts.toLowerCase();if(Rs.includes("wc@")||Rs.includes("walletconnect")||Rs.includes("wc_")||Rs.includes("wallet_connect")){const Bs=await vs.getItem(Ts);await ms.setItem(Ts,Bs),Is.push(Ts)}}await ms.setItem(Ss,y$6),ws(ms),j$4(vs,Is)},j$4=async(vs,ms)=>{ms.length&&ms.forEach(async ws=>{await vs.removeItem(ws)})};let h$5=class{constructor(){this.initialized=!1,this.setInitialized=ws=>{this.storage=ws,this.initialized=!0};const ms=new K$5;this.storage=ms;try{const ws=new _$4;O$7(ms,ws,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(ms){return await this.initialize(),this.storage.getItem(ms)}async setItem(ms,ws){return await this.initialize(),this.storage.setItem(ms,ws)}async removeItem(ms){return await this.initialize(),this.storage.removeItem(ms)}async initialize(){this.initialized||await new Promise(ms=>{const ws=setInterval(()=>{this.initialized&&(clearInterval(ws),ms())},20)})}};function tryStringify(vs){try{return JSON.stringify(vs)}catch{return'"[Circular]"'}}var quickFormatUnescaped=format$1;function format$1(vs,ms,ws){var Ss=ws&&ws.stringify||tryStringify,Es=1;if(typeof vs=="object"&&vs!==null){var _s=ms.length+Es;if(_s===1)return vs;var Is=new Array(_s);Is[0]=Ss(vs);for(var Ts=1;Ts<_s;Ts++)Is[Ts]=Ss(ms[Ts]);return Is.join(" ")}if(typeof vs!="string")return vs;var Rs=ms.length;if(Rs===0)return vs;for(var Bs="",Ns=1-Es,Ws=-1,Js=vs&&vs.length||0,$l=0;$l<Js;){if(vs.charCodeAt($l)===37&&$l+1<Js){switch(Ws=Ws>-1?Ws:0,vs.charCodeAt($l+1)){case 100:case 102:if(Ns>=Rs||ms[Ns]==null)break;Ws<$l&&(Bs+=vs.slice(Ws,$l)),Bs+=Number(ms[Ns]),Ws=$l+2,$l++;break;case 105:if(Ns>=Rs||ms[Ns]==null)break;Ws<$l&&(Bs+=vs.slice(Ws,$l)),Bs+=Math.floor(Number(ms[Ns])),Ws=$l+2,$l++;break;case 79:case 111:case 106:if(Ns>=Rs||ms[Ns]===void 0)break;Ws<$l&&(Bs+=vs.slice(Ws,$l));var wl=typeof ms[Ns];if(wl==="string"){Bs+="'"+ms[Ns]+"'",Ws=$l+2,$l++;break}if(wl==="function"){Bs+=ms[Ns].name||"<anonymous>",Ws=$l+2,$l++;break}Bs+=Ss(ms[Ns]),Ws=$l+2,$l++;break;case 115:if(Ns>=Rs)break;Ws<$l&&(Bs+=vs.slice(Ws,$l)),Bs+=String(ms[Ns]),Ws=$l+2,$l++;break;case 37:Ws<$l&&(Bs+=vs.slice(Ws,$l)),Bs+="%",Ws=$l+2,$l++,Ns--;break}++Ns}++$l}return Ws===-1?vs:(Ws<Js&&(Bs+=vs.slice(Ws)),Bs)}const format=quickFormatUnescaped;var browser=pino;const _console=pfGlobalThisOrFallback().console||{},stdSerializers={mapHttpRequest:mock,mapHttpResponse:mock,wrapRequestSerializer:passthrough,wrapResponseSerializer:passthrough,wrapErrorSerializer:passthrough,req:mock,res:mock,err:asErrValue};function shouldSerialize(vs,ms){return Array.isArray(vs)?vs.filter(function(Ss){return Ss!=="!stdSerializers.err"}):vs===!0?Object.keys(ms):!1}function pino(vs){vs=vs||{},vs.browser=vs.browser||{};const ms=vs.browser.transmit;if(ms&&typeof ms.send!="function")throw Error("pino: transmit option must have a send function");const ws=vs.browser.write||_console;vs.browser.write&&(vs.browser.asObject=!0);const Ss=vs.serializers||{},Es=shouldSerialize(vs.browser.serialize,Ss);let _s=vs.browser.serialize;Array.isArray(vs.browser.serialize)&&vs.browser.serialize.indexOf("!stdSerializers.err")>-1&&(_s=!1);const Is=["error","fatal","warn","info","debug","trace"];typeof ws=="function"&&(ws.error=ws.fatal=ws.warn=ws.info=ws.debug=ws.trace=ws),vs.enabled===!1&&(vs.level="silent");const Ts=vs.level||"info",Rs=Object.create(ws);Rs.log||(Rs.log=noop),Object.defineProperty(Rs,"levelVal",{get:Ns}),Object.defineProperty(Rs,"level",{get:Ws,set:Js});const Bs={transmit:ms,serialize:Es,asObject:vs.browser.asObject,levels:Is,timestamp:getTimeFunction(vs)};Rs.levels=pino.levels,Rs.level=Ts,Rs.setMaxListeners=Rs.getMaxListeners=Rs.emit=Rs.addListener=Rs.on=Rs.prependListener=Rs.once=Rs.prependOnceListener=Rs.removeListener=Rs.removeAllListeners=Rs.listeners=Rs.listenerCount=Rs.eventNames=Rs.write=Rs.flush=noop,Rs.serializers=Ss,Rs._serialize=Es,Rs._stdErrSerialize=_s,Rs.child=$l,ms&&(Rs._logEvent=createLogEventShape());function Ns(){return this.level==="silent"?1/0:this.levels.values[this.level]}function Ws(){return this._level}function Js(wl){if(wl!=="silent"&&!this.levels.values[wl])throw Error("unknown level "+wl);this._level=wl,set(Bs,Rs,"error","log"),set(Bs,Rs,"fatal","error"),set(Bs,Rs,"warn","error"),set(Bs,Rs,"info","log"),set(Bs,Rs,"debug","log"),set(Bs,Rs,"trace","log")}function $l(wl,_l){if(!wl)throw new Error("missing bindings for child Pino");_l=_l||{},Es&&wl.serializers&&(_l.serializers=wl.serializers);const Cl=_l.serializers;if(Es&&Cl){var Sl=Object.assign({},Ss,Cl),El=vs.browser.serialize===!0?Object.keys(Sl):Es;delete wl.serializers,applySerializers([wl],El,Sl,this._stdErrSerialize)}function xl(Ml){this._childLevel=(Ml._childLevel|0)+1,this.error=bind(Ml,wl,"error"),this.fatal=bind(Ml,wl,"fatal"),this.warn=bind(Ml,wl,"warn"),this.info=bind(Ml,wl,"info"),this.debug=bind(Ml,wl,"debug"),this.trace=bind(Ml,wl,"trace"),Sl&&(this.serializers=Sl,this._serialize=El),ms&&(this._logEvent=createLogEventShape([].concat(Ml._logEvent.bindings,wl)))}return xl.prototype=this,new xl(this)}return Rs}pino.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},pino.stdSerializers=stdSerializers,pino.stdTimeFunctions=Object.assign({},{nullTime,epochTime,unixTime,isoTime});function set(vs,ms,ws,Ss){const Es=Object.getPrototypeOf(ms);ms[ws]=ms.levelVal>ms.levels.values[ws]?noop:Es[ws]?Es[ws]:_console[ws]||_console[Ss]||noop,wrap(vs,ms,ws)}function wrap(vs,ms,ws){!vs.transmit&&ms[ws]===noop||(ms[ws]=function(Ss){return function(){const _s=vs.timestamp(),Is=new Array(arguments.length),Ts=Object.getPrototypeOf&&Object.getPrototypeOf(this)===_console?_console:this;for(var Rs=0;Rs<Is.length;Rs++)Is[Rs]=arguments[Rs];if(vs.serialize&&!vs.asObject&&applySerializers(Is,this._serialize,this.serializers,this._stdErrSerialize),vs.asObject?Ss.call(Ts,asObject(this,ws,Is,_s)):Ss.apply(Ts,Is),vs.transmit){const Bs=vs.transmit.level||ms.level,Ns=pino.levels.values[Bs],Ws=pino.levels.values[ws];if(Ws<Ns)return;transmit(this,{ts:_s,methodLevel:ws,methodValue:Ws,transmitValue:pino.levels.values[vs.transmit.level||ms.level],send:vs.transmit.send,val:ms.levelVal},Is)}}}(ms[ws]))}function asObject(vs,ms,ws,Ss){vs._serialize&&applySerializers(ws,vs._serialize,vs.serializers,vs._stdErrSerialize);const Es=ws.slice();let _s=Es[0];const Is={};Ss&&(Is.time=Ss),Is.level=pino.levels.values[ms];let Ts=(vs._childLevel|0)+1;if(Ts<1&&(Ts=1),_s!==null&&typeof _s=="object"){for(;Ts--&&typeof Es[0]=="object";)Object.assign(Is,Es.shift());_s=Es.length?format(Es.shift(),Es):void 0}else typeof _s=="string"&&(_s=format(Es.shift(),Es));return _s!==void 0&&(Is.msg=_s),Is}function applySerializers(vs,ms,ws,Ss){for(const Es in vs)if(Ss&&vs[Es]instanceof Error)vs[Es]=pino.stdSerializers.err(vs[Es]);else if(typeof vs[Es]=="object"&&!Array.isArray(vs[Es]))for(const _s in vs[Es])ms&&ms.indexOf(_s)>-1&&_s in ws&&(vs[Es][_s]=ws[_s](vs[Es][_s]))}function bind(vs,ms,ws){return function(){const Ss=new Array(1+arguments.length);Ss[0]=ms;for(var Es=1;Es<Ss.length;Es++)Ss[Es]=arguments[Es-1];return vs[ws].apply(this,Ss)}}function transmit(vs,ms,ws){const Ss=ms.send,Es=ms.ts,_s=ms.methodLevel,Is=ms.methodValue,Ts=ms.val,Rs=vs._logEvent.bindings;applySerializers(ws,vs._serialize||Object.keys(vs.serializers),vs.serializers,vs._stdErrSerialize===void 0?!0:vs._stdErrSerialize),vs._logEvent.ts=Es,vs._logEvent.messages=ws.filter(function(Bs){return Rs.indexOf(Bs)===-1}),vs._logEvent.level.label=_s,vs._logEvent.level.value=Is,Ss(_s,vs._logEvent,Ts),vs._logEvent=createLogEventShape(Rs)}function createLogEventShape(vs){return{ts:0,messages:[],bindings:vs||[],level:{label:"",value:0}}}function asErrValue(vs){const ms={type:vs.constructor.name,msg:vs.message,stack:vs.stack};for(const ws in vs)ms[ws]===void 0&&(ms[ws]=vs[ws]);return ms}function getTimeFunction(vs){return typeof vs.timestamp=="function"?vs.timestamp:vs.timestamp===!1?nullTime:epochTime}function mock(){return{}}function passthrough(vs){return vs}function noop(){}function nullTime(){return!1}function epochTime(){return Date.now()}function unixTime(){return Math.round(Date.now()/1e3)}function isoTime(){return new Date(Date.now()).toISOString()}function pfGlobalThisOrFallback(){function vs(ms){return typeof ms<"u"&&ms}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return vs(self)||vs(window)||vs(this)||{}}}const Ct$3=getDefaultExportFromCjs(browser),c$4={level:"info"},n$1="custom_context",l$2=1e3*1024;let O$6=class{constructor(ms){this.nodeValue=ms,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},d$5=class{constructor(ms){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=ms,this.sizeInBytes=0}append(ms){const ws=new O$6(ms);if(ws.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${ms} with size ${ws.size}`);for(;this.size+ws.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=ws),this.tail=ws):(this.head=ws,this.tail=ws),this.lengthInNodes++,this.sizeInBytes+=ws.size}shift(){if(!this.head)return;const ms=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=ms.size}toArray(){const ms=[];let ws=this.head;for(;ws!==null;)ms.push(ws.value),ws=ws.next;return ms}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let ms=this.head;return{next:()=>{if(!ms)return{done:!0,value:null};const ws=ms.value;return ms=ms.next,{done:!1,value:ws}}}}},L$4=class{constructor(ms,ws=l$2){this.level=ms??"error",this.levelValue=browser.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=ws,this.logs=new d$5(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(ms,ws){ws===browser.levels.values.error?console.error(ms):ws===browser.levels.values.warn?console.warn(ms):ws===browser.levels.values.debug?console.debug(ms):ws===browser.levels.values.trace?console.trace(ms):console.log(ms)}appendToLogs(ms){this.logs.append(safeJsonStringify$2({timestamp:new Date().toISOString(),log:ms}));const ws=typeof ms=="string"?JSON.parse(ms).level:ms.level;ws>=this.levelValue&&this.forwardToConsole(ms,ws)}getLogs(){return this.logs}clearLogs(){this.logs=new d$5(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(ms){const ws=this.getLogArray();return ws.push(safeJsonStringify$2({extraMetadata:ms})),new Blob(ws,{type:"application/json"})}},m$7=class{constructor(ms,ws=l$2){this.baseChunkLogger=new L$4(ms,ws)}write(ms){this.baseChunkLogger.appendToLogs(ms)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(ms){return this.baseChunkLogger.logsToBlob(ms)}downloadLogsBlobInBrowser(ms){const ws=URL.createObjectURL(this.logsToBlob(ms)),Ss=document.createElement("a");Ss.href=ws,Ss.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(Ss),Ss.click(),document.body.removeChild(Ss),URL.revokeObjectURL(ws)}},B$4=class{constructor(ms,ws=l$2){this.baseChunkLogger=new L$4(ms,ws)}write(ms){this.baseChunkLogger.appendToLogs(ms)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(ms){return this.baseChunkLogger.logsToBlob(ms)}};var x$5=Object.defineProperty,S$5=Object.defineProperties,_$3=Object.getOwnPropertyDescriptors,p$4=Object.getOwnPropertySymbols,T$5=Object.prototype.hasOwnProperty,z$4=Object.prototype.propertyIsEnumerable,f$8=(vs,ms,ws)=>ms in vs?x$5(vs,ms,{enumerable:!0,configurable:!0,writable:!0,value:ws}):vs[ms]=ws,i$4=(vs,ms)=>{for(var ws in ms||(ms={}))T$5.call(ms,ws)&&f$8(vs,ws,ms[ws]);if(p$4)for(var ws of p$4(ms))z$4.call(ms,ws)&&f$8(vs,ws,ms[ws]);return vs},g$5=(vs,ms)=>S$5(vs,_$3(ms));function k$5(vs){return g$5(i$4({},vs),{level:(vs==null?void 0:vs.level)||c$4.level})}function v$9(vs,ms=n$1){return vs[ms]||""}function b$6(vs,ms,ws=n$1){return vs[ws]=ms,vs}function y$5(vs,ms=n$1){let ws="";return typeof vs.bindings>"u"?ws=v$9(vs,ms):ws=vs.bindings().context||"",ws}function w$5(vs,ms,ws=n$1){const Ss=y$5(vs,ws);return Ss.trim()?`${Ss}/${ms}`:ms}function E$4(vs,ms,ws=n$1){const Ss=w$5(vs,ms,ws),Es=vs.child({context:Ss});return b$6(Es,Ss,ws)}function C$6(vs){var ms,ws;const Ss=new m$7((ms=vs.opts)==null?void 0:ms.level,vs.maxSizeInBytes);return{logger:Ct$3(g$5(i$4({},vs.opts),{level:"trace",browser:g$5(i$4({},(ws=vs.opts)==null?void 0:ws.browser),{write:Es=>Ss.write(Es)})})),chunkLoggerController:Ss}}function I$4(vs){var ms;const ws=new B$4((ms=vs.opts)==null?void 0:ms.level,vs.maxSizeInBytes);return{logger:Ct$3(g$5(i$4({},vs.opts),{level:"trace"}),ws),chunkLoggerController:ws}}function A$5(vs){return typeof vs.loggerOverride<"u"&&typeof vs.loggerOverride!="string"?{logger:vs.loggerOverride,chunkLoggerController:null}:typeof window<"u"?C$6(vs):I$4(vs)}var a$2=Object.defineProperty,u$4=(vs,ms,ws)=>ms in vs?a$2(vs,ms,{enumerable:!0,configurable:!0,writable:!0,value:ws}):vs[ms]=ws,c$3=(vs,ms,ws)=>u$4(vs,typeof ms!="symbol"?ms+"":ms,ws);let h$4=class extends IEvents{constructor(ms){super(),this.opts=ms,c$3(this,"protocol","wc"),c$3(this,"version",2)}};var p$3=Object.defineProperty,b$5=(vs,ms,ws)=>ms in vs?p$3(vs,ms,{enumerable:!0,configurable:!0,writable:!0,value:ws}):vs[ms]=ws,v$8=(vs,ms,ws)=>b$5(vs,ms+"",ws);let I$3=class extends IEvents{constructor(ms,ws){super(),this.core=ms,this.logger=ws,v$8(this,"records",new Map)}},y$4=class{constructor(ms,ws){this.logger=ms,this.core=ws}},m$6=class extends IEvents{constructor(ms,ws){super(),this.relayer=ms,this.logger=ws}},d$4=class extends IEvents{constructor(ms){super()}},f$7=class{constructor(ms,ws,Ss,Es){this.core=ms,this.logger=ws,this.name=Ss}},P$6=class extends IEvents{constructor(ms,ws){super(),this.relayer=ms,this.logger=ws}},S$4=class extends IEvents{constructor(ms,ws){super(),this.core=ms,this.logger=ws}},M$6=class{constructor(ms,ws,Ss){this.core=ms,this.logger=ws,this.store=Ss}},O$5=class{constructor(ms,ws){this.projectId=ms,this.logger=ws}},R$5=class{constructor(ms,ws,Ss){this.core=ms,this.logger=ws,this.telemetryEnabled=Ss}};var T$4=Object.defineProperty,k$4=(vs,ms,ws)=>ms in vs?T$4(vs,ms,{enumerable:!0,configurable:!0,writable:!0,value:ws}):vs[ms]=ws,i$3=(vs,ms,ws)=>k$4(vs,typeof ms!="symbol"?ms+"":ms,ws);let J$6=class{constructor(ms){this.opts=ms,i$3(this,"protocol","wc"),i$3(this,"version",2)}},V$4=class{constructor(ms){this.client=ms}};function En$2(vs){return vs instanceof Uint8Array||ArrayBuffer.isView(vs)&&vs.constructor.name==="Uint8Array"}function fe$3(vs,...ms){if(!En$2(vs))throw new Error("Uint8Array expected");if(ms.length>0&&!ms.includes(vs.length))throw new Error("Uint8Array expected of length "+ms+", got length="+vs.length)}function De$3(vs,ms=!0){if(vs.destroyed)throw new Error("Hash instance has been destroyed");if(ms&&vs.finished)throw new Error("Hash#digest() has already been called")}function gn$2(vs,ms){fe$3(vs);const ws=ms.outputLen;if(vs.length<ws)throw new Error("digestInto() expects output buffer of length at least "+ws)}const it$2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _t$3=vs=>new DataView(vs.buffer,vs.byteOffset,vs.byteLength);function yn$2(vs){if(typeof vs!="string")throw new Error("utf8ToBytes expected string, got "+typeof vs);return new Uint8Array(new TextEncoder().encode(vs))}function de$1(vs){return typeof vs=="string"&&(vs=yn$2(vs)),fe$3(vs),vs}let xn$2=class{clone(){return this._cloneInto()}};function Bn$2(vs){const ms=Ss=>vs().update(de$1(Ss)).digest(),ws=vs();return ms.outputLen=ws.outputLen,ms.blockLen=ws.blockLen,ms.create=()=>vs(),ms}function he$2(vs=32){if(it$2&&typeof it$2.getRandomValues=="function")return it$2.getRandomValues(new Uint8Array(vs));if(it$2&&typeof it$2.randomBytes=="function")return it$2.randomBytes(vs);throw new Error("crypto.getRandomValues must be defined")}function Cn$2(vs,ms,ws,Ss){if(typeof vs.setBigUint64=="function")return vs.setBigUint64(ms,ws,Ss);const Es=BigInt(32),_s=BigInt(4294967295),Is=Number(ws>>Es&_s),Ts=Number(ws&_s),Rs=Ss?4:0,Bs=Ss?0:4;vs.setUint32(ms+Rs,Is,Ss),vs.setUint32(ms+Bs,Ts,Ss)}let An$2=class extends xn$2{constructor(ms,ws,Ss,Es){super(),this.blockLen=ms,this.outputLen=ws,this.padOffset=Ss,this.isLE=Es,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(ms),this.view=_t$3(this.buffer)}update(ms){De$3(this);const{view:ws,buffer:Ss,blockLen:Es}=this;ms=de$1(ms);const _s=ms.length;for(let Is=0;Is<_s;){const Ts=Math.min(Es-this.pos,_s-Is);if(Ts===Es){const Rs=_t$3(ms);for(;Es<=_s-Is;Is+=Es)this.process(Rs,Is);continue}Ss.set(ms.subarray(Is,Is+Ts),this.pos),this.pos+=Ts,Is+=Ts,this.pos===Es&&(this.process(ws,0),this.pos=0)}return this.length+=ms.length,this.roundClean(),this}digestInto(ms){De$3(this),gn$2(ms,this),this.finished=!0;const{buffer:ws,view:Ss,blockLen:Es,isLE:_s}=this;let{pos:Is}=this;ws[Is++]=128,this.buffer.subarray(Is).fill(0),this.padOffset>Es-Is&&(this.process(Ss,0),Is=0);for(let Ws=Is;Ws<Es;Ws++)ws[Ws]=0;Cn$2(Ss,Es-8,BigInt(this.length*8),_s),this.process(Ss,0);const Ts=_t$3(ms),Rs=this.outputLen;if(Rs%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const Bs=Rs/4,Ns=this.get();if(Bs>Ns.length)throw new Error("_sha2: outputLen bigger than state");for(let Ws=0;Ws<Bs;Ws++)Ts.setUint32(4*Ws,Ns[Ws],_s)}digest(){const{buffer:ms,outputLen:ws}=this;this.digestInto(ms);const Ss=ms.slice(0,ws);return this.destroy(),Ss}_cloneInto(ms){ms||(ms=new this.constructor),ms.set(...this.get());const{blockLen:ws,buffer:Ss,length:Es,finished:_s,destroyed:Is,pos:Ts}=this;return ms.length=Es,ms.pos=Ts,ms.finished=_s,ms.destroyed=Is,Es%ws&&ms.buffer.set(Ss),ms}};const wt$3=BigInt(2**32-1),St$4=BigInt(32);function le$2(vs,ms=!1){return ms?{h:Number(vs&wt$3),l:Number(vs>>St$4&wt$3)}:{h:Number(vs>>St$4&wt$3)|0,l:Number(vs&wt$3)|0}}function mn$2(vs,ms=!1){let ws=new Uint32Array(vs.length),Ss=new Uint32Array(vs.length);for(let Es=0;Es<vs.length;Es++){const{h:_s,l:Is}=le$2(vs[Es],ms);[ws[Es],Ss[Es]]=[_s,Is]}return[ws,Ss]}const _n$2=(vs,ms)=>BigInt(vs>>>0)<<St$4|BigInt(ms>>>0),Sn$2=(vs,ms,ws)=>vs>>>ws,vn$2=(vs,ms,ws)=>vs<<32-ws|ms>>>ws,In$2=(vs,ms,ws)=>vs>>>ws|ms<<32-ws,Un$2=(vs,ms,ws)=>vs<<32-ws|ms>>>ws,Tn$2=(vs,ms,ws)=>vs<<64-ws|ms>>>ws-32,Fn$1=(vs,ms,ws)=>vs>>>ws-32|ms<<64-ws,Nn$2=(vs,ms)=>ms,Ln$2=(vs,ms)=>vs,On$2=(vs,ms,ws)=>vs<<ws|ms>>>32-ws,Hn$2=(vs,ms,ws)=>ms<<ws|vs>>>32-ws,zn$1=(vs,ms,ws)=>ms<<ws-32|vs>>>64-ws,Mn$2=(vs,ms,ws)=>vs<<ws-32|ms>>>64-ws;function qn$2(vs,ms,ws,Ss){const Es=(ms>>>0)+(Ss>>>0);return{h:vs+ws+(Es/2**32|0)|0,l:Es|0}}const $n$2=(vs,ms,ws)=>(vs>>>0)+(ms>>>0)+(ws>>>0),kn$2=(vs,ms,ws,Ss)=>ms+ws+Ss+(vs/2**32|0)|0,Rn$2=(vs,ms,ws,Ss)=>(vs>>>0)+(ms>>>0)+(ws>>>0)+(Ss>>>0),jn$2=(vs,ms,ws,Ss,Es)=>ms+ws+Ss+Es+(vs/2**32|0)|0,Zn$1=(vs,ms,ws,Ss,Es)=>(vs>>>0)+(ms>>>0)+(ws>>>0)+(Ss>>>0)+(Es>>>0),Gn$1=(vs,ms,ws,Ss,Es,_s)=>ms+ws+Ss+Es+_s+(vs/2**32|0)|0,x$4={fromBig:le$2,split:mn$2,toBig:_n$2,shrSH:Sn$2,shrSL:vn$2,rotrSH:In$2,rotrSL:Un$2,rotrBH:Tn$2,rotrBL:Fn$1,rotr32H:Nn$2,rotr32L:Ln$2,rotlSH:On$2,rotlSL:Hn$2,rotlBH:zn$1,rotlBL:Mn$2,add:qn$2,add3L:$n$2,add3H:kn$2,add4L:Rn$2,add4H:jn$2,add5H:Gn$1,add5L:Zn$1},[Vn$2,Yn$1]=x$4.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(vs=>BigInt(vs))),P$5=new Uint32Array(80),Q$4=new Uint32Array(80);let Jn$2=class extends An$2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:ms,Al:ws,Bh:Ss,Bl:Es,Ch:_s,Cl:Is,Dh:Ts,Dl:Rs,Eh:Bs,El:Ns,Fh:Ws,Fl:Js,Gh:$l,Gl:wl,Hh:_l,Hl:Cl}=this;return[ms,ws,Ss,Es,_s,Is,Ts,Rs,Bs,Ns,Ws,Js,$l,wl,_l,Cl]}set(ms,ws,Ss,Es,_s,Is,Ts,Rs,Bs,Ns,Ws,Js,$l,wl,_l,Cl){this.Ah=ms|0,this.Al=ws|0,this.Bh=Ss|0,this.Bl=Es|0,this.Ch=_s|0,this.Cl=Is|0,this.Dh=Ts|0,this.Dl=Rs|0,this.Eh=Bs|0,this.El=Ns|0,this.Fh=Ws|0,this.Fl=Js|0,this.Gh=$l|0,this.Gl=wl|0,this.Hh=_l|0,this.Hl=Cl|0}process(ms,ws){for(let xl=0;xl<16;xl++,ws+=4)P$5[xl]=ms.getUint32(ws),Q$4[xl]=ms.getUint32(ws+=4);for(let xl=16;xl<80;xl++){const Ml=P$5[xl-15]|0,Vl=Q$4[xl-15]|0,Ul=x$4.rotrSH(Ml,Vl,1)^x$4.rotrSH(Ml,Vl,8)^x$4.shrSH(Ml,Vl,7),_h=x$4.rotrSL(Ml,Vl,1)^x$4.rotrSL(Ml,Vl,8)^x$4.shrSL(Ml,Vl,7),nu=P$5[xl-2]|0,su=Q$4[xl-2]|0,Jl=x$4.rotrSH(nu,su,19)^x$4.rotrBH(nu,su,61)^x$4.shrSH(nu,su,6),Il=x$4.rotrSL(nu,su,19)^x$4.rotrBL(nu,su,61)^x$4.shrSL(nu,su,6),Nl=x$4.add4L(_h,Il,Q$4[xl-7],Q$4[xl-16]),Ol=x$4.add4H(Nl,Ul,Jl,P$5[xl-7],P$5[xl-16]);P$5[xl]=Ol|0,Q$4[xl]=Nl|0}let{Ah:Ss,Al:Es,Bh:_s,Bl:Is,Ch:Ts,Cl:Rs,Dh:Bs,Dl:Ns,Eh:Ws,El:Js,Fh:$l,Fl:wl,Gh:_l,Gl:Cl,Hh:Sl,Hl:El}=this;for(let xl=0;xl<80;xl++){const Ml=x$4.rotrSH(Ws,Js,14)^x$4.rotrSH(Ws,Js,18)^x$4.rotrBH(Ws,Js,41),Vl=x$4.rotrSL(Ws,Js,14)^x$4.rotrSL(Ws,Js,18)^x$4.rotrBL(Ws,Js,41),Ul=Ws&$l^~Ws&_l,_h=Js&wl^~Js&Cl,nu=x$4.add5L(El,Vl,_h,Yn$1[xl],Q$4[xl]),su=x$4.add5H(nu,Sl,Ml,Ul,Vn$2[xl],P$5[xl]),Jl=nu|0,Il=x$4.rotrSH(Ss,Es,28)^x$4.rotrBH(Ss,Es,34)^x$4.rotrBH(Ss,Es,39),Nl=x$4.rotrSL(Ss,Es,28)^x$4.rotrBL(Ss,Es,34)^x$4.rotrBL(Ss,Es,39),Ol=Ss&_s^Ss&Ts^_s&Ts,Gl=Es&Is^Es&Rs^Is&Rs;Sl=_l|0,El=Cl|0,_l=$l|0,Cl=wl|0,$l=Ws|0,wl=Js|0,{h:Ws,l:Js}=x$4.add(Bs|0,Ns|0,su|0,Jl|0),Bs=Ts|0,Ns=Rs|0,Ts=_s|0,Rs=Is|0,_s=Ss|0,Is=Es|0;const Fl=x$4.add3L(Jl,Nl,Gl);Ss=x$4.add3H(Fl,su,Il,Ol),Es=Fl|0}({h:Ss,l:Es}=x$4.add(this.Ah|0,this.Al|0,Ss|0,Es|0)),{h:_s,l:Is}=x$4.add(this.Bh|0,this.Bl|0,_s|0,Is|0),{h:Ts,l:Rs}=x$4.add(this.Ch|0,this.Cl|0,Ts|0,Rs|0),{h:Bs,l:Ns}=x$4.add(this.Dh|0,this.Dl|0,Bs|0,Ns|0),{h:Ws,l:Js}=x$4.add(this.Eh|0,this.El|0,Ws|0,Js|0),{h:$l,l:wl}=x$4.add(this.Fh|0,this.Fl|0,$l|0,wl|0),{h:_l,l:Cl}=x$4.add(this.Gh|0,this.Gl|0,_l|0,Cl|0),{h:Sl,l:El}=x$4.add(this.Hh|0,this.Hl|0,Sl|0,El|0),this.set(Ss,Es,_s,Is,Ts,Rs,Bs,Ns,Ws,Js,$l,wl,_l,Cl,Sl,El)}roundClean(){P$5.fill(0),Q$4.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Kn$1=Bn$2(()=>new Jn$2);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vt$3=BigInt(0),be$2=BigInt(1),Wn$1=BigInt(2);function It$4(vs){return vs instanceof Uint8Array||ArrayBuffer.isView(vs)&&vs.constructor.name==="Uint8Array"}function Ut$3(vs){if(!It$4(vs))throw new Error("Uint8Array expected")}function Tt$3(vs,ms){if(typeof ms!="boolean")throw new Error(vs+" boolean expected, got "+ms)}const Xn$1=Array.from({length:256},(vs,ms)=>ms.toString(16).padStart(2,"0"));function Ft$1(vs){Ut$3(vs);let ms="";for(let ws=0;ws<vs.length;ws++)ms+=Xn$1[vs[ws]];return ms}function pe$3(vs){if(typeof vs!="string")throw new Error("hex string expected, got "+typeof vs);return vs===""?vt$3:BigInt("0x"+vs)}const K$4={_0:48,_9:57,A:65,F:70,a:97,f:102};function we$3(vs){if(vs>=K$4._0&&vs<=K$4._9)return vs-K$4._0;if(vs>=K$4.A&&vs<=K$4.F)return vs-(K$4.A-10);if(vs>=K$4.a&&vs<=K$4.f)return vs-(K$4.a-10)}function Ee(vs){if(typeof vs!="string")throw new Error("hex string expected, got "+typeof vs);const ms=vs.length,ws=ms/2;if(ms%2)throw new Error("hex string expected, got unpadded hex of length "+ms);const Ss=new Uint8Array(ws);for(let Es=0,_s=0;Es<ws;Es++,_s+=2){const Is=we$3(vs.charCodeAt(_s)),Ts=we$3(vs.charCodeAt(_s+1));if(Is===void 0||Ts===void 0){const Rs=vs[_s]+vs[_s+1];throw new Error('hex string expected, got non-hex character "'+Rs+'" at index '+_s)}Ss[Es]=Is*16+Ts}return Ss}function Pn$2(vs){return pe$3(Ft$1(vs))}function Et$3(vs){return Ut$3(vs),pe$3(Ft$1(Uint8Array.from(vs).reverse()))}function ge$1(vs,ms){return Ee(vs.toString(16).padStart(ms*2,"0"))}function Nt$3(vs,ms){return ge$1(vs,ms).reverse()}function W$5(vs,ms,ws){let Ss;if(typeof ms=="string")try{Ss=Ee(ms)}catch(_s){throw new Error(vs+" must be hex string or Uint8Array, cause: "+_s)}else if(It$4(ms))Ss=Uint8Array.from(ms);else throw new Error(vs+" must be hex string or Uint8Array");const Es=Ss.length;if(typeof ws=="number"&&Es!==ws)throw new Error(vs+" of length "+ws+" expected, got "+Es);return Ss}function ye$2(...vs){let ms=0;for(let Ss=0;Ss<vs.length;Ss++){const Es=vs[Ss];Ut$3(Es),ms+=Es.length}const ws=new Uint8Array(ms);for(let Ss=0,Es=0;Ss<vs.length;Ss++){const _s=vs[Ss];ws.set(_s,Es),Es+=_s.length}return ws}const Lt$3=vs=>typeof vs=="bigint"&&vt$3<=vs;function Qn$2(vs,ms,ws){return Lt$3(vs)&&Lt$3(ms)&&Lt$3(ws)&&ms<=vs&&vs<ws}function ft$2(vs,ms,ws,Ss){if(!Qn$2(ms,ws,Ss))throw new Error("expected valid "+vs+": "+ws+" <= n < "+Ss+", got "+ms)}function tr$1(vs){let ms;for(ms=0;vs>vt$3;vs>>=be$2,ms+=1);return ms}const er$1=vs=>(Wn$1<<BigInt(vs-1))-be$2,nr$1={bigint:vs=>typeof vs=="bigint",function:vs=>typeof vs=="function",boolean:vs=>typeof vs=="boolean",string:vs=>typeof vs=="string",stringOrUint8Array:vs=>typeof vs=="string"||It$4(vs),isSafeInteger:vs=>Number.isSafeInteger(vs),array:vs=>Array.isArray(vs),field:(vs,ms)=>ms.Fp.isValid(vs),hash:vs=>typeof vs=="function"&&Number.isSafeInteger(vs.outputLen)};function Ot$3(vs,ms,ws={}){const Ss=(Es,_s,Is)=>{const Ts=nr$1[_s];if(typeof Ts!="function")throw new Error("invalid validator function");const Rs=vs[Es];if(!(Is&&Rs===void 0)&&!Ts(Rs,vs))throw new Error("param "+String(Es)+" is invalid. Expected "+_s+", got "+Rs)};for(const[Es,_s]of Object.entries(ms))Ss(Es,_s,!1);for(const[Es,_s]of Object.entries(ws))Ss(Es,_s,!0);return vs}function xe$1(vs){const ms=new WeakMap;return(ws,...Ss)=>{const Es=ms.get(ws);if(Es!==void 0)return Es;const _s=vs(ws,...Ss);return ms.set(ws,_s),_s}}const M$5=BigInt(0),N$6=BigInt(1),nt$2=BigInt(2),rr$2=BigInt(3),Ht$2=BigInt(4),Be$2=BigInt(5),Ce$2=BigInt(8);function H$3(vs,ms){const ws=vs%ms;return ws>=M$5?ws:ms+ws}function or$3(vs,ms,ws){if(ms<M$5)throw new Error("invalid exponent, negatives unsupported");if(ws<=M$5)throw new Error("invalid modulus");if(ws===N$6)return M$5;let Ss=N$6;for(;ms>M$5;)ms&N$6&&(Ss=Ss*vs%ws),vs=vs*vs%ws,ms>>=N$6;return Ss}function J$5(vs,ms,ws){let Ss=vs;for(;ms-- >M$5;)Ss*=Ss,Ss%=ws;return Ss}function Ae$1(vs,ms){if(vs===M$5)throw new Error("invert: expected non-zero number");if(ms<=M$5)throw new Error("invert: expected positive modulus, got "+ms);let ws=H$3(vs,ms),Ss=ms,Es=M$5,_s=N$6;for(;ws!==M$5;){const Is=Ss/ws,Ts=Ss%ws,Rs=Es-_s*Is;Ss=ws,ws=Ts,Es=_s,_s=Rs}if(Ss!==N$6)throw new Error("invert: does not exist");return H$3(Es,ms)}function sr$1(vs){const ms=(vs-N$6)/nt$2;let ws,Ss,Es;for(ws=vs-N$6,Ss=0;ws%nt$2===M$5;ws/=nt$2,Ss++);for(Es=nt$2;Es<vs&&or$3(Es,ms,vs)!==vs-N$6;Es++)if(Es>1e3)throw new Error("Cannot find square root: likely non-prime P");if(Ss===1){const Is=(vs+N$6)/Ht$2;return function(Ts,Rs){const Bs=Ts.pow(Rs,Is);if(!Ts.eql(Ts.sqr(Bs),Rs))throw new Error("Cannot find square root");return Bs}}const _s=(ws+N$6)/nt$2;return function(Is,Ts){if(Is.pow(Ts,ms)===Is.neg(Is.ONE))throw new Error("Cannot find square root");let Rs=Ss,Bs=Is.pow(Is.mul(Is.ONE,Es),ws),Ns=Is.pow(Ts,_s),Ws=Is.pow(Ts,ws);for(;!Is.eql(Ws,Is.ONE);){if(Is.eql(Ws,Is.ZERO))return Is.ZERO;let Js=1;for(let wl=Is.sqr(Ws);Js<Rs&&!Is.eql(wl,Is.ONE);Js++)wl=Is.sqr(wl);const $l=Is.pow(Bs,N$6<<BigInt(Rs-Js-1));Bs=Is.sqr($l),Ns=Is.mul(Ns,$l),Ws=Is.mul(Ws,Bs),Rs=Js}return Ns}}function ir$2(vs){if(vs%Ht$2===rr$2){const ms=(vs+N$6)/Ht$2;return function(ws,Ss){const Es=ws.pow(Ss,ms);if(!ws.eql(ws.sqr(Es),Ss))throw new Error("Cannot find square root");return Es}}if(vs%Ce$2===Be$2){const ms=(vs-Be$2)/Ce$2;return function(ws,Ss){const Es=ws.mul(Ss,nt$2),_s=ws.pow(Es,ms),Is=ws.mul(Ss,_s),Ts=ws.mul(ws.mul(Is,nt$2),_s),Rs=ws.mul(Is,ws.sub(Ts,ws.ONE));if(!ws.eql(ws.sqr(Rs),Ss))throw new Error("Cannot find square root");return Rs}}return sr$1(vs)}const ur$1=(vs,ms)=>(H$3(vs,ms)&N$6)===N$6,cr$2=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ar$1(vs){const ms={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},ws=cr$2.reduce((Ss,Es)=>(Ss[Es]="function",Ss),ms);return Ot$3(vs,ws)}function fr$2(vs,ms,ws){if(ws<M$5)throw new Error("invalid exponent, negatives unsupported");if(ws===M$5)return vs.ONE;if(ws===N$6)return ms;let Ss=vs.ONE,Es=ms;for(;ws>M$5;)ws&N$6&&(Ss=vs.mul(Ss,Es)),Es=vs.sqr(Es),ws>>=N$6;return Ss}function Dr$2(vs,ms){const ws=new Array(ms.length),Ss=ms.reduce((_s,Is,Ts)=>vs.is0(Is)?_s:(ws[Ts]=_s,vs.mul(_s,Is)),vs.ONE),Es=vs.inv(Ss);return ms.reduceRight((_s,Is,Ts)=>vs.is0(Is)?_s:(ws[Ts]=vs.mul(_s,ws[Ts]),vs.mul(_s,Is)),Es),ws}function me$3(vs,ms){const ws=ms!==void 0?ms:vs.toString(2).length,Ss=Math.ceil(ws/8);return{nBitLength:ws,nByteLength:Ss}}function _e$2(vs,ms,ws=!1,Ss={}){if(vs<=M$5)throw new Error("invalid field: expected ORDER > 0, got "+vs);const{nBitLength:Es,nByteLength:_s}=me$3(vs,ms);if(_s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let Is;const Ts=Object.freeze({ORDER:vs,isLE:ws,BITS:Es,BYTES:_s,MASK:er$1(Es),ZERO:M$5,ONE:N$6,create:Rs=>H$3(Rs,vs),isValid:Rs=>{if(typeof Rs!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof Rs);return M$5<=Rs&&Rs<vs},is0:Rs=>Rs===M$5,isOdd:Rs=>(Rs&N$6)===N$6,neg:Rs=>H$3(-Rs,vs),eql:(Rs,Bs)=>Rs===Bs,sqr:Rs=>H$3(Rs*Rs,vs),add:(Rs,Bs)=>H$3(Rs+Bs,vs),sub:(Rs,Bs)=>H$3(Rs-Bs,vs),mul:(Rs,Bs)=>H$3(Rs*Bs,vs),pow:(Rs,Bs)=>fr$2(Ts,Rs,Bs),div:(Rs,Bs)=>H$3(Rs*Ae$1(Bs,vs),vs),sqrN:Rs=>Rs*Rs,addN:(Rs,Bs)=>Rs+Bs,subN:(Rs,Bs)=>Rs-Bs,mulN:(Rs,Bs)=>Rs*Bs,inv:Rs=>Ae$1(Rs,vs),sqrt:Ss.sqrt||(Rs=>(Is||(Is=ir$2(vs)),Is(Ts,Rs))),invertBatch:Rs=>Dr$2(Ts,Rs),cmov:(Rs,Bs,Ns)=>Ns?Bs:Rs,toBytes:Rs=>ws?Nt$3(Rs,_s):ge$1(Rs,_s),fromBytes:Rs=>{if(Rs.length!==_s)throw new Error("Field.fromBytes: expected "+_s+" bytes, got "+Rs.length);return ws?Et$3(Rs):Pn$2(Rs)}});return Object.freeze(Ts)}const Se$2=BigInt(0),gt$3=BigInt(1);function zt$2(vs,ms){const ws=ms.negate();return vs?ws:ms}function ve$2(vs,ms){if(!Number.isSafeInteger(vs)||vs<=0||vs>ms)throw new Error("invalid window size, expected [1.."+ms+"], got W="+vs)}function Mt$3(vs,ms){ve$2(vs,ms);const ws=Math.ceil(ms/vs)+1,Ss=2**(vs-1);return{windows:ws,windowSize:Ss}}function dr$2(vs,ms){if(!Array.isArray(vs))throw new Error("array expected");vs.forEach((ws,Ss)=>{if(!(ws instanceof ms))throw new Error("invalid point at index "+Ss)})}function hr$2(vs,ms){if(!Array.isArray(vs))throw new Error("array of scalars expected");vs.forEach((ws,Ss)=>{if(!ms.isValid(ws))throw new Error("invalid scalar at index "+Ss)})}const qt$2=new WeakMap,Ie$1=new WeakMap;function $t$2(vs){return Ie$1.get(vs)||1}function lr$1(vs,ms){return{constTimeNegate:zt$2,hasPrecomputes(ws){return $t$2(ws)!==1},unsafeLadder(ws,Ss,Es=vs.ZERO){let _s=ws;for(;Ss>Se$2;)Ss&gt$3&&(Es=Es.add(_s)),_s=_s.double(),Ss>>=gt$3;return Es},precomputeWindow(ws,Ss){const{windows:Es,windowSize:_s}=Mt$3(Ss,ms),Is=[];let Ts=ws,Rs=Ts;for(let Bs=0;Bs<Es;Bs++){Rs=Ts,Is.push(Rs);for(let Ns=1;Ns<_s;Ns++)Rs=Rs.add(Ts),Is.push(Rs);Ts=Rs.double()}return Is},wNAF(ws,Ss,Es){const{windows:_s,windowSize:Is}=Mt$3(ws,ms);let Ts=vs.ZERO,Rs=vs.BASE;const Bs=BigInt(2**ws-1),Ns=2**ws,Ws=BigInt(ws);for(let Js=0;Js<_s;Js++){const $l=Js*Is;let wl=Number(Es&Bs);Es>>=Ws,wl>Is&&(wl-=Ns,Es+=gt$3);const _l=$l,Cl=$l+Math.abs(wl)-1,Sl=Js%2!==0,El=wl<0;wl===0?Rs=Rs.add(zt$2(Sl,Ss[_l])):Ts=Ts.add(zt$2(El,Ss[Cl]))}return{p:Ts,f:Rs}},wNAFUnsafe(ws,Ss,Es,_s=vs.ZERO){const{windows:Is,windowSize:Ts}=Mt$3(ws,ms),Rs=BigInt(2**ws-1),Bs=2**ws,Ns=BigInt(ws);for(let Ws=0;Ws<Is;Ws++){const Js=Ws*Ts;if(Es===Se$2)break;let $l=Number(Es&Rs);if(Es>>=Ns,$l>Ts&&($l-=Bs,Es+=gt$3),$l===0)continue;let wl=Ss[Js+Math.abs($l)-1];$l<0&&(wl=wl.negate()),_s=_s.add(wl)}return _s},getPrecomputes(ws,Ss,Es){let _s=qt$2.get(Ss);return _s||(_s=this.precomputeWindow(Ss,ws),ws!==1&&qt$2.set(Ss,Es(_s))),_s},wNAFCached(ws,Ss,Es){const _s=$t$2(ws);return this.wNAF(_s,this.getPrecomputes(_s,ws,Es),Ss)},wNAFCachedUnsafe(ws,Ss,Es,_s){const Is=$t$2(ws);return Is===1?this.unsafeLadder(ws,Ss,_s):this.wNAFUnsafe(Is,this.getPrecomputes(Is,ws,Es),Ss,_s)},setWindowSize(ws,Ss){ve$2(Ss,ms),Ie$1.set(ws,Ss),qt$2.delete(ws)}}}function br$2(vs,ms,ws,Ss){if(dr$2(ws,vs),hr$2(Ss,ms),ws.length!==Ss.length)throw new Error("arrays of points and scalars must have equal length");const Es=vs.ZERO,_s=tr$1(BigInt(ws.length)),Is=_s>12?_s-3:_s>4?_s-2:_s?2:1,Ts=(1<<Is)-1,Rs=new Array(Ts+1).fill(Es),Bs=Math.floor((ms.BITS-1)/Is)*Is;let Ns=Es;for(let Ws=Bs;Ws>=0;Ws-=Is){Rs.fill(Es);for(let $l=0;$l<Ss.length;$l++){const wl=Ss[$l],_l=Number(wl>>BigInt(Ws)&BigInt(Ts));Rs[_l]=Rs[_l].add(ws[$l])}let Js=Es;for(let $l=Rs.length-1,wl=Es;$l>0;$l--)wl=wl.add(Rs[$l]),Js=Js.add(wl);if(Ns=Ns.add(Js),Ws!==0)for(let $l=0;$l<Is;$l++)Ns=Ns.double()}return Ns}function pr$2(vs){return ar$1(vs.Fp),Ot$3(vs,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...me$3(vs.n,vs.nBitLength),...vs,p:vs.Fp.ORDER})}const G$5=BigInt(0),j$3=BigInt(1),yt$1=BigInt(2),wr$2=BigInt(8),Er$2={zip215:!0};function gr$2(vs){const ms=pr$2(vs);return Ot$3(vs,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...ms})}function yr$2(vs){const ms=gr$2(vs),{Fp:ws,n:Ss,prehash:Es,hash:_s,randomBytes:Is,nByteLength:Ts,h:Rs}=ms,Bs=yt$1<<BigInt(Ts*8)-j$3,Ns=ws.create,Ws=_e$2(ms.n,ms.nBitLength),Js=ms.uvRatio||((Fl,Al)=>{try{return{isValid:!0,value:ws.sqrt(Fl*ws.inv(Al))}}catch{return{isValid:!1,value:G$5}}}),$l=ms.adjustScalarBytes||(Fl=>Fl),wl=ms.domain||((Fl,Al,Pl)=>{if(Tt$3("phflag",Pl),Al.length||Pl)throw new Error("Contexts/pre-hash are not supported");return Fl});function _l(Fl,Al){ft$2("coordinate "+Fl,Al,G$5,Bs)}function Cl(Fl){if(!(Fl instanceof xl))throw new Error("ExtendedPoint expected")}const Sl=xe$1((Fl,Al)=>{const{ex:Pl,ey:yl,ez:Zs}=Fl,Bl=Fl.is0();Al==null&&(Al=Bl?wr$2:ws.inv(Zs));const eu=Ns(Pl*Al),Eu=Ns(yl*Al),uu=Ns(Zs*Al);if(Bl)return{x:G$5,y:j$3};if(uu!==j$3)throw new Error("invZ was invalid");return{x:eu,y:Eu}}),El=xe$1(Fl=>{const{a:Al,d:Pl}=ms;if(Fl.is0())throw new Error("bad point: ZERO");const{ex:yl,ey:Zs,ez:Bl,et:eu}=Fl,Eu=Ns(yl*yl),uu=Ns(Zs*Zs),Yl=Ns(Bl*Bl),zl=Ns(Yl*Yl),ou=Ns(Eu*Al),pu=Ns(Yl*Ns(ou+uu)),fu=Ns(zl+Ns(Pl*Ns(Eu*uu)));if(pu!==fu)throw new Error("bad point: equation left != right (1)");const yu=Ns(yl*Zs),tu=Ns(Bl*eu);if(yu!==tu)throw new Error("bad point: equation left != right (2)");return!0});class xl{constructor(Al,Pl,yl,Zs){this.ex=Al,this.ey=Pl,this.ez=yl,this.et=Zs,_l("x",Al),_l("y",Pl),_l("z",yl),_l("t",Zs),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Al){if(Al instanceof xl)throw new Error("extended point not allowed");const{x:Pl,y:yl}=Al||{};return _l("x",Pl),_l("y",yl),new xl(Pl,yl,j$3,Ns(Pl*yl))}static normalizeZ(Al){const Pl=ws.invertBatch(Al.map(yl=>yl.ez));return Al.map((yl,Zs)=>yl.toAffine(Pl[Zs])).map(xl.fromAffine)}static msm(Al,Pl){return br$2(xl,Ws,Al,Pl)}_setWindowSize(Al){Ul.setWindowSize(this,Al)}assertValidity(){El(this)}equals(Al){Cl(Al);const{ex:Pl,ey:yl,ez:Zs}=this,{ex:Bl,ey:eu,ez:Eu}=Al,uu=Ns(Pl*Eu),Yl=Ns(Bl*Zs),zl=Ns(yl*Eu),ou=Ns(eu*Zs);return uu===Yl&&zl===ou}is0(){return this.equals(xl.ZERO)}negate(){return new xl(Ns(-this.ex),this.ey,this.ez,Ns(-this.et))}double(){const{a:Al}=ms,{ex:Pl,ey:yl,ez:Zs}=this,Bl=Ns(Pl*Pl),eu=Ns(yl*yl),Eu=Ns(yt$1*Ns(Zs*Zs)),uu=Ns(Al*Bl),Yl=Pl+yl,zl=Ns(Ns(Yl*Yl)-Bl-eu),ou=uu+eu,pu=ou-Eu,fu=uu-eu,yu=Ns(zl*pu),tu=Ns(ou*fu),Ll=Ns(zl*fu),Tl=Ns(pu*ou);return new xl(yu,tu,Tl,Ll)}add(Al){Cl(Al);const{a:Pl,d:yl}=ms,{ex:Zs,ey:Bl,ez:eu,et:Eu}=this,{ex:uu,ey:Yl,ez:zl,et:ou}=Al;if(Pl===BigInt(-1)){const Au=Ns((Bl-Zs)*(Yl+uu)),xu=Ns((Bl+Zs)*(Yl-uu)),_u=Ns(xu-Au);if(_u===G$5)return this.double();const Hu=Ns(eu*yt$1*ou),ju=Ns(Eu*yt$1*zl),_d=ju+Hu,Zu=xu+Au,tp=ju-Hu,hu=Ns(_d*_u),Xl=Ns(Zu*tp),Zl=Ns(_d*tp),bu=Ns(_u*Zu);return new xl(hu,Xl,bu,Zl)}const pu=Ns(Zs*uu),fu=Ns(Bl*Yl),yu=Ns(Eu*yl*ou),tu=Ns(eu*zl),Ll=Ns((Zs+Bl)*(uu+Yl)-pu-fu),Tl=tu-yu,Hl=tu+yu,Dl=Ns(fu-Pl*pu),Kl=Ns(Ll*Tl),cu=Ns(Hl*Dl),iu=Ns(Ll*Dl),du=Ns(Tl*Hl);return new xl(Kl,cu,du,iu)}subtract(Al){return this.add(Al.negate())}wNAF(Al){return Ul.wNAFCached(this,Al,xl.normalizeZ)}multiply(Al){const Pl=Al;ft$2("scalar",Pl,j$3,Ss);const{p:yl,f:Zs}=this.wNAF(Pl);return xl.normalizeZ([yl,Zs])[0]}multiplyUnsafe(Al,Pl=xl.ZERO){const yl=Al;return ft$2("scalar",yl,G$5,Ss),yl===G$5?Vl:this.is0()||yl===j$3?this:Ul.wNAFCachedUnsafe(this,yl,xl.normalizeZ,Pl)}isSmallOrder(){return this.multiplyUnsafe(Rs).is0()}isTorsionFree(){return Ul.unsafeLadder(this,Ss).is0()}toAffine(Al){return Sl(this,Al)}clearCofactor(){const{h:Al}=ms;return Al===j$3?this:this.multiplyUnsafe(Al)}static fromHex(Al,Pl=!1){const{d:yl,a:Zs}=ms,Bl=ws.BYTES;Al=W$5("pointHex",Al,Bl),Tt$3("zip215",Pl);const eu=Al.slice(),Eu=Al[Bl-1];eu[Bl-1]=Eu&-129;const uu=Et$3(eu),Yl=Pl?Bs:ws.ORDER;ft$2("pointHex.y",uu,G$5,Yl);const zl=Ns(uu*uu),ou=Ns(zl-j$3),pu=Ns(yl*zl-Zs);let{isValid:fu,value:yu}=Js(ou,pu);if(!fu)throw new Error("Point.fromHex: invalid y coordinate");const tu=(yu&j$3)===j$3,Ll=(Eu&128)!==0;if(!Pl&&yu===G$5&&Ll)throw new Error("Point.fromHex: x=0 and x_0=1");return Ll!==tu&&(yu=Ns(-yu)),xl.fromAffine({x:yu,y:uu})}static fromPrivateKey(Al){return su(Al).point}toRawBytes(){const{x:Al,y:Pl}=this.toAffine(),yl=Nt$3(Pl,ws.BYTES);return yl[yl.length-1]|=Al&j$3?128:0,yl}toHex(){return Ft$1(this.toRawBytes())}}xl.BASE=new xl(ms.Gx,ms.Gy,j$3,Ns(ms.Gx*ms.Gy)),xl.ZERO=new xl(G$5,j$3,j$3,G$5);const{BASE:Ml,ZERO:Vl}=xl,Ul=lr$1(xl,Ts*8);function _h(Fl){return H$3(Fl,Ss)}function nu(Fl){return _h(Et$3(Fl))}function su(Fl){const Al=ws.BYTES;Fl=W$5("private key",Fl,Al);const Pl=W$5("hashed private key",_s(Fl),2*Al),yl=$l(Pl.slice(0,Al)),Zs=Pl.slice(Al,2*Al),Bl=nu(yl),eu=Ml.multiply(Bl),Eu=eu.toRawBytes();return{head:yl,prefix:Zs,scalar:Bl,point:eu,pointBytes:Eu}}function Jl(Fl){return su(Fl).pointBytes}function Il(Fl=new Uint8Array,...Al){const Pl=ye$2(...Al);return nu(_s(wl(Pl,W$5("context",Fl),!!Es)))}function Nl(Fl,Al,Pl={}){Fl=W$5("message",Fl),Es&&(Fl=Es(Fl));const{prefix:yl,scalar:Zs,pointBytes:Bl}=su(Al),eu=Il(Pl.context,yl,Fl),Eu=Ml.multiply(eu).toRawBytes(),uu=Il(Pl.context,Eu,Bl,Fl),Yl=_h(eu+uu*Zs);ft$2("signature.s",Yl,G$5,Ss);const zl=ye$2(Eu,Nt$3(Yl,ws.BYTES));return W$5("result",zl,ws.BYTES*2)}const Ol=Er$2;function Gl(Fl,Al,Pl,yl=Ol){const{context:Zs,zip215:Bl}=yl,eu=ws.BYTES;Fl=W$5("signature",Fl,2*eu),Al=W$5("message",Al),Pl=W$5("publicKey",Pl,eu),Bl!==void 0&&Tt$3("zip215",Bl),Es&&(Al=Es(Al));const Eu=Et$3(Fl.slice(eu,2*eu));let uu,Yl,zl;try{uu=xl.fromHex(Pl,Bl),Yl=xl.fromHex(Fl.slice(0,eu),Bl),zl=Ml.multiplyUnsafe(Eu)}catch{return!1}if(!Bl&&uu.isSmallOrder())return!1;const ou=Il(Zs,Yl.toRawBytes(),uu.toRawBytes(),Al);return Yl.add(uu.multiplyUnsafe(ou)).subtract(zl).clearCofactor().equals(xl.ZERO)}return Ml._setWindowSize(8),{CURVE:ms,getPublicKey:Jl,sign:Nl,verify:Gl,ExtendedPoint:xl,utils:{getExtendedPublicKey:su,randomPrivateKey:()=>Is(ws.BYTES),precompute(Fl=8,Al=xl.BASE){return Al._setWindowSize(Fl),Al.multiply(BigInt(3)),Al}}}}BigInt(0),BigInt(1);const kt$3=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Ue$2=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const xr$2=BigInt(1),Te$1=BigInt(2);BigInt(3);const Br$2=BigInt(5),Cr$2=BigInt(8);function Ar$2(vs){const ms=BigInt(10),ws=BigInt(20),Ss=BigInt(40),Es=BigInt(80),_s=kt$3,Is=vs*vs%_s*vs%_s,Ts=J$5(Is,Te$1,_s)*Is%_s,Rs=J$5(Ts,xr$2,_s)*vs%_s,Bs=J$5(Rs,Br$2,_s)*Rs%_s,Ns=J$5(Bs,ms,_s)*Bs%_s,Ws=J$5(Ns,ws,_s)*Ns%_s,Js=J$5(Ws,Ss,_s)*Ws%_s,$l=J$5(Js,Es,_s)*Js%_s,wl=J$5($l,Es,_s)*Js%_s,_l=J$5(wl,ms,_s)*Bs%_s;return{pow_p_5_8:J$5(_l,Te$1,_s)*vs%_s,b2:Is}}function mr$2(vs){return vs[0]&=248,vs[31]&=127,vs[31]|=64,vs}function _r$2(vs,ms){const ws=kt$3,Ss=H$3(ms*ms*ms,ws),Es=H$3(Ss*Ss*ms,ws),_s=Ar$2(vs*Es).pow_p_5_8;let Is=H$3(vs*Ss*_s,ws);const Ts=H$3(ms*Is*Is,ws),Rs=Is,Bs=H$3(Is*Ue$2,ws),Ns=Ts===vs,Ws=Ts===H$3(-vs,ws),Js=Ts===H$3(-vs*Ue$2,ws);return Ns&&(Is=Rs),(Ws||Js)&&(Is=Bs),ur$1(Is,ws)&&(Is=H$3(-Is,ws)),{isValid:Ns||Ws,value:Is}}const Sr$2=_e$2(kt$3,void 0,!0),vr$2={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Sr$2,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Cr$2,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Kn$1,randomBytes:he$2,adjustScalarBytes:mr$2,uvRatio:_r$2},Rt$4=yr$2(vr$2),jt$3="EdDSA",Zt$2="JWT",ut$3=".",Dt$2="base64url",Gt$2="utf8",xt$3="utf8",Vt$2=":",Yt$3="did",Jt$2="key",dt$3="base58btc",Kt$2="z",Wt$3="K36",Ne$1=32;function Xt$2(vs){return globalThis.Buffer!=null?new Uint8Array(vs.buffer,vs.byteOffset,vs.byteLength):vs}function Le$2(vs=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Xt$2(globalThis.Buffer.allocUnsafe(vs)):new Uint8Array(vs)}function Oe$2(vs,ms){ms||(ms=vs.reduce((Es,_s)=>Es+_s.length,0));const ws=Le$2(ms);let Ss=0;for(const Es of vs)ws.set(Es,Ss),Ss+=Es.length;return Xt$2(ws)}function Ir$2(vs,ms){if(vs.length>=255)throw new TypeError("Alphabet too long");for(var ws=new Uint8Array(256),Ss=0;Ss<ws.length;Ss++)ws[Ss]=255;for(var Es=0;Es<vs.length;Es++){var _s=vs.charAt(Es),Is=_s.charCodeAt(0);if(ws[Is]!==255)throw new TypeError(_s+" is ambiguous");ws[Is]=Es}var Ts=vs.length,Rs=vs.charAt(0),Bs=Math.log(Ts)/Math.log(256),Ns=Math.log(256)/Math.log(Ts);function Ws(wl){if(wl instanceof Uint8Array||(ArrayBuffer.isView(wl)?wl=new Uint8Array(wl.buffer,wl.byteOffset,wl.byteLength):Array.isArray(wl)&&(wl=Uint8Array.from(wl))),!(wl instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(wl.length===0)return"";for(var _l=0,Cl=0,Sl=0,El=wl.length;Sl!==El&&wl[Sl]===0;)Sl++,_l++;for(var xl=(El-Sl)*Ns+1>>>0,Ml=new Uint8Array(xl);Sl!==El;){for(var Vl=wl[Sl],Ul=0,_h=xl-1;(Vl!==0||Ul<Cl)&&_h!==-1;_h--,Ul++)Vl+=256*Ml[_h]>>>0,Ml[_h]=Vl%Ts>>>0,Vl=Vl/Ts>>>0;if(Vl!==0)throw new Error("Non-zero carry");Cl=Ul,Sl++}for(var nu=xl-Cl;nu!==xl&&Ml[nu]===0;)nu++;for(var su=Rs.repeat(_l);nu<xl;++nu)su+=vs.charAt(Ml[nu]);return su}function Js(wl){if(typeof wl!="string")throw new TypeError("Expected String");if(wl.length===0)return new Uint8Array;var _l=0;if(wl[_l]!==" "){for(var Cl=0,Sl=0;wl[_l]===Rs;)Cl++,_l++;for(var El=(wl.length-_l)*Bs+1>>>0,xl=new Uint8Array(El);wl[_l];){var Ml=ws[wl.charCodeAt(_l)];if(Ml===255)return;for(var Vl=0,Ul=El-1;(Ml!==0||Vl<Sl)&&Ul!==-1;Ul--,Vl++)Ml+=Ts*xl[Ul]>>>0,xl[Ul]=Ml%256>>>0,Ml=Ml/256>>>0;if(Ml!==0)throw new Error("Non-zero carry");Sl=Vl,_l++}if(wl[_l]!==" "){for(var _h=El-Sl;_h!==El&&xl[_h]===0;)_h++;for(var nu=new Uint8Array(Cl+(El-_h)),su=Cl;_h!==El;)nu[su++]=xl[_h++];return nu}}}function $l(wl){var _l=Js(wl);if(_l)return _l;throw new Error(`Non-${ms} character`)}return{encode:Ws,decodeUnsafe:Js,decode:$l}}var Ur$2=Ir$2,Tr$2=Ur$2;const He$2=vs=>{if(vs instanceof Uint8Array&&vs.constructor.name==="Uint8Array")return vs;if(vs instanceof ArrayBuffer)return new Uint8Array(vs);if(ArrayBuffer.isView(vs))return new Uint8Array(vs.buffer,vs.byteOffset,vs.byteLength);throw new Error("Unknown type, must be binary type")},Fr$1=vs=>new TextEncoder().encode(vs),Nr$2=vs=>new TextDecoder().decode(vs);let Lr$2=class{constructor(ms,ws,Ss){this.name=ms,this.prefix=ws,this.baseEncode=Ss}encode(ms){if(ms instanceof Uint8Array)return`${this.prefix}${this.baseEncode(ms)}`;throw Error("Unknown type, must be binary type")}},Or$2=class{constructor(ms,ws,Ss){if(this.name=ms,this.prefix=ws,ws.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=ws.codePointAt(0),this.baseDecode=Ss}decode(ms){if(typeof ms=="string"){if(ms.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(ms)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(ms.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(ms){return ze(this,ms)}},Hr$2=class{constructor(ms){this.decoders=ms}or(ms){return ze(this,ms)}decode(ms){const ws=ms[0],Ss=this.decoders[ws];if(Ss)return Ss.decode(ms);throw RangeError(`Unable to decode multibase string ${JSON.stringify(ms)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const ze=(vs,ms)=>new Hr$2({...vs.decoders||{[vs.prefix]:vs},...ms.decoders||{[ms.prefix]:ms}});let zr$1=class{constructor(ms,ws,Ss,Es){this.name=ms,this.prefix=ws,this.baseEncode=Ss,this.baseDecode=Es,this.encoder=new Lr$2(ms,ws,Ss),this.decoder=new Or$2(ms,ws,Es)}encode(ms){return this.encoder.encode(ms)}decode(ms){return this.decoder.decode(ms)}};const Bt$3=({name:vs,prefix:ms,encode:ws,decode:Ss})=>new zr$1(vs,ms,ws,Ss),ht$2=({prefix:vs,name:ms,alphabet:ws})=>{const{encode:Ss,decode:Es}=Tr$2(ws,ms);return Bt$3({prefix:vs,name:ms,encode:Ss,decode:_s=>He$2(Es(_s))})},Mr$2=(vs,ms,ws,Ss)=>{const Es={};for(let Ns=0;Ns<ms.length;++Ns)Es[ms[Ns]]=Ns;let _s=vs.length;for(;vs[_s-1]==="=";)--_s;const Is=new Uint8Array(_s*ws/8|0);let Ts=0,Rs=0,Bs=0;for(let Ns=0;Ns<_s;++Ns){const Ws=Es[vs[Ns]];if(Ws===void 0)throw new SyntaxError(`Non-${Ss} character`);Rs=Rs<<ws|Ws,Ts+=ws,Ts>=8&&(Ts-=8,Is[Bs++]=255&Rs>>Ts)}if(Ts>=ws||255&Rs<<8-Ts)throw new SyntaxError("Unexpected end of data");return Is},qr$2=(vs,ms,ws)=>{const Ss=ms[ms.length-1]==="=",Es=(1<<ws)-1;let _s="",Is=0,Ts=0;for(let Rs=0;Rs<vs.length;++Rs)for(Ts=Ts<<8|vs[Rs],Is+=8;Is>ws;)Is-=ws,_s+=ms[Es&Ts>>Is];if(Is&&(_s+=ms[Es&Ts<<ws-Is]),Ss)for(;_s.length*ws&7;)_s+="=";return _s},k$3=({name:vs,prefix:ms,bitsPerChar:ws,alphabet:Ss})=>Bt$3({prefix:ms,name:vs,encode(Es){return qr$2(Es,Ss,ws)},decode(Es){return Mr$2(Es,Ss,ws,vs)}}),$r$2=Bt$3({prefix:"\0",name:"identity",encode:vs=>Nr$2(vs),decode:vs=>Fr$1(vs)});var kr$2=Object.freeze({__proto__:null,identity:$r$2});const Rr$2=k$3({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var jr$2=Object.freeze({__proto__:null,base2:Rr$2});const Zr$2=k$3({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Gr$2=Object.freeze({__proto__:null,base8:Zr$2});const Vr$2=ht$2({prefix:"9",name:"base10",alphabet:"0123456789"});var Yr$1=Object.freeze({__proto__:null,base10:Vr$2});const Jr$1=k$3({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Kr$1=k$3({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Wr$2=Object.freeze({__proto__:null,base16:Jr$1,base16upper:Kr$1});const Xr$2=k$3({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Pr$2=k$3({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Qr$2=k$3({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),to$2=k$3({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),eo$2=k$3({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),no$2=k$3({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ro$2=k$3({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),oo$2=k$3({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),so$2=k$3({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var io$2=Object.freeze({__proto__:null,base32:Xr$2,base32upper:Pr$2,base32pad:Qr$2,base32padupper:to$2,base32hex:eo$2,base32hexupper:no$2,base32hexpad:ro$2,base32hexpadupper:oo$2,base32z:so$2});const uo$2=ht$2({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),co$2=ht$2({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var ao$2=Object.freeze({__proto__:null,base36:uo$2,base36upper:co$2});const fo$2=ht$2({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Do$2=ht$2({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ho$2=Object.freeze({__proto__:null,base58btc:fo$2,base58flickr:Do$2});const lo$2=k$3({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),bo$2=k$3({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),po$2=k$3({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),wo$2=k$3({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Eo$2=Object.freeze({__proto__:null,base64:lo$2,base64pad:bo$2,base64url:po$2,base64urlpad:wo$2});const Me$3=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),go$2=Me$3.reduce((vs,ms,ws)=>(vs[ws]=ms,vs),[]),yo$2=Me$3.reduce((vs,ms,ws)=>(vs[ms.codePointAt(0)]=ws,vs),[]);function xo$2(vs){return vs.reduce((ms,ws)=>(ms+=go$2[ws],ms),"")}function Bo$2(vs){const ms=[];for(const ws of vs){const Ss=yo$2[ws.codePointAt(0)];if(Ss===void 0)throw new Error(`Non-base256emoji character: ${ws}`);ms.push(Ss)}return new Uint8Array(ms)}const Co$2=Bt$3({prefix:"🚀",name:"base256emoji",encode:xo$2,decode:Bo$2});var Ao$2=Object.freeze({__proto__:null,base256emoji:Co$2}),mo$2=$e$2,qe$2=128,So$2=-128,vo$2=Math.pow(2,31);function $e$2(vs,ms,ws){ms=ms||[],ws=ws||0;for(var Ss=ws;vs>=vo$2;)ms[ws++]=vs&255|qe$2,vs/=128;for(;vs&So$2;)ms[ws++]=vs&255|qe$2,vs>>>=7;return ms[ws]=vs|0,$e$2.bytes=ws-Ss+1,ms}var Io$2=Pt$3,Uo$2=128,ke$2=127;function Pt$3(vs,Ss){var ws=0,Ss=Ss||0,Es=0,_s=Ss,Is,Ts=vs.length;do{if(_s>=Ts)throw Pt$3.bytes=0,new RangeError("Could not decode varint");Is=vs[_s++],ws+=Es<28?(Is&ke$2)<<Es:(Is&ke$2)*Math.pow(2,Es),Es+=7}while(Is>=Uo$2);return Pt$3.bytes=_s-Ss,ws}var To$2=Math.pow(2,7),Fo$2=Math.pow(2,14),No$2=Math.pow(2,21),Lo$2=Math.pow(2,28),Oo$2=Math.pow(2,35),Ho$2=Math.pow(2,42),zo$2=Math.pow(2,49),Mo$2=Math.pow(2,56),qo$2=Math.pow(2,63),$o$2=function(vs){return vs<To$2?1:vs<Fo$2?2:vs<No$2?3:vs<Lo$2?4:vs<Oo$2?5:vs<Ho$2?6:vs<zo$2?7:vs<Mo$2?8:vs<qo$2?9:10},ko$2={encode:mo$2,decode:Io$2,encodingLength:$o$2},Re$1=ko$2;const je$1=(vs,ms,ws=0)=>(Re$1.encode(vs,ms,ws),ms),Ze$2=vs=>Re$1.encodingLength(vs),Qt$2=(vs,ms)=>{const ws=ms.byteLength,Ss=Ze$2(vs),Es=Ss+Ze$2(ws),_s=new Uint8Array(Es+ws);return je$1(vs,_s,0),je$1(ws,_s,Ss),_s.set(ms,Es),new Ro$2(vs,ws,ms,_s)};let Ro$2=class{constructor(ms,ws,Ss,Es){this.code=ms,this.size=ws,this.digest=Ss,this.bytes=Es}};const Ge$1=({name:vs,code:ms,encode:ws})=>new jo$2(vs,ms,ws);let jo$2=class{constructor(ms,ws,Ss){this.name=ms,this.code=ws,this.encode=Ss}digest(ms){if(ms instanceof Uint8Array){const ws=this.encode(ms);return ws instanceof Uint8Array?Qt$2(this.code,ws):ws.then(Ss=>Qt$2(this.code,Ss))}else throw Error("Unknown type, must be binary type")}};const Ve$2=vs=>async ms=>new Uint8Array(await crypto.subtle.digest(vs,ms)),Zo$2=Ge$1({name:"sha2-256",code:18,encode:Ve$2("SHA-256")}),Go$2=Ge$1({name:"sha2-512",code:19,encode:Ve$2("SHA-512")});var Vo$2=Object.freeze({__proto__:null,sha256:Zo$2,sha512:Go$2});const Ye$2=0,Yo$2="identity",Je$1=He$2,Jo$2=vs=>Qt$2(Ye$2,Je$1(vs)),Ko$2={code:Ye$2,name:Yo$2,encode:Je$1,digest:Jo$2};var Wo$2=Object.freeze({__proto__:null,identity:Ko$2});new TextEncoder,new TextDecoder;const Ke$2={...kr$2,...jr$2,...Gr$2,...Yr$1,...Wr$2,...io$2,...ao$2,...ho$2,...Eo$2,...Ao$2};({...Vo$2,...Wo$2});function We$1(vs,ms,ws,Ss){return{name:vs,prefix:ms,encoder:{name:vs,prefix:ms,encode:ws},decoder:{decode:Ss}}}const Xe$2=We$1("utf8","u",vs=>"u"+new TextDecoder("utf8").decode(vs),vs=>new TextEncoder().encode(vs.substring(1))),te$2=We$1("ascii","a",vs=>{let ms="a";for(let ws=0;ws<vs.length;ws++)ms+=String.fromCharCode(vs[ws]);return ms},vs=>{vs=vs.substring(1);const ms=Le$2(vs.length);for(let ws=0;ws<vs.length;ws++)ms[ws]=vs.charCodeAt(ws);return ms}),Pe$2={utf8:Xe$2,"utf-8":Xe$2,hex:Ke$2.base16,latin1:te$2,ascii:te$2,binary:te$2,...Ke$2};function ct$2(vs,ms="utf8"){const ws=Pe$2[ms];if(!ws)throw new Error(`Unsupported encoding "${ms}"`);return(ms==="utf8"||ms==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(vs.buffer,vs.byteOffset,vs.byteLength).toString("utf8"):ws.encoder.encode(vs).substring(1)}function rt$2(vs,ms="utf8"){const ws=Pe$2[ms];if(!ws)throw new Error(`Unsupported encoding "${ms}"`);return(ms==="utf8"||ms==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Xt$2(globalThis.Buffer.from(vs,"utf-8")):ws.decoder.decode(`${ws.prefix}${vs}`)}function lt$2(vs){return safeJsonParse$2(ct$2(rt$2(vs,Dt$2),Gt$2))}function bt$2(vs){return ct$2(rt$2(safeJsonStringify$2(vs),Gt$2),Dt$2)}function Qe$2(vs){const ms=rt$2(Wt$3,dt$3),ws=Kt$2+ct$2(Oe$2([ms,vs]),dt$3);return[Yt$3,Jt$2,ws].join(Vt$2)}function en$3(vs){return ct$2(vs,Dt$2)}function nn$2(vs){return rt$2(vs,Dt$2)}function rn$2(vs){return rt$2([bt$2(vs.header),bt$2(vs.payload)].join(ut$3),xt$3)}function on$3(vs){return[bt$2(vs.header),bt$2(vs.payload),en$3(vs.signature)].join(ut$3)}function sn$2(vs){const ms=vs.split(ut$3),ws=lt$2(ms[0]),Ss=lt$2(ms[1]),Es=nn$2(ms[2]),_s=rt$2(ms.slice(0,2).join(ut$3),xt$3);return{header:ws,payload:Ss,signature:Es,data:_s}}function Po$2(vs=he$2(Ne$1)){const ms=Rt$4.getPublicKey(vs);return{secretKey:Oe$2([vs,ms]),publicKey:ms}}async function Qo$2(vs,ms,ws,Ss,Es=cjs$5.fromMiliseconds(Date.now())){const _s={alg:jt$3,typ:Zt$2},Is=Qe$2(Ss.publicKey),Ts=Es+ws,Rs={iss:Is,sub:vs,aud:ms,iat:Es,exp:Ts},Bs=rn$2({header:_s,payload:Rs}),Ns=Rt$4.sign(Bs,Ss.secretKey.slice(0,32));return on$3({header:_s,payload:Rs,signature:Ns})}var __spreadArray=function(vs,ms,ws){if(ws||arguments.length===2)for(var Ss=0,Es=ms.length,_s;Ss<Es;Ss++)(_s||!(Ss in ms))&&(_s||(_s=Array.prototype.slice.call(ms,0,Ss)),_s[Ss]=ms[Ss]);return vs.concat(_s||Array.prototype.slice.call(ms))},BrowserInfo$1=function(){function vs(ms,ws,Ss){this.name=ms,this.version=ws,this.os=Ss,this.type="browser"}return vs}(),NodeInfo$1=function(){function vs(ms){this.version=ms,this.type="node",this.name="node",this.os=process.platform}return vs}(),SearchBotDeviceInfo$1=function(){function vs(ms,ws,Ss,Es){this.name=ms,this.version=ws,this.os=Ss,this.bot=Es,this.type="bot-device"}return vs}(),BotInfo$1=function(){function vs(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return vs}(),ReactNativeInfo$1=function(){function vs(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return vs}(),SEARCHBOX_UA_REGEX$1=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX$1=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS$1=3,userAgentRules$1=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",SEARCHBOX_UA_REGEX$1]],operatingSystemRules$1=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect$1(vs){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ReactNativeInfo$1:typeof navigator<"u"?parseUserAgent$1(navigator.userAgent):getNodeVersion$1()}function matchUserAgent$1(vs){return vs!==""&&userAgentRules$1.reduce(function(ms,ws){var Ss=ws[0],Es=ws[1];if(ms)return ms;var _s=Es.exec(vs);return!!_s&&[Ss,_s]},!1)}function parseUserAgent$1(vs){var ms=matchUserAgent$1(vs);if(!ms)return null;var ws=ms[0],Ss=ms[1];if(ws==="searchbot")return new BotInfo$1;var Es=Ss[1]&&Ss[1].split(".").join("_").split("_").slice(0,3);Es?Es.length<REQUIRED_VERSION_PARTS$1&&(Es=__spreadArray(__spreadArray([],Es,!0),createVersionParts$1(REQUIRED_VERSION_PARTS$1-Es.length),!0)):Es=[];var _s=Es.join("."),Is=detectOS$2(vs),Ts=SEARCHBOT_OS_REGEX$1.exec(vs);return Ts&&Ts[1]?new SearchBotDeviceInfo$1(ws,_s,Is,Ts[1]):new BrowserInfo$1(ws,_s,Is)}function detectOS$2(vs){for(var ms=0,ws=operatingSystemRules$1.length;ms<ws;ms++){var Ss=operatingSystemRules$1[ms],Es=Ss[0],_s=Ss[1],Is=_s.exec(vs);if(Is)return Es}return null}function getNodeVersion$1(){var vs=typeof process<"u"&&process.version;return vs?new NodeInfo$1(process.version.slice(1)):null}function createVersionParts$1(vs){for(var ms=[],ws=0;ws<vs;ws++)ms.push("0");return ms}var cjs$4={};Object.defineProperty(cjs$4,"__esModule",{value:!0}),cjs$4.getLocalStorage=cjs$4.getLocalStorageOrThrow=cjs$4.getCrypto=cjs$4.getCryptoOrThrow=getLocation_1$1=cjs$4.getLocation=cjs$4.getLocationOrThrow=getNavigator_1$1=cjs$4.getNavigator=cjs$4.getNavigatorOrThrow=getDocument_1=cjs$4.getDocument=cjs$4.getDocumentOrThrow=cjs$4.getFromWindowOrThrow=cjs$4.getFromWindow=void 0;function getFromWindow$1(vs){let ms;return typeof window<"u"&&typeof window[vs]<"u"&&(ms=window[vs]),ms}cjs$4.getFromWindow=getFromWindow$1;function getFromWindowOrThrow$1(vs){const ms=getFromWindow$1(vs);if(!ms)throw new Error(`${vs} is not defined in Window`);return ms}cjs$4.getFromWindowOrThrow=getFromWindowOrThrow$1;function getDocumentOrThrow$1(){return getFromWindowOrThrow$1("document")}cjs$4.getDocumentOrThrow=getDocumentOrThrow$1;function getDocument$1(){return getFromWindow$1("document")}var getDocument_1=cjs$4.getDocument=getDocument$1;function getNavigatorOrThrow$1(){return getFromWindowOrThrow$1("navigator")}cjs$4.getNavigatorOrThrow=getNavigatorOrThrow$1;function getNavigator$2(){return getFromWindow$1("navigator")}var getNavigator_1$1=cjs$4.getNavigator=getNavigator$2;function getLocationOrThrow$1(){return getFromWindowOrThrow$1("location")}cjs$4.getLocationOrThrow=getLocationOrThrow$1;function getLocation$2(){return getFromWindow$1("location")}var getLocation_1$1=cjs$4.getLocation=getLocation$2;function getCryptoOrThrow$1(){return getFromWindowOrThrow$1("crypto")}cjs$4.getCryptoOrThrow=getCryptoOrThrow$1;function getCrypto$1(){return getFromWindow$1("crypto")}cjs$4.getCrypto=getCrypto$1;function getLocalStorageOrThrow$1(){return getFromWindowOrThrow$1("localStorage")}cjs$4.getLocalStorageOrThrow=getLocalStorageOrThrow$1;function getLocalStorage$2(){return getFromWindow$1("localStorage")}cjs$4.getLocalStorage=getLocalStorage$2;var cjs$3={};Object.defineProperty(cjs$3,"__esModule",{value:!0});var getWindowMetadata_1$1=cjs$3.getWindowMetadata=void 0;const window_getters_1$1=cjs$4;function getWindowMetadata$1(){let vs,ms;try{vs=window_getters_1$1.getDocumentOrThrow(),ms=window_getters_1$1.getLocationOrThrow()}catch{return null}function ws(){const Ws=vs.getElementsByTagName("link"),Js=[];for(let $l=0;$l<Ws.length;$l++){const wl=Ws[$l],_l=wl.getAttribute("rel");if(_l&&_l.toLowerCase().indexOf("icon")>-1){const Cl=wl.getAttribute("href");if(Cl)if(Cl.toLowerCase().indexOf("https:")===-1&&Cl.toLowerCase().indexOf("http:")===-1&&Cl.indexOf("//")!==0){let Sl=ms.protocol+"//"+ms.host;if(Cl.indexOf("/")===0)Sl+=Cl;else{const El=ms.pathname.split("/");El.pop();const xl=El.join("/");Sl+=xl+"/"+Cl}Js.push(Sl)}else if(Cl.indexOf("//")===0){const Sl=ms.protocol+Cl;Js.push(Sl)}else Js.push(Cl)}}return Js}function Ss(...Ws){const Js=vs.getElementsByTagName("meta");for(let $l=0;$l<Js.length;$l++){const wl=Js[$l],_l=["itemprop","property","name"].map(Cl=>wl.getAttribute(Cl)).filter(Cl=>Cl?Ws.includes(Cl):!1);if(_l.length&&_l){const Cl=wl.getAttribute("content");if(Cl)return Cl}}return""}function Es(){let Ws=Ss("name","og:site_name","og:title","twitter:title");return Ws||(Ws=vs.title),Ws}function _s(){return Ss("description","og:description","twitter:description","keywords")}const Is=Es(),Ts=_s(),Rs=ms.origin,Bs=ws();return{description:Ts,url:Rs,icons:Bs,name:Is}}getWindowMetadata_1$1=cjs$3.getWindowMetadata=getWindowMetadata$1;function isHex(vs,{strict:ms=!0}={}){return!vs||typeof vs!="string"?!1:ms?/^0x[0-9a-fA-F]*$/.test(vs):vs.startsWith("0x")}function size(vs){return isHex(vs,{strict:!1})?Math.ceil((vs.length-2)/2):vs.length}const version="2.31.0";let errorConfig={getDocsUrl:({docsBaseUrl:vs,docsPath:ms="",docsSlug:ws})=>ms?`${vs??"https://viem.sh"}${ms}${ws?`#${ws}`:""}`:void 0,version:`viem@${version}`};class BaseError extends Error{constructor(ms,ws={}){var Ts;const Ss=(()=>{var Rs;return ws.cause instanceof BaseError?ws.cause.details:(Rs=ws.cause)!=null&&Rs.message?ws.cause.message:ws.details})(),Es=ws.cause instanceof BaseError&&ws.cause.docsPath||ws.docsPath,_s=(Ts=errorConfig.getDocsUrl)==null?void 0:Ts.call(errorConfig,{...ws,docsPath:Es}),Is=[ms||"An error occurred.","",...ws.metaMessages?[...ws.metaMessages,""]:[],..._s?[`Docs: ${_s}`]:[],...Ss?[`Details: ${Ss}`]:[],...errorConfig.version?[`Version: ${errorConfig.version}`]:[]].join(`
`);super(Is,ws.cause?{cause:ws.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=Ss,this.docsPath=Es,this.metaMessages=ws.metaMessages,this.name=ws.name??this.name,this.shortMessage=ms,this.version=version}walk(ms){return walk(this,ms)}}function walk(vs,ms){return ms!=null&&ms(vs)?vs:vs&&typeof vs=="object"&&"cause"in vs&&vs.cause!==void 0?walk(vs.cause,ms):ms?null:vs}class SizeExceedsPaddingSizeError extends BaseError{constructor({size:ms,targetSize:ws,type:Ss}){super(`${Ss.charAt(0).toUpperCase()}${Ss.slice(1).toLowerCase()} size (${ms}) exceeds padding size (${ws}).`,{name:"SizeExceedsPaddingSizeError"})}}function pad(vs,{dir:ms,size:ws=32}={}){return typeof vs=="string"?padHex(vs,{dir:ms,size:ws}):padBytes(vs,{dir:ms,size:ws})}function padHex(vs,{dir:ms,size:ws=32}={}){if(ws===null)return vs;const Ss=vs.replace("0x","");if(Ss.length>ws*2)throw new SizeExceedsPaddingSizeError({size:Math.ceil(Ss.length/2),targetSize:ws,type:"hex"});return`0x${Ss[ms==="right"?"padEnd":"padStart"](ws*2,"0")}`}function padBytes(vs,{dir:ms,size:ws=32}={}){if(ws===null)return vs;if(vs.length>ws)throw new SizeExceedsPaddingSizeError({size:vs.length,targetSize:ws,type:"bytes"});const Ss=new Uint8Array(ws);for(let Es=0;Es<ws;Es++){const _s=ms==="right";Ss[_s?Es:ws-Es-1]=vs[_s?Es:vs.length-Es-1]}return Ss}class IntegerOutOfRangeError extends BaseError{constructor({max:ms,min:ws,signed:Ss,size:Es,value:_s}){super(`Number "${_s}" is not in safe ${Es?`${Es*8}-bit ${Ss?"signed":"unsigned"} `:""}integer range ${ms?`(${ws} to ${ms})`:`(above ${ws})`}`,{name:"IntegerOutOfRangeError"})}}class SizeOverflowError extends BaseError{constructor({givenSize:ms,maxSize:ws}){super(`Size cannot exceed ${ws} bytes. Given size: ${ms} bytes.`,{name:"SizeOverflowError"})}}function assertSize(vs,{size:ms}){if(size(vs)>ms)throw new SizeOverflowError({givenSize:size(vs),maxSize:ms})}function hexToBigInt(vs,ms={}){const{signed:ws}=ms;ms.size&&assertSize(vs,{size:ms.size});const Ss=BigInt(vs);if(!ws)return Ss;const Es=(vs.length-2)/2,_s=(1n<<BigInt(Es)*8n-1n)-1n;return Ss<=_s?Ss:Ss-BigInt(`0x${"f".padStart(Es*2,"f")}`)-1n}function hexToNumber$1(vs,ms={}){return Number(hexToBigInt(vs,ms))}const hexes$1=Array.from({length:256},(vs,ms)=>ms.toString(16).padStart(2,"0"));function toHex$1(vs,ms={}){return typeof vs=="number"||typeof vs=="bigint"?numberToHex(vs,ms):typeof vs=="string"?stringToHex(vs,ms):typeof vs=="boolean"?boolToHex(vs,ms):bytesToHex$1(vs,ms)}function boolToHex(vs,ms={}){const ws=`0x${Number(vs)}`;return typeof ms.size=="number"?(assertSize(ws,{size:ms.size}),pad(ws,{size:ms.size})):ws}function bytesToHex$1(vs,ms={}){let ws="";for(let Es=0;Es<vs.length;Es++)ws+=hexes$1[vs[Es]];const Ss=`0x${ws}`;return typeof ms.size=="number"?(assertSize(Ss,{size:ms.size}),pad(Ss,{dir:"right",size:ms.size})):Ss}function numberToHex(vs,ms={}){const{signed:ws,size:Ss}=ms,Es=BigInt(vs);let _s;Ss?ws?_s=(1n<<BigInt(Ss)*8n-1n)-1n:_s=2n**(BigInt(Ss)*8n)-1n:typeof vs=="number"&&(_s=BigInt(Number.MAX_SAFE_INTEGER));const Is=typeof _s=="bigint"&&ws?-_s-1n:0;if(_s&&Es>_s||Es<Is){const Rs=typeof vs=="bigint"?"n":"";throw new IntegerOutOfRangeError({max:_s?`${_s}${Rs}`:void 0,min:`${Is}${Rs}`,signed:ws,size:Ss,value:`${vs}${Rs}`})}const Ts=`0x${(ws&&Es<0?(1n<<BigInt(Ss*8))+BigInt(Es):Es).toString(16)}`;return Ss?pad(Ts,{size:Ss}):Ts}const encoder$1=new TextEncoder;function stringToHex(vs,ms={}){const ws=encoder$1.encode(vs);return bytesToHex$1(ws,ms)}const encoder=new TextEncoder;function toBytes$1(vs,ms={}){return typeof vs=="number"||typeof vs=="bigint"?numberToBytes(vs,ms):typeof vs=="boolean"?boolToBytes(vs,ms):isHex(vs)?hexToBytes$1(vs,ms):stringToBytes(vs,ms)}function boolToBytes(vs,ms={}){const ws=new Uint8Array(1);return ws[0]=Number(vs),typeof ms.size=="number"?(assertSize(ws,{size:ms.size}),pad(ws,{size:ms.size})):ws}const charCodeMap={zero:48,nine:57,A:65,F:70,a:97,f:102};function charCodeToBase16(vs){if(vs>=charCodeMap.zero&&vs<=charCodeMap.nine)return vs-charCodeMap.zero;if(vs>=charCodeMap.A&&vs<=charCodeMap.F)return vs-(charCodeMap.A-10);if(vs>=charCodeMap.a&&vs<=charCodeMap.f)return vs-(charCodeMap.a-10)}function hexToBytes$1(vs,ms={}){let ws=vs;ms.size&&(assertSize(ws,{size:ms.size}),ws=pad(ws,{dir:"right",size:ms.size}));let Ss=ws.slice(2);Ss.length%2&&(Ss=`0${Ss}`);const Es=Ss.length/2,_s=new Uint8Array(Es);for(let Is=0,Ts=0;Is<Es;Is++){const Rs=charCodeToBase16(Ss.charCodeAt(Ts++)),Bs=charCodeToBase16(Ss.charCodeAt(Ts++));if(Rs===void 0||Bs===void 0)throw new BaseError(`Invalid byte sequence ("${Ss[Ts-2]}${Ss[Ts-1]}" in "${Ss}").`);_s[Is]=Rs*16+Bs}return _s}function numberToBytes(vs,ms){const ws=numberToHex(vs,ms);return hexToBytes$1(ws)}function stringToBytes(vs,ms={}){const ws=encoder.encode(vs);return typeof ms.size=="number"?(assertSize(ws,{size:ms.size}),pad(ws,{dir:"right",size:ms.size})):ws}const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(vs,ms=!1){return ms?{h:Number(vs&U32_MASK64),l:Number(vs>>_32n&U32_MASK64)}:{h:Number(vs>>_32n&U32_MASK64)|0,l:Number(vs&U32_MASK64)|0}}function split(vs,ms=!1){const ws=vs.length;let Ss=new Uint32Array(ws),Es=new Uint32Array(ws);for(let _s=0;_s<ws;_s++){const{h:Is,l:Ts}=fromBig(vs[_s],ms);[Ss[_s],Es[_s]]=[Is,Ts]}return[Ss,Es]}const rotlSH=(vs,ms,ws)=>vs<<ws|ms>>>32-ws,rotlSL=(vs,ms,ws)=>ms<<ws|vs>>>32-ws,rotlBH=(vs,ms,ws)=>ms<<ws-32|vs>>>64-ws,rotlBL=(vs,ms,ws)=>vs<<ws-32|ms>>>64-ws,crypto$2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function isBytes$2(vs){return vs instanceof Uint8Array||ArrayBuffer.isView(vs)&&vs.constructor.name==="Uint8Array"}function anumber$1(vs){if(!Number.isSafeInteger(vs)||vs<0)throw new Error("positive integer expected, got "+vs)}function abytes$1(vs,...ms){if(!isBytes$2(vs))throw new Error("Uint8Array expected");if(ms.length>0&&!ms.includes(vs.length))throw new Error("Uint8Array expected of length "+ms+", got length="+vs.length)}function ahash(vs){if(typeof vs!="function"||typeof vs.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");anumber$1(vs.outputLen),anumber$1(vs.blockLen)}function aexists(vs,ms=!0){if(vs.destroyed)throw new Error("Hash instance has been destroyed");if(ms&&vs.finished)throw new Error("Hash#digest() has already been called")}function aoutput(vs,ms){abytes$1(vs);const ws=ms.outputLen;if(vs.length<ws)throw new Error("digestInto() expects output buffer of length at least "+ws)}function u32(vs){return new Uint32Array(vs.buffer,vs.byteOffset,Math.floor(vs.byteLength/4))}function clean(...vs){for(let ms=0;ms<vs.length;ms++)vs[ms].fill(0)}function createView(vs){return new DataView(vs.buffer,vs.byteOffset,vs.byteLength)}function rotr(vs,ms){return vs<<32-ms|vs>>>ms}const isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function byteSwap(vs){return vs<<24&4278190080|vs<<8&16711680|vs>>>8&65280|vs>>>24&255}function byteSwap32(vs){for(let ms=0;ms<vs.length;ms++)vs[ms]=byteSwap(vs[ms]);return vs}const swap32IfBE=isLE?vs=>vs:byteSwap32;function utf8ToBytes(vs){if(typeof vs!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(vs))}function toBytes(vs){return typeof vs=="string"&&(vs=utf8ToBytes(vs)),abytes$1(vs),vs}function concatBytes$1(...vs){let ms=0;for(let Ss=0;Ss<vs.length;Ss++){const Es=vs[Ss];abytes$1(Es),ms+=Es.length}const ws=new Uint8Array(ms);for(let Ss=0,Es=0;Ss<vs.length;Ss++){const _s=vs[Ss];ws.set(_s,Es),Es+=_s.length}return ws}class Hash{}function createHasher(vs){const ms=Ss=>vs().update(toBytes(Ss)).digest(),ws=vs();return ms.outputLen=ws.outputLen,ms.blockLen=ws.blockLen,ms.create=()=>vs(),ms}function randomBytes$1(vs=32){if(crypto$2&&typeof crypto$2.getRandomValues=="function")return crypto$2.getRandomValues(new Uint8Array(vs));if(crypto$2&&typeof crypto$2.randomBytes=="function")return Uint8Array.from(crypto$2.randomBytes(vs));throw new Error("crypto.getRandomValues must be defined")}const _0n$5=BigInt(0),_1n$5=BigInt(1),_2n$2=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113),SHA3_PI=[],SHA3_ROTL=[],_SHA3_IOTA=[];for(let vs=0,ms=_1n$5,ws=1,Ss=0;vs<24;vs++){[ws,Ss]=[Ss,(2*ws+3*Ss)%5],SHA3_PI.push(2*(5*Ss+ws)),SHA3_ROTL.push((vs+1)*(vs+2)/2%64);let Es=_0n$5;for(let _s=0;_s<7;_s++)ms=(ms<<_1n$5^(ms>>_7n)*_0x71n)%_256n,ms&_2n$2&&(Es^=_1n$5<<(_1n$5<<BigInt(_s))-_1n$5);_SHA3_IOTA.push(Es)}const IOTAS=split(_SHA3_IOTA,!0),SHA3_IOTA_H=IOTAS[0],SHA3_IOTA_L=IOTAS[1],rotlH=(vs,ms,ws)=>ws>32?rotlBH(vs,ms,ws):rotlSH(vs,ms,ws),rotlL=(vs,ms,ws)=>ws>32?rotlBL(vs,ms,ws):rotlSL(vs,ms,ws);function keccakP(vs,ms=24){const ws=new Uint32Array(10);for(let Ss=24-ms;Ss<24;Ss++){for(let Is=0;Is<10;Is++)ws[Is]=vs[Is]^vs[Is+10]^vs[Is+20]^vs[Is+30]^vs[Is+40];for(let Is=0;Is<10;Is+=2){const Ts=(Is+8)%10,Rs=(Is+2)%10,Bs=ws[Rs],Ns=ws[Rs+1],Ws=rotlH(Bs,Ns,1)^ws[Ts],Js=rotlL(Bs,Ns,1)^ws[Ts+1];for(let $l=0;$l<50;$l+=10)vs[Is+$l]^=Ws,vs[Is+$l+1]^=Js}let Es=vs[2],_s=vs[3];for(let Is=0;Is<24;Is++){const Ts=SHA3_ROTL[Is],Rs=rotlH(Es,_s,Ts),Bs=rotlL(Es,_s,Ts),Ns=SHA3_PI[Is];Es=vs[Ns],_s=vs[Ns+1],vs[Ns]=Rs,vs[Ns+1]=Bs}for(let Is=0;Is<50;Is+=10){for(let Ts=0;Ts<10;Ts++)ws[Ts]=vs[Is+Ts];for(let Ts=0;Ts<10;Ts++)vs[Is+Ts]^=~ws[(Ts+2)%10]&ws[(Ts+4)%10]}vs[0]^=SHA3_IOTA_H[Ss],vs[1]^=SHA3_IOTA_L[Ss]}clean(ws)}class Keccak extends Hash{constructor(ms,ws,Ss,Es=!1,_s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=ms,this.suffix=ws,this.outputLen=Ss,this.enableXOF=Es,this.rounds=_s,anumber$1(Ss),!(0<ms&&ms<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=u32(this.state)}clone(){return this._cloneInto()}keccak(){swap32IfBE(this.state32),keccakP(this.state32,this.rounds),swap32IfBE(this.state32),this.posOut=0,this.pos=0}update(ms){aexists(this),ms=toBytes(ms),abytes$1(ms);const{blockLen:ws,state:Ss}=this,Es=ms.length;for(let _s=0;_s<Es;){const Is=Math.min(ws-this.pos,Es-_s);for(let Ts=0;Ts<Is;Ts++)Ss[this.pos++]^=ms[_s++];this.pos===ws&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:ms,suffix:ws,pos:Ss,blockLen:Es}=this;ms[Ss]^=ws,ws&128&&Ss===Es-1&&this.keccak(),ms[Es-1]^=128,this.keccak()}writeInto(ms){aexists(this,!1),abytes$1(ms),this.finish();const ws=this.state,{blockLen:Ss}=this;for(let Es=0,_s=ms.length;Es<_s;){this.posOut>=Ss&&this.keccak();const Is=Math.min(Ss-this.posOut,_s-Es);ms.set(ws.subarray(this.posOut,this.posOut+Is),Es),this.posOut+=Is,Es+=Is}return ms}xofInto(ms){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(ms)}xof(ms){return anumber$1(ms),this.xofInto(new Uint8Array(ms))}digestInto(ms){if(aoutput(ms,this),this.finished)throw new Error("digest() was already called");return this.writeInto(ms),this.destroy(),ms}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,clean(this.state)}_cloneInto(ms){const{blockLen:ws,suffix:Ss,outputLen:Es,rounds:_s,enableXOF:Is}=this;return ms||(ms=new Keccak(ws,Ss,Es,Is,_s)),ms.state32.set(this.state32),ms.pos=this.pos,ms.posOut=this.posOut,ms.finished=this.finished,ms.rounds=_s,ms.suffix=Ss,ms.outputLen=Es,ms.enableXOF=Is,ms.destroyed=this.destroyed,ms}}const gen=(vs,ms,ws)=>createHasher(()=>new Keccak(ms,vs,ws)),keccak_256=gen(1,136,256/8);function keccak256(vs,ms){const ws=ms||"hex",Ss=keccak_256(isHex(vs,{strict:!1})?toBytes$1(vs):vs);return ws==="bytes"?Ss:toHex$1(Ss)}class LruMap extends Map{constructor(ms){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=ms}get(ms){const ws=super.get(ms);return super.has(ms)&&ws!==void 0&&(this.delete(ms),super.set(ms,ws)),ws}set(ms,ws){if(super.set(ms,ws),this.maxSize&&this.size>this.maxSize){const Ss=this.keys().next().value;Ss&&this.delete(Ss)}return this}}const checksumAddressCache=new LruMap(8192);function checksumAddress(vs,ms){if(checksumAddressCache.has(`${vs}.${ms}`))return checksumAddressCache.get(`${vs}.${ms}`);const ws=vs.substring(2).toLowerCase(),Ss=keccak256(stringToBytes(ws),"bytes"),Es=ws.split("");for(let Is=0;Is<40;Is+=2)Ss[Is>>1]>>4>=8&&Es[Is]&&(Es[Is]=Es[Is].toUpperCase()),(Ss[Is>>1]&15)>=8&&Es[Is+1]&&(Es[Is+1]=Es[Is+1].toUpperCase());const _s=`0x${Es.join("")}`;return checksumAddressCache.set(`${vs}.${ms}`,_s),_s}function publicKeyToAddress(vs){const ms=keccak256(`0x${vs.substring(4)}`).substring(26);return checksumAddress(`0x${ms}`)}async function recoverPublicKey({hash:vs,signature:ms}){const ws=isHex(vs)?vs:toHex$1(vs),{secp256k1:Ss}=await Promise.resolve().then(()=>secp256k1$1);return`0x${(()=>{if(typeof ms=="object"&&"r"in ms&&"s"in ms){const{r:Bs,s:Ns,v:Ws,yParity:Js}=ms,$l=Number(Js??Ws),wl=toRecoveryBit($l);return new Ss.Signature(hexToBigInt(Bs),hexToBigInt(Ns)).addRecoveryBit(wl)}const Is=isHex(ms)?ms:toHex$1(ms);if(size(Is)!==65)throw new Error("invalid signature length");const Ts=hexToNumber$1(`0x${Is.slice(130)}`),Rs=toRecoveryBit(Ts);return Ss.Signature.fromCompact(Is.substring(2,130)).addRecoveryBit(Rs)})().recoverPublicKey(ws.substring(2)).toHex(!1)}`}function toRecoveryBit(vs){if(vs===0||vs===1)return vs;if(vs===27)return 0;if(vs===28)return 1;throw new Error("Invalid yParityOrV value")}async function recoverAddress({hash:vs,signature:ms}){return publicKeyToAddress(await recoverPublicKey({hash:vs,signature:ms}))}function setBigUint64(vs,ms,ws,Ss){if(typeof vs.setBigUint64=="function")return vs.setBigUint64(ms,ws,Ss);const Es=BigInt(32),_s=BigInt(4294967295),Is=Number(ws>>Es&_s),Ts=Number(ws&_s),Rs=Ss?4:0,Bs=Ss?0:4;vs.setUint32(ms+Rs,Is,Ss),vs.setUint32(ms+Bs,Ts,Ss)}function Chi(vs,ms,ws){return vs&ms^~vs&ws}function Maj(vs,ms,ws){return vs&ms^vs&ws^ms&ws}class HashMD extends Hash{constructor(ms,ws,Ss,Es){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=ms,this.outputLen=ws,this.padOffset=Ss,this.isLE=Es,this.buffer=new Uint8Array(ms),this.view=createView(this.buffer)}update(ms){aexists(this),ms=toBytes(ms),abytes$1(ms);const{view:ws,buffer:Ss,blockLen:Es}=this,_s=ms.length;for(let Is=0;Is<_s;){const Ts=Math.min(Es-this.pos,_s-Is);if(Ts===Es){const Rs=createView(ms);for(;Es<=_s-Is;Is+=Es)this.process(Rs,Is);continue}Ss.set(ms.subarray(Is,Is+Ts),this.pos),this.pos+=Ts,Is+=Ts,this.pos===Es&&(this.process(ws,0),this.pos=0)}return this.length+=ms.length,this.roundClean(),this}digestInto(ms){aexists(this),aoutput(ms,this),this.finished=!0;const{buffer:ws,view:Ss,blockLen:Es,isLE:_s}=this;let{pos:Is}=this;ws[Is++]=128,clean(this.buffer.subarray(Is)),this.padOffset>Es-Is&&(this.process(Ss,0),Is=0);for(let Ws=Is;Ws<Es;Ws++)ws[Ws]=0;setBigUint64(Ss,Es-8,BigInt(this.length*8),_s),this.process(Ss,0);const Ts=createView(ms),Rs=this.outputLen;if(Rs%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const Bs=Rs/4,Ns=this.get();if(Bs>Ns.length)throw new Error("_sha2: outputLen bigger than state");for(let Ws=0;Ws<Bs;Ws++)Ts.setUint32(4*Ws,Ns[Ws],_s)}digest(){const{buffer:ms,outputLen:ws}=this;this.digestInto(ms);const Ss=ms.slice(0,ws);return this.destroy(),Ss}_cloneInto(ms){ms||(ms=new this.constructor),ms.set(...this.get());const{blockLen:ws,buffer:Ss,length:Es,finished:_s,destroyed:Is,pos:Ts}=this;return ms.destroyed=Is,ms.finished=_s,ms.length=Es,ms.pos=Ts,Es%ws&&ms.buffer.set(Ss),ms}clone(){return this._cloneInto()}}const SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_K=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_W=new Uint32Array(64);class SHA256 extends HashMD{constructor(ms=32){super(64,ms,8,!1),this.A=SHA256_IV[0]|0,this.B=SHA256_IV[1]|0,this.C=SHA256_IV[2]|0,this.D=SHA256_IV[3]|0,this.E=SHA256_IV[4]|0,this.F=SHA256_IV[5]|0,this.G=SHA256_IV[6]|0,this.H=SHA256_IV[7]|0}get(){const{A:ms,B:ws,C:Ss,D:Es,E:_s,F:Is,G:Ts,H:Rs}=this;return[ms,ws,Ss,Es,_s,Is,Ts,Rs]}set(ms,ws,Ss,Es,_s,Is,Ts,Rs){this.A=ms|0,this.B=ws|0,this.C=Ss|0,this.D=Es|0,this.E=_s|0,this.F=Is|0,this.G=Ts|0,this.H=Rs|0}process(ms,ws){for(let Ws=0;Ws<16;Ws++,ws+=4)SHA256_W[Ws]=ms.getUint32(ws,!1);for(let Ws=16;Ws<64;Ws++){const Js=SHA256_W[Ws-15],$l=SHA256_W[Ws-2],wl=rotr(Js,7)^rotr(Js,18)^Js>>>3,_l=rotr($l,17)^rotr($l,19)^$l>>>10;SHA256_W[Ws]=_l+SHA256_W[Ws-7]+wl+SHA256_W[Ws-16]|0}let{A:Ss,B:Es,C:_s,D:Is,E:Ts,F:Rs,G:Bs,H:Ns}=this;for(let Ws=0;Ws<64;Ws++){const Js=rotr(Ts,6)^rotr(Ts,11)^rotr(Ts,25),$l=Ns+Js+Chi(Ts,Rs,Bs)+SHA256_K[Ws]+SHA256_W[Ws]|0,_l=(rotr(Ss,2)^rotr(Ss,13)^rotr(Ss,22))+Maj(Ss,Es,_s)|0;Ns=Bs,Bs=Rs,Rs=Ts,Ts=Is+$l|0,Is=_s,_s=Es,Es=Ss,Ss=$l+_l|0}Ss=Ss+this.A|0,Es=Es+this.B|0,_s=_s+this.C|0,Is=Is+this.D|0,Ts=Ts+this.E|0,Rs=Rs+this.F|0,Bs=Bs+this.G|0,Ns=Ns+this.H|0,this.set(Ss,Es,_s,Is,Ts,Rs,Bs,Ns)}roundClean(){clean(SHA256_W)}destroy(){this.set(0,0,0,0,0,0,0,0),clean(this.buffer)}}const sha256=createHasher(()=>new SHA256);class HMAC extends Hash{constructor(ms,ws){super(),this.finished=!1,this.destroyed=!1,ahash(ms);const Ss=toBytes(ws);if(this.iHash=ms.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const Es=this.blockLen,_s=new Uint8Array(Es);_s.set(Ss.length>Es?ms.create().update(Ss).digest():Ss);for(let Is=0;Is<_s.length;Is++)_s[Is]^=54;this.iHash.update(_s),this.oHash=ms.create();for(let Is=0;Is<_s.length;Is++)_s[Is]^=106;this.oHash.update(_s),clean(_s)}update(ms){return aexists(this),this.iHash.update(ms),this}digestInto(ms){aexists(this),abytes$1(ms,this.outputLen),this.finished=!0,this.iHash.digestInto(ms),this.oHash.update(ms),this.oHash.digestInto(ms),this.destroy()}digest(){const ms=new Uint8Array(this.oHash.outputLen);return this.digestInto(ms),ms}_cloneInto(ms){ms||(ms=Object.create(Object.getPrototypeOf(this),{}));const{oHash:ws,iHash:Ss,finished:Es,destroyed:_s,blockLen:Is,outputLen:Ts}=this;return ms=ms,ms.finished=Es,ms.destroyed=_s,ms.blockLen=Is,ms.outputLen=Ts,ms.oHash=ws._cloneInto(ms.oHash),ms.iHash=Ss._cloneInto(ms.iHash),ms}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(vs,ms,ws)=>new HMAC(vs,ms).update(ws).digest();hmac.create=(vs,ms)=>new HMAC(vs,ms);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$4=BigInt(0),_1n$4=BigInt(1);function isBytes$1(vs){return vs instanceof Uint8Array||ArrayBuffer.isView(vs)&&vs.constructor.name==="Uint8Array"}function abytes(vs){if(!isBytes$1(vs))throw new Error("Uint8Array expected")}function abool(vs,ms){if(typeof ms!="boolean")throw new Error(vs+" boolean expected, got "+ms)}function numberToHexUnpadded(vs){const ms=vs.toString(16);return ms.length&1?"0"+ms:ms}function hexToNumber(vs){if(typeof vs!="string")throw new Error("hex string expected, got "+typeof vs);return vs===""?_0n$4:BigInt("0x"+vs)}const hasHexBuiltin=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",hexes=Array.from({length:256},(vs,ms)=>ms.toString(16).padStart(2,"0"));function bytesToHex(vs){if(abytes(vs),hasHexBuiltin)return vs.toHex();let ms="";for(let ws=0;ws<vs.length;ws++)ms+=hexes[vs[ws]];return ms}const asciis={_0:48,_9:57,A:65,F:70,a:97,f:102};function asciiToBase16(vs){if(vs>=asciis._0&&vs<=asciis._9)return vs-asciis._0;if(vs>=asciis.A&&vs<=asciis.F)return vs-(asciis.A-10);if(vs>=asciis.a&&vs<=asciis.f)return vs-(asciis.a-10)}function hexToBytes(vs){if(typeof vs!="string")throw new Error("hex string expected, got "+typeof vs);if(hasHexBuiltin)return Uint8Array.fromHex(vs);const ms=vs.length,ws=ms/2;if(ms%2)throw new Error("hex string expected, got unpadded hex of length "+ms);const Ss=new Uint8Array(ws);for(let Es=0,_s=0;Es<ws;Es++,_s+=2){const Is=asciiToBase16(vs.charCodeAt(_s)),Ts=asciiToBase16(vs.charCodeAt(_s+1));if(Is===void 0||Ts===void 0){const Rs=vs[_s]+vs[_s+1];throw new Error('hex string expected, got non-hex character "'+Rs+'" at index '+_s)}Ss[Es]=Is*16+Ts}return Ss}function bytesToNumberBE(vs){return hexToNumber(bytesToHex(vs))}function bytesToNumberLE(vs){return abytes(vs),hexToNumber(bytesToHex(Uint8Array.from(vs).reverse()))}function numberToBytesBE(vs,ms){return hexToBytes(vs.toString(16).padStart(ms*2,"0"))}function numberToBytesLE(vs,ms){return numberToBytesBE(vs,ms).reverse()}function ensureBytes(vs,ms,ws){let Ss;if(typeof ms=="string")try{Ss=hexToBytes(ms)}catch(_s){throw new Error(vs+" must be hex string or Uint8Array, cause: "+_s)}else if(isBytes$1(ms))Ss=Uint8Array.from(ms);else throw new Error(vs+" must be hex string or Uint8Array");const Es=Ss.length;if(typeof ws=="number"&&Es!==ws)throw new Error(vs+" of length "+ws+" expected, got "+Es);return Ss}function concatBytes(...vs){let ms=0;for(let Ss=0;Ss<vs.length;Ss++){const Es=vs[Ss];abytes(Es),ms+=Es.length}const ws=new Uint8Array(ms);for(let Ss=0,Es=0;Ss<vs.length;Ss++){const _s=vs[Ss];ws.set(_s,Es),Es+=_s.length}return ws}const isPosBig=vs=>typeof vs=="bigint"&&_0n$4<=vs;function inRange(vs,ms,ws){return isPosBig(vs)&&isPosBig(ms)&&isPosBig(ws)&&ms<=vs&&vs<ws}function aInRange(vs,ms,ws,Ss){if(!inRange(ms,ws,Ss))throw new Error("expected valid "+vs+": "+ws+" <= n < "+Ss+", got "+ms)}function bitLen(vs){let ms;for(ms=0;vs>_0n$4;vs>>=_1n$4,ms+=1);return ms}const bitMask=vs=>(_1n$4<<BigInt(vs))-_1n$4,u8n=vs=>new Uint8Array(vs),u8fr=vs=>Uint8Array.from(vs);function createHmacDrbg(vs,ms,ws){if(typeof vs!="number"||vs<2)throw new Error("hashLen must be a number");if(typeof ms!="number"||ms<2)throw new Error("qByteLen must be a number");if(typeof ws!="function")throw new Error("hmacFn must be a function");let Ss=u8n(vs),Es=u8n(vs),_s=0;const Is=()=>{Ss.fill(1),Es.fill(0),_s=0},Ts=(...Ws)=>ws(Es,Ss,...Ws),Rs=(Ws=u8n(0))=>{Es=Ts(u8fr([0]),Ws),Ss=Ts(),Ws.length!==0&&(Es=Ts(u8fr([1]),Ws),Ss=Ts())},Bs=()=>{if(_s++>=1e3)throw new Error("drbg: tried 1000 values");let Ws=0;const Js=[];for(;Ws<ms;){Ss=Ts();const $l=Ss.slice();Js.push($l),Ws+=Ss.length}return concatBytes(...Js)};return(Ws,Js)=>{Is(),Rs(Ws);let $l;for(;!($l=Js(Bs()));)Rs();return Is(),$l}}const validatorFns={bigint:vs=>typeof vs=="bigint",function:vs=>typeof vs=="function",boolean:vs=>typeof vs=="boolean",string:vs=>typeof vs=="string",stringOrUint8Array:vs=>typeof vs=="string"||isBytes$1(vs),isSafeInteger:vs=>Number.isSafeInteger(vs),array:vs=>Array.isArray(vs),field:(vs,ms)=>ms.Fp.isValid(vs),hash:vs=>typeof vs=="function"&&Number.isSafeInteger(vs.outputLen)};function validateObject(vs,ms,ws={}){const Ss=(Es,_s,Is)=>{const Ts=validatorFns[_s];if(typeof Ts!="function")throw new Error("invalid validator function");const Rs=vs[Es];if(!(Is&&Rs===void 0)&&!Ts(Rs,vs))throw new Error("param "+String(Es)+" is invalid. Expected "+_s+", got "+Rs)};for(const[Es,_s]of Object.entries(ms))Ss(Es,_s,!1);for(const[Es,_s]of Object.entries(ws))Ss(Es,_s,!0);return vs}function memoized(vs){const ms=new WeakMap;return(ws,...Ss)=>{const Es=ms.get(ws);if(Es!==void 0)return Es;const _s=vs(ws,...Ss);return ms.set(ws,_s),_s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$3=BigInt(1),_2n$1=BigInt(2),_3n$1=BigInt(3),_4n$1=BigInt(4),_5n=BigInt(5),_8n=BigInt(8);function mod(vs,ms){const ws=vs%ms;return ws>=_0n$3?ws:ms+ws}function pow2(vs,ms,ws){let Ss=vs;for(;ms-- >_0n$3;)Ss*=Ss,Ss%=ws;return Ss}function invert(vs,ms){if(vs===_0n$3)throw new Error("invert: expected non-zero number");if(ms<=_0n$3)throw new Error("invert: expected positive modulus, got "+ms);let ws=mod(vs,ms),Ss=ms,Es=_0n$3,_s=_1n$3;for(;ws!==_0n$3;){const Ts=Ss/ws,Rs=Ss%ws,Bs=Es-_s*Ts;Ss=ws,ws=Rs,Es=_s,_s=Bs}if(Ss!==_1n$3)throw new Error("invert: does not exist");return mod(Es,ms)}function sqrt3mod4(vs,ms){const ws=(vs.ORDER+_1n$3)/_4n$1,Ss=vs.pow(ms,ws);if(!vs.eql(vs.sqr(Ss),ms))throw new Error("Cannot find square root");return Ss}function sqrt5mod8(vs,ms){const ws=(vs.ORDER-_5n)/_8n,Ss=vs.mul(ms,_2n$1),Es=vs.pow(Ss,ws),_s=vs.mul(ms,Es),Is=vs.mul(vs.mul(_s,_2n$1),Es),Ts=vs.mul(_s,vs.sub(Is,vs.ONE));if(!vs.eql(vs.sqr(Ts),ms))throw new Error("Cannot find square root");return Ts}function tonelliShanks(vs){if(vs<BigInt(3))throw new Error("sqrt is not defined for small field");let ms=vs-_1n$3,ws=0;for(;ms%_2n$1===_0n$3;)ms/=_2n$1,ws++;let Ss=_2n$1;const Es=Field(vs);for(;FpLegendre(Es,Ss)===1;)if(Ss++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(ws===1)return sqrt3mod4;let _s=Es.pow(Ss,ms);const Is=(ms+_1n$3)/_2n$1;return function(Rs,Bs){if(Rs.is0(Bs))return Bs;if(FpLegendre(Rs,Bs)!==1)throw new Error("Cannot find square root");let Ns=ws,Ws=Rs.mul(Rs.ONE,_s),Js=Rs.pow(Bs,ms),$l=Rs.pow(Bs,Is);for(;!Rs.eql(Js,Rs.ONE);){if(Rs.is0(Js))return Rs.ZERO;let wl=1,_l=Rs.sqr(Js);for(;!Rs.eql(_l,Rs.ONE);)if(wl++,_l=Rs.sqr(_l),wl===Ns)throw new Error("Cannot find square root");const Cl=_1n$3<<BigInt(Ns-wl-1),Sl=Rs.pow(Ws,Cl);Ns=wl,Ws=Rs.sqr(Sl),Js=Rs.mul(Js,Ws),$l=Rs.mul($l,Sl)}return $l}}function FpSqrt(vs){return vs%_4n$1===_3n$1?sqrt3mod4:vs%_8n===_5n?sqrt5mod8:tonelliShanks(vs)}const FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(vs){const ms={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},ws=FIELD_FIELDS.reduce((Ss,Es)=>(Ss[Es]="function",Ss),ms);return validateObject(vs,ws)}function FpPow(vs,ms,ws){if(ws<_0n$3)throw new Error("invalid exponent, negatives unsupported");if(ws===_0n$3)return vs.ONE;if(ws===_1n$3)return ms;let Ss=vs.ONE,Es=ms;for(;ws>_0n$3;)ws&_1n$3&&(Ss=vs.mul(Ss,Es)),Es=vs.sqr(Es),ws>>=_1n$3;return Ss}function FpInvertBatch(vs,ms,ws=!1){const Ss=new Array(ms.length).fill(ws?vs.ZERO:void 0),Es=ms.reduce((Is,Ts,Rs)=>vs.is0(Ts)?Is:(Ss[Rs]=Is,vs.mul(Is,Ts)),vs.ONE),_s=vs.inv(Es);return ms.reduceRight((Is,Ts,Rs)=>vs.is0(Ts)?Is:(Ss[Rs]=vs.mul(Is,Ss[Rs]),vs.mul(Is,Ts)),_s),Ss}function FpLegendre(vs,ms){const ws=(vs.ORDER-_1n$3)/_2n$1,Ss=vs.pow(ms,ws),Es=vs.eql(Ss,vs.ONE),_s=vs.eql(Ss,vs.ZERO),Is=vs.eql(Ss,vs.neg(vs.ONE));if(!Es&&!_s&&!Is)throw new Error("invalid Legendre symbol result");return Es?1:_s?0:-1}function nLength(vs,ms){ms!==void 0&&anumber$1(ms);const ws=ms!==void 0?ms:vs.toString(2).length,Ss=Math.ceil(ws/8);return{nBitLength:ws,nByteLength:Ss}}function Field(vs,ms,ws=!1,Ss={}){if(vs<=_0n$3)throw new Error("invalid field: expected ORDER > 0, got "+vs);const{nBitLength:Es,nByteLength:_s}=nLength(vs,ms);if(_s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let Is;const Ts=Object.freeze({ORDER:vs,isLE:ws,BITS:Es,BYTES:_s,MASK:bitMask(Es),ZERO:_0n$3,ONE:_1n$3,create:Rs=>mod(Rs,vs),isValid:Rs=>{if(typeof Rs!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof Rs);return _0n$3<=Rs&&Rs<vs},is0:Rs=>Rs===_0n$3,isOdd:Rs=>(Rs&_1n$3)===_1n$3,neg:Rs=>mod(-Rs,vs),eql:(Rs,Bs)=>Rs===Bs,sqr:Rs=>mod(Rs*Rs,vs),add:(Rs,Bs)=>mod(Rs+Bs,vs),sub:(Rs,Bs)=>mod(Rs-Bs,vs),mul:(Rs,Bs)=>mod(Rs*Bs,vs),pow:(Rs,Bs)=>FpPow(Ts,Rs,Bs),div:(Rs,Bs)=>mod(Rs*invert(Bs,vs),vs),sqrN:Rs=>Rs*Rs,addN:(Rs,Bs)=>Rs+Bs,subN:(Rs,Bs)=>Rs-Bs,mulN:(Rs,Bs)=>Rs*Bs,inv:Rs=>invert(Rs,vs),sqrt:Ss.sqrt||(Rs=>(Is||(Is=FpSqrt(vs)),Is(Ts,Rs))),toBytes:Rs=>ws?numberToBytesLE(Rs,_s):numberToBytesBE(Rs,_s),fromBytes:Rs=>{if(Rs.length!==_s)throw new Error("Field.fromBytes: expected "+_s+" bytes, got "+Rs.length);return ws?bytesToNumberLE(Rs):bytesToNumberBE(Rs)},invertBatch:Rs=>FpInvertBatch(Ts,Rs),cmov:(Rs,Bs,Ns)=>Ns?Bs:Rs});return Object.freeze(Ts)}function getFieldBytesLength(vs){if(typeof vs!="bigint")throw new Error("field order must be bigint");const ms=vs.toString(2).length;return Math.ceil(ms/8)}function getMinHashLength(vs){const ms=getFieldBytesLength(vs);return ms+Math.ceil(ms/2)}function mapHashToField(vs,ms,ws=!1){const Ss=vs.length,Es=getFieldBytesLength(ms),_s=getMinHashLength(ms);if(Ss<16||Ss<_s||Ss>1024)throw new Error("expected "+_s+"-1024 bytes of input, got "+Ss);const Is=ws?bytesToNumberLE(vs):bytesToNumberBE(vs),Ts=mod(Is,ms-_1n$3)+_1n$3;return ws?numberToBytesLE(Ts,Es):numberToBytesBE(Ts,Es)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$2=BigInt(1);function constTimeNegate(vs,ms){const ws=ms.negate();return vs?ws:ms}function validateW(vs,ms){if(!Number.isSafeInteger(vs)||vs<=0||vs>ms)throw new Error("invalid window size, expected [1.."+ms+"], got W="+vs)}function calcWOpts(vs,ms){validateW(vs,ms);const ws=Math.ceil(ms/vs)+1,Ss=2**(vs-1),Es=2**vs,_s=bitMask(vs),Is=BigInt(vs);return{windows:ws,windowSize:Ss,mask:_s,maxNumber:Es,shiftBy:Is}}function calcOffsets(vs,ms,ws){const{windowSize:Ss,mask:Es,maxNumber:_s,shiftBy:Is}=ws;let Ts=Number(vs&Es),Rs=vs>>Is;Ts>Ss&&(Ts-=_s,Rs+=_1n$2);const Bs=ms*Ss,Ns=Bs+Math.abs(Ts)-1,Ws=Ts===0,Js=Ts<0,$l=ms%2!==0;return{nextN:Rs,offset:Ns,isZero:Ws,isNeg:Js,isNegF:$l,offsetF:Bs}}function validateMSMPoints(vs,ms){if(!Array.isArray(vs))throw new Error("array expected");vs.forEach((ws,Ss)=>{if(!(ws instanceof ms))throw new Error("invalid point at index "+Ss)})}function validateMSMScalars(vs,ms){if(!Array.isArray(vs))throw new Error("array of scalars expected");vs.forEach((ws,Ss)=>{if(!ms.isValid(ws))throw new Error("invalid scalar at index "+Ss)})}const pointPrecomputes=new WeakMap,pointWindowSizes=new WeakMap;function getW(vs){return pointWindowSizes.get(vs)||1}function wNAF(vs,ms){return{constTimeNegate,hasPrecomputes(ws){return getW(ws)!==1},unsafeLadder(ws,Ss,Es=vs.ZERO){let _s=ws;for(;Ss>_0n$2;)Ss&_1n$2&&(Es=Es.add(_s)),_s=_s.double(),Ss>>=_1n$2;return Es},precomputeWindow(ws,Ss){const{windows:Es,windowSize:_s}=calcWOpts(Ss,ms),Is=[];let Ts=ws,Rs=Ts;for(let Bs=0;Bs<Es;Bs++){Rs=Ts,Is.push(Rs);for(let Ns=1;Ns<_s;Ns++)Rs=Rs.add(Ts),Is.push(Rs);Ts=Rs.double()}return Is},wNAF(ws,Ss,Es){let _s=vs.ZERO,Is=vs.BASE;const Ts=calcWOpts(ws,ms);for(let Rs=0;Rs<Ts.windows;Rs++){const{nextN:Bs,offset:Ns,isZero:Ws,isNeg:Js,isNegF:$l,offsetF:wl}=calcOffsets(Es,Rs,Ts);Es=Bs,Ws?Is=Is.add(constTimeNegate($l,Ss[wl])):_s=_s.add(constTimeNegate(Js,Ss[Ns]))}return{p:_s,f:Is}},wNAFUnsafe(ws,Ss,Es,_s=vs.ZERO){const Is=calcWOpts(ws,ms);for(let Ts=0;Ts<Is.windows&&Es!==_0n$2;Ts++){const{nextN:Rs,offset:Bs,isZero:Ns,isNeg:Ws}=calcOffsets(Es,Ts,Is);if(Es=Rs,!Ns){const Js=Ss[Bs];_s=_s.add(Ws?Js.negate():Js)}}return _s},getPrecomputes(ws,Ss,Es){let _s=pointPrecomputes.get(Ss);return _s||(_s=this.precomputeWindow(Ss,ws),ws!==1&&pointPrecomputes.set(Ss,Es(_s))),_s},wNAFCached(ws,Ss,Es){const _s=getW(ws);return this.wNAF(_s,this.getPrecomputes(_s,ws,Es),Ss)},wNAFCachedUnsafe(ws,Ss,Es,_s){const Is=getW(ws);return Is===1?this.unsafeLadder(ws,Ss,_s):this.wNAFUnsafe(Is,this.getPrecomputes(Is,ws,Es),Ss,_s)},setWindowSize(ws,Ss){validateW(Ss,ms),pointWindowSizes.set(ws,Ss),pointPrecomputes.delete(ws)}}}function pippenger(vs,ms,ws,Ss){validateMSMPoints(ws,vs),validateMSMScalars(Ss,ms);const Es=ws.length,_s=Ss.length;if(Es!==_s)throw new Error("arrays of points and scalars must have equal length");const Is=vs.ZERO,Ts=bitLen(BigInt(Es));let Rs=1;Ts>12?Rs=Ts-3:Ts>4?Rs=Ts-2:Ts>0&&(Rs=2);const Bs=bitMask(Rs),Ns=new Array(Number(Bs)+1).fill(Is),Ws=Math.floor((ms.BITS-1)/Rs)*Rs;let Js=Is;for(let $l=Ws;$l>=0;$l-=Rs){Ns.fill(Is);for(let _l=0;_l<_s;_l++){const Cl=Ss[_l],Sl=Number(Cl>>BigInt($l)&Bs);Ns[Sl]=Ns[Sl].add(ws[_l])}let wl=Is;for(let _l=Ns.length-1,Cl=Is;_l>0;_l--)Cl=Cl.add(Ns[_l]),wl=wl.add(Cl);if(Js=Js.add(wl),$l!==0)for(let _l=0;_l<Rs;_l++)Js=Js.double()}return Js}function validateBasic(vs){return validateField(vs.Fp),validateObject(vs,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(vs.n,vs.nBitLength),...vs,p:vs.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validateSigVerOpts(vs){vs.lowS!==void 0&&abool("lowS",vs.lowS),vs.prehash!==void 0&&abool("prehash",vs.prehash)}function validatePointOpts(vs){const ms=validateBasic(vs);validateObject(ms,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:ws,Fp:Ss,a:Es}=ms;if(ws){if(!Ss.eql(Es,Ss.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof ws!="object"||typeof ws.beta!="bigint"||typeof ws.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...ms})}class DERErr extends Error{constructor(ms=""){super(ms)}}const DER={Err:DERErr,_tlv:{encode:(vs,ms)=>{const{Err:ws}=DER;if(vs<0||vs>256)throw new ws("tlv.encode: wrong tag");if(ms.length&1)throw new ws("tlv.encode: unpadded data");const Ss=ms.length/2,Es=numberToHexUnpadded(Ss);if(Es.length/2&128)throw new ws("tlv.encode: long form length too big");const _s=Ss>127?numberToHexUnpadded(Es.length/2|128):"";return numberToHexUnpadded(vs)+_s+Es+ms},decode(vs,ms){const{Err:ws}=DER;let Ss=0;if(vs<0||vs>256)throw new ws("tlv.encode: wrong tag");if(ms.length<2||ms[Ss++]!==vs)throw new ws("tlv.decode: wrong tlv");const Es=ms[Ss++],_s=!!(Es&128);let Is=0;if(!_s)Is=Es;else{const Rs=Es&127;if(!Rs)throw new ws("tlv.decode(long): indefinite length not supported");if(Rs>4)throw new ws("tlv.decode(long): byte length is too big");const Bs=ms.subarray(Ss,Ss+Rs);if(Bs.length!==Rs)throw new ws("tlv.decode: length bytes not complete");if(Bs[0]===0)throw new ws("tlv.decode(long): zero leftmost byte");for(const Ns of Bs)Is=Is<<8|Ns;if(Ss+=Rs,Is<128)throw new ws("tlv.decode(long): not minimal encoding")}const Ts=ms.subarray(Ss,Ss+Is);if(Ts.length!==Is)throw new ws("tlv.decode: wrong value length");return{v:Ts,l:ms.subarray(Ss+Is)}}},_int:{encode(vs){const{Err:ms}=DER;if(vs<_0n$1)throw new ms("integer: negative integers are not allowed");let ws=numberToHexUnpadded(vs);if(Number.parseInt(ws[0],16)&8&&(ws="00"+ws),ws.length&1)throw new ms("unexpected DER parsing assertion: unpadded hex");return ws},decode(vs){const{Err:ms}=DER;if(vs[0]&128)throw new ms("invalid signature integer: negative");if(vs[0]===0&&!(vs[1]&128))throw new ms("invalid signature integer: unnecessary leading zero");return bytesToNumberBE(vs)}},toSig(vs){const{Err:ms,_int:ws,_tlv:Ss}=DER,Es=ensureBytes("signature",vs),{v:_s,l:Is}=Ss.decode(48,Es);if(Is.length)throw new ms("invalid signature: left bytes after parsing");const{v:Ts,l:Rs}=Ss.decode(2,_s),{v:Bs,l:Ns}=Ss.decode(2,Rs);if(Ns.length)throw new ms("invalid signature: left bytes after parsing");return{r:ws.decode(Ts),s:ws.decode(Bs)}},hexFromSig(vs){const{_tlv:ms,_int:ws}=DER,Ss=ms.encode(2,ws.encode(vs.r)),Es=ms.encode(2,ws.encode(vs.s)),_s=Ss+Es;return ms.encode(48,_s)}};function numToSizedHex(vs,ms){return bytesToHex(numberToBytesBE(vs,ms))}const _0n$1=BigInt(0),_1n$1=BigInt(1);BigInt(2);const _3n=BigInt(3),_4n=BigInt(4);function weierstrassPoints(vs){const ms=validatePointOpts(vs),{Fp:ws}=ms,Ss=Field(ms.n,ms.nBitLength),Es=ms.toBytes||((xl,Ml,Vl)=>{const Ul=Ml.toAffine();return concatBytes(Uint8Array.from([4]),ws.toBytes(Ul.x),ws.toBytes(Ul.y))}),_s=ms.fromBytes||(xl=>{const Ml=xl.subarray(1),Vl=ws.fromBytes(Ml.subarray(0,ws.BYTES)),Ul=ws.fromBytes(Ml.subarray(ws.BYTES,2*ws.BYTES));return{x:Vl,y:Ul}});function Is(xl){const{a:Ml,b:Vl}=ms,Ul=ws.sqr(xl),_h=ws.mul(Ul,xl);return ws.add(ws.add(_h,ws.mul(xl,Ml)),Vl)}function Ts(xl,Ml){const Vl=ws.sqr(Ml),Ul=Is(xl);return ws.eql(Vl,Ul)}if(!Ts(ms.Gx,ms.Gy))throw new Error("bad curve params: generator point");const Rs=ws.mul(ws.pow(ms.a,_3n),_4n),Bs=ws.mul(ws.sqr(ms.b),BigInt(27));if(ws.is0(ws.add(Rs,Bs)))throw new Error("bad curve params: a or b");function Ns(xl){return inRange(xl,_1n$1,ms.n)}function Ws(xl){const{allowedPrivateKeyLengths:Ml,nByteLength:Vl,wrapPrivateKey:Ul,n:_h}=ms;if(Ml&&typeof xl!="bigint"){if(isBytes$1(xl)&&(xl=bytesToHex(xl)),typeof xl!="string"||!Ml.includes(xl.length))throw new Error("invalid private key");xl=xl.padStart(Vl*2,"0")}let nu;try{nu=typeof xl=="bigint"?xl:bytesToNumberBE(ensureBytes("private key",xl,Vl))}catch{throw new Error("invalid private key, expected hex or "+Vl+" bytes, got "+typeof xl)}return Ul&&(nu=mod(nu,_h)),aInRange("private key",nu,_1n$1,_h),nu}function Js(xl){if(!(xl instanceof _l))throw new Error("ProjectivePoint expected")}const $l=memoized((xl,Ml)=>{const{px:Vl,py:Ul,pz:_h}=xl;if(ws.eql(_h,ws.ONE))return{x:Vl,y:Ul};const nu=xl.is0();Ml==null&&(Ml=nu?ws.ONE:ws.inv(_h));const su=ws.mul(Vl,Ml),Jl=ws.mul(Ul,Ml),Il=ws.mul(_h,Ml);if(nu)return{x:ws.ZERO,y:ws.ZERO};if(!ws.eql(Il,ws.ONE))throw new Error("invZ was invalid");return{x:su,y:Jl}}),wl=memoized(xl=>{if(xl.is0()){if(ms.allowInfinityPoint&&!ws.is0(xl.py))return;throw new Error("bad point: ZERO")}const{x:Ml,y:Vl}=xl.toAffine();if(!ws.isValid(Ml)||!ws.isValid(Vl))throw new Error("bad point: x or y not FE");if(!Ts(Ml,Vl))throw new Error("bad point: equation left != right");if(!xl.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class _l{constructor(Ml,Vl,Ul){if(Ml==null||!ws.isValid(Ml))throw new Error("x required");if(Vl==null||!ws.isValid(Vl)||ws.is0(Vl))throw new Error("y required");if(Ul==null||!ws.isValid(Ul))throw new Error("z required");this.px=Ml,this.py=Vl,this.pz=Ul,Object.freeze(this)}static fromAffine(Ml){const{x:Vl,y:Ul}=Ml||{};if(!Ml||!ws.isValid(Vl)||!ws.isValid(Ul))throw new Error("invalid affine point");if(Ml instanceof _l)throw new Error("projective point not allowed");const _h=nu=>ws.eql(nu,ws.ZERO);return _h(Vl)&&_h(Ul)?_l.ZERO:new _l(Vl,Ul,ws.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Ml){const Vl=FpInvertBatch(ws,Ml.map(Ul=>Ul.pz));return Ml.map((Ul,_h)=>Ul.toAffine(Vl[_h])).map(_l.fromAffine)}static fromHex(Ml){const Vl=_l.fromAffine(_s(ensureBytes("pointHex",Ml)));return Vl.assertValidity(),Vl}static fromPrivateKey(Ml){return _l.BASE.multiply(Ws(Ml))}static msm(Ml,Vl){return pippenger(_l,Ss,Ml,Vl)}_setWindowSize(Ml){El.setWindowSize(this,Ml)}assertValidity(){wl(this)}hasEvenY(){const{y:Ml}=this.toAffine();if(ws.isOdd)return!ws.isOdd(Ml);throw new Error("Field doesn't support isOdd")}equals(Ml){Js(Ml);const{px:Vl,py:Ul,pz:_h}=this,{px:nu,py:su,pz:Jl}=Ml,Il=ws.eql(ws.mul(Vl,Jl),ws.mul(nu,_h)),Nl=ws.eql(ws.mul(Ul,Jl),ws.mul(su,_h));return Il&&Nl}negate(){return new _l(this.px,ws.neg(this.py),this.pz)}double(){const{a:Ml,b:Vl}=ms,Ul=ws.mul(Vl,_3n),{px:_h,py:nu,pz:su}=this;let Jl=ws.ZERO,Il=ws.ZERO,Nl=ws.ZERO,Ol=ws.mul(_h,_h),Gl=ws.mul(nu,nu),Fl=ws.mul(su,su),Al=ws.mul(_h,nu);return Al=ws.add(Al,Al),Nl=ws.mul(_h,su),Nl=ws.add(Nl,Nl),Jl=ws.mul(Ml,Nl),Il=ws.mul(Ul,Fl),Il=ws.add(Jl,Il),Jl=ws.sub(Gl,Il),Il=ws.add(Gl,Il),Il=ws.mul(Jl,Il),Jl=ws.mul(Al,Jl),Nl=ws.mul(Ul,Nl),Fl=ws.mul(Ml,Fl),Al=ws.sub(Ol,Fl),Al=ws.mul(Ml,Al),Al=ws.add(Al,Nl),Nl=ws.add(Ol,Ol),Ol=ws.add(Nl,Ol),Ol=ws.add(Ol,Fl),Ol=ws.mul(Ol,Al),Il=ws.add(Il,Ol),Fl=ws.mul(nu,su),Fl=ws.add(Fl,Fl),Ol=ws.mul(Fl,Al),Jl=ws.sub(Jl,Ol),Nl=ws.mul(Fl,Gl),Nl=ws.add(Nl,Nl),Nl=ws.add(Nl,Nl),new _l(Jl,Il,Nl)}add(Ml){Js(Ml);const{px:Vl,py:Ul,pz:_h}=this,{px:nu,py:su,pz:Jl}=Ml;let Il=ws.ZERO,Nl=ws.ZERO,Ol=ws.ZERO;const Gl=ms.a,Fl=ws.mul(ms.b,_3n);let Al=ws.mul(Vl,nu),Pl=ws.mul(Ul,su),yl=ws.mul(_h,Jl),Zs=ws.add(Vl,Ul),Bl=ws.add(nu,su);Zs=ws.mul(Zs,Bl),Bl=ws.add(Al,Pl),Zs=ws.sub(Zs,Bl),Bl=ws.add(Vl,_h);let eu=ws.add(nu,Jl);return Bl=ws.mul(Bl,eu),eu=ws.add(Al,yl),Bl=ws.sub(Bl,eu),eu=ws.add(Ul,_h),Il=ws.add(su,Jl),eu=ws.mul(eu,Il),Il=ws.add(Pl,yl),eu=ws.sub(eu,Il),Ol=ws.mul(Gl,Bl),Il=ws.mul(Fl,yl),Ol=ws.add(Il,Ol),Il=ws.sub(Pl,Ol),Ol=ws.add(Pl,Ol),Nl=ws.mul(Il,Ol),Pl=ws.add(Al,Al),Pl=ws.add(Pl,Al),yl=ws.mul(Gl,yl),Bl=ws.mul(Fl,Bl),Pl=ws.add(Pl,yl),yl=ws.sub(Al,yl),yl=ws.mul(Gl,yl),Bl=ws.add(Bl,yl),Al=ws.mul(Pl,Bl),Nl=ws.add(Nl,Al),Al=ws.mul(eu,Bl),Il=ws.mul(Zs,Il),Il=ws.sub(Il,Al),Al=ws.mul(Zs,Pl),Ol=ws.mul(eu,Ol),Ol=ws.add(Ol,Al),new _l(Il,Nl,Ol)}subtract(Ml){return this.add(Ml.negate())}is0(){return this.equals(_l.ZERO)}wNAF(Ml){return El.wNAFCached(this,Ml,_l.normalizeZ)}multiplyUnsafe(Ml){const{endo:Vl,n:Ul}=ms;aInRange("scalar",Ml,_0n$1,Ul);const _h=_l.ZERO;if(Ml===_0n$1)return _h;if(this.is0()||Ml===_1n$1)return this;if(!Vl||El.hasPrecomputes(this))return El.wNAFCachedUnsafe(this,Ml,_l.normalizeZ);let{k1neg:nu,k1:su,k2neg:Jl,k2:Il}=Vl.splitScalar(Ml),Nl=_h,Ol=_h,Gl=this;for(;su>_0n$1||Il>_0n$1;)su&_1n$1&&(Nl=Nl.add(Gl)),Il&_1n$1&&(Ol=Ol.add(Gl)),Gl=Gl.double(),su>>=_1n$1,Il>>=_1n$1;return nu&&(Nl=Nl.negate()),Jl&&(Ol=Ol.negate()),Ol=new _l(ws.mul(Ol.px,Vl.beta),Ol.py,Ol.pz),Nl.add(Ol)}multiply(Ml){const{endo:Vl,n:Ul}=ms;aInRange("scalar",Ml,_1n$1,Ul);let _h,nu;if(Vl){const{k1neg:su,k1:Jl,k2neg:Il,k2:Nl}=Vl.splitScalar(Ml);let{p:Ol,f:Gl}=this.wNAF(Jl),{p:Fl,f:Al}=this.wNAF(Nl);Ol=El.constTimeNegate(su,Ol),Fl=El.constTimeNegate(Il,Fl),Fl=new _l(ws.mul(Fl.px,Vl.beta),Fl.py,Fl.pz),_h=Ol.add(Fl),nu=Gl.add(Al)}else{const{p:su,f:Jl}=this.wNAF(Ml);_h=su,nu=Jl}return _l.normalizeZ([_h,nu])[0]}multiplyAndAddUnsafe(Ml,Vl,Ul){const _h=_l.BASE,nu=(Jl,Il)=>Il===_0n$1||Il===_1n$1||!Jl.equals(_h)?Jl.multiplyUnsafe(Il):Jl.multiply(Il),su=nu(this,Vl).add(nu(Ml,Ul));return su.is0()?void 0:su}toAffine(Ml){return $l(this,Ml)}isTorsionFree(){const{h:Ml,isTorsionFree:Vl}=ms;if(Ml===_1n$1)return!0;if(Vl)return Vl(_l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Ml,clearCofactor:Vl}=ms;return Ml===_1n$1?this:Vl?Vl(_l,this):this.multiplyUnsafe(ms.h)}toRawBytes(Ml=!0){return abool("isCompressed",Ml),this.assertValidity(),Es(_l,this,Ml)}toHex(Ml=!0){return abool("isCompressed",Ml),bytesToHex(this.toRawBytes(Ml))}}_l.BASE=new _l(ms.Gx,ms.Gy,ws.ONE),_l.ZERO=new _l(ws.ZERO,ws.ONE,ws.ZERO);const{endo:Cl,nBitLength:Sl}=ms,El=wNAF(_l,Cl?Math.ceil(Sl/2):Sl);return{CURVE:ms,ProjectivePoint:_l,normPrivateKeyToScalar:Ws,weierstrassEquation:Is,isWithinCurveOrder:Ns}}function validateOpts(vs){const ms=validateBasic(vs);return validateObject(ms,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...ms})}function weierstrass(vs){const ms=validateOpts(vs),{Fp:ws,n:Ss,nByteLength:Es,nBitLength:_s}=ms,Is=ws.BYTES+1,Ts=2*ws.BYTES+1;function Rs(Fl){return mod(Fl,Ss)}function Bs(Fl){return invert(Fl,Ss)}const{ProjectivePoint:Ns,normPrivateKeyToScalar:Ws,weierstrassEquation:Js,isWithinCurveOrder:$l}=weierstrassPoints({...ms,toBytes(Fl,Al,Pl){const yl=Al.toAffine(),Zs=ws.toBytes(yl.x),Bl=concatBytes;return abool("isCompressed",Pl),Pl?Bl(Uint8Array.from([Al.hasEvenY()?2:3]),Zs):Bl(Uint8Array.from([4]),Zs,ws.toBytes(yl.y))},fromBytes(Fl){const Al=Fl.length,Pl=Fl[0],yl=Fl.subarray(1);if(Al===Is&&(Pl===2||Pl===3)){const Zs=bytesToNumberBE(yl);if(!inRange(Zs,_1n$1,ws.ORDER))throw new Error("Point is not on curve");const Bl=Js(Zs);let eu;try{eu=ws.sqrt(Bl)}catch(Yl){const zl=Yl instanceof Error?": "+Yl.message:"";throw new Error("Point is not on curve"+zl)}const Eu=(eu&_1n$1)===_1n$1;return(Pl&1)===1!==Eu&&(eu=ws.neg(eu)),{x:Zs,y:eu}}else if(Al===Ts&&Pl===4){const Zs=ws.fromBytes(yl.subarray(0,ws.BYTES)),Bl=ws.fromBytes(yl.subarray(ws.BYTES,2*ws.BYTES));return{x:Zs,y:Bl}}else{const Zs=Is,Bl=Ts;throw new Error("invalid Point, expected length of "+Zs+", or uncompressed "+Bl+", got "+Al)}}});function wl(Fl){const Al=Ss>>_1n$1;return Fl>Al}function _l(Fl){return wl(Fl)?Rs(-Fl):Fl}const Cl=(Fl,Al,Pl)=>bytesToNumberBE(Fl.slice(Al,Pl));class Sl{constructor(Al,Pl,yl){aInRange("r",Al,_1n$1,Ss),aInRange("s",Pl,_1n$1,Ss),this.r=Al,this.s=Pl,yl!=null&&(this.recovery=yl),Object.freeze(this)}static fromCompact(Al){const Pl=Es;return Al=ensureBytes("compactSignature",Al,Pl*2),new Sl(Cl(Al,0,Pl),Cl(Al,Pl,2*Pl))}static fromDER(Al){const{r:Pl,s:yl}=DER.toSig(ensureBytes("DER",Al));return new Sl(Pl,yl)}assertValidity(){}addRecoveryBit(Al){return new Sl(this.r,this.s,Al)}recoverPublicKey(Al){const{r:Pl,s:yl,recovery:Zs}=this,Bl=_h(ensureBytes("msgHash",Al));if(Zs==null||![0,1,2,3].includes(Zs))throw new Error("recovery id invalid");const eu=Zs===2||Zs===3?Pl+ms.n:Pl;if(eu>=ws.ORDER)throw new Error("recovery id 2 or 3 invalid");const Eu=Zs&1?"03":"02",uu=Ns.fromHex(Eu+numToSizedHex(eu,ws.BYTES)),Yl=Bs(eu),zl=Rs(-Bl*Yl),ou=Rs(yl*Yl),pu=Ns.BASE.multiplyAndAddUnsafe(uu,zl,ou);if(!pu)throw new Error("point at infinify");return pu.assertValidity(),pu}hasHighS(){return wl(this.s)}normalizeS(){return this.hasHighS()?new Sl(this.r,Rs(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes(this.toDERHex())}toDERHex(){return DER.hexFromSig(this)}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){const Al=Es;return numToSizedHex(this.r,Al)+numToSizedHex(this.s,Al)}}const El={isValidPrivateKey(Fl){try{return Ws(Fl),!0}catch{return!1}},normPrivateKeyToScalar:Ws,randomPrivateKey:()=>{const Fl=getMinHashLength(ms.n);return mapHashToField(ms.randomBytes(Fl),ms.n)},precompute(Fl=8,Al=Ns.BASE){return Al._setWindowSize(Fl),Al.multiply(BigInt(3)),Al}};function xl(Fl,Al=!0){return Ns.fromPrivateKey(Fl).toRawBytes(Al)}function Ml(Fl){if(typeof Fl=="bigint")return!1;if(Fl instanceof Ns)return!0;const Pl=ensureBytes("key",Fl).length,yl=ws.BYTES,Zs=yl+1,Bl=2*yl+1;if(!(ms.allowedPrivateKeyLengths||Es===Zs))return Pl===Zs||Pl===Bl}function Vl(Fl,Al,Pl=!0){if(Ml(Fl)===!0)throw new Error("first arg must be private key");if(Ml(Al)===!1)throw new Error("second arg must be public key");return Ns.fromHex(Al).multiply(Ws(Fl)).toRawBytes(Pl)}const Ul=ms.bits2int||function(Fl){if(Fl.length>8192)throw new Error("input is too large");const Al=bytesToNumberBE(Fl),Pl=Fl.length*8-_s;return Pl>0?Al>>BigInt(Pl):Al},_h=ms.bits2int_modN||function(Fl){return Rs(Ul(Fl))},nu=bitMask(_s);function su(Fl){return aInRange("num < 2^"+_s,Fl,_0n$1,nu),numberToBytesBE(Fl,Es)}function Jl(Fl,Al,Pl=Il){if(["recovered","canonical"].some(yu=>yu in Pl))throw new Error("sign() legacy options not supported");const{hash:yl,randomBytes:Zs}=ms;let{lowS:Bl,prehash:eu,extraEntropy:Eu}=Pl;Bl==null&&(Bl=!0),Fl=ensureBytes("msgHash",Fl),validateSigVerOpts(Pl),eu&&(Fl=ensureBytes("prehashed msgHash",yl(Fl)));const uu=_h(Fl),Yl=Ws(Al),zl=[su(Yl),su(uu)];if(Eu!=null&&Eu!==!1){const yu=Eu===!0?Zs(ws.BYTES):Eu;zl.push(ensureBytes("extraEntropy",yu))}const ou=concatBytes(...zl),pu=uu;function fu(yu){const tu=Ul(yu);if(!$l(tu))return;const Ll=Bs(tu),Tl=Ns.BASE.multiply(tu).toAffine(),Hl=Rs(Tl.x);if(Hl===_0n$1)return;const Dl=Rs(Ll*Rs(pu+Hl*Yl));if(Dl===_0n$1)return;let Kl=(Tl.x===Hl?0:2)|Number(Tl.y&_1n$1),cu=Dl;return Bl&&wl(Dl)&&(cu=_l(Dl),Kl^=1),new Sl(Hl,cu,Kl)}return{seed:ou,k2sig:fu}}const Il={lowS:ms.lowS,prehash:!1},Nl={lowS:ms.lowS,prehash:!1};function Ol(Fl,Al,Pl=Il){const{seed:yl,k2sig:Zs}=Jl(Fl,Al,Pl),Bl=ms;return createHmacDrbg(Bl.hash.outputLen,Bl.nByteLength,Bl.hmac)(yl,Zs)}Ns.BASE._setWindowSize(8);function Gl(Fl,Al,Pl,yl=Nl){var Kl;const Zs=Fl;Al=ensureBytes("msgHash",Al),Pl=ensureBytes("publicKey",Pl);const{lowS:Bl,prehash:eu,format:Eu}=yl;if(validateSigVerOpts(yl),"strict"in yl)throw new Error("options.strict was renamed to lowS");if(Eu!==void 0&&Eu!=="compact"&&Eu!=="der")throw new Error("format must be compact or der");const uu=typeof Zs=="string"||isBytes$1(Zs),Yl=!uu&&!Eu&&typeof Zs=="object"&&Zs!==null&&typeof Zs.r=="bigint"&&typeof Zs.s=="bigint";if(!uu&&!Yl)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let zl,ou;try{if(Yl&&(zl=new Sl(Zs.r,Zs.s)),uu){try{Eu!=="compact"&&(zl=Sl.fromDER(Zs))}catch(cu){if(!(cu instanceof DER.Err))throw cu}!zl&&Eu!=="der"&&(zl=Sl.fromCompact(Zs))}ou=Ns.fromHex(Pl)}catch{return!1}if(!zl||Bl&&zl.hasHighS())return!1;eu&&(Al=ms.hash(Al));const{r:pu,s:fu}=zl,yu=_h(Al),tu=Bs(fu),Ll=Rs(yu*tu),Tl=Rs(pu*tu),Hl=(Kl=Ns.BASE.multiplyAndAddUnsafe(ou,Ll,Tl))==null?void 0:Kl.toAffine();return Hl?Rs(Hl.x)===pu:!1}return{CURVE:ms,getPublicKey:xl,getSharedSecret:Vl,sign:Ol,verify:Gl,ProjectivePoint:Ns,Signature:Sl,utils:El}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash(vs){return{hash:vs,hmac:(ms,...ws)=>hmac(vs,ms,concatBytes$1(...ws)),randomBytes:randomBytes$1}}function createCurve(vs,ms){const ws=Ss=>weierstrass({...vs,...getHash(Ss)});return{...ws(ms),create:ws}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),divNearest=(vs,ms)=>(vs+ms/_2n)/ms;function sqrtMod(vs){const ms=secp256k1P,ws=BigInt(3),Ss=BigInt(6),Es=BigInt(11),_s=BigInt(22),Is=BigInt(23),Ts=BigInt(44),Rs=BigInt(88),Bs=vs*vs*vs%ms,Ns=Bs*Bs*vs%ms,Ws=pow2(Ns,ws,ms)*Ns%ms,Js=pow2(Ws,ws,ms)*Ns%ms,$l=pow2(Js,_2n,ms)*Bs%ms,wl=pow2($l,Es,ms)*$l%ms,_l=pow2(wl,_s,ms)*wl%ms,Cl=pow2(_l,Ts,ms)*_l%ms,Sl=pow2(Cl,Rs,ms)*Cl%ms,El=pow2(Sl,Ts,ms)*_l%ms,xl=pow2(El,ws,ms)*Ns%ms,Ml=pow2(xl,Is,ms)*wl%ms,Vl=pow2(Ml,Ss,ms)*Bs%ms,Ul=pow2(Vl,_2n,ms);if(!Fpk1.eql(Fpk1.sqr(Ul),vs))throw new Error("Cannot find square root");return Ul}const Fpk1=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1=createCurve({a:_0n,b:BigInt(7),Fp:Fpk1,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:vs=>{const ms=secp256k1N,ws=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),Ss=-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),Es=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),_s=ws,Is=BigInt("0x100000000000000000000000000000000"),Ts=divNearest(_s*vs,ms),Rs=divNearest(-Ss*vs,ms);let Bs=mod(vs-Ts*ws-Rs*Es,ms),Ns=mod(-Ts*Ss-Rs*_s,ms);const Ws=Bs>Is,Js=Ns>Is;if(Ws&&(Bs=ms-Bs),Js&&(Ns=ms-Ns),Bs>Is||Ns>Is)throw new Error("splitScalar: Endomorphism failed, k="+vs);return{k1neg:Ws,k1:Bs,k2neg:Js,k2:Ns}}}},sha256),secp256k1$1=Object.freeze(Object.defineProperty({__proto__:null,secp256k1},Symbol.toStringTag,{value:"Module"}));function base$1(vs){if(vs.length>=255)throw new TypeError("Alphabet too long");const ms=new Uint8Array(256);for(let Bs=0;Bs<ms.length;Bs++)ms[Bs]=255;for(let Bs=0;Bs<vs.length;Bs++){const Ns=vs.charAt(Bs),Ws=Ns.charCodeAt(0);if(ms[Ws]!==255)throw new TypeError(Ns+" is ambiguous");ms[Ws]=Bs}const ws=vs.length,Ss=vs.charAt(0),Es=Math.log(ws)/Math.log(256),_s=Math.log(256)/Math.log(ws);function Is(Bs){if(Bs instanceof Uint8Array||(ArrayBuffer.isView(Bs)?Bs=new Uint8Array(Bs.buffer,Bs.byteOffset,Bs.byteLength):Array.isArray(Bs)&&(Bs=Uint8Array.from(Bs))),!(Bs instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Bs.length===0)return"";let Ns=0,Ws=0,Js=0;const $l=Bs.length;for(;Js!==$l&&Bs[Js]===0;)Js++,Ns++;const wl=($l-Js)*_s+1>>>0,_l=new Uint8Array(wl);for(;Js!==$l;){let El=Bs[Js],xl=0;for(let Ml=wl-1;(El!==0||xl<Ws)&&Ml!==-1;Ml--,xl++)El+=256*_l[Ml]>>>0,_l[Ml]=El%ws>>>0,El=El/ws>>>0;if(El!==0)throw new Error("Non-zero carry");Ws=xl,Js++}let Cl=wl-Ws;for(;Cl!==wl&&_l[Cl]===0;)Cl++;let Sl=Ss.repeat(Ns);for(;Cl<wl;++Cl)Sl+=vs.charAt(_l[Cl]);return Sl}function Ts(Bs){if(typeof Bs!="string")throw new TypeError("Expected String");if(Bs.length===0)return new Uint8Array;let Ns=0,Ws=0,Js=0;for(;Bs[Ns]===Ss;)Ws++,Ns++;const $l=(Bs.length-Ns)*Es+1>>>0,wl=new Uint8Array($l);for(;Ns<Bs.length;){const El=Bs.charCodeAt(Ns);if(El>255)return;let xl=ms[El];if(xl===255)return;let Ml=0;for(let Vl=$l-1;(xl!==0||Ml<Js)&&Vl!==-1;Vl--,Ml++)xl+=ws*wl[Vl]>>>0,wl[Vl]=xl%256>>>0,xl=xl/256>>>0;if(xl!==0)throw new Error("Non-zero carry");Js=Ml,Ns++}let _l=$l-Js;for(;_l!==$l&&wl[_l]===0;)_l++;const Cl=new Uint8Array(Ws+($l-_l));let Sl=Ws;for(;_l!==$l;)Cl[Sl++]=wl[_l++];return Cl}function Rs(Bs){const Ns=Ts(Bs);if(Ns)return Ns;throw new Error("Non-base"+ws+" character")}return{encode:Is,decodeUnsafe:Ts,decode:Rs}}var ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const re=base$1(ALPHABET);function utf8Count(vs){const ms=vs.length;let ws=0,Ss=0;for(;Ss<ms;){let Es=vs.charCodeAt(Ss++);if(Es&4294967168)if(!(Es&4294965248))ws+=2;else{if(Es>=55296&&Es<=56319&&Ss<ms){const _s=vs.charCodeAt(Ss);(_s&64512)===56320&&(++Ss,Es=((Es&1023)<<10)+(_s&1023)+65536)}Es&4294901760?ws+=4:ws+=3}else{ws++;continue}}return ws}function utf8EncodeJs(vs,ms,ws){const Ss=vs.length;let Es=ws,_s=0;for(;_s<Ss;){let Is=vs.charCodeAt(_s++);if(Is&4294967168)if(!(Is&4294965248))ms[Es++]=Is>>6&31|192;else{if(Is>=55296&&Is<=56319&&_s<Ss){const Ts=vs.charCodeAt(_s);(Ts&64512)===56320&&(++_s,Is=((Is&1023)<<10)+(Ts&1023)+65536)}Is&4294901760?(ms[Es++]=Is>>18&7|240,ms[Es++]=Is>>12&63|128,ms[Es++]=Is>>6&63|128):(ms[Es++]=Is>>12&15|224,ms[Es++]=Is>>6&63|128)}else{ms[Es++]=Is;continue}ms[Es++]=Is&63|128}}const sharedTextEncoder=new TextEncoder,TEXT_ENCODER_THRESHOLD=50;function utf8EncodeTE(vs,ms,ws){sharedTextEncoder.encodeInto(vs,ms.subarray(ws))}function utf8Encode(vs,ms,ws){vs.length>TEXT_ENCODER_THRESHOLD?utf8EncodeTE(vs,ms,ws):utf8EncodeJs(vs,ms,ws)}const CHUNK_SIZE=4096;function utf8DecodeJs(vs,ms,ws){let Ss=ms;const Es=Ss+ws,_s=[];let Is="";for(;Ss<Es;){const Ts=vs[Ss++];if(!(Ts&128))_s.push(Ts);else if((Ts&224)===192){const Rs=vs[Ss++]&63;_s.push((Ts&31)<<6|Rs)}else if((Ts&240)===224){const Rs=vs[Ss++]&63,Bs=vs[Ss++]&63;_s.push((Ts&31)<<12|Rs<<6|Bs)}else if((Ts&248)===240){const Rs=vs[Ss++]&63,Bs=vs[Ss++]&63,Ns=vs[Ss++]&63;let Ws=(Ts&7)<<18|Rs<<12|Bs<<6|Ns;Ws>65535&&(Ws-=65536,_s.push(Ws>>>10&1023|55296),Ws=56320|Ws&1023),_s.push(Ws)}else _s.push(Ts);_s.length>=CHUNK_SIZE&&(Is+=String.fromCharCode(..._s),_s.length=0)}return _s.length>0&&(Is+=String.fromCharCode(..._s)),Is}const sharedTextDecoder=new TextDecoder,TEXT_DECODER_THRESHOLD=200;function utf8DecodeTD(vs,ms,ws){const Ss=vs.subarray(ms,ms+ws);return sharedTextDecoder.decode(Ss)}function utf8Decode(vs,ms,ws){return ws>TEXT_DECODER_THRESHOLD?utf8DecodeTD(vs,ms,ws):utf8DecodeJs(vs,ms,ws)}class ExtData{constructor(ms,ws){this.type=ms,this.data=ws}}class DecodeError extends Error{constructor(ms){super(ms);const ws=Object.create(DecodeError.prototype);Object.setPrototypeOf(this,ws),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:DecodeError.name})}}const UINT32_MAX=4294967295;function setUint64(vs,ms,ws){const Ss=ws/4294967296,Es=ws;vs.setUint32(ms,Ss),vs.setUint32(ms+4,Es)}function setInt64(vs,ms,ws){const Ss=Math.floor(ws/4294967296),Es=ws;vs.setUint32(ms,Ss),vs.setUint32(ms+4,Es)}function getInt64(vs,ms){const ws=vs.getInt32(ms),Ss=vs.getUint32(ms+4);return ws*4294967296+Ss}function getUint64(vs,ms){const ws=vs.getUint32(ms),Ss=vs.getUint32(ms+4);return ws*4294967296+Ss}const EXT_TIMESTAMP=-1,TIMESTAMP32_MAX_SEC=4294967296-1,TIMESTAMP64_MAX_SEC=17179869184-1;function encodeTimeSpecToTimestamp({sec:vs,nsec:ms}){if(vs>=0&&ms>=0&&vs<=TIMESTAMP64_MAX_SEC)if(ms===0&&vs<=TIMESTAMP32_MAX_SEC){const ws=new Uint8Array(4);return new DataView(ws.buffer).setUint32(0,vs),ws}else{const ws=vs/4294967296,Ss=vs&4294967295,Es=new Uint8Array(8),_s=new DataView(Es.buffer);return _s.setUint32(0,ms<<2|ws&3),_s.setUint32(4,Ss),Es}else{const ws=new Uint8Array(12),Ss=new DataView(ws.buffer);return Ss.setUint32(0,ms),setInt64(Ss,4,vs),ws}}function encodeDateToTimeSpec(vs){const ms=vs.getTime(),ws=Math.floor(ms/1e3),Ss=(ms-ws*1e3)*1e6,Es=Math.floor(Ss/1e9);return{sec:ws+Es,nsec:Ss-Es*1e9}}function encodeTimestampExtension(vs){if(vs instanceof Date){const ms=encodeDateToTimeSpec(vs);return encodeTimeSpecToTimestamp(ms)}else return null}function decodeTimestampToTimeSpec(vs){const ms=new DataView(vs.buffer,vs.byteOffset,vs.byteLength);switch(vs.byteLength){case 4:return{sec:ms.getUint32(0),nsec:0};case 8:{const ws=ms.getUint32(0),Ss=ms.getUint32(4),Es=(ws&3)*4294967296+Ss,_s=ws>>>2;return{sec:Es,nsec:_s}}case 12:{const ws=getInt64(ms,4),Ss=ms.getUint32(0);return{sec:ws,nsec:Ss}}default:throw new DecodeError(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${vs.length}`)}}function decodeTimestampExtension(vs){const ms=decodeTimestampToTimeSpec(vs);return new Date(ms.sec*1e3+ms.nsec/1e6)}const timestampExtension={type:EXT_TIMESTAMP,encode:encodeTimestampExtension,decode:decodeTimestampExtension};class ExtensionCodec{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(timestampExtension)}register({type:ms,encode:ws,decode:Ss}){if(ms>=0)this.encoders[ms]=ws,this.decoders[ms]=Ss;else{const Es=-1-ms;this.builtInEncoders[Es]=ws,this.builtInDecoders[Es]=Ss}}tryToEncode(ms,ws){for(let Ss=0;Ss<this.builtInEncoders.length;Ss++){const Es=this.builtInEncoders[Ss];if(Es!=null){const _s=Es(ms,ws);if(_s!=null){const Is=-1-Ss;return new ExtData(Is,_s)}}}for(let Ss=0;Ss<this.encoders.length;Ss++){const Es=this.encoders[Ss];if(Es!=null){const _s=Es(ms,ws);if(_s!=null){const Is=Ss;return new ExtData(Is,_s)}}}return ms instanceof ExtData?ms:null}decode(ms,ws,Ss){const Es=ws<0?this.builtInDecoders[-1-ws]:this.decoders[ws];return Es?Es(ms,ws,Ss):new ExtData(ws,ms)}}ExtensionCodec.defaultCodec=new ExtensionCodec;function isArrayBufferLike(vs){return vs instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&vs instanceof SharedArrayBuffer}function ensureUint8Array(vs){return vs instanceof Uint8Array?vs:ArrayBuffer.isView(vs)?new Uint8Array(vs.buffer,vs.byteOffset,vs.byteLength):isArrayBufferLike(vs)?new Uint8Array(vs):Uint8Array.from(vs)}const DEFAULT_MAX_DEPTH=100,DEFAULT_INITIAL_BUFFER_SIZE=2048;let Encoder$1=class q1{constructor(ms){this.entered=!1,this.extensionCodec=(ms==null?void 0:ms.extensionCodec)??ExtensionCodec.defaultCodec,this.context=ms==null?void 0:ms.context,this.useBigInt64=(ms==null?void 0:ms.useBigInt64)??!1,this.maxDepth=(ms==null?void 0:ms.maxDepth)??DEFAULT_MAX_DEPTH,this.initialBufferSize=(ms==null?void 0:ms.initialBufferSize)??DEFAULT_INITIAL_BUFFER_SIZE,this.sortKeys=(ms==null?void 0:ms.sortKeys)??!1,this.forceFloat32=(ms==null?void 0:ms.forceFloat32)??!1,this.ignoreUndefined=(ms==null?void 0:ms.ignoreUndefined)??!1,this.forceIntegerToFloat=(ms==null?void 0:ms.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new q1({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(ms){if(this.entered)return this.clone().encodeSharedRef(ms);try{return this.entered=!0,this.reinitializeState(),this.doEncode(ms,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(ms){if(this.entered)return this.clone().encode(ms);try{return this.entered=!0,this.reinitializeState(),this.doEncode(ms,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(ms,ws){if(ws>this.maxDepth)throw new Error(`Too deep objects in depth ${ws}`);ms==null?this.encodeNil():typeof ms=="boolean"?this.encodeBoolean(ms):typeof ms=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(ms):this.encodeNumber(ms):typeof ms=="string"?this.encodeString(ms):this.useBigInt64&&typeof ms=="bigint"?this.encodeBigInt64(ms):this.encodeObject(ms,ws)}ensureBufferSizeToWrite(ms){const ws=this.pos+ms;this.view.byteLength<ws&&this.resizeBuffer(ws*2)}resizeBuffer(ms){const ws=new ArrayBuffer(ms),Ss=new Uint8Array(ws),Es=new DataView(ws);Ss.set(this.bytes),this.view=Es,this.bytes=Ss}encodeNil(){this.writeU8(192)}encodeBoolean(ms){ms===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(ms){!this.forceIntegerToFloat&&Number.isSafeInteger(ms)?ms>=0?ms<128?this.writeU8(ms):ms<256?(this.writeU8(204),this.writeU8(ms)):ms<65536?(this.writeU8(205),this.writeU16(ms)):ms<4294967296?(this.writeU8(206),this.writeU32(ms)):this.useBigInt64?this.encodeNumberAsFloat(ms):(this.writeU8(207),this.writeU64(ms)):ms>=-32?this.writeU8(224|ms+32):ms>=-128?(this.writeU8(208),this.writeI8(ms)):ms>=-32768?(this.writeU8(209),this.writeI16(ms)):ms>=-2147483648?(this.writeU8(210),this.writeI32(ms)):this.useBigInt64?this.encodeNumberAsFloat(ms):(this.writeU8(211),this.writeI64(ms)):this.encodeNumberAsFloat(ms)}encodeNumberAsFloat(ms){this.forceFloat32?(this.writeU8(202),this.writeF32(ms)):(this.writeU8(203),this.writeF64(ms))}encodeBigInt64(ms){ms>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(ms)):(this.writeU8(211),this.writeBigInt64(ms))}writeStringHeader(ms){if(ms<32)this.writeU8(160+ms);else if(ms<256)this.writeU8(217),this.writeU8(ms);else if(ms<65536)this.writeU8(218),this.writeU16(ms);else if(ms<4294967296)this.writeU8(219),this.writeU32(ms);else throw new Error(`Too long string: ${ms} bytes in UTF-8`)}encodeString(ms){const Ss=utf8Count(ms);this.ensureBufferSizeToWrite(5+Ss),this.writeStringHeader(Ss),utf8Encode(ms,this.bytes,this.pos),this.pos+=Ss}encodeObject(ms,ws){const Ss=this.extensionCodec.tryToEncode(ms,this.context);if(Ss!=null)this.encodeExtension(Ss);else if(Array.isArray(ms))this.encodeArray(ms,ws);else if(ArrayBuffer.isView(ms))this.encodeBinary(ms);else if(typeof ms=="object")this.encodeMap(ms,ws);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(ms)}`)}encodeBinary(ms){const ws=ms.byteLength;if(ws<256)this.writeU8(196),this.writeU8(ws);else if(ws<65536)this.writeU8(197),this.writeU16(ws);else if(ws<4294967296)this.writeU8(198),this.writeU32(ws);else throw new Error(`Too large binary: ${ws}`);const Ss=ensureUint8Array(ms);this.writeU8a(Ss)}encodeArray(ms,ws){const Ss=ms.length;if(Ss<16)this.writeU8(144+Ss);else if(Ss<65536)this.writeU8(220),this.writeU16(Ss);else if(Ss<4294967296)this.writeU8(221),this.writeU32(Ss);else throw new Error(`Too large array: ${Ss}`);for(const Es of ms)this.doEncode(Es,ws+1)}countWithoutUndefined(ms,ws){let Ss=0;for(const Es of ws)ms[Es]!==void 0&&Ss++;return Ss}encodeMap(ms,ws){const Ss=Object.keys(ms);this.sortKeys&&Ss.sort();const Es=this.ignoreUndefined?this.countWithoutUndefined(ms,Ss):Ss.length;if(Es<16)this.writeU8(128+Es);else if(Es<65536)this.writeU8(222),this.writeU16(Es);else if(Es<4294967296)this.writeU8(223),this.writeU32(Es);else throw new Error(`Too large map object: ${Es}`);for(const _s of Ss){const Is=ms[_s];this.ignoreUndefined&&Is===void 0||(this.encodeString(_s),this.doEncode(Is,ws+1))}}encodeExtension(ms){if(typeof ms.data=="function"){const Ss=ms.data(this.pos+6),Es=Ss.length;if(Es>=4294967296)throw new Error(`Too large extension object: ${Es}`);this.writeU8(201),this.writeU32(Es),this.writeI8(ms.type),this.writeU8a(Ss);return}const ws=ms.data.length;if(ws===1)this.writeU8(212);else if(ws===2)this.writeU8(213);else if(ws===4)this.writeU8(214);else if(ws===8)this.writeU8(215);else if(ws===16)this.writeU8(216);else if(ws<256)this.writeU8(199),this.writeU8(ws);else if(ws<65536)this.writeU8(200),this.writeU16(ws);else if(ws<4294967296)this.writeU8(201),this.writeU32(ws);else throw new Error(`Too large extension object: ${ws}`);this.writeI8(ms.type),this.writeU8a(ms.data)}writeU8(ms){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,ms),this.pos++}writeU8a(ms){const ws=ms.length;this.ensureBufferSizeToWrite(ws),this.bytes.set(ms,this.pos),this.pos+=ws}writeI8(ms){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,ms),this.pos++}writeU16(ms){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,ms),this.pos+=2}writeI16(ms){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,ms),this.pos+=2}writeU32(ms){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,ms),this.pos+=4}writeI32(ms){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,ms),this.pos+=4}writeF32(ms){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,ms),this.pos+=4}writeF64(ms){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,ms),this.pos+=8}writeU64(ms){this.ensureBufferSizeToWrite(8),setUint64(this.view,this.pos,ms),this.pos+=8}writeI64(ms){this.ensureBufferSizeToWrite(8),setInt64(this.view,this.pos,ms),this.pos+=8}writeBigUint64(ms){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,ms),this.pos+=8}writeBigInt64(ms){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,ms),this.pos+=8}};function encode$2(vs,ms){return new Encoder$1(ms).encodeSharedRef(vs)}function prettyByte(vs){return`${vs<0?"-":""}0x${Math.abs(vs).toString(16).padStart(2,"0")}`}const DEFAULT_MAX_KEY_LENGTH=16,DEFAULT_MAX_LENGTH_PER_KEY=16;class CachedKeyDecoder{constructor(ms=DEFAULT_MAX_KEY_LENGTH,ws=DEFAULT_MAX_LENGTH_PER_KEY){this.hit=0,this.miss=0,this.maxKeyLength=ms,this.maxLengthPerKey=ws,this.caches=[];for(let Ss=0;Ss<this.maxKeyLength;Ss++)this.caches.push([])}canBeCached(ms){return ms>0&&ms<=this.maxKeyLength}find(ms,ws,Ss){const Es=this.caches[Ss-1];e:for(const _s of Es){const Is=_s.bytes;for(let Ts=0;Ts<Ss;Ts++)if(Is[Ts]!==ms[ws+Ts])continue e;return _s.str}return null}store(ms,ws){const Ss=this.caches[ms.length-1],Es={bytes:ms,str:ws};Ss.length>=this.maxLengthPerKey?Ss[Math.random()*Ss.length|0]=Es:Ss.push(Es)}decode(ms,ws,Ss){const Es=this.find(ms,ws,Ss);if(Es!=null)return this.hit++,Es;this.miss++;const _s=utf8DecodeJs(ms,ws,Ss),Is=Uint8Array.prototype.slice.call(ms,ws,ws+Ss);return this.store(Is,_s),_s}}const STATE_ARRAY="array",STATE_MAP_KEY="map_key",STATE_MAP_VALUE="map_value",mapKeyConverter=vs=>{if(typeof vs=="string"||typeof vs=="number")return vs;throw new DecodeError("The type of key must be string or number but "+typeof vs)};class StackPool{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(ms){const ws=this.getUninitializedStateFromPool();ws.type=STATE_ARRAY,ws.position=0,ws.size=ms,ws.array=new Array(ms)}pushMapState(ms){const ws=this.getUninitializedStateFromPool();ws.type=STATE_MAP_KEY,ws.readCount=0,ws.size=ms,ws.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const ms={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(ms)}return this.stack[this.stackHeadPosition]}release(ms){if(this.stack[this.stackHeadPosition]!==ms)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(ms.type===STATE_ARRAY){const Ss=ms;Ss.size=0,Ss.array=void 0,Ss.position=0,Ss.type=void 0}if(ms.type===STATE_MAP_KEY||ms.type===STATE_MAP_VALUE){const Ss=ms;Ss.size=0,Ss.map=void 0,Ss.readCount=0,Ss.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const HEAD_BYTE_REQUIRED=-1,EMPTY_VIEW=new DataView(new ArrayBuffer(0)),EMPTY_BYTES=new Uint8Array(EMPTY_VIEW.buffer);try{EMPTY_VIEW.getInt8(0)}catch(vs){if(!(vs instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const MORE_DATA=new RangeError("Insufficient data"),sharedCachedKeyDecoder=new CachedKeyDecoder;let Decoder$1=class G1{constructor(ms){this.totalPos=0,this.pos=0,this.view=EMPTY_VIEW,this.bytes=EMPTY_BYTES,this.headByte=HEAD_BYTE_REQUIRED,this.stack=new StackPool,this.entered=!1,this.extensionCodec=(ms==null?void 0:ms.extensionCodec)??ExtensionCodec.defaultCodec,this.context=ms==null?void 0:ms.context,this.useBigInt64=(ms==null?void 0:ms.useBigInt64)??!1,this.rawStrings=(ms==null?void 0:ms.rawStrings)??!1,this.maxStrLength=(ms==null?void 0:ms.maxStrLength)??UINT32_MAX,this.maxBinLength=(ms==null?void 0:ms.maxBinLength)??UINT32_MAX,this.maxArrayLength=(ms==null?void 0:ms.maxArrayLength)??UINT32_MAX,this.maxMapLength=(ms==null?void 0:ms.maxMapLength)??UINT32_MAX,this.maxExtLength=(ms==null?void 0:ms.maxExtLength)??UINT32_MAX,this.keyDecoder=(ms==null?void 0:ms.keyDecoder)!==void 0?ms.keyDecoder:sharedCachedKeyDecoder,this.mapKeyConverter=(ms==null?void 0:ms.mapKeyConverter)??mapKeyConverter}clone(){return new G1({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=HEAD_BYTE_REQUIRED,this.stack.reset()}setBuffer(ms){const ws=ensureUint8Array(ms);this.bytes=ws,this.view=new DataView(ws.buffer,ws.byteOffset,ws.byteLength),this.pos=0}appendBuffer(ms){if(this.headByte===HEAD_BYTE_REQUIRED&&!this.hasRemaining(1))this.setBuffer(ms);else{const ws=this.bytes.subarray(this.pos),Ss=ensureUint8Array(ms),Es=new Uint8Array(ws.length+Ss.length);Es.set(ws),Es.set(Ss,ws.length),this.setBuffer(Es)}}hasRemaining(ms){return this.view.byteLength-this.pos>=ms}createExtraByteError(ms){const{view:ws,pos:Ss}=this;return new RangeError(`Extra ${ws.byteLength-Ss} of ${ws.byteLength} byte(s) found at buffer[${ms}]`)}decode(ms){if(this.entered)return this.clone().decode(ms);try{this.entered=!0,this.reinitializeState(),this.setBuffer(ms);const ws=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return ws}finally{this.entered=!1}}*decodeMulti(ms){if(this.entered){yield*this.clone().decodeMulti(ms);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(ms);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(ms){if(this.entered)return this.clone().decodeAsync(ms);try{this.entered=!0;let ws=!1,Ss;for await(const Ts of ms){if(ws)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(Ts);try{Ss=this.doDecodeSync(),ws=!0}catch(Rs){if(!(Rs instanceof RangeError))throw Rs}this.totalPos+=this.pos}if(ws){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return Ss}const{headByte:Es,pos:_s,totalPos:Is}=this;throw new RangeError(`Insufficient data in parsing ${prettyByte(Es)} at ${Is} (${_s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(ms){return this.decodeMultiAsync(ms,!0)}decodeStream(ms){return this.decodeMultiAsync(ms,!1)}async*decodeMultiAsync(ms,ws){if(this.entered){yield*this.clone().decodeMultiAsync(ms,ws);return}try{this.entered=!0;let Ss=ws,Es=-1;for await(const _s of ms){if(ws&&Es===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(_s),Ss&&(Es=this.readArraySize(),Ss=!1,this.complete());try{for(;yield this.doDecodeSync(),--Es!==0;);}catch(Is){if(!(Is instanceof RangeError))throw Is}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const ms=this.readHeadByte();let ws;if(ms>=224)ws=ms-256;else if(ms<192)if(ms<128)ws=ms;else if(ms<144){const Es=ms-128;if(Es!==0){this.pushMapState(Es),this.complete();continue e}else ws={}}else if(ms<160){const Es=ms-144;if(Es!==0){this.pushArrayState(Es),this.complete();continue e}else ws=[]}else{const Es=ms-160;ws=this.decodeString(Es,0)}else if(ms===192)ws=null;else if(ms===194)ws=!1;else if(ms===195)ws=!0;else if(ms===202)ws=this.readF32();else if(ms===203)ws=this.readF64();else if(ms===204)ws=this.readU8();else if(ms===205)ws=this.readU16();else if(ms===206)ws=this.readU32();else if(ms===207)this.useBigInt64?ws=this.readU64AsBigInt():ws=this.readU64();else if(ms===208)ws=this.readI8();else if(ms===209)ws=this.readI16();else if(ms===210)ws=this.readI32();else if(ms===211)this.useBigInt64?ws=this.readI64AsBigInt():ws=this.readI64();else if(ms===217){const Es=this.lookU8();ws=this.decodeString(Es,1)}else if(ms===218){const Es=this.lookU16();ws=this.decodeString(Es,2)}else if(ms===219){const Es=this.lookU32();ws=this.decodeString(Es,4)}else if(ms===220){const Es=this.readU16();if(Es!==0){this.pushArrayState(Es),this.complete();continue e}else ws=[]}else if(ms===221){const Es=this.readU32();if(Es!==0){this.pushArrayState(Es),this.complete();continue e}else ws=[]}else if(ms===222){const Es=this.readU16();if(Es!==0){this.pushMapState(Es),this.complete();continue e}else ws={}}else if(ms===223){const Es=this.readU32();if(Es!==0){this.pushMapState(Es),this.complete();continue e}else ws={}}else if(ms===196){const Es=this.lookU8();ws=this.decodeBinary(Es,1)}else if(ms===197){const Es=this.lookU16();ws=this.decodeBinary(Es,2)}else if(ms===198){const Es=this.lookU32();ws=this.decodeBinary(Es,4)}else if(ms===212)ws=this.decodeExtension(1,0);else if(ms===213)ws=this.decodeExtension(2,0);else if(ms===214)ws=this.decodeExtension(4,0);else if(ms===215)ws=this.decodeExtension(8,0);else if(ms===216)ws=this.decodeExtension(16,0);else if(ms===199){const Es=this.lookU8();ws=this.decodeExtension(Es,1)}else if(ms===200){const Es=this.lookU16();ws=this.decodeExtension(Es,2)}else if(ms===201){const Es=this.lookU32();ws=this.decodeExtension(Es,4)}else throw new DecodeError(`Unrecognized type byte: ${prettyByte(ms)}`);this.complete();const Ss=this.stack;for(;Ss.length>0;){const Es=Ss.top();if(Es.type===STATE_ARRAY)if(Es.array[Es.position]=ws,Es.position++,Es.position===Es.size)ws=Es.array,Ss.release(Es);else continue e;else if(Es.type===STATE_MAP_KEY){if(ws==="__proto__")throw new DecodeError("The key __proto__ is not allowed");Es.key=this.mapKeyConverter(ws),Es.type=STATE_MAP_VALUE;continue e}else if(Es.map[Es.key]=ws,Es.readCount++,Es.readCount===Es.size)ws=Es.map,Ss.release(Es);else{Es.key=null,Es.type=STATE_MAP_KEY;continue e}}return ws}}readHeadByte(){return this.headByte===HEAD_BYTE_REQUIRED&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=HEAD_BYTE_REQUIRED}readArraySize(){const ms=this.readHeadByte();switch(ms){case 220:return this.readU16();case 221:return this.readU32();default:{if(ms<160)return ms-144;throw new DecodeError(`Unrecognized array type byte: ${prettyByte(ms)}`)}}}pushMapState(ms){if(ms>this.maxMapLength)throw new DecodeError(`Max length exceeded: map length (${ms}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(ms)}pushArrayState(ms){if(ms>this.maxArrayLength)throw new DecodeError(`Max length exceeded: array length (${ms}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(ms)}decodeString(ms,ws){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(ms,ws):this.decodeBinary(ms,ws)}decodeUtf8String(ms,ws){var _s;if(ms>this.maxStrLength)throw new DecodeError(`Max length exceeded: UTF-8 byte length (${ms}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+ws+ms)throw MORE_DATA;const Ss=this.pos+ws;let Es;return this.stateIsMapKey()&&((_s=this.keyDecoder)!=null&&_s.canBeCached(ms))?Es=this.keyDecoder.decode(this.bytes,Ss,ms):Es=utf8Decode(this.bytes,Ss,ms),this.pos+=ws+ms,Es}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===STATE_MAP_KEY:!1}decodeBinary(ms,ws){if(ms>this.maxBinLength)throw new DecodeError(`Max length exceeded: bin length (${ms}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(ms+ws))throw MORE_DATA;const Ss=this.pos+ws,Es=this.bytes.subarray(Ss,Ss+ms);return this.pos+=ws+ms,Es}decodeExtension(ms,ws){if(ms>this.maxExtLength)throw new DecodeError(`Max length exceeded: ext length (${ms}) > maxExtLength (${this.maxExtLength})`);const Ss=this.view.getInt8(this.pos+ws),Es=this.decodeBinary(ms,ws+1);return this.extensionCodec.decode(Es,Ss,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const ms=this.view.getUint8(this.pos);return this.pos++,ms}readI8(){const ms=this.view.getInt8(this.pos);return this.pos++,ms}readU16(){const ms=this.view.getUint16(this.pos);return this.pos+=2,ms}readI16(){const ms=this.view.getInt16(this.pos);return this.pos+=2,ms}readU32(){const ms=this.view.getUint32(this.pos);return this.pos+=4,ms}readI32(){const ms=this.view.getInt32(this.pos);return this.pos+=4,ms}readU64(){const ms=getUint64(this.view,this.pos);return this.pos+=8,ms}readI64(){const ms=getInt64(this.view,this.pos);return this.pos+=8,ms}readU64AsBigInt(){const ms=this.view.getBigUint64(this.pos);return this.pos+=8,ms}readI64AsBigInt(){const ms=this.view.getBigInt64(this.pos);return this.pos+=8,ms}readF32(){const ms=this.view.getFloat32(this.pos);return this.pos+=4,ms}readF64(){const ms=this.view.getFloat64(this.pos);return this.pos+=8,ms}};function decode$3(vs,ms){return new Decoder$1(ms).decode(vs)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function isBytes(vs){return vs instanceof Uint8Array||ArrayBuffer.isView(vs)&&vs.constructor.name==="Uint8Array"}function isArrayOf(vs,ms){return Array.isArray(ms)?ms.length===0?!0:vs?ms.every(ws=>typeof ws=="string"):ms.every(ws=>Number.isSafeInteger(ws)):!1}function astr(vs,ms){if(typeof ms!="string")throw new Error(`${vs}: string expected`);return!0}function anumber(vs){if(!Number.isSafeInteger(vs))throw new Error(`invalid integer: ${vs}`)}function aArr(vs){if(!Array.isArray(vs))throw new Error("array expected")}function astrArr(vs,ms){if(!isArrayOf(!0,ms))throw new Error(`${vs}: array of strings expected`)}function anumArr(vs,ms){if(!isArrayOf(!1,ms))throw new Error(`${vs}: array of numbers expected`)}function chain(...vs){const ms=_s=>_s,ws=(_s,Is)=>Ts=>_s(Is(Ts)),Ss=vs.map(_s=>_s.encode).reduceRight(ws,ms),Es=vs.map(_s=>_s.decode).reduce(ws,ms);return{encode:Ss,decode:Es}}function alphabet$1(vs){const ms=typeof vs=="string"?vs.split(""):vs,ws=ms.length;astrArr("alphabet",ms);const Ss=new Map(ms.map((Es,_s)=>[Es,_s]));return{encode:Es=>(aArr(Es),Es.map(_s=>{if(!Number.isSafeInteger(_s)||_s<0||_s>=ws)throw new Error(`alphabet.encode: digit index outside alphabet "${_s}". Allowed: ${vs}`);return ms[_s]})),decode:Es=>(aArr(Es),Es.map(_s=>{astr("alphabet.decode",_s);const Is=Ss.get(_s);if(Is===void 0)throw new Error(`Unknown letter: "${_s}". Allowed: ${vs}`);return Is}))}}function join(vs=""){return astr("join",vs),{encode:ms=>(astrArr("join.decode",ms),ms.join(vs)),decode:ms=>(astr("join.decode",ms),ms.split(vs))}}function padding(vs,ms="="){return anumber(vs),astr("padding",ms),{encode(ws){for(astrArr("padding.encode",ws);ws.length*vs%8;)ws.push(ms);return ws},decode(ws){astrArr("padding.decode",ws);let Ss=ws.length;if(Ss*vs%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;Ss>0&&ws[Ss-1]===ms;Ss--)if((Ss-1)*vs%8===0)throw new Error("padding: invalid, string has too much padding");return ws.slice(0,Ss)}}}const gcd=(vs,ms)=>ms===0?vs:gcd(ms,vs%ms),radix2carry=(vs,ms)=>vs+(ms-gcd(vs,ms)),powers=(()=>{let vs=[];for(let ms=0;ms<40;ms++)vs.push(2**ms);return vs})();function convertRadix2(vs,ms,ws,Ss){if(aArr(vs),ms<=0||ms>32)throw new Error(`convertRadix2: wrong from=${ms}`);if(ws<=0||ws>32)throw new Error(`convertRadix2: wrong to=${ws}`);if(radix2carry(ms,ws)>32)throw new Error(`convertRadix2: carry overflow from=${ms} to=${ws} carryBits=${radix2carry(ms,ws)}`);let Es=0,_s=0;const Is=powers[ms],Ts=powers[ws]-1,Rs=[];for(const Bs of vs){if(anumber(Bs),Bs>=Is)throw new Error(`convertRadix2: invalid data word=${Bs} from=${ms}`);if(Es=Es<<ms|Bs,_s+ms>32)throw new Error(`convertRadix2: carry overflow pos=${_s} from=${ms}`);for(_s+=ms;_s>=ws;_s-=ws)Rs.push((Es>>_s-ws&Ts)>>>0);const Ns=powers[_s];if(Ns===void 0)throw new Error("invalid carry");Es&=Ns-1}if(Es=Es<<ws-_s&Ts,!Ss&&_s>=ms)throw new Error("Excess padding");if(!Ss&&Es>0)throw new Error(`Non-zero padding: ${Es}`);return Ss&&_s>0&&Rs.push(Es>>>0),Rs}function radix2(vs,ms=!1){if(anumber(vs),vs<=0||vs>32)throw new Error("radix2: bits should be in (0..32]");if(radix2carry(8,vs)>32||radix2carry(vs,8)>32)throw new Error("radix2: carry overflow");return{encode:ws=>{if(!isBytes(ws))throw new Error("radix2.encode input should be Uint8Array");return convertRadix2(Array.from(ws),8,vs,!ms)},decode:ws=>(anumArr("radix2.decode",ws),Uint8Array.from(convertRadix2(ws,vs,8,ms)))}}const base32$2=chain(radix2(5),alphabet$1("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),padding(5),join(""));function asUint8Array(vs){return globalThis.Buffer!=null?new Uint8Array(vs.buffer,vs.byteOffset,vs.byteLength):vs}function allocUnsafe(vs=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?asUint8Array(globalThis.Buffer.allocUnsafe(vs)):new Uint8Array(vs)}function concat(vs,ms){ms||(ms=vs.reduce((Es,_s)=>Es+_s.length,0));const ws=allocUnsafe(ms);let Ss=0;for(const Es of vs)ws.set(Es,Ss),Ss+=Es.length;return asUint8Array(ws)}function base(vs,ms){if(vs.length>=255)throw new TypeError("Alphabet too long");for(var ws=new Uint8Array(256),Ss=0;Ss<ws.length;Ss++)ws[Ss]=255;for(var Es=0;Es<vs.length;Es++){var _s=vs.charAt(Es),Is=_s.charCodeAt(0);if(ws[Is]!==255)throw new TypeError(_s+" is ambiguous");ws[Is]=Es}var Ts=vs.length,Rs=vs.charAt(0),Bs=Math.log(Ts)/Math.log(256),Ns=Math.log(256)/Math.log(Ts);function Ws(wl){if(wl instanceof Uint8Array||(ArrayBuffer.isView(wl)?wl=new Uint8Array(wl.buffer,wl.byteOffset,wl.byteLength):Array.isArray(wl)&&(wl=Uint8Array.from(wl))),!(wl instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(wl.length===0)return"";for(var _l=0,Cl=0,Sl=0,El=wl.length;Sl!==El&&wl[Sl]===0;)Sl++,_l++;for(var xl=(El-Sl)*Ns+1>>>0,Ml=new Uint8Array(xl);Sl!==El;){for(var Vl=wl[Sl],Ul=0,_h=xl-1;(Vl!==0||Ul<Cl)&&_h!==-1;_h--,Ul++)Vl+=256*Ml[_h]>>>0,Ml[_h]=Vl%Ts>>>0,Vl=Vl/Ts>>>0;if(Vl!==0)throw new Error("Non-zero carry");Cl=Ul,Sl++}for(var nu=xl-Cl;nu!==xl&&Ml[nu]===0;)nu++;for(var su=Rs.repeat(_l);nu<xl;++nu)su+=vs.charAt(Ml[nu]);return su}function Js(wl){if(typeof wl!="string")throw new TypeError("Expected String");if(wl.length===0)return new Uint8Array;var _l=0;if(wl[_l]!==" "){for(var Cl=0,Sl=0;wl[_l]===Rs;)Cl++,_l++;for(var El=(wl.length-_l)*Bs+1>>>0,xl=new Uint8Array(El);wl[_l];){var Ml=ws[wl.charCodeAt(_l)];if(Ml===255)return;for(var Vl=0,Ul=El-1;(Ml!==0||Vl<Sl)&&Ul!==-1;Ul--,Vl++)Ml+=Ts*xl[Ul]>>>0,xl[Ul]=Ml%256>>>0,Ml=Ml/256>>>0;if(Ml!==0)throw new Error("Non-zero carry");Sl=Vl,_l++}if(wl[_l]!==" "){for(var _h=El-Sl;_h!==El&&xl[_h]===0;)_h++;for(var nu=new Uint8Array(Cl+(El-_h)),su=Cl;_h!==El;)nu[su++]=xl[_h++];return nu}}}function $l(wl){var _l=Js(wl);if(_l)return _l;throw new Error(`Non-${ms} character`)}return{encode:Ws,decodeUnsafe:Js,decode:$l}}var src=base,_brrp__multiformats_scope_baseX=src;const coerce=vs=>{if(vs instanceof Uint8Array&&vs.constructor.name==="Uint8Array")return vs;if(vs instanceof ArrayBuffer)return new Uint8Array(vs);if(ArrayBuffer.isView(vs))return new Uint8Array(vs.buffer,vs.byteOffset,vs.byteLength);throw new Error("Unknown type, must be binary type")},fromString$1=vs=>new TextEncoder().encode(vs),toString$2=vs=>new TextDecoder().decode(vs);class Encoder{constructor(ms,ws,Ss){this.name=ms,this.prefix=ws,this.baseEncode=Ss}encode(ms){if(ms instanceof Uint8Array)return`${this.prefix}${this.baseEncode(ms)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(ms,ws,Ss){if(this.name=ms,this.prefix=ws,ws.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=ws.codePointAt(0),this.baseDecode=Ss}decode(ms){if(typeof ms=="string"){if(ms.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(ms)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(ms.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(ms){return or$2(this,ms)}}class ComposedDecoder{constructor(ms){this.decoders=ms}or(ms){return or$2(this,ms)}decode(ms){const ws=ms[0],Ss=this.decoders[ws];if(Ss)return Ss.decode(ms);throw RangeError(`Unable to decode multibase string ${JSON.stringify(ms)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or$2=(vs,ms)=>new ComposedDecoder({...vs.decoders||{[vs.prefix]:vs},...ms.decoders||{[ms.prefix]:ms}});class Codec{constructor(ms,ws,Ss,Es){this.name=ms,this.prefix=ws,this.baseEncode=Ss,this.baseDecode=Es,this.encoder=new Encoder(ms,ws,Ss),this.decoder=new Decoder(ms,ws,Es)}encode(ms){return this.encoder.encode(ms)}decode(ms){return this.decoder.decode(ms)}}const from=({name:vs,prefix:ms,encode:ws,decode:Ss})=>new Codec(vs,ms,ws,Ss),baseX=({prefix:vs,name:ms,alphabet:ws})=>{const{encode:Ss,decode:Es}=_brrp__multiformats_scope_baseX(ws,ms);return from({prefix:vs,name:ms,encode:Ss,decode:_s=>coerce(Es(_s))})},decode$2=(vs,ms,ws,Ss)=>{const Es={};for(let Ns=0;Ns<ms.length;++Ns)Es[ms[Ns]]=Ns;let _s=vs.length;for(;vs[_s-1]==="=";)--_s;const Is=new Uint8Array(_s*ws/8|0);let Ts=0,Rs=0,Bs=0;for(let Ns=0;Ns<_s;++Ns){const Ws=Es[vs[Ns]];if(Ws===void 0)throw new SyntaxError(`Non-${Ss} character`);Rs=Rs<<ws|Ws,Ts+=ws,Ts>=8&&(Ts-=8,Is[Bs++]=255&Rs>>Ts)}if(Ts>=ws||255&Rs<<8-Ts)throw new SyntaxError("Unexpected end of data");return Is},encode$1=(vs,ms,ws)=>{const Ss=ms[ms.length-1]==="=",Es=(1<<ws)-1;let _s="",Is=0,Ts=0;for(let Rs=0;Rs<vs.length;++Rs)for(Ts=Ts<<8|vs[Rs],Is+=8;Is>ws;)Is-=ws,_s+=ms[Es&Ts>>Is];if(Is&&(_s+=ms[Es&Ts<<ws-Is]),Ss)for(;_s.length*ws&7;)_s+="=";return _s},rfc4648=({name:vs,prefix:ms,bitsPerChar:ws,alphabet:Ss})=>from({prefix:ms,name:vs,encode(Es){return encode$1(Es,Ss,ws)},decode(Es){return decode$2(Es,Ss,ws,vs)}}),identity=from({prefix:"\0",name:"identity",encode:vs=>toString$2(vs),decode:vs=>fromString$1(vs)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity},Symbol.toStringTag,{value:"Module"})),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$1=Object.freeze(Object.defineProperty({__proto__:null,base32,base32hex,base32hexpad,base32hexpadupper,base32hexupper,base32pad,base32padupper,base32upper,base32z},Symbol.toStringTag,{value:"Module"})),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"})),base64=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$1=Object.freeze(Object.defineProperty({__proto__:null,base64,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"})),alphabet=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),alphabetBytesToChars=alphabet.reduce((vs,ms,ws)=>(vs[ws]=ms,vs),[]),alphabetCharsToBytes=alphabet.reduce((vs,ms,ws)=>(vs[ms.codePointAt(0)]=ws,vs),[]);function encode(vs){return vs.reduce((ms,ws)=>(ms+=alphabetBytesToChars[ws],ms),"")}function decode$1(vs){const ms=[];for(const ws of vs){const Ss=alphabetCharsToBytes[ws.codePointAt(0)];if(Ss===void 0)throw new Error(`Non-base256emoji character: ${ws}`);ms.push(Ss)}return new Uint8Array(ms)}const base256emoji=from({prefix:"🚀",name:"base256emoji",encode,decode:decode$1}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"}));new TextEncoder,new TextDecoder;const bases={...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$1,...base36$1,...base58,...base64$1,...base256emoji$1};function createCodec(vs,ms,ws,Ss){return{name:vs,prefix:ms,encoder:{name:vs,prefix:ms,encode:ws},decoder:{decode:Ss}}}const string=createCodec("utf8","u",vs=>"u"+new TextDecoder("utf8").decode(vs),vs=>new TextEncoder().encode(vs.substring(1))),ascii=createCodec("ascii","a",vs=>{let ms="a";for(let ws=0;ws<vs.length;ws++)ms+=String.fromCharCode(vs[ws]);return ms},vs=>{vs=vs.substring(1);const ms=allocUnsafe(vs.length);for(let ws=0;ws<vs.length;ws++)ms[ws]=vs.charCodeAt(ws);return ms}),BASES={utf8:string,"utf-8":string,hex:bases.base16,latin1:ascii,ascii,binary:ascii,...bases};function fromString(vs,ms="utf8"){const ws=BASES[ms];if(!ws)throw new Error(`Unsupported encoding "${ms}"`);return(ms==="utf8"||ms==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array(globalThis.Buffer.from(vs,"utf-8")):ws.decoder.decode(`${ws.prefix}${vs}`)}function toString$1(vs,ms="utf8"){const ws=BASES[ms];if(!ws)throw new Error(`Unsupported encoding "${ms}"`);return(ms==="utf8"||ms==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(vs.buffer,vs.byteOffset,vs.byteLength).toString("utf8"):ws.encoder.encode(vs).substring(1)}const C$5={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},ERROR_MSG_INPUT="Input must be an string, Buffer or Uint8Array";function normalizeInput(vs){let ms;if(vs instanceof Uint8Array)ms=vs;else if(typeof vs=="string")ms=new TextEncoder().encode(vs);else throw new Error(ERROR_MSG_INPUT);return ms}function toHex(vs){return Array.prototype.map.call(vs,function(ms){return(ms<16?"0":"")+ms.toString(16)}).join("")}function uint32ToHex(vs){return(4294967296+vs).toString(16).substring(1)}function debugPrint(vs,ms,ws){let Ss=`
`+vs+" = ";for(let Es=0;Es<ms.length;Es+=2){if(ws===32)Ss+=uint32ToHex(ms[Es]).toUpperCase(),Ss+=" ",Ss+=uint32ToHex(ms[Es+1]).toUpperCase();else if(ws===64)Ss+=uint32ToHex(ms[Es+1]).toUpperCase(),Ss+=uint32ToHex(ms[Es]).toUpperCase();else throw new Error("Invalid size "+ws);Es%6===4?Ss+=`
`+new Array(vs.length+4).join(" "):Es<ms.length-2&&(Ss+=" ")}console.log(Ss)}function testSpeed(vs,ms,ws){let Ss=new Date().getTime();const Es=new Uint8Array(ms);for(let Is=0;Is<ms;Is++)Es[Is]=Is%256;const _s=new Date().getTime();console.log("Generated random input in "+(_s-Ss)+"ms"),Ss=_s;for(let Is=0;Is<ws;Is++){const Ts=vs(Es),Rs=new Date().getTime(),Bs=Rs-Ss;Ss=Rs,console.log("Hashed in "+Bs+"ms: "+Ts.substring(0,20)+"..."),console.log(Math.round(ms/(1<<20)/(Bs/1e3)*100)/100+" MB PER SECOND")}}var util$2={normalizeInput,toHex,debugPrint,testSpeed};const util$1=util$2;function ADD64AA(vs,ms,ws){const Ss=vs[ms]+vs[ws];let Es=vs[ms+1]+vs[ws+1];Ss>=4294967296&&Es++,vs[ms]=Ss,vs[ms+1]=Es}function ADD64AC(vs,ms,ws,Ss){let Es=vs[ms]+ws;ws<0&&(Es+=4294967296);let _s=vs[ms+1]+Ss;Es>=4294967296&&_s++,vs[ms]=Es,vs[ms+1]=_s}function B2B_GET32(vs,ms){return vs[ms]^vs[ms+1]<<8^vs[ms+2]<<16^vs[ms+3]<<24}function B2B_G(vs,ms,ws,Ss,Es,_s){const Is=m$5[Es],Ts=m$5[Es+1],Rs=m$5[_s],Bs=m$5[_s+1];ADD64AA(v$7,vs,ms),ADD64AC(v$7,vs,Is,Ts);let Ns=v$7[Ss]^v$7[vs],Ws=v$7[Ss+1]^v$7[vs+1];v$7[Ss]=Ws,v$7[Ss+1]=Ns,ADD64AA(v$7,ws,Ss),Ns=v$7[ms]^v$7[ws],Ws=v$7[ms+1]^v$7[ws+1],v$7[ms]=Ns>>>24^Ws<<8,v$7[ms+1]=Ws>>>24^Ns<<8,ADD64AA(v$7,vs,ms),ADD64AC(v$7,vs,Rs,Bs),Ns=v$7[Ss]^v$7[vs],Ws=v$7[Ss+1]^v$7[vs+1],v$7[Ss]=Ns>>>16^Ws<<16,v$7[Ss+1]=Ws>>>16^Ns<<16,ADD64AA(v$7,ws,Ss),Ns=v$7[ms]^v$7[ws],Ws=v$7[ms+1]^v$7[ws+1],v$7[ms]=Ws>>>31^Ns<<1,v$7[ms+1]=Ns>>>31^Ws<<1}const BLAKE2B_IV32=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),SIGMA8=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],SIGMA82=new Uint8Array(SIGMA8.map(function(vs){return vs*2})),v$7=new Uint32Array(32),m$5=new Uint32Array(32);function blake2bCompress(vs,ms){let ws=0;for(ws=0;ws<16;ws++)v$7[ws]=vs.h[ws],v$7[ws+16]=BLAKE2B_IV32[ws];for(v$7[24]=v$7[24]^vs.t,v$7[25]=v$7[25]^vs.t/4294967296,ms&&(v$7[28]=~v$7[28],v$7[29]=~v$7[29]),ws=0;ws<32;ws++)m$5[ws]=B2B_GET32(vs.b,4*ws);for(ws=0;ws<12;ws++)B2B_G(0,8,16,24,SIGMA82[ws*16+0],SIGMA82[ws*16+1]),B2B_G(2,10,18,26,SIGMA82[ws*16+2],SIGMA82[ws*16+3]),B2B_G(4,12,20,28,SIGMA82[ws*16+4],SIGMA82[ws*16+5]),B2B_G(6,14,22,30,SIGMA82[ws*16+6],SIGMA82[ws*16+7]),B2B_G(0,10,20,30,SIGMA82[ws*16+8],SIGMA82[ws*16+9]),B2B_G(2,12,22,24,SIGMA82[ws*16+10],SIGMA82[ws*16+11]),B2B_G(4,14,16,26,SIGMA82[ws*16+12],SIGMA82[ws*16+13]),B2B_G(6,8,18,28,SIGMA82[ws*16+14],SIGMA82[ws*16+15]);for(ws=0;ws<16;ws++)vs.h[ws]=vs.h[ws]^v$7[ws]^v$7[ws+16]}const parameterBlock=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function blake2bInit(vs,ms,ws,Ss){if(vs===0||vs>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(ms&&ms.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(ws&&ws.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(Ss&&Ss.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const Es={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:vs};parameterBlock.fill(0),parameterBlock[0]=vs,ms&&(parameterBlock[1]=ms.length),parameterBlock[2]=1,parameterBlock[3]=1,ws&&parameterBlock.set(ws,32),Ss&&parameterBlock.set(Ss,48);for(let _s=0;_s<16;_s++)Es.h[_s]=BLAKE2B_IV32[_s]^B2B_GET32(parameterBlock,_s*4);return ms&&(blake2bUpdate(Es,ms),Es.c=128),Es}function blake2bUpdate(vs,ms){for(let ws=0;ws<ms.length;ws++)vs.c===128&&(vs.t+=vs.c,blake2bCompress(vs,!1),vs.c=0),vs.b[vs.c++]=ms[ws]}function blake2bFinal(vs){for(vs.t+=vs.c;vs.c<128;)vs.b[vs.c++]=0;blake2bCompress(vs,!0);const ms=new Uint8Array(vs.outlen);for(let ws=0;ws<vs.outlen;ws++)ms[ws]=vs.h[ws>>2]>>8*(ws&3);return ms}function blake2b(vs,ms,ws,Ss,Es){ws=ws||64,vs=util$1.normalizeInput(vs),Ss&&(Ss=util$1.normalizeInput(Ss)),Es&&(Es=util$1.normalizeInput(Es));const _s=blake2bInit(ws,ms,Ss,Es);return blake2bUpdate(_s,vs),blake2bFinal(_s)}function blake2bHex(vs,ms,ws,Ss,Es){const _s=blake2b(vs,ms,ws,Ss,Es);return util$1.toHex(_s)}var blake2b_1={blake2b,blake2bHex,blake2bInit,blake2bUpdate,blake2bFinal};const util=util$2;function B2S_GET32(vs,ms){return vs[ms]^vs[ms+1]<<8^vs[ms+2]<<16^vs[ms+3]<<24}function B2S_G(vs,ms,ws,Ss,Es,_s){v$6[vs]=v$6[vs]+v$6[ms]+Es,v$6[Ss]=ROTR32(v$6[Ss]^v$6[vs],16),v$6[ws]=v$6[ws]+v$6[Ss],v$6[ms]=ROTR32(v$6[ms]^v$6[ws],12),v$6[vs]=v$6[vs]+v$6[ms]+_s,v$6[Ss]=ROTR32(v$6[Ss]^v$6[vs],8),v$6[ws]=v$6[ws]+v$6[Ss],v$6[ms]=ROTR32(v$6[ms]^v$6[ws],7)}function ROTR32(vs,ms){return vs>>>ms^vs<<32-ms}const BLAKE2S_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SIGMA=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),v$6=new Uint32Array(16),m$4=new Uint32Array(16);function blake2sCompress(vs,ms){let ws=0;for(ws=0;ws<8;ws++)v$6[ws]=vs.h[ws],v$6[ws+8]=BLAKE2S_IV[ws];for(v$6[12]^=vs.t,v$6[13]^=vs.t/4294967296,ms&&(v$6[14]=~v$6[14]),ws=0;ws<16;ws++)m$4[ws]=B2S_GET32(vs.b,4*ws);for(ws=0;ws<10;ws++)B2S_G(0,4,8,12,m$4[SIGMA[ws*16+0]],m$4[SIGMA[ws*16+1]]),B2S_G(1,5,9,13,m$4[SIGMA[ws*16+2]],m$4[SIGMA[ws*16+3]]),B2S_G(2,6,10,14,m$4[SIGMA[ws*16+4]],m$4[SIGMA[ws*16+5]]),B2S_G(3,7,11,15,m$4[SIGMA[ws*16+6]],m$4[SIGMA[ws*16+7]]),B2S_G(0,5,10,15,m$4[SIGMA[ws*16+8]],m$4[SIGMA[ws*16+9]]),B2S_G(1,6,11,12,m$4[SIGMA[ws*16+10]],m$4[SIGMA[ws*16+11]]),B2S_G(2,7,8,13,m$4[SIGMA[ws*16+12]],m$4[SIGMA[ws*16+13]]),B2S_G(3,4,9,14,m$4[SIGMA[ws*16+14]],m$4[SIGMA[ws*16+15]]);for(ws=0;ws<8;ws++)vs.h[ws]^=v$6[ws]^v$6[ws+8]}function blake2sInit(vs,ms){if(!(vs>0&&vs<=32))throw new Error("Incorrect output length, should be in [1, 32]");const ws=ms?ms.length:0;if(ms&&!(ws>0&&ws<=32))throw new Error("Incorrect key length, should be in [1, 32]");const Ss={h:new Uint32Array(BLAKE2S_IV),b:new Uint8Array(64),c:0,t:0,outlen:vs};return Ss.h[0]^=16842752^ws<<8^vs,ws>0&&(blake2sUpdate(Ss,ms),Ss.c=64),Ss}function blake2sUpdate(vs,ms){for(let ws=0;ws<ms.length;ws++)vs.c===64&&(vs.t+=vs.c,blake2sCompress(vs,!1),vs.c=0),vs.b[vs.c++]=ms[ws]}function blake2sFinal(vs){for(vs.t+=vs.c;vs.c<64;)vs.b[vs.c++]=0;blake2sCompress(vs,!0);const ms=new Uint8Array(vs.outlen);for(let ws=0;ws<vs.outlen;ws++)ms[ws]=vs.h[ws>>2]>>8*(ws&3)&255;return ms}function blake2s(vs,ms,ws){ws=ws||32,vs=util.normalizeInput(vs);const Ss=blake2sInit(ws,ms);return blake2sUpdate(Ss,vs),blake2sFinal(Ss)}function blake2sHex(vs,ms,ws){const Ss=blake2s(vs,ms,ws);return util.toHex(Ss)}var blake2s_1={blake2s,blake2sHex,blake2sInit,blake2sUpdate,blake2sFinal};const b2b=blake2b_1,b2s=blake2s_1;var blakejs={blake2b:b2b.blake2b,blake2bHex:b2b.blake2bHex,blake2bInit:b2b.blake2bInit,blake2bUpdate:b2b.blake2bUpdate,blake2bFinal:b2b.blake2bFinal,blake2s:b2s.blake2s,blake2sHex:b2s.blake2sHex,blake2sInit:b2s.blake2sInit,blake2sUpdate:b2s.blake2sUpdate,blake2sFinal:b2s.blake2sFinal};const xe=":";function Fe$1(vs){const[ms,ws]=vs.split(xe);return{namespace:ms,reference:ws}}function ve$1(vs,ms){return vs.includes(":")?[vs]:ms.chains||[]}var $s$1=Object.defineProperty,Cs$1=Object.defineProperties,Ls$1=Object.getOwnPropertyDescriptors,Jn$1=Object.getOwnPropertySymbols,js$1=Object.prototype.hasOwnProperty,ks$1=Object.prototype.propertyIsEnumerable,Ze$1=(vs,ms,ws)=>ms in vs?$s$1(vs,ms,{enumerable:!0,configurable:!0,writable:!0,value:ws}):vs[ms]=ws,Qn$1=(vs,ms)=>{for(var ws in ms||(ms={}))js$1.call(ms,ws)&&Ze$1(vs,ws,ms[ws]);if(Jn$1)for(var ws of Jn$1(ms))ks$1.call(ms,ws)&&Ze$1(vs,ws,ms[ws]);return vs},Ps=(vs,ms)=>Cs$1(vs,Ls$1(ms)),tr=(vs,ms,ws)=>Ze$1(vs,typeof ms!="symbol"?ms+"":ms,ws);const er="ReactNative",J$4={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},rr$1="js";function Ye$1(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Bt$2(){return!getDocument_1()&&!!getNavigator_1$1()&&navigator.product===er}function Ms$1(){return Bt$2()&&typeof window<"u"&&typeof(window==null?void 0:window.Platform)<"u"&&(window==null?void 0:window.Platform.OS)==="android"}function Vs$1(){return Bt$2()&&typeof window<"u"&&typeof(window==null?void 0:window.Platform)<"u"&&(window==null?void 0:window.Platform.OS)==="ios"}function zt$1(){return!Ye$1()&&!!getNavigator_1$1()&&!!getDocument_1()}function Pt$2(){return Bt$2()?J$4.reactNative:Ye$1()?J$4.node:zt$1()?J$4.browser:J$4.unknown}function qs(){var vs;try{return Bt$2()&&typeof window<"u"&&typeof(window==null?void 0:window.Application)<"u"?(vs=window.Application)==null?void 0:vs.applicationId:void 0}catch{return}}function or$1(vs,ms){const ws=new URLSearchParams(vs);for(const Ss of Object.keys(ms).sort())if(ms.hasOwnProperty(Ss)){const Es=ms[Ss];Es!==void 0&&ws.set(Ss,Es)}return ws.toString()}function Ks$1(vs){var ms,ws;const Ss=sr();try{return vs!=null&&vs.url&&Ss.url&&new URL(vs.url).host!==new URL(Ss.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${vs.url} differs from the actual page url:${Ss.url}. This is probably unintended and can lead to issues.`),vs.url=Ss.url),(ms=vs==null?void 0:vs.icons)!=null&&ms.length&&vs.icons.length>0&&(vs.icons=vs.icons.filter(Es=>Es!=="")),Ps(Qn$1(Qn$1({},Ss),vs),{url:(vs==null?void 0:vs.url)||Ss.url,name:(vs==null?void 0:vs.name)||Ss.name,description:(vs==null?void 0:vs.description)||Ss.description,icons:(ws=vs==null?void 0:vs.icons)!=null&&ws.length&&vs.icons.length>0?vs.icons:Ss.icons})}catch(Es){return console.warn("Error populating app metadata",Es),vs||Ss}}function sr(){return getWindowMetadata_1$1()||{name:"",description:"",url:"",icons:[""]}}function ir$1(){if(Pt$2()===J$4.reactNative&&typeof window<"u"&&typeof(window==null?void 0:window.Platform)<"u"){const{OS:ws,Version:Ss}=window.Platform;return[ws,Ss].join("-")}const vs=detect$1();if(vs===null)return"unknown";const ms=vs.os?vs.os.replace(" ","").toLowerCase():"unknown";return vs.type==="browser"?[ms,vs.name,vs.version].join("-"):[ms,vs.version].join("-")}function fr$1(){var vs;const ms=Pt$2();return ms===J$4.browser?[ms,((vs=getLocation_1$1())==null?void 0:vs.host)||"unknown"].join(":"):ms}function cr$1(vs,ms,ws){const Ss=ir$1(),Es=fr$1();return[[vs,ms].join("-"),[rr$1,ws].join("-"),Ss,Es].join("/")}function zs({protocol:vs,version:ms,relayUrl:ws,sdkVersion:Ss,auth:Es,projectId:_s,useOnCloseEvent:Is,bundleId:Ts,packageName:Rs}){const Bs=ws.split("?"),Ns=cr$1(vs,ms,Ss),Ws={auth:Es,ua:Ns,projectId:_s,useOnCloseEvent:Is,packageName:Rs||void 0,bundleId:Ts||void 0},Js=or$1(Bs[1]||"",Ws);return Bs[0]+"?"+Js}function It$3(vs,ms){return vs.filter(ws=>ms.includes(ws)).length===vs.length}function Ys(vs){return Object.fromEntries(vs.entries())}function Xs(vs){return new Map(Object.entries(vs))}function ei$1(vs=cjs$5.FIVE_MINUTES,ms){const ws=cjs$5.toMiliseconds(vs||cjs$5.FIVE_MINUTES);let Ss,Es,_s,Is;return{resolve:Ts=>{_s&&Ss&&(clearTimeout(_s),Ss(Ts),Is=Promise.resolve(Ts))},reject:Ts=>{_s&&Es&&(clearTimeout(_s),Es(Ts))},done:()=>new Promise((Ts,Rs)=>{if(Is)return Ts(Is);_s=setTimeout(()=>{const Bs=new Error(ms);Is=Promise.reject(Bs),Rs(Bs)},ws),Ss=Ts,Es=Rs})}}function ni$1(vs,ms,ws){return new Promise(async(Ss,Es)=>{const _s=setTimeout(()=>Es(new Error(ws)),ms);try{const Is=await vs;Ss(Is)}catch(Is){Es(Is)}clearTimeout(_s)})}function Xe$1(vs,ms){if(typeof ms=="string"&&ms.startsWith(`${vs}:`))return ms;if(vs.toLowerCase()==="topic"){if(typeof ms!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${ms}`}else if(vs.toLowerCase()==="id"){if(typeof ms!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${ms}`}throw new Error(`Unknown expirer target type: ${vs}`)}function ri$1(vs){return Xe$1("topic",vs)}function oi$1(vs){return Xe$1("id",vs)}function si$1(vs){const[ms,ws]=vs.split(":"),Ss={id:void 0,topic:void 0};if(ms==="topic"&&typeof ws=="string")Ss.topic=ws;else if(ms==="id"&&Number.isInteger(Number(ws)))Ss.id=Number(ws);else throw new Error(`Invalid target, expected id:number or topic:string, got ${ms}:${ws}`);return Ss}function ii$1(vs,ms){return cjs$5.fromMiliseconds(Date.now()+cjs$5.toMiliseconds(vs))}function fi$1(vs){return Date.now()>=cjs$5.toMiliseconds(vs)}function ci$1(vs,ms){return`${vs}${ms?`:${ms}`:""}`}function ct$1(vs=[],ms=[]){return[...new Set([...vs,...ms])]}async function ai$1({id:vs,topic:ms,wcDeepLink:ws}){var Ss;try{if(!ws)return;const Es=typeof ws=="string"?JSON.parse(ws):ws,_s=Es==null?void 0:Es.href;if(typeof _s!="string")return;const Is=dr$1(_s,vs,ms),Ts=Pt$2();if(Ts===J$4.browser){if(!((Ss=getDocument_1())!=null&&Ss.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}hr$1(Is)}else Ts===J$4.reactNative&&typeof(window==null?void 0:window.Linking)<"u"&&await window.Linking.openURL(Is)}catch(Es){console.error(Es)}}function dr$1(vs,ms,ws){const Ss=`requestId=${ms}&sessionTopic=${ws}`;vs.endsWith("/")&&(vs=vs.slice(0,-1));let Es=`${vs}`;if(vs.startsWith("https://t.me")){const _s=vs.includes("?")?"&startapp=":"?startapp=";Es=`${Es}${_s}${br$1(Ss,!0)}`}else Es=`${Es}/wc?${Ss}`;return Es}function hr$1(vs){let ms="_self";gr$1()?ms="_top":(pr$1()||vs.startsWith("https://")||vs.startsWith("http://"))&&(ms="_blank"),window.open(vs,ms,"noreferrer noopener")}async function ui$1(vs,ms){let ws="";try{if(zt$1()&&(ws=localStorage.getItem(ms),ws))return ws;ws=await vs.getItem(ms)}catch(Ss){console.error(Ss)}return ws}function li$1(vs,ms){if(!vs.includes(ms))return null;const ws=vs.split(/([&,?,=])/),Ss=ws.indexOf(ms);return ws[Ss+2]}function di$1(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,vs=>{const ms=Math.random()*16|0;return(vs==="x"?ms:ms&3|8).toString(16)})}function hi$1(){return typeof process<"u"&&process.env.IS_VITEST==="true"}function pr$1(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function gr$1(){try{return window.self!==window.top}catch{return!1}}function br$1(vs,ms=!1){const ws=Buffer.from(vs).toString("base64");return ms?ws.replace(/[=]/g,""):ws}function Qe$1(vs){return Buffer.from(vs,"base64").toString("utf-8")}function pi$1(vs){return new Promise(ms=>setTimeout(ms,vs))}let gi$1=class{constructor({limit:ms}){tr(this,"limit"),tr(this,"set"),this.limit=ms,this.set=new Set}add(ms){if(!this.set.has(ms)){if(this.set.size>=this.limit){const ws=this.set.values().next().value;ws&&this.set.delete(ws)}this.set.add(ms)}}has(ms){return this.set.has(ms)}};const Be$1=BigInt(2**32-1),yr$1=BigInt(32);function mr$1(vs,ms=!1){return ms?{h:Number(vs&Be$1),l:Number(vs>>yr$1&Be$1)}:{h:Number(vs>>yr$1&Be$1)|0,l:Number(vs&Be$1)|0}}function wr$1(vs,ms=!1){const ws=vs.length;let Ss=new Uint32Array(ws),Es=new Uint32Array(ws);for(let _s=0;_s<ws;_s++){const{h:Is,l:Ts}=mr$1(vs[_s],ms);[Ss[_s],Es[_s]]=[Is,Ts]}return[Ss,Es]}const xr$1=(vs,ms,ws)=>vs>>>ws,vr$1=(vs,ms,ws)=>vs<<32-ws|ms>>>ws,At$2=(vs,ms,ws)=>vs>>>ws|ms<<32-ws,St$3=(vs,ms,ws)=>vs<<32-ws|ms>>>ws,se=(vs,ms,ws)=>vs<<64-ws|ms>>>ws-32,ie=(vs,ms,ws)=>vs>>>ws-32|ms<<64-ws,bi$1=(vs,ms)=>ms,yi$1=(vs,ms)=>vs,mi$1=(vs,ms,ws)=>vs<<ws|ms>>>32-ws,wi$1=(vs,ms,ws)=>ms<<ws|vs>>>32-ws,xi$1=(vs,ms,ws)=>ms<<ws-32|vs>>>64-ws,vi$1=(vs,ms,ws)=>vs<<ws-32|ms>>>64-ws;function dt$2(vs,ms,ws,Ss){const Es=(ms>>>0)+(Ss>>>0);return{h:vs+ws+(Es/2**32|0)|0,l:Es|0}}const tn$2=(vs,ms,ws)=>(vs>>>0)+(ms>>>0)+(ws>>>0),en$2=(vs,ms,ws,Ss)=>ms+ws+Ss+(vs/2**32|0)|0,Ei$1=(vs,ms,ws,Ss)=>(vs>>>0)+(ms>>>0)+(ws>>>0)+(Ss>>>0),Bi$1=(vs,ms,ws,Ss,Es)=>ms+ws+Ss+Es+(vs/2**32|0)|0,Ii$1=(vs,ms,ws,Ss,Es)=>(vs>>>0)+(ms>>>0)+(ws>>>0)+(Ss>>>0)+(Es>>>0),Ai$1=(vs,ms,ws,Ss,Es,_s)=>ms+ws+Ss+Es+_s+(vs/2**32|0)|0,Gt$1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function nn$1(vs){return vs instanceof Uint8Array||ArrayBuffer.isView(vs)&&vs.constructor.name==="Uint8Array"}function mt$2(vs){if(!Number.isSafeInteger(vs)||vs<0)throw new Error("positive integer expected, got "+vs)}function at$1(vs,...ms){if(!nn$1(vs))throw new Error("Uint8Array expected");if(ms.length>0&&!ms.includes(vs.length))throw new Error("Uint8Array expected of length "+ms+", got length="+vs.length)}function rn$1(vs){if(typeof vs!="function"||typeof vs.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");mt$2(vs.outputLen),mt$2(vs.blockLen)}function Nt$2(vs,ms=!0){if(vs.destroyed)throw new Error("Hash instance has been destroyed");if(ms&&vs.finished)throw new Error("Hash#digest() has already been called")}function on$2(vs,ms){at$1(vs);const ws=ms.outputLen;if(vs.length<ws)throw new Error("digestInto() expects output buffer of length at least "+ws)}function fe$2(vs){return new Uint32Array(vs.buffer,vs.byteOffset,Math.floor(vs.byteLength/4))}function ut$2(...vs){for(let ms=0;ms<vs.length;ms++)vs[ms].fill(0)}function sn$1(vs){return new DataView(vs.buffer,vs.byteOffset,vs.byteLength)}function gt$2(vs,ms){return vs<<32-ms|vs>>>ms}const Er$1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Br$1(vs){return vs<<24&4278190080|vs<<8&16711680|vs>>>8&65280|vs>>>24&255}const wt$2=Er$1?vs=>vs:vs=>Br$1(vs);function Si$1(vs){for(let ms=0;ms<vs.length;ms++)vs[ms]=Br$1(vs[ms]);return vs}const Ot$2=Er$1?vs=>vs:Si$1,Ir$1=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Ni$1=Array.from({length:256},(vs,ms)=>ms.toString(16).padStart(2,"0"));function ce$1(vs){if(at$1(vs),Ir$1)return vs.toHex();let ms="";for(let ws=0;ws<vs.length;ws++)ms+=Ni$1[vs[ws]];return ms}const xt$2={_0:48,_9:57,A:65,F:70,a:97,f:102};function Ar$1(vs){if(vs>=xt$2._0&&vs<=xt$2._9)return vs-xt$2._0;if(vs>=xt$2.A&&vs<=xt$2.F)return vs-(xt$2.A-10);if(vs>=xt$2.a&&vs<=xt$2.f)return vs-(xt$2.a-10)}function fn$1(vs){if(typeof vs!="string")throw new Error("hex string expected, got "+typeof vs);if(Ir$1)return Uint8Array.fromHex(vs);const ms=vs.length,ws=ms/2;if(ms%2)throw new Error("hex string expected, got unpadded hex of length "+ms);const Ss=new Uint8Array(ws);for(let Es=0,_s=0;Es<ws;Es++,_s+=2){const Is=Ar$1(vs.charCodeAt(_s)),Ts=Ar$1(vs.charCodeAt(_s+1));if(Is===void 0||Ts===void 0){const Rs=vs[_s]+vs[_s+1];throw new Error('hex string expected, got non-hex character "'+Rs+'" at index '+_s)}Ss[Es]=Is*16+Ts}return Ss}function Oi$1(vs){if(typeof vs!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(vs))}function ht$1(vs){return typeof vs=="string"&&(vs=Oi$1(vs)),at$1(vs),vs}function Ht$1(...vs){let ms=0;for(let Ss=0;Ss<vs.length;Ss++){const Es=vs[Ss];at$1(Es),ms+=Es.length}const ws=new Uint8Array(ms);for(let Ss=0,Es=0;Ss<vs.length;Ss++){const _s=vs[Ss];ws.set(_s,Es),Es+=_s.length}return ws}class Ie{}function ae$2(vs){const ms=Ss=>vs().update(ht$1(Ss)).digest(),ws=vs();return ms.outputLen=ws.outputLen,ms.blockLen=ws.blockLen,ms.create=()=>vs(),ms}function Ui$1(vs){const ms=(Ss,Es)=>vs(Es).update(ht$1(Ss)).digest(),ws=vs({});return ms.outputLen=ws.outputLen,ms.blockLen=ws.blockLen,ms.create=Ss=>vs(Ss),ms}function Zt$1(vs=32){if(Gt$1&&typeof Gt$1.getRandomValues=="function")return Gt$1.getRandomValues(new Uint8Array(vs));if(Gt$1&&typeof Gt$1.randomBytes=="function")return Uint8Array.from(Gt$1.randomBytes(vs));throw new Error("crypto.getRandomValues must be defined")}const _i$1=BigInt(0),ue=BigInt(1),Ti$1=BigInt(2),Ri$1=BigInt(7),$i$1=BigInt(256),Ci$1=BigInt(113),Sr$1=[],Nr$1=[],Or$1=[];for(let vs=0,ms=ue,ws=1,Ss=0;vs<24;vs++){[ws,Ss]=[Ss,(2*ws+3*Ss)%5],Sr$1.push(2*(5*Ss+ws)),Nr$1.push((vs+1)*(vs+2)/2%64);let Es=_i$1;for(let _s=0;_s<7;_s++)ms=(ms<<ue^(ms>>Ri$1)*Ci$1)%$i$1,ms&Ti$1&&(Es^=ue<<(ue<<BigInt(_s))-ue);Or$1.push(Es)}const Ur$1=wr$1(Or$1,!0),Li$1=Ur$1[0],ji$1=Ur$1[1],_r$1=(vs,ms,ws)=>ws>32?xi$1(vs,ms,ws):mi$1(vs,ms,ws),Tr$1=(vs,ms,ws)=>ws>32?vi$1(vs,ms,ws):wi$1(vs,ms,ws);function ki$1(vs,ms=24){const ws=new Uint32Array(10);for(let Ss=24-ms;Ss<24;Ss++){for(let Is=0;Is<10;Is++)ws[Is]=vs[Is]^vs[Is+10]^vs[Is+20]^vs[Is+30]^vs[Is+40];for(let Is=0;Is<10;Is+=2){const Ts=(Is+8)%10,Rs=(Is+2)%10,Bs=ws[Rs],Ns=ws[Rs+1],Ws=_r$1(Bs,Ns,1)^ws[Ts],Js=Tr$1(Bs,Ns,1)^ws[Ts+1];for(let $l=0;$l<50;$l+=10)vs[Is+$l]^=Ws,vs[Is+$l+1]^=Js}let Es=vs[2],_s=vs[3];for(let Is=0;Is<24;Is++){const Ts=Nr$1[Is],Rs=_r$1(Es,_s,Ts),Bs=Tr$1(Es,_s,Ts),Ns=Sr$1[Is];Es=vs[Ns],_s=vs[Ns+1],vs[Ns]=Rs,vs[Ns+1]=Bs}for(let Is=0;Is<50;Is+=10){for(let Ts=0;Ts<10;Ts++)ws[Ts]=vs[Is+Ts];for(let Ts=0;Ts<10;Ts++)vs[Is+Ts]^=~ws[(Ts+2)%10]&ws[(Ts+4)%10]}vs[0]^=Li$1[Ss],vs[1]^=ji$1[Ss]}ut$2(ws)}let qn$1=class W1 extends Ie{constructor(ms,ws,Ss,Es=!1,_s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=ms,this.suffix=ws,this.outputLen=Ss,this.enableXOF=Es,this.rounds=_s,mt$2(Ss),!(0<ms&&ms<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=fe$2(this.state)}clone(){return this._cloneInto()}keccak(){Ot$2(this.state32),ki$1(this.state32,this.rounds),Ot$2(this.state32),this.posOut=0,this.pos=0}update(ms){Nt$2(this),ms=ht$1(ms),at$1(ms);const{blockLen:ws,state:Ss}=this,Es=ms.length;for(let _s=0;_s<Es;){const Is=Math.min(ws-this.pos,Es-_s);for(let Ts=0;Ts<Is;Ts++)Ss[this.pos++]^=ms[_s++];this.pos===ws&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:ms,suffix:ws,pos:Ss,blockLen:Es}=this;ms[Ss]^=ws,ws&128&&Ss===Es-1&&this.keccak(),ms[Es-1]^=128,this.keccak()}writeInto(ms){Nt$2(this,!1),at$1(ms),this.finish();const ws=this.state,{blockLen:Ss}=this;for(let Es=0,_s=ms.length;Es<_s;){this.posOut>=Ss&&this.keccak();const Is=Math.min(Ss-this.posOut,_s-Es);ms.set(ws.subarray(this.posOut,this.posOut+Is),Es),this.posOut+=Is,Es+=Is}return ms}xofInto(ms){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(ms)}xof(ms){return mt$2(ms),this.xofInto(new Uint8Array(ms))}digestInto(ms){if(on$2(ms,this),this.finished)throw new Error("digest() was already called");return this.writeInto(ms),this.destroy(),ms}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ut$2(this.state)}_cloneInto(ms){const{blockLen:ws,suffix:Ss,outputLen:Es,rounds:_s,enableXOF:Is}=this;return ms||(ms=new W1(ws,Ss,Es,Is,_s)),ms.state32.set(this.state32),ms.pos=this.pos,ms.posOut=this.posOut,ms.finished=this.finished,ms.rounds=_s,ms.suffix=Ss,ms.outputLen=Es,ms.enableXOF=Is,ms.destroyed=this.destroyed,ms}};const Pi$1=(vs,ms,ws)=>ae$2(()=>new qn$1(ms,vs,ws)),Hi$1=Pi$1(1,136,256/8);function Di$1(vs,ms,ws,Ss){if(typeof vs.setBigUint64=="function")return vs.setBigUint64(ms,ws,Ss);const Es=BigInt(32),_s=BigInt(4294967295),Is=Number(ws>>Es&_s),Ts=Number(ws&_s),Rs=Ss?4:0,Bs=Ss?0:4;vs.setUint32(ms+Rs,Is,Ss),vs.setUint32(ms+Bs,Ts,Ss)}function Mi$1(vs,ms,ws){return vs&ms^~vs&ws}function Vi$1(vs,ms,ws){return vs&ms^vs&ws^ms&ws}let Rr$1=class extends Ie{constructor(ms,ws,Ss,Es){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=ms,this.outputLen=ws,this.padOffset=Ss,this.isLE=Es,this.buffer=new Uint8Array(ms),this.view=sn$1(this.buffer)}update(ms){Nt$2(this),ms=ht$1(ms),at$1(ms);const{view:ws,buffer:Ss,blockLen:Es}=this,_s=ms.length;for(let Is=0;Is<_s;){const Ts=Math.min(Es-this.pos,_s-Is);if(Ts===Es){const Rs=sn$1(ms);for(;Es<=_s-Is;Is+=Es)this.process(Rs,Is);continue}Ss.set(ms.subarray(Is,Is+Ts),this.pos),this.pos+=Ts,Is+=Ts,this.pos===Es&&(this.process(ws,0),this.pos=0)}return this.length+=ms.length,this.roundClean(),this}digestInto(ms){Nt$2(this),on$2(ms,this),this.finished=!0;const{buffer:ws,view:Ss,blockLen:Es,isLE:_s}=this;let{pos:Is}=this;ws[Is++]=128,ut$2(this.buffer.subarray(Is)),this.padOffset>Es-Is&&(this.process(Ss,0),Is=0);for(let Ws=Is;Ws<Es;Ws++)ws[Ws]=0;Di$1(Ss,Es-8,BigInt(this.length*8),_s),this.process(Ss,0);const Ts=sn$1(ms),Rs=this.outputLen;if(Rs%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const Bs=Rs/4,Ns=this.get();if(Bs>Ns.length)throw new Error("_sha2: outputLen bigger than state");for(let Ws=0;Ws<Bs;Ws++)Ts.setUint32(4*Ws,Ns[Ws],_s)}digest(){const{buffer:ms,outputLen:ws}=this;this.digestInto(ms);const Ss=ms.slice(0,ws);return this.destroy(),Ss}_cloneInto(ms){ms||(ms=new this.constructor),ms.set(...this.get());const{blockLen:ws,buffer:Ss,length:Es,finished:_s,destroyed:Is,pos:Ts}=this;return ms.destroyed=Is,ms.finished=_s,ms.length=Es,ms.pos=Ts,Es%ws&&ms.buffer.set(Ss),ms}clone(){return this._cloneInto()}};const Ut$2=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),W$4=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Y$4=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),qi$1=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),_t$2=new Uint32Array(64);let Ki$1=class extends Rr$1{constructor(ms=32){super(64,ms,8,!1),this.A=Ut$2[0]|0,this.B=Ut$2[1]|0,this.C=Ut$2[2]|0,this.D=Ut$2[3]|0,this.E=Ut$2[4]|0,this.F=Ut$2[5]|0,this.G=Ut$2[6]|0,this.H=Ut$2[7]|0}get(){const{A:ms,B:ws,C:Ss,D:Es,E:_s,F:Is,G:Ts,H:Rs}=this;return[ms,ws,Ss,Es,_s,Is,Ts,Rs]}set(ms,ws,Ss,Es,_s,Is,Ts,Rs){this.A=ms|0,this.B=ws|0,this.C=Ss|0,this.D=Es|0,this.E=_s|0,this.F=Is|0,this.G=Ts|0,this.H=Rs|0}process(ms,ws){for(let Ws=0;Ws<16;Ws++,ws+=4)_t$2[Ws]=ms.getUint32(ws,!1);for(let Ws=16;Ws<64;Ws++){const Js=_t$2[Ws-15],$l=_t$2[Ws-2],wl=gt$2(Js,7)^gt$2(Js,18)^Js>>>3,_l=gt$2($l,17)^gt$2($l,19)^$l>>>10;_t$2[Ws]=_l+_t$2[Ws-7]+wl+_t$2[Ws-16]|0}let{A:Ss,B:Es,C:_s,D:Is,E:Ts,F:Rs,G:Bs,H:Ns}=this;for(let Ws=0;Ws<64;Ws++){const Js=gt$2(Ts,6)^gt$2(Ts,11)^gt$2(Ts,25),$l=Ns+Js+Mi$1(Ts,Rs,Bs)+qi$1[Ws]+_t$2[Ws]|0,wl=(gt$2(Ss,2)^gt$2(Ss,13)^gt$2(Ss,22))+Vi$1(Ss,Es,_s)|0;Ns=Bs,Bs=Rs,Rs=Ts,Ts=Is+$l|0,Is=_s,_s=Es,Es=Ss,Ss=$l+wl|0}Ss=Ss+this.A|0,Es=Es+this.B|0,_s=_s+this.C|0,Is=Is+this.D|0,Ts=Ts+this.E|0,Rs=Rs+this.F|0,Bs=Bs+this.G|0,Ns=Ns+this.H|0,this.set(Ss,Es,_s,Is,Ts,Rs,Bs,Ns)}roundClean(){ut$2(_t$2)}destroy(){this.set(0,0,0,0,0,0,0,0),ut$2(this.buffer)}};const $r$1=wr$1(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(vs=>BigInt(vs))),Fi$1=$r$1[0],zi$1=$r$1[1],Tt$2=new Uint32Array(80),Rt$3=new Uint32Array(80);let cn$1=class extends Rr$1{constructor(ms=64){super(128,ms,16,!1),this.Ah=Y$4[0]|0,this.Al=Y$4[1]|0,this.Bh=Y$4[2]|0,this.Bl=Y$4[3]|0,this.Ch=Y$4[4]|0,this.Cl=Y$4[5]|0,this.Dh=Y$4[6]|0,this.Dl=Y$4[7]|0,this.Eh=Y$4[8]|0,this.El=Y$4[9]|0,this.Fh=Y$4[10]|0,this.Fl=Y$4[11]|0,this.Gh=Y$4[12]|0,this.Gl=Y$4[13]|0,this.Hh=Y$4[14]|0,this.Hl=Y$4[15]|0}get(){const{Ah:ms,Al:ws,Bh:Ss,Bl:Es,Ch:_s,Cl:Is,Dh:Ts,Dl:Rs,Eh:Bs,El:Ns,Fh:Ws,Fl:Js,Gh:$l,Gl:wl,Hh:_l,Hl:Cl}=this;return[ms,ws,Ss,Es,_s,Is,Ts,Rs,Bs,Ns,Ws,Js,$l,wl,_l,Cl]}set(ms,ws,Ss,Es,_s,Is,Ts,Rs,Bs,Ns,Ws,Js,$l,wl,_l,Cl){this.Ah=ms|0,this.Al=ws|0,this.Bh=Ss|0,this.Bl=Es|0,this.Ch=_s|0,this.Cl=Is|0,this.Dh=Ts|0,this.Dl=Rs|0,this.Eh=Bs|0,this.El=Ns|0,this.Fh=Ws|0,this.Fl=Js|0,this.Gh=$l|0,this.Gl=wl|0,this.Hh=_l|0,this.Hl=Cl|0}process(ms,ws){for(let xl=0;xl<16;xl++,ws+=4)Tt$2[xl]=ms.getUint32(ws),Rt$3[xl]=ms.getUint32(ws+=4);for(let xl=16;xl<80;xl++){const Ml=Tt$2[xl-15]|0,Vl=Rt$3[xl-15]|0,Ul=At$2(Ml,Vl,1)^At$2(Ml,Vl,8)^xr$1(Ml,Vl,7),_h=St$3(Ml,Vl,1)^St$3(Ml,Vl,8)^vr$1(Ml,Vl,7),nu=Tt$2[xl-2]|0,su=Rt$3[xl-2]|0,Jl=At$2(nu,su,19)^se(nu,su,61)^xr$1(nu,su,6),Il=St$3(nu,su,19)^ie(nu,su,61)^vr$1(nu,su,6),Nl=Ei$1(_h,Il,Rt$3[xl-7],Rt$3[xl-16]),Ol=Bi$1(Nl,Ul,Jl,Tt$2[xl-7],Tt$2[xl-16]);Tt$2[xl]=Ol|0,Rt$3[xl]=Nl|0}let{Ah:Ss,Al:Es,Bh:_s,Bl:Is,Ch:Ts,Cl:Rs,Dh:Bs,Dl:Ns,Eh:Ws,El:Js,Fh:$l,Fl:wl,Gh:_l,Gl:Cl,Hh:Sl,Hl:El}=this;for(let xl=0;xl<80;xl++){const Ml=At$2(Ws,Js,14)^At$2(Ws,Js,18)^se(Ws,Js,41),Vl=St$3(Ws,Js,14)^St$3(Ws,Js,18)^ie(Ws,Js,41),Ul=Ws&$l^~Ws&_l,_h=Js&wl^~Js&Cl,nu=Ii$1(El,Vl,_h,zi$1[xl],Rt$3[xl]),su=Ai$1(nu,Sl,Ml,Ul,Fi$1[xl],Tt$2[xl]),Jl=nu|0,Il=At$2(Ss,Es,28)^se(Ss,Es,34)^se(Ss,Es,39),Nl=St$3(Ss,Es,28)^ie(Ss,Es,34)^ie(Ss,Es,39),Ol=Ss&_s^Ss&Ts^_s&Ts,Gl=Es&Is^Es&Rs^Is&Rs;Sl=_l|0,El=Cl|0,_l=$l|0,Cl=wl|0,$l=Ws|0,wl=Js|0,{h:Ws,l:Js}=dt$2(Bs|0,Ns|0,su|0,Jl|0),Bs=Ts|0,Ns=Rs|0,Ts=_s|0,Rs=Is|0,_s=Ss|0,Is=Es|0;const Fl=tn$2(Jl,Nl,Gl);Ss=en$2(Fl,su,Il,Ol),Es=Fl|0}({h:Ss,l:Es}=dt$2(this.Ah|0,this.Al|0,Ss|0,Es|0)),{h:_s,l:Is}=dt$2(this.Bh|0,this.Bl|0,_s|0,Is|0),{h:Ts,l:Rs}=dt$2(this.Ch|0,this.Cl|0,Ts|0,Rs|0),{h:Bs,l:Ns}=dt$2(this.Dh|0,this.Dl|0,Bs|0,Ns|0),{h:Ws,l:Js}=dt$2(this.Eh|0,this.El|0,Ws|0,Js|0),{h:$l,l:wl}=dt$2(this.Fh|0,this.Fl|0,$l|0,wl|0),{h:_l,l:Cl}=dt$2(this.Gh|0,this.Gl|0,_l|0,Cl|0),{h:Sl,l:El}=dt$2(this.Hh|0,this.Hl|0,Sl|0,El|0),this.set(Ss,Es,_s,Is,Ts,Rs,Bs,Ns,Ws,Js,$l,wl,_l,Cl,Sl,El)}roundClean(){ut$2(Tt$2,Rt$3)}destroy(){ut$2(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Gi$1=class extends cn$1{constructor(){super(48),this.Ah=W$4[0]|0,this.Al=W$4[1]|0,this.Bh=W$4[2]|0,this.Bl=W$4[3]|0,this.Ch=W$4[4]|0,this.Cl=W$4[5]|0,this.Dh=W$4[6]|0,this.Dl=W$4[7]|0,this.Eh=W$4[8]|0,this.El=W$4[9]|0,this.Fh=W$4[10]|0,this.Fl=W$4[11]|0,this.Gh=W$4[12]|0,this.Gl=W$4[13]|0,this.Hh=W$4[14]|0,this.Hl=W$4[15]|0}};const X$4=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class Zi extends cn$1{constructor(){super(32),this.Ah=X$4[0]|0,this.Al=X$4[1]|0,this.Bh=X$4[2]|0,this.Bl=X$4[3]|0,this.Ch=X$4[4]|0,this.Cl=X$4[5]|0,this.Dh=X$4[6]|0,this.Dl=X$4[7]|0,this.Eh=X$4[8]|0,this.El=X$4[9]|0,this.Fh=X$4[10]|0,this.Fl=X$4[11]|0,this.Gh=X$4[12]|0,this.Gl=X$4[13]|0,this.Hh=X$4[14]|0,this.Hl=X$4[15]|0}}const Ae=ae$2(()=>new Ki$1),Wi$1=ae$2(()=>new cn$1),Yi$1=ae$2(()=>new Gi$1),Xi=ae$2(()=>new Zi),Ji=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),F$4=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),N$5=new Uint32Array(32);function $t$1(vs,ms,ws,Ss,Es,_s){const Is=Es[_s],Ts=Es[_s+1];let Rs=N$5[2*vs],Bs=N$5[2*vs+1],Ns=N$5[2*ms],Ws=N$5[2*ms+1],Js=N$5[2*ws],$l=N$5[2*ws+1],wl=N$5[2*Ss],_l=N$5[2*Ss+1],Cl=tn$2(Rs,Ns,Is);Bs=en$2(Cl,Bs,Ws,Ts),Rs=Cl|0,{Dh:_l,Dl:wl}={Dh:_l^Bs,Dl:wl^Rs},{Dh:_l,Dl:wl}={Dh:bi$1(_l,wl),Dl:yi$1(_l)},{h:$l,l:Js}=dt$2($l,Js,_l,wl),{Bh:Ws,Bl:Ns}={Bh:Ws^$l,Bl:Ns^Js},{Bh:Ws,Bl:Ns}={Bh:At$2(Ws,Ns,24),Bl:St$3(Ws,Ns,24)},N$5[2*vs]=Rs,N$5[2*vs+1]=Bs,N$5[2*ms]=Ns,N$5[2*ms+1]=Ws,N$5[2*ws]=Js,N$5[2*ws+1]=$l,N$5[2*Ss]=wl,N$5[2*Ss+1]=_l}function Ct$2(vs,ms,ws,Ss,Es,_s){const Is=Es[_s],Ts=Es[_s+1];let Rs=N$5[2*vs],Bs=N$5[2*vs+1],Ns=N$5[2*ms],Ws=N$5[2*ms+1],Js=N$5[2*ws],$l=N$5[2*ws+1],wl=N$5[2*Ss],_l=N$5[2*Ss+1],Cl=tn$2(Rs,Ns,Is);Bs=en$2(Cl,Bs,Ws,Ts),Rs=Cl|0,{Dh:_l,Dl:wl}={Dh:_l^Bs,Dl:wl^Rs},{Dh:_l,Dl:wl}={Dh:At$2(_l,wl,16),Dl:St$3(_l,wl,16)},{h:$l,l:Js}=dt$2($l,Js,_l,wl),{Bh:Ws,Bl:Ns}={Bh:Ws^$l,Bl:Ns^Js},{Bh:Ws,Bl:Ns}={Bh:se(Ws,Ns,63),Bl:ie(Ws,Ns,63)},N$5[2*vs]=Rs,N$5[2*vs+1]=Bs,N$5[2*ms]=Ns,N$5[2*ms+1]=Ws,N$5[2*ws]=Js,N$5[2*ws+1]=$l,N$5[2*Ss]=wl,N$5[2*Ss+1]=_l}function Qi(vs,ms={},ws,Ss,Es){if(mt$2(ws),vs<0||vs>ws)throw new Error("outputLen bigger than keyLen");const{key:_s,salt:Is,personalization:Ts}=ms;if(_s!==void 0&&(_s.length<1||_s.length>ws))throw new Error("key length must be undefined or 1.."+ws);if(Is!==void 0&&Is.length!==Ss)throw new Error("salt must be undefined or "+Ss);if(Ts!==void 0&&Ts.length!==Es)throw new Error("personalization must be undefined or "+Es)}class tf extends Ie{constructor(ms,ws){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,mt$2(ms),mt$2(ws),this.blockLen=ms,this.outputLen=ws,this.buffer=new Uint8Array(ms),this.buffer32=fe$2(this.buffer)}update(ms){Nt$2(this),ms=ht$1(ms),at$1(ms);const{blockLen:ws,buffer:Ss,buffer32:Es}=this,_s=ms.length,Is=ms.byteOffset,Ts=ms.buffer;for(let Rs=0;Rs<_s;){this.pos===ws&&(Ot$2(Es),this.compress(Es,0,!1),Ot$2(Es),this.pos=0);const Bs=Math.min(ws-this.pos,_s-Rs),Ns=Is+Rs;if(Bs===ws&&!(Ns%4)&&Rs+Bs<_s){const Ws=new Uint32Array(Ts,Ns,Math.floor((_s-Rs)/4));Ot$2(Ws);for(let Js=0;Rs+ws<_s;Js+=Es.length,Rs+=ws)this.length+=ws,this.compress(Ws,Js,!1);Ot$2(Ws);continue}Ss.set(ms.subarray(Rs,Rs+Bs),this.pos),this.pos+=Bs,this.length+=Bs,Rs+=Bs}return this}digestInto(ms){Nt$2(this),on$2(ms,this);const{pos:ws,buffer32:Ss}=this;this.finished=!0,ut$2(this.buffer.subarray(ws)),Ot$2(Ss),this.compress(Ss,0,!0),Ot$2(Ss);const Es=fe$2(ms);this.get().forEach((_s,Is)=>Es[Is]=wt$2(_s))}digest(){const{buffer:ms,outputLen:ws}=this;this.digestInto(ms);const Ss=ms.slice(0,ws);return this.destroy(),Ss}_cloneInto(ms){const{buffer:ws,length:Ss,finished:Es,destroyed:_s,outputLen:Is,pos:Ts}=this;return ms||(ms=new this.constructor({dkLen:Is})),ms.set(...this.get()),ms.buffer.set(ws),ms.destroyed=_s,ms.finished=Es,ms.length=Ss,ms.pos=Ts,ms.outputLen=Is,ms}clone(){return this._cloneInto()}}class ef extends tf{constructor(ms={}){const ws=ms.dkLen===void 0?64:ms.dkLen;super(128,ws),this.v0l=F$4[0]|0,this.v0h=F$4[1]|0,this.v1l=F$4[2]|0,this.v1h=F$4[3]|0,this.v2l=F$4[4]|0,this.v2h=F$4[5]|0,this.v3l=F$4[6]|0,this.v3h=F$4[7]|0,this.v4l=F$4[8]|0,this.v4h=F$4[9]|0,this.v5l=F$4[10]|0,this.v5h=F$4[11]|0,this.v6l=F$4[12]|0,this.v6h=F$4[13]|0,this.v7l=F$4[14]|0,this.v7h=F$4[15]|0,Qi(ws,ms,64,16,16);let{key:Ss,personalization:Es,salt:_s}=ms,Is=0;if(Ss!==void 0&&(Ss=ht$1(Ss),Is=Ss.length),this.v0l^=this.outputLen|Is<<8|65536|1<<24,_s!==void 0){_s=ht$1(_s);const Ts=fe$2(_s);this.v4l^=wt$2(Ts[0]),this.v4h^=wt$2(Ts[1]),this.v5l^=wt$2(Ts[2]),this.v5h^=wt$2(Ts[3])}if(Es!==void 0){Es=ht$1(Es);const Ts=fe$2(Es);this.v6l^=wt$2(Ts[0]),this.v6h^=wt$2(Ts[1]),this.v7l^=wt$2(Ts[2]),this.v7h^=wt$2(Ts[3])}if(Ss!==void 0){const Ts=new Uint8Array(this.blockLen);Ts.set(Ss),this.update(Ts)}}get(){let{v0l:ms,v0h:ws,v1l:Ss,v1h:Es,v2l:_s,v2h:Is,v3l:Ts,v3h:Rs,v4l:Bs,v4h:Ns,v5l:Ws,v5h:Js,v6l:$l,v6h:wl,v7l:_l,v7h:Cl}=this;return[ms,ws,Ss,Es,_s,Is,Ts,Rs,Bs,Ns,Ws,Js,$l,wl,_l,Cl]}set(ms,ws,Ss,Es,_s,Is,Ts,Rs,Bs,Ns,Ws,Js,$l,wl,_l,Cl){this.v0l=ms|0,this.v0h=ws|0,this.v1l=Ss|0,this.v1h=Es|0,this.v2l=_s|0,this.v2h=Is|0,this.v3l=Ts|0,this.v3h=Rs|0,this.v4l=Bs|0,this.v4h=Ns|0,this.v5l=Ws|0,this.v5h=Js|0,this.v6l=$l|0,this.v6h=wl|0,this.v7l=_l|0,this.v7h=Cl|0}compress(ms,ws,Ss){this.get().forEach((Rs,Bs)=>N$5[Bs]=Rs),N$5.set(F$4,16);let{h:Es,l:_s}=mr$1(BigInt(this.length));N$5[24]=F$4[8]^_s,N$5[25]=F$4[9]^Es,Ss&&(N$5[28]=~N$5[28],N$5[29]=~N$5[29]);let Is=0;const Ts=Ji;for(let Rs=0;Rs<12;Rs++)$t$1(0,4,8,12,ms,ws+2*Ts[Is++]),Ct$2(0,4,8,12,ms,ws+2*Ts[Is++]),$t$1(1,5,9,13,ms,ws+2*Ts[Is++]),Ct$2(1,5,9,13,ms,ws+2*Ts[Is++]),$t$1(2,6,10,14,ms,ws+2*Ts[Is++]),Ct$2(2,6,10,14,ms,ws+2*Ts[Is++]),$t$1(3,7,11,15,ms,ws+2*Ts[Is++]),Ct$2(3,7,11,15,ms,ws+2*Ts[Is++]),$t$1(0,5,10,15,ms,ws+2*Ts[Is++]),Ct$2(0,5,10,15,ms,ws+2*Ts[Is++]),$t$1(1,6,11,12,ms,ws+2*Ts[Is++]),Ct$2(1,6,11,12,ms,ws+2*Ts[Is++]),$t$1(2,7,8,13,ms,ws+2*Ts[Is++]),Ct$2(2,7,8,13,ms,ws+2*Ts[Is++]),$t$1(3,4,9,14,ms,ws+2*Ts[Is++]),Ct$2(3,4,9,14,ms,ws+2*Ts[Is++]);this.v0l^=N$5[0]^N$5[16],this.v0h^=N$5[1]^N$5[17],this.v1l^=N$5[2]^N$5[18],this.v1h^=N$5[3]^N$5[19],this.v2l^=N$5[4]^N$5[20],this.v2h^=N$5[5]^N$5[21],this.v3l^=N$5[6]^N$5[22],this.v3h^=N$5[7]^N$5[23],this.v4l^=N$5[8]^N$5[24],this.v4h^=N$5[9]^N$5[25],this.v5l^=N$5[10]^N$5[26],this.v5h^=N$5[11]^N$5[27],this.v6l^=N$5[12]^N$5[28],this.v6h^=N$5[13]^N$5[29],this.v7l^=N$5[14]^N$5[30],this.v7h^=N$5[15]^N$5[31],ut$2(N$5)}destroy(){this.destroyed=!0,ut$2(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const nf=Ui$1(vs=>new ef(vs)),rf="https://rpc.walletconnect.org/v1";function an$1(vs){const ms=`Ethereum Signed Message:
${vs.length}`,ws=new TextEncoder().encode(ms+vs);return"0x"+Buffer.from(Hi$1(ws)).toString("hex")}async function Cr$1(vs,ms,ws,Ss,Es,_s){switch(ws.t){case"eip191":return await Lr$1(vs,ms,ws.s);case"eip1271":return await jr$1(vs,ms,ws.s,Ss,Es,_s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${ws.t}`)}}async function Lr$1(vs,ms,ws){return(await recoverAddress({hash:an$1(ms),signature:ws})).toLowerCase()===vs.toLowerCase()}async function jr$1(vs,ms,ws,Ss,Es,_s){const Is=Fe$1(Ss);if(!Is.namespace||!Is.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${Ss}`);try{const Ts="0x1626ba7e",Rs="0000000000000000000000000000000000000000000000000000000000000040",Bs=ws.substring(2),Ns=(Bs.length/2).toString(16).padStart(64,"0"),Ws=(ms.startsWith("0x")?ms:an$1(ms)).substring(2),Js=Ts+Ws+Rs+Ns+Bs,$l=await fetch(`${_s||rf}/?chainId=${Ss}&projectId=${Es}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:of(),jsonrpc:"2.0",method:"eth_call",params:[{to:vs,data:Js},"latest"]})}),{result:wl}=await $l.json();return wl?wl.slice(0,Ts.length).toLowerCase()===Ts.toLowerCase():!1}catch(Ts){return console.error("isValidEip1271Signature: ",Ts),!1}}function of(){return Date.now()+Math.floor(Math.random()*1e3)}function sf(vs){const ms=atob(vs),ws=new Uint8Array(ms.length);for(let Is=0;Is<ms.length;Is++)ws[Is]=ms.charCodeAt(Is);const Ss=ws[0];if(Ss===0)throw new Error("No signatures found");const Es=1+Ss*64;if(ws.length<Es)throw new Error("Transaction data too short for claimed signature count");if(ws.length<100)throw new Error("Transaction too short");const _s=Buffer.from(vs,"base64").slice(1,65);return re.encode(_s)}function ff(vs){const ms=new Uint8Array(Buffer.from(vs,"base64")),ws=Array.from("TransactionData::").map(_s=>_s.charCodeAt(0)),Ss=new Uint8Array(ws.length+ms.length);Ss.set(ws),Ss.set(ms,ws.length);const Es=nf(Ss,{dkLen:32});return re.encode(Es)}function cf(vs){const ms=new Uint8Array(Ae(kr$1(vs)));return re.encode(ms)}function kr$1(vs){if(vs instanceof Uint8Array)return vs;if(Array.isArray(vs))return new Uint8Array(vs);if(typeof vs=="object"&&vs!=null&&vs.data)return new Uint8Array(Object.values(vs.data));if(typeof vs=="object"&&vs)return new Uint8Array(Object.values(vs));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function af(vs){const ms=Buffer.from(vs,"base64"),ws=decode$3(ms).txn;if(!ws)throw new Error("Invalid signed transaction: missing 'txn' field");const Ss=encode$2(ws),Es=Buffer.from("TX"),_s=Buffer.concat([Es,Buffer.from(Ss)]),Is=Xi(_s);return base32$2.encode(Is).replace(/=+$/,"")}function un$1(vs){const ms=[];let ws=BigInt(vs);for(;ws>=BigInt(128);)ms.push(Number(ws&BigInt(127)|BigInt(128))),ws>>=BigInt(7);return ms.push(Number(ws)),Buffer.from(ms)}function uf(vs){const ms=Buffer.from(vs.signed.bodyBytes,"base64"),ws=Buffer.from(vs.signed.authInfoBytes,"base64"),Ss=Buffer.from(vs.signature.signature,"base64"),Es=[];Es.push(Buffer.from([10])),Es.push(un$1(ms.length)),Es.push(ms),Es.push(Buffer.from([18])),Es.push(un$1(ws.length)),Es.push(ws),Es.push(Buffer.from([26])),Es.push(un$1(Ss.length)),Es.push(Ss);const _s=Buffer.concat(Es),Is=Ae(_s);return Buffer.from(Is).toString("hex").toUpperCase()}var lf=Object.defineProperty,df=Object.defineProperties,hf=Object.getOwnPropertyDescriptors,Pr$1=Object.getOwnPropertySymbols,pf=Object.prototype.hasOwnProperty,gf=Object.prototype.propertyIsEnumerable,Hr$1=(vs,ms,ws)=>ms in vs?lf(vs,ms,{enumerable:!0,configurable:!0,writable:!0,value:ws}):vs[ms]=ws,ln$1=(vs,ms)=>{for(var ws in ms||(ms={}))pf.call(ms,ws)&&Hr$1(vs,ws,ms[ws]);if(Pr$1)for(var ws of Pr$1(ms))gf.call(ms,ws)&&Hr$1(vs,ws,ms[ws]);return vs},Dr$1=(vs,ms)=>df(vs,hf(ms));const bf="did:pkh:",Se$1=vs=>vs==null?void 0:vs.split(":"),Mr$1=vs=>{const ms=vs&&Se$1(vs);if(ms)return vs.includes(bf)?ms[3]:ms[1]},Vr$1=vs=>{const ms=vs&&Se$1(vs);if(ms)return ms[2]+":"+ms[3]},dn$1=vs=>{const ms=vs&&Se$1(vs);if(ms)return ms.pop()};async function yf(vs){const{cacao:ms,projectId:ws}=vs,{s:Ss,p:Es}=ms,_s=qr$1(Es,Es.iss),Is=dn$1(Es.iss);return await Cr$1(Is,_s,Ss,Vr$1(Es.iss),ws)}const qr$1=(vs,ms)=>{const ws=`${vs.domain} wants you to sign in with your Ethereum account:`,Ss=dn$1(ms);if(!vs.aud&&!vs.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let Es=vs.statement||void 0;const _s=`URI: ${vs.aud||vs.uri}`,Is=`Version: ${vs.version}`,Ts=`Chain ID: ${Mr$1(ms)}`,Rs=`Nonce: ${vs.nonce}`,Bs=`Issued At: ${vs.iat}`,Ns=vs.exp?`Expiration Time: ${vs.exp}`:void 0,Ws=vs.nbf?`Not Before: ${vs.nbf}`:void 0,Js=vs.requestId?`Request ID: ${vs.requestId}`:void 0,$l=vs.resources?`Resources:${vs.resources.map(_l=>`
- ${_l}`).join("")}`:void 0,wl=Oe$1(vs.resources);if(wl){const _l=Lt$2(wl);Es=gn$1(Es,_l)}return[ws,Ss,"",Es,"",_s,Is,Ts,Rs,Bs,Ns,Ws,Js,$l].filter(_l=>_l!=null).join(`
`)};function Gr$1(vs){return Buffer.from(JSON.stringify(vs)).toString("base64")}function Zr$1(vs){return JSON.parse(Buffer.from(vs,"base64").toString("utf-8"))}function bt$1(vs){if(!vs)throw new Error("No recap provided, value is undefined");if(!vs.att)throw new Error("No `att` property found");const ms=Object.keys(vs.att);if(!(ms!=null&&ms.length))throw new Error("No resources found in `att` property");ms.forEach(ws=>{const Ss=vs.att[ws];if(Array.isArray(Ss))throw new Error(`Resource must be an object: ${ws}`);if(typeof Ss!="object")throw new Error(`Resource must be an object: ${ws}`);if(!Object.keys(Ss).length)throw new Error(`Resource object is empty: ${ws}`);Object.keys(Ss).forEach(Es=>{const _s=Ss[Es];if(!Array.isArray(_s))throw new Error(`Ability limits ${Es} must be an array of objects, found: ${_s}`);if(!_s.length)throw new Error(`Value of ${Es} is empty array, must be an array with objects`);_s.forEach(Is=>{if(typeof Is!="object")throw new Error(`Ability limits (${Es}) must be an array of objects, found: ${Is}`)})})})}function Wr$1(vs,ms,ws,Ss={}){return ws==null||ws.sort((Es,_s)=>Es.localeCompare(_s)),{att:{[vs]:hn$1(ms,ws,Ss)}}}function hn$1(vs,ms,ws={}){ms=ms==null?void 0:ms.sort((Es,_s)=>Es.localeCompare(_s));const Ss=ms.map(Es=>({[`${vs}/${Es}`]:[ws]}));return Object.assign({},...Ss)}function Ne(vs){return bt$1(vs),`urn:recap:${Gr$1(vs).replace(/=/g,"")}`}function Lt$2(vs){const ms=Zr$1(vs.replace("urn:recap:",""));return bt$1(ms),ms}function Ef(vs,ms,ws){const Ss=Wr$1(vs,ms,ws);return Ne(Ss)}function pn$1(vs){return vs&&vs.includes("urn:recap:")}function Bf(vs,ms){const ws=Lt$2(vs),Ss=Lt$2(ms),Es=Xr$1(ws,Ss);return Ne(Es)}function Xr$1(vs,ms){bt$1(vs),bt$1(ms);const ws=Object.keys(vs.att).concat(Object.keys(ms.att)).sort((Es,_s)=>Es.localeCompare(_s)),Ss={att:{}};return ws.forEach(Es=>{var _s,Is;Object.keys(((_s=vs.att)==null?void 0:_s[Es])||{}).concat(Object.keys(((Is=ms.att)==null?void 0:Is[Es])||{})).sort((Ts,Rs)=>Ts.localeCompare(Rs)).forEach(Ts=>{var Rs,Bs;Ss.att[Es]=Dr$1(ln$1({},Ss.att[Es]),{[Ts]:((Rs=vs.att[Es])==null?void 0:Rs[Ts])||((Bs=ms.att[Es])==null?void 0:Bs[Ts])})})}),Ss}function gn$1(vs="",ms){bt$1(ms);const ws="I further authorize the stated URI to perform the following actions on my behalf: ";if(vs.includes(ws))return vs;const Ss=[];let Es=0;Object.keys(ms.att).forEach(Ts=>{const Rs=Object.keys(ms.att[Ts]).map(Ws=>({ability:Ws.split("/")[0],action:Ws.split("/")[1]}));Rs.sort((Ws,Js)=>Ws.action.localeCompare(Js.action));const Bs={};Rs.forEach(Ws=>{Bs[Ws.ability]||(Bs[Ws.ability]=[]),Bs[Ws.ability].push(Ws.action)});const Ns=Object.keys(Bs).map(Ws=>(Es++,`(${Es}) '${Ws}': '${Bs[Ws].join("', '")}' for '${Ts}'.`));Ss.push(Ns.join(", ").replace(".,","."))});const _s=Ss.join(" "),Is=`${ws}${_s}`;return`${vs?vs+" ":""}${Is}`}function If(vs){var ms;const ws=Lt$2(vs);bt$1(ws);const Ss=(ms=ws.att)==null?void 0:ms.eip155;return Ss?Object.keys(Ss).map(Es=>Es.split("/")[1]):[]}function Af(vs){const ms=Lt$2(vs);bt$1(ms);const ws=[];return Object.values(ms.att).forEach(Ss=>{Object.values(Ss).forEach(Es=>{var _s;(_s=Es==null?void 0:Es[0])!=null&&_s.chains&&ws.push(Es[0].chains)})}),[...new Set(ws.flat())]}function Oe$1(vs){if(!vs)return;const ms=vs==null?void 0:vs[vs.length-1];return pn$1(ms)?ms:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function Qr$1(vs){return vs instanceof Uint8Array||ArrayBuffer.isView(vs)&&vs.constructor.name==="Uint8Array"}function bn$2(vs){if(typeof vs!="boolean")throw new Error(`boolean expected, not ${vs}`)}function yn$1(vs){if(!Number.isSafeInteger(vs)||vs<0)throw new Error("positive integer expected, got "+vs)}function nt$1(vs,...ms){if(!Qr$1(vs))throw new Error("Uint8Array expected");if(ms.length>0&&!ms.includes(vs.length))throw new Error("Uint8Array expected of length "+ms+", got length="+vs.length)}function to$1(vs,ms=!0){if(vs.destroyed)throw new Error("Hash instance has been destroyed");if(ms&&vs.finished)throw new Error("Hash#digest() has already been called")}function Sf(vs,ms){nt$1(vs);const ws=ms.outputLen;if(vs.length<ws)throw new Error("digestInto() expects output buffer of length at least "+ws)}function jt$2(vs){return new Uint32Array(vs.buffer,vs.byteOffset,Math.floor(vs.byteLength/4))}function Wt$2(...vs){for(let ms=0;ms<vs.length;ms++)vs[ms].fill(0)}function Nf(vs){return new DataView(vs.buffer,vs.byteOffset,vs.byteLength)}const Of=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Uf(vs){if(typeof vs!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(vs))}function mn$1(vs){if(typeof vs=="string")vs=Uf(vs);else if(Qr$1(vs))vs=wn$1(vs);else throw new Error("Uint8Array expected, got "+typeof vs);return vs}function _f(vs,ms){if(ms==null||typeof ms!="object")throw new Error("options must be defined");return Object.assign(vs,ms)}function Tf(vs,ms){if(vs.length!==ms.length)return!1;let ws=0;for(let Ss=0;Ss<vs.length;Ss++)ws|=vs[Ss]^ms[Ss];return ws===0}const Rf=(vs,ms)=>{function ws(Ss,...Es){if(nt$1(Ss),!Of)throw new Error("Non little-endian hardware is not yet supported");if(vs.nonceLength!==void 0){const Bs=Es[0];if(!Bs)throw new Error("nonce / iv required");vs.varSizeNonce?nt$1(Bs):nt$1(Bs,vs.nonceLength)}const _s=vs.tagLength;_s&&Es[1]!==void 0&&nt$1(Es[1]);const Is=ms(Ss,...Es),Ts=(Bs,Ns)=>{if(Ns!==void 0){if(Bs!==2)throw new Error("cipher output not supported");nt$1(Ns)}};let Rs=!1;return{encrypt(Bs,Ns){if(Rs)throw new Error("cannot encrypt() twice with same key + nonce");return Rs=!0,nt$1(Bs),Ts(Is.encrypt.length,Ns),Is.encrypt(Bs,Ns)},decrypt(Bs,Ns){if(nt$1(Bs),_s&&Bs.length<_s)throw new Error("invalid ciphertext length: smaller than tagLength="+_s);return Ts(Is.decrypt.length,Ns),Is.decrypt(Bs,Ns)}}}return Object.assign(ws,vs),ws};function eo$1(vs,ms,ws=!0){if(ms===void 0)return new Uint8Array(vs);if(ms.length!==vs)throw new Error("invalid output length, expected "+vs+", got: "+ms.length);if(ws&&!Cf(ms))throw new Error("invalid output, must be aligned");return ms}function no$1(vs,ms,ws,Ss){if(typeof vs.setBigUint64=="function")return vs.setBigUint64(ms,ws,Ss);const Es=BigInt(32),_s=BigInt(4294967295),Is=Number(ws>>Es&_s),Ts=Number(ws&_s);vs.setUint32(ms+4,Is,Ss),vs.setUint32(ms+0,Ts,Ss)}function $f(vs,ms,ws){bn$2(ws);const Ss=new Uint8Array(16),Es=Nf(Ss);return no$1(Es,0,BigInt(ms),ws),no$1(Es,8,BigInt(vs),ws),Ss}function Cf(vs){return vs.byteOffset%4===0}function wn$1(vs){return Uint8Array.from(vs)}const ro$1=vs=>Uint8Array.from(vs.split("").map(ms=>ms.charCodeAt(0))),Lf=ro$1("expand 16-byte k"),jf=ro$1("expand 32-byte k"),kf=jt$2(Lf),Pf=jt$2(jf);function D$3(vs,ms){return vs<<ms|vs>>>32-ms}function xn$1(vs){return vs.byteOffset%4===0}const Ue$1=64,Hf=16,oo$1=2**32-1,so$1=new Uint32Array;function Df(vs,ms,ws,Ss,Es,_s,Is,Ts){const Rs=Es.length,Bs=new Uint8Array(Ue$1),Ns=jt$2(Bs),Ws=xn$1(Es)&&xn$1(_s),Js=Ws?jt$2(Es):so$1,$l=Ws?jt$2(_s):so$1;for(let wl=0;wl<Rs;Is++){if(vs(ms,ws,Ss,Ns,Is,Ts),Is>=oo$1)throw new Error("arx: counter overflow");const _l=Math.min(Ue$1,Rs-wl);if(Ws&&_l===Ue$1){const Cl=wl/4;if(wl%4!==0)throw new Error("arx: invalid block position");for(let Sl=0,El;Sl<Hf;Sl++)El=Cl+Sl,$l[El]=Js[El]^Ns[Sl];wl+=Ue$1;continue}for(let Cl=0,Sl;Cl<_l;Cl++)Sl=wl+Cl,_s[Sl]=Es[Sl]^Bs[Cl];wl+=_l}}function Mf(vs,ms){const{allowShortKeys:ws,extendNonceFn:Ss,counterLength:Es,counterRight:_s,rounds:Is}=_f({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},ms);if(typeof vs!="function")throw new Error("core must be a function");return yn$1(Es),yn$1(Is),bn$2(_s),bn$2(ws),(Ts,Rs,Bs,Ns,Ws=0)=>{nt$1(Ts),nt$1(Rs),nt$1(Bs);const Js=Bs.length;if(Ns===void 0&&(Ns=new Uint8Array(Js)),nt$1(Ns),yn$1(Ws),Ws<0||Ws>=oo$1)throw new Error("arx: counter overflow");if(Ns.length<Js)throw new Error(`arx: output (${Ns.length}) is shorter than data (${Js})`);const $l=[];let wl=Ts.length,_l,Cl;if(wl===32)$l.push(_l=wn$1(Ts)),Cl=Pf;else if(wl===16&&ws)_l=new Uint8Array(32),_l.set(Ts),_l.set(Ts,16),Cl=kf,$l.push(_l);else throw new Error(`arx: invalid 32-byte key, got length=${wl}`);xn$1(Rs)||$l.push(Rs=wn$1(Rs));const Sl=jt$2(_l);if(Ss){if(Rs.length!==24)throw new Error("arx: extended nonce must be 24 bytes");Ss(Cl,Sl,jt$2(Rs.subarray(0,16)),Sl),Rs=Rs.subarray(16)}const El=16-Es;if(El!==Rs.length)throw new Error(`arx: nonce must be ${El} or 16 bytes`);if(El!==12){const Ml=new Uint8Array(12);Ml.set(Rs,_s?0:12-Rs.length),Rs=Ml,$l.push(Rs)}const xl=jt$2(Rs);return Df(vs,Cl,Sl,xl,Bs,Ns,Ws,Is),Wt$2(...$l),Ns}}const G$4=(vs,ms)=>vs[ms++]&255|(vs[ms++]&255)<<8;class Vf{constructor(ms){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,ms=mn$1(ms),nt$1(ms,32);const ws=G$4(ms,0),Ss=G$4(ms,2),Es=G$4(ms,4),_s=G$4(ms,6),Is=G$4(ms,8),Ts=G$4(ms,10),Rs=G$4(ms,12),Bs=G$4(ms,14);this.r[0]=ws&8191,this.r[1]=(ws>>>13|Ss<<3)&8191,this.r[2]=(Ss>>>10|Es<<6)&7939,this.r[3]=(Es>>>7|_s<<9)&8191,this.r[4]=(_s>>>4|Is<<12)&255,this.r[5]=Is>>>1&8190,this.r[6]=(Is>>>14|Ts<<2)&8191,this.r[7]=(Ts>>>11|Rs<<5)&8065,this.r[8]=(Rs>>>8|Bs<<8)&8191,this.r[9]=Bs>>>5&127;for(let Ns=0;Ns<8;Ns++)this.pad[Ns]=G$4(ms,16+2*Ns)}process(ms,ws,Ss=!1){const Es=Ss?0:2048,{h:_s,r:Is}=this,Ts=Is[0],Rs=Is[1],Bs=Is[2],Ns=Is[3],Ws=Is[4],Js=Is[5],$l=Is[6],wl=Is[7],_l=Is[8],Cl=Is[9],Sl=G$4(ms,ws+0),El=G$4(ms,ws+2),xl=G$4(ms,ws+4),Ml=G$4(ms,ws+6),Vl=G$4(ms,ws+8),Ul=G$4(ms,ws+10),_h=G$4(ms,ws+12),nu=G$4(ms,ws+14);let su=_s[0]+(Sl&8191),Jl=_s[1]+((Sl>>>13|El<<3)&8191),Il=_s[2]+((El>>>10|xl<<6)&8191),Nl=_s[3]+((xl>>>7|Ml<<9)&8191),Ol=_s[4]+((Ml>>>4|Vl<<12)&8191),Gl=_s[5]+(Vl>>>1&8191),Fl=_s[6]+((Vl>>>14|Ul<<2)&8191),Al=_s[7]+((Ul>>>11|_h<<5)&8191),Pl=_s[8]+((_h>>>8|nu<<8)&8191),yl=_s[9]+(nu>>>5|Es),Zs=0,Bl=Zs+su*Ts+Jl*(5*Cl)+Il*(5*_l)+Nl*(5*wl)+Ol*(5*$l);Zs=Bl>>>13,Bl&=8191,Bl+=Gl*(5*Js)+Fl*(5*Ws)+Al*(5*Ns)+Pl*(5*Bs)+yl*(5*Rs),Zs+=Bl>>>13,Bl&=8191;let eu=Zs+su*Rs+Jl*Ts+Il*(5*Cl)+Nl*(5*_l)+Ol*(5*wl);Zs=eu>>>13,eu&=8191,eu+=Gl*(5*$l)+Fl*(5*Js)+Al*(5*Ws)+Pl*(5*Ns)+yl*(5*Bs),Zs+=eu>>>13,eu&=8191;let Eu=Zs+su*Bs+Jl*Rs+Il*Ts+Nl*(5*Cl)+Ol*(5*_l);Zs=Eu>>>13,Eu&=8191,Eu+=Gl*(5*wl)+Fl*(5*$l)+Al*(5*Js)+Pl*(5*Ws)+yl*(5*Ns),Zs+=Eu>>>13,Eu&=8191;let uu=Zs+su*Ns+Jl*Bs+Il*Rs+Nl*Ts+Ol*(5*Cl);Zs=uu>>>13,uu&=8191,uu+=Gl*(5*_l)+Fl*(5*wl)+Al*(5*$l)+Pl*(5*Js)+yl*(5*Ws),Zs+=uu>>>13,uu&=8191;let Yl=Zs+su*Ws+Jl*Ns+Il*Bs+Nl*Rs+Ol*Ts;Zs=Yl>>>13,Yl&=8191,Yl+=Gl*(5*Cl)+Fl*(5*_l)+Al*(5*wl)+Pl*(5*$l)+yl*(5*Js),Zs+=Yl>>>13,Yl&=8191;let zl=Zs+su*Js+Jl*Ws+Il*Ns+Nl*Bs+Ol*Rs;Zs=zl>>>13,zl&=8191,zl+=Gl*Ts+Fl*(5*Cl)+Al*(5*_l)+Pl*(5*wl)+yl*(5*$l),Zs+=zl>>>13,zl&=8191;let ou=Zs+su*$l+Jl*Js+Il*Ws+Nl*Ns+Ol*Bs;Zs=ou>>>13,ou&=8191,ou+=Gl*Rs+Fl*Ts+Al*(5*Cl)+Pl*(5*_l)+yl*(5*wl),Zs+=ou>>>13,ou&=8191;let pu=Zs+su*wl+Jl*$l+Il*Js+Nl*Ws+Ol*Ns;Zs=pu>>>13,pu&=8191,pu+=Gl*Bs+Fl*Rs+Al*Ts+Pl*(5*Cl)+yl*(5*_l),Zs+=pu>>>13,pu&=8191;let fu=Zs+su*_l+Jl*wl+Il*$l+Nl*Js+Ol*Ws;Zs=fu>>>13,fu&=8191,fu+=Gl*Ns+Fl*Bs+Al*Rs+Pl*Ts+yl*(5*Cl),Zs+=fu>>>13,fu&=8191;let yu=Zs+su*Cl+Jl*_l+Il*wl+Nl*$l+Ol*Js;Zs=yu>>>13,yu&=8191,yu+=Gl*Ws+Fl*Ns+Al*Bs+Pl*Rs+yl*Ts,Zs+=yu>>>13,yu&=8191,Zs=(Zs<<2)+Zs|0,Zs=Zs+Bl|0,Bl=Zs&8191,Zs=Zs>>>13,eu+=Zs,_s[0]=Bl,_s[1]=eu,_s[2]=Eu,_s[3]=uu,_s[4]=Yl,_s[5]=zl,_s[6]=ou,_s[7]=pu,_s[8]=fu,_s[9]=yu}finalize(){const{h:ms,pad:ws}=this,Ss=new Uint16Array(10);let Es=ms[1]>>>13;ms[1]&=8191;for(let Ts=2;Ts<10;Ts++)ms[Ts]+=Es,Es=ms[Ts]>>>13,ms[Ts]&=8191;ms[0]+=Es*5,Es=ms[0]>>>13,ms[0]&=8191,ms[1]+=Es,Es=ms[1]>>>13,ms[1]&=8191,ms[2]+=Es,Ss[0]=ms[0]+5,Es=Ss[0]>>>13,Ss[0]&=8191;for(let Ts=1;Ts<10;Ts++)Ss[Ts]=ms[Ts]+Es,Es=Ss[Ts]>>>13,Ss[Ts]&=8191;Ss[9]-=8192;let _s=(Es^1)-1;for(let Ts=0;Ts<10;Ts++)Ss[Ts]&=_s;_s=~_s;for(let Ts=0;Ts<10;Ts++)ms[Ts]=ms[Ts]&_s|Ss[Ts];ms[0]=(ms[0]|ms[1]<<13)&65535,ms[1]=(ms[1]>>>3|ms[2]<<10)&65535,ms[2]=(ms[2]>>>6|ms[3]<<7)&65535,ms[3]=(ms[3]>>>9|ms[4]<<4)&65535,ms[4]=(ms[4]>>>12|ms[5]<<1|ms[6]<<14)&65535,ms[5]=(ms[6]>>>2|ms[7]<<11)&65535,ms[6]=(ms[7]>>>5|ms[8]<<8)&65535,ms[7]=(ms[8]>>>8|ms[9]<<5)&65535;let Is=ms[0]+ws[0];ms[0]=Is&65535;for(let Ts=1;Ts<8;Ts++)Is=(ms[Ts]+ws[Ts]|0)+(Is>>>16)|0,ms[Ts]=Is&65535;Wt$2(Ss)}update(ms){to$1(this),ms=mn$1(ms),nt$1(ms);const{buffer:ws,blockLen:Ss}=this,Es=ms.length;for(let _s=0;_s<Es;){const Is=Math.min(Ss-this.pos,Es-_s);if(Is===Ss){for(;Ss<=Es-_s;_s+=Ss)this.process(ms,_s);continue}ws.set(ms.subarray(_s,_s+Is),this.pos),this.pos+=Is,_s+=Is,this.pos===Ss&&(this.process(ws,0,!1),this.pos=0)}return this}destroy(){Wt$2(this.h,this.r,this.buffer,this.pad)}digestInto(ms){to$1(this),Sf(ms,this),this.finished=!0;const{buffer:ws,h:Ss}=this;let{pos:Es}=this;if(Es){for(ws[Es++]=1;Es<16;Es++)ws[Es]=0;this.process(ws,0,!0)}this.finalize();let _s=0;for(let Is=0;Is<8;Is++)ms[_s++]=Ss[Is]>>>0,ms[_s++]=Ss[Is]>>>8;return ms}digest(){const{buffer:ms,outputLen:ws}=this;this.digestInto(ms);const Ss=ms.slice(0,ws);return this.destroy(),Ss}}function qf(vs){const ms=(Ss,Es)=>vs(Es).update(mn$1(Ss)).digest(),ws=vs(new Uint8Array(32));return ms.outputLen=ws.outputLen,ms.blockLen=ws.blockLen,ms.create=Ss=>vs(Ss),ms}const Kf=qf(vs=>new Vf(vs));function Ff(vs,ms,ws,Ss,Es,_s=20){let Is=vs[0],Ts=vs[1],Rs=vs[2],Bs=vs[3],Ns=ms[0],Ws=ms[1],Js=ms[2],$l=ms[3],wl=ms[4],_l=ms[5],Cl=ms[6],Sl=ms[7],El=Es,xl=ws[0],Ml=ws[1],Vl=ws[2],Ul=Is,_h=Ts,nu=Rs,su=Bs,Jl=Ns,Il=Ws,Nl=Js,Ol=$l,Gl=wl,Fl=_l,Al=Cl,Pl=Sl,yl=El,Zs=xl,Bl=Ml,eu=Vl;for(let uu=0;uu<_s;uu+=2)Ul=Ul+Jl|0,yl=D$3(yl^Ul,16),Gl=Gl+yl|0,Jl=D$3(Jl^Gl,12),Ul=Ul+Jl|0,yl=D$3(yl^Ul,8),Gl=Gl+yl|0,Jl=D$3(Jl^Gl,7),_h=_h+Il|0,Zs=D$3(Zs^_h,16),Fl=Fl+Zs|0,Il=D$3(Il^Fl,12),_h=_h+Il|0,Zs=D$3(Zs^_h,8),Fl=Fl+Zs|0,Il=D$3(Il^Fl,7),nu=nu+Nl|0,Bl=D$3(Bl^nu,16),Al=Al+Bl|0,Nl=D$3(Nl^Al,12),nu=nu+Nl|0,Bl=D$3(Bl^nu,8),Al=Al+Bl|0,Nl=D$3(Nl^Al,7),su=su+Ol|0,eu=D$3(eu^su,16),Pl=Pl+eu|0,Ol=D$3(Ol^Pl,12),su=su+Ol|0,eu=D$3(eu^su,8),Pl=Pl+eu|0,Ol=D$3(Ol^Pl,7),Ul=Ul+Il|0,eu=D$3(eu^Ul,16),Al=Al+eu|0,Il=D$3(Il^Al,12),Ul=Ul+Il|0,eu=D$3(eu^Ul,8),Al=Al+eu|0,Il=D$3(Il^Al,7),_h=_h+Nl|0,yl=D$3(yl^_h,16),Pl=Pl+yl|0,Nl=D$3(Nl^Pl,12),_h=_h+Nl|0,yl=D$3(yl^_h,8),Pl=Pl+yl|0,Nl=D$3(Nl^Pl,7),nu=nu+Ol|0,Zs=D$3(Zs^nu,16),Gl=Gl+Zs|0,Ol=D$3(Ol^Gl,12),nu=nu+Ol|0,Zs=D$3(Zs^nu,8),Gl=Gl+Zs|0,Ol=D$3(Ol^Gl,7),su=su+Jl|0,Bl=D$3(Bl^su,16),Fl=Fl+Bl|0,Jl=D$3(Jl^Fl,12),su=su+Jl|0,Bl=D$3(Bl^su,8),Fl=Fl+Bl|0,Jl=D$3(Jl^Fl,7);let Eu=0;Ss[Eu++]=Is+Ul|0,Ss[Eu++]=Ts+_h|0,Ss[Eu++]=Rs+nu|0,Ss[Eu++]=Bs+su|0,Ss[Eu++]=Ns+Jl|0,Ss[Eu++]=Ws+Il|0,Ss[Eu++]=Js+Nl|0,Ss[Eu++]=$l+Ol|0,Ss[Eu++]=wl+Gl|0,Ss[Eu++]=_l+Fl|0,Ss[Eu++]=Cl+Al|0,Ss[Eu++]=Sl+Pl|0,Ss[Eu++]=El+yl|0,Ss[Eu++]=xl+Zs|0,Ss[Eu++]=Ml+Bl|0,Ss[Eu++]=Vl+eu|0}const zf=Mf(Ff,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Gf=new Uint8Array(16),io$1=(vs,ms)=>{vs.update(ms);const ws=ms.length%16;ws&&vs.update(Gf.subarray(ws))},Zf=new Uint8Array(32);function fo$1(vs,ms,ws,Ss,Es){const _s=vs(ms,ws,Zf),Is=Kf.create(_s);Es&&io$1(Is,Es),io$1(Is,Ss);const Ts=$f(Ss.length,Es?Es.length:0,!0);Is.update(Ts);const Rs=Is.digest();return Wt$2(_s,Ts),Rs}const Wf=vs=>(ms,ws,Ss)=>({encrypt(Es,_s){const Is=Es.length;_s=eo$1(Is+16,_s,!1),_s.set(Es);const Ts=_s.subarray(0,-16);vs(ms,ws,Ts,Ts,1);const Rs=fo$1(vs,ms,ws,Ts,Ss);return _s.set(Rs,Is),Wt$2(Rs),_s},decrypt(Es,_s){_s=eo$1(Es.length-16,_s,!1);const Is=Es.subarray(0,-16),Ts=Es.subarray(-16),Rs=fo$1(vs,ms,ws,Is,Ss);if(!Tf(Ts,Rs))throw new Error("invalid tag");return _s.set(Es.subarray(0,-16)),vs(ms,ws,_s,_s,1),Wt$2(Rs),_s}}),co$1=Rf({blockSize:64,nonceLength:12,tagLength:16},Wf(zf));let ao$1=class extends Ie{constructor(ms,ws){super(),this.finished=!1,this.destroyed=!1,rn$1(ms);const Ss=ht$1(ws);if(this.iHash=ms.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const Es=this.blockLen,_s=new Uint8Array(Es);_s.set(Ss.length>Es?ms.create().update(Ss).digest():Ss);for(let Is=0;Is<_s.length;Is++)_s[Is]^=54;this.iHash.update(_s),this.oHash=ms.create();for(let Is=0;Is<_s.length;Is++)_s[Is]^=106;this.oHash.update(_s),ut$2(_s)}update(ms){return Nt$2(this),this.iHash.update(ms),this}digestInto(ms){Nt$2(this),at$1(ms,this.outputLen),this.finished=!0,this.iHash.digestInto(ms),this.oHash.update(ms),this.oHash.digestInto(ms),this.destroy()}digest(){const ms=new Uint8Array(this.oHash.outputLen);return this.digestInto(ms),ms}_cloneInto(ms){ms||(ms=Object.create(Object.getPrototypeOf(this),{}));const{oHash:ws,iHash:Ss,finished:Es,destroyed:_s,blockLen:Is,outputLen:Ts}=this;return ms=ms,ms.finished=Es,ms.destroyed=_s,ms.blockLen=Is,ms.outputLen=Ts,ms.oHash=ws._cloneInto(ms.oHash),ms.iHash=Ss._cloneInto(ms.iHash),ms}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const _e$1=(vs,ms,ws)=>new ao$1(vs,ms).update(ws).digest();_e$1.create=(vs,ms)=>new ao$1(vs,ms);function Yf(vs,ms,ws){return rn$1(vs),ws===void 0&&(ws=new Uint8Array(vs.outputLen)),_e$1(vs,ht$1(ws),ht$1(ms))}const vn$1=Uint8Array.from([0]),uo$1=Uint8Array.of();function Xf(vs,ms,ws,Ss=32){rn$1(vs),mt$2(Ss);const Es=vs.outputLen;if(Ss>255*Es)throw new Error("Length should be <= 255*HashLen");const _s=Math.ceil(Ss/Es);ws===void 0&&(ws=uo$1);const Is=new Uint8Array(_s*Es),Ts=_e$1.create(vs,ms),Rs=Ts._cloneInto(),Bs=new Uint8Array(Ts.outputLen);for(let Ns=0;Ns<_s;Ns++)vn$1[0]=Ns+1,Rs.update(Ns===0?uo$1:Bs).update(ws).update(vn$1).digestInto(Bs),Is.set(Bs,Es*Ns),Ts._cloneInto(Rs);return Ts.destroy(),Rs.destroy(),ut$2(Bs,vn$1),Is.slice(0,Ss)}const Jf=(vs,ms,ws,Ss,Es)=>Xf(vs,Yf(vs,ms,ws),Ss,Es),Te=Ae,En$1=BigInt(0),Bn$1=BigInt(1);function Re(vs,ms){if(typeof ms!="boolean")throw new Error(vs+" boolean expected, got "+ms)}function $e$1(vs){const ms=vs.toString(16);return ms.length&1?"0"+ms:ms}function lo$1(vs){if(typeof vs!="string")throw new Error("hex string expected, got "+typeof vs);return vs===""?En$1:BigInt("0x"+vs)}function Ce$1(vs){return lo$1(ce$1(vs))}function Le$1(vs){return at$1(vs),lo$1(ce$1(Uint8Array.from(vs).reverse()))}function In$1(vs,ms){return fn$1(vs.toString(16).padStart(ms*2,"0"))}function An$1(vs,ms){return In$1(vs,ms).reverse()}function rt$1(vs,ms,ws){let Ss;if(typeof ms=="string")try{Ss=fn$1(ms)}catch(_s){throw new Error(vs+" must be hex string or Uint8Array, cause: "+_s)}else if(nn$1(ms))Ss=Uint8Array.from(ms);else throw new Error(vs+" must be hex string or Uint8Array");const Es=Ss.length;if(typeof ws=="number"&&Es!==ws)throw new Error(vs+" of length "+ws+" expected, got "+Es);return Ss}const Sn$1=vs=>typeof vs=="bigint"&&En$1<=vs;function Qf(vs,ms,ws){return Sn$1(vs)&&Sn$1(ms)&&Sn$1(ws)&&ms<=vs&&vs<ws}function Nn$1(vs,ms,ws,Ss){if(!Qf(ms,ws,Ss))throw new Error("expected valid "+vs+": "+ws+" <= n < "+Ss+", got "+ms)}function tc(vs){let ms;for(ms=0;vs>En$1;vs>>=Bn$1,ms+=1);return ms}const je=vs=>(Bn$1<<BigInt(vs))-Bn$1;function ec(vs,ms,ws){if(typeof vs!="number"||vs<2)throw new Error("hashLen must be a number");if(typeof ms!="number"||ms<2)throw new Error("qByteLen must be a number");if(typeof ws!="function")throw new Error("hmacFn must be a function");const Ss=Js=>new Uint8Array(Js),Es=Js=>Uint8Array.of(Js);let _s=Ss(vs),Is=Ss(vs),Ts=0;const Rs=()=>{_s.fill(1),Is.fill(0),Ts=0},Bs=(...Js)=>ws(Is,_s,...Js),Ns=(Js=Ss(0))=>{Is=Bs(Es(0),Js),_s=Bs(),Js.length!==0&&(Is=Bs(Es(1),Js),_s=Bs())},Ws=()=>{if(Ts++>=1e3)throw new Error("drbg: tried 1000 values");let Js=0;const $l=[];for(;Js<ms;){_s=Bs();const wl=_s.slice();$l.push(wl),Js+=_s.length}return Ht$1(...$l)};return(Js,$l)=>{Rs(),Ns(Js);let wl;for(;!(wl=$l(Ws()));)Ns();return Rs(),wl}}function ke$1(vs,ms,ws={}){if(!vs||typeof vs!="object")throw new Error("expected valid options object");function Ss(Es,_s,Is){const Ts=vs[Es];if(Is&&Ts===void 0)return;const Rs=typeof Ts;if(Rs!==_s||Ts===null)throw new Error(`param "${Es}" is invalid: expected ${_s}, got ${Rs}`)}Object.entries(ms).forEach(([Es,_s])=>Ss(Es,_s,!1)),Object.entries(ws).forEach(([Es,_s])=>Ss(Es,_s,!0))}function ho$1(vs){const ms=new WeakMap;return(ws,...Ss)=>{const Es=ms.get(ws);if(Es!==void 0)return Es;const _s=vs(ws,...Ss);return ms.set(ws,_s),_s}}const ot$1=BigInt(0),Q$3=BigInt(1),Dt$1=BigInt(2),nc=BigInt(3),po$1=BigInt(4),go$1=BigInt(5),bo$1=BigInt(8);function lt$1(vs,ms){const ws=vs%ms;return ws>=ot$1?ws:ms+ws}function pt$1(vs,ms,ws){let Ss=vs;for(;ms-- >ot$1;)Ss*=Ss,Ss%=ws;return Ss}function yo$1(vs,ms){if(vs===ot$1)throw new Error("invert: expected non-zero number");if(ms<=ot$1)throw new Error("invert: expected positive modulus, got "+ms);let ws=lt$1(vs,ms),Ss=ms,Es=ot$1,_s=Q$3;for(;ws!==ot$1;){const Is=Ss/ws,Ts=Ss%ws,Rs=Es-_s*Is;Ss=ws,ws=Ts,Es=_s,_s=Rs}if(Ss!==Q$3)throw new Error("invert: does not exist");return lt$1(Es,ms)}function mo$1(vs,ms){const ws=(vs.ORDER+Q$3)/po$1,Ss=vs.pow(ms,ws);if(!vs.eql(vs.sqr(Ss),ms))throw new Error("Cannot find square root");return Ss}function rc(vs,ms){const ws=(vs.ORDER-go$1)/bo$1,Ss=vs.mul(ms,Dt$1),Es=vs.pow(Ss,ws),_s=vs.mul(ms,Es),Is=vs.mul(vs.mul(_s,Dt$1),Es),Ts=vs.mul(_s,vs.sub(Is,vs.ONE));if(!vs.eql(vs.sqr(Ts),ms))throw new Error("Cannot find square root");return Ts}function oc(vs){if(vs<BigInt(3))throw new Error("sqrt is not defined for small field");let ms=vs-Q$3,ws=0;for(;ms%Dt$1===ot$1;)ms/=Dt$1,ws++;let Ss=Dt$1;const Es=Yt$2(vs);for(;xo$1(Es,Ss)===1;)if(Ss++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(ws===1)return mo$1;let _s=Es.pow(Ss,ms);const Is=(ms+Q$3)/Dt$1;return function(Ts,Rs){if(Ts.is0(Rs))return Rs;if(xo$1(Ts,Rs)!==1)throw new Error("Cannot find square root");let Bs=ws,Ns=Ts.mul(Ts.ONE,_s),Ws=Ts.pow(Rs,ms),Js=Ts.pow(Rs,Is);for(;!Ts.eql(Ws,Ts.ONE);){if(Ts.is0(Ws))return Ts.ZERO;let $l=1,wl=Ts.sqr(Ws);for(;!Ts.eql(wl,Ts.ONE);)if($l++,wl=Ts.sqr(wl),$l===Bs)throw new Error("Cannot find square root");const _l=Q$3<<BigInt(Bs-$l-1),Cl=Ts.pow(Ns,_l);Bs=$l,Ns=Ts.sqr(Cl),Ws=Ts.mul(Ws,Ns),Js=Ts.mul(Js,Cl)}return Js}}function sc(vs){return vs%po$1===nc?mo$1:vs%bo$1===go$1?rc:oc(vs)}const ic=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function fc(vs){const ms={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},ws=ic.reduce((Ss,Es)=>(Ss[Es]="function",Ss),ms);return ke$1(vs,ws),vs}function cc(vs,ms,ws){if(ws<ot$1)throw new Error("invalid exponent, negatives unsupported");if(ws===ot$1)return vs.ONE;if(ws===Q$3)return ms;let Ss=vs.ONE,Es=ms;for(;ws>ot$1;)ws&Q$3&&(Ss=vs.mul(Ss,Es)),Es=vs.sqr(Es),ws>>=Q$3;return Ss}function wo$1(vs,ms,ws=!1){const Ss=new Array(ms.length).fill(ws?vs.ZERO:void 0),Es=ms.reduce((Is,Ts,Rs)=>vs.is0(Ts)?Is:(Ss[Rs]=Is,vs.mul(Is,Ts)),vs.ONE),_s=vs.inv(Es);return ms.reduceRight((Is,Ts,Rs)=>vs.is0(Ts)?Is:(Ss[Rs]=vs.mul(Is,Ss[Rs]),vs.mul(Is,Ts)),_s),Ss}function xo$1(vs,ms){const ws=(vs.ORDER-Q$3)/Dt$1,Ss=vs.pow(ms,ws),Es=vs.eql(Ss,vs.ONE),_s=vs.eql(Ss,vs.ZERO),Is=vs.eql(Ss,vs.neg(vs.ONE));if(!Es&&!_s&&!Is)throw new Error("invalid Legendre symbol result");return Es?1:_s?0:-1}function ac(vs,ms){ms!==void 0&&mt$2(ms);const ws=ms!==void 0?ms:vs.toString(2).length,Ss=Math.ceil(ws/8);return{nBitLength:ws,nByteLength:Ss}}function Yt$2(vs,ms,ws=!1,Ss={}){if(vs<=ot$1)throw new Error("invalid field: expected ORDER > 0, got "+vs);let Es,_s;if(typeof ms=="object"&&ms!=null){if(Ss.sqrt||ws)throw new Error("cannot specify opts in two arguments");const Ns=ms;Ns.BITS&&(Es=Ns.BITS),Ns.sqrt&&(_s=Ns.sqrt),typeof Ns.isLE=="boolean"&&(ws=Ns.isLE)}else typeof ms=="number"&&(Es=ms),Ss.sqrt&&(_s=Ss.sqrt);const{nBitLength:Is,nByteLength:Ts}=ac(vs,Es);if(Ts>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let Rs;const Bs=Object.freeze({ORDER:vs,isLE:ws,BITS:Is,BYTES:Ts,MASK:je(Is),ZERO:ot$1,ONE:Q$3,create:Ns=>lt$1(Ns,vs),isValid:Ns=>{if(typeof Ns!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof Ns);return ot$1<=Ns&&Ns<vs},is0:Ns=>Ns===ot$1,isValidNot0:Ns=>!Bs.is0(Ns)&&Bs.isValid(Ns),isOdd:Ns=>(Ns&Q$3)===Q$3,neg:Ns=>lt$1(-Ns,vs),eql:(Ns,Ws)=>Ns===Ws,sqr:Ns=>lt$1(Ns*Ns,vs),add:(Ns,Ws)=>lt$1(Ns+Ws,vs),sub:(Ns,Ws)=>lt$1(Ns-Ws,vs),mul:(Ns,Ws)=>lt$1(Ns*Ws,vs),pow:(Ns,Ws)=>cc(Bs,Ns,Ws),div:(Ns,Ws)=>lt$1(Ns*yo$1(Ws,vs),vs),sqrN:Ns=>Ns*Ns,addN:(Ns,Ws)=>Ns+Ws,subN:(Ns,Ws)=>Ns-Ws,mulN:(Ns,Ws)=>Ns*Ws,inv:Ns=>yo$1(Ns,vs),sqrt:_s||(Ns=>(Rs||(Rs=sc(vs)),Rs(Bs,Ns))),toBytes:Ns=>ws?An$1(Ns,Ts):In$1(Ns,Ts),fromBytes:Ns=>{if(Ns.length!==Ts)throw new Error("Field.fromBytes: expected "+Ts+" bytes, got "+Ns.length);return ws?Le$1(Ns):Ce$1(Ns)},invertBatch:Ns=>wo$1(Bs,Ns),cmov:(Ns,Ws,Js)=>Js?Ws:Ns});return Object.freeze(Bs)}function vo$1(vs){if(typeof vs!="bigint")throw new Error("field order must be bigint");const ms=vs.toString(2).length;return Math.ceil(ms/8)}function Eo$1(vs){const ms=vo$1(vs);return ms+Math.ceil(ms/2)}function uc(vs,ms,ws=!1){const Ss=vs.length,Es=vo$1(ms),_s=Eo$1(ms);if(Ss<16||Ss<_s||Ss>1024)throw new Error("expected "+_s+"-1024 bytes of input, got "+Ss);const Is=ws?Le$1(vs):Ce$1(vs),Ts=lt$1(Is,ms-Q$3)+Q$3;return ws?An$1(Ts,Es):In$1(Ts,Es)}const Xt$1=BigInt(0),Mt$2=BigInt(1);function le$1(vs,ms){const ws=ms.negate();return vs?ws:ms}function lc(vs,ms,ws){const Ss=_s=>_s.pz,Es=wo$1(vs.Fp,ws.map(Ss));return ws.map((_s,Is)=>_s.toAffine(Es[Is])).map(vs.fromAffine)}function Bo$1(vs,ms){if(!Number.isSafeInteger(vs)||vs<=0||vs>ms)throw new Error("invalid window size, expected [1.."+ms+"], got W="+vs)}function On$1(vs,ms){Bo$1(vs,ms);const ws=Math.ceil(ms/vs)+1,Ss=2**(vs-1),Es=2**vs,_s=je(vs),Is=BigInt(vs);return{windows:ws,windowSize:Ss,mask:_s,maxNumber:Es,shiftBy:Is}}function Io$1(vs,ms,ws){const{windowSize:Ss,mask:Es,maxNumber:_s,shiftBy:Is}=ws;let Ts=Number(vs&Es),Rs=vs>>Is;Ts>Ss&&(Ts-=_s,Rs+=Mt$2);const Bs=ms*Ss,Ns=Bs+Math.abs(Ts)-1,Ws=Ts===0,Js=Ts<0,$l=ms%2!==0;return{nextN:Rs,offset:Ns,isZero:Ws,isNeg:Js,isNegF:$l,offsetF:Bs}}function dc(vs,ms){if(!Array.isArray(vs))throw new Error("array expected");vs.forEach((ws,Ss)=>{if(!(ws instanceof ms))throw new Error("invalid point at index "+Ss)})}function hc(vs,ms){if(!Array.isArray(vs))throw new Error("array of scalars expected");vs.forEach((ws,Ss)=>{if(!ms.isValid(ws))throw new Error("invalid scalar at index "+Ss)})}const Un$1=new WeakMap,Ao$1=new WeakMap;function _n$1(vs){return Ao$1.get(vs)||1}function So$1(vs){if(vs!==Xt$1)throw new Error("invalid wNAF")}function pc(vs,ms){return{constTimeNegate:le$1,hasPrecomputes(ws){return _n$1(ws)!==1},unsafeLadder(ws,Ss,Es=vs.ZERO){let _s=ws;for(;Ss>Xt$1;)Ss&Mt$2&&(Es=Es.add(_s)),_s=_s.double(),Ss>>=Mt$2;return Es},precomputeWindow(ws,Ss){const{windows:Es,windowSize:_s}=On$1(Ss,ms),Is=[];let Ts=ws,Rs=Ts;for(let Bs=0;Bs<Es;Bs++){Rs=Ts,Is.push(Rs);for(let Ns=1;Ns<_s;Ns++)Rs=Rs.add(Ts),Is.push(Rs);Ts=Rs.double()}return Is},wNAF(ws,Ss,Es){let _s=vs.ZERO,Is=vs.BASE;const Ts=On$1(ws,ms);for(let Rs=0;Rs<Ts.windows;Rs++){const{nextN:Bs,offset:Ns,isZero:Ws,isNeg:Js,isNegF:$l,offsetF:wl}=Io$1(Es,Rs,Ts);Es=Bs,Ws?Is=Is.add(le$1($l,Ss[wl])):_s=_s.add(le$1(Js,Ss[Ns]))}return So$1(Es),{p:_s,f:Is}},wNAFUnsafe(ws,Ss,Es,_s=vs.ZERO){const Is=On$1(ws,ms);for(let Ts=0;Ts<Is.windows&&Es!==Xt$1;Ts++){const{nextN:Rs,offset:Bs,isZero:Ns,isNeg:Ws}=Io$1(Es,Ts,Is);if(Es=Rs,!Ns){const Js=Ss[Bs];_s=_s.add(Ws?Js.negate():Js)}}return So$1(Es),_s},getPrecomputes(ws,Ss,Es){let _s=Un$1.get(Ss);return _s||(_s=this.precomputeWindow(Ss,ws),ws!==1&&(typeof Es=="function"&&(_s=Es(_s)),Un$1.set(Ss,_s))),_s},wNAFCached(ws,Ss,Es){const _s=_n$1(ws);return this.wNAF(_s,this.getPrecomputes(_s,ws,Es),Ss)},wNAFCachedUnsafe(ws,Ss,Es,_s){const Is=_n$1(ws);return Is===1?this.unsafeLadder(ws,Ss,_s):this.wNAFUnsafe(Is,this.getPrecomputes(Is,ws,Es),Ss,_s)},setWindowSize(ws,Ss){Bo$1(Ss,ms),Ao$1.set(ws,Ss),Un$1.delete(ws)}}}function gc(vs,ms,ws,Ss){let Es=ms,_s=vs.ZERO,Is=vs.ZERO;for(;ws>Xt$1||Ss>Xt$1;)ws&Mt$2&&(_s=_s.add(Es)),Ss&Mt$2&&(Is=Is.add(Es)),Es=Es.double(),ws>>=Mt$2,Ss>>=Mt$2;return{p1:_s,p2:Is}}function bc(vs,ms,ws,Ss){dc(ws,vs),hc(Ss,ms);const Es=ws.length,_s=Ss.length;if(Es!==_s)throw new Error("arrays of points and scalars must have equal length");const Is=vs.ZERO,Ts=tc(BigInt(Es));let Rs=1;Ts>12?Rs=Ts-3:Ts>4?Rs=Ts-2:Ts>0&&(Rs=2);const Bs=je(Rs),Ns=new Array(Number(Bs)+1).fill(Is),Ws=Math.floor((ms.BITS-1)/Rs)*Rs;let Js=Is;for(let $l=Ws;$l>=0;$l-=Rs){Ns.fill(Is);for(let _l=0;_l<_s;_l++){const Cl=Ss[_l],Sl=Number(Cl>>BigInt($l)&Bs);Ns[Sl]=Ns[Sl].add(ws[_l])}let wl=Is;for(let _l=Ns.length-1,Cl=Is;_l>0;_l--)Cl=Cl.add(Ns[_l]),wl=wl.add(Cl);if(Js=Js.add(wl),$l!==0)for(let _l=0;_l<Rs;_l++)Js=Js.double()}return Js}function No$1(vs,ms){if(ms){if(ms.ORDER!==vs)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return fc(ms),ms}else return Yt$2(vs)}function yc(vs,ms,ws={}){if(!ms||typeof ms!="object")throw new Error(`expected valid ${vs} CURVE object`);for(const Is of["p","n","h"]){const Ts=ms[Is];if(!(typeof Ts=="bigint"&&Ts>Xt$1))throw new Error(`CURVE.${Is} must be positive bigint`)}const Ss=No$1(ms.p,ws.Fp),Es=No$1(ms.n,ws.Fn),_s=["Gx","Gy","a","b"];for(const Is of _s)if(!Ss.isValid(ms[Is]))throw new Error(`CURVE.${Is} must be valid field element of CURVE.Fp`);return{Fp:Ss,Fn:Es}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const de=BigInt(0),Jt$1=BigInt(1),Pe$1=BigInt(2);function mc(vs){return ke$1(vs,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...vs})}function wc(vs){const ms=mc(vs),{P:ws,type:Ss,adjustScalarBytes:Es,powPminus2:_s,randomBytes:Is}=ms,Ts=Ss==="x25519";if(!Ts&&Ss!=="x448")throw new Error("invalid type");const Rs=Is||Zt$1,Bs=Ts?255:448,Ns=Ts?32:56,Ws=BigInt(Ts?9:5),Js=BigInt(Ts?121665:39081),$l=Ts?Pe$1**BigInt(254):Pe$1**BigInt(447),wl=Ts?BigInt(8)*Pe$1**BigInt(251)-Jt$1:BigInt(4)*Pe$1**BigInt(445)-Jt$1,_l=$l+wl+Jt$1,Cl=su=>lt$1(su,ws),Sl=El(Ws);function El(su){return An$1(Cl(su),Ns)}function xl(su){const Jl=rt$1("u coordinate",su,Ns);return Ts&&(Jl[31]&=127),Cl(Le$1(Jl))}function Ml(su){return Le$1(Es(rt$1("scalar",su,Ns)))}function Vl(su,Jl){const Il=nu(xl(Jl),Ml(su));if(Il===de)throw new Error("invalid private or public key received");return El(Il)}function Ul(su){return Vl(su,Sl)}function _h(su,Jl,Il){const Nl=Cl(su*(Jl-Il));return Jl=Cl(Jl-Nl),Il=Cl(Il+Nl),{x_2:Jl,x_3:Il}}function nu(su,Jl){Nn$1("u",su,de,ws),Nn$1("scalar",Jl,$l,_l);const Il=Jl,Nl=su;let Ol=Jt$1,Gl=de,Fl=su,Al=Jt$1,Pl=de;for(let Zs=BigInt(Bs-1);Zs>=de;Zs--){const Bl=Il>>Zs&Jt$1;Pl^=Bl,{x_2:Ol,x_3:Fl}=_h(Pl,Ol,Fl),{x_2:Gl,x_3:Al}=_h(Pl,Gl,Al),Pl=Bl;const eu=Ol+Gl,Eu=Cl(eu*eu),uu=Ol-Gl,Yl=Cl(uu*uu),zl=Eu-Yl,ou=Fl+Al,pu=Fl-Al,fu=Cl(pu*eu),yu=Cl(ou*uu),tu=fu+yu,Ll=fu-yu;Fl=Cl(tu*tu),Al=Cl(Nl*Cl(Ll*Ll)),Ol=Cl(Eu*Yl),Gl=Cl(zl*(Eu+Cl(Js*zl)))}({x_2:Ol,x_3:Fl}=_h(Pl,Ol,Fl)),{x_2:Gl,x_3:Al}=_h(Pl,Gl,Al);const yl=_s(Gl);return Cl(Ol*yl)}return{scalarMult:Vl,scalarMultBase:Ul,getSharedSecret:(su,Jl)=>Vl(su,Jl),getPublicKey:su=>Ul(su),utils:{randomPrivateKey:()=>Rs(Ns)},GuBytes:Sl.slice()}}BigInt(0);const xc=BigInt(1),Oo$1=BigInt(2),vc=BigInt(3),Ec=BigInt(5);BigInt(8);const Uo$1={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Ic(vs){const ms=BigInt(10),ws=BigInt(20),Ss=BigInt(40),Es=BigInt(80),_s=Uo$1.p,Is=vs*vs%_s*vs%_s,Ts=pt$1(Is,Oo$1,_s)*Is%_s,Rs=pt$1(Ts,xc,_s)*vs%_s,Bs=pt$1(Rs,Ec,_s)*Rs%_s,Ns=pt$1(Bs,ms,_s)*Bs%_s,Ws=pt$1(Ns,ws,_s)*Ns%_s,Js=pt$1(Ws,Ss,_s)*Ws%_s,$l=pt$1(Js,Es,_s)*Js%_s,wl=pt$1($l,Es,_s)*Js%_s,_l=pt$1(wl,ms,_s)*Bs%_s;return{pow_p_5_8:pt$1(_l,Oo$1,_s)*vs%_s,b2:Is}}function Ac(vs){return vs[0]&=248,vs[31]&=127,vs[31]|=64,vs}const Tn$1=(()=>{const vs=Uo$1.p;return wc({P:vs,type:"x25519",powPminus2:ms=>{const{pow_p_5_8:ws,b2:Ss}=Ic(ms);return lt$1(pt$1(ws,vc,vs)*Ss,vs)},adjustScalarBytes:Ac})})();function _o$1(vs){vs.lowS!==void 0&&Re("lowS",vs.lowS),vs.prehash!==void 0&&Re("prehash",vs.prehash)}class Sc extends Error{constructor(ms=""){super(ms)}}const vt$2={Err:Sc,_tlv:{encode:(vs,ms)=>{const{Err:ws}=vt$2;if(vs<0||vs>256)throw new ws("tlv.encode: wrong tag");if(ms.length&1)throw new ws("tlv.encode: unpadded data");const Ss=ms.length/2,Es=$e$1(Ss);if(Es.length/2&128)throw new ws("tlv.encode: long form length too big");const _s=Ss>127?$e$1(Es.length/2|128):"";return $e$1(vs)+_s+Es+ms},decode(vs,ms){const{Err:ws}=vt$2;let Ss=0;if(vs<0||vs>256)throw new ws("tlv.encode: wrong tag");if(ms.length<2||ms[Ss++]!==vs)throw new ws("tlv.decode: wrong tlv");const Es=ms[Ss++],_s=!!(Es&128);let Is=0;if(!_s)Is=Es;else{const Rs=Es&127;if(!Rs)throw new ws("tlv.decode(long): indefinite length not supported");if(Rs>4)throw new ws("tlv.decode(long): byte length is too big");const Bs=ms.subarray(Ss,Ss+Rs);if(Bs.length!==Rs)throw new ws("tlv.decode: length bytes not complete");if(Bs[0]===0)throw new ws("tlv.decode(long): zero leftmost byte");for(const Ns of Bs)Is=Is<<8|Ns;if(Ss+=Rs,Is<128)throw new ws("tlv.decode(long): not minimal encoding")}const Ts=ms.subarray(Ss,Ss+Is);if(Ts.length!==Is)throw new ws("tlv.decode: wrong value length");return{v:Ts,l:ms.subarray(Ss+Is)}}},_int:{encode(vs){const{Err:ms}=vt$2;if(vs<he$1)throw new ms("integer: negative integers are not allowed");let ws=$e$1(vs);if(Number.parseInt(ws[0],16)&8&&(ws="00"+ws),ws.length&1)throw new ms("unexpected DER parsing assertion: unpadded hex");return ws},decode(vs){const{Err:ms}=vt$2;if(vs[0]&128)throw new ms("invalid signature integer: negative");if(vs[0]===0&&!(vs[1]&128))throw new ms("invalid signature integer: unnecessary leading zero");return Ce$1(vs)}},toSig(vs){const{Err:ms,_int:ws,_tlv:Ss}=vt$2,Es=rt$1("signature",vs),{v:_s,l:Is}=Ss.decode(48,Es);if(Is.length)throw new ms("invalid signature: left bytes after parsing");const{v:Ts,l:Rs}=Ss.decode(2,_s),{v:Bs,l:Ns}=Ss.decode(2,Rs);if(Ns.length)throw new ms("invalid signature: left bytes after parsing");return{r:ws.decode(Ts),s:ws.decode(Bs)}},hexFromSig(vs){const{_tlv:ms,_int:ws}=vt$2,Ss=ms.encode(2,ws.encode(vs.r)),Es=ms.encode(2,ws.encode(vs.s)),_s=Ss+Es;return ms.encode(48,_s)}},he$1=BigInt(0),pe$2=BigInt(1),Nc=BigInt(2),He$1=BigInt(3),Oc=BigInt(4);function Uc(vs,ms,ws){function Ss(Es){const _s=vs.sqr(Es),Is=vs.mul(_s,Es);return vs.add(vs.add(Is,vs.mul(Es,ms)),ws)}return Ss}function To$1(vs,ms,ws){const{BYTES:Ss}=vs;function Es(_s){let Is;if(typeof _s=="bigint")Is=_s;else{let Ts=rt$1("private key",_s);if(ms){if(!ms.includes(Ts.length*2))throw new Error("invalid private key");const Rs=new Uint8Array(Ss);Rs.set(Ts,Rs.length-Ts.length),Ts=Rs}try{Is=vs.fromBytes(Ts)}catch{throw new Error(`invalid private key: expected ui8a of size ${Ss}, got ${typeof _s}`)}}if(ws&&(Is=vs.create(Is)),!vs.isValidNot0(Is))throw new Error("invalid private key: out of range [1..N-1]");return Is}return Es}function _c(vs,ms={}){const{Fp:ws,Fn:Ss}=yc("weierstrass",vs,ms),{h:Es,n:_s}=vs;ke$1(ms,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:Is}=ms;if(Is&&(!ws.is0(vs.a)||typeof Is.beta!="bigint"||typeof Is.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function Ts(){if(!ws.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function Rs(nu,su,Jl){const{x:Il,y:Nl}=su.toAffine(),Ol=ws.toBytes(Il);if(Re("isCompressed",Jl),Jl){Ts();const Gl=!ws.isOdd(Nl);return Ht$1(Ro$1(Gl),Ol)}else return Ht$1(Uint8Array.of(4),Ol,ws.toBytes(Nl))}function Bs(nu){at$1(nu);const su=ws.BYTES,Jl=su+1,Il=2*su+1,Nl=nu.length,Ol=nu[0],Gl=nu.subarray(1);if(Nl===Jl&&(Ol===2||Ol===3)){const Fl=ws.fromBytes(Gl);if(!ws.isValid(Fl))throw new Error("bad point: is not on curve, wrong x");const Al=Js(Fl);let Pl;try{Pl=ws.sqrt(Al)}catch(Zs){const Bl=Zs instanceof Error?": "+Zs.message:"";throw new Error("bad point: is not on curve, sqrt error"+Bl)}Ts();const yl=ws.isOdd(Pl);return(Ol&1)===1!==yl&&(Pl=ws.neg(Pl)),{x:Fl,y:Pl}}else if(Nl===Il&&Ol===4){const Fl=ws.fromBytes(Gl.subarray(su*0,su*1)),Al=ws.fromBytes(Gl.subarray(su*1,su*2));if(!$l(Fl,Al))throw new Error("bad point: is not on curve");return{x:Fl,y:Al}}else throw new Error(`bad point: got length ${Nl}, expected compressed=${Jl} or uncompressed=${Il}`)}const Ns=ms.toBytes||Rs,Ws=ms.fromBytes||Bs,Js=Uc(ws,vs.a,vs.b);function $l(nu,su){const Jl=ws.sqr(su),Il=Js(nu);return ws.eql(Jl,Il)}if(!$l(vs.Gx,vs.Gy))throw new Error("bad curve params: generator point");const wl=ws.mul(ws.pow(vs.a,He$1),Oc),_l=ws.mul(ws.sqr(vs.b),BigInt(27));if(ws.is0(ws.add(wl,_l)))throw new Error("bad curve params: a or b");function Cl(nu,su,Jl=!1){if(!ws.isValid(su)||Jl&&ws.is0(su))throw new Error(`bad point coordinate ${nu}`);return su}function Sl(nu){if(!(nu instanceof Vl))throw new Error("ProjectivePoint expected")}const El=ho$1((nu,su)=>{const{px:Jl,py:Il,pz:Nl}=nu;if(ws.eql(Nl,ws.ONE))return{x:Jl,y:Il};const Ol=nu.is0();su==null&&(su=Ol?ws.ONE:ws.inv(Nl));const Gl=ws.mul(Jl,su),Fl=ws.mul(Il,su),Al=ws.mul(Nl,su);if(Ol)return{x:ws.ZERO,y:ws.ZERO};if(!ws.eql(Al,ws.ONE))throw new Error("invZ was invalid");return{x:Gl,y:Fl}}),xl=ho$1(nu=>{if(nu.is0()){if(ms.allowInfinityPoint&&!ws.is0(nu.py))return;throw new Error("bad point: ZERO")}const{x:su,y:Jl}=nu.toAffine();if(!ws.isValid(su)||!ws.isValid(Jl))throw new Error("bad point: x or y not field elements");if(!$l(su,Jl))throw new Error("bad point: equation left != right");if(!nu.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function Ml(nu,su,Jl,Il,Nl){return Jl=new Vl(ws.mul(Jl.px,nu),Jl.py,Jl.pz),su=le$1(Il,su),Jl=le$1(Nl,Jl),su.add(Jl)}class Vl{constructor(su,Jl,Il){this.px=Cl("x",su),this.py=Cl("y",Jl,!0),this.pz=Cl("z",Il),Object.freeze(this)}static fromAffine(su){const{x:Jl,y:Il}=su||{};if(!su||!ws.isValid(Jl)||!ws.isValid(Il))throw new Error("invalid affine point");if(su instanceof Vl)throw new Error("projective point not allowed");return ws.is0(Jl)&&ws.is0(Il)?Vl.ZERO:new Vl(Jl,Il,ws.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(su){return lc(Vl,"pz",su)}static fromBytes(su){return at$1(su),Vl.fromHex(su)}static fromHex(su){const Jl=Vl.fromAffine(Ws(rt$1("pointHex",su)));return Jl.assertValidity(),Jl}static fromPrivateKey(su){const Jl=To$1(Ss,ms.allowedPrivateKeyLengths,ms.wrapPrivateKey);return Vl.BASE.multiply(Jl(su))}static msm(su,Jl){return bc(Vl,Ss,su,Jl)}precompute(su=8,Jl=!0){return _h.setWindowSize(this,su),Jl||this.multiply(He$1),this}_setWindowSize(su){this.precompute(su)}assertValidity(){xl(this)}hasEvenY(){const{y:su}=this.toAffine();if(!ws.isOdd)throw new Error("Field doesn't support isOdd");return!ws.isOdd(su)}equals(su){Sl(su);const{px:Jl,py:Il,pz:Nl}=this,{px:Ol,py:Gl,pz:Fl}=su,Al=ws.eql(ws.mul(Jl,Fl),ws.mul(Ol,Nl)),Pl=ws.eql(ws.mul(Il,Fl),ws.mul(Gl,Nl));return Al&&Pl}negate(){return new Vl(this.px,ws.neg(this.py),this.pz)}double(){const{a:su,b:Jl}=vs,Il=ws.mul(Jl,He$1),{px:Nl,py:Ol,pz:Gl}=this;let Fl=ws.ZERO,Al=ws.ZERO,Pl=ws.ZERO,yl=ws.mul(Nl,Nl),Zs=ws.mul(Ol,Ol),Bl=ws.mul(Gl,Gl),eu=ws.mul(Nl,Ol);return eu=ws.add(eu,eu),Pl=ws.mul(Nl,Gl),Pl=ws.add(Pl,Pl),Fl=ws.mul(su,Pl),Al=ws.mul(Il,Bl),Al=ws.add(Fl,Al),Fl=ws.sub(Zs,Al),Al=ws.add(Zs,Al),Al=ws.mul(Fl,Al),Fl=ws.mul(eu,Fl),Pl=ws.mul(Il,Pl),Bl=ws.mul(su,Bl),eu=ws.sub(yl,Bl),eu=ws.mul(su,eu),eu=ws.add(eu,Pl),Pl=ws.add(yl,yl),yl=ws.add(Pl,yl),yl=ws.add(yl,Bl),yl=ws.mul(yl,eu),Al=ws.add(Al,yl),Bl=ws.mul(Ol,Gl),Bl=ws.add(Bl,Bl),yl=ws.mul(Bl,eu),Fl=ws.sub(Fl,yl),Pl=ws.mul(Bl,Zs),Pl=ws.add(Pl,Pl),Pl=ws.add(Pl,Pl),new Vl(Fl,Al,Pl)}add(su){Sl(su);const{px:Jl,py:Il,pz:Nl}=this,{px:Ol,py:Gl,pz:Fl}=su;let Al=ws.ZERO,Pl=ws.ZERO,yl=ws.ZERO;const Zs=vs.a,Bl=ws.mul(vs.b,He$1);let eu=ws.mul(Jl,Ol),Eu=ws.mul(Il,Gl),uu=ws.mul(Nl,Fl),Yl=ws.add(Jl,Il),zl=ws.add(Ol,Gl);Yl=ws.mul(Yl,zl),zl=ws.add(eu,Eu),Yl=ws.sub(Yl,zl),zl=ws.add(Jl,Nl);let ou=ws.add(Ol,Fl);return zl=ws.mul(zl,ou),ou=ws.add(eu,uu),zl=ws.sub(zl,ou),ou=ws.add(Il,Nl),Al=ws.add(Gl,Fl),ou=ws.mul(ou,Al),Al=ws.add(Eu,uu),ou=ws.sub(ou,Al),yl=ws.mul(Zs,zl),Al=ws.mul(Bl,uu),yl=ws.add(Al,yl),Al=ws.sub(Eu,yl),yl=ws.add(Eu,yl),Pl=ws.mul(Al,yl),Eu=ws.add(eu,eu),Eu=ws.add(Eu,eu),uu=ws.mul(Zs,uu),zl=ws.mul(Bl,zl),Eu=ws.add(Eu,uu),uu=ws.sub(eu,uu),uu=ws.mul(Zs,uu),zl=ws.add(zl,uu),eu=ws.mul(Eu,zl),Pl=ws.add(Pl,eu),eu=ws.mul(ou,zl),Al=ws.mul(Yl,Al),Al=ws.sub(Al,eu),eu=ws.mul(Yl,Eu),yl=ws.mul(ou,yl),yl=ws.add(yl,eu),new Vl(Al,Pl,yl)}subtract(su){return this.add(su.negate())}is0(){return this.equals(Vl.ZERO)}multiply(su){const{endo:Jl}=ms;if(!Ss.isValidNot0(su))throw new Error("invalid scalar: out of range");let Il,Nl;const Ol=Gl=>_h.wNAFCached(this,Gl,Vl.normalizeZ);if(Jl){const{k1neg:Gl,k1:Fl,k2neg:Al,k2:Pl}=Jl.splitScalar(su),{p:yl,f:Zs}=Ol(Fl),{p:Bl,f:eu}=Ol(Pl);Nl=Zs.add(eu),Il=Ml(Jl.beta,yl,Bl,Gl,Al)}else{const{p:Gl,f:Fl}=Ol(su);Il=Gl,Nl=Fl}return Vl.normalizeZ([Il,Nl])[0]}multiplyUnsafe(su){const{endo:Jl}=ms,Il=this;if(!Ss.isValid(su))throw new Error("invalid scalar: out of range");if(su===he$1||Il.is0())return Vl.ZERO;if(su===pe$2)return Il;if(_h.hasPrecomputes(this))return this.multiply(su);if(Jl){const{k1neg:Nl,k1:Ol,k2neg:Gl,k2:Fl}=Jl.splitScalar(su),{p1:Al,p2:Pl}=gc(Vl,Il,Ol,Fl);return Ml(Jl.beta,Al,Pl,Nl,Gl)}else return _h.wNAFCachedUnsafe(Il,su)}multiplyAndAddUnsafe(su,Jl,Il){const Nl=this.multiplyUnsafe(Jl).add(su.multiplyUnsafe(Il));return Nl.is0()?void 0:Nl}toAffine(su){return El(this,su)}isTorsionFree(){const{isTorsionFree:su}=ms;return Es===pe$2?!0:su?su(Vl,this):_h.wNAFCachedUnsafe(this,_s).is0()}clearCofactor(){const{clearCofactor:su}=ms;return Es===pe$2?this:su?su(Vl,this):this.multiplyUnsafe(Es)}toBytes(su=!0){return Re("isCompressed",su),this.assertValidity(),Ns(Vl,this,su)}toRawBytes(su=!0){return this.toBytes(su)}toHex(su=!0){return ce$1(this.toBytes(su))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}Vl.BASE=new Vl(vs.Gx,vs.Gy,ws.ONE),Vl.ZERO=new Vl(ws.ZERO,ws.ONE,ws.ZERO),Vl.Fp=ws,Vl.Fn=Ss;const Ul=Ss.BITS,_h=pc(Vl,ms.endo?Math.ceil(Ul/2):Ul);return Vl}function Ro$1(vs){return Uint8Array.of(vs?2:3)}function Tc(vs,ms,ws={}){ke$1(ms,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const Ss=ms.randomBytes||Zt$1,Es=ms.hmac||((Il,...Nl)=>_e$1(ms.hash,Il,Ht$1(...Nl))),{Fp:_s,Fn:Is}=vs,{ORDER:Ts,BITS:Rs}=Is;function Bs(Il){const Nl=Ts>>pe$2;return Il>Nl}function Ns(Il){return Bs(Il)?Is.neg(Il):Il}function Ws(Il,Nl){if(!Is.isValidNot0(Nl))throw new Error(`invalid signature ${Il}: out of range 1..CURVE.n`)}class Js{constructor(Nl,Ol,Gl){Ws("r",Nl),Ws("s",Ol),this.r=Nl,this.s=Ol,Gl!=null&&(this.recovery=Gl),Object.freeze(this)}static fromCompact(Nl){const Ol=Is.BYTES,Gl=rt$1("compactSignature",Nl,Ol*2);return new Js(Is.fromBytes(Gl.subarray(0,Ol)),Is.fromBytes(Gl.subarray(Ol,Ol*2)))}static fromDER(Nl){const{r:Ol,s:Gl}=vt$2.toSig(rt$1("DER",Nl));return new Js(Ol,Gl)}assertValidity(){}addRecoveryBit(Nl){return new Js(this.r,this.s,Nl)}recoverPublicKey(Nl){const Ol=_s.ORDER,{r:Gl,s:Fl,recovery:Al}=this;if(Al==null||![0,1,2,3].includes(Al))throw new Error("recovery id invalid");if(Ts*Nc<Ol&&Al>1)throw new Error("recovery id is ambiguous for h>1 curve");const Pl=Al===2||Al===3?Gl+Ts:Gl;if(!_s.isValid(Pl))throw new Error("recovery id 2 or 3 invalid");const yl=_s.toBytes(Pl),Zs=vs.fromHex(Ht$1(Ro$1((Al&1)===0),yl)),Bl=Is.inv(Pl),eu=xl(rt$1("msgHash",Nl)),Eu=Is.create(-eu*Bl),uu=Is.create(Fl*Bl),Yl=vs.BASE.multiplyUnsafe(Eu).add(Zs.multiplyUnsafe(uu));if(Yl.is0())throw new Error("point at infinify");return Yl.assertValidity(),Yl}hasHighS(){return Bs(this.s)}normalizeS(){return this.hasHighS()?new Js(this.r,Is.neg(this.s),this.recovery):this}toBytes(Nl){if(Nl==="compact")return Ht$1(Is.toBytes(this.r),Is.toBytes(this.s));if(Nl==="der")return fn$1(vt$2.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return ce$1(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return ce$1(this.toBytes("compact"))}}const $l=To$1(Is,ws.allowedPrivateKeyLengths,ws.wrapPrivateKey),wl={isValidPrivateKey(Il){try{return $l(Il),!0}catch{return!1}},normPrivateKeyToScalar:$l,randomPrivateKey:()=>{const Il=Ts;return uc(Ss(Eo$1(Il)),Il)},precompute(Il=8,Nl=vs.BASE){return Nl.precompute(Il,!1)}};function _l(Il,Nl=!0){return vs.fromPrivateKey(Il).toBytes(Nl)}function Cl(Il){if(typeof Il=="bigint")return!1;if(Il instanceof vs)return!0;const Nl=rt$1("key",Il).length,Ol=_s.BYTES,Gl=Ol+1,Fl=2*Ol+1;if(!(ws.allowedPrivateKeyLengths||Is.BYTES===Gl))return Nl===Gl||Nl===Fl}function Sl(Il,Nl,Ol=!0){if(Cl(Il)===!0)throw new Error("first arg must be private key");if(Cl(Nl)===!1)throw new Error("second arg must be public key");return vs.fromHex(Nl).multiply($l(Il)).toBytes(Ol)}const El=ms.bits2int||function(Il){if(Il.length>8192)throw new Error("input is too large");const Nl=Ce$1(Il),Ol=Il.length*8-Rs;return Ol>0?Nl>>BigInt(Ol):Nl},xl=ms.bits2int_modN||function(Il){return Is.create(El(Il))},Ml=je(Rs);function Vl(Il){return Nn$1("num < 2^"+Rs,Il,he$1,Ml),Is.toBytes(Il)}function Ul(Il,Nl,Ol=_h){if(["recovered","canonical"].some(Yl=>Yl in Ol))throw new Error("sign() legacy options not supported");const{hash:Gl}=ms;let{lowS:Fl,prehash:Al,extraEntropy:Pl}=Ol;Fl==null&&(Fl=!0),Il=rt$1("msgHash",Il),_o$1(Ol),Al&&(Il=rt$1("prehashed msgHash",Gl(Il)));const yl=xl(Il),Zs=$l(Nl),Bl=[Vl(Zs),Vl(yl)];if(Pl!=null&&Pl!==!1){const Yl=Pl===!0?Ss(_s.BYTES):Pl;Bl.push(rt$1("extraEntropy",Yl))}const eu=Ht$1(...Bl),Eu=yl;function uu(Yl){const zl=El(Yl);if(!Is.isValidNot0(zl))return;const ou=Is.inv(zl),pu=vs.BASE.multiply(zl).toAffine(),fu=Is.create(pu.x);if(fu===he$1)return;const yu=Is.create(ou*Is.create(Eu+fu*Zs));if(yu===he$1)return;let tu=(pu.x===fu?0:2)|Number(pu.y&pe$2),Ll=yu;return Fl&&Bs(yu)&&(Ll=Ns(yu),tu^=1),new Js(fu,Ll,tu)}return{seed:eu,k2sig:uu}}const _h={lowS:ms.lowS,prehash:!1},nu={lowS:ms.lowS,prehash:!1};function su(Il,Nl,Ol=_h){const{seed:Gl,k2sig:Fl}=Ul(Il,Nl,Ol);return ec(ms.hash.outputLen,Is.BYTES,Es)(Gl,Fl)}vs.BASE.precompute(8);function Jl(Il,Nl,Ol,Gl=nu){const Fl=Il;Nl=rt$1("msgHash",Nl),Ol=rt$1("publicKey",Ol),_o$1(Gl);const{lowS:Al,prehash:Pl,format:yl}=Gl;if("strict"in Gl)throw new Error("options.strict was renamed to lowS");if(yl!==void 0&&!["compact","der","js"].includes(yl))throw new Error('format must be "compact", "der" or "js"');const Zs=typeof Fl=="string"||nn$1(Fl),Bl=!Zs&&!yl&&typeof Fl=="object"&&Fl!==null&&typeof Fl.r=="bigint"&&typeof Fl.s=="bigint";if(!Zs&&!Bl)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let eu,Eu;try{if(Bl)if(yl===void 0||yl==="js")eu=new Js(Fl.r,Fl.s);else throw new Error("invalid format");if(Zs){try{yl!=="compact"&&(eu=Js.fromDER(Fl))}catch(tu){if(!(tu instanceof vt$2.Err))throw tu}!eu&&yl!=="der"&&(eu=Js.fromCompact(Fl))}Eu=vs.fromHex(Ol)}catch{return!1}if(!eu||Al&&eu.hasHighS())return!1;Pl&&(Nl=ms.hash(Nl));const{r:uu,s:Yl}=eu,zl=xl(Nl),ou=Is.inv(Yl),pu=Is.create(zl*ou),fu=Is.create(uu*ou),yu=vs.BASE.multiplyUnsafe(pu).add(Eu.multiplyUnsafe(fu));return yu.is0()?!1:Is.create(yu.x)===uu}return Object.freeze({getPublicKey:_l,getSharedSecret:Sl,sign:su,verify:Jl,utils:wl,Point:vs,Signature:Js})}function Rc(vs){const ms={a:vs.a,b:vs.b,p:vs.Fp.ORDER,n:vs.n,h:vs.h,Gx:vs.Gx,Gy:vs.Gy},ws=vs.Fp,Ss=Yt$2(ms.n,vs.nBitLength),Es={Fp:ws,Fn:Ss,allowedPrivateKeyLengths:vs.allowedPrivateKeyLengths,allowInfinityPoint:vs.allowInfinityPoint,endo:vs.endo,wrapPrivateKey:vs.wrapPrivateKey,isTorsionFree:vs.isTorsionFree,clearCofactor:vs.clearCofactor,fromBytes:vs.fromBytes,toBytes:vs.toBytes};return{CURVE:ms,curveOpts:Es}}function $c(vs){const{CURVE:ms,curveOpts:ws}=Rc(vs),Ss={hash:vs.hash,hmac:vs.hmac,randomBytes:vs.randomBytes,lowS:vs.lowS,bits2int:vs.bits2int,bits2int_modN:vs.bits2int_modN};return{CURVE:ms,curveOpts:ws,ecdsaOpts:Ss}}function Cc(vs,ms){return Object.assign({},ms,{ProjectivePoint:ms.Point,CURVE:vs})}function Lc(vs){const{CURVE:ms,curveOpts:ws,ecdsaOpts:Ss}=$c(vs),Es=_c(ms,ws),_s=Tc(Es,Ss,ws);return Cc(vs,_s)}function Rn$1(vs,ms){const ws=Ss=>Lc({...vs,hash:Ss});return{...ws(ms),create:ws}}const $o$1={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Co$1={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Lo$1={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},jc=Yt$2($o$1.p),kc=Yt$2(Co$1.p),Pc=Yt$2(Lo$1.p),Hc=Rn$1({...$o$1,Fp:jc,lowS:!1},Ae);Rn$1({...Co$1,Fp:kc,lowS:!1},Yi$1),Rn$1({...Lo$1,Fp:Pc,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},Wi$1);const Dc=Hc,$n$1="base10",tt$2="base16",Qt$1="base64pad",De$2="base64url",te$1="utf8",Cn$1=0,ee$2=1,ge=2,Mc=0,jo$1=1,be$1=12,Ln$1=32;function Vc(){const vs=Tn$1.utils.randomPrivateKey(),ms=Tn$1.getPublicKey(vs);return{privateKey:toString$1(vs,tt$2),publicKey:toString$1(ms,tt$2)}}function qc(){const vs=Zt$1(Ln$1);return toString$1(vs,tt$2)}function Kc(vs,ms){const ws=Tn$1.getSharedSecret(fromString(vs,tt$2),fromString(ms,tt$2)),Ss=Jf(Te,ws,void 0,void 0,Ln$1);return toString$1(Ss,tt$2)}function Fc(vs){const ms=Te(fromString(vs,tt$2));return toString$1(ms,tt$2)}function zc(vs){const ms=Te(fromString(vs,te$1));return toString$1(ms,tt$2)}function jn$1(vs){return fromString(`${vs}`,$n$1)}function Vt$1(vs){return Number(toString$1(vs,$n$1))}function ko$1(vs){return vs.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Po$1(vs){const ms=vs.replace(/-/g,"+").replace(/_/g,"/"),ws=(4-ms.length%4)%4;return ms+"=".repeat(ws)}function Gc(vs){const ms=jn$1(typeof vs.type<"u"?vs.type:Cn$1);if(Vt$1(ms)===ee$2&&typeof vs.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const ws=typeof vs.senderPublicKey<"u"?fromString(vs.senderPublicKey,tt$2):void 0,Ss=typeof vs.iv<"u"?fromString(vs.iv,tt$2):Zt$1(be$1),Es=fromString(vs.symKey,tt$2),_s=co$1(Es,Ss).encrypt(fromString(vs.message,te$1)),Is=kn$1({type:ms,sealed:_s,iv:Ss,senderPublicKey:ws});return vs.encoding===De$2?ko$1(Is):Is}function Zc(vs){const ms=fromString(vs.symKey,tt$2),{sealed:ws,iv:Ss}=Me$2({encoded:vs.encoded,encoding:vs.encoding}),Es=co$1(ms,Ss).decrypt(ws);if(Es===null)throw new Error("Failed to decrypt");return toString$1(Es,te$1)}function Wc(vs,ms){const ws=jn$1(ge),Ss=Zt$1(be$1),Es=fromString(vs,te$1),_s=kn$1({type:ws,sealed:Es,iv:Ss});return ms===De$2?ko$1(_s):_s}function Yc(vs,ms){const{sealed:ws}=Me$2({encoded:vs,encoding:ms});return toString$1(ws,te$1)}function kn$1(vs){if(Vt$1(vs.type)===ge)return toString$1(concat([vs.type,vs.sealed]),Qt$1);if(Vt$1(vs.type)===ee$2){if(typeof vs.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return toString$1(concat([vs.type,vs.senderPublicKey,vs.iv,vs.sealed]),Qt$1)}return toString$1(concat([vs.type,vs.iv,vs.sealed]),Qt$1)}function Me$2(vs){const ms=(vs.encoding||Qt$1)===De$2?Po$1(vs.encoded):vs.encoded,ws=fromString(ms,Qt$1),Ss=ws.slice(Mc,jo$1),Es=jo$1;if(Vt$1(Ss)===ee$2){const Rs=Es+Ln$1,Bs=Rs+be$1,Ns=ws.slice(Es,Rs),Ws=ws.slice(Rs,Bs),Js=ws.slice(Bs);return{type:Ss,sealed:Js,iv:Ws,senderPublicKey:Ns}}if(Vt$1(Ss)===ge){const Rs=ws.slice(Es),Bs=Zt$1(be$1);return{type:Ss,sealed:Rs,iv:Bs}}const _s=Es+be$1,Is=ws.slice(Es,_s),Ts=ws.slice(_s);return{type:Ss,sealed:Ts,iv:Is}}function Xc(vs,ms){const ws=Me$2({encoded:vs,encoding:ms==null?void 0:ms.encoding});return Ho$1({type:Vt$1(ws.type),senderPublicKey:typeof ws.senderPublicKey<"u"?toString$1(ws.senderPublicKey,tt$2):void 0,receiverPublicKey:ms==null?void 0:ms.receiverPublicKey})}function Ho$1(vs){const ms=(vs==null?void 0:vs.type)||Cn$1;if(ms===ee$2){if(typeof(vs==null?void 0:vs.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(vs==null?void 0:vs.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:ms,senderPublicKey:vs==null?void 0:vs.senderPublicKey,receiverPublicKey:vs==null?void 0:vs.receiverPublicKey}}function Jc(vs){return vs.type===ee$2&&typeof vs.senderPublicKey=="string"&&typeof vs.receiverPublicKey=="string"}function Qc(vs){return vs.type===ge}function Do$1(vs){const ms=Buffer.from(vs.x,"base64"),ws=Buffer.from(vs.y,"base64");return concat([new Uint8Array([4]),ms,ws])}function ta$1(vs,ms){const[ws,Ss,Es]=vs.split("."),_s=Buffer.from(Po$1(Es),"base64");if(_s.length!==64)throw new Error("Invalid signature length");const Is=_s.slice(0,32),Ts=_s.slice(32,64),Rs=`${ws}.${Ss}`,Bs=Te(Rs),Ns=Do$1(ms);if(!Dc.verify(concat([Is,Ts]),Bs,Ns))throw new Error("Invalid signature");return sn$2(vs).payload}const Mo$1="irn";function ea$1(vs){return(vs==null?void 0:vs.relay)||{protocol:Mo$1}}function na(vs){const ms=C$5[vs];if(typeof ms>"u")throw new Error(`Relay Protocol not supported: ${vs}`);return ms}function Vo$1(vs,ms="-"){const ws={},Ss="relay"+ms;return Object.keys(vs).forEach(Es=>{if(Es.startsWith(Ss)){const _s=Es.replace(Ss,""),Is=vs[Es];ws[_s]=Is}}),ws}function ra(vs){if(!vs.includes("wc:")){const Bs=Qe$1(vs);Bs!=null&&Bs.includes("wc:")&&(vs=Bs)}vs=vs.includes("wc://")?vs.replace("wc://",""):vs,vs=vs.includes("wc:")?vs.replace("wc:",""):vs;const ms=vs.indexOf(":"),ws=vs.indexOf("?")!==-1?vs.indexOf("?"):void 0,Ss=vs.substring(0,ms),Es=vs.substring(ms+1,ws).split("@"),_s=typeof ws<"u"?vs.substring(ws):"",Is=new URLSearchParams(_s),Ts={};Is.forEach((Bs,Ns)=>{Ts[Ns]=Bs});const Rs=typeof Ts.methods=="string"?Ts.methods.split(","):void 0;return{protocol:Ss,topic:qo$1(Es[0]),version:parseInt(Es[1],10),symKey:Ts.symKey,relay:Vo$1(Ts),methods:Rs,expiryTimestamp:Ts.expiryTimestamp?parseInt(Ts.expiryTimestamp,10):void 0}}function qo$1(vs){return vs.startsWith("//")?vs.substring(2):vs}function Ko$1(vs,ms="-"){const ws="relay",Ss={};return Object.keys(vs).forEach(Es=>{const _s=Es,Is=ws+ms+_s;vs[_s]&&(Ss[Is]=vs[_s])}),Ss}function oa(vs){const ms=new URLSearchParams,ws=Ko$1(vs.relay);Object.keys(ws).sort().forEach(Es=>{ms.set(Es,ws[Es])}),ms.set("symKey",vs.symKey),vs.expiryTimestamp&&ms.set("expiryTimestamp",vs.expiryTimestamp.toString()),vs.methods&&ms.set("methods",vs.methods.join(","));const Ss=ms.toString();return`${vs.protocol}:${vs.topic}@${vs.version}?${Ss}`}function sa(vs,ms,ws){return`${vs}?wc_ev=${ws}&topic=${ms}`}var ia=Object.defineProperty,fa=Object.defineProperties,ca=Object.getOwnPropertyDescriptors,Fo$1=Object.getOwnPropertySymbols,aa=Object.prototype.hasOwnProperty,ua=Object.prototype.propertyIsEnumerable,zo$1=(vs,ms,ws)=>ms in vs?ia(vs,ms,{enumerable:!0,configurable:!0,writable:!0,value:ws}):vs[ms]=ws,la=(vs,ms)=>{for(var ws in ms||(ms={}))aa.call(ms,ws)&&zo$1(vs,ws,ms[ws]);if(Fo$1)for(var ws of Fo$1(ms))ua.call(ms,ws)&&zo$1(vs,ws,ms[ws]);return vs},da=(vs,ms)=>fa(vs,ca(ms));function qt$1(vs){const ms=[];return vs.forEach(ws=>{const[Ss,Es]=ws.split(":");ms.push(`${Ss}:${Es}`)}),ms}function Go$1(vs){const ms=[];return Object.values(vs).forEach(ws=>{ms.push(...qt$1(ws.accounts))}),ms}function Zo$1(vs,ms){const ws=[];return Object.values(vs).forEach(Ss=>{qt$1(Ss.accounts).includes(ms)&&ws.push(...Ss.methods)}),ws}function Wo$1(vs,ms){const ws=[];return Object.values(vs).forEach(Ss=>{qt$1(Ss.accounts).includes(ms)&&ws.push(...Ss.events)}),ws}function Pn$1(vs){return vs.includes(":")}function Yo$1(vs){return Pn$1(vs)?vs.split(":")[0]:vs}function ye$1(vs){var ms,ws,Ss;const Es={};if(!Ve$1(vs))return Es;for(const[_s,Is]of Object.entries(vs)){const Ts=Pn$1(_s)?[_s]:Is.chains,Rs=Is.methods||[],Bs=Is.events||[],Ns=Yo$1(_s);Es[Ns]=da(la({},Es[Ns]),{chains:ct$1(Ts,(ms=Es[Ns])==null?void 0:ms.chains),methods:ct$1(Rs,(ws=Es[Ns])==null?void 0:ws.methods),events:ct$1(Bs,(Ss=Es[Ns])==null?void 0:Ss.events)})}return Es}function Xo$1(vs){const ms={};return vs==null||vs.forEach(ws=>{var Ss;const[Es,_s]=ws.split(":");ms[Es]||(ms[Es]={accounts:[],chains:[],events:[],methods:[]}),ms[Es].accounts.push(ws),(Ss=ms[Es].chains)==null||Ss.push(`${Es}:${_s}`)}),ms}function ga(vs,ms){ms=ms.map(Ss=>Ss.replace("did:pkh:",""));const ws=Xo$1(ms);for(const[Ss,Es]of Object.entries(ws))Es.methods?Es.methods=ct$1(Es.methods,vs):Es.methods=vs,Es.events=["chainChanged","accountsChanged"];return ws}function ba(vs,ms){var ws,Ss,Es,_s,Is,Ts;const Rs=ye$1(vs),Bs=ye$1(ms),Ns={},Ws=Object.keys(Rs).concat(Object.keys(Bs));for(const Js of Ws)Ns[Js]={chains:ct$1((ws=Rs[Js])==null?void 0:ws.chains,(Ss=Bs[Js])==null?void 0:Ss.chains),methods:ct$1((Es=Rs[Js])==null?void 0:Es.methods,(_s=Bs[Js])==null?void 0:_s.methods),events:ct$1((Is=Rs[Js])==null?void 0:Is.events,(Ts=Bs[Js])==null?void 0:Ts.events)};return Ns}const Jo$1={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Qo$1={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Et$2(vs,ms){const{message:ws,code:Ss}=Qo$1[vs];return{message:ms?`${ws} ${ms}`:ws,code:Ss}}function Kt$1(vs,ms){const{message:ws,code:Ss}=Jo$1[vs];return{message:ms?`${ws} ${ms}`:ws,code:Ss}}function me$2(vs,ms){return Array.isArray(vs)?typeof ms<"u"&&vs.length?vs.every(ms):!0:!1}function Ve$1(vs){return Object.getPrototypeOf(vs)===Object.prototype&&Object.keys(vs).length}function kt$2(vs){return typeof vs>"u"}function it$1(vs,ms){return ms&&kt$2(vs)?!0:typeof vs=="string"&&!!vs.trim().length}function qe$1(vs,ms){return ms&&kt$2(vs)?!0:typeof vs=="number"&&!isNaN(vs)}function ya(vs,ms){const{requiredNamespaces:ws}=ms,Ss=Object.keys(vs.namespaces),Es=Object.keys(ws);let _s=!0;return It$3(Es,Ss)?(Ss.forEach(Is=>{const{accounts:Ts,methods:Rs,events:Bs}=vs.namespaces[Is],Ns=qt$1(Ts),Ws=ws[Is];(!It$3(ve$1(Is,Ws),Ns)||!It$3(Ws.methods,Rs)||!It$3(Ws.events,Bs))&&(_s=!1)}),_s):!1}function we$2(vs){return it$1(vs,!1)&&vs.includes(":")?vs.split(":").length===2:!1}function ts(vs){if(it$1(vs,!1)&&vs.includes(":")){const ms=vs.split(":");if(ms.length===3){const ws=ms[0]+":"+ms[1];return!!ms[2]&&we$2(ws)}}return!1}function ma(vs){function ms(ws){try{return typeof new URL(ws)<"u"}catch{return!1}}try{if(it$1(vs,!1)){if(ms(vs))return!0;const ws=Qe$1(vs);return ms(ws)}}catch{}return!1}function wa(vs){var ms;return(ms=vs==null?void 0:vs.proposer)==null?void 0:ms.publicKey}function xa(vs){return vs==null?void 0:vs.topic}function va(vs,ms){let ws=null;return it$1(vs==null?void 0:vs.publicKey,!1)||(ws=Et$2("MISSING_OR_INVALID",`${ms} controller public key should be a string`)),ws}function Hn$1(vs){let ms=!0;return me$2(vs)?vs.length&&(ms=vs.every(ws=>it$1(ws,!1))):ms=!1,ms}function es(vs,ms,ws){let Ss=null;return me$2(ms)&&ms.length?ms.forEach(Es=>{Ss||we$2(Es)||(Ss=Kt$1("UNSUPPORTED_CHAINS",`${ws}, chain ${Es} should be a string and conform to "namespace:chainId" format`))}):we$2(vs)||(Ss=Kt$1("UNSUPPORTED_CHAINS",`${ws}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),Ss}function ns(vs,ms,ws){let Ss=null;return Object.entries(vs).forEach(([Es,_s])=>{if(Ss)return;const Is=es(Es,ve$1(Es,_s),`${ms} ${ws}`);Is&&(Ss=Is)}),Ss}function rs(vs,ms){let ws=null;return me$2(vs)?vs.forEach(Ss=>{ws||ts(Ss)||(ws=Kt$1("UNSUPPORTED_ACCOUNTS",`${ms}, account ${Ss} should be a string and conform to "namespace:chainId:address" format`))}):ws=Kt$1("UNSUPPORTED_ACCOUNTS",`${ms}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),ws}function os(vs,ms){let ws=null;return Object.values(vs).forEach(Ss=>{if(ws)return;const Es=rs(Ss==null?void 0:Ss.accounts,`${ms} namespace`);Es&&(ws=Es)}),ws}function ss(vs,ms){let ws=null;return Hn$1(vs==null?void 0:vs.methods)?Hn$1(vs==null?void 0:vs.events)||(ws=Kt$1("UNSUPPORTED_EVENTS",`${ms}, events should be an array of strings or empty array for no events`)):ws=Kt$1("UNSUPPORTED_METHODS",`${ms}, methods should be an array of strings or empty array for no methods`),ws}function Dn$1(vs,ms){let ws=null;return Object.values(vs).forEach(Ss=>{if(ws)return;const Es=ss(Ss,`${ms}, namespace`);Es&&(ws=Es)}),ws}function Ea(vs,ms,ws){let Ss=null;if(vs&&Ve$1(vs)){const Es=Dn$1(vs,ms);Es&&(Ss=Es);const _s=ns(vs,ms,ws);_s&&(Ss=_s)}else Ss=Et$2("MISSING_OR_INVALID",`${ms}, ${ws} should be an object with data`);return Ss}function is(vs,ms){let ws=null;if(vs&&Ve$1(vs)){const Ss=Dn$1(vs,ms);Ss&&(ws=Ss);const Es=os(vs,ms);Es&&(ws=Es)}else ws=Et$2("MISSING_OR_INVALID",`${ms}, namespaces should be an object with data`);return ws}function fs(vs){return it$1(vs.protocol,!0)}function Ba(vs,ms){let ws=!1;return vs?vs&&me$2(vs)&&vs.length&&vs.forEach(Ss=>{ws=fs(Ss)}):ws=!0,ws}function Ia(vs){return typeof vs=="number"}function Aa(vs){return typeof vs<"u"&&typeof vs!==null}function Sa(vs){return!(!vs||typeof vs!="object"||!vs.code||!qe$1(vs.code,!1)||!vs.message||!it$1(vs.message,!1))}function Na(vs){return!(kt$2(vs)||!it$1(vs.method,!1))}function Oa(vs){return!(kt$2(vs)||kt$2(vs.result)&&kt$2(vs.error)||!qe$1(vs.id,!1)||!it$1(vs.jsonrpc,!1))}function Ua(vs){return!(kt$2(vs)||!it$1(vs.name,!1))}function _a(vs,ms){return!(!we$2(ms)||!Go$1(vs).includes(ms))}function Ta(vs,ms,ws){return it$1(ws,!1)?Zo$1(vs,ms).includes(ws):!1}function Ra(vs,ms,ws){return it$1(ws,!1)?Wo$1(vs,ms).includes(ws):!1}function cs(vs,ms,ws){let Ss=null;const Es=$a(vs),_s=Ca(ms),Is=Object.keys(Es),Ts=Object.keys(_s),Rs=as(Object.keys(vs)),Bs=as(Object.keys(ms)),Ns=Rs.filter(Ws=>!Bs.includes(Ws));return Ns.length&&(Ss=Et$2("NON_CONFORMING_NAMESPACES",`${ws} namespaces keys don't satisfy requiredNamespaces.
      Required: ${Ns.toString()}
      Received: ${Object.keys(ms).toString()}`)),It$3(Is,Ts)||(Ss=Et$2("NON_CONFORMING_NAMESPACES",`${ws} namespaces chains don't satisfy required namespaces.
      Required: ${Is.toString()}
      Approved: ${Ts.toString()}`)),Object.keys(ms).forEach(Ws=>{if(!Ws.includes(":")||Ss)return;const Js=qt$1(ms[Ws].accounts);Js.includes(Ws)||(Ss=Et$2("NON_CONFORMING_NAMESPACES",`${ws} namespaces accounts don't satisfy namespace accounts for ${Ws}
        Required: ${Ws}
        Approved: ${Js.toString()}`))}),Is.forEach(Ws=>{Ss||(It$3(Es[Ws].methods,_s[Ws].methods)?It$3(Es[Ws].events,_s[Ws].events)||(Ss=Et$2("NON_CONFORMING_NAMESPACES",`${ws} namespaces events don't satisfy namespace events for ${Ws}`)):Ss=Et$2("NON_CONFORMING_NAMESPACES",`${ws} namespaces methods don't satisfy namespace methods for ${Ws}`))}),Ss}function $a(vs){const ms={};return Object.keys(vs).forEach(ws=>{var Ss;ws.includes(":")?ms[ws]=vs[ws]:(Ss=vs[ws].chains)==null||Ss.forEach(Es=>{ms[Es]={methods:vs[ws].methods,events:vs[ws].events}})}),ms}function as(vs){return[...new Set(vs.map(ms=>ms.includes(":")?ms.split(":")[0]:ms))]}function Ca(vs){const ms={};return Object.keys(vs).forEach(ws=>{if(ws.includes(":"))ms[ws]=vs[ws];else{const Ss=qt$1(vs[ws].accounts);Ss==null||Ss.forEach(Es=>{ms[Es]={accounts:vs[ws].accounts.filter(_s=>_s.includes(`${Es}:`)),methods:vs[ws].methods,events:vs[ws].events}})}}),ms}function La(vs,ms){return qe$1(vs,!1)&&vs<=ms.max&&vs>=ms.min}function ja(){const vs=Pt$2();return new Promise(ms=>{switch(vs){case J$4.browser:ms(us());break;case J$4.reactNative:ms(ls());break;case J$4.node:ms(ds());break;default:ms(!0)}})}function us(){return zt$1()&&(navigator==null?void 0:navigator.onLine)}async function ls(){if(Bt$2()&&typeof window<"u"&&window!=null&&window.NetInfo){const vs=await(window==null?void 0:window.NetInfo.fetch());return vs==null?void 0:vs.isConnected}return!0}function ds(){return!0}function ka(vs){switch(Pt$2()){case J$4.browser:hs(vs);break;case J$4.reactNative:ps(vs);break}}function hs(vs){!Bt$2()&&zt$1()&&(window.addEventListener("online",()=>vs(!0)),window.addEventListener("offline",()=>vs(!1)))}function ps(vs){Bt$2()&&typeof window<"u"&&window!=null&&window.NetInfo&&(window==null||window.NetInfo.addEventListener(ms=>vs(ms==null?void 0:ms.isConnected)))}function Pa(){var vs;return zt$1()&&getDocument_1()?((vs=getDocument_1())==null?void 0:vs.visibilityState)==="visible":!0}const Mn$1={};class Ha{static get(ms){return Mn$1[ms]}static set(ms,ws){Mn$1[ms]=ws}static delete(ms){delete Mn$1[ms]}}function gs(vs){const ms=re.decode(vs);if(ms.length<33)throw new Error("Too short to contain a public key");return ms.slice(1,33)}function bs$1({publicKey:vs,signature:ms,payload:ws}){var Ss;const Es=Vn$1(ws.method),_s=128|parseInt(((Ss=ws.version)==null?void 0:Ss.toString())||"4"),Is=Ma(ws.address),Ts=ws.era==="00"?new Uint8Array([0]):Vn$1(ws.era);if(Ts.length!==1&&Ts.length!==2)throw new Error("Invalid era length");const Rs=parseInt(ws.nonce,16),Bs=new Uint8Array([Rs&255,Rs>>8&255]),Ns=BigInt(`0x${Da(ws.tip)}`),Ws=qa(Ns),Js=new Uint8Array([0,...vs,Is,...ms,...Ts,...Bs,...Ws,...Es]),$l=Va(Js.length+1);return new Uint8Array([...$l,_s,...Js])}function ys(vs){const ms=Vn$1(vs),ws=blakejs.blake2b(ms,void 0,32);return"0x"+Buffer.from(ws).toString("hex")}function Vn$1(vs){return new Uint8Array(vs.replace(/^0x/,"").match(/.{1,2}/g).map(ms=>parseInt(ms,16)))}function Da(vs){return vs.startsWith("0x")?vs.slice(2):vs}function Ma(vs){const ms=re.decode(vs)[0];return ms===42?0:ms===60?2:1}function Va(vs){if(vs<64)return new Uint8Array([vs<<2]);if(vs<16384){const ms=vs<<2|1;return new Uint8Array([ms&255,ms>>8&255])}else if(vs<1<<30){const ms=vs<<2|2;return new Uint8Array([ms&255,ms>>8&255,ms>>16&255,ms>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function qa(vs){if(vs<BigInt(1)<<BigInt(6))return new Uint8Array([Number(vs<<BigInt(2))]);if(vs<BigInt(1)<<BigInt(14)){const ms=vs<<BigInt(2)|BigInt(1);return new Uint8Array([Number(ms&BigInt(255)),Number(ms>>BigInt(8)&BigInt(255))])}else if(vs<BigInt(1)<<BigInt(30)){const ms=vs<<BigInt(2)|BigInt(2);return new Uint8Array([Number(ms&BigInt(255)),Number(ms>>BigInt(8)&BigInt(255)),Number(ms>>BigInt(16)&BigInt(255)),Number(ms>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function Ka(vs){const ms=Uint8Array.from(Buffer.from(vs.signature,"hex")),ws=gs(vs.transaction.address),Ss=bs$1({publicKey:ws,signature:ms,payload:vs.transaction}),Es=Buffer.from(Ss).toString("hex");return ys(Es)}const PARSE_ERROR="PARSE_ERROR",INVALID_REQUEST="INVALID_REQUEST",METHOD_NOT_FOUND="METHOD_NOT_FOUND",INVALID_PARAMS="INVALID_PARAMS",INTERNAL_ERROR="INTERNAL_ERROR",SERVER_ERROR="SERVER_ERROR",RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],STANDARD_ERROR_MAP={[PARSE_ERROR]:{code:-32700,message:"Parse error"},[INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[SERVER_ERROR]:{code:-32e3,message:"Server error"}},DEFAULT_ERROR=SERVER_ERROR;function isReservedErrorCode(vs){return RESERVED_ERROR_CODES.includes(vs)}function getError(vs){return Object.keys(STANDARD_ERROR_MAP).includes(vs)?STANDARD_ERROR_MAP[vs]:STANDARD_ERROR_MAP[DEFAULT_ERROR]}function getErrorByCode(vs){const ms=Object.values(STANDARD_ERROR_MAP).find(ws=>ws.code===vs);return ms||STANDARD_ERROR_MAP[DEFAULT_ERROR]}function parseConnectionError(vs,ms,ws){return vs.message.includes("getaddrinfo ENOTFOUND")||vs.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${ws} RPC url at ${ms}`):vs}var cjs$2={},crypto$1={},hasRequiredCrypto;function requireCrypto(){if(hasRequiredCrypto)return crypto$1;hasRequiredCrypto=1,Object.defineProperty(crypto$1,"__esModule",{value:!0}),crypto$1.isBrowserCryptoAvailable=crypto$1.getSubtleCrypto=crypto$1.getBrowerCrypto=void 0;function vs(){return(window==null?void 0:window.crypto)||(window==null?void 0:window.msCrypto)||{}}crypto$1.getBrowerCrypto=vs;function ms(){const Ss=vs();return Ss.subtle||Ss.webkitSubtle}crypto$1.getSubtleCrypto=ms;function ws(){return!!vs()&&!!ms()}return crypto$1.isBrowserCryptoAvailable=ws,crypto$1}var env={},hasRequiredEnv;function requireEnv(){if(hasRequiredEnv)return env;hasRequiredEnv=1,Object.defineProperty(env,"__esModule",{value:!0}),env.isBrowser=env.isNode=env.isReactNative=void 0;function vs(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}env.isReactNative=vs;function ms(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}env.isNode=ms;function ws(){return!vs()&&!ms()}return env.isBrowser=ws,env}(function(vs){Object.defineProperty(vs,"__esModule",{value:!0});const ms=require$$0;ms.__exportStar(requireCrypto(),vs),ms.__exportStar(requireEnv(),vs)})(cjs$2);function payloadId$1(vs=3){const ms=Date.now()*Math.pow(10,vs),ws=Math.floor(Math.random()*Math.pow(10,vs));return ms+ws}function getBigIntRpcId(vs=6){return BigInt(payloadId$1(vs))}function formatJsonRpcRequest(vs,ms,ws){return{id:ws||payloadId$1(),jsonrpc:"2.0",method:vs,params:ms}}function formatJsonRpcResult(vs,ms){return{id:vs,jsonrpc:"2.0",result:ms}}function formatJsonRpcError(vs,ms,ws){return{id:vs,jsonrpc:"2.0",error:formatErrorMessage(ms)}}function formatErrorMessage(vs,ms){return typeof vs>"u"?getError(INTERNAL_ERROR):(typeof vs=="string"&&(vs=Object.assign(Object.assign({},getError(SERVER_ERROR)),{message:vs})),isReservedErrorCode(vs.code)&&(vs=getErrorByCode(vs.code)),vs)}class e{}class n extends e{constructor(){super()}}let r$3=class extends n{constructor(ms){super()}};const WS_REGEX="^wss?:";function getUrlProtocol(vs){const ms=vs.match(new RegExp(/^\w+:/,"gi"));if(!(!ms||!ms.length))return ms[0]}function matchRegexProtocol(vs,ms){const ws=getUrlProtocol(vs);return typeof ws>"u"?!1:new RegExp(ms).test(ws)}function isWsUrl(vs){return matchRegexProtocol(vs,WS_REGEX)}function isLocalhostUrl(vs){return new RegExp("wss?://localhost(:d{2,5})?").test(vs)}function isJsonRpcPayload(vs){return typeof vs=="object"&&"id"in vs&&"jsonrpc"in vs&&vs.jsonrpc==="2.0"}function isJsonRpcRequest$1(vs){return isJsonRpcPayload(vs)&&"method"in vs}function isJsonRpcResponse(vs){return isJsonRpcPayload(vs)&&(isJsonRpcResult(vs)||isJsonRpcError(vs))}function isJsonRpcResult(vs){return"result"in vs}function isJsonRpcError(vs){return"error"in vs}let o$1=class extends r$3{constructor(ms){super(ms),this.events=new eventsExports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(ms),this.connection.connected&&this.registerEventListeners()}async connect(ms=this.connection){await this.open(ms)}async disconnect(){await this.close()}on(ms,ws){this.events.on(ms,ws)}once(ms,ws){this.events.once(ms,ws)}off(ms,ws){this.events.off(ms,ws)}removeListener(ms,ws){this.events.removeListener(ms,ws)}async request(ms,ws){return this.requestStrict(formatJsonRpcRequest(ms.method,ms.params||[],ms.id||getBigIntRpcId().toString()),ws)}async requestStrict(ms,ws){return new Promise(async(Ss,Es)=>{if(!this.connection.connected)try{await this.open()}catch(_s){Es(_s)}this.events.on(`${ms.id}`,_s=>{isJsonRpcError(_s)?Es(_s.error):Ss(_s.result)});try{await this.connection.send(ms,ws)}catch(_s){Es(_s)}})}setConnection(ms=this.connection){return ms}onPayload(ms){this.events.emit("payload",ms),isJsonRpcResponse(ms)?this.events.emit(`${ms.id}`,ms):this.events.emit("message",{type:ms.method,data:ms.params})}onClose(ms){ms&&ms.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${ms.code} ${ms.reason?`(${ms.reason})`:""}`)),this.events.emit("disconnect")}async open(ms=this.connection){this.connection===ms&&this.connection.connected||(this.connection.connected&&this.close(),typeof ms=="string"&&(await this.connection.open(ms),ms=this.connection),this.connection=this.setConnection(ms),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",ms=>this.onPayload(ms)),this.connection.on("close",ms=>this.onClose(ms)),this.connection.on("error",ms=>this.events.emit("error",ms)),this.connection.on("register_error",ms=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const v$5=()=>typeof WebSocket<"u"?WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),w$4=()=>typeof WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",d$3=vs=>vs.split("?")[0],h$3=10,b$4=v$5();let f$6=class{constructor(ms){if(this.url=ms,this.events=new eventsExports.EventEmitter,this.registering=!1,!isWsUrl(ms))throw new Error(`Provided URL is not compatible with WebSocket connection: ${ms}`);this.url=ms}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(ms,ws){this.events.on(ms,ws)}once(ms,ws){this.events.once(ms,ws)}off(ms,ws){this.events.off(ms,ws)}removeListener(ms,ws){this.events.removeListener(ms,ws)}async open(ms=this.url){await this.register(ms)}async close(){return new Promise((ms,ws)=>{if(typeof this.socket>"u"){ws(new Error("Connection already closed"));return}this.socket.onclose=Ss=>{this.onClose(Ss),ms()},this.socket.close()})}async send(ms){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(safeJsonStringify$2(ms))}catch(ws){this.onError(ms.id,ws)}}register(ms=this.url){if(!isWsUrl(ms))throw new Error(`Provided URL is not compatible with WebSocket connection: ${ms}`);if(this.registering){const ws=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=ws||this.events.listenerCount("open")>=ws)&&this.events.setMaxListeners(ws+1),new Promise((Ss,Es)=>{this.events.once("register_error",_s=>{this.resetMaxListeners(),Es(_s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return Es(new Error("WebSocket connection is missing or invalid"));Ss(this.socket)})})}return this.url=ms,this.registering=!0,new Promise((ws,Ss)=>{const Es=cjs$2.isReactNative()?void 0:{rejectUnauthorized:!isLocalhostUrl(ms)},_s=new b$4(ms,[],Es);w$4()?_s.onerror=Is=>{const Ts=Is;Ss(this.emitError(Ts.error))}:_s.on("error",Is=>{Ss(this.emitError(Is))}),_s.onopen=()=>{this.onOpen(_s),ws(_s)}})}onOpen(ms){ms.onmessage=ws=>this.onPayload(ws),ms.onclose=ws=>this.onClose(ws),this.socket=ms,this.registering=!1,this.events.emit("open")}onClose(ms){this.socket=void 0,this.registering=!1,this.events.emit("close",ms)}onPayload(ms){if(typeof ms.data>"u")return;const ws=typeof ms.data=="string"?safeJsonParse$2(ms.data):ms.data;this.events.emit("payload",ws)}onError(ms,ws){const Ss=this.parseError(ws),Es=Ss.message||Ss.toString(),_s=formatJsonRpcError(ms,Es);this.events.emit("payload",_s)}parseError(ms,ws=this.url){return parseConnectionError(ms,d$3(ws),"WS")}resetMaxListeners(){this.events.getMaxListeners()>h$3&&this.events.setMaxListeners(h$3)}emitError(ms){const ws=this.parseError(new Error((ms==null?void 0:ms.message)||`WebSocket connection failed for host: ${d$3(this.url)}`));return this.events.emit("register_error",ws),ws}};const Ue="wc",Fe=2,pe$1="core",W$3=`${Ue}@2:${pe$1}:`,It$2={logger:"error"},Tt$1={database:":memory:"},Ct$1="crypto",Me$1="client_ed25519_seed",Pt$1=cjs$5.ONE_DAY,St$2="keychain",Ot$1="0.3",Rt$2="messages",At$1="0.3",xt$1=cjs$5.SIX_HOURS,Nt$1="publisher",$t="irn",zt="error",Ke$1="wss://relay.walletconnect.org",Lt$1="relayer",C$4={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},kt$1="_subscription",M$4={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},jt$1=.1,Pe="2.21.8",ee$1={link_mode:"link_mode",relay:"relay"},ye={inbound:"inbound",outbound:"outbound"},Ut$1="0.3",Ft="WALLETCONNECT_CLIENT_ID",Be="WALLETCONNECT_LINK_MODE_APPS",U$3={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Mt$1="subscription",Kt="0.3",Bt$1="pairing",Vt="0.3",oe={wc_pairingDelete:{req:{ttl:cjs$5.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:cjs$5.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:cjs$5.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:cjs$5.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:cjs$5.ONE_DAY,prompt:!1,tag:0},res:{ttl:cjs$5.ONE_DAY,prompt:!1,tag:0}}},ae$1={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},V$3={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},qt="history",Gt="0.3",Wt$1="expirer",q$3={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Ht="0.3",Yt$1="verify-api",ir="https://verify.walletconnect.com",Jt="https://verify.walletconnect.org",be=Jt,Xt=`${be}/v3`,Zt=[ir,Jt],Qt="echo",ei="https://echo.walletconnect.com",Y$3={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},X$3={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},rr={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},nr={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},or={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},ar={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},ti=.1,ii="event-client",si=86400,ri="https://pulse.walletconnect.org/batch";function cr(vs,ms){if(vs.length>=255)throw new TypeError("Alphabet too long");for(var ws=new Uint8Array(256),Ss=0;Ss<ws.length;Ss++)ws[Ss]=255;for(var Es=0;Es<vs.length;Es++){var _s=vs.charAt(Es),Is=_s.charCodeAt(0);if(ws[Is]!==255)throw new TypeError(_s+" is ambiguous");ws[Is]=Es}var Ts=vs.length,Rs=vs.charAt(0),Bs=Math.log(Ts)/Math.log(256),Ns=Math.log(256)/Math.log(Ts);function Ws(wl){if(wl instanceof Uint8Array||(ArrayBuffer.isView(wl)?wl=new Uint8Array(wl.buffer,wl.byteOffset,wl.byteLength):Array.isArray(wl)&&(wl=Uint8Array.from(wl))),!(wl instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(wl.length===0)return"";for(var _l=0,Cl=0,Sl=0,El=wl.length;Sl!==El&&wl[Sl]===0;)Sl++,_l++;for(var xl=(El-Sl)*Ns+1>>>0,Ml=new Uint8Array(xl);Sl!==El;){for(var Vl=wl[Sl],Ul=0,_h=xl-1;(Vl!==0||Ul<Cl)&&_h!==-1;_h--,Ul++)Vl+=256*Ml[_h]>>>0,Ml[_h]=Vl%Ts>>>0,Vl=Vl/Ts>>>0;if(Vl!==0)throw new Error("Non-zero carry");Cl=Ul,Sl++}for(var nu=xl-Cl;nu!==xl&&Ml[nu]===0;)nu++;for(var su=Rs.repeat(_l);nu<xl;++nu)su+=vs.charAt(Ml[nu]);return su}function Js(wl){if(typeof wl!="string")throw new TypeError("Expected String");if(wl.length===0)return new Uint8Array;var _l=0;if(wl[_l]!==" "){for(var Cl=0,Sl=0;wl[_l]===Rs;)Cl++,_l++;for(var El=(wl.length-_l)*Bs+1>>>0,xl=new Uint8Array(El);wl[_l];){var Ml=ws[wl.charCodeAt(_l)];if(Ml===255)return;for(var Vl=0,Ul=El-1;(Ml!==0||Vl<Sl)&&Ul!==-1;Ul--,Vl++)Ml+=Ts*xl[Ul]>>>0,xl[Ul]=Ml%256>>>0,Ml=Ml/256>>>0;if(Ml!==0)throw new Error("Non-zero carry");Sl=Vl,_l++}if(wl[_l]!==" "){for(var _h=El-Sl;_h!==El&&xl[_h]===0;)_h++;for(var nu=new Uint8Array(Cl+(El-_h)),su=Cl;_h!==El;)nu[su++]=xl[_h++];return nu}}}function $l(wl){var _l=Js(wl);if(_l)return _l;throw new Error(`Non-${ms} character`)}return{encode:Ws,decodeUnsafe:Js,decode:$l}}var hr=cr,lr=hr;const ni=vs=>{if(vs instanceof Uint8Array&&vs.constructor.name==="Uint8Array")return vs;if(vs instanceof ArrayBuffer)return new Uint8Array(vs);if(ArrayBuffer.isView(vs))return new Uint8Array(vs.buffer,vs.byteOffset,vs.byteLength);throw new Error("Unknown type, must be binary type")},ur=vs=>new TextEncoder().encode(vs),dr=vs=>new TextDecoder().decode(vs);class gr{constructor(ms,ws,Ss){this.name=ms,this.prefix=ws,this.baseEncode=Ss}encode(ms){if(ms instanceof Uint8Array)return`${this.prefix}${this.baseEncode(ms)}`;throw Error("Unknown type, must be binary type")}}class pr{constructor(ms,ws,Ss){if(this.name=ms,this.prefix=ws,ws.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=ws.codePointAt(0),this.baseDecode=Ss}decode(ms){if(typeof ms=="string"){if(ms.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(ms)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(ms.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(ms){return oi(this,ms)}}class yr{constructor(ms){this.decoders=ms}or(ms){return oi(this,ms)}decode(ms){const ws=ms[0],Ss=this.decoders[ws];if(Ss)return Ss.decode(ms);throw RangeError(`Unable to decode multibase string ${JSON.stringify(ms)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const oi=(vs,ms)=>new yr({...vs.decoders||{[vs.prefix]:vs},...ms.decoders||{[ms.prefix]:ms}});class br{constructor(ms,ws,Ss,Es){this.name=ms,this.prefix=ws,this.baseEncode=Ss,this.baseDecode=Es,this.encoder=new gr(ms,ws,Ss),this.decoder=new pr(ms,ws,Es)}encode(ms){return this.encoder.encode(ms)}decode(ms){return this.decoder.decode(ms)}}const Se=({name:vs,prefix:ms,encode:ws,decode:Ss})=>new br(vs,ms,ws,Ss),me$1=({prefix:vs,name:ms,alphabet:ws})=>{const{encode:Ss,decode:Es}=lr(ws,ms);return Se({prefix:vs,name:ms,encode:Ss,decode:_s=>ni(Es(_s))})},mr=(vs,ms,ws,Ss)=>{const Es={};for(let Ns=0;Ns<ms.length;++Ns)Es[ms[Ns]]=Ns;let _s=vs.length;for(;vs[_s-1]==="=";)--_s;const Is=new Uint8Array(_s*ws/8|0);let Ts=0,Rs=0,Bs=0;for(let Ns=0;Ns<_s;++Ns){const Ws=Es[vs[Ns]];if(Ws===void 0)throw new SyntaxError(`Non-${Ss} character`);Rs=Rs<<ws|Ws,Ts+=ws,Ts>=8&&(Ts-=8,Is[Bs++]=255&Rs>>Ts)}if(Ts>=ws||255&Rs<<8-Ts)throw new SyntaxError("Unexpected end of data");return Is},fr=(vs,ms,ws)=>{const Ss=ms[ms.length-1]==="=",Es=(1<<ws)-1;let _s="",Is=0,Ts=0;for(let Rs=0;Rs<vs.length;++Rs)for(Ts=Ts<<8|vs[Rs],Is+=8;Is>ws;)Is-=ws,_s+=ms[Es&Ts>>Is];if(Is&&(_s+=ms[Es&Ts<<ws-Is]),Ss)for(;_s.length*ws&7;)_s+="=";return _s},A$4=({name:vs,prefix:ms,bitsPerChar:ws,alphabet:Ss})=>Se({prefix:ms,name:vs,encode(Es){return fr(Es,Ss,ws)},decode(Es){return mr(Es,Ss,ws,vs)}}),Dr=Se({prefix:"\0",name:"identity",encode:vs=>dr(vs),decode:vs=>ur(vs)});var vr=Object.freeze({__proto__:null,identity:Dr});const wr=A$4({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var _r=Object.freeze({__proto__:null,base2:wr});const Er=A$4({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Ir=Object.freeze({__proto__:null,base8:Er});const Tr=me$1({prefix:"9",name:"base10",alphabet:"0123456789"});var Cr=Object.freeze({__proto__:null,base10:Tr});const Pr=A$4({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Sr=A$4({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Or=Object.freeze({__proto__:null,base16:Pr,base16upper:Sr});const Rr=A$4({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ar=A$4({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),xr=A$4({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Nr=A$4({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),$r=A$4({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),zr=A$4({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Lr=A$4({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),kr=A$4({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),jr=A$4({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Ur=Object.freeze({__proto__:null,base32:Rr,base32upper:Ar,base32pad:xr,base32padupper:Nr,base32hex:$r,base32hexupper:zr,base32hexpad:Lr,base32hexpadupper:kr,base32z:jr});const Fr=me$1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Mr=me$1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Kr=Object.freeze({__proto__:null,base36:Fr,base36upper:Mr});const Br=me$1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Vr=me$1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var qr=Object.freeze({__proto__:null,base58btc:Br,base58flickr:Vr});const Gr=A$4({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Wr=A$4({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Hr=A$4({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Yr=A$4({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Jr=Object.freeze({__proto__:null,base64:Gr,base64pad:Wr,base64url:Hr,base64urlpad:Yr});const ai=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Xr=ai.reduce((vs,ms,ws)=>(vs[ws]=ms,vs),[]),Zr=ai.reduce((vs,ms,ws)=>(vs[ms.codePointAt(0)]=ws,vs),[]);function Qr(vs){return vs.reduce((ms,ws)=>(ms+=Xr[ws],ms),"")}function en$1(vs){const ms=[];for(const ws of vs){const Ss=Zr[ws.codePointAt(0)];if(Ss===void 0)throw new Error(`Non-base256emoji character: ${ws}`);ms.push(Ss)}return new Uint8Array(ms)}const tn$1=Se({prefix:"🚀",name:"base256emoji",encode:Qr,decode:en$1});var sn=Object.freeze({__proto__:null,base256emoji:tn$1}),rn=hi,ci=128,on$1=-128,an=Math.pow(2,31);function hi(vs,ms,ws){ms=ms||[],ws=ws||0;for(var Ss=ws;vs>=an;)ms[ws++]=vs&255|ci,vs/=128;for(;vs&on$1;)ms[ws++]=vs&255|ci,vs>>>=7;return ms[ws]=vs|0,hi.bytes=ws-Ss+1,ms}var cn=Ve,hn=128,li=127;function Ve(vs,Ss){var ws=0,Ss=Ss||0,Es=0,_s=Ss,Is,Ts=vs.length;do{if(_s>=Ts)throw Ve.bytes=0,new RangeError("Could not decode varint");Is=vs[_s++],ws+=Es<28?(Is&li)<<Es:(Is&li)*Math.pow(2,Es),Es+=7}while(Is>=hn);return Ve.bytes=_s-Ss,ws}var ln=Math.pow(2,7),un=Math.pow(2,14),dn=Math.pow(2,21),gn=Math.pow(2,28),pn=Math.pow(2,35),yn=Math.pow(2,42),bn$1=Math.pow(2,49),mn=Math.pow(2,56),fn=Math.pow(2,63),Dn=function(vs){return vs<ln?1:vs<un?2:vs<dn?3:vs<gn?4:vs<pn?5:vs<yn?6:vs<bn$1?7:vs<mn?8:vs<fn?9:10},vn={encode:rn,decode:cn,encodingLength:Dn},ui=vn;const di=(vs,ms,ws=0)=>(ui.encode(vs,ms,ws),ms),gi=vs=>ui.encodingLength(vs),qe=(vs,ms)=>{const ws=ms.byteLength,Ss=gi(vs),Es=Ss+gi(ws),_s=new Uint8Array(Es+ws);return di(vs,_s,0),di(ws,_s,Ss),_s.set(ms,Es),new wn(vs,ws,ms,_s)};class wn{constructor(ms,ws,Ss,Es){this.code=ms,this.size=ws,this.digest=Ss,this.bytes=Es}}const pi=({name:vs,code:ms,encode:ws})=>new _n(vs,ms,ws);class _n{constructor(ms,ws,Ss){this.name=ms,this.code=ws,this.encode=Ss}digest(ms){if(ms instanceof Uint8Array){const ws=this.encode(ms);return ws instanceof Uint8Array?qe(this.code,ws):ws.then(Ss=>qe(this.code,Ss))}else throw Error("Unknown type, must be binary type")}}const yi=vs=>async ms=>new Uint8Array(await crypto.subtle.digest(vs,ms)),En=pi({name:"sha2-256",code:18,encode:yi("SHA-256")}),In=pi({name:"sha2-512",code:19,encode:yi("SHA-512")});var Tn=Object.freeze({__proto__:null,sha256:En,sha512:In});const bi=0,Cn="identity",mi=ni,Pn=vs=>qe(bi,mi(vs)),Sn={code:bi,name:Cn,encode:mi,digest:Pn};var On=Object.freeze({__proto__:null,identity:Sn});new TextEncoder,new TextDecoder;const fi={...vr,..._r,...Ir,...Cr,...Or,...Ur,...Kr,...qr,...Jr,...sn};({...Tn,...On});function Di(vs){return globalThis.Buffer!=null?new Uint8Array(vs.buffer,vs.byteOffset,vs.byteLength):vs}function Rn(vs=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Di(globalThis.Buffer.allocUnsafe(vs)):new Uint8Array(vs)}function vi(vs,ms,ws,Ss){return{name:vs,prefix:ms,encoder:{name:vs,prefix:ms,encode:ws},decoder:{decode:Ss}}}const wi=vi("utf8","u",vs=>"u"+new TextDecoder("utf8").decode(vs),vs=>new TextEncoder().encode(vs.substring(1))),Ge=vi("ascii","a",vs=>{let ms="a";for(let ws=0;ws<vs.length;ws++)ms+=String.fromCharCode(vs[ws]);return ms},vs=>{vs=vs.substring(1);const ms=Rn(vs.length);for(let ws=0;ws<vs.length;ws++)ms[ws]=vs.charCodeAt(ws);return ms}),An={utf8:wi,"utf-8":wi,hex:fi.base16,latin1:Ge,ascii:Ge,binary:Ge,...fi};function xn(vs,ms="utf8"){const ws=An[ms];if(!ws)throw new Error(`Unsupported encoding "${ms}"`);return(ms==="utf8"||ms==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Di(globalThis.Buffer.from(vs,"utf-8")):ws.decoder.decode(`${ws.prefix}${vs}`)}var Nn=Object.defineProperty,$n=(vs,ms,ws)=>ms in vs?Nn(vs,ms,{enumerable:!0,configurable:!0,writable:!0,value:ws}):vs[ms]=ws,J$3=(vs,ms,ws)=>$n(vs,typeof ms!="symbol"?ms+"":ms,ws);class _i{constructor(ms,ws){this.core=ms,this.logger=ws,J$3(this,"keychain",new Map),J$3(this,"name",St$2),J$3(this,"version",Ot$1),J$3(this,"initialized",!1),J$3(this,"storagePrefix",W$3),J$3(this,"init",async()=>{if(!this.initialized){const Ss=await this.getKeyChain();typeof Ss<"u"&&(this.keychain=Ss),this.initialized=!0}}),J$3(this,"has",Ss=>(this.isInitialized(),this.keychain.has(Ss))),J$3(this,"set",async(Ss,Es)=>{this.isInitialized(),this.keychain.set(Ss,Es),await this.persist()}),J$3(this,"get",Ss=>{this.isInitialized();const Es=this.keychain.get(Ss);if(typeof Es>"u"){const{message:_s}=Et$2("NO_MATCHING_KEY",`${this.name}: ${Ss}`);throw new Error(_s)}return Es}),J$3(this,"del",async Ss=>{this.isInitialized(),this.keychain.delete(Ss),await this.persist()}),this.core=ms,this.logger=E$4(ws,this.name)}get context(){return y$5(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(ms){await this.core.storage.setItem(this.storageKey,Ys(ms))}async getKeyChain(){const ms=await this.core.storage.getItem(this.storageKey);return typeof ms<"u"?Xs(ms):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:ms}=Et$2("NOT_INITIALIZED",this.name);throw new Error(ms)}}}var zn=Object.defineProperty,Ln=(vs,ms,ws)=>ms in vs?zn(vs,ms,{enumerable:!0,configurable:!0,writable:!0,value:ws}):vs[ms]=ws,x$3=(vs,ms,ws)=>Ln(vs,typeof ms!="symbol"?ms+"":ms,ws);class Ei{constructor(ms,ws,Ss){this.core=ms,this.logger=ws,x$3(this,"name",Ct$1),x$3(this,"keychain"),x$3(this,"randomSessionIdentifier",qc()),x$3(this,"initialized",!1),x$3(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),x$3(this,"hasKeys",Es=>(this.isInitialized(),this.keychain.has(Es))),x$3(this,"getClientId",async()=>{this.isInitialized();const Es=await this.getClientSeed(),_s=Po$2(Es);return Qe$2(_s.publicKey)}),x$3(this,"generateKeyPair",()=>{this.isInitialized();const Es=Vc();return this.setPrivateKey(Es.publicKey,Es.privateKey)}),x$3(this,"signJWT",async Es=>{this.isInitialized();const _s=await this.getClientSeed(),Is=Po$2(_s),Ts=this.randomSessionIdentifier;return await Qo$2(Ts,Es,Pt$1,Is)}),x$3(this,"generateSharedKey",(Es,_s,Is)=>{this.isInitialized();const Ts=this.getPrivateKey(Es),Rs=Kc(Ts,_s);return this.setSymKey(Rs,Is)}),x$3(this,"setSymKey",async(Es,_s)=>{this.isInitialized();const Is=_s||Fc(Es);return await this.keychain.set(Is,Es),Is}),x$3(this,"deleteKeyPair",async Es=>{this.isInitialized(),await this.keychain.del(Es)}),x$3(this,"deleteSymKey",async Es=>{this.isInitialized(),await this.keychain.del(Es)}),x$3(this,"encode",async(Es,_s,Is)=>{this.isInitialized();const Ts=Ho$1(Is),Rs=safeJsonStringify$2(_s);if(Qc(Ts))return Wc(Rs,Is==null?void 0:Is.encoding);if(Jc(Ts)){const Js=Ts.senderPublicKey,$l=Ts.receiverPublicKey;Es=await this.generateSharedKey(Js,$l)}const Bs=this.getSymKey(Es),{type:Ns,senderPublicKey:Ws}=Ts;return Gc({type:Ns,symKey:Bs,message:Rs,senderPublicKey:Ws,encoding:Is==null?void 0:Is.encoding})}),x$3(this,"decode",async(Es,_s,Is)=>{this.isInitialized();const Ts=Xc(_s,Is);if(Qc(Ts)){const Rs=Yc(_s,Is==null?void 0:Is.encoding);return safeJsonParse$2(Rs)}if(Jc(Ts)){const Rs=Ts.receiverPublicKey,Bs=Ts.senderPublicKey;Es=await this.generateSharedKey(Rs,Bs)}try{const Rs=this.getSymKey(Es),Bs=Zc({symKey:Rs,encoded:_s,encoding:Is==null?void 0:Is.encoding});return safeJsonParse$2(Bs)}catch(Rs){this.logger.error(`Failed to decode message from topic: '${Es}', clientId: '${await this.getClientId()}'`),this.logger.error(Rs)}}),x$3(this,"getPayloadType",(Es,_s=Qt$1)=>{const Is=Me$2({encoded:Es,encoding:_s});return Vt$1(Is.type)}),x$3(this,"getPayloadSenderPublicKey",(Es,_s=Qt$1)=>{const Is=Me$2({encoded:Es,encoding:_s});return Is.senderPublicKey?toString$1(Is.senderPublicKey,tt$2):void 0}),this.core=ms,this.logger=E$4(ws,this.name),this.keychain=Ss||new _i(this.core,this.logger)}get context(){return y$5(this.logger)}async setPrivateKey(ms,ws){return await this.keychain.set(ms,ws),ms}getPrivateKey(ms){return this.keychain.get(ms)}async getClientSeed(){let ms="";try{ms=this.keychain.get(Me$1)}catch{ms=qc(),await this.keychain.set(Me$1,ms)}return xn(ms,"base16")}getSymKey(ms){return this.keychain.get(ms)}isInitialized(){if(!this.initialized){const{message:ms}=Et$2("NOT_INITIALIZED",this.name);throw new Error(ms)}}}var kn=Object.defineProperty,jn=Object.defineProperties,Un=Object.getOwnPropertyDescriptors,Ii=Object.getOwnPropertySymbols,Fn=Object.prototype.hasOwnProperty,Mn=Object.prototype.propertyIsEnumerable,We=(vs,ms,ws)=>ms in vs?kn(vs,ms,{enumerable:!0,configurable:!0,writable:!0,value:ws}):vs[ms]=ws,Kn=(vs,ms)=>{for(var ws in ms||(ms={}))Fn.call(ms,ws)&&We(vs,ws,ms[ws]);if(Ii)for(var ws of Ii(ms))Mn.call(ms,ws)&&We(vs,ws,ms[ws]);return vs},Bn=(vs,ms)=>jn(vs,Un(ms)),K$3=(vs,ms,ws)=>We(vs,typeof ms!="symbol"?ms+"":ms,ws);class Ti extends y$4{constructor(ms,ws){super(ms,ws),this.logger=ms,this.core=ws,K$3(this,"messages",new Map),K$3(this,"messagesWithoutClientAck",new Map),K$3(this,"name",Rt$2),K$3(this,"version",At$1),K$3(this,"initialized",!1),K$3(this,"storagePrefix",W$3),K$3(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const Ss=await this.getRelayerMessages();typeof Ss<"u"&&(this.messages=Ss);const Es=await this.getRelayerMessagesWithoutClientAck();typeof Es<"u"&&(this.messagesWithoutClientAck=Es),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(Ss){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(Ss)}finally{this.initialized=!0}}}),K$3(this,"set",async(Ss,Es,_s)=>{this.isInitialized();const Is=zc(Es);let Ts=this.messages.get(Ss);if(typeof Ts>"u"&&(Ts={}),typeof Ts[Is]<"u")return Is;if(Ts[Is]=Es,this.messages.set(Ss,Ts),_s===ye.inbound){const Rs=this.messagesWithoutClientAck.get(Ss)||{};this.messagesWithoutClientAck.set(Ss,Bn(Kn({},Rs),{[Is]:Es}))}return await this.persist(),Is}),K$3(this,"get",Ss=>{this.isInitialized();let Es=this.messages.get(Ss);return typeof Es>"u"&&(Es={}),Es}),K$3(this,"getWithoutAck",Ss=>{this.isInitialized();const Es={};for(const _s of Ss){const Is=this.messagesWithoutClientAck.get(_s)||{};Es[_s]=Object.values(Is)}return Es}),K$3(this,"has",(Ss,Es)=>{this.isInitialized();const _s=this.get(Ss),Is=zc(Es);return typeof _s[Is]<"u"}),K$3(this,"ack",async(Ss,Es)=>{this.isInitialized();const _s=this.messagesWithoutClientAck.get(Ss);if(typeof _s>"u")return;const Is=zc(Es);delete _s[Is],Object.keys(_s).length===0?this.messagesWithoutClientAck.delete(Ss):this.messagesWithoutClientAck.set(Ss,_s),await this.persist()}),K$3(this,"del",async Ss=>{this.isInitialized(),this.messages.delete(Ss),this.messagesWithoutClientAck.delete(Ss),await this.persist()}),this.logger=E$4(ms,this.name),this.core=ws}get context(){return y$5(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(ms){await this.core.storage.setItem(this.storageKey,Ys(ms))}async setRelayerMessagesWithoutClientAck(ms){await this.core.storage.setItem(this.storageKeyWithoutClientAck,Ys(ms))}async getRelayerMessages(){const ms=await this.core.storage.getItem(this.storageKey);return typeof ms<"u"?Xs(ms):void 0}async getRelayerMessagesWithoutClientAck(){const ms=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof ms<"u"?Xs(ms):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:ms}=Et$2("NOT_INITIALIZED",this.name);throw new Error(ms)}}}var Vn=Object.defineProperty,qn=Object.defineProperties,Gn=Object.getOwnPropertyDescriptors,Ci=Object.getOwnPropertySymbols,Wn=Object.prototype.hasOwnProperty,Hn=Object.prototype.propertyIsEnumerable,He=(vs,ms,ws)=>ms in vs?Vn(vs,ms,{enumerable:!0,configurable:!0,writable:!0,value:ws}):vs[ms]=ws,ce=(vs,ms)=>{for(var ws in ms||(ms={}))Wn.call(ms,ws)&&He(vs,ws,ms[ws]);if(Ci)for(var ws of Ci(ms))Hn.call(ms,ws)&&He(vs,ws,ms[ws]);return vs},Pi=(vs,ms)=>qn(vs,Gn(ms)),G$3=(vs,ms,ws)=>He(vs,typeof ms!="symbol"?ms+"":ms,ws);class Yn extends m$6{constructor(ms,ws){super(ms,ws),this.relayer=ms,this.logger=ws,G$3(this,"events",new eventsExports.EventEmitter),G$3(this,"name",Nt$1),G$3(this,"queue",new Map),G$3(this,"publishTimeout",cjs$5.toMiliseconds(cjs$5.ONE_MINUTE)),G$3(this,"initialPublishTimeout",cjs$5.toMiliseconds(cjs$5.ONE_SECOND*15)),G$3(this,"needsTransportRestart",!1),G$3(this,"publish",async(Ss,Es,_s)=>{var Is,Ts,Rs,Bs,Ns;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:Ss,message:Es,opts:_s}});const Ws=(_s==null?void 0:_s.ttl)||xt$1,Js=(_s==null?void 0:_s.prompt)||!1,$l=(_s==null?void 0:_s.tag)||0,wl=(_s==null?void 0:_s.id)||getBigIntRpcId().toString(),_l=na(ea$1().protocol),Cl={id:wl,method:(_s==null?void 0:_s.publishMethod)||_l.publish,params:ce({topic:Ss,message:Es,ttl:Ws,prompt:Js,tag:$l,attestation:_s==null?void 0:_s.attestation},(_s==null?void 0:_s.tvf)&&{tvf:_s.tvf})},Sl=`Failed to publish payload, please try again. id:${wl} tag:${$l}`;try{kt$2((Is=Cl.params)==null?void 0:Is.prompt)&&((Ts=Cl.params)==null||delete Ts.prompt),kt$2((Rs=Cl.params)==null?void 0:Rs.tag)&&((Bs=Cl.params)==null||delete Bs.tag);const El=new Promise(async xl=>{const Ml=({id:Ul})=>{var _h;((_h=Cl.id)==null?void 0:_h.toString())===Ul.toString()&&(this.removeRequestFromQueue(Ul),this.relayer.events.removeListener(C$4.publish,Ml),xl())};this.relayer.events.on(C$4.publish,Ml);const Vl=ni$1(new Promise((Ul,_h)=>{this.rpcPublish(Cl,_s).then(Ul).catch(nu=>{this.logger.warn(nu,nu==null?void 0:nu.message),_h(nu)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${wl} tag:${$l}`);try{await Vl,this.events.removeListener(C$4.publish,Ml)}catch(Ul){this.queue.set(wl,{request:Cl,opts:_s,attempt:1}),this.logger.warn(Ul,Ul==null?void 0:Ul.message)}});this.logger.trace({type:"method",method:"publish",params:{id:wl,topic:Ss,message:Es,opts:_s}}),await ni$1(El,this.publishTimeout,Sl)}catch(El){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(El),(Ns=_s==null?void 0:_s.internal)!=null&&Ns.throwOnFailedPublish)throw El}finally{this.queue.delete(wl)}}),G$3(this,"publishCustom",async Ss=>{var Es,_s,Is,Ts,Rs;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:Ss});const{payload:Bs,opts:Ns={}}=Ss,{attestation:Ws,tvf:Js,publishMethod:$l,prompt:wl,tag:_l,ttl:Cl=cjs$5.FIVE_MINUTES}=Ns,Sl=Ns.id||getBigIntRpcId().toString(),El=na(ea$1().protocol),xl=$l||El.publish,Ml={id:Sl,method:xl,params:ce(Pi(ce({},Bs),{ttl:Cl,prompt:wl,tag:_l,attestation:Ws}),Js)},Vl=`Failed to publish custom payload, please try again. id:${Sl} tag:${_l}`;try{kt$2((Es=Ml.params)==null?void 0:Es.prompt)&&((_s=Ml.params)==null||delete _s.prompt),kt$2((Is=Ml.params)==null?void 0:Is.tag)&&((Ts=Ml.params)==null||delete Ts.tag);const Ul=new Promise(async _h=>{const nu=({id:Jl})=>{var Il;((Il=Ml.id)==null?void 0:Il.toString())===Jl.toString()&&(this.removeRequestFromQueue(Jl),this.relayer.events.removeListener(C$4.publish,nu),_h())};this.relayer.events.on(C$4.publish,nu);const su=ni$1(new Promise((Jl,Il)=>{this.rpcPublish(Ml,Ns).then(Jl).catch(Nl=>{this.logger.warn(Nl,Nl==null?void 0:Nl.message),Il(Nl)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${xl} id:${Sl} tag:${_l}`);try{await su,this.events.removeListener(C$4.publish,nu)}catch(Jl){this.queue.set(Sl,{request:Ml,opts:Ns,attempt:1}),this.logger.warn(Jl,Jl==null?void 0:Jl.message)}});this.logger.trace({type:"method",method:"publish",params:{id:Sl,payload:Bs,opts:Ns}}),await ni$1(Ul,this.publishTimeout,Vl)}catch(Ul){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(Ul),(Rs=Ns==null?void 0:Ns.internal)!=null&&Rs.throwOnFailedPublish)throw Ul}finally{this.queue.delete(Sl)}}),G$3(this,"on",(Ss,Es)=>{this.events.on(Ss,Es)}),G$3(this,"once",(Ss,Es)=>{this.events.once(Ss,Es)}),G$3(this,"off",(Ss,Es)=>{this.events.off(Ss,Es)}),G$3(this,"removeListener",(Ss,Es)=>{this.events.removeListener(Ss,Es)}),this.relayer=ms,this.logger=E$4(ws,this.name),this.registerEventListeners()}get context(){return y$5(this.logger)}async rpcPublish(ms,ws){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:ms});const Ss=await this.relayer.request(ms);return this.relayer.events.emit(C$4.publish,ce(ce({},ms),ws)),this.logger.debug("Successfully Published Payload"),Ss}removeRequestFromQueue(ms){this.queue.delete(ms)}checkQueue(){this.queue.forEach(async(ms,ws)=>{var Ss;const Es=ms.attempt+1;this.queue.set(ws,Pi(ce({},ms),{attempt:Es})),this.logger.warn({},`Publisher: queue->publishing: ${ms.request.id}, tag: ${(Ss=ms.request.params)==null?void 0:Ss.tag}, attempt: ${Es}`),await this.rpcPublish(ms.request,ms.opts),this.logger.warn({},`Publisher: queue->published: ${ms.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(r$4.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(C$4.connection_stalled);return}this.checkQueue()}),this.relayer.on(C$4.message_ack,ms=>{this.removeRequestFromQueue(ms.id.toString())})}}var Jn=Object.defineProperty,Xn=(vs,ms,ws)=>ms in vs?Jn(vs,ms,{enumerable:!0,configurable:!0,writable:!0,value:ws}):vs[ms]=ws,he=(vs,ms,ws)=>Xn(vs,typeof ms!="symbol"?ms+"":ms,ws);class Zn{constructor(){he(this,"map",new Map),he(this,"set",(ms,ws)=>{const Ss=this.get(ms);this.exists(ms,ws)||this.map.set(ms,[...Ss,ws])}),he(this,"get",ms=>this.map.get(ms)||[]),he(this,"exists",(ms,ws)=>this.get(ms).includes(ws)),he(this,"delete",(ms,ws)=>{if(typeof ws>"u"){this.map.delete(ms);return}if(!this.map.has(ms))return;const Ss=this.get(ms);if(!this.exists(ms,ws))return;const Es=Ss.filter(_s=>_s!==ws);if(!Es.length){this.map.delete(ms);return}this.map.set(ms,Es)}),he(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Qn=Object.defineProperty,eo=Object.defineProperties,to=Object.getOwnPropertyDescriptors,Si=Object.getOwnPropertySymbols,io=Object.prototype.hasOwnProperty,so=Object.prototype.propertyIsEnumerable,Ye=(vs,ms,ws)=>ms in vs?Qn(vs,ms,{enumerable:!0,configurable:!0,writable:!0,value:ws}):vs[ms]=ws,fe$1=(vs,ms)=>{for(var ws in ms||(ms={}))io.call(ms,ws)&&Ye(vs,ws,ms[ws]);if(Si)for(var ws of Si(ms))so.call(ms,ws)&&Ye(vs,ws,ms[ws]);return vs},Je=(vs,ms)=>eo(vs,to(ms)),f$5=(vs,ms,ws)=>Ye(vs,typeof ms!="symbol"?ms+"":ms,ws);class Oi extends P$6{constructor(ms,ws){super(ms,ws),this.relayer=ms,this.logger=ws,f$5(this,"subscriptions",new Map),f$5(this,"topicMap",new Zn),f$5(this,"events",new eventsExports.EventEmitter),f$5(this,"name",Mt$1),f$5(this,"version",Kt),f$5(this,"pending",new Map),f$5(this,"cached",[]),f$5(this,"initialized",!1),f$5(this,"storagePrefix",W$3),f$5(this,"subscribeTimeout",cjs$5.toMiliseconds(cjs$5.ONE_MINUTE)),f$5(this,"initialSubscribeTimeout",cjs$5.toMiliseconds(cjs$5.ONE_SECOND*15)),f$5(this,"clientId"),f$5(this,"batchSubscribeTopicsLimit",500),f$5(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),f$5(this,"subscribe",async(Ss,Es)=>{var _s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:Ss,opts:Es}});try{const Is=ea$1(Es),Ts={topic:Ss,relay:Is,transportType:Es==null?void 0:Es.transportType};(_s=Es==null?void 0:Es.internal)!=null&&_s.skipSubscribe||this.pending.set(Ss,Ts);const Rs=await this.rpcSubscribe(Ss,Is,Es);return typeof Rs=="string"&&(this.onSubscribe(Rs,Ts),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:Ss,opts:Es}})),Rs}catch(Is){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(Is),Is}}),f$5(this,"unsubscribe",async(Ss,Es)=>{this.isInitialized(),typeof(Es==null?void 0:Es.id)<"u"?await this.unsubscribeById(Ss,Es.id,Es):await this.unsubscribeByTopic(Ss,Es)}),f$5(this,"isSubscribed",Ss=>new Promise(Es=>{Es(this.topicMap.topics.includes(Ss))})),f$5(this,"isKnownTopic",Ss=>new Promise(Es=>{Es(this.topicMap.topics.includes(Ss)||this.pending.has(Ss)||this.cached.some(_s=>_s.topic===Ss))})),f$5(this,"on",(Ss,Es)=>{this.events.on(Ss,Es)}),f$5(this,"once",(Ss,Es)=>{this.events.once(Ss,Es)}),f$5(this,"off",(Ss,Es)=>{this.events.off(Ss,Es)}),f$5(this,"removeListener",(Ss,Es)=>{this.events.removeListener(Ss,Es)}),f$5(this,"start",async()=>{await this.onConnect()}),f$5(this,"stop",async()=>{await this.onDisconnect()}),f$5(this,"restart",async()=>{await this.restore(),await this.onRestart()}),f$5(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const Ss=[];this.pending.forEach(Es=>{Ss.push(Es)}),await this.batchSubscribe(Ss)}),f$5(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(r$4.pulse,async()=>{await this.checkPending()}),this.events.on(U$3.created,async Ss=>{const Es=U$3.created;this.logger.info(`Emitting ${Es}`),this.logger.debug({type:"event",event:Es,data:Ss}),await this.persist()}),this.events.on(U$3.deleted,async Ss=>{const Es=U$3.deleted;this.logger.info(`Emitting ${Es}`),this.logger.debug({type:"event",event:Es,data:Ss}),await this.persist()})}),this.relayer=ms,this.logger=E$4(ws,this.name),this.clientId=""}get context(){return y$5(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(ms,ws){let Ss=!1;try{Ss=this.getSubscription(ms).topic===ws}catch{}return Ss}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(ms,ws){const Ss=this.topicMap.get(ms);await Promise.all(Ss.map(async Es=>await this.unsubscribeById(ms,Es,ws)))}async unsubscribeById(ms,ws,Ss){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:ms,id:ws,opts:Ss}});try{const Es=ea$1(Ss);await this.restartToComplete({topic:ms,id:ws,relay:Es}),await this.rpcUnsubscribe(ms,ws,Es);const _s=Kt$1("USER_DISCONNECTED",`${this.name}, ${ms}`);await this.onUnsubscribe(ms,ws,_s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:ms,id:ws,opts:Ss}})}catch(Es){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(Es),Es}}async rpcSubscribe(ms,ws,Ss){var Es,_s;const Is=await this.getSubscriptionId(ms);if((Es=Ss==null?void 0:Ss.internal)!=null&&Es.skipSubscribe)return Is;(!Ss||(Ss==null?void 0:Ss.transportType)===ee$1.relay)&&await this.restartToComplete({topic:ms,id:ms,relay:ws});const Ts={method:na(ws.protocol).subscribe,params:{topic:ms}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:Ts});const Rs=(_s=Ss==null?void 0:Ss.internal)==null?void 0:_s.throwOnFailedPublish;try{if((Ss==null?void 0:Ss.transportType)===ee$1.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(Ts).catch(Ws=>this.logger.warn(Ws))},cjs$5.toMiliseconds(cjs$5.ONE_SECOND)),Is;const Bs=new Promise(async Ws=>{const Js=$l=>{$l.topic===ms&&(this.events.removeListener(U$3.created,Js),Ws($l.id))};this.events.on(U$3.created,Js);try{const $l=await ni$1(new Promise((wl,_l)=>{this.relayer.request(Ts).catch(Cl=>{this.logger.warn(Cl,Cl==null?void 0:Cl.message),_l(Cl)}).then(wl)}),this.initialSubscribeTimeout,`Subscribing to ${ms} failed, please try again`);this.events.removeListener(U$3.created,Js),Ws($l)}catch{}}),Ns=await ni$1(Bs,this.subscribeTimeout,`Subscribing to ${ms} failed, please try again`);if(!Ns&&Rs)throw new Error(`Subscribing to ${ms} failed, please try again`);return Ns?Is:null}catch(Bs){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(C$4.connection_stalled),Rs)throw Bs}return null}async rpcBatchSubscribe(ms){if(!ms.length)return;const ws=ms[0].relay,Ss={method:na(ws.protocol).batchSubscribe,params:{topics:ms.map(Es=>Es.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:Ss});try{await await ni$1(new Promise(Es=>{this.relayer.request(Ss).catch(_s=>this.logger.warn(_s)).then(Es)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(C$4.connection_stalled)}}async rpcBatchFetchMessages(ms){if(!ms.length)return;const ws=ms[0].relay,Ss={method:na(ws.protocol).batchFetchMessages,params:{topics:ms.map(_s=>_s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:Ss});let Es;try{Es=await await ni$1(new Promise((_s,Is)=>{this.relayer.request(Ss).catch(Ts=>{this.logger.warn(Ts),Is(Ts)}).then(_s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(C$4.connection_stalled)}return Es}rpcUnsubscribe(ms,ws,Ss){const Es={method:na(Ss.protocol).unsubscribe,params:{topic:ms,id:ws}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:Es}),this.relayer.request(Es)}onSubscribe(ms,ws){this.setSubscription(ms,Je(fe$1({},ws),{id:ms})),this.pending.delete(ws.topic)}onBatchSubscribe(ms){ms.length&&ms.forEach(ws=>{this.setSubscription(ws.id,fe$1({},ws)),this.pending.delete(ws.topic)})}async onUnsubscribe(ms,ws,Ss){this.events.removeAllListeners(ws),this.hasSubscription(ws,ms)&&this.deleteSubscription(ws,Ss),await this.relayer.messages.del(ms)}async setRelayerSubscriptions(ms){await this.relayer.core.storage.setItem(this.storageKey,ms)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(ms,ws){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:ms,subscription:ws}),this.addSubscription(ms,ws)}addSubscription(ms,ws){this.subscriptions.set(ms,fe$1({},ws)),this.topicMap.set(ws.topic,ms),this.events.emit(U$3.created,ws)}getSubscription(ms){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:ms});const ws=this.subscriptions.get(ms);if(!ws){const{message:Ss}=Et$2("NO_MATCHING_KEY",`${this.name}: ${ms}`);throw new Error(Ss)}return ws}deleteSubscription(ms,ws){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:ms,reason:ws});const Ss=this.getSubscription(ms);this.subscriptions.delete(ms),this.topicMap.delete(Ss.topic,ms),this.events.emit(U$3.deleted,Je(fe$1({},Ss),{reason:ws}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(U$3.sync)}async onRestart(){if(this.cached.length){const ms=[...this.cached],ws=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let Ss=0;Ss<ws;Ss++){const Es=ms.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(Es)}}this.events.emit(U$3.resubscribed)}async restore(){try{const ms=await this.getRelayerSubscriptions();if(typeof ms>"u"||!ms.length)return;if(this.subscriptions.size&&!ms.every(ws=>{var Ss;return ws.topic===((Ss=this.subscriptions.get(ws.id))==null?void 0:Ss.topic)})){const{message:ws}=Et$2("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(ws),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(ws)}this.cached=ms,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(ms){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(ms)}}async batchSubscribe(ms){ms.length&&(await this.rpcBatchSubscribe(ms),this.onBatchSubscribe(await Promise.all(ms.map(async ws=>Je(fe$1({},ws),{id:await this.getSubscriptionId(ws.topic)})))))}async batchFetchMessages(ms){if(!ms.length)return;this.logger.trace(`Fetching batch messages for ${ms.length} subscriptions`);const ws=await this.rpcBatchFetchMessages(ms);ws&&ws.messages&&(await pi$1(cjs$5.toMiliseconds(cjs$5.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(ws.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:ms}=Et$2("NOT_INITIALIZED",this.name);throw new Error(ms)}}async restartToComplete(ms){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(ms),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(ms){return zc(ms+await this.getClientId())}}var ro=Object.defineProperty,Ri=Object.getOwnPropertySymbols,no=Object.prototype.hasOwnProperty,oo=Object.prototype.propertyIsEnumerable,Xe=(vs,ms,ws)=>ms in vs?ro(vs,ms,{enumerable:!0,configurable:!0,writable:!0,value:ws}):vs[ms]=ws,Ai=(vs,ms)=>{for(var ws in ms||(ms={}))no.call(ms,ws)&&Xe(vs,ws,ms[ws]);if(Ri)for(var ws of Ri(ms))oo.call(ms,ws)&&Xe(vs,ws,ms[ws]);return vs},g$4=(vs,ms,ws)=>Xe(vs,typeof ms!="symbol"?ms+"":ms,ws);class xi extends d$4{constructor(ms){super(ms),g$4(this,"protocol","wc"),g$4(this,"version",2),g$4(this,"core"),g$4(this,"logger"),g$4(this,"events",new eventsExports.EventEmitter),g$4(this,"provider"),g$4(this,"messages"),g$4(this,"subscriber"),g$4(this,"publisher"),g$4(this,"name",Lt$1),g$4(this,"transportExplicitlyClosed",!1),g$4(this,"initialized",!1),g$4(this,"connectionAttemptInProgress",!1),g$4(this,"relayUrl"),g$4(this,"projectId"),g$4(this,"packageName"),g$4(this,"bundleId"),g$4(this,"hasExperiencedNetworkDisruption",!1),g$4(this,"pingTimeout"),g$4(this,"heartBeatTimeout",cjs$5.toMiliseconds(cjs$5.THIRTY_SECONDS+cjs$5.FIVE_SECONDS)),g$4(this,"reconnectTimeout"),g$4(this,"connectPromise"),g$4(this,"reconnectInProgress",!1),g$4(this,"requestsInFlight",[]),g$4(this,"connectTimeout",cjs$5.toMiliseconds(cjs$5.ONE_SECOND*15)),g$4(this,"request",async ws=>{var Ss,Es;this.logger.debug("Publishing Request Payload");const _s=ws.id||getBigIntRpcId().toString();await this.toEstablishConnection();try{this.logger.trace({id:_s,method:ws.method,topic:(Ss=ws.params)==null?void 0:Ss.topic},"relayer.request - publishing...");const Is=`${_s}:${((Es=ws.params)==null?void 0:Es.tag)||""}`;this.requestsInFlight.push(Is);const Ts=await this.provider.request(ws);return this.requestsInFlight=this.requestsInFlight.filter(Rs=>Rs!==Is),Ts}catch(Is){throw this.logger.debug(`Failed to Publish Request: ${_s}`),Is}}),g$4(this,"resetPingTimeout",()=>{Ye$1()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var ws,Ss,Es,_s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(_s=(Es=(Ss=(ws=this.provider)==null?void 0:ws.connection)==null?void 0:Ss.socket)==null?void 0:Es.terminate)==null||_s.call(Es)}catch(Is){this.logger.warn(Is,Is==null?void 0:Is.message)}},this.heartBeatTimeout))}),g$4(this,"onPayloadHandler",ws=>{this.onProviderPayload(ws),this.resetPingTimeout()}),g$4(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(C$4.connect)}),g$4(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),g$4(this,"onProviderErrorHandler",ws=>{this.logger.fatal(`Fatal socket error: ${ws.message}`),this.events.emit(C$4.error,ws),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),g$4(this,"registerProviderListeners",()=>{this.provider.on(M$4.payload,this.onPayloadHandler),this.provider.on(M$4.connect,this.onConnectHandler),this.provider.on(M$4.disconnect,this.onDisconnectHandler),this.provider.on(M$4.error,this.onProviderErrorHandler)}),this.core=ms.core,this.logger=typeof ms.logger<"u"&&typeof ms.logger!="string"?E$4(ms.logger,this.name):Ct$3(k$5({level:ms.logger||zt})),this.messages=new Ti(this.logger,ms.core),this.subscriber=new Oi(this,this.logger),this.publisher=new Yn(this,this.logger),this.projectId=ms==null?void 0:ms.projectId,this.relayUrl=(ms==null?void 0:ms.relayUrl)||Ke$1,Ms$1()?this.packageName=qs():Vs$1()&&(this.bundleId=qs()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(ms=>this.logger.warn(ms,ms==null?void 0:ms.message))}get context(){return y$5(this.logger)}get connected(){var ms,ws,Ss;return((Ss=(ws=(ms=this.provider)==null?void 0:ms.connection)==null?void 0:ws.socket)==null?void 0:Ss.readyState)===1||!1}get connecting(){var ms,ws,Ss;return((Ss=(ws=(ms=this.provider)==null?void 0:ms.connection)==null?void 0:ws.socket)==null?void 0:Ss.readyState)===0||this.connectPromise!==void 0||!1}async publish(ms,ws,Ss){this.isInitialized(),await this.publisher.publish(ms,ws,Ss),await this.recordMessageEvent({topic:ms,message:ws,publishedAt:Date.now(),transportType:ee$1.relay},ye.outbound)}async publishCustom(ms){this.isInitialized(),await this.publisher.publishCustom(ms)}async subscribe(ms,ws){var Ss,Es,_s;this.isInitialized(),(!(ws!=null&&ws.transportType)||(ws==null?void 0:ws.transportType)==="relay")&&await this.toEstablishConnection();const Is=typeof((Ss=ws==null?void 0:ws.internal)==null?void 0:Ss.throwOnFailedPublish)>"u"?!0:(Es=ws==null?void 0:ws.internal)==null?void 0:Es.throwOnFailedPublish;let Ts=((_s=this.subscriber.topicMap.get(ms))==null?void 0:_s[0])||"",Rs;const Bs=Ns=>{Ns.topic===ms&&(this.subscriber.off(U$3.created,Bs),Rs())};return await Promise.all([new Promise(Ns=>{Rs=Ns,this.subscriber.on(U$3.created,Bs)}),new Promise(async(Ns,Ws)=>{Ts=await this.subscriber.subscribe(ms,Ai({internal:{throwOnFailedPublish:Is}},ws)).catch(Js=>{Is&&Ws(Js)})||Ts,Ns()})]),Ts}async unsubscribe(ms,ws){this.isInitialized(),await this.subscriber.unsubscribe(ms,ws)}on(ms,ws){this.events.on(ms,ws)}once(ms,ws){this.events.once(ms,ws)}off(ms,ws){this.events.off(ms,ws)}removeListener(ms,ws){this.events.removeListener(ms,ws)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await ni$1(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(ms){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(ws,Ss)=>{await this.connect(ms).then(ws).catch(Ss).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(ms){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=ms||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await ja())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(ms){if((ms==null?void 0:ms.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const ws=ms.sort((Ss,Es)=>Ss.publishedAt-Es.publishedAt);this.logger.debug(`Batch of ${ws.length} message events sorted`);for(const Ss of ws)try{await this.onMessageEvent(Ss)}catch(Es){this.logger.warn(Es,"Error while processing batch message event: "+(Es==null?void 0:Es.message))}this.logger.trace(`Batch of ${ws.length} message events processed`)}async onLinkMessageEvent(ms,ws){const{topic:Ss}=ms;if(!ws.sessionExists){const Es=ii$1(cjs$5.FIVE_MINUTES),_s={topic:Ss,expiry:Es,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(Ss,_s)}this.events.emit(C$4.message,ms),await this.recordMessageEvent(ms,ye.inbound)}async connect(ms){await this.confirmOnlineStateOrThrow(),ms&&ms!==this.relayUrl&&(this.relayUrl=ms,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let ws=1;for(;ws<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${ws}...`),await this.createProvider(),await new Promise(async(Ss,Es)=>{const _s=()=>{Es(new Error("Connection interrupted while trying to connect"))};this.provider.once(M$4.disconnect,_s),await ni$1(new Promise((Is,Ts)=>{this.provider.connect().then(Is).catch(Ts)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(Is=>{Es(Is)}).finally(()=>{this.provider.off(M$4.disconnect,_s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(Is,Ts)=>{const Rs=()=>{Es(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(M$4.disconnect,Rs),await this.subscriber.start().then(Is).catch(Ts).finally(()=>{this.provider.off(M$4.disconnect,Rs)})}),this.hasExperiencedNetworkDisruption=!1,Ss()})}catch(Ss){await this.subscriber.stop();const Es=Ss;this.logger.warn({},Es.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${ws}`);break}await new Promise(Ss=>setTimeout(Ss,cjs$5.toMiliseconds(ws*1))),ws++}}startPingTimeout(){var ms,ws,Ss,Es,_s;if(Ye$1())try{(ws=(ms=this.provider)==null?void 0:ms.connection)!=null&&ws.socket&&((_s=(Es=(Ss=this.provider)==null?void 0:Ss.connection)==null?void 0:Es.socket)==null||_s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(Is){this.logger.warn(Is,Is==null?void 0:Is.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const ms=await this.core.crypto.signJWT(this.relayUrl);this.provider=new o$1(new f$6(zs({sdkVersion:Pe,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:ms,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(ms,ws){const{topic:Ss,message:Es}=ms;await this.messages.set(Ss,Es,ws)}async shouldIgnoreMessageEvent(ms){const{topic:ws,message:Ss}=ms;if(!Ss||Ss.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${Ss}`),!0;if(!await this.subscriber.isKnownTopic(ws))return this.logger.warn(`Ignoring message for unknown topic ${ws}`),!0;const Es=this.messages.has(ws,Ss);return Es&&this.logger.warn(`Ignoring duplicate message: ${Ss}`),Es}async onProviderPayload(ms){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:ms}),isJsonRpcRequest$1(ms)){if(!ms.method.endsWith(kt$1))return;const ws=ms.params,{topic:Ss,message:Es,publishedAt:_s,attestation:Is}=ws.data,Ts={topic:Ss,message:Es,publishedAt:_s,transportType:ee$1.relay,attestation:Is};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Ai({type:"event",event:ws.id},Ts)),this.events.emit(ws.id,Ts),await this.acknowledgePayload(ms),await this.onMessageEvent(Ts)}else isJsonRpcResponse(ms)&&this.events.emit(C$4.message_ack,ms)}async onMessageEvent(ms){await this.shouldIgnoreMessageEvent(ms)||(await this.recordMessageEvent(ms,ye.inbound),this.events.emit(C$4.message,ms))}async acknowledgePayload(ms){const ws=formatJsonRpcResult(ms.id,!0);await this.provider.connection.send(ws)}unregisterProviderListeners(){this.provider.off(M$4.payload,this.onPayloadHandler),this.provider.off(M$4.connect,this.onConnectHandler),this.provider.off(M$4.disconnect,this.onDisconnectHandler),this.provider.off(M$4.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let ms=await ja();ka(async ws=>{ms!==ws&&(ms=ws,ws?await this.transportOpen().catch(Ss=>this.logger.error(Ss,Ss==null?void 0:Ss.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(r$4.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&Pa())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(ws){this.logger.warn(ws,ws==null?void 0:ws.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(C$4.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(ms=>this.logger.error(ms,ms==null?void 0:ms.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},cjs$5.toMiliseconds(jt$1)))))}isInitialized(){if(!this.initialized){const{message:ms}=Et$2("NOT_INITIALIZED",this.name);throw new Error(ms)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function ao(vs,ms){return vs===ms||Number.isNaN(vs)&&Number.isNaN(ms)}function Ni(vs){return Object.getOwnPropertySymbols(vs).filter(ms=>Object.prototype.propertyIsEnumerable.call(vs,ms))}function $i(vs){return vs==null?vs===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(vs)}const co="[object RegExp]",ho="[object String]",lo="[object Number]",uo="[object Boolean]",zi="[object Arguments]",go="[object Symbol]",po="[object Date]",yo="[object Map]",bo="[object Set]",mo="[object Array]",fo="[object Function]",Do="[object ArrayBuffer]",Ze="[object Object]",vo="[object Error]",wo="[object DataView]",_o="[object Uint8Array]",Eo="[object Uint8ClampedArray]",Io="[object Uint16Array]",To="[object Uint32Array]",Co="[object BigUint64Array]",Po="[object Int8Array]",So="[object Int16Array]",Oo="[object Int32Array]",Ro="[object BigInt64Array]",Ao="[object Float32Array]",xo="[object Float64Array]";function No(){}function Li(vs){if(!vs||typeof vs!="object")return!1;const ms=Object.getPrototypeOf(vs);return ms===null||ms===Object.prototype||Object.getPrototypeOf(ms)===null?Object.prototype.toString.call(vs)==="[object Object]":!1}function $o(vs,ms,ws){return De$1(vs,ms,void 0,void 0,void 0,void 0,ws)}function De$1(vs,ms,ws,Ss,Es,_s,Is){const Ts=Is(vs,ms,ws,Ss,Es,_s);if(Ts!==void 0)return Ts;if(typeof vs==typeof ms)switch(typeof vs){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return vs===ms;case"number":return vs===ms||Object.is(vs,ms);case"function":return vs===ms;case"object":return ve(vs,ms,_s,Is)}return ve(vs,ms,_s,Is)}function ve(vs,ms,ws,Ss){if(Object.is(vs,ms))return!0;let Es=$i(vs),_s=$i(ms);if(Es===zi&&(Es=Ze),_s===zi&&(_s=Ze),Es!==_s)return!1;switch(Es){case ho:return vs.toString()===ms.toString();case lo:{const Rs=vs.valueOf(),Bs=ms.valueOf();return ao(Rs,Bs)}case uo:case po:case go:return Object.is(vs.valueOf(),ms.valueOf());case co:return vs.source===ms.source&&vs.flags===ms.flags;case fo:return vs===ms}ws=ws??new Map;const Is=ws.get(vs),Ts=ws.get(ms);if(Is!=null&&Ts!=null)return Is===ms;ws.set(vs,ms),ws.set(ms,vs);try{switch(Es){case yo:{if(vs.size!==ms.size)return!1;for(const[Rs,Bs]of vs.entries())if(!ms.has(Rs)||!De$1(Bs,ms.get(Rs),Rs,vs,ms,ws,Ss))return!1;return!0}case bo:{if(vs.size!==ms.size)return!1;const Rs=Array.from(vs.values()),Bs=Array.from(ms.values());for(let Ns=0;Ns<Rs.length;Ns++){const Ws=Rs[Ns],Js=Bs.findIndex($l=>De$1(Ws,$l,void 0,vs,ms,ws,Ss));if(Js===-1)return!1;Bs.splice(Js,1)}return!0}case mo:case _o:case Eo:case Io:case To:case Co:case Po:case So:case Oo:case Ro:case Ao:case xo:{if(typeof Buffer<"u"&&Buffer.isBuffer(vs)!==Buffer.isBuffer(ms)||vs.length!==ms.length)return!1;for(let Rs=0;Rs<vs.length;Rs++)if(!De$1(vs[Rs],ms[Rs],Rs,vs,ms,ws,Ss))return!1;return!0}case Do:return vs.byteLength!==ms.byteLength?!1:ve(new Uint8Array(vs),new Uint8Array(ms),ws,Ss);case wo:return vs.byteLength!==ms.byteLength||vs.byteOffset!==ms.byteOffset?!1:ve(new Uint8Array(vs),new Uint8Array(ms),ws,Ss);case vo:return vs.name===ms.name&&vs.message===ms.message;case Ze:{if(!(ve(vs.constructor,ms.constructor,ws,Ss)||Li(vs)&&Li(ms)))return!1;const Rs=[...Object.keys(vs),...Ni(vs)],Bs=[...Object.keys(ms),...Ni(ms)];if(Rs.length!==Bs.length)return!1;for(let Ns=0;Ns<Rs.length;Ns++){const Ws=Rs[Ns],Js=vs[Ws];if(!Object.hasOwn(ms,Ws))return!1;const $l=ms[Ws];if(!De$1(Js,$l,Ws,vs,ms,ws,Ss))return!1}return!0}default:return!1}}finally{ws.delete(vs),ws.delete(ms)}}function zo(vs,ms){return $o(vs,ms,No)}var Lo=Object.defineProperty,ki=Object.getOwnPropertySymbols,ko=Object.prototype.hasOwnProperty,jo=Object.prototype.propertyIsEnumerable,Qe=(vs,ms,ws)=>ms in vs?Lo(vs,ms,{enumerable:!0,configurable:!0,writable:!0,value:ws}):vs[ms]=ws,ji=(vs,ms)=>{for(var ws in ms||(ms={}))ko.call(ms,ws)&&Qe(vs,ws,ms[ws]);if(ki)for(var ws of ki(ms))jo.call(ms,ws)&&Qe(vs,ws,ms[ws]);return vs},F$3=(vs,ms,ws)=>Qe(vs,typeof ms!="symbol"?ms+"":ms,ws);class Ui extends f$7{constructor(ms,ws,Ss,Es=W$3,_s=void 0){super(ms,ws,Ss,Es),this.core=ms,this.logger=ws,this.name=Ss,F$3(this,"map",new Map),F$3(this,"version",Ut$1),F$3(this,"cached",[]),F$3(this,"initialized",!1),F$3(this,"getKey"),F$3(this,"storagePrefix",W$3),F$3(this,"recentlyDeleted",[]),F$3(this,"recentlyDeletedLimit",200),F$3(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(Is=>{this.getKey&&Is!==null&&!kt$2(Is)?this.map.set(this.getKey(Is),Is):wa(Is)?this.map.set(Is.id,Is):xa(Is)&&this.map.set(Is.topic,Is)}),this.cached=[],this.initialized=!0)}),F$3(this,"set",async(Is,Ts)=>{this.isInitialized(),this.map.has(Is)?await this.update(Is,Ts):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:Is,value:Ts}),this.map.set(Is,Ts),await this.persist())}),F$3(this,"get",Is=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:Is}),this.getData(Is))),F$3(this,"getAll",Is=>(this.isInitialized(),Is?this.values.filter(Ts=>Object.keys(Is).every(Rs=>zo(Ts[Rs],Is[Rs]))):this.values)),F$3(this,"update",async(Is,Ts)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:Is,update:Ts});const Rs=ji(ji({},this.getData(Is)),Ts);this.map.set(Is,Rs),await this.persist()}),F$3(this,"delete",async(Is,Ts)=>{this.isInitialized(),this.map.has(Is)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:Is,reason:Ts}),this.map.delete(Is),this.addToRecentlyDeleted(Is),await this.persist())}),this.logger=E$4(ws,this.name),this.storagePrefix=Es,this.getKey=_s}get context(){return y$5(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(ms){this.recentlyDeleted.push(ms),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(ms){await this.core.storage.setItem(this.storageKey,ms)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(ms){const ws=this.map.get(ms);if(!ws){if(this.recentlyDeleted.includes(ms)){const{message:Es}=Et$2("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${ms}`);throw this.logger.error(Es),new Error(Es)}const{message:Ss}=Et$2("NO_MATCHING_KEY",`${this.name}: ${ms}`);throw this.logger.error(Ss),new Error(Ss)}return ws}async persist(){await this.setDataStore(this.values)}async restore(){try{const ms=await this.getDataStore();if(typeof ms>"u"||!ms.length)return;if(this.map.size){const{message:ws}=Et$2("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(ws),new Error(ws)}this.cached=ms,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(ms){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(ms)}}isInitialized(){if(!this.initialized){const{message:ms}=Et$2("NOT_INITIALIZED",this.name);throw new Error(ms)}}}var Uo=Object.defineProperty,Fo=(vs,ms,ws)=>ms in vs?Uo(vs,ms,{enumerable:!0,configurable:!0,writable:!0,value:ws}):vs[ms]=ws,d$2=(vs,ms,ws)=>Fo(vs,typeof ms!="symbol"?ms+"":ms,ws);class Fi{constructor(ms,ws){this.core=ms,this.logger=ws,d$2(this,"name",Bt$1),d$2(this,"version",Vt),d$2(this,"events",new ys$1),d$2(this,"pairings"),d$2(this,"initialized",!1),d$2(this,"storagePrefix",W$3),d$2(this,"ignoredPayloadTypes",[ee$2]),d$2(this,"registeredMethods",[]),d$2(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),d$2(this,"register",({methods:Ss})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...Ss])]}),d$2(this,"create",async Ss=>{this.isInitialized();const Es=qc(),_s=await this.core.crypto.setSymKey(Es),Is=ii$1(cjs$5.FIVE_MINUTES),Ts={protocol:$t},Rs={topic:_s,expiry:Is,relay:Ts,active:!1,methods:Ss==null?void 0:Ss.methods},Bs=oa({protocol:this.core.protocol,version:this.core.version,topic:_s,symKey:Es,relay:Ts,expiryTimestamp:Is,methods:Ss==null?void 0:Ss.methods});return this.events.emit(ae$1.create,Rs),this.core.expirer.set(_s,Is),await this.pairings.set(_s,Rs),await this.core.relayer.subscribe(_s,{transportType:Ss==null?void 0:Ss.transportType,internal:Ss==null?void 0:Ss.internal}),{topic:_s,uri:Bs}}),d$2(this,"pair",async Ss=>{this.isInitialized();const Es=this.core.eventClient.createEvent({properties:{topic:Ss==null?void 0:Ss.uri,trace:[Y$3.pairing_started]}});this.isValidPair(Ss,Es);const{topic:_s,symKey:Is,relay:Ts,expiryTimestamp:Rs,methods:Bs}=ra(Ss.uri);Es.props.properties.topic=_s,Es.addTrace(Y$3.pairing_uri_validation_success),Es.addTrace(Y$3.pairing_uri_not_expired);let Ns;if(this.pairings.keys.includes(_s)){if(Ns=this.pairings.get(_s),Es.addTrace(Y$3.existing_pairing),Ns.active)throw Es.setError(X$3.active_pairing_already_exists),new Error(`Pairing already exists: ${_s}. Please try again with a new connection URI.`);Es.addTrace(Y$3.pairing_not_expired)}const Ws=Rs||ii$1(cjs$5.FIVE_MINUTES),Js={topic:_s,relay:Ts,expiry:Ws,active:!1,methods:Bs};this.core.expirer.set(_s,Ws),await this.pairings.set(_s,Js),Es.addTrace(Y$3.store_new_pairing),Ss.activatePairing&&await this.activate({topic:_s}),this.events.emit(ae$1.create,Js),Es.addTrace(Y$3.emit_inactive_pairing),this.core.crypto.keychain.has(_s)||await this.core.crypto.setSymKey(Is,_s),Es.addTrace(Y$3.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{Es.setError(X$3.no_internet_connection)}try{await this.core.relayer.subscribe(_s,{relay:Ts})}catch($l){throw Es.setError(X$3.subscribe_pairing_topic_failure),$l}return Es.addTrace(Y$3.subscribe_pairing_topic_success),Js}),d$2(this,"activate",async({topic:Ss})=>{this.isInitialized();const Es=ii$1(cjs$5.FIVE_MINUTES);this.core.expirer.set(Ss,Es),await this.pairings.update(Ss,{active:!0,expiry:Es})}),d$2(this,"ping",async Ss=>{this.isInitialized(),await this.isValidPing(Ss),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:Es}=Ss;if(this.pairings.keys.includes(Es)){const _s=await this.sendRequest(Es,"wc_pairingPing",{}),{done:Is,resolve:Ts,reject:Rs}=ei$1();this.events.once(ci$1("pairing_ping",_s),({error:Bs})=>{Bs?Rs(Bs):Ts()}),await Is()}}),d$2(this,"updateExpiry",async({topic:Ss,expiry:Es})=>{this.isInitialized(),await this.pairings.update(Ss,{expiry:Es})}),d$2(this,"updateMetadata",async({topic:Ss,metadata:Es})=>{this.isInitialized(),await this.pairings.update(Ss,{peerMetadata:Es})}),d$2(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),d$2(this,"disconnect",async Ss=>{this.isInitialized(),await this.isValidDisconnect(Ss);const{topic:Es}=Ss;this.pairings.keys.includes(Es)&&(await this.sendRequest(Es,"wc_pairingDelete",Kt$1("USER_DISCONNECTED")),await this.deletePairing(Es))}),d$2(this,"formatUriFromPairing",Ss=>{this.isInitialized();const{topic:Es,relay:_s,expiry:Is,methods:Ts}=Ss,Rs=this.core.crypto.keychain.get(Es);return oa({protocol:this.core.protocol,version:this.core.version,topic:Es,symKey:Rs,relay:_s,expiryTimestamp:Is,methods:Ts})}),d$2(this,"sendRequest",async(Ss,Es,_s)=>{const Is=formatJsonRpcRequest(Es,_s),Ts=await this.core.crypto.encode(Ss,Is),Rs=oe[Es].req;return this.core.history.set(Ss,Is),this.core.relayer.publish(Ss,Ts,Rs),Is.id}),d$2(this,"sendResult",async(Ss,Es,_s)=>{const Is=formatJsonRpcResult(Ss,_s),Ts=await this.core.crypto.encode(Es,Is),Rs=(await this.core.history.get(Es,Ss)).request.method,Bs=oe[Rs].res;await this.core.relayer.publish(Es,Ts,Bs),await this.core.history.resolve(Is)}),d$2(this,"sendError",async(Ss,Es,_s)=>{const Is=formatJsonRpcError(Ss,_s),Ts=await this.core.crypto.encode(Es,Is),Rs=(await this.core.history.get(Es,Ss)).request.method,Bs=oe[Rs]?oe[Rs].res:oe.unregistered_method.res;await this.core.relayer.publish(Es,Ts,Bs),await this.core.history.resolve(Is)}),d$2(this,"deletePairing",async(Ss,Es)=>{await this.core.relayer.unsubscribe(Ss),await Promise.all([this.pairings.delete(Ss,Kt$1("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(Ss),Es?Promise.resolve():this.core.expirer.del(Ss)])}),d$2(this,"cleanup",async()=>{const Ss=this.pairings.getAll().filter(Es=>fi$1(Es.expiry));await Promise.all(Ss.map(Es=>this.deletePairing(Es.topic)))}),d$2(this,"onRelayEventRequest",async Ss=>{const{topic:Es,payload:_s}=Ss;switch(_s.method){case"wc_pairingPing":return await this.onPairingPingRequest(Es,_s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(Es,_s);default:return await this.onUnknownRpcMethodRequest(Es,_s)}}),d$2(this,"onRelayEventResponse",async Ss=>{const{topic:Es,payload:_s}=Ss,Is=(await this.core.history.get(Es,_s.id)).request.method;switch(Is){case"wc_pairingPing":return this.onPairingPingResponse(Es,_s);default:return this.onUnknownRpcMethodResponse(Is)}}),d$2(this,"onPairingPingRequest",async(Ss,Es)=>{const{id:_s}=Es;try{this.isValidPing({topic:Ss}),await this.sendResult(_s,Ss,!0),this.events.emit(ae$1.ping,{id:_s,topic:Ss})}catch(Is){await this.sendError(_s,Ss,Is),this.logger.error(Is)}}),d$2(this,"onPairingPingResponse",(Ss,Es)=>{const{id:_s}=Es;setTimeout(()=>{isJsonRpcResult(Es)?this.events.emit(ci$1("pairing_ping",_s),{}):isJsonRpcError(Es)&&this.events.emit(ci$1("pairing_ping",_s),{error:Es.error})},500)}),d$2(this,"onPairingDeleteRequest",async(Ss,Es)=>{const{id:_s}=Es;try{this.isValidDisconnect({topic:Ss}),await this.deletePairing(Ss),this.events.emit(ae$1.delete,{id:_s,topic:Ss})}catch(Is){await this.sendError(_s,Ss,Is),this.logger.error(Is)}}),d$2(this,"onUnknownRpcMethodRequest",async(Ss,Es)=>{const{id:_s,method:Is}=Es;try{if(this.registeredMethods.includes(Is))return;const Ts=Kt$1("WC_METHOD_UNSUPPORTED",Is);await this.sendError(_s,Ss,Ts),this.logger.error(Ts)}catch(Ts){await this.sendError(_s,Ss,Ts),this.logger.error(Ts)}}),d$2(this,"onUnknownRpcMethodResponse",Ss=>{this.registeredMethods.includes(Ss)||this.logger.error(Kt$1("WC_METHOD_UNSUPPORTED",Ss))}),d$2(this,"isValidPair",(Ss,Es)=>{var _s;if(!Aa(Ss)){const{message:Ts}=Et$2("MISSING_OR_INVALID",`pair() params: ${Ss}`);throw Es.setError(X$3.malformed_pairing_uri),new Error(Ts)}if(!ma(Ss.uri)){const{message:Ts}=Et$2("MISSING_OR_INVALID",`pair() uri: ${Ss.uri}`);throw Es.setError(X$3.malformed_pairing_uri),new Error(Ts)}const Is=ra(Ss==null?void 0:Ss.uri);if(!((_s=Is==null?void 0:Is.relay)!=null&&_s.protocol)){const{message:Ts}=Et$2("MISSING_OR_INVALID","pair() uri#relay-protocol");throw Es.setError(X$3.malformed_pairing_uri),new Error(Ts)}if(!(Is!=null&&Is.symKey)){const{message:Ts}=Et$2("MISSING_OR_INVALID","pair() uri#symKey");throw Es.setError(X$3.malformed_pairing_uri),new Error(Ts)}if(Is!=null&&Is.expiryTimestamp&&cjs$5.toMiliseconds(Is==null?void 0:Is.expiryTimestamp)<Date.now()){Es.setError(X$3.pairing_expired);const{message:Ts}=Et$2("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(Ts)}}),d$2(this,"isValidPing",async Ss=>{if(!Aa(Ss)){const{message:_s}=Et$2("MISSING_OR_INVALID",`ping() params: ${Ss}`);throw new Error(_s)}const{topic:Es}=Ss;await this.isValidPairingTopic(Es)}),d$2(this,"isValidDisconnect",async Ss=>{if(!Aa(Ss)){const{message:_s}=Et$2("MISSING_OR_INVALID",`disconnect() params: ${Ss}`);throw new Error(_s)}const{topic:Es}=Ss;await this.isValidPairingTopic(Es)}),d$2(this,"isValidPairingTopic",async Ss=>{if(!it$1(Ss,!1)){const{message:Es}=Et$2("MISSING_OR_INVALID",`pairing topic should be a string: ${Ss}`);throw new Error(Es)}if(!this.pairings.keys.includes(Ss)){const{message:Es}=Et$2("NO_MATCHING_KEY",`pairing topic doesn't exist: ${Ss}`);throw new Error(Es)}if(fi$1(this.pairings.get(Ss).expiry)){await this.deletePairing(Ss);const{message:Es}=Et$2("EXPIRED",`pairing topic: ${Ss}`);throw new Error(Es)}}),this.core=ms,this.logger=E$4(ws,this.name),this.pairings=new Ui(this.core,this.logger,this.name,this.storagePrefix)}get context(){return y$5(this.logger)}isInitialized(){if(!this.initialized){const{message:ms}=Et$2("NOT_INITIALIZED",this.name);throw new Error(ms)}}registerRelayerEvents(){this.core.relayer.on(C$4.message,async ms=>{const{topic:ws,message:Ss,transportType:Es}=ms;if(this.pairings.keys.includes(ws)&&Es!==ee$1.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(Ss)))try{const _s=await this.core.crypto.decode(ws,Ss);isJsonRpcRequest$1(_s)?(this.core.history.set(ws,_s),await this.onRelayEventRequest({topic:ws,payload:_s})):isJsonRpcResponse(_s)&&(await this.core.history.resolve(_s),await this.onRelayEventResponse({topic:ws,payload:_s}),this.core.history.delete(ws,_s.id)),await this.core.relayer.messages.ack(ws,Ss)}catch(_s){this.logger.error(_s)}})}registerExpirerEvents(){this.core.expirer.on(q$3.expired,async ms=>{const{topic:ws}=si$1(ms.target);ws&&this.pairings.keys.includes(ws)&&(await this.deletePairing(ws,!0),this.events.emit(ae$1.expire,{topic:ws}))})}}var Mo=Object.defineProperty,Ko=(vs,ms,ws)=>ms in vs?Mo(vs,ms,{enumerable:!0,configurable:!0,writable:!0,value:ws}):vs[ms]=ws,N$4=(vs,ms,ws)=>Ko(vs,typeof ms!="symbol"?ms+"":ms,ws);class Mi extends I$3{constructor(ms,ws){super(ms,ws),this.core=ms,this.logger=ws,N$4(this,"records",new Map),N$4(this,"events",new eventsExports.EventEmitter),N$4(this,"name",qt),N$4(this,"version",Gt),N$4(this,"cached",[]),N$4(this,"initialized",!1),N$4(this,"storagePrefix",W$3),N$4(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(Ss=>this.records.set(Ss.id,Ss)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),N$4(this,"set",(Ss,Es,_s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:Ss,request:Es,chainId:_s}),this.records.has(Es.id))return;const Is={id:Es.id,topic:Ss,request:{method:Es.method,params:Es.params||null},chainId:_s,expiry:ii$1(cjs$5.THIRTY_DAYS)};this.records.set(Is.id,Is),this.persist(),this.events.emit(V$3.created,Is)}),N$4(this,"resolve",async Ss=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:Ss}),!this.records.has(Ss.id))return;const Es=await this.getRecord(Ss.id);typeof Es.response>"u"&&(Es.response=isJsonRpcError(Ss)?{error:Ss.error}:{result:Ss.result},this.records.set(Es.id,Es),this.persist(),this.events.emit(V$3.updated,Es))}),N$4(this,"get",async(Ss,Es)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:Ss,id:Es}),await this.getRecord(Es))),N$4(this,"delete",(Ss,Es)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:Es}),this.values.forEach(_s=>{if(_s.topic===Ss){if(typeof Es<"u"&&_s.id!==Es)return;this.records.delete(_s.id),this.events.emit(V$3.deleted,_s)}}),this.persist()}),N$4(this,"exists",async(Ss,Es)=>(this.isInitialized(),this.records.has(Es)?(await this.getRecord(Es)).topic===Ss:!1)),N$4(this,"on",(Ss,Es)=>{this.events.on(Ss,Es)}),N$4(this,"once",(Ss,Es)=>{this.events.once(Ss,Es)}),N$4(this,"off",(Ss,Es)=>{this.events.off(Ss,Es)}),N$4(this,"removeListener",(Ss,Es)=>{this.events.removeListener(Ss,Es)}),this.logger=E$4(ws,this.name)}get context(){return y$5(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const ms=[];return this.values.forEach(ws=>{if(typeof ws.response<"u")return;const Ss={topic:ws.topic,request:formatJsonRpcRequest(ws.request.method,ws.request.params,ws.id),chainId:ws.chainId};return ms.push(Ss)}),ms}async setJsonRpcRecords(ms){await this.core.storage.setItem(this.storageKey,ms)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(ms){this.isInitialized();const ws=this.records.get(ms);if(!ws){const{message:Ss}=Et$2("NO_MATCHING_KEY",`${this.name}: ${ms}`);throw new Error(Ss)}return ws}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(V$3.sync)}async restore(){try{const ms=await this.getJsonRpcRecords();if(typeof ms>"u"||!ms.length)return;if(this.records.size){const{message:ws}=Et$2("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(ws),new Error(ws)}this.cached=ms,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(ms){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(ms)}}registerEventListeners(){this.events.on(V$3.created,ms=>{const ws=V$3.created;this.logger.info(`Emitting ${ws}`),this.logger.debug({type:"event",event:ws,record:ms})}),this.events.on(V$3.updated,ms=>{const ws=V$3.updated;this.logger.info(`Emitting ${ws}`),this.logger.debug({type:"event",event:ws,record:ms})}),this.events.on(V$3.deleted,ms=>{const ws=V$3.deleted;this.logger.info(`Emitting ${ws}`),this.logger.debug({type:"event",event:ws,record:ms})}),this.core.heartbeat.on(r$4.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let ms=!1;this.records.forEach(ws=>{cjs$5.toMiliseconds(ws.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${ws.id}`),this.records.delete(ws.id),this.events.emit(V$3.deleted,ws,!1),ms=!0)}),ms&&this.persist()}catch(ms){this.logger.warn(ms)}}isInitialized(){if(!this.initialized){const{message:ms}=Et$2("NOT_INITIALIZED",this.name);throw new Error(ms)}}}var Bo=Object.defineProperty,Vo=(vs,ms,ws)=>ms in vs?Bo(vs,ms,{enumerable:!0,configurable:!0,writable:!0,value:ws}):vs[ms]=ws,z$3=(vs,ms,ws)=>Vo(vs,typeof ms!="symbol"?ms+"":ms,ws);class Ki extends S$4{constructor(ms,ws){super(ms,ws),this.core=ms,this.logger=ws,z$3(this,"expirations",new Map),z$3(this,"events",new eventsExports.EventEmitter),z$3(this,"name",Wt$1),z$3(this,"version",Ht),z$3(this,"cached",[]),z$3(this,"initialized",!1),z$3(this,"storagePrefix",W$3),z$3(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(Ss=>this.expirations.set(Ss.target,Ss)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),z$3(this,"has",Ss=>{try{const Es=this.formatTarget(Ss);return typeof this.getExpiration(Es)<"u"}catch{return!1}}),z$3(this,"set",(Ss,Es)=>{this.isInitialized();const _s=this.formatTarget(Ss),Is={target:_s,expiry:Es};this.expirations.set(_s,Is),this.checkExpiry(_s,Is),this.events.emit(q$3.created,{target:_s,expiration:Is})}),z$3(this,"get",Ss=>{this.isInitialized();const Es=this.formatTarget(Ss);return this.getExpiration(Es)}),z$3(this,"del",Ss=>{if(this.isInitialized(),this.has(Ss)){const Es=this.formatTarget(Ss),_s=this.getExpiration(Es);this.expirations.delete(Es),this.events.emit(q$3.deleted,{target:Es,expiration:_s})}}),z$3(this,"on",(Ss,Es)=>{this.events.on(Ss,Es)}),z$3(this,"once",(Ss,Es)=>{this.events.once(Ss,Es)}),z$3(this,"off",(Ss,Es)=>{this.events.off(Ss,Es)}),z$3(this,"removeListener",(Ss,Es)=>{this.events.removeListener(Ss,Es)}),this.logger=E$4(ws,this.name)}get context(){return y$5(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(ms){if(typeof ms=="string")return ri$1(ms);if(typeof ms=="number")return oi$1(ms);const{message:ws}=Et$2("UNKNOWN_TYPE",`Target type: ${typeof ms}`);throw new Error(ws)}async setExpirations(ms){await this.core.storage.setItem(this.storageKey,ms)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(q$3.sync)}async restore(){try{const ms=await this.getExpirations();if(typeof ms>"u"||!ms.length)return;if(this.expirations.size){const{message:ws}=Et$2("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(ws),new Error(ws)}this.cached=ms,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(ms){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(ms)}}getExpiration(ms){const ws=this.expirations.get(ms);if(!ws){const{message:Ss}=Et$2("NO_MATCHING_KEY",`${this.name}: ${ms}`);throw this.logger.warn(Ss),new Error(Ss)}return ws}checkExpiry(ms,ws){const{expiry:Ss}=ws;cjs$5.toMiliseconds(Ss)-Date.now()<=0&&this.expire(ms,ws)}expire(ms,ws){this.expirations.delete(ms),this.events.emit(q$3.expired,{target:ms,expiration:ws})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((ms,ws)=>this.checkExpiry(ws,ms))}registerEventListeners(){this.core.heartbeat.on(r$4.pulse,()=>this.checkExpirations()),this.events.on(q$3.created,ms=>{const ws=q$3.created;this.logger.info(`Emitting ${ws}`),this.logger.debug({type:"event",event:ws,data:ms}),this.persist()}),this.events.on(q$3.expired,ms=>{const ws=q$3.expired;this.logger.info(`Emitting ${ws}`),this.logger.debug({type:"event",event:ws,data:ms}),this.persist()}),this.events.on(q$3.deleted,ms=>{const ws=q$3.deleted;this.logger.info(`Emitting ${ws}`),this.logger.debug({type:"event",event:ws,data:ms}),this.persist()})}isInitialized(){if(!this.initialized){const{message:ms}=Et$2("NOT_INITIALIZED",this.name);throw new Error(ms)}}}var qo=Object.defineProperty,Go=(vs,ms,ws)=>ms in vs?qo(vs,ms,{enumerable:!0,configurable:!0,writable:!0,value:ws}):vs[ms]=ws,P$4=(vs,ms,ws)=>Go(vs,typeof ms!="symbol"?ms+"":ms,ws);class Bi extends M$6{constructor(ms,ws,Ss){super(ms,ws,Ss),this.core=ms,this.logger=ws,this.store=Ss,P$4(this,"name",Yt$1),P$4(this,"abortController"),P$4(this,"isDevEnv"),P$4(this,"verifyUrlV3",Xt),P$4(this,"storagePrefix",W$3),P$4(this,"version",Fe),P$4(this,"publicKey"),P$4(this,"fetchPromise"),P$4(this,"init",async()=>{var Es;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&cjs$5.toMiliseconds((Es=this.publicKey)==null?void 0:Es.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),P$4(this,"register",async Es=>{if(!zt$1()||this.isDevEnv)return;const _s=window.location.origin,{id:Is,decryptedId:Ts}=Es,Rs=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${_s}&id=${Is}&decryptedId=${Ts}`;try{const Bs=getDocument_1(),Ns=this.startAbortTimer(cjs$5.ONE_SECOND*5),Ws=await new Promise((Js,$l)=>{const wl=()=>{window.removeEventListener("message",Cl),Bs.body.removeChild(_l),$l("attestation aborted")};this.abortController.signal.addEventListener("abort",wl);const _l=Bs.createElement("iframe");_l.src=Rs,_l.style.display="none",_l.addEventListener("error",wl,{signal:this.abortController.signal});const Cl=Sl=>{if(Sl.data&&typeof Sl.data=="string")try{const El=JSON.parse(Sl.data);if(El.type==="verify_attestation"){if(sn$2(El.attestation).payload.id!==Is)return;clearInterval(Ns),Bs.body.removeChild(_l),this.abortController.signal.removeEventListener("abort",wl),window.removeEventListener("message",Cl),Js(El.attestation===null?"":El.attestation)}}catch(El){this.logger.warn(El)}};Bs.body.appendChild(_l),window.addEventListener("message",Cl,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",Ws),Ws}catch(Bs){this.logger.warn(Bs)}return""}),P$4(this,"resolve",async Es=>{if(this.isDevEnv)return"";const{attestationId:_s,hash:Is,encryptedId:Ts}=Es;if(_s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(_s){if(sn$2(_s).payload.id!==Ts)return;const Bs=await this.isValidJwtAttestation(_s);if(Bs){if(!Bs.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return Bs}}if(!Is)return;const Rs=this.getVerifyUrl(Es==null?void 0:Es.verifyUrl);return this.fetchAttestation(Is,Rs)}),P$4(this,"fetchAttestation",async(Es,_s)=>{this.logger.debug(`resolving attestation: ${Es} from url: ${_s}`);const Is=this.startAbortTimer(cjs$5.ONE_SECOND*5),Ts=await fetch(`${_s}/attestation/${Es}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(Is),Ts.status===200?await Ts.json():void 0}),P$4(this,"getVerifyUrl",Es=>{let _s=Es||be;return Zt.includes(_s)||(this.logger.info(`verify url: ${_s}, not included in trusted list, assigning default: ${be}`),_s=be),_s}),P$4(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const Es=this.startAbortTimer(cjs$5.FIVE_SECONDS),_s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(Es),await _s.json()}catch(Es){this.logger.warn(Es)}}),P$4(this,"persistPublicKey",async Es=>{this.logger.debug("persisting public key to local storage",Es),await this.store.setItem(this.storeKey,Es),this.publicKey=Es}),P$4(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),P$4(this,"isValidJwtAttestation",async Es=>{const _s=await this.getPublicKey();try{if(_s)return this.validateAttestation(Es,_s)}catch(Ts){this.logger.error(Ts),this.logger.warn("error validating attestation")}const Is=await this.fetchAndPersistPublicKey();try{if(Is)return this.validateAttestation(Es,Is)}catch(Ts){this.logger.error(Ts),this.logger.warn("error validating attestation")}}),P$4(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),P$4(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async _s=>{const Is=await this.fetchPublicKey();Is&&(await this.persistPublicKey(Is),_s(Is))});const Es=await this.fetchPromise;return this.fetchPromise=void 0,Es}),P$4(this,"validateAttestation",(Es,_s)=>{const Is=ta$1(Es,_s.publicKey),Ts={hasExpired:cjs$5.toMiliseconds(Is.exp)<Date.now(),payload:Is};if(Ts.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:Ts.payload.origin,isScam:Ts.payload.isScam,isVerified:Ts.payload.isVerified}}),this.logger=E$4(ws,this.name),this.abortController=new AbortController,this.isDevEnv=hi$1(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return y$5(this.logger)}startAbortTimer(ms){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),cjs$5.toMiliseconds(ms))}}var Wo=Object.defineProperty,Ho=(vs,ms,ws)=>ms in vs?Wo(vs,ms,{enumerable:!0,configurable:!0,writable:!0,value:ws}):vs[ms]=ws,Vi=(vs,ms,ws)=>Ho(vs,typeof ms!="symbol"?ms+"":ms,ws);class qi extends O$5{constructor(ms,ws){super(ms,ws),this.projectId=ms,this.logger=ws,Vi(this,"context",Qt),Vi(this,"registerDeviceToken",async Ss=>{const{clientId:Es,token:_s,notificationType:Is,enableEncrypted:Ts=!1}=Ss,Rs=`${ei}/${this.projectId}/clients`;await fetch(Rs,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:Es,type:Is,token:_s,always_raw:Ts})})}),this.logger=E$4(ws,this.context)}}var Yo=Object.defineProperty,Gi=Object.getOwnPropertySymbols,Jo=Object.prototype.hasOwnProperty,Xo=Object.prototype.propertyIsEnumerable,et$1=(vs,ms,ws)=>ms in vs?Yo(vs,ms,{enumerable:!0,configurable:!0,writable:!0,value:ws}):vs[ms]=ws,we$1=(vs,ms)=>{for(var ws in ms||(ms={}))Jo.call(ms,ws)&&et$1(vs,ws,ms[ws]);if(Gi)for(var ws of Gi(ms))Xo.call(ms,ws)&&et$1(vs,ws,ms[ws]);return vs},R$4=(vs,ms,ws)=>et$1(vs,typeof ms!="symbol"?ms+"":ms,ws);class Wi extends R$5{constructor(ms,ws,Ss=!0){super(ms,ws,Ss),this.core=ms,this.logger=ws,R$4(this,"context",ii),R$4(this,"storagePrefix",W$3),R$4(this,"storageVersion",ti),R$4(this,"events",new Map),R$4(this,"shouldPersist",!1),R$4(this,"init",async()=>{if(!hi$1())try{const Es={eventId:di$1(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:cr$1(this.core.relayer.protocol,this.core.relayer.version,Pe)}}};await this.sendEvent([Es])}catch(Es){this.logger.warn(Es)}}),R$4(this,"createEvent",Es=>{const{event:_s="ERROR",type:Is="",properties:{topic:Ts,trace:Rs}}=Es,Bs=di$1(),Ns=this.core.projectId||"",Ws=Date.now(),Js=we$1({eventId:Bs,timestamp:Ws,props:{event:_s,type:Is,properties:{topic:Ts,trace:Rs}},bundleId:Ns,domain:this.getAppDomain()},this.setMethods(Bs));return this.telemetryEnabled&&(this.events.set(Bs,Js),this.shouldPersist=!0),Js}),R$4(this,"getEvent",Es=>{const{eventId:_s,topic:Is}=Es;if(_s)return this.events.get(_s);const Ts=Array.from(this.events.values()).find(Rs=>Rs.props.properties.topic===Is);if(Ts)return we$1(we$1({},Ts),this.setMethods(Ts.eventId))}),R$4(this,"deleteEvent",Es=>{const{eventId:_s}=Es;this.events.delete(_s),this.shouldPersist=!0}),R$4(this,"setEventListeners",()=>{this.core.heartbeat.on(r$4.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(Es=>{cjs$5.fromMiliseconds(Date.now())-cjs$5.fromMiliseconds(Es.timestamp)>si&&(this.events.delete(Es.eventId),this.shouldPersist=!0)})})}),R$4(this,"setMethods",Es=>({addTrace:_s=>this.addTrace(Es,_s),setError:_s=>this.setError(Es,_s)})),R$4(this,"addTrace",(Es,_s)=>{const Is=this.events.get(Es);Is&&(Is.props.properties.trace.push(_s),this.events.set(Es,Is),this.shouldPersist=!0)}),R$4(this,"setError",(Es,_s)=>{const Is=this.events.get(Es);Is&&(Is.props.type=_s,Is.timestamp=Date.now(),this.events.set(Es,Is),this.shouldPersist=!0)}),R$4(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),R$4(this,"restore",async()=>{try{const Es=await this.core.storage.getItem(this.storageKey)||[];if(!Es.length)return;Es.forEach(_s=>{this.events.set(_s.eventId,we$1(we$1({},_s),this.setMethods(_s.eventId)))})}catch(Es){this.logger.warn(Es)}}),R$4(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const Es=[];for(const[_s,Is]of this.events)Is.props.type&&Es.push(Is);if(Es.length!==0)try{if((await this.sendEvent(Es)).ok)for(const _s of Es)this.events.delete(_s.eventId),this.shouldPersist=!0}catch(_s){this.logger.warn(_s)}}),R$4(this,"sendEvent",async Es=>{const _s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${ri}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Pe}${_s}`,{method:"POST",body:JSON.stringify(Es)})}),R$4(this,"getAppDomain",()=>sr().url),this.logger=E$4(ws,this.context),this.telemetryEnabled=Ss,Ss?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Zo=Object.defineProperty,Hi=Object.getOwnPropertySymbols,Qo=Object.prototype.hasOwnProperty,ea=Object.prototype.propertyIsEnumerable,tt$1=(vs,ms,ws)=>ms in vs?Zo(vs,ms,{enumerable:!0,configurable:!0,writable:!0,value:ws}):vs[ms]=ws,Yi=(vs,ms)=>{for(var ws in ms||(ms={}))Qo.call(ms,ws)&&tt$1(vs,ws,ms[ws]);if(Hi)for(var ws of Hi(ms))ea.call(ms,ws)&&tt$1(vs,ws,ms[ws]);return vs},v$4=(vs,ms,ws)=>tt$1(vs,typeof ms!="symbol"?ms+"":ms,ws);class Oe extends h$4{constructor(ms){var ws;super(ms),v$4(this,"protocol",Ue),v$4(this,"version",Fe),v$4(this,"name",pe$1),v$4(this,"relayUrl"),v$4(this,"projectId"),v$4(this,"customStoragePrefix"),v$4(this,"events",new eventsExports.EventEmitter),v$4(this,"logger"),v$4(this,"heartbeat"),v$4(this,"relayer"),v$4(this,"crypto"),v$4(this,"storage"),v$4(this,"history"),v$4(this,"expirer"),v$4(this,"pairing"),v$4(this,"verify"),v$4(this,"echoClient"),v$4(this,"linkModeSupportedApps"),v$4(this,"eventClient"),v$4(this,"initialized",!1),v$4(this,"logChunkController"),v$4(this,"on",(Ts,Rs)=>this.events.on(Ts,Rs)),v$4(this,"once",(Ts,Rs)=>this.events.once(Ts,Rs)),v$4(this,"off",(Ts,Rs)=>this.events.off(Ts,Rs)),v$4(this,"removeListener",(Ts,Rs)=>this.events.removeListener(Ts,Rs)),v$4(this,"dispatchEnvelope",({topic:Ts,message:Rs,sessionExists:Bs})=>{if(!Ts||!Rs)return;const Ns={topic:Ts,message:Rs,publishedAt:Date.now(),transportType:ee$1.link_mode};this.relayer.onLinkMessageEvent(Ns,{sessionExists:Bs})});const Ss=this.getGlobalCore(ms==null?void 0:ms.customStoragePrefix);if(Ss)try{return this.customStoragePrefix=Ss.customStoragePrefix,this.logger=Ss.logger,this.heartbeat=Ss.heartbeat,this.crypto=Ss.crypto,this.history=Ss.history,this.expirer=Ss.expirer,this.storage=Ss.storage,this.relayer=Ss.relayer,this.pairing=Ss.pairing,this.verify=Ss.verify,this.echoClient=Ss.echoClient,this.linkModeSupportedApps=Ss.linkModeSupportedApps,this.eventClient=Ss.eventClient,this.initialized=Ss.initialized,this.logChunkController=Ss.logChunkController,Ss}catch(Ts){console.warn("Failed to copy global core",Ts)}this.projectId=ms==null?void 0:ms.projectId,this.relayUrl=(ms==null?void 0:ms.relayUrl)||Ke$1,this.customStoragePrefix=ms!=null&&ms.customStoragePrefix?`:${ms.customStoragePrefix}`:"";const Es=k$5({level:typeof(ms==null?void 0:ms.logger)=="string"&&ms.logger?ms.logger:It$2.logger,name:pe$1}),{logger:_s,chunkLoggerController:Is}=A$5({opts:Es,maxSizeInBytes:ms==null?void 0:ms.maxLogBlobSizeInBytes,loggerOverride:ms==null?void 0:ms.logger});this.logChunkController=Is,(ws=this.logChunkController)!=null&&ws.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var Ts,Rs;(Ts=this.logChunkController)!=null&&Ts.downloadLogsBlobInBrowser&&((Rs=this.logChunkController)==null||Rs.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=E$4(_s,this.name),this.heartbeat=new i$5,this.crypto=new Ei(this,this.logger,ms==null?void 0:ms.keychain),this.history=new Mi(this,this.logger),this.expirer=new Ki(this,this.logger),this.storage=ms!=null&&ms.storage?ms.storage:new h$5(Yi(Yi({},Tt$1),ms==null?void 0:ms.storageOptions)),this.relayer=new xi({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Fi(this,this.logger),this.verify=new Bi(this,this.logger,this.storage),this.echoClient=new qi(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Wi(this,this.logger,ms==null?void 0:ms.telemetryEnabled),this.setGlobalCore(this)}static async init(ms){const ws=new Oe(ms);await ws.initialize();const Ss=await ws.crypto.getClientId();return await ws.storage.setItem(Ft,Ss),ws}get context(){return y$5(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var ms;return(ms=this.logChunkController)==null?void 0:ms.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(ms){this.linkModeSupportedApps.includes(ms)||(this.linkModeSupportedApps.push(ms),await this.storage.setItem(Be,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Be)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(ms){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,ms),this.logger.error(ms.message),ms}}getGlobalCore(ms=""){try{if(this.isGlobalCoreDisabled())return;const ws=`_walletConnectCore_${ms}`,Ss=`${ws}_count`;return globalThis[Ss]=(globalThis[Ss]||0)+1,globalThis[Ss]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[Ss]} times.`),globalThis[ws]}catch(ws){console.warn("Failed to get global WalletConnect core",ws);return}}setGlobalCore(ms){var ws;try{if(this.isGlobalCoreDisabled())return;const Ss=`_walletConnectCore_${((ws=ms.opts)==null?void 0:ws.customStoragePrefix)||""}`;globalThis[Ss]=ms}catch(Ss){console.warn("Failed to set global WalletConnect core",Ss)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&process.env.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}}const ta=Oe,Ce="wc",ke=2,De="client",we=`${Ce}@${ke}:${De}:`,me={name:De,logger:"error"},Le="WALLETCONNECT_DEEPLINK_CHOICE",dt$1="proposal",Me="Proposal expired",ut$1="session",B$3=cjs$5.SEVEN_DAYS,gt$1="engine",P$3={wc_sessionPropose:{req:{ttl:cjs$5.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:cjs$5.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:cjs$5.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:cjs$5.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:cjs$5.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:cjs$5.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:cjs$5.ONE_DAY,prompt:!1,tag:1104},res:{ttl:cjs$5.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:cjs$5.ONE_DAY,prompt:!1,tag:1106},res:{ttl:cjs$5.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:cjs$5.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:cjs$5.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:cjs$5.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:cjs$5.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:cjs$5.ONE_DAY,prompt:!1,tag:1112},res:{ttl:cjs$5.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:cjs$5.ONE_DAY,prompt:!1,tag:1114},res:{ttl:cjs$5.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:cjs$5.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:cjs$5.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:cjs$5.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:cjs$5.FIVE_MINUTES,prompt:!1,tag:1119}}},_e={min:cjs$5.FIVE_MINUTES,max:cjs$5.SEVEN_DAYS},M$3={idle:"IDLE",active:"ACTIVE"},yt={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},wt$1="request",mt$1=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],_t$1="wc",ft$1="auth",Et$1="authKeys",St$1="pairingTopics",Rt$1="requests",le=`${_t$1}@${1.5}:${ft$1}:`,pe=`${le}:PUB_KEY`;var Os=Object.defineProperty,bs=Object.defineProperties,As=Object.getOwnPropertyDescriptors,vt$1=Object.getOwnPropertySymbols,xs=Object.prototype.hasOwnProperty,Vs=Object.prototype.propertyIsEnumerable,$e=(vs,ms,ws)=>ms in vs?Os(vs,ms,{enumerable:!0,configurable:!0,writable:!0,value:ws}):vs[ms]=ws,R$3=(vs,ms)=>{for(var ws in ms||(ms={}))xs.call(ms,ws)&&$e(vs,ws,ms[ws]);if(vt$1)for(var ws of vt$1(ms))Vs.call(ms,ws)&&$e(vs,ws,ms[ws]);return vs},O$4=(vs,ms)=>bs(vs,As(ms)),c$2=(vs,ms,ws)=>$e(vs,typeof ms!="symbol"?ms+"":ms,ws);class Cs extends V$4{constructor(ms){super(ms),c$2(this,"name",gt$1),c$2(this,"events",new ys$1),c$2(this,"initialized",!1),c$2(this,"requestQueue",{state:M$3.idle,queue:[]}),c$2(this,"sessionRequestQueue",{state:M$3.idle,queue:[]}),c$2(this,"emittedSessionRequests",new gi$1({limit:500})),c$2(this,"requestQueueDelay",cjs$5.ONE_SECOND),c$2(this,"expectedPairingMethodMap",new Map),c$2(this,"recentlyDeletedMap",new Map),c$2(this,"recentlyDeletedLimit",200),c$2(this,"relayMessageCache",[]),c$2(this,"pendingSessions",new Map),c$2(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(P$3)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},cjs$5.toMiliseconds(this.requestQueueDelay)))}),c$2(this,"connect",async ws=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const Ss=O$4(R$3({},ws),{requiredNamespaces:ws.requiredNamespaces||{},optionalNamespaces:ws.optionalNamespaces||{}});await this.isValidConnect(Ss),Ss.optionalNamespaces=ba(Ss.requiredNamespaces,Ss.optionalNamespaces),Ss.requiredNamespaces={};const{pairingTopic:Es,requiredNamespaces:_s,optionalNamespaces:Is,sessionProperties:Ts,scopedProperties:Rs,relays:Bs}=Ss;let Ns=Es,Ws,Js=!1;try{if(Ns){const Ul=this.client.core.pairing.pairings.get(Ns);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),Js=Ul.active}}catch(Ul){throw this.client.logger.error(`connect() -> pairing.get(${Ns}) failed`),Ul}if(!Ns||!Js){const{topic:Ul,uri:_h}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});Ns=Ul,Ws=_h}if(!Ns){const{message:Ul}=Et$2("NO_MATCHING_KEY",`connect() pairing topic: ${Ns}`);throw new Error(Ul)}const $l=await this.client.core.crypto.generateKeyPair(),wl=P$3.wc_sessionPropose.req.ttl||cjs$5.FIVE_MINUTES,_l=ii$1(wl),Cl=O$4(R$3(R$3({requiredNamespaces:_s,optionalNamespaces:Is,relays:Bs??[{protocol:$t}],proposer:{publicKey:$l,metadata:this.client.metadata},expiryTimestamp:_l,pairingTopic:Ns},Ts&&{sessionProperties:Ts}),Rs&&{scopedProperties:Rs}),{id:payloadId$1()}),Sl=ci$1("session_connect",Cl.id),{reject:El,resolve:xl,done:Ml}=ei$1(wl,Me),Vl=({id:Ul})=>{Ul===Cl.id&&(this.client.events.off("proposal_expire",Vl),this.pendingSessions.delete(Cl.id),this.events.emit(Sl,{error:{message:Me,code:0}}))};return this.client.events.on("proposal_expire",Vl),this.events.once(Sl,({error:Ul,session:_h})=>{this.client.events.off("proposal_expire",Vl),Ul?El(Ul):_h&&xl(_h)}),await this.sendProposeSession({proposal:Cl,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:Cl.id}}}),await this.setProposal(Cl.id,Cl),{uri:Ws,approval:Ml}}),c$2(this,"pair",async ws=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(ws)}catch(Ss){throw this.client.logger.error("pair() failed"),Ss}}),c$2(this,"approve",async ws=>{var Ss,Es,_s;const Is=this.client.core.eventClient.createEvent({properties:{topic:(Ss=ws==null?void 0:ws.id)==null?void 0:Ss.toString(),trace:[rr.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(su){throw Is.setError(nr.no_internet_connection),su}try{await this.isValidProposalId(ws==null?void 0:ws.id)}catch(su){throw this.client.logger.error(`approve() -> proposal.get(${ws==null?void 0:ws.id}) failed`),Is.setError(nr.proposal_not_found),su}try{await this.isValidApprove(ws)}catch(su){throw this.client.logger.error("approve() -> isValidApprove() failed"),Is.setError(nr.session_approve_namespace_validation_failure),su}const{id:Ts,relayProtocol:Rs,namespaces:Bs,sessionProperties:Ns,scopedProperties:Ws,sessionConfig:Js}=ws,$l=this.client.proposal.get(Ts);this.client.core.eventClient.deleteEvent({eventId:Is.eventId});const{pairingTopic:wl,proposer:_l,requiredNamespaces:Cl,optionalNamespaces:Sl}=$l;let El=(Es=this.client.core.eventClient)==null?void 0:Es.getEvent({topic:wl});El||(El=(_s=this.client.core.eventClient)==null?void 0:_s.createEvent({type:rr.session_approve_started,properties:{topic:wl,trace:[rr.session_approve_started,rr.session_namespaces_validation_success]}}));const xl=await this.client.core.crypto.generateKeyPair(),Ml=_l.publicKey,Vl=await this.client.core.crypto.generateSharedKey(xl,Ml),Ul=R$3(R$3(R$3({relay:{protocol:Rs??"irn"},namespaces:Bs,controller:{publicKey:xl,metadata:this.client.metadata},expiry:ii$1(B$3)},Ns&&{sessionProperties:Ns}),Ws&&{scopedProperties:Ws}),Js&&{sessionConfig:Js}),_h=ee$1.relay;El.addTrace(rr.subscribing_session_topic);try{await this.client.core.relayer.subscribe(Vl,{transportType:_h,internal:{skipSubscribe:!0}})}catch(su){throw El.setError(nr.subscribe_session_topic_failure),su}El.addTrace(rr.subscribe_session_topic_success);const nu=O$4(R$3({},Ul),{topic:Vl,requiredNamespaces:Cl,optionalNamespaces:Sl,pairingTopic:wl,acknowledged:!1,self:Ul.controller,peer:{publicKey:_l.publicKey,metadata:_l.metadata},controller:xl,transportType:ee$1.relay});await this.client.session.set(Vl,nu),El.addTrace(rr.store_session);try{await this.sendApproveSession({sessionTopic:Vl,proposal:$l,pairingProposalResponse:{relay:{protocol:Rs??"irn"},responderPublicKey:xl},sessionSettleRequest:Ul,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:Ts}}}),El.addTrace(rr.session_approve_publish_success)}catch(su){throw this.client.logger.error(su),this.client.session.delete(Vl,Kt$1("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(Vl),su}return this.client.core.eventClient.deleteEvent({eventId:El.eventId}),await this.client.core.pairing.updateMetadata({topic:wl,metadata:_l.metadata}),await this.deleteProposal(Ts),await this.client.core.pairing.activate({topic:wl}),await this.setExpiry(Vl,ii$1(B$3)),{topic:Vl,acknowledged:()=>Promise.resolve(this.client.session.get(Vl))}}),c$2(this,"reject",async ws=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(ws)}catch(Is){throw this.client.logger.error("reject() -> isValidReject() failed"),Is}const{id:Ss,reason:Es}=ws;let _s;try{_s=this.client.proposal.get(Ss).pairingTopic}catch(Is){throw this.client.logger.error(`reject() -> proposal.get(${Ss}) failed`),Is}_s&&await this.sendError({id:Ss,topic:_s,error:Es,rpcOpts:P$3.wc_sessionPropose.reject}),await this.deleteProposal(Ss)}),c$2(this,"update",async ws=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(ws)}catch(Ws){throw this.client.logger.error("update() -> isValidUpdate() failed"),Ws}const{topic:Ss,namespaces:Es}=ws,{done:_s,resolve:Is,reject:Ts}=ei$1(),Rs=payloadId$1(),Bs=getBigIntRpcId().toString(),Ns=this.client.session.get(Ss).namespaces;return this.events.once(ci$1("session_update",Rs),({error:Ws})=>{Ws?Ts(Ws):Is()}),await this.client.session.update(Ss,{namespaces:Es}),await this.sendRequest({topic:Ss,method:"wc_sessionUpdate",params:{namespaces:Es},throwOnFailedPublish:!0,clientRpcId:Rs,relayRpcId:Bs}).catch(Ws=>{this.client.logger.error(Ws),this.client.session.update(Ss,{namespaces:Ns}),Ts(Ws)}),{acknowledged:_s}}),c$2(this,"extend",async ws=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(ws)}catch(Rs){throw this.client.logger.error("extend() -> isValidExtend() failed"),Rs}const{topic:Ss}=ws,Es=payloadId$1(),{done:_s,resolve:Is,reject:Ts}=ei$1();return this.events.once(ci$1("session_extend",Es),({error:Rs})=>{Rs?Ts(Rs):Is()}),await this.setExpiry(Ss,ii$1(B$3)),this.sendRequest({topic:Ss,method:"wc_sessionExtend",params:{},clientRpcId:Es,throwOnFailedPublish:!0}).catch(Rs=>{Ts(Rs)}),{acknowledged:_s}}),c$2(this,"request",async ws=>{this.isInitialized();try{await this.isValidRequest(ws)}catch(Cl){throw this.client.logger.error("request() -> isValidRequest() failed"),Cl}const{chainId:Ss,request:Es,topic:_s,expiry:Is=P$3.wc_sessionRequest.req.ttl}=ws,Ts=this.client.session.get(_s);(Ts==null?void 0:Ts.transportType)===ee$1.relay&&await this.confirmOnlineStateOrThrow();const Rs=payloadId$1(),Bs=getBigIntRpcId().toString(),{done:Ns,resolve:Ws,reject:Js}=ei$1(Is,"Request expired. Please try again.");this.events.once(ci$1("session_request",Rs),({error:Cl,result:Sl})=>{Cl?Js(Cl):Ws(Sl)});const $l="wc_sessionRequest",wl=this.getAppLinkIfEnabled(Ts.peer.metadata,Ts.transportType);if(wl)return await this.sendRequest({clientRpcId:Rs,relayRpcId:Bs,topic:_s,method:$l,params:{request:O$4(R$3({},Es),{expiryTimestamp:ii$1(Is)}),chainId:Ss},expiry:Is,throwOnFailedPublish:!0,appLink:wl}).catch(Cl=>Js(Cl)),this.client.events.emit("session_request_sent",{topic:_s,request:Es,chainId:Ss,id:Rs}),await Ns();const _l={request:O$4(R$3({},Es),{expiryTimestamp:ii$1(Is)}),chainId:Ss};return await Promise.all([new Promise(async Cl=>{await this.sendRequest({clientRpcId:Rs,relayRpcId:Bs,topic:_s,method:$l,params:_l,expiry:Is,throwOnFailedPublish:!0,tvf:this.getTVFParams(Rs,_l)}).catch(Sl=>Js(Sl)),this.client.events.emit("session_request_sent",{topic:_s,request:Es,chainId:Ss,id:Rs}),Cl()}),new Promise(async Cl=>{var Sl;if(!((Sl=Ts.sessionConfig)!=null&&Sl.disableDeepLink)){const El=await ui$1(this.client.core.storage,Le);await ai$1({id:Rs,topic:_s,wcDeepLink:El})}Cl()}),Ns()]).then(Cl=>Cl[2])}),c$2(this,"respond",async ws=>{this.isInitialized(),await this.isValidRespond(ws);const{topic:Ss,response:Es}=ws,{id:_s}=Es,Is=this.client.session.get(Ss);Is.transportType===ee$1.relay&&await this.confirmOnlineStateOrThrow();const Ts=this.getAppLinkIfEnabled(Is.peer.metadata,Is.transportType);isJsonRpcResult(Es)?await this.sendResult({id:_s,topic:Ss,result:Es.result,throwOnFailedPublish:!0,appLink:Ts}):isJsonRpcError(Es)&&await this.sendError({id:_s,topic:Ss,error:Es.error,appLink:Ts}),this.cleanupAfterResponse(ws)}),c$2(this,"ping",async ws=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(ws)}catch(Es){throw this.client.logger.error("ping() -> isValidPing() failed"),Es}const{topic:Ss}=ws;if(this.client.session.keys.includes(Ss)){const Es=payloadId$1(),_s=getBigIntRpcId().toString(),{done:Is,resolve:Ts,reject:Rs}=ei$1();this.events.once(ci$1("session_ping",Es),({error:Bs})=>{Bs?Rs(Bs):Ts()}),await Promise.all([this.sendRequest({topic:Ss,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:Es,relayRpcId:_s}),Is()])}else this.client.core.pairing.pairings.keys.includes(Ss)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:Ss}))}),c$2(this,"emit",async ws=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(ws);const{topic:Ss,event:Es,chainId:_s}=ws,Is=getBigIntRpcId().toString(),Ts=payloadId$1();await this.sendRequest({topic:Ss,method:"wc_sessionEvent",params:{event:Es,chainId:_s},throwOnFailedPublish:!0,relayRpcId:Is,clientRpcId:Ts})}),c$2(this,"disconnect",async ws=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(ws);const{topic:Ss}=ws;if(this.client.session.keys.includes(Ss))await this.sendRequest({topic:Ss,method:"wc_sessionDelete",params:Kt$1("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:Ss,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(Ss))await this.client.core.pairing.disconnect({topic:Ss});else{const{message:Es}=Et$2("MISMATCHED_TOPIC",`Session or pairing topic not found: ${Ss}`);throw new Error(Es)}}),c$2(this,"find",ws=>(this.isInitialized(),this.client.session.getAll().filter(Ss=>ya(Ss,ws)))),c$2(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),c$2(this,"authenticate",async(ws,Ss)=>{var Es;this.isInitialized(),this.isValidAuthenticate(ws);const _s=Ss&&this.client.core.linkModeSupportedApps.includes(Ss)&&((Es=this.client.metadata.redirect)==null?void 0:Es.linkMode),Is=_s?ee$1.link_mode:ee$1.relay;Is===ee$1.relay&&await this.confirmOnlineStateOrThrow();const{chains:Ts,statement:Rs="",uri:Bs,domain:Ns,nonce:Ws,type:Js,exp:$l,nbf:wl,methods:_l=[],expiry:Cl}=ws,Sl=[...ws.resources||[]],{topic:El,uri:xl}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:Is});this.client.logger.info({message:"Generated new pairing",pairing:{topic:El,uri:xl}});const Ml=await this.client.core.crypto.generateKeyPair(),Vl=Fc(Ml);if(await Promise.all([this.client.auth.authKeys.set(pe,{responseTopic:Vl,publicKey:Ml}),this.client.auth.pairingTopics.set(Vl,{topic:Vl,pairingTopic:El})]),await this.client.core.relayer.subscribe(Vl,{transportType:Is}),this.client.logger.info(`sending request to new pairing topic: ${El}`),_l.length>0){const{namespace:Zs}=Fe$1(Ts[0]);let Bl=Ef(Zs,"request",_l);Oe$1(Sl)&&(Bl=Bf(Bl,Sl.pop())),Sl.push(Bl)}const Ul=Cl&&Cl>P$3.wc_sessionAuthenticate.req.ttl?Cl:P$3.wc_sessionAuthenticate.req.ttl,_h={authPayload:{type:Js??"caip122",chains:Ts,statement:Rs,aud:Bs,domain:Ns,version:"1",nonce:Ws,iat:new Date().toISOString(),exp:$l,nbf:wl,resources:Sl},requester:{publicKey:Ml,metadata:this.client.metadata},expiryTimestamp:ii$1(Ul)},nu={eip155:{chains:Ts,methods:[...new Set(["personal_sign",..._l])],events:["chainChanged","accountsChanged"]}},su={requiredNamespaces:{},optionalNamespaces:nu,relays:[{protocol:"irn"}],pairingTopic:El,proposer:{publicKey:Ml,metadata:this.client.metadata},expiryTimestamp:ii$1(P$3.wc_sessionPropose.req.ttl),id:payloadId$1()},{done:Jl,resolve:Il,reject:Nl}=ei$1(Ul,"Request expired"),Ol=payloadId$1(),Gl=ci$1("session_connect",su.id),Fl=ci$1("session_request",Ol),Al=async({error:Zs,session:Bl})=>{this.events.off(Fl,Pl),Zs?Nl(Zs):Bl&&Il({session:Bl})},Pl=async Zs=>{var Bl,eu,Eu;if(await this.deletePendingAuthRequest(Ol,{message:"fulfilled",code:0}),Zs.error){const yu=Kt$1("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return Zs.error.code===yu.code?void 0:(this.events.off(Gl,Al),Nl(Zs.error.message))}await this.deleteProposal(su.id),this.events.off(Gl,Al);const{cacaos:uu,responder:Yl}=Zs.result,zl=[],ou=[];for(const yu of uu){await yf({cacao:yu,projectId:this.client.core.projectId})||(this.client.logger.error(yu,"Signature verification failed"),Nl(Kt$1("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:tu}=yu,Ll=Oe$1(tu.resources),Tl=[Vr$1(tu.iss)],Hl=dn$1(tu.iss);if(Ll){const Dl=If(Ll),Kl=Af(Ll);zl.push(...Dl),Tl.push(...Kl)}for(const Dl of Tl)ou.push(`${Dl}:${Hl}`)}const pu=await this.client.core.crypto.generateSharedKey(Ml,Yl.publicKey);let fu;zl.length>0&&(fu={topic:pu,acknowledged:!0,self:{publicKey:Ml,metadata:this.client.metadata},peer:Yl,controller:Yl.publicKey,expiry:ii$1(B$3),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:El,namespaces:ga([...new Set(zl)],[...new Set(ou)]),transportType:Is},await this.client.core.relayer.subscribe(pu,{transportType:Is}),await this.client.session.set(pu,fu),El&&await this.client.core.pairing.updateMetadata({topic:El,metadata:Yl.metadata}),fu=this.client.session.get(pu)),(Bl=this.client.metadata.redirect)!=null&&Bl.linkMode&&(eu=Yl.metadata.redirect)!=null&&eu.linkMode&&(Eu=Yl.metadata.redirect)!=null&&Eu.universal&&Ss&&(this.client.core.addLinkModeSupportedApp(Yl.metadata.redirect.universal),this.client.session.update(pu,{transportType:ee$1.link_mode})),Il({auths:uu,session:fu})};this.events.once(Gl,Al),this.events.once(Fl,Pl);let yl;try{if(_s){const Zs=formatJsonRpcRequest("wc_sessionAuthenticate",_h,Ol);this.client.core.history.set(El,Zs);const Bl=await this.client.core.crypto.encode("",Zs,{type:ge,encoding:De$2});yl=sa(Ss,El,Bl)}else await Promise.all([this.sendRequest({topic:El,method:"wc_sessionAuthenticate",params:_h,expiry:ws.expiry,throwOnFailedPublish:!0,clientRpcId:Ol}),this.sendRequest({topic:El,method:"wc_sessionPropose",params:su,expiry:P$3.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:su.id})])}catch(Zs){throw this.events.off(Gl,Al),this.events.off(Fl,Pl),Zs}return await this.setProposal(su.id,su),await this.setAuthRequest(Ol,{request:O$4(R$3({},_h),{verifyContext:{}}),pairingTopic:El,transportType:Is}),{uri:yl??xl,response:Jl}}),c$2(this,"approveSessionAuthenticate",async ws=>{const{id:Ss,auths:Es}=ws,_s=this.client.core.eventClient.createEvent({properties:{topic:Ss.toString(),trace:[or.authenticated_session_approve_started]}});try{this.isInitialized()}catch(Cl){throw _s.setError(ar.no_internet_connection),Cl}const Is=this.getPendingAuthRequest(Ss);if(!Is)throw _s.setError(ar.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${Ss}`);const Ts=Is.transportType||ee$1.relay;Ts===ee$1.relay&&await this.confirmOnlineStateOrThrow();const Rs=Is.requester.publicKey,Bs=await this.client.core.crypto.generateKeyPair(),Ns=Fc(Rs),Ws={type:ee$2,receiverPublicKey:Rs,senderPublicKey:Bs},Js=[],$l=[];for(const Cl of Es){if(!await yf({cacao:Cl,projectId:this.client.core.projectId})){_s.setError(ar.invalid_cacao);const Vl=Kt$1("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:Ss,topic:Ns,error:Vl,encodeOpts:Ws}),new Error(Vl.message)}_s.addTrace(or.cacaos_verified);const{p:Sl}=Cl,El=Oe$1(Sl.resources),xl=[Vr$1(Sl.iss)],Ml=dn$1(Sl.iss);if(El){const Vl=If(El),Ul=Af(El);Js.push(...Vl),xl.push(...Ul)}for(const Vl of xl)$l.push(`${Vl}:${Ml}`)}const wl=await this.client.core.crypto.generateSharedKey(Bs,Rs);_s.addTrace(or.create_authenticated_session_topic);let _l;if((Js==null?void 0:Js.length)>0){_l={topic:wl,acknowledged:!0,self:{publicKey:Bs,metadata:this.client.metadata},peer:{publicKey:Rs,metadata:Is.requester.metadata},controller:Rs,expiry:ii$1(B$3),authentication:Es,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:Is.pairingTopic,namespaces:ga([...new Set(Js)],[...new Set($l)]),transportType:Ts},_s.addTrace(or.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(wl,{transportType:Ts})}catch(Cl){throw _s.setError(ar.subscribe_authenticated_session_topic_failure),Cl}_s.addTrace(or.subscribe_authenticated_session_topic_success),await this.client.session.set(wl,_l),_s.addTrace(or.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:Is.pairingTopic,metadata:Is.requester.metadata})}_s.addTrace(or.publishing_authenticated_session_approve);try{await this.sendResult({topic:Ns,id:Ss,result:{cacaos:Es,responder:{publicKey:Bs,metadata:this.client.metadata}},encodeOpts:Ws,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(Is.requester.metadata,Ts)})}catch(Cl){throw _s.setError(ar.authenticated_session_approve_publish_failure),Cl}return await this.client.auth.requests.delete(Ss,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:Is.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:_s.eventId}),{session:_l}}),c$2(this,"rejectSessionAuthenticate",async ws=>{this.isInitialized();const{id:Ss,reason:Es}=ws,_s=this.getPendingAuthRequest(Ss);if(!_s)throw new Error(`Could not find pending auth request with id ${Ss}`);_s.transportType===ee$1.relay&&await this.confirmOnlineStateOrThrow();const Is=_s.requester.publicKey,Ts=await this.client.core.crypto.generateKeyPair(),Rs=Fc(Is),Bs={type:ee$2,receiverPublicKey:Is,senderPublicKey:Ts};await this.sendError({id:Ss,topic:Rs,error:Es,encodeOpts:Bs,rpcOpts:P$3.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(_s.requester.metadata,_s.transportType)}),await this.client.auth.requests.delete(Ss,{message:"rejected",code:0}),await this.deleteProposal(Ss)}),c$2(this,"formatAuthMessage",ws=>{this.isInitialized();const{request:Ss,iss:Es}=ws;return qr$1(Ss,Es)}),c$2(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const ws=this.relayMessageCache.shift();ws&&await this.onRelayMessage(ws)}catch(ws){this.client.logger.error(ws)}},50)}),c$2(this,"cleanupDuplicatePairings",async ws=>{if(ws.pairingTopic)try{const Ss=this.client.core.pairing.pairings.get(ws.pairingTopic),Es=this.client.core.pairing.pairings.getAll().filter(_s=>{var Is,Ts;return((Is=_s.peerMetadata)==null?void 0:Is.url)&&((Ts=_s.peerMetadata)==null?void 0:Ts.url)===ws.peer.metadata.url&&_s.topic&&_s.topic!==Ss.topic});if(Es.length===0)return;this.client.logger.info(`Cleaning up ${Es.length} duplicate pairing(s)`),await Promise.all(Es.map(_s=>this.client.core.pairing.disconnect({topic:_s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(Ss){this.client.logger.error(Ss)}}),c$2(this,"deleteSession",async ws=>{var Ss;const{topic:Es,expirerHasDeleted:_s=!1,emitEvent:Is=!0,id:Ts=0}=ws,{self:Rs}=this.client.session.get(Es);await this.client.core.relayer.unsubscribe(Es),await this.client.session.delete(Es,Kt$1("USER_DISCONNECTED")),this.addToRecentlyDeleted(Es,"session"),this.client.core.crypto.keychain.has(Rs.publicKey)&&await this.client.core.crypto.deleteKeyPair(Rs.publicKey),this.client.core.crypto.keychain.has(Es)&&await this.client.core.crypto.deleteSymKey(Es),_s||this.client.core.expirer.del(Es),this.client.core.storage.removeItem(Le).catch(Bs=>this.client.logger.warn(Bs)),this.getPendingSessionRequests().forEach(Bs=>{Bs.topic===Es&&this.deletePendingSessionRequest(Bs.id,Kt$1("USER_DISCONNECTED"))}),Es===((Ss=this.sessionRequestQueue.queue[0])==null?void 0:Ss.topic)&&(this.sessionRequestQueue.state=M$3.idle),Is&&this.client.events.emit("session_delete",{id:Ts,topic:Es})}),c$2(this,"deleteProposal",async(ws,Ss)=>{if(Ss)try{const Es=this.client.proposal.get(ws),_s=this.client.core.eventClient.getEvent({topic:Es.pairingTopic});_s==null||_s.setError(nr.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(ws,Kt$1("USER_DISCONNECTED")),Ss?Promise.resolve():this.client.core.expirer.del(ws)]),this.addToRecentlyDeleted(ws,"proposal")}),c$2(this,"deletePendingSessionRequest",async(ws,Ss,Es=!1)=>{await Promise.all([this.client.pendingRequest.delete(ws,Ss),Es?Promise.resolve():this.client.core.expirer.del(ws)]),this.addToRecentlyDeleted(ws,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(_s=>_s.id!==ws),Es&&(this.sessionRequestQueue.state=M$3.idle,this.client.events.emit("session_request_expire",{id:ws}))}),c$2(this,"deletePendingAuthRequest",async(ws,Ss,Es=!1)=>{await Promise.all([this.client.auth.requests.delete(ws,Ss),Es?Promise.resolve():this.client.core.expirer.del(ws)])}),c$2(this,"setExpiry",async(ws,Ss)=>{this.client.session.keys.includes(ws)&&(this.client.core.expirer.set(ws,Ss),await this.client.session.update(ws,{expiry:Ss}))}),c$2(this,"setProposal",async(ws,Ss)=>{this.client.core.expirer.set(ws,ii$1(P$3.wc_sessionPropose.req.ttl)),await this.client.proposal.set(ws,Ss)}),c$2(this,"setAuthRequest",async(ws,Ss)=>{const{request:Es,pairingTopic:_s,transportType:Is=ee$1.relay}=Ss;this.client.core.expirer.set(ws,Es.expiryTimestamp),await this.client.auth.requests.set(ws,{authPayload:Es.authPayload,requester:Es.requester,expiryTimestamp:Es.expiryTimestamp,id:ws,pairingTopic:_s,verifyContext:Es.verifyContext,transportType:Is})}),c$2(this,"setPendingSessionRequest",async ws=>{const{id:Ss,topic:Es,params:_s,verifyContext:Is}=ws,Ts=_s.request.expiryTimestamp||ii$1(P$3.wc_sessionRequest.req.ttl);this.client.core.expirer.set(Ss,Ts),await this.client.pendingRequest.set(Ss,{id:Ss,topic:Es,params:_s,verifyContext:Is})}),c$2(this,"sendRequest",async ws=>{const{topic:Ss,method:Es,params:_s,expiry:Is,relayRpcId:Ts,clientRpcId:Rs,throwOnFailedPublish:Bs,appLink:Ns,tvf:Ws,publishOpts:Js={}}=ws,$l=formatJsonRpcRequest(Es,_s,Rs);let wl;const _l=!!Ns;try{const El=_l?De$2:Qt$1;wl=await this.client.core.crypto.encode(Ss,$l,{encoding:El})}catch(El){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${Ss} failed`),El}let Cl;if(mt$1.includes(Es)){const El=zc(JSON.stringify($l)),xl=zc(wl);Cl=await this.client.core.verify.register({id:xl,decryptedId:El})}const Sl=R$3(R$3({},P$3[Es].req),Js);if(Sl.attestation=Cl,Is&&(Sl.ttl=Is),Ts&&(Sl.id=Ts),this.client.core.history.set(Ss,$l),_l){const El=sa(Ns,Ss,wl);await window.Linking.openURL(El,this.client.name)}else Sl.tvf=O$4(R$3({},Ws),{correlationId:$l.id}),Bs?(Sl.internal=O$4(R$3({},Sl.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(Ss,wl,Sl)):this.client.core.relayer.publish(Ss,wl,Sl).catch(El=>this.client.logger.error(El));return $l.id}),c$2(this,"sendProposeSession",async ws=>{const{proposal:Ss,publishOpts:Es}=ws,_s=formatJsonRpcRequest("wc_sessionPropose",Ss,Ss.id);this.client.core.history.set(Ss.pairingTopic,_s);const Is=await this.client.core.crypto.encode(Ss.pairingTopic,_s,{encoding:Qt$1}),Ts=zc(JSON.stringify(_s)),Rs=zc(Is),Bs=await this.client.core.verify.register({id:Rs,decryptedId:Ts});await this.client.core.relayer.publishCustom({payload:{pairingTopic:Ss.pairingTopic,sessionProposal:Is},opts:O$4(R$3({},Es),{publishMethod:"wc_proposeSession",attestation:Bs})})}),c$2(this,"sendApproveSession",async ws=>{const{sessionTopic:Ss,pairingProposalResponse:Es,proposal:_s,sessionSettleRequest:Is,publishOpts:Ts}=ws,Rs=formatJsonRpcResult(_s.id,Es),Bs=await this.client.core.crypto.encode(_s.pairingTopic,Rs,{encoding:Qt$1}),Ns=formatJsonRpcRequest("wc_sessionSettle",Is,Ts==null?void 0:Ts.id),Ws=await this.client.core.crypto.encode(Ss,Ns,{encoding:Qt$1});this.client.core.history.set(Ss,Ns),await this.client.core.relayer.publishCustom({payload:{sessionTopic:Ss,pairingTopic:_s.pairingTopic,sessionProposalResponse:Bs,sessionSettlementRequest:Ws},opts:O$4(R$3({},Ts),{publishMethod:"wc_approveSession"})})}),c$2(this,"sendResult",async ws=>{const{id:Ss,topic:Es,result:_s,throwOnFailedPublish:Is,encodeOpts:Ts,appLink:Rs}=ws,Bs=formatJsonRpcResult(Ss,_s);let Ns;const Ws=Rs&&typeof(window==null?void 0:window.Linking)<"u";try{const wl=Ws?De$2:Qt$1;Ns=await this.client.core.crypto.encode(Es,Bs,O$4(R$3({},Ts||{}),{encoding:wl}))}catch(wl){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${Es} failed`),wl}let Js,$l;try{Js=await this.client.core.history.get(Es,Ss);const wl=Js.request;try{$l=this.getTVFParams(Ss,wl.params,_s)}catch(_l){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${_l==null?void 0:_l.message}`)}}catch(wl){throw this.client.logger.error(`sendResult() -> history.get(${Es}, ${Ss}) failed`),wl}if(Ws){const wl=sa(Rs,Es,Ns);await window.Linking.openURL(wl,this.client.name)}else{const wl=Js.request.method,_l=P$3[wl].res;_l.tvf=O$4(R$3({},$l),{correlationId:Ss}),Is?(_l.internal=O$4(R$3({},_l.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(Es,Ns,_l)):this.client.core.relayer.publish(Es,Ns,_l).catch(Cl=>this.client.logger.error(Cl))}await this.client.core.history.resolve(Bs)}),c$2(this,"sendError",async ws=>{const{id:Ss,topic:Es,error:_s,encodeOpts:Is,rpcOpts:Ts,appLink:Rs}=ws,Bs=formatJsonRpcError(Ss,_s);let Ns;const Ws=Rs&&typeof(window==null?void 0:window.Linking)<"u";try{const $l=Ws?De$2:Qt$1;Ns=await this.client.core.crypto.encode(Es,Bs,O$4(R$3({},Is||{}),{encoding:$l}))}catch($l){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${Es} failed`),$l}let Js;try{Js=await this.client.core.history.get(Es,Ss)}catch($l){throw this.client.logger.error(`sendError() -> history.get(${Es}, ${Ss}) failed`),$l}if(Ws){const $l=sa(Rs,Es,Ns);await window.Linking.openURL($l,this.client.name)}else{const $l=Js.request.method,wl=Ts||P$3[$l].res;this.client.core.relayer.publish(Es,Ns,wl)}await this.client.core.history.resolve(Bs)}),c$2(this,"cleanup",async()=>{const ws=[],Ss=[];this.client.session.getAll().forEach(Es=>{let _s=!1;fi$1(Es.expiry)&&(_s=!0),this.client.core.crypto.keychain.has(Es.topic)||(_s=!0),_s&&ws.push(Es.topic)}),this.client.proposal.getAll().forEach(Es=>{fi$1(Es.expiryTimestamp)&&Ss.push(Es.id)}),await Promise.all([...ws.map(Es=>this.deleteSession({topic:Es})),...Ss.map(Es=>this.deleteProposal(Es))])}),c$2(this,"onProviderMessageEvent",async ws=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(ws):await this.onRelayMessage(ws)}),c$2(this,"onRelayEventRequest",async ws=>{this.requestQueue.queue.push(ws),await this.processRequestsQueue()}),c$2(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===M$3.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=M$3.active;const ws=this.requestQueue.queue.shift();if(ws)try{await this.processRequest(ws)}catch(Ss){this.client.logger.warn(Ss)}}this.requestQueue.state=M$3.idle}),c$2(this,"processRequest",async ws=>{const{topic:Ss,payload:Es,attestation:_s,transportType:Is,encryptedId:Ts}=ws,Rs=Es.method;if(!this.shouldIgnorePairingRequest({topic:Ss,requestMethod:Rs}))switch(Rs){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:Ss,payload:Es,attestation:_s,encryptedId:Ts});case"wc_sessionSettle":return await this.onSessionSettleRequest(Ss,Es);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(Ss,Es);case"wc_sessionExtend":return await this.onSessionExtendRequest(Ss,Es);case"wc_sessionPing":return await this.onSessionPingRequest(Ss,Es);case"wc_sessionDelete":return await this.onSessionDeleteRequest(Ss,Es);case"wc_sessionRequest":return await this.onSessionRequest({topic:Ss,payload:Es,attestation:_s,encryptedId:Ts,transportType:Is});case"wc_sessionEvent":return await this.onSessionEventRequest(Ss,Es);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:Ss,payload:Es,attestation:_s,encryptedId:Ts,transportType:Is});default:return this.client.logger.info(`Unsupported request method ${Rs}`)}}),c$2(this,"onRelayEventResponse",async ws=>{const{topic:Ss,payload:Es,transportType:_s}=ws,Is=(await this.client.core.history.get(Ss,Es.id)).request.method;switch(Is){case"wc_sessionPropose":return this.onSessionProposeResponse(Ss,Es,_s);case"wc_sessionSettle":return this.onSessionSettleResponse(Ss,Es);case"wc_sessionUpdate":return this.onSessionUpdateResponse(Ss,Es);case"wc_sessionExtend":return this.onSessionExtendResponse(Ss,Es);case"wc_sessionPing":return this.onSessionPingResponse(Ss,Es);case"wc_sessionRequest":return this.onSessionRequestResponse(Ss,Es);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(Ss,Es);default:return this.client.logger.info(`Unsupported response method ${Is}`)}}),c$2(this,"onRelayEventUnknownPayload",ws=>{const{topic:Ss}=ws,{message:Es}=Et$2("MISSING_OR_INVALID",`Decoded payload on topic ${Ss} is not identifiable as a JSON-RPC request or a response.`);throw new Error(Es)}),c$2(this,"shouldIgnorePairingRequest",ws=>{const{topic:Ss,requestMethod:Es}=ws,_s=this.expectedPairingMethodMap.get(Ss);return!_s||_s.includes(Es)?!1:!!(_s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),c$2(this,"onSessionProposeRequest",async ws=>{const{topic:Ss,payload:Es,attestation:_s,encryptedId:Is}=ws,{params:Ts,id:Rs}=Es;try{const Bs=this.client.core.eventClient.getEvent({topic:Ss});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),Bs==null||Bs.setError(X$3.proposal_listener_not_found)),this.isValidConnect(R$3({},Es.params));const Ns=Ts.expiryTimestamp||ii$1(P$3.wc_sessionPropose.req.ttl),Ws=R$3({id:Rs,pairingTopic:Ss,expiryTimestamp:Ns,attestation:_s,encryptedId:Is},Ts);await this.setProposal(Rs,Ws);const Js=await this.getVerifyContext({attestationId:_s,hash:zc(JSON.stringify(Es)),encryptedId:Is,metadata:Ws.proposer.metadata});Bs==null||Bs.addTrace(Y$3.emit_session_proposal),this.client.events.emit("session_proposal",{id:Rs,params:Ws,verifyContext:Js})}catch(Bs){await this.sendError({id:Rs,topic:Ss,error:Bs,rpcOpts:P$3.wc_sessionPropose.autoReject}),this.client.logger.error(Bs)}}),c$2(this,"onSessionProposeResponse",async(ws,Ss,Es)=>{const{id:_s}=Ss;if(isJsonRpcResult(Ss)){const{result:Is}=Ss;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:Is});const Ts=this.client.proposal.get(_s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:Ts});const Rs=Ts.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:Rs});const Bs=Is.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:Bs});const Ns=await this.client.core.crypto.generateSharedKey(Rs,Bs);this.pendingSessions.set(_s,{sessionTopic:Ns,pairingTopic:ws,proposalId:_s,publicKey:Rs});const Ws=await this.client.core.relayer.subscribe(Ns,{transportType:Es});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:Ws}),await this.client.core.pairing.activate({topic:ws})}else if(isJsonRpcError(Ss)){await this.deleteProposal(_s);const Is=ci$1("session_connect",_s);if(this.events.listenerCount(Is)===0)throw new Error(`emitting ${Is} without any listeners, 954`);this.events.emit(Is,{error:Ss.error})}}),c$2(this,"onSessionSettleRequest",async(ws,Ss)=>{const{id:Es,params:_s}=Ss;try{this.isValidSessionSettleRequest(_s);const{relay:Is,controller:Ts,expiry:Rs,namespaces:Bs,sessionProperties:Ns,scopedProperties:Ws,sessionConfig:Js}=Ss.params,$l=[...this.pendingSessions.values()].find(Cl=>Cl.sessionTopic===ws);if(!$l)return this.client.logger.error(`Pending session not found for topic ${ws}`);const wl=this.client.proposal.get($l.proposalId),_l=O$4(R$3(R$3(R$3({topic:ws,relay:Is,expiry:Rs,namespaces:Bs,acknowledged:!0,pairingTopic:$l.pairingTopic,requiredNamespaces:wl.requiredNamespaces,optionalNamespaces:wl.optionalNamespaces,controller:Ts.publicKey,self:{publicKey:$l.publicKey,metadata:this.client.metadata},peer:{publicKey:Ts.publicKey,metadata:Ts.metadata}},Ns&&{sessionProperties:Ns}),Ws&&{scopedProperties:Ws}),Js&&{sessionConfig:Js}),{transportType:ee$1.relay});await this.client.session.set(_l.topic,_l),await this.setExpiry(_l.topic,_l.expiry),await this.client.core.pairing.updateMetadata({topic:$l.pairingTopic,metadata:_l.peer.metadata}),this.client.events.emit("session_connect",{session:_l}),this.events.emit(ci$1("session_connect",$l.proposalId),{session:_l}),this.pendingSessions.delete($l.proposalId),this.deleteProposal($l.proposalId,!1),this.cleanupDuplicatePairings(_l),await this.sendResult({id:Ss.id,topic:ws,result:!0})}catch(Is){await this.sendError({id:Es,topic:ws,error:Is}),this.client.logger.error(Is)}}),c$2(this,"onSessionSettleResponse",async(ws,Ss)=>{const{id:Es}=Ss;isJsonRpcResult(Ss)?(await this.client.session.update(ws,{acknowledged:!0}),this.events.emit(ci$1("session_approve",Es),{})):isJsonRpcError(Ss)&&(await this.client.session.delete(ws,Kt$1("USER_DISCONNECTED")),this.events.emit(ci$1("session_approve",Es),{error:Ss.error}))}),c$2(this,"onSessionUpdateRequest",async(ws,Ss)=>{const{params:Es,id:_s}=Ss;try{const Is=`${ws}_session_update`,Ts=Ha.get(Is);if(Ts&&this.isRequestOutOfSync(Ts,_s)){this.client.logger.warn(`Discarding out of sync request - ${_s}`),this.sendError({id:_s,topic:ws,error:Kt$1("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(R$3({topic:ws},Es));try{Ha.set(Is,_s),await this.client.session.update(ws,{namespaces:Es.namespaces}),await this.sendResult({id:_s,topic:ws,result:!0})}catch(Rs){throw Ha.delete(Is),Rs}this.client.events.emit("session_update",{id:_s,topic:ws,params:Es})}catch(Is){await this.sendError({id:_s,topic:ws,error:Is}),this.client.logger.error(Is)}}),c$2(this,"isRequestOutOfSync",(ws,Ss)=>Ss.toString().slice(0,-3)<ws.toString().slice(0,-3)),c$2(this,"onSessionUpdateResponse",(ws,Ss)=>{const{id:Es}=Ss,_s=ci$1("session_update",Es);if(this.events.listenerCount(_s)===0)throw new Error(`emitting ${_s} without any listeners`);isJsonRpcResult(Ss)?this.events.emit(ci$1("session_update",Es),{}):isJsonRpcError(Ss)&&this.events.emit(ci$1("session_update",Es),{error:Ss.error})}),c$2(this,"onSessionExtendRequest",async(ws,Ss)=>{const{id:Es}=Ss;try{this.isValidExtend({topic:ws}),await this.setExpiry(ws,ii$1(B$3)),await this.sendResult({id:Es,topic:ws,result:!0}),this.client.events.emit("session_extend",{id:Es,topic:ws})}catch(_s){await this.sendError({id:Es,topic:ws,error:_s}),this.client.logger.error(_s)}}),c$2(this,"onSessionExtendResponse",(ws,Ss)=>{const{id:Es}=Ss,_s=ci$1("session_extend",Es);if(this.events.listenerCount(_s)===0)throw new Error(`emitting ${_s} without any listeners`);isJsonRpcResult(Ss)?this.events.emit(ci$1("session_extend",Es),{}):isJsonRpcError(Ss)&&this.events.emit(ci$1("session_extend",Es),{error:Ss.error})}),c$2(this,"onSessionPingRequest",async(ws,Ss)=>{const{id:Es}=Ss;try{this.isValidPing({topic:ws}),await this.sendResult({id:Es,topic:ws,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:Es,topic:ws})}catch(_s){await this.sendError({id:Es,topic:ws,error:_s}),this.client.logger.error(_s)}}),c$2(this,"onSessionPingResponse",(ws,Ss)=>{const{id:Es}=Ss,_s=ci$1("session_ping",Es);setTimeout(()=>{if(this.events.listenerCount(_s)===0)throw new Error(`emitting ${_s} without any listeners 2176`);isJsonRpcResult(Ss)?this.events.emit(ci$1("session_ping",Es),{}):isJsonRpcError(Ss)&&this.events.emit(ci$1("session_ping",Es),{error:Ss.error})},500)}),c$2(this,"onSessionDeleteRequest",async(ws,Ss)=>{const{id:Es}=Ss;try{this.isValidDisconnect({topic:ws,reason:Ss.params}),await Promise.all([new Promise(_s=>{this.client.core.relayer.once(C$4.publish,async()=>{_s(await this.deleteSession({topic:ws,id:Es}))})}),this.sendResult({id:Es,topic:ws,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:ws,error:Kt$1("USER_DISCONNECTED")})]).catch(_s=>this.client.logger.error(_s))}catch(_s){this.client.logger.error(_s)}}),c$2(this,"onSessionRequest",async ws=>{var Ss,Es,_s;const{topic:Is,payload:Ts,attestation:Rs,encryptedId:Bs,transportType:Ns}=ws,{id:Ws,params:Js}=Ts;try{await this.isValidRequest(R$3({topic:Is},Js));const $l=this.client.session.get(Is),wl=await this.getVerifyContext({attestationId:Rs,hash:zc(JSON.stringify(formatJsonRpcRequest("wc_sessionRequest",Js,Ws))),encryptedId:Bs,metadata:$l.peer.metadata,transportType:Ns}),_l={id:Ws,topic:Is,params:Js,verifyContext:wl};await this.setPendingSessionRequest(_l),Ns===ee$1.link_mode&&(Ss=$l.peer.metadata.redirect)!=null&&Ss.universal&&this.client.core.addLinkModeSupportedApp((Es=$l.peer.metadata.redirect)==null?void 0:Es.universal),(_s=this.client.signConfig)!=null&&_s.disableRequestQueue?this.emitSessionRequest(_l):(this.addSessionRequestToSessionRequestQueue(_l),this.processSessionRequestQueue())}catch($l){await this.sendError({id:Ws,topic:Is,error:$l}),this.client.logger.error($l)}}),c$2(this,"onSessionRequestResponse",(ws,Ss)=>{const{id:Es}=Ss,_s=ci$1("session_request",Es);if(this.events.listenerCount(_s)===0)throw new Error(`emitting ${_s} without any listeners`);isJsonRpcResult(Ss)?this.events.emit(ci$1("session_request",Es),{result:Ss.result}):isJsonRpcError(Ss)&&this.events.emit(ci$1("session_request",Es),{error:Ss.error})}),c$2(this,"onSessionEventRequest",async(ws,Ss)=>{const{id:Es,params:_s}=Ss;try{const Is=`${ws}_session_event_${_s.event.name}`,Ts=Ha.get(Is);if(Ts&&this.isRequestOutOfSync(Ts,Es)){this.client.logger.info(`Discarding out of sync request - ${Es}`);return}this.isValidEmit(R$3({topic:ws},_s)),this.client.events.emit("session_event",{id:Es,topic:ws,params:_s}),Ha.set(Is,Es)}catch(Is){await this.sendError({id:Es,topic:ws,error:Is}),this.client.logger.error(Is)}}),c$2(this,"onSessionAuthenticateResponse",(ws,Ss)=>{const{id:Es}=Ss;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:ws,payload:Ss}),isJsonRpcResult(Ss)?this.events.emit(ci$1("session_request",Es),{result:Ss.result}):isJsonRpcError(Ss)&&this.events.emit(ci$1("session_request",Es),{error:Ss.error})}),c$2(this,"onSessionAuthenticateRequest",async ws=>{var Ss;const{topic:Es,payload:_s,attestation:Is,encryptedId:Ts,transportType:Rs}=ws;try{const{requester:Bs,authPayload:Ns,expiryTimestamp:Ws}=_s.params,Js=await this.getVerifyContext({attestationId:Is,hash:zc(JSON.stringify(_s)),encryptedId:Ts,metadata:Bs.metadata,transportType:Rs}),$l={requester:Bs,pairingTopic:Es,id:_s.id,authPayload:Ns,verifyContext:Js,expiryTimestamp:Ws};await this.setAuthRequest(_s.id,{request:$l,pairingTopic:Es,transportType:Rs}),Rs===ee$1.link_mode&&(Ss=Bs.metadata.redirect)!=null&&Ss.universal&&this.client.core.addLinkModeSupportedApp(Bs.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:Es,params:_s.params,id:_s.id,verifyContext:Js})}catch(Bs){this.client.logger.error(Bs);const Ns=_s.params.requester.publicKey,Ws=await this.client.core.crypto.generateKeyPair(),Js=this.getAppLinkIfEnabled(_s.params.requester.metadata,Rs),$l={type:ee$2,receiverPublicKey:Ns,senderPublicKey:Ws};await this.sendError({id:_s.id,topic:Es,error:Bs,encodeOpts:$l,rpcOpts:P$3.wc_sessionAuthenticate.autoReject,appLink:Js})}}),c$2(this,"addSessionRequestToSessionRequestQueue",ws=>{this.sessionRequestQueue.queue.push(ws)}),c$2(this,"cleanupAfterResponse",ws=>{this.deletePendingSessionRequest(ws.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=M$3.idle,this.processSessionRequestQueue()},cjs$5.toMiliseconds(this.requestQueueDelay))}),c$2(this,"cleanupPendingSentRequestsForTopic",({topic:ws,error:Ss})=>{const Es=this.client.core.history.pending;Es.length>0&&Es.filter(_s=>_s.topic===ws&&_s.request.method==="wc_sessionRequest").forEach(_s=>{const Is=_s.request.id,Ts=ci$1("session_request",Is);if(this.events.listenerCount(Ts)===0)throw new Error(`emitting ${Ts} without any listeners`);this.events.emit(ci$1("session_request",_s.request.id),{error:Ss})})}),c$2(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===M$3.active){this.client.logger.info("session request queue is already active.");return}const ws=this.sessionRequestQueue.queue[0];if(!ws){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(ws)}catch(Ss){this.client.logger.error(Ss)}}),c$2(this,"emitSessionRequest",ws=>{if(this.emittedSessionRequests.has(ws.id)){this.client.logger.warn({id:ws.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${ws.id}`);return}this.sessionRequestQueue.state=M$3.active,this.emittedSessionRequests.add(ws.id),this.client.events.emit("session_request",ws)}),c$2(this,"onPairingCreated",ws=>{if(ws.methods&&this.expectedPairingMethodMap.set(ws.topic,ws.methods),ws.active)return;const Ss=this.client.proposal.getAll().find(Es=>Es.pairingTopic===ws.topic);Ss&&this.onSessionProposeRequest({topic:ws.topic,payload:formatJsonRpcRequest("wc_sessionPropose",O$4(R$3({},Ss),{requiredNamespaces:Ss.requiredNamespaces,optionalNamespaces:Ss.optionalNamespaces,relays:Ss.relays,proposer:Ss.proposer,sessionProperties:Ss.sessionProperties,scopedProperties:Ss.scopedProperties}),Ss.id),attestation:Ss.attestation,encryptedId:Ss.encryptedId})}),c$2(this,"isValidConnect",async ws=>{if(!Aa(ws)){const{message:Bs}=Et$2("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(ws)}`);throw new Error(Bs)}const{pairingTopic:Ss,requiredNamespaces:Es,optionalNamespaces:_s,sessionProperties:Is,scopedProperties:Ts,relays:Rs}=ws;if(kt$2(Ss)||await this.isValidPairingTopic(Ss),!Ba(Rs)){const{message:Bs}=Et$2("MISSING_OR_INVALID",`connect() relays: ${Rs}`);throw new Error(Bs)}if(!kt$2(Es)&&Ve$1(Es)!==0){const Bs="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(Bs):this.client.logger.warn(Bs),this.validateNamespaces(Es,"requiredNamespaces")}if(!kt$2(_s)&&Ve$1(_s)!==0&&this.validateNamespaces(_s,"optionalNamespaces"),kt$2(Is)||this.validateSessionProps(Is,"sessionProperties"),!kt$2(Ts)){this.validateSessionProps(Ts,"scopedProperties");const Bs=Object.keys(Es||{}).concat(Object.keys(_s||{}));if(!Object.keys(Ts).every(Ns=>Bs.includes(Ns.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(Ts)}, required/optional namespaces: ${JSON.stringify(Bs)}`)}}),c$2(this,"validateNamespaces",(ws,Ss)=>{const Es=Ea(ws,"connect()",Ss);if(Es)throw new Error(Es.message)}),c$2(this,"isValidApprove",async ws=>{if(!Aa(ws))throw new Error(Et$2("MISSING_OR_INVALID",`approve() params: ${ws}`).message);const{id:Ss,namespaces:Es,relayProtocol:_s,sessionProperties:Is,scopedProperties:Ts}=ws;this.checkRecentlyDeleted(Ss),await this.isValidProposalId(Ss);const Rs=this.client.proposal.get(Ss),Bs=is(Es,"approve()");if(Bs)throw new Error(Bs.message);const Ns=cs(Rs.requiredNamespaces,Es,"approve()");if(Ns)throw new Error(Ns.message);if(!it$1(_s,!0)){const{message:Ws}=Et$2("MISSING_OR_INVALID",`approve() relayProtocol: ${_s}`);throw new Error(Ws)}if(kt$2(Is)||this.validateSessionProps(Is,"sessionProperties"),!kt$2(Ts)){this.validateSessionProps(Ts,"scopedProperties");const Ws=new Set(Object.keys(Es));if(!Object.keys(Ts).every(Js=>Ws.has(Js.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(Ts)}, approved namespaces: ${Array.from(Ws).join(", ")}`)}}),c$2(this,"isValidReject",async ws=>{if(!Aa(ws)){const{message:_s}=Et$2("MISSING_OR_INVALID",`reject() params: ${ws}`);throw new Error(_s)}const{id:Ss,reason:Es}=ws;if(this.checkRecentlyDeleted(Ss),await this.isValidProposalId(Ss),!Sa(Es)){const{message:_s}=Et$2("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(Es)}`);throw new Error(_s)}}),c$2(this,"isValidSessionSettleRequest",ws=>{if(!Aa(ws)){const{message:Bs}=Et$2("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${ws}`);throw new Error(Bs)}const{relay:Ss,controller:Es,namespaces:_s,expiry:Is}=ws;if(!fs(Ss)){const{message:Bs}=Et$2("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(Bs)}const Ts=va(Es,"onSessionSettleRequest()");if(Ts)throw new Error(Ts.message);const Rs=is(_s,"onSessionSettleRequest()");if(Rs)throw new Error(Rs.message);if(fi$1(Is)){const{message:Bs}=Et$2("EXPIRED","onSessionSettleRequest()");throw new Error(Bs)}}),c$2(this,"isValidUpdate",async ws=>{if(!Aa(ws)){const{message:Rs}=Et$2("MISSING_OR_INVALID",`update() params: ${ws}`);throw new Error(Rs)}const{topic:Ss,namespaces:Es}=ws;this.checkRecentlyDeleted(Ss),await this.isValidSessionTopic(Ss);const _s=this.client.session.get(Ss),Is=is(Es,"update()");if(Is)throw new Error(Is.message);const Ts=cs(_s.requiredNamespaces,Es,"update()");if(Ts)throw new Error(Ts.message)}),c$2(this,"isValidExtend",async ws=>{if(!Aa(ws)){const{message:Es}=Et$2("MISSING_OR_INVALID",`extend() params: ${ws}`);throw new Error(Es)}const{topic:Ss}=ws;this.checkRecentlyDeleted(Ss),await this.isValidSessionTopic(Ss)}),c$2(this,"isValidRequest",async ws=>{if(!Aa(ws)){const{message:Rs}=Et$2("MISSING_OR_INVALID",`request() params: ${ws}`);throw new Error(Rs)}const{topic:Ss,request:Es,chainId:_s,expiry:Is}=ws;this.checkRecentlyDeleted(Ss),await this.isValidSessionTopic(Ss);const{namespaces:Ts}=this.client.session.get(Ss);if(!_a(Ts,_s)){const{message:Rs}=Et$2("MISSING_OR_INVALID",`request() chainId: ${_s}`);throw new Error(Rs)}if(!Na(Es)){const{message:Rs}=Et$2("MISSING_OR_INVALID",`request() ${JSON.stringify(Es)}`);throw new Error(Rs)}if(!Ta(Ts,_s,Es.method)){const{message:Rs}=Et$2("MISSING_OR_INVALID",`request() method: ${Es.method}`);throw new Error(Rs)}if(Is&&!La(Is,_e)){const{message:Rs}=Et$2("MISSING_OR_INVALID",`request() expiry: ${Is}. Expiry must be a number (in seconds) between ${_e.min} and ${_e.max}`);throw new Error(Rs)}}),c$2(this,"isValidRespond",async ws=>{var Ss;if(!Aa(ws)){const{message:Is}=Et$2("MISSING_OR_INVALID",`respond() params: ${ws}`);throw new Error(Is)}const{topic:Es,response:_s}=ws;try{await this.isValidSessionTopic(Es)}catch(Is){throw(Ss=ws==null?void 0:ws.response)!=null&&Ss.id&&this.cleanupAfterResponse(ws),Is}if(!Oa(_s)){const{message:Is}=Et$2("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(_s)}`);throw new Error(Is)}}),c$2(this,"isValidPing",async ws=>{if(!Aa(ws)){const{message:Es}=Et$2("MISSING_OR_INVALID",`ping() params: ${ws}`);throw new Error(Es)}const{topic:Ss}=ws;await this.isValidSessionOrPairingTopic(Ss)}),c$2(this,"isValidEmit",async ws=>{if(!Aa(ws)){const{message:Ts}=Et$2("MISSING_OR_INVALID",`emit() params: ${ws}`);throw new Error(Ts)}const{topic:Ss,event:Es,chainId:_s}=ws;await this.isValidSessionTopic(Ss);const{namespaces:Is}=this.client.session.get(Ss);if(!_a(Is,_s)){const{message:Ts}=Et$2("MISSING_OR_INVALID",`emit() chainId: ${_s}`);throw new Error(Ts)}if(!Ua(Es)){const{message:Ts}=Et$2("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(Es)}`);throw new Error(Ts)}if(!Ra(Is,_s,Es.name)){const{message:Ts}=Et$2("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(Es)}`);throw new Error(Ts)}}),c$2(this,"isValidDisconnect",async ws=>{if(!Aa(ws)){const{message:Es}=Et$2("MISSING_OR_INVALID",`disconnect() params: ${ws}`);throw new Error(Es)}const{topic:Ss}=ws;await this.isValidSessionOrPairingTopic(Ss)}),c$2(this,"isValidAuthenticate",ws=>{const{chains:Ss,uri:Es,domain:_s,nonce:Is}=ws;if(!Array.isArray(Ss)||Ss.length===0)throw new Error("chains is required and must be a non-empty array");if(!it$1(Es,!1))throw new Error("uri is required parameter");if(!it$1(_s,!1))throw new Error("domain is required parameter");if(!it$1(Is,!1))throw new Error("nonce is required parameter");if([...new Set(Ss.map(Rs=>Fe$1(Rs).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:Ts}=Fe$1(Ss[0]);if(Ts!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),c$2(this,"getVerifyContext",async ws=>{const{attestationId:Ss,hash:Es,encryptedId:_s,metadata:Is,transportType:Ts}=ws,Rs={verified:{verifyUrl:Is.verifyUrl||be,validation:"UNKNOWN",origin:Is.url||""}};try{if(Ts===ee$1.link_mode){const Ns=this.getAppLinkIfEnabled(Is,Ts);return Rs.verified.validation=Ns&&new URL(Ns).origin===new URL(Is.url).origin?"VALID":"INVALID",Rs}const Bs=await this.client.core.verify.resolve({attestationId:Ss,hash:Es,encryptedId:_s,verifyUrl:Is.verifyUrl});Bs&&(Rs.verified.origin=Bs.origin,Rs.verified.isScam=Bs.isScam,Rs.verified.validation=Bs.origin===new URL(Is.url).origin?"VALID":"INVALID")}catch(Bs){this.client.logger.warn(Bs)}return this.client.logger.debug(`Verify context: ${JSON.stringify(Rs)}`),Rs}),c$2(this,"validateSessionProps",(ws,Ss)=>{Object.values(ws).forEach((Es,_s)=>{if(Es==null){const{message:Is}=Et$2("MISSING_OR_INVALID",`${Ss} must contain an existing value for each key. Received: ${Es} for key ${Object.keys(ws)[_s]}`);throw new Error(Is)}})}),c$2(this,"getPendingAuthRequest",ws=>{const Ss=this.client.auth.requests.get(ws);return typeof Ss=="object"?Ss:void 0}),c$2(this,"addToRecentlyDeleted",(ws,Ss)=>{if(this.recentlyDeletedMap.set(ws,Ss),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let Es=0;const _s=this.recentlyDeletedLimit/2;for(const Is of this.recentlyDeletedMap.keys()){if(Es++>=_s)break;this.recentlyDeletedMap.delete(Is)}}}),c$2(this,"checkRecentlyDeleted",ws=>{const Ss=this.recentlyDeletedMap.get(ws);if(Ss){const{message:Es}=Et$2("MISSING_OR_INVALID",`Record was recently deleted - ${Ss}: ${ws}`);throw new Error(Es)}}),c$2(this,"isLinkModeEnabled",(ws,Ss)=>{var Es,_s,Is,Ts,Rs,Bs,Ns,Ws,Js;return!ws||Ss!==ee$1.link_mode?!1:((_s=(Es=this.client.metadata)==null?void 0:Es.redirect)==null?void 0:_s.linkMode)===!0&&((Ts=(Is=this.client.metadata)==null?void 0:Is.redirect)==null?void 0:Ts.universal)!==void 0&&((Bs=(Rs=this.client.metadata)==null?void 0:Rs.redirect)==null?void 0:Bs.universal)!==""&&((Ns=ws==null?void 0:ws.redirect)==null?void 0:Ns.universal)!==void 0&&((Ws=ws==null?void 0:ws.redirect)==null?void 0:Ws.universal)!==""&&((Js=ws==null?void 0:ws.redirect)==null?void 0:Js.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(ws.redirect.universal)&&typeof(window==null?void 0:window.Linking)<"u"}),c$2(this,"getAppLinkIfEnabled",(ws,Ss)=>{var Es;return this.isLinkModeEnabled(ws,Ss)?(Es=ws==null?void 0:ws.redirect)==null?void 0:Es.universal:void 0}),c$2(this,"handleLinkModeMessage",({url:ws})=>{if(!ws||!ws.includes("wc_ev")||!ws.includes("topic"))return;const Ss=li$1(ws,"topic")||"",Es=decodeURIComponent(li$1(ws,"wc_ev")||""),_s=this.client.session.keys.includes(Ss);_s&&this.client.session.update(Ss,{transportType:ee$1.link_mode}),this.client.core.dispatchEnvelope({topic:Ss,message:Es,sessionExists:_s})}),c$2(this,"registerLinkModeListeners",async()=>{var ws;if(hi$1()||Bt$2()&&(ws=this.client.metadata.redirect)!=null&&ws.linkMode){const Ss=window==null?void 0:window.Linking;if(typeof Ss<"u"){Ss.addEventListener("url",this.handleLinkModeMessage,this.client.name);const Es=await Ss.getInitialURL();Es&&setTimeout(()=>{this.handleLinkModeMessage({url:Es})},50)}}}),c$2(this,"getTVFParams",(ws,Ss,Es)=>{var _s,Is,Ts;if(!((_s=Ss.request)!=null&&_s.method))return{};const Rs={correlationId:ws,rpcMethods:[Ss.request.method],chainId:Ss.chainId};try{const Bs=this.extractTxHashesFromResult(Ss.request,Es);Rs.txHashes=Bs,Rs.contractAddresses=this.isValidContractData(Ss.request.params)?[(Ts=(Is=Ss.request.params)==null?void 0:Is[0])==null?void 0:Ts.to]:[]}catch(Bs){this.client.logger.warn("Error getting TVF params",Bs)}return Rs}),c$2(this,"isValidContractData",ws=>{var Ss;if(!ws)return!1;try{const Es=(ws==null?void 0:ws.data)||((Ss=ws==null?void 0:ws[0])==null?void 0:Ss.data);if(!Es.startsWith("0x"))return!1;const _s=Es.slice(2);return/^[0-9a-fA-F]*$/.test(_s)?_s.length%2===0:!1}catch{}return!1}),c$2(this,"extractTxHashesFromResult",(ws,Ss)=>{var Es;try{if(!Ss)return[];const _s=ws.method,Is=yt[_s];if(_s==="sui_signTransaction")return[ff(Ss.transactionBytes)];if(_s==="near_signTransaction")return[cf(Ss)];if(_s==="near_signTransactions")return Ss.map(Rs=>cf(Rs));if(_s==="xrpl_signTransactionFor"||_s==="xrpl_signTransaction")return[(Es=Ss.tx_json)==null?void 0:Es.hash];if(_s==="polkadot_signTransaction")return[Ka({transaction:ws.params.transactionPayload,signature:Ss.signature})];if(_s==="algo_signTxn")return me$2(Ss)?Ss.map(Rs=>af(Rs)):[af(Ss)];if(_s==="cosmos_signDirect")return[uf(Ss)];if(typeof Ss=="string")return[Ss];const Ts=Ss[Is.key];if(me$2(Ts))return _s==="solana_signAllTransactions"?Ts.map(Rs=>sf(Rs)):Ts;if(typeof Ts=="string")return[Ts]}catch(_s){this.client.logger.warn("Error extracting tx hashes from result",_s)}return[]})}async processPendingMessageEvents(){try{const ms=this.client.session.keys,ws=this.client.core.relayer.messages.getWithoutAck(ms);for(const[Ss,Es]of Object.entries(ws))for(const _s of Es)try{await this.onProviderMessageEvent({topic:Ss,message:_s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${Ss}, message: ${_s}`)}}catch(ms){this.client.logger.warn("processPendingMessageEvents failed",ms)}}isInitialized(){if(!this.initialized){const{message:ms}=Et$2("NOT_INITIALIZED",this.name);throw new Error(ms)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(C$4.message,ms=>{this.onProviderMessageEvent(ms)})}async onRelayMessage(ms){const{topic:ws,message:Ss,attestation:Es,transportType:_s}=ms,{publicKey:Is}=this.client.auth.authKeys.keys.includes(pe)?this.client.auth.authKeys.get(pe):{publicKey:void 0};try{const Ts=await this.client.core.crypto.decode(ws,Ss,{receiverPublicKey:Is,encoding:_s===ee$1.link_mode?De$2:Qt$1});isJsonRpcRequest$1(Ts)?(this.client.core.history.set(ws,Ts),await this.onRelayEventRequest({topic:ws,payload:Ts,attestation:Es,transportType:_s,encryptedId:zc(Ss)})):isJsonRpcResponse(Ts)?(await this.client.core.history.resolve(Ts),await this.onRelayEventResponse({topic:ws,payload:Ts,transportType:_s}),this.client.core.history.delete(ws,Ts.id)):await this.onRelayEventUnknownPayload({topic:ws,payload:Ts,transportType:_s}),await this.client.core.relayer.messages.ack(ws,Ss)}catch(Ts){this.client.logger.error(Ts)}}registerExpirerEvents(){this.client.core.expirer.on(q$3.expired,async ms=>{const{topic:ws,id:Ss}=si$1(ms.target);if(Ss&&this.client.pendingRequest.keys.includes(Ss))return await this.deletePendingSessionRequest(Ss,Et$2("EXPIRED"),!0);if(Ss&&this.client.auth.requests.keys.includes(Ss))return await this.deletePendingAuthRequest(Ss,Et$2("EXPIRED"),!0);ws?this.client.session.keys.includes(ws)&&(await this.deleteSession({topic:ws,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:ws})):Ss&&(await this.deleteProposal(Ss,!0),this.client.events.emit("proposal_expire",{id:Ss}))})}registerPairingEvents(){this.client.core.pairing.events.on(ae$1.create,ms=>this.onPairingCreated(ms)),this.client.core.pairing.events.on(ae$1.delete,ms=>{this.addToRecentlyDeleted(ms.topic,"pairing")})}isValidPairingTopic(ms){if(!it$1(ms,!1)){const{message:ws}=Et$2("MISSING_OR_INVALID",`pairing topic should be a string: ${ms}`);throw new Error(ws)}if(!this.client.core.pairing.pairings.keys.includes(ms)){const{message:ws}=Et$2("NO_MATCHING_KEY",`pairing topic doesn't exist: ${ms}`);throw new Error(ws)}if(fi$1(this.client.core.pairing.pairings.get(ms).expiry)){const{message:ws}=Et$2("EXPIRED",`pairing topic: ${ms}`);throw new Error(ws)}}async isValidSessionTopic(ms){if(!it$1(ms,!1)){const{message:ws}=Et$2("MISSING_OR_INVALID",`session topic should be a string: ${ms}`);throw new Error(ws)}if(this.checkRecentlyDeleted(ms),!this.client.session.keys.includes(ms)){const{message:ws}=Et$2("NO_MATCHING_KEY",`session topic doesn't exist: ${ms}`);throw new Error(ws)}if(fi$1(this.client.session.get(ms).expiry)){await this.deleteSession({topic:ms});const{message:ws}=Et$2("EXPIRED",`session topic: ${ms}`);throw new Error(ws)}if(!this.client.core.crypto.keychain.has(ms)){const{message:ws}=Et$2("MISSING_OR_INVALID",`session topic does not exist in keychain: ${ms}`);throw await this.deleteSession({topic:ms}),new Error(ws)}}async isValidSessionOrPairingTopic(ms){if(this.checkRecentlyDeleted(ms),this.client.session.keys.includes(ms))await this.isValidSessionTopic(ms);else if(this.client.core.pairing.pairings.keys.includes(ms))this.isValidPairingTopic(ms);else if(it$1(ms,!1)){const{message:ws}=Et$2("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${ms}`);throw new Error(ws)}else{const{message:ws}=Et$2("MISSING_OR_INVALID",`session or pairing topic should be a string: ${ms}`);throw new Error(ws)}}async isValidProposalId(ms){if(!Ia(ms)){const{message:ws}=Et$2("MISSING_OR_INVALID",`proposal id should be a number: ${ms}`);throw new Error(ws)}if(!this.client.proposal.keys.includes(ms)){const{message:ws}=Et$2("NO_MATCHING_KEY",`proposal id doesn't exist: ${ms}`);throw new Error(ws)}if(fi$1(this.client.proposal.get(ms).expiryTimestamp)){await this.deleteProposal(ms);const{message:ws}=Et$2("EXPIRED",`proposal id: ${ms}`);throw new Error(ws)}}}class ks extends Ui{constructor(ms,ws){super(ms,ws,dt$1,we),this.core=ms,this.logger=ws}}let It$1=class extends Ui{constructor(ms,ws){super(ms,ws,ut$1,we),this.core=ms,this.logger=ws}};class Ds extends Ui{constructor(ms,ws){super(ms,ws,wt$1,we,Ss=>Ss.id),this.core=ms,this.logger=ws}}class Ls extends Ui{constructor(ms,ws){super(ms,ws,Et$1,le,()=>pe),this.core=ms,this.logger=ws}}class Ms extends Ui{constructor(ms,ws){super(ms,ws,St$1,le),this.core=ms,this.logger=ws}}class $s extends Ui{constructor(ms,ws){super(ms,ws,Rt$1,le,Ss=>Ss.id),this.core=ms,this.logger=ws}}var Ks=Object.defineProperty,Us=(vs,ms,ws)=>ms in vs?Ks(vs,ms,{enumerable:!0,configurable:!0,writable:!0,value:ws}):vs[ms]=ws,Ke=(vs,ms,ws)=>Us(vs,typeof ms!="symbol"?ms+"":ms,ws);class Gs{constructor(ms,ws){this.core=ms,this.logger=ws,Ke(this,"authKeys"),Ke(this,"pairingTopics"),Ke(this,"requests"),this.authKeys=new Ls(this.core,this.logger),this.pairingTopics=new Ms(this.core,this.logger),this.requests=new $s(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var js=Object.defineProperty,Fs=(vs,ms,ws)=>ms in vs?js(vs,ms,{enumerable:!0,configurable:!0,writable:!0,value:ws}):vs[ms]=ws,f$4=(vs,ms,ws)=>Fs(vs,typeof ms!="symbol"?ms+"":ms,ws);class fe extends J$6{constructor(ms){super(ms),f$4(this,"protocol",Ce),f$4(this,"version",ke),f$4(this,"name",me.name),f$4(this,"metadata"),f$4(this,"core"),f$4(this,"logger"),f$4(this,"events",new eventsExports.EventEmitter),f$4(this,"engine"),f$4(this,"session"),f$4(this,"proposal"),f$4(this,"pendingRequest"),f$4(this,"auth"),f$4(this,"signConfig"),f$4(this,"on",(Ss,Es)=>this.events.on(Ss,Es)),f$4(this,"once",(Ss,Es)=>this.events.once(Ss,Es)),f$4(this,"off",(Ss,Es)=>this.events.off(Ss,Es)),f$4(this,"removeListener",(Ss,Es)=>this.events.removeListener(Ss,Es)),f$4(this,"removeAllListeners",Ss=>this.events.removeAllListeners(Ss)),f$4(this,"connect",async Ss=>{try{return await this.engine.connect(Ss)}catch(Es){throw this.logger.error(Es.message),Es}}),f$4(this,"pair",async Ss=>{try{return await this.engine.pair(Ss)}catch(Es){throw this.logger.error(Es.message),Es}}),f$4(this,"approve",async Ss=>{try{return await this.engine.approve(Ss)}catch(Es){throw this.logger.error(Es.message),Es}}),f$4(this,"reject",async Ss=>{try{return await this.engine.reject(Ss)}catch(Es){throw this.logger.error(Es.message),Es}}),f$4(this,"update",async Ss=>{try{return await this.engine.update(Ss)}catch(Es){throw this.logger.error(Es.message),Es}}),f$4(this,"extend",async Ss=>{try{return await this.engine.extend(Ss)}catch(Es){throw this.logger.error(Es.message),Es}}),f$4(this,"request",async Ss=>{try{return await this.engine.request(Ss)}catch(Es){throw this.logger.error(Es.message),Es}}),f$4(this,"respond",async Ss=>{try{return await this.engine.respond(Ss)}catch(Es){throw this.logger.error(Es.message),Es}}),f$4(this,"ping",async Ss=>{try{return await this.engine.ping(Ss)}catch(Es){throw this.logger.error(Es.message),Es}}),f$4(this,"emit",async Ss=>{try{return await this.engine.emit(Ss)}catch(Es){throw this.logger.error(Es.message),Es}}),f$4(this,"disconnect",async Ss=>{try{return await this.engine.disconnect(Ss)}catch(Es){throw this.logger.error(Es.message),Es}}),f$4(this,"find",Ss=>{try{return this.engine.find(Ss)}catch(Es){throw this.logger.error(Es.message),Es}}),f$4(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(Ss){throw this.logger.error(Ss.message),Ss}}),f$4(this,"authenticate",async(Ss,Es)=>{try{return await this.engine.authenticate(Ss,Es)}catch(_s){throw this.logger.error(_s.message),_s}}),f$4(this,"formatAuthMessage",Ss=>{try{return this.engine.formatAuthMessage(Ss)}catch(Es){throw this.logger.error(Es.message),Es}}),f$4(this,"approveSessionAuthenticate",async Ss=>{try{return await this.engine.approveSessionAuthenticate(Ss)}catch(Es){throw this.logger.error(Es.message),Es}}),f$4(this,"rejectSessionAuthenticate",async Ss=>{try{return await this.engine.rejectSessionAuthenticate(Ss)}catch(Es){throw this.logger.error(Es.message),Es}}),this.name=(ms==null?void 0:ms.name)||me.name,this.metadata=Ks$1(ms==null?void 0:ms.metadata),this.signConfig=ms==null?void 0:ms.signConfig;const ws=typeof(ms==null?void 0:ms.logger)<"u"&&typeof(ms==null?void 0:ms.logger)!="string"?ms.logger:Ct$3(k$5({level:(ms==null?void 0:ms.logger)||me.logger}));this.core=(ms==null?void 0:ms.core)||new ta(ms),this.logger=E$4(ws,this.name),this.session=new It$1(this.core,this.logger),this.proposal=new ks(this.core,this.logger),this.pendingRequest=new Ds(this.core,this.logger),this.engine=new Cs(this),this.auth=new Gs(this.core,this.logger)}static async init(ms){const ws=new fe(ms);return await ws.initialize(),ws}get context(){return y$5(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(ms){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(ms.message),ms}}}const Hs=fe,index_es=Object.freeze(Object.defineProperty({__proto__:null,AUTH_CONTEXT:ft$1,AUTH_KEYS_CONTEXT:Et$1,AUTH_PAIRING_TOPIC_CONTEXT:St$1,AUTH_PROTOCOL:_t$1,AUTH_PUBLIC_KEY_NAME:pe,AUTH_REQUEST_CONTEXT:Rt$1,AUTH_STORAGE_PREFIX:le,ENGINE_CONTEXT:gt$1,ENGINE_QUEUE_STATES:M$3,ENGINE_RPC_OPTS:P$3,METHODS_TO_VERIFY:mt$1,PROPOSAL_CONTEXT:dt$1,PROPOSAL_EXPIRY_MESSAGE:Me,REQUEST_CONTEXT:wt$1,SESSION_CONTEXT:ut$1,SESSION_EXPIRY:B$3,SESSION_REQUEST_EXPIRY_BOUNDARIES:_e,SIGN_CLIENT_CONTEXT:De,SIGN_CLIENT_DEFAULT:me,SIGN_CLIENT_PROTOCOL:Ce,SIGN_CLIENT_STORAGE_PREFIX:we,SIGN_CLIENT_VERSION:ke,SignClient:Hs,TVF_METHODS:yt,WALLETCONNECT_DEEPLINK_CHOICE:Le,default:fe},Symbol.toStringTag,{value:"Module"})),useWallet$4=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var buffer={},base64Js={};base64Js.byteLength=byteLength,base64Js.toByteArray=toByteArray,base64Js.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i$2=0,len=code.length;i$2<len;++i$2)lookup[i$2]=code[i$2],revLookup[code.charCodeAt(i$2)]=i$2;revLookup[45]=62,revLookup[95]=63;function getLens(vs){var ms=vs.length;if(ms%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ws=vs.indexOf("=");ws===-1&&(ws=ms);var Ss=ws===ms?0:4-ws%4;return[ws,Ss]}function byteLength(vs){var ms=getLens(vs),ws=ms[0],Ss=ms[1];return(ws+Ss)*3/4-Ss}function _byteLength(vs,ms,ws){return(ms+ws)*3/4-ws}function toByteArray(vs){var ms,ws=getLens(vs),Ss=ws[0],Es=ws[1],_s=new Arr(_byteLength(vs,Ss,Es)),Is=0,Ts=Es>0?Ss-4:Ss,Rs;for(Rs=0;Rs<Ts;Rs+=4)ms=revLookup[vs.charCodeAt(Rs)]<<18|revLookup[vs.charCodeAt(Rs+1)]<<12|revLookup[vs.charCodeAt(Rs+2)]<<6|revLookup[vs.charCodeAt(Rs+3)],_s[Is++]=ms>>16&255,_s[Is++]=ms>>8&255,_s[Is++]=ms&255;return Es===2&&(ms=revLookup[vs.charCodeAt(Rs)]<<2|revLookup[vs.charCodeAt(Rs+1)]>>4,_s[Is++]=ms&255),Es===1&&(ms=revLookup[vs.charCodeAt(Rs)]<<10|revLookup[vs.charCodeAt(Rs+1)]<<4|revLookup[vs.charCodeAt(Rs+2)]>>2,_s[Is++]=ms>>8&255,_s[Is++]=ms&255),_s}function tripletToBase64(vs){return lookup[vs>>18&63]+lookup[vs>>12&63]+lookup[vs>>6&63]+lookup[vs&63]}function encodeChunk(vs,ms,ws){for(var Ss,Es=[],_s=ms;_s<ws;_s+=3)Ss=(vs[_s]<<16&16711680)+(vs[_s+1]<<8&65280)+(vs[_s+2]&255),Es.push(tripletToBase64(Ss));return Es.join("")}function fromByteArray(vs){for(var ms,ws=vs.length,Ss=ws%3,Es=[],_s=16383,Is=0,Ts=ws-Ss;Is<Ts;Is+=_s)Es.push(encodeChunk(vs,Is,Is+_s>Ts?Ts:Is+_s));return Ss===1?(ms=vs[ws-1],Es.push(lookup[ms>>2]+lookup[ms<<4&63]+"==")):Ss===2&&(ms=(vs[ws-2]<<8)+vs[ws-1],Es.push(lookup[ms>>10]+lookup[ms>>4&63]+lookup[ms<<2&63]+"=")),Es.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(vs,ms,ws,Ss,Es){var _s,Is,Ts=Es*8-Ss-1,Rs=(1<<Ts)-1,Bs=Rs>>1,Ns=-7,Ws=ws?Es-1:0,Js=ws?-1:1,$l=vs[ms+Ws];for(Ws+=Js,_s=$l&(1<<-Ns)-1,$l>>=-Ns,Ns+=Ts;Ns>0;_s=_s*256+vs[ms+Ws],Ws+=Js,Ns-=8);for(Is=_s&(1<<-Ns)-1,_s>>=-Ns,Ns+=Ss;Ns>0;Is=Is*256+vs[ms+Ws],Ws+=Js,Ns-=8);if(_s===0)_s=1-Bs;else{if(_s===Rs)return Is?NaN:($l?-1:1)*(1/0);Is=Is+Math.pow(2,Ss),_s=_s-Bs}return($l?-1:1)*Is*Math.pow(2,_s-Ss)},ieee754.write=function(vs,ms,ws,Ss,Es,_s){var Is,Ts,Rs,Bs=_s*8-Es-1,Ns=(1<<Bs)-1,Ws=Ns>>1,Js=Es===23?Math.pow(2,-24)-Math.pow(2,-77):0,$l=Ss?0:_s-1,wl=Ss?1:-1,_l=ms<0||ms===0&&1/ms<0?1:0;for(ms=Math.abs(ms),isNaN(ms)||ms===1/0?(Ts=isNaN(ms)?1:0,Is=Ns):(Is=Math.floor(Math.log(ms)/Math.LN2),ms*(Rs=Math.pow(2,-Is))<1&&(Is--,Rs*=2),Is+Ws>=1?ms+=Js/Rs:ms+=Js*Math.pow(2,1-Ws),ms*Rs>=2&&(Is++,Rs/=2),Is+Ws>=Ns?(Ts=0,Is=Ns):Is+Ws>=1?(Ts=(ms*Rs-1)*Math.pow(2,Es),Is=Is+Ws):(Ts=ms*Math.pow(2,Ws-1)*Math.pow(2,Es),Is=0));Es>=8;vs[ws+$l]=Ts&255,$l+=wl,Ts/=256,Es-=8);for(Is=Is<<Es|Ts,Bs+=Es;Bs>0;vs[ws+$l]=Is&255,$l+=wl,Is/=256,Bs-=8);vs[ws+$l-wl]|=_l*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(vs){const ms=base64Js,ws=ieee754,Ss=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;vs.Buffer=Ts,vs.SlowBuffer=El,vs.INSPECT_MAX_BYTES=50;const Es=2147483647;vs.kMaxLength=Es,Ts.TYPED_ARRAY_SUPPORT=_s(),!Ts.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function _s(){try{const hu=new Uint8Array(1),Xl={foo:function(){return 42}};return Object.setPrototypeOf(Xl,Uint8Array.prototype),Object.setPrototypeOf(hu,Xl),hu.foo()===42}catch{return!1}}Object.defineProperty(Ts.prototype,"parent",{enumerable:!0,get:function(){if(Ts.isBuffer(this))return this.buffer}}),Object.defineProperty(Ts.prototype,"offset",{enumerable:!0,get:function(){if(Ts.isBuffer(this))return this.byteOffset}});function Is(hu){if(hu>Es)throw new RangeError('The value "'+hu+'" is invalid for option "size"');const Xl=new Uint8Array(hu);return Object.setPrototypeOf(Xl,Ts.prototype),Xl}function Ts(hu,Xl,Zl){if(typeof hu=="number"){if(typeof Xl=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Ws(hu)}return Rs(hu,Xl,Zl)}Ts.poolSize=8192;function Rs(hu,Xl,Zl){if(typeof hu=="string")return Js(hu,Xl);if(ArrayBuffer.isView(hu))return wl(hu);if(hu==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof hu);if(Hu(hu,ArrayBuffer)||hu&&Hu(hu.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Hu(hu,SharedArrayBuffer)||hu&&Hu(hu.buffer,SharedArrayBuffer)))return _l(hu,Xl,Zl);if(typeof hu=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const bu=hu.valueOf&&hu.valueOf();if(bu!=null&&bu!==hu)return Ts.from(bu,Xl,Zl);const Ou=Cl(hu);if(Ou)return Ou;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof hu[Symbol.toPrimitive]=="function")return Ts.from(hu[Symbol.toPrimitive]("string"),Xl,Zl);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof hu)}Ts.from=function(hu,Xl,Zl){return Rs(hu,Xl,Zl)},Object.setPrototypeOf(Ts.prototype,Uint8Array.prototype),Object.setPrototypeOf(Ts,Uint8Array);function Bs(hu){if(typeof hu!="number")throw new TypeError('"size" argument must be of type number');if(hu<0)throw new RangeError('The value "'+hu+'" is invalid for option "size"')}function Ns(hu,Xl,Zl){return Bs(hu),hu<=0?Is(hu):Xl!==void 0?typeof Zl=="string"?Is(hu).fill(Xl,Zl):Is(hu).fill(Xl):Is(hu)}Ts.alloc=function(hu,Xl,Zl){return Ns(hu,Xl,Zl)};function Ws(hu){return Bs(hu),Is(hu<0?0:Sl(hu)|0)}Ts.allocUnsafe=function(hu){return Ws(hu)},Ts.allocUnsafeSlow=function(hu){return Ws(hu)};function Js(hu,Xl){if((typeof Xl!="string"||Xl==="")&&(Xl="utf8"),!Ts.isEncoding(Xl))throw new TypeError("Unknown encoding: "+Xl);const Zl=xl(hu,Xl)|0;let bu=Is(Zl);const Ou=bu.write(hu,Xl);return Ou!==Zl&&(bu=bu.slice(0,Ou)),bu}function $l(hu){const Xl=hu.length<0?0:Sl(hu.length)|0,Zl=Is(Xl);for(let bu=0;bu<Xl;bu+=1)Zl[bu]=hu[bu]&255;return Zl}function wl(hu){if(Hu(hu,Uint8Array)){const Xl=new Uint8Array(hu);return _l(Xl.buffer,Xl.byteOffset,Xl.byteLength)}return $l(hu)}function _l(hu,Xl,Zl){if(Xl<0||hu.byteLength<Xl)throw new RangeError('"offset" is outside of buffer bounds');if(hu.byteLength<Xl+(Zl||0))throw new RangeError('"length" is outside of buffer bounds');let bu;return Xl===void 0&&Zl===void 0?bu=new Uint8Array(hu):Zl===void 0?bu=new Uint8Array(hu,Xl):bu=new Uint8Array(hu,Xl,Zl),Object.setPrototypeOf(bu,Ts.prototype),bu}function Cl(hu){if(Ts.isBuffer(hu)){const Xl=Sl(hu.length)|0,Zl=Is(Xl);return Zl.length===0||hu.copy(Zl,0,0,Xl),Zl}if(hu.length!==void 0)return typeof hu.length!="number"||ju(hu.length)?Is(0):$l(hu);if(hu.type==="Buffer"&&Array.isArray(hu.data))return $l(hu.data)}function Sl(hu){if(hu>=Es)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Es.toString(16)+" bytes");return hu|0}function El(hu){return+hu!=hu&&(hu=0),Ts.alloc(+hu)}Ts.isBuffer=function(Xl){return Xl!=null&&Xl._isBuffer===!0&&Xl!==Ts.prototype},Ts.compare=function(Xl,Zl){if(Hu(Xl,Uint8Array)&&(Xl=Ts.from(Xl,Xl.offset,Xl.byteLength)),Hu(Zl,Uint8Array)&&(Zl=Ts.from(Zl,Zl.offset,Zl.byteLength)),!Ts.isBuffer(Xl)||!Ts.isBuffer(Zl))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Xl===Zl)return 0;let bu=Xl.length,Ou=Zl.length;for(let zu=0,Qu=Math.min(bu,Ou);zu<Qu;++zu)if(Xl[zu]!==Zl[zu]){bu=Xl[zu],Ou=Zl[zu];break}return bu<Ou?-1:Ou<bu?1:0},Ts.isEncoding=function(Xl){switch(String(Xl).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Ts.concat=function(Xl,Zl){if(!Array.isArray(Xl))throw new TypeError('"list" argument must be an Array of Buffers');if(Xl.length===0)return Ts.alloc(0);let bu;if(Zl===void 0)for(Zl=0,bu=0;bu<Xl.length;++bu)Zl+=Xl[bu].length;const Ou=Ts.allocUnsafe(Zl);let zu=0;for(bu=0;bu<Xl.length;++bu){let Qu=Xl[bu];if(Hu(Qu,Uint8Array))zu+Qu.length>Ou.length?(Ts.isBuffer(Qu)||(Qu=Ts.from(Qu)),Qu.copy(Ou,zu)):Uint8Array.prototype.set.call(Ou,Qu,zu);else if(Ts.isBuffer(Qu))Qu.copy(Ou,zu);else throw new TypeError('"list" argument must be an Array of Buffers');zu+=Qu.length}return Ou};function xl(hu,Xl){if(Ts.isBuffer(hu))return hu.length;if(ArrayBuffer.isView(hu)||Hu(hu,ArrayBuffer))return hu.byteLength;if(typeof hu!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof hu);const Zl=hu.length,bu=arguments.length>2&&arguments[2]===!0;if(!bu&&Zl===0)return 0;let Ou=!1;for(;;)switch(Xl){case"ascii":case"latin1":case"binary":return Zl;case"utf8":case"utf-8":return iu(hu).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Zl*2;case"hex":return Zl>>>1;case"base64":return xu(hu).length;default:if(Ou)return bu?-1:iu(hu).length;Xl=(""+Xl).toLowerCase(),Ou=!0}}Ts.byteLength=xl;function Ml(hu,Xl,Zl){let bu=!1;if((Xl===void 0||Xl<0)&&(Xl=0),Xl>this.length||((Zl===void 0||Zl>this.length)&&(Zl=this.length),Zl<=0)||(Zl>>>=0,Xl>>>=0,Zl<=Xl))return"";for(hu||(hu="utf8");;)switch(hu){case"hex":return Zs(this,Xl,Zl);case"utf8":case"utf-8":return Gl(this,Xl,Zl);case"ascii":return Pl(this,Xl,Zl);case"latin1":case"binary":return yl(this,Xl,Zl);case"base64":return Ol(this,Xl,Zl);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Bl(this,Xl,Zl);default:if(bu)throw new TypeError("Unknown encoding: "+hu);hu=(hu+"").toLowerCase(),bu=!0}}Ts.prototype._isBuffer=!0;function Vl(hu,Xl,Zl){const bu=hu[Xl];hu[Xl]=hu[Zl],hu[Zl]=bu}Ts.prototype.swap16=function(){const Xl=this.length;if(Xl%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Zl=0;Zl<Xl;Zl+=2)Vl(this,Zl,Zl+1);return this},Ts.prototype.swap32=function(){const Xl=this.length;if(Xl%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Zl=0;Zl<Xl;Zl+=4)Vl(this,Zl,Zl+3),Vl(this,Zl+1,Zl+2);return this},Ts.prototype.swap64=function(){const Xl=this.length;if(Xl%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Zl=0;Zl<Xl;Zl+=8)Vl(this,Zl,Zl+7),Vl(this,Zl+1,Zl+6),Vl(this,Zl+2,Zl+5),Vl(this,Zl+3,Zl+4);return this},Ts.prototype.toString=function(){const Xl=this.length;return Xl===0?"":arguments.length===0?Gl(this,0,Xl):Ml.apply(this,arguments)},Ts.prototype.toLocaleString=Ts.prototype.toString,Ts.prototype.equals=function(Xl){if(!Ts.isBuffer(Xl))throw new TypeError("Argument must be a Buffer");return this===Xl?!0:Ts.compare(this,Xl)===0},Ts.prototype.inspect=function(){let Xl="";const Zl=vs.INSPECT_MAX_BYTES;return Xl=this.toString("hex",0,Zl).replace(/(.{2})/g,"$1 ").trim(),this.length>Zl&&(Xl+=" ... "),"<Buffer "+Xl+">"},Ss&&(Ts.prototype[Ss]=Ts.prototype.inspect),Ts.prototype.compare=function(Xl,Zl,bu,Ou,zu){if(Hu(Xl,Uint8Array)&&(Xl=Ts.from(Xl,Xl.offset,Xl.byteLength)),!Ts.isBuffer(Xl))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Xl);if(Zl===void 0&&(Zl=0),bu===void 0&&(bu=Xl?Xl.length:0),Ou===void 0&&(Ou=0),zu===void 0&&(zu=this.length),Zl<0||bu>Xl.length||Ou<0||zu>this.length)throw new RangeError("out of range index");if(Ou>=zu&&Zl>=bu)return 0;if(Ou>=zu)return-1;if(Zl>=bu)return 1;if(Zl>>>=0,bu>>>=0,Ou>>>=0,zu>>>=0,this===Xl)return 0;let Qu=zu-Ou,_p=bu-Zl;const dp=Math.min(Qu,_p),kp=this.slice(Ou,zu),Dp=Xl.slice(Zl,bu);for(let Ip=0;Ip<dp;++Ip)if(kp[Ip]!==Dp[Ip]){Qu=kp[Ip],_p=Dp[Ip];break}return Qu<_p?-1:_p<Qu?1:0};function Ul(hu,Xl,Zl,bu,Ou){if(hu.length===0)return-1;if(typeof Zl=="string"?(bu=Zl,Zl=0):Zl>2147483647?Zl=2147483647:Zl<-2147483648&&(Zl=-2147483648),Zl=+Zl,ju(Zl)&&(Zl=Ou?0:hu.length-1),Zl<0&&(Zl=hu.length+Zl),Zl>=hu.length){if(Ou)return-1;Zl=hu.length-1}else if(Zl<0)if(Ou)Zl=0;else return-1;if(typeof Xl=="string"&&(Xl=Ts.from(Xl,bu)),Ts.isBuffer(Xl))return Xl.length===0?-1:_h(hu,Xl,Zl,bu,Ou);if(typeof Xl=="number")return Xl=Xl&255,typeof Uint8Array.prototype.indexOf=="function"?Ou?Uint8Array.prototype.indexOf.call(hu,Xl,Zl):Uint8Array.prototype.lastIndexOf.call(hu,Xl,Zl):_h(hu,[Xl],Zl,bu,Ou);throw new TypeError("val must be string, number or Buffer")}function _h(hu,Xl,Zl,bu,Ou){let zu=1,Qu=hu.length,_p=Xl.length;if(bu!==void 0&&(bu=String(bu).toLowerCase(),bu==="ucs2"||bu==="ucs-2"||bu==="utf16le"||bu==="utf-16le")){if(hu.length<2||Xl.length<2)return-1;zu=2,Qu/=2,_p/=2,Zl/=2}function dp(Dp,Ip){return zu===1?Dp[Ip]:Dp.readUInt16BE(Ip*zu)}let kp;if(Ou){let Dp=-1;for(kp=Zl;kp<Qu;kp++)if(dp(hu,kp)===dp(Xl,Dp===-1?0:kp-Dp)){if(Dp===-1&&(Dp=kp),kp-Dp+1===_p)return Dp*zu}else Dp!==-1&&(kp-=kp-Dp),Dp=-1}else for(Zl+_p>Qu&&(Zl=Qu-_p),kp=Zl;kp>=0;kp--){let Dp=!0;for(let Ip=0;Ip<_p;Ip++)if(dp(hu,kp+Ip)!==dp(Xl,Ip)){Dp=!1;break}if(Dp)return kp}return-1}Ts.prototype.includes=function(Xl,Zl,bu){return this.indexOf(Xl,Zl,bu)!==-1},Ts.prototype.indexOf=function(Xl,Zl,bu){return Ul(this,Xl,Zl,bu,!0)},Ts.prototype.lastIndexOf=function(Xl,Zl,bu){return Ul(this,Xl,Zl,bu,!1)};function nu(hu,Xl,Zl,bu){Zl=Number(Zl)||0;const Ou=hu.length-Zl;bu?(bu=Number(bu),bu>Ou&&(bu=Ou)):bu=Ou;const zu=Xl.length;bu>zu/2&&(bu=zu/2);let Qu;for(Qu=0;Qu<bu;++Qu){const _p=parseInt(Xl.substr(Qu*2,2),16);if(ju(_p))return Qu;hu[Zl+Qu]=_p}return Qu}function su(hu,Xl,Zl,bu){return _u(iu(Xl,hu.length-Zl),hu,Zl,bu)}function Jl(hu,Xl,Zl,bu){return _u(du(Xl),hu,Zl,bu)}function Il(hu,Xl,Zl,bu){return _u(xu(Xl),hu,Zl,bu)}function Nl(hu,Xl,Zl,bu){return _u(Au(Xl,hu.length-Zl),hu,Zl,bu)}Ts.prototype.write=function(Xl,Zl,bu,Ou){if(Zl===void 0)Ou="utf8",bu=this.length,Zl=0;else if(bu===void 0&&typeof Zl=="string")Ou=Zl,bu=this.length,Zl=0;else if(isFinite(Zl))Zl=Zl>>>0,isFinite(bu)?(bu=bu>>>0,Ou===void 0&&(Ou="utf8")):(Ou=bu,bu=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const zu=this.length-Zl;if((bu===void 0||bu>zu)&&(bu=zu),Xl.length>0&&(bu<0||Zl<0)||Zl>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ou||(Ou="utf8");let Qu=!1;for(;;)switch(Ou){case"hex":return nu(this,Xl,Zl,bu);case"utf8":case"utf-8":return su(this,Xl,Zl,bu);case"ascii":case"latin1":case"binary":return Jl(this,Xl,Zl,bu);case"base64":return Il(this,Xl,Zl,bu);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Nl(this,Xl,Zl,bu);default:if(Qu)throw new TypeError("Unknown encoding: "+Ou);Ou=(""+Ou).toLowerCase(),Qu=!0}},Ts.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ol(hu,Xl,Zl){return Xl===0&&Zl===hu.length?ms.fromByteArray(hu):ms.fromByteArray(hu.slice(Xl,Zl))}function Gl(hu,Xl,Zl){Zl=Math.min(hu.length,Zl);const bu=[];let Ou=Xl;for(;Ou<Zl;){const zu=hu[Ou];let Qu=null,_p=zu>239?4:zu>223?3:zu>191?2:1;if(Ou+_p<=Zl){let dp,kp,Dp,Ip;switch(_p){case 1:zu<128&&(Qu=zu);break;case 2:dp=hu[Ou+1],(dp&192)===128&&(Ip=(zu&31)<<6|dp&63,Ip>127&&(Qu=Ip));break;case 3:dp=hu[Ou+1],kp=hu[Ou+2],(dp&192)===128&&(kp&192)===128&&(Ip=(zu&15)<<12|(dp&63)<<6|kp&63,Ip>2047&&(Ip<55296||Ip>57343)&&(Qu=Ip));break;case 4:dp=hu[Ou+1],kp=hu[Ou+2],Dp=hu[Ou+3],(dp&192)===128&&(kp&192)===128&&(Dp&192)===128&&(Ip=(zu&15)<<18|(dp&63)<<12|(kp&63)<<6|Dp&63,Ip>65535&&Ip<1114112&&(Qu=Ip))}}Qu===null?(Qu=65533,_p=1):Qu>65535&&(Qu-=65536,bu.push(Qu>>>10&1023|55296),Qu=56320|Qu&1023),bu.push(Qu),Ou+=_p}return Al(bu)}const Fl=4096;function Al(hu){const Xl=hu.length;if(Xl<=Fl)return String.fromCharCode.apply(String,hu);let Zl="",bu=0;for(;bu<Xl;)Zl+=String.fromCharCode.apply(String,hu.slice(bu,bu+=Fl));return Zl}function Pl(hu,Xl,Zl){let bu="";Zl=Math.min(hu.length,Zl);for(let Ou=Xl;Ou<Zl;++Ou)bu+=String.fromCharCode(hu[Ou]&127);return bu}function yl(hu,Xl,Zl){let bu="";Zl=Math.min(hu.length,Zl);for(let Ou=Xl;Ou<Zl;++Ou)bu+=String.fromCharCode(hu[Ou]);return bu}function Zs(hu,Xl,Zl){const bu=hu.length;(!Xl||Xl<0)&&(Xl=0),(!Zl||Zl<0||Zl>bu)&&(Zl=bu);let Ou="";for(let zu=Xl;zu<Zl;++zu)Ou+=_d[hu[zu]];return Ou}function Bl(hu,Xl,Zl){const bu=hu.slice(Xl,Zl);let Ou="";for(let zu=0;zu<bu.length-1;zu+=2)Ou+=String.fromCharCode(bu[zu]+bu[zu+1]*256);return Ou}Ts.prototype.slice=function(Xl,Zl){const bu=this.length;Xl=~~Xl,Zl=Zl===void 0?bu:~~Zl,Xl<0?(Xl+=bu,Xl<0&&(Xl=0)):Xl>bu&&(Xl=bu),Zl<0?(Zl+=bu,Zl<0&&(Zl=0)):Zl>bu&&(Zl=bu),Zl<Xl&&(Zl=Xl);const Ou=this.subarray(Xl,Zl);return Object.setPrototypeOf(Ou,Ts.prototype),Ou};function eu(hu,Xl,Zl){if(hu%1!==0||hu<0)throw new RangeError("offset is not uint");if(hu+Xl>Zl)throw new RangeError("Trying to access beyond buffer length")}Ts.prototype.readUintLE=Ts.prototype.readUIntLE=function(Xl,Zl,bu){Xl=Xl>>>0,Zl=Zl>>>0,bu||eu(Xl,Zl,this.length);let Ou=this[Xl],zu=1,Qu=0;for(;++Qu<Zl&&(zu*=256);)Ou+=this[Xl+Qu]*zu;return Ou},Ts.prototype.readUintBE=Ts.prototype.readUIntBE=function(Xl,Zl,bu){Xl=Xl>>>0,Zl=Zl>>>0,bu||eu(Xl,Zl,this.length);let Ou=this[Xl+--Zl],zu=1;for(;Zl>0&&(zu*=256);)Ou+=this[Xl+--Zl]*zu;return Ou},Ts.prototype.readUint8=Ts.prototype.readUInt8=function(Xl,Zl){return Xl=Xl>>>0,Zl||eu(Xl,1,this.length),this[Xl]},Ts.prototype.readUint16LE=Ts.prototype.readUInt16LE=function(Xl,Zl){return Xl=Xl>>>0,Zl||eu(Xl,2,this.length),this[Xl]|this[Xl+1]<<8},Ts.prototype.readUint16BE=Ts.prototype.readUInt16BE=function(Xl,Zl){return Xl=Xl>>>0,Zl||eu(Xl,2,this.length),this[Xl]<<8|this[Xl+1]},Ts.prototype.readUint32LE=Ts.prototype.readUInt32LE=function(Xl,Zl){return Xl=Xl>>>0,Zl||eu(Xl,4,this.length),(this[Xl]|this[Xl+1]<<8|this[Xl+2]<<16)+this[Xl+3]*16777216},Ts.prototype.readUint32BE=Ts.prototype.readUInt32BE=function(Xl,Zl){return Xl=Xl>>>0,Zl||eu(Xl,4,this.length),this[Xl]*16777216+(this[Xl+1]<<16|this[Xl+2]<<8|this[Xl+3])},Ts.prototype.readBigUInt64LE=Zu(function(Xl){Xl=Xl>>>0,Hl(Xl,"offset");const Zl=this[Xl],bu=this[Xl+7];(Zl===void 0||bu===void 0)&&Dl(Xl,this.length-8);const Ou=Zl+this[++Xl]*2**8+this[++Xl]*2**16+this[++Xl]*2**24,zu=this[++Xl]+this[++Xl]*2**8+this[++Xl]*2**16+bu*2**24;return BigInt(Ou)+(BigInt(zu)<<BigInt(32))}),Ts.prototype.readBigUInt64BE=Zu(function(Xl){Xl=Xl>>>0,Hl(Xl,"offset");const Zl=this[Xl],bu=this[Xl+7];(Zl===void 0||bu===void 0)&&Dl(Xl,this.length-8);const Ou=Zl*2**24+this[++Xl]*2**16+this[++Xl]*2**8+this[++Xl],zu=this[++Xl]*2**24+this[++Xl]*2**16+this[++Xl]*2**8+bu;return(BigInt(Ou)<<BigInt(32))+BigInt(zu)}),Ts.prototype.readIntLE=function(Xl,Zl,bu){Xl=Xl>>>0,Zl=Zl>>>0,bu||eu(Xl,Zl,this.length);let Ou=this[Xl],zu=1,Qu=0;for(;++Qu<Zl&&(zu*=256);)Ou+=this[Xl+Qu]*zu;return zu*=128,Ou>=zu&&(Ou-=Math.pow(2,8*Zl)),Ou},Ts.prototype.readIntBE=function(Xl,Zl,bu){Xl=Xl>>>0,Zl=Zl>>>0,bu||eu(Xl,Zl,this.length);let Ou=Zl,zu=1,Qu=this[Xl+--Ou];for(;Ou>0&&(zu*=256);)Qu+=this[Xl+--Ou]*zu;return zu*=128,Qu>=zu&&(Qu-=Math.pow(2,8*Zl)),Qu},Ts.prototype.readInt8=function(Xl,Zl){return Xl=Xl>>>0,Zl||eu(Xl,1,this.length),this[Xl]&128?(255-this[Xl]+1)*-1:this[Xl]},Ts.prototype.readInt16LE=function(Xl,Zl){Xl=Xl>>>0,Zl||eu(Xl,2,this.length);const bu=this[Xl]|this[Xl+1]<<8;return bu&32768?bu|4294901760:bu},Ts.prototype.readInt16BE=function(Xl,Zl){Xl=Xl>>>0,Zl||eu(Xl,2,this.length);const bu=this[Xl+1]|this[Xl]<<8;return bu&32768?bu|4294901760:bu},Ts.prototype.readInt32LE=function(Xl,Zl){return Xl=Xl>>>0,Zl||eu(Xl,4,this.length),this[Xl]|this[Xl+1]<<8|this[Xl+2]<<16|this[Xl+3]<<24},Ts.prototype.readInt32BE=function(Xl,Zl){return Xl=Xl>>>0,Zl||eu(Xl,4,this.length),this[Xl]<<24|this[Xl+1]<<16|this[Xl+2]<<8|this[Xl+3]},Ts.prototype.readBigInt64LE=Zu(function(Xl){Xl=Xl>>>0,Hl(Xl,"offset");const Zl=this[Xl],bu=this[Xl+7];(Zl===void 0||bu===void 0)&&Dl(Xl,this.length-8);const Ou=this[Xl+4]+this[Xl+5]*2**8+this[Xl+6]*2**16+(bu<<24);return(BigInt(Ou)<<BigInt(32))+BigInt(Zl+this[++Xl]*2**8+this[++Xl]*2**16+this[++Xl]*2**24)}),Ts.prototype.readBigInt64BE=Zu(function(Xl){Xl=Xl>>>0,Hl(Xl,"offset");const Zl=this[Xl],bu=this[Xl+7];(Zl===void 0||bu===void 0)&&Dl(Xl,this.length-8);const Ou=(Zl<<24)+this[++Xl]*2**16+this[++Xl]*2**8+this[++Xl];return(BigInt(Ou)<<BigInt(32))+BigInt(this[++Xl]*2**24+this[++Xl]*2**16+this[++Xl]*2**8+bu)}),Ts.prototype.readFloatLE=function(Xl,Zl){return Xl=Xl>>>0,Zl||eu(Xl,4,this.length),ws.read(this,Xl,!0,23,4)},Ts.prototype.readFloatBE=function(Xl,Zl){return Xl=Xl>>>0,Zl||eu(Xl,4,this.length),ws.read(this,Xl,!1,23,4)},Ts.prototype.readDoubleLE=function(Xl,Zl){return Xl=Xl>>>0,Zl||eu(Xl,8,this.length),ws.read(this,Xl,!0,52,8)},Ts.prototype.readDoubleBE=function(Xl,Zl){return Xl=Xl>>>0,Zl||eu(Xl,8,this.length),ws.read(this,Xl,!1,52,8)};function Eu(hu,Xl,Zl,bu,Ou,zu){if(!Ts.isBuffer(hu))throw new TypeError('"buffer" argument must be a Buffer instance');if(Xl>Ou||Xl<zu)throw new RangeError('"value" argument is out of bounds');if(Zl+bu>hu.length)throw new RangeError("Index out of range")}Ts.prototype.writeUintLE=Ts.prototype.writeUIntLE=function(Xl,Zl,bu,Ou){if(Xl=+Xl,Zl=Zl>>>0,bu=bu>>>0,!Ou){const _p=Math.pow(2,8*bu)-1;Eu(this,Xl,Zl,bu,_p,0)}let zu=1,Qu=0;for(this[Zl]=Xl&255;++Qu<bu&&(zu*=256);)this[Zl+Qu]=Xl/zu&255;return Zl+bu},Ts.prototype.writeUintBE=Ts.prototype.writeUIntBE=function(Xl,Zl,bu,Ou){if(Xl=+Xl,Zl=Zl>>>0,bu=bu>>>0,!Ou){const _p=Math.pow(2,8*bu)-1;Eu(this,Xl,Zl,bu,_p,0)}let zu=bu-1,Qu=1;for(this[Zl+zu]=Xl&255;--zu>=0&&(Qu*=256);)this[Zl+zu]=Xl/Qu&255;return Zl+bu},Ts.prototype.writeUint8=Ts.prototype.writeUInt8=function(Xl,Zl,bu){return Xl=+Xl,Zl=Zl>>>0,bu||Eu(this,Xl,Zl,1,255,0),this[Zl]=Xl&255,Zl+1},Ts.prototype.writeUint16LE=Ts.prototype.writeUInt16LE=function(Xl,Zl,bu){return Xl=+Xl,Zl=Zl>>>0,bu||Eu(this,Xl,Zl,2,65535,0),this[Zl]=Xl&255,this[Zl+1]=Xl>>>8,Zl+2},Ts.prototype.writeUint16BE=Ts.prototype.writeUInt16BE=function(Xl,Zl,bu){return Xl=+Xl,Zl=Zl>>>0,bu||Eu(this,Xl,Zl,2,65535,0),this[Zl]=Xl>>>8,this[Zl+1]=Xl&255,Zl+2},Ts.prototype.writeUint32LE=Ts.prototype.writeUInt32LE=function(Xl,Zl,bu){return Xl=+Xl,Zl=Zl>>>0,bu||Eu(this,Xl,Zl,4,4294967295,0),this[Zl+3]=Xl>>>24,this[Zl+2]=Xl>>>16,this[Zl+1]=Xl>>>8,this[Zl]=Xl&255,Zl+4},Ts.prototype.writeUint32BE=Ts.prototype.writeUInt32BE=function(Xl,Zl,bu){return Xl=+Xl,Zl=Zl>>>0,bu||Eu(this,Xl,Zl,4,4294967295,0),this[Zl]=Xl>>>24,this[Zl+1]=Xl>>>16,this[Zl+2]=Xl>>>8,this[Zl+3]=Xl&255,Zl+4};function uu(hu,Xl,Zl,bu,Ou){Tl(Xl,bu,Ou,hu,Zl,7);let zu=Number(Xl&BigInt(4294967295));hu[Zl++]=zu,zu=zu>>8,hu[Zl++]=zu,zu=zu>>8,hu[Zl++]=zu,zu=zu>>8,hu[Zl++]=zu;let Qu=Number(Xl>>BigInt(32)&BigInt(4294967295));return hu[Zl++]=Qu,Qu=Qu>>8,hu[Zl++]=Qu,Qu=Qu>>8,hu[Zl++]=Qu,Qu=Qu>>8,hu[Zl++]=Qu,Zl}function Yl(hu,Xl,Zl,bu,Ou){Tl(Xl,bu,Ou,hu,Zl,7);let zu=Number(Xl&BigInt(4294967295));hu[Zl+7]=zu,zu=zu>>8,hu[Zl+6]=zu,zu=zu>>8,hu[Zl+5]=zu,zu=zu>>8,hu[Zl+4]=zu;let Qu=Number(Xl>>BigInt(32)&BigInt(4294967295));return hu[Zl+3]=Qu,Qu=Qu>>8,hu[Zl+2]=Qu,Qu=Qu>>8,hu[Zl+1]=Qu,Qu=Qu>>8,hu[Zl]=Qu,Zl+8}Ts.prototype.writeBigUInt64LE=Zu(function(Xl,Zl=0){return uu(this,Xl,Zl,BigInt(0),BigInt("0xffffffffffffffff"))}),Ts.prototype.writeBigUInt64BE=Zu(function(Xl,Zl=0){return Yl(this,Xl,Zl,BigInt(0),BigInt("0xffffffffffffffff"))}),Ts.prototype.writeIntLE=function(Xl,Zl,bu,Ou){if(Xl=+Xl,Zl=Zl>>>0,!Ou){const dp=Math.pow(2,8*bu-1);Eu(this,Xl,Zl,bu,dp-1,-dp)}let zu=0,Qu=1,_p=0;for(this[Zl]=Xl&255;++zu<bu&&(Qu*=256);)Xl<0&&_p===0&&this[Zl+zu-1]!==0&&(_p=1),this[Zl+zu]=(Xl/Qu>>0)-_p&255;return Zl+bu},Ts.prototype.writeIntBE=function(Xl,Zl,bu,Ou){if(Xl=+Xl,Zl=Zl>>>0,!Ou){const dp=Math.pow(2,8*bu-1);Eu(this,Xl,Zl,bu,dp-1,-dp)}let zu=bu-1,Qu=1,_p=0;for(this[Zl+zu]=Xl&255;--zu>=0&&(Qu*=256);)Xl<0&&_p===0&&this[Zl+zu+1]!==0&&(_p=1),this[Zl+zu]=(Xl/Qu>>0)-_p&255;return Zl+bu},Ts.prototype.writeInt8=function(Xl,Zl,bu){return Xl=+Xl,Zl=Zl>>>0,bu||Eu(this,Xl,Zl,1,127,-128),Xl<0&&(Xl=255+Xl+1),this[Zl]=Xl&255,Zl+1},Ts.prototype.writeInt16LE=function(Xl,Zl,bu){return Xl=+Xl,Zl=Zl>>>0,bu||Eu(this,Xl,Zl,2,32767,-32768),this[Zl]=Xl&255,this[Zl+1]=Xl>>>8,Zl+2},Ts.prototype.writeInt16BE=function(Xl,Zl,bu){return Xl=+Xl,Zl=Zl>>>0,bu||Eu(this,Xl,Zl,2,32767,-32768),this[Zl]=Xl>>>8,this[Zl+1]=Xl&255,Zl+2},Ts.prototype.writeInt32LE=function(Xl,Zl,bu){return Xl=+Xl,Zl=Zl>>>0,bu||Eu(this,Xl,Zl,4,2147483647,-2147483648),this[Zl]=Xl&255,this[Zl+1]=Xl>>>8,this[Zl+2]=Xl>>>16,this[Zl+3]=Xl>>>24,Zl+4},Ts.prototype.writeInt32BE=function(Xl,Zl,bu){return Xl=+Xl,Zl=Zl>>>0,bu||Eu(this,Xl,Zl,4,2147483647,-2147483648),Xl<0&&(Xl=4294967295+Xl+1),this[Zl]=Xl>>>24,this[Zl+1]=Xl>>>16,this[Zl+2]=Xl>>>8,this[Zl+3]=Xl&255,Zl+4},Ts.prototype.writeBigInt64LE=Zu(function(Xl,Zl=0){return uu(this,Xl,Zl,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Ts.prototype.writeBigInt64BE=Zu(function(Xl,Zl=0){return Yl(this,Xl,Zl,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function zl(hu,Xl,Zl,bu,Ou,zu){if(Zl+bu>hu.length)throw new RangeError("Index out of range");if(Zl<0)throw new RangeError("Index out of range")}function ou(hu,Xl,Zl,bu,Ou){return Xl=+Xl,Zl=Zl>>>0,Ou||zl(hu,Xl,Zl,4),ws.write(hu,Xl,Zl,bu,23,4),Zl+4}Ts.prototype.writeFloatLE=function(Xl,Zl,bu){return ou(this,Xl,Zl,!0,bu)},Ts.prototype.writeFloatBE=function(Xl,Zl,bu){return ou(this,Xl,Zl,!1,bu)};function pu(hu,Xl,Zl,bu,Ou){return Xl=+Xl,Zl=Zl>>>0,Ou||zl(hu,Xl,Zl,8),ws.write(hu,Xl,Zl,bu,52,8),Zl+8}Ts.prototype.writeDoubleLE=function(Xl,Zl,bu){return pu(this,Xl,Zl,!0,bu)},Ts.prototype.writeDoubleBE=function(Xl,Zl,bu){return pu(this,Xl,Zl,!1,bu)},Ts.prototype.copy=function(Xl,Zl,bu,Ou){if(!Ts.isBuffer(Xl))throw new TypeError("argument should be a Buffer");if(bu||(bu=0),!Ou&&Ou!==0&&(Ou=this.length),Zl>=Xl.length&&(Zl=Xl.length),Zl||(Zl=0),Ou>0&&Ou<bu&&(Ou=bu),Ou===bu||Xl.length===0||this.length===0)return 0;if(Zl<0)throw new RangeError("targetStart out of bounds");if(bu<0||bu>=this.length)throw new RangeError("Index out of range");if(Ou<0)throw new RangeError("sourceEnd out of bounds");Ou>this.length&&(Ou=this.length),Xl.length-Zl<Ou-bu&&(Ou=Xl.length-Zl+bu);const zu=Ou-bu;return this===Xl&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Zl,bu,Ou):Uint8Array.prototype.set.call(Xl,this.subarray(bu,Ou),Zl),zu},Ts.prototype.fill=function(Xl,Zl,bu,Ou){if(typeof Xl=="string"){if(typeof Zl=="string"?(Ou=Zl,Zl=0,bu=this.length):typeof bu=="string"&&(Ou=bu,bu=this.length),Ou!==void 0&&typeof Ou!="string")throw new TypeError("encoding must be a string");if(typeof Ou=="string"&&!Ts.isEncoding(Ou))throw new TypeError("Unknown encoding: "+Ou);if(Xl.length===1){const Qu=Xl.charCodeAt(0);(Ou==="utf8"&&Qu<128||Ou==="latin1")&&(Xl=Qu)}}else typeof Xl=="number"?Xl=Xl&255:typeof Xl=="boolean"&&(Xl=Number(Xl));if(Zl<0||this.length<Zl||this.length<bu)throw new RangeError("Out of range index");if(bu<=Zl)return this;Zl=Zl>>>0,bu=bu===void 0?this.length:bu>>>0,Xl||(Xl=0);let zu;if(typeof Xl=="number")for(zu=Zl;zu<bu;++zu)this[zu]=Xl;else{const Qu=Ts.isBuffer(Xl)?Xl:Ts.from(Xl,Ou),_p=Qu.length;if(_p===0)throw new TypeError('The value "'+Xl+'" is invalid for argument "value"');for(zu=0;zu<bu-Zl;++zu)this[zu+Zl]=Qu[zu%_p]}return this};const fu={};function yu(hu,Xl,Zl){fu[hu]=class extends Zl{constructor(){super(),Object.defineProperty(this,"message",{value:Xl.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${hu}]`,this.stack,delete this.name}get code(){return hu}set code(Ou){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ou,writable:!0})}toString(){return`${this.name} [${hu}]: ${this.message}`}}}yu("ERR_BUFFER_OUT_OF_BOUNDS",function(hu){return hu?`${hu} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),yu("ERR_INVALID_ARG_TYPE",function(hu,Xl){return`The "${hu}" argument must be of type number. Received type ${typeof Xl}`},TypeError),yu("ERR_OUT_OF_RANGE",function(hu,Xl,Zl){let bu=`The value of "${hu}" is out of range.`,Ou=Zl;return Number.isInteger(Zl)&&Math.abs(Zl)>2**32?Ou=tu(String(Zl)):typeof Zl=="bigint"&&(Ou=String(Zl),(Zl>BigInt(2)**BigInt(32)||Zl<-(BigInt(2)**BigInt(32)))&&(Ou=tu(Ou)),Ou+="n"),bu+=` It must be ${Xl}. Received ${Ou}`,bu},RangeError);function tu(hu){let Xl="",Zl=hu.length;const bu=hu[0]==="-"?1:0;for(;Zl>=bu+4;Zl-=3)Xl=`_${hu.slice(Zl-3,Zl)}${Xl}`;return`${hu.slice(0,Zl)}${Xl}`}function Ll(hu,Xl,Zl){Hl(Xl,"offset"),(hu[Xl]===void 0||hu[Xl+Zl]===void 0)&&Dl(Xl,hu.length-(Zl+1))}function Tl(hu,Xl,Zl,bu,Ou,zu){if(hu>Zl||hu<Xl){const Qu=typeof Xl=="bigint"?"n":"";let _p;throw Xl===0||Xl===BigInt(0)?_p=`>= 0${Qu} and < 2${Qu} ** ${(zu+1)*8}${Qu}`:_p=`>= -(2${Qu} ** ${(zu+1)*8-1}${Qu}) and < 2 ** ${(zu+1)*8-1}${Qu}`,new fu.ERR_OUT_OF_RANGE("value",_p,hu)}Ll(bu,Ou,zu)}function Hl(hu,Xl){if(typeof hu!="number")throw new fu.ERR_INVALID_ARG_TYPE(Xl,"number",hu)}function Dl(hu,Xl,Zl){throw Math.floor(hu)!==hu?(Hl(hu,Zl),new fu.ERR_OUT_OF_RANGE("offset","an integer",hu)):Xl<0?new fu.ERR_BUFFER_OUT_OF_BOUNDS:new fu.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${Xl}`,hu)}const Kl=/[^+/0-9A-Za-z-_]/g;function cu(hu){if(hu=hu.split("=")[0],hu=hu.trim().replace(Kl,""),hu.length<2)return"";for(;hu.length%4!==0;)hu=hu+"=";return hu}function iu(hu,Xl){Xl=Xl||1/0;let Zl;const bu=hu.length;let Ou=null;const zu=[];for(let Qu=0;Qu<bu;++Qu){if(Zl=hu.charCodeAt(Qu),Zl>55295&&Zl<57344){if(!Ou){if(Zl>56319){(Xl-=3)>-1&&zu.push(239,191,189);continue}else if(Qu+1===bu){(Xl-=3)>-1&&zu.push(239,191,189);continue}Ou=Zl;continue}if(Zl<56320){(Xl-=3)>-1&&zu.push(239,191,189),Ou=Zl;continue}Zl=(Ou-55296<<10|Zl-56320)+65536}else Ou&&(Xl-=3)>-1&&zu.push(239,191,189);if(Ou=null,Zl<128){if((Xl-=1)<0)break;zu.push(Zl)}else if(Zl<2048){if((Xl-=2)<0)break;zu.push(Zl>>6|192,Zl&63|128)}else if(Zl<65536){if((Xl-=3)<0)break;zu.push(Zl>>12|224,Zl>>6&63|128,Zl&63|128)}else if(Zl<1114112){if((Xl-=4)<0)break;zu.push(Zl>>18|240,Zl>>12&63|128,Zl>>6&63|128,Zl&63|128)}else throw new Error("Invalid code point")}return zu}function du(hu){const Xl=[];for(let Zl=0;Zl<hu.length;++Zl)Xl.push(hu.charCodeAt(Zl)&255);return Xl}function Au(hu,Xl){let Zl,bu,Ou;const zu=[];for(let Qu=0;Qu<hu.length&&!((Xl-=2)<0);++Qu)Zl=hu.charCodeAt(Qu),bu=Zl>>8,Ou=Zl%256,zu.push(Ou),zu.push(bu);return zu}function xu(hu){return ms.toByteArray(cu(hu))}function _u(hu,Xl,Zl,bu){let Ou;for(Ou=0;Ou<bu&&!(Ou+Zl>=Xl.length||Ou>=hu.length);++Ou)Xl[Ou+Zl]=hu[Ou];return Ou}function Hu(hu,Xl){return hu instanceof Xl||hu!=null&&hu.constructor!=null&&hu.constructor.name!=null&&hu.constructor.name===Xl.name}function ju(hu){return hu!==hu}const _d=function(){const hu="0123456789abcdef",Xl=new Array(256);for(let Zl=0;Zl<16;++Zl){const bu=Zl*16;for(let Ou=0;Ou<16;++Ou)Xl[bu+Ou]=hu[Zl]+hu[Ou]}return Xl}();function Zu(hu){return typeof BigInt>"u"?tp:hu}function tp(){throw new Error("BigInt not supported")}})(buffer);var cjs$1={},cjs={};Object.defineProperty(cjs,"__esModule",{value:!0});var getLocalStorage_1=cjs.getLocalStorage=cjs.getLocalStorageOrThrow=cjs.getCrypto=cjs.getCryptoOrThrow=getLocation_1=cjs.getLocation=cjs.getLocationOrThrow=getNavigator_1=cjs.getNavigator=cjs.getNavigatorOrThrow=cjs.getDocument=cjs.getDocumentOrThrow=cjs.getFromWindowOrThrow=cjs.getFromWindow=void 0;function getFromWindow(vs){let ms;return typeof window<"u"&&typeof window[vs]<"u"&&(ms=window[vs]),ms}cjs.getFromWindow=getFromWindow;function getFromWindowOrThrow(vs){const ms=getFromWindow(vs);if(!ms)throw new Error(`${vs} is not defined in Window`);return ms}cjs.getFromWindowOrThrow=getFromWindowOrThrow;function getDocumentOrThrow(){return getFromWindowOrThrow("document")}cjs.getDocumentOrThrow=getDocumentOrThrow;function getDocument(){return getFromWindow("document")}cjs.getDocument=getDocument;function getNavigatorOrThrow(){return getFromWindowOrThrow("navigator")}cjs.getNavigatorOrThrow=getNavigatorOrThrow;function getNavigator$1(){return getFromWindow("navigator")}var getNavigator_1=cjs.getNavigator=getNavigator$1;function getLocationOrThrow(){return getFromWindowOrThrow("location")}cjs.getLocationOrThrow=getLocationOrThrow;function getLocation$1(){return getFromWindow("location")}var getLocation_1=cjs.getLocation=getLocation$1;function getCryptoOrThrow(){return getFromWindowOrThrow("crypto")}cjs.getCryptoOrThrow=getCryptoOrThrow;function getCrypto(){return getFromWindow("crypto")}cjs.getCrypto=getCrypto;function getLocalStorageOrThrow(){return getFromWindowOrThrow("localStorage")}cjs.getLocalStorageOrThrow=getLocalStorageOrThrow;function getLocalStorage$1(){return getFromWindow("localStorage")}getLocalStorage_1=cjs.getLocalStorage=getLocalStorage$1,Object.defineProperty(cjs$1,"__esModule",{value:!0});var getWindowMetadata_1=cjs$1.getWindowMetadata=void 0;const window_getters_1=cjs;function getWindowMetadata(){let vs,ms;try{vs=window_getters_1.getDocumentOrThrow(),ms=window_getters_1.getLocationOrThrow()}catch{return null}function ws(){const Ws=vs.getElementsByTagName("link"),Js=[];for(let $l=0;$l<Ws.length;$l++){const wl=Ws[$l],_l=wl.getAttribute("rel");if(_l&&_l.toLowerCase().indexOf("icon")>-1){const Cl=wl.getAttribute("href");if(Cl)if(Cl.toLowerCase().indexOf("https:")===-1&&Cl.toLowerCase().indexOf("http:")===-1&&Cl.indexOf("//")!==0){let Sl=ms.protocol+"//"+ms.host;if(Cl.indexOf("/")===0)Sl+=Cl;else{const El=ms.pathname.split("/");El.pop();const xl=El.join("/");Sl+=xl+"/"+Cl}Js.push(Sl)}else if(Cl.indexOf("//")===0){const Sl=ms.protocol+Cl;Js.push(Sl)}else Js.push(Cl)}}return Js}function Ss(...Ws){const Js=vs.getElementsByTagName("meta");for(let $l=0;$l<Js.length;$l++){const wl=Js[$l],_l=["itemprop","property","name"].map(Cl=>wl.getAttribute(Cl)).filter(Cl=>Cl?Ws.includes(Cl):!1);if(_l.length&&_l){const Cl=wl.getAttribute("content");if(Cl)return Cl}}return""}function Es(){let Ws=Ss("name","og:site_name","og:title","twitter:title");return Ws||(Ws=vs.title),Ws}function _s(){return Ss("description","og:description","twitter:description","keywords")}const Is=Es(),Ts=_s(),Rs=ms.origin,Bs=ws();return{description:Ts,url:Rs,icons:Bs,name:Is}}getWindowMetadata_1=cjs$1.getWindowMetadata=getWindowMetadata;var __spreadArrays=function(){for(var vs=0,ms=0,ws=arguments.length;ms<ws;ms++)vs+=arguments[ms].length;for(var Ss=Array(vs),Es=0,ms=0;ms<ws;ms++)for(var _s=arguments[ms],Is=0,Ts=_s.length;Is<Ts;Is++,Es++)Ss[Es]=_s[Is];return Ss},BrowserInfo=function(){function vs(ms,ws,Ss){this.name=ms,this.version=ws,this.os=Ss,this.type="browser"}return vs}(),NodeInfo=function(){function vs(ms){this.version=ms,this.type="node",this.name="node",this.os=process.platform}return vs}(),SearchBotDeviceInfo=function(){function vs(ms,ws,Ss,Es){this.name=ms,this.version=ws,this.os=Ss,this.bot=Es,this.type="bot-device"}return vs}(),BotInfo=function(){function vs(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return vs}(),ReactNativeInfo=function(){function vs(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return vs}(),SEARCHBOX_UA_REGEX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",SEARCHBOX_UA_REGEX]],operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(vs){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ReactNativeInfo:typeof navigator<"u"?parseUserAgent(navigator.userAgent):getNodeVersion()}function matchUserAgent(vs){return vs!==""&&userAgentRules.reduce(function(ms,ws){var Ss=ws[0],Es=ws[1];if(ms)return ms;var _s=Es.exec(vs);return!!_s&&[Ss,_s]},!1)}function parseUserAgent(vs){var ms=matchUserAgent(vs);if(!ms)return null;var ws=ms[0],Ss=ms[1];if(ws==="searchbot")return new BotInfo;var Es=Ss[1]&&Ss[1].split(/[._]/).slice(0,3);Es?Es.length<REQUIRED_VERSION_PARTS&&(Es=__spreadArrays(Es,createVersionParts(REQUIRED_VERSION_PARTS-Es.length))):Es=[];var _s=Es.join("."),Is=detectOS$1(vs),Ts=SEARCHBOT_OS_REGEX.exec(vs);return Ts&&Ts[1]?new SearchBotDeviceInfo(ws,_s,Is,Ts[1]):new BrowserInfo(ws,_s,Is)}function detectOS$1(vs){for(var ms=0,ws=operatingSystemRules.length;ms<ws;ms++){var Ss=operatingSystemRules[ms],Es=Ss[0],_s=Ss[1],Is=_s.exec(vs);if(Is)return Es}return null}function getNodeVersion(){var vs=typeof process<"u"&&process.version;return vs?new NodeInfo(process.version.slice(1)):null}function createVersionParts(vs){for(var ms=[],ws=0;ws<vs;ws++)ms.push("0");return ms}function detectEnv(vs){return detect()}function detectOS(){const vs=detectEnv();return vs&&vs.os?vs.os:void 0}function isAndroid(){const vs=detectOS();return vs?vs.toLowerCase().includes("android"):!1}function isIOS(){const vs=detectOS();return vs?vs.toLowerCase().includes("ios")||vs.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function isMobile(){return detectOS()?isAndroid()||isIOS():!1}function isNode(){const vs=detectEnv();return vs&&vs.name?vs.name.toLowerCase()==="node":!1}function isBrowser(){return!isNode()&&!!getNavigator()}const getNavigator=getNavigator_1,getLocation=getLocation_1,getLocalStorage=getLocalStorage_1;function getClientMeta(){return getWindowMetadata_1()}function safeJsonParse$1(vs){if(typeof vs!="string")throw new Error(`Cannot safe json parse value of type ${typeof vs}`);try{return JSON.parse(vs)}catch{return vs}}function safeJsonStringify$1(vs){return typeof vs=="string"?vs:JSON.stringify(vs)}const safeJsonParse=safeJsonParse$1,safeJsonStringify=safeJsonStringify$1;function setLocal(vs,ms){const ws=safeJsonStringify(ms),Ss=getLocalStorage();Ss&&Ss.setItem(vs,ws)}function getLocal(vs){let ms=null,ws=null;const Ss=getLocalStorage();return Ss&&(ws=Ss.getItem(vs)),ms=ws&&safeJsonParse(ws),ms}function removeLocal(vs){const ms=getLocalStorage();ms&&ms.removeItem(vs)}const mobileLinkChoiceKey="WALLETCONNECT_DEEPLINK_CHOICE",reservedEvents=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],signingMethods=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"];var bn={exports:{}};bn.exports,function(vs){(function(ms,ws){function Ss(Jl,Il){if(!Jl)throw new Error(Il||"Assertion failed")}function Es(Jl,Il){Jl.super_=Il;var Nl=function(){};Nl.prototype=Il.prototype,Jl.prototype=new Nl,Jl.prototype.constructor=Jl}function _s(Jl,Il,Nl){if(_s.isBN(Jl))return Jl;this.negative=0,this.words=null,this.length=0,this.red=null,Jl!==null&&((Il==="le"||Il==="be")&&(Nl=Il,Il=10),this._init(Jl||0,Il||10,Nl||"be"))}typeof ms=="object"?ms.exports=_s:ws.BN=_s,_s.BN=_s,_s.wordSize=26;var Is;try{Is=require$$0$1.Buffer}catch{}_s.isBN=function(Il){return Il instanceof _s?!0:Il!==null&&typeof Il=="object"&&Il.constructor.wordSize===_s.wordSize&&Array.isArray(Il.words)},_s.max=function(Il,Nl){return Il.cmp(Nl)>0?Il:Nl},_s.min=function(Il,Nl){return Il.cmp(Nl)<0?Il:Nl},_s.prototype._init=function(Il,Nl,Ol){if(typeof Il=="number")return this._initNumber(Il,Nl,Ol);if(typeof Il=="object")return this._initArray(Il,Nl,Ol);Nl==="hex"&&(Nl=16),Ss(Nl===(Nl|0)&&Nl>=2&&Nl<=36),Il=Il.toString().replace(/\s+/g,"");var Gl=0;Il[0]==="-"&&Gl++,Nl===16?this._parseHex(Il,Gl):this._parseBase(Il,Nl,Gl),Il[0]==="-"&&(this.negative=1),this.strip(),Ol==="le"&&this._initArray(this.toArray(),Nl,Ol)},_s.prototype._initNumber=function(Il,Nl,Ol){Il<0&&(this.negative=1,Il=-Il),Il<67108864?(this.words=[Il&67108863],this.length=1):Il<4503599627370496?(this.words=[Il&67108863,Il/67108864&67108863],this.length=2):(Ss(Il<9007199254740992),this.words=[Il&67108863,Il/67108864&67108863,1],this.length=3),Ol==="le"&&this._initArray(this.toArray(),Nl,Ol)},_s.prototype._initArray=function(Il,Nl,Ol){if(Ss(typeof Il.length=="number"),Il.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Il.length/3),this.words=new Array(this.length);for(var Gl=0;Gl<this.length;Gl++)this.words[Gl]=0;var Fl,Al,Pl=0;if(Ol==="be")for(Gl=Il.length-1,Fl=0;Gl>=0;Gl-=3)Al=Il[Gl]|Il[Gl-1]<<8|Il[Gl-2]<<16,this.words[Fl]|=Al<<Pl&67108863,this.words[Fl+1]=Al>>>26-Pl&67108863,Pl+=24,Pl>=26&&(Pl-=26,Fl++);else if(Ol==="le")for(Gl=0,Fl=0;Gl<Il.length;Gl+=3)Al=Il[Gl]|Il[Gl+1]<<8|Il[Gl+2]<<16,this.words[Fl]|=Al<<Pl&67108863,this.words[Fl+1]=Al>>>26-Pl&67108863,Pl+=24,Pl>=26&&(Pl-=26,Fl++);return this.strip()};function Ts(Jl,Il,Nl){for(var Ol=0,Gl=Math.min(Jl.length,Nl),Fl=Il;Fl<Gl;Fl++){var Al=Jl.charCodeAt(Fl)-48;Ol<<=4,Al>=49&&Al<=54?Ol|=Al-49+10:Al>=17&&Al<=22?Ol|=Al-17+10:Ol|=Al&15}return Ol}_s.prototype._parseHex=function(Il,Nl){this.length=Math.ceil((Il.length-Nl)/6),this.words=new Array(this.length);for(var Ol=0;Ol<this.length;Ol++)this.words[Ol]=0;var Gl,Fl,Al=0;for(Ol=Il.length-6,Gl=0;Ol>=Nl;Ol-=6)Fl=Ts(Il,Ol,Ol+6),this.words[Gl]|=Fl<<Al&67108863,this.words[Gl+1]|=Fl>>>26-Al&4194303,Al+=24,Al>=26&&(Al-=26,Gl++);Ol+6!==Nl&&(Fl=Ts(Il,Nl,Ol+6),this.words[Gl]|=Fl<<Al&67108863,this.words[Gl+1]|=Fl>>>26-Al&4194303),this.strip()};function Rs(Jl,Il,Nl,Ol){for(var Gl=0,Fl=Math.min(Jl.length,Nl),Al=Il;Al<Fl;Al++){var Pl=Jl.charCodeAt(Al)-48;Gl*=Ol,Pl>=49?Gl+=Pl-49+10:Pl>=17?Gl+=Pl-17+10:Gl+=Pl}return Gl}_s.prototype._parseBase=function(Il,Nl,Ol){this.words=[0],this.length=1;for(var Gl=0,Fl=1;Fl<=67108863;Fl*=Nl)Gl++;Gl--,Fl=Fl/Nl|0;for(var Al=Il.length-Ol,Pl=Al%Gl,yl=Math.min(Al,Al-Pl)+Ol,Zs=0,Bl=Ol;Bl<yl;Bl+=Gl)Zs=Rs(Il,Bl,Bl+Gl,Nl),this.imuln(Fl),this.words[0]+Zs<67108864?this.words[0]+=Zs:this._iaddn(Zs);if(Pl!==0){var eu=1;for(Zs=Rs(Il,Bl,Il.length,Nl),Bl=0;Bl<Pl;Bl++)eu*=Nl;this.imuln(eu),this.words[0]+Zs<67108864?this.words[0]+=Zs:this._iaddn(Zs)}},_s.prototype.copy=function(Il){Il.words=new Array(this.length);for(var Nl=0;Nl<this.length;Nl++)Il.words[Nl]=this.words[Nl];Il.length=this.length,Il.negative=this.negative,Il.red=this.red},_s.prototype.clone=function(){var Il=new _s(null);return this.copy(Il),Il},_s.prototype._expand=function(Il){for(;this.length<Il;)this.words[this.length++]=0;return this},_s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},_s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},_s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Bs=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Ns=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Ws=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];_s.prototype.toString=function(Il,Nl){Il=Il||10,Nl=Nl|0||1;var Ol;if(Il===16||Il==="hex"){Ol="";for(var Gl=0,Fl=0,Al=0;Al<this.length;Al++){var Pl=this.words[Al],yl=((Pl<<Gl|Fl)&16777215).toString(16);Fl=Pl>>>24-Gl&16777215,Fl!==0||Al!==this.length-1?Ol=Bs[6-yl.length]+yl+Ol:Ol=yl+Ol,Gl+=2,Gl>=26&&(Gl-=26,Al--)}for(Fl!==0&&(Ol=Fl.toString(16)+Ol);Ol.length%Nl!==0;)Ol="0"+Ol;return this.negative!==0&&(Ol="-"+Ol),Ol}if(Il===(Il|0)&&Il>=2&&Il<=36){var Zs=Ns[Il],Bl=Ws[Il];Ol="";var eu=this.clone();for(eu.negative=0;!eu.isZero();){var Eu=eu.modn(Bl).toString(Il);eu=eu.idivn(Bl),eu.isZero()?Ol=Eu+Ol:Ol=Bs[Zs-Eu.length]+Eu+Ol}for(this.isZero()&&(Ol="0"+Ol);Ol.length%Nl!==0;)Ol="0"+Ol;return this.negative!==0&&(Ol="-"+Ol),Ol}Ss(!1,"Base should be between 2 and 36")},_s.prototype.toNumber=function(){var Il=this.words[0];return this.length===2?Il+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Il+=4503599627370496+this.words[1]*67108864:this.length>2&&Ss(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Il:Il},_s.prototype.toJSON=function(){return this.toString(16)},_s.prototype.toBuffer=function(Il,Nl){return Ss(typeof Is<"u"),this.toArrayLike(Is,Il,Nl)},_s.prototype.toArray=function(Il,Nl){return this.toArrayLike(Array,Il,Nl)},_s.prototype.toArrayLike=function(Il,Nl,Ol){var Gl=this.byteLength(),Fl=Ol||Math.max(1,Gl);Ss(Gl<=Fl,"byte array longer than desired length"),Ss(Fl>0,"Requested array length <= 0"),this.strip();var Al=Nl==="le",Pl=new Il(Fl),yl,Zs,Bl=this.clone();if(Al){for(Zs=0;!Bl.isZero();Zs++)yl=Bl.andln(255),Bl.iushrn(8),Pl[Zs]=yl;for(;Zs<Fl;Zs++)Pl[Zs]=0}else{for(Zs=0;Zs<Fl-Gl;Zs++)Pl[Zs]=0;for(Zs=0;!Bl.isZero();Zs++)yl=Bl.andln(255),Bl.iushrn(8),Pl[Fl-Zs-1]=yl}return Pl},Math.clz32?_s.prototype._countBits=function(Il){return 32-Math.clz32(Il)}:_s.prototype._countBits=function(Il){var Nl=Il,Ol=0;return Nl>=4096&&(Ol+=13,Nl>>>=13),Nl>=64&&(Ol+=7,Nl>>>=7),Nl>=8&&(Ol+=4,Nl>>>=4),Nl>=2&&(Ol+=2,Nl>>>=2),Ol+Nl},_s.prototype._zeroBits=function(Il){if(Il===0)return 26;var Nl=Il,Ol=0;return Nl&8191||(Ol+=13,Nl>>>=13),Nl&127||(Ol+=7,Nl>>>=7),Nl&15||(Ol+=4,Nl>>>=4),Nl&3||(Ol+=2,Nl>>>=2),Nl&1||Ol++,Ol},_s.prototype.bitLength=function(){var Il=this.words[this.length-1],Nl=this._countBits(Il);return(this.length-1)*26+Nl};function Js(Jl){for(var Il=new Array(Jl.bitLength()),Nl=0;Nl<Il.length;Nl++){var Ol=Nl/26|0,Gl=Nl%26;Il[Nl]=(Jl.words[Ol]&1<<Gl)>>>Gl}return Il}_s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Il=0,Nl=0;Nl<this.length;Nl++){var Ol=this._zeroBits(this.words[Nl]);if(Il+=Ol,Ol!==26)break}return Il},_s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},_s.prototype.toTwos=function(Il){return this.negative!==0?this.abs().inotn(Il).iaddn(1):this.clone()},_s.prototype.fromTwos=function(Il){return this.testn(Il-1)?this.notn(Il).iaddn(1).ineg():this.clone()},_s.prototype.isNeg=function(){return this.negative!==0},_s.prototype.neg=function(){return this.clone().ineg()},_s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},_s.prototype.iuor=function(Il){for(;this.length<Il.length;)this.words[this.length++]=0;for(var Nl=0;Nl<Il.length;Nl++)this.words[Nl]=this.words[Nl]|Il.words[Nl];return this.strip()},_s.prototype.ior=function(Il){return Ss((this.negative|Il.negative)===0),this.iuor(Il)},_s.prototype.or=function(Il){return this.length>Il.length?this.clone().ior(Il):Il.clone().ior(this)},_s.prototype.uor=function(Il){return this.length>Il.length?this.clone().iuor(Il):Il.clone().iuor(this)},_s.prototype.iuand=function(Il){var Nl;this.length>Il.length?Nl=Il:Nl=this;for(var Ol=0;Ol<Nl.length;Ol++)this.words[Ol]=this.words[Ol]&Il.words[Ol];return this.length=Nl.length,this.strip()},_s.prototype.iand=function(Il){return Ss((this.negative|Il.negative)===0),this.iuand(Il)},_s.prototype.and=function(Il){return this.length>Il.length?this.clone().iand(Il):Il.clone().iand(this)},_s.prototype.uand=function(Il){return this.length>Il.length?this.clone().iuand(Il):Il.clone().iuand(this)},_s.prototype.iuxor=function(Il){var Nl,Ol;this.length>Il.length?(Nl=this,Ol=Il):(Nl=Il,Ol=this);for(var Gl=0;Gl<Ol.length;Gl++)this.words[Gl]=Nl.words[Gl]^Ol.words[Gl];if(this!==Nl)for(;Gl<Nl.length;Gl++)this.words[Gl]=Nl.words[Gl];return this.length=Nl.length,this.strip()},_s.prototype.ixor=function(Il){return Ss((this.negative|Il.negative)===0),this.iuxor(Il)},_s.prototype.xor=function(Il){return this.length>Il.length?this.clone().ixor(Il):Il.clone().ixor(this)},_s.prototype.uxor=function(Il){return this.length>Il.length?this.clone().iuxor(Il):Il.clone().iuxor(this)},_s.prototype.inotn=function(Il){Ss(typeof Il=="number"&&Il>=0);var Nl=Math.ceil(Il/26)|0,Ol=Il%26;this._expand(Nl),Ol>0&&Nl--;for(var Gl=0;Gl<Nl;Gl++)this.words[Gl]=~this.words[Gl]&67108863;return Ol>0&&(this.words[Gl]=~this.words[Gl]&67108863>>26-Ol),this.strip()},_s.prototype.notn=function(Il){return this.clone().inotn(Il)},_s.prototype.setn=function(Il,Nl){Ss(typeof Il=="number"&&Il>=0);var Ol=Il/26|0,Gl=Il%26;return this._expand(Ol+1),Nl?this.words[Ol]=this.words[Ol]|1<<Gl:this.words[Ol]=this.words[Ol]&~(1<<Gl),this.strip()},_s.prototype.iadd=function(Il){var Nl;if(this.negative!==0&&Il.negative===0)return this.negative=0,Nl=this.isub(Il),this.negative^=1,this._normSign();if(this.negative===0&&Il.negative!==0)return Il.negative=0,Nl=this.isub(Il),Il.negative=1,Nl._normSign();var Ol,Gl;this.length>Il.length?(Ol=this,Gl=Il):(Ol=Il,Gl=this);for(var Fl=0,Al=0;Al<Gl.length;Al++)Nl=(Ol.words[Al]|0)+(Gl.words[Al]|0)+Fl,this.words[Al]=Nl&67108863,Fl=Nl>>>26;for(;Fl!==0&&Al<Ol.length;Al++)Nl=(Ol.words[Al]|0)+Fl,this.words[Al]=Nl&67108863,Fl=Nl>>>26;if(this.length=Ol.length,Fl!==0)this.words[this.length]=Fl,this.length++;else if(Ol!==this)for(;Al<Ol.length;Al++)this.words[Al]=Ol.words[Al];return this},_s.prototype.add=function(Il){var Nl;return Il.negative!==0&&this.negative===0?(Il.negative=0,Nl=this.sub(Il),Il.negative^=1,Nl):Il.negative===0&&this.negative!==0?(this.negative=0,Nl=Il.sub(this),this.negative=1,Nl):this.length>Il.length?this.clone().iadd(Il):Il.clone().iadd(this)},_s.prototype.isub=function(Il){if(Il.negative!==0){Il.negative=0;var Nl=this.iadd(Il);return Il.negative=1,Nl._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Il),this.negative=1,this._normSign();var Ol=this.cmp(Il);if(Ol===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Gl,Fl;Ol>0?(Gl=this,Fl=Il):(Gl=Il,Fl=this);for(var Al=0,Pl=0;Pl<Fl.length;Pl++)Nl=(Gl.words[Pl]|0)-(Fl.words[Pl]|0)+Al,Al=Nl>>26,this.words[Pl]=Nl&67108863;for(;Al!==0&&Pl<Gl.length;Pl++)Nl=(Gl.words[Pl]|0)+Al,Al=Nl>>26,this.words[Pl]=Nl&67108863;if(Al===0&&Pl<Gl.length&&Gl!==this)for(;Pl<Gl.length;Pl++)this.words[Pl]=Gl.words[Pl];return this.length=Math.max(this.length,Pl),Gl!==this&&(this.negative=1),this.strip()},_s.prototype.sub=function(Il){return this.clone().isub(Il)};function $l(Jl,Il,Nl){Nl.negative=Il.negative^Jl.negative;var Ol=Jl.length+Il.length|0;Nl.length=Ol,Ol=Ol-1|0;var Gl=Jl.words[0]|0,Fl=Il.words[0]|0,Al=Gl*Fl,Pl=Al&67108863,yl=Al/67108864|0;Nl.words[0]=Pl;for(var Zs=1;Zs<Ol;Zs++){for(var Bl=yl>>>26,eu=yl&67108863,Eu=Math.min(Zs,Il.length-1),uu=Math.max(0,Zs-Jl.length+1);uu<=Eu;uu++){var Yl=Zs-uu|0;Gl=Jl.words[Yl]|0,Fl=Il.words[uu]|0,Al=Gl*Fl+eu,Bl+=Al/67108864|0,eu=Al&67108863}Nl.words[Zs]=eu|0,yl=Bl|0}return yl!==0?Nl.words[Zs]=yl|0:Nl.length--,Nl.strip()}var wl=function(Il,Nl,Ol){var Gl=Il.words,Fl=Nl.words,Al=Ol.words,Pl=0,yl,Zs,Bl,eu=Gl[0]|0,Eu=eu&8191,uu=eu>>>13,Yl=Gl[1]|0,zl=Yl&8191,ou=Yl>>>13,pu=Gl[2]|0,fu=pu&8191,yu=pu>>>13,tu=Gl[3]|0,Ll=tu&8191,Tl=tu>>>13,Hl=Gl[4]|0,Dl=Hl&8191,Kl=Hl>>>13,cu=Gl[5]|0,iu=cu&8191,du=cu>>>13,Au=Gl[6]|0,xu=Au&8191,_u=Au>>>13,Hu=Gl[7]|0,ju=Hu&8191,_d=Hu>>>13,Zu=Gl[8]|0,tp=Zu&8191,hu=Zu>>>13,Xl=Gl[9]|0,Zl=Xl&8191,bu=Xl>>>13,Ou=Fl[0]|0,zu=Ou&8191,Qu=Ou>>>13,_p=Fl[1]|0,dp=_p&8191,kp=_p>>>13,Dp=Fl[2]|0,Ip=Dp&8191,Hp=Dp>>>13,Yp=Fl[3]|0,jp=Yp&8191,tm=Yp>>>13,hm=Fl[4]|0,am=hm&8191,Qp=hm>>>13,fm=Fl[5]|0,cm=fm&8191,lm=fm>>>13,gm=Fl[6]|0,um=gm&8191,im=gm>>>13,ym=Fl[7]|0,au=ym&8191,$u=ym>>>13,Tu=Fl[8]|0,Ql=Tu&8191,Mu=Tu>>>13,ap=Fl[9]|0,sp=ap&8191,pp=ap>>>13;Ol.negative=Il.negative^Nl.negative,Ol.length=19,yl=Math.imul(Eu,zu),Zs=Math.imul(Eu,Qu),Zs=Zs+Math.imul(uu,zu)|0,Bl=Math.imul(uu,Qu);var Mp=(Pl+yl|0)+((Zs&8191)<<13)|0;Pl=(Bl+(Zs>>>13)|0)+(Mp>>>26)|0,Mp&=67108863,yl=Math.imul(zl,zu),Zs=Math.imul(zl,Qu),Zs=Zs+Math.imul(ou,zu)|0,Bl=Math.imul(ou,Qu),yl=yl+Math.imul(Eu,dp)|0,Zs=Zs+Math.imul(Eu,kp)|0,Zs=Zs+Math.imul(uu,dp)|0,Bl=Bl+Math.imul(uu,kp)|0;var qp=(Pl+yl|0)+((Zs&8191)<<13)|0;Pl=(Bl+(Zs>>>13)|0)+(qp>>>26)|0,qp&=67108863,yl=Math.imul(fu,zu),Zs=Math.imul(fu,Qu),Zs=Zs+Math.imul(yu,zu)|0,Bl=Math.imul(yu,Qu),yl=yl+Math.imul(zl,dp)|0,Zs=Zs+Math.imul(zl,kp)|0,Zs=Zs+Math.imul(ou,dp)|0,Bl=Bl+Math.imul(ou,kp)|0,yl=yl+Math.imul(Eu,Ip)|0,Zs=Zs+Math.imul(Eu,Hp)|0,Zs=Zs+Math.imul(uu,Ip)|0,Bl=Bl+Math.imul(uu,Hp)|0;var Bp=(Pl+yl|0)+((Zs&8191)<<13)|0;Pl=(Bl+(Zs>>>13)|0)+(Bp>>>26)|0,Bp&=67108863,yl=Math.imul(Ll,zu),Zs=Math.imul(Ll,Qu),Zs=Zs+Math.imul(Tl,zu)|0,Bl=Math.imul(Tl,Qu),yl=yl+Math.imul(fu,dp)|0,Zs=Zs+Math.imul(fu,kp)|0,Zs=Zs+Math.imul(yu,dp)|0,Bl=Bl+Math.imul(yu,kp)|0,yl=yl+Math.imul(zl,Ip)|0,Zs=Zs+Math.imul(zl,Hp)|0,Zs=Zs+Math.imul(ou,Ip)|0,Bl=Bl+Math.imul(ou,Hp)|0,yl=yl+Math.imul(Eu,jp)|0,Zs=Zs+Math.imul(Eu,tm)|0,Zs=Zs+Math.imul(uu,jp)|0,Bl=Bl+Math.imul(uu,tm)|0;var sm=(Pl+yl|0)+((Zs&8191)<<13)|0;Pl=(Bl+(Zs>>>13)|0)+(sm>>>26)|0,sm&=67108863,yl=Math.imul(Dl,zu),Zs=Math.imul(Dl,Qu),Zs=Zs+Math.imul(Kl,zu)|0,Bl=Math.imul(Kl,Qu),yl=yl+Math.imul(Ll,dp)|0,Zs=Zs+Math.imul(Ll,kp)|0,Zs=Zs+Math.imul(Tl,dp)|0,Bl=Bl+Math.imul(Tl,kp)|0,yl=yl+Math.imul(fu,Ip)|0,Zs=Zs+Math.imul(fu,Hp)|0,Zs=Zs+Math.imul(yu,Ip)|0,Bl=Bl+Math.imul(yu,Hp)|0,yl=yl+Math.imul(zl,jp)|0,Zs=Zs+Math.imul(zl,tm)|0,Zs=Zs+Math.imul(ou,jp)|0,Bl=Bl+Math.imul(ou,tm)|0,yl=yl+Math.imul(Eu,am)|0,Zs=Zs+Math.imul(Eu,Qp)|0,Zs=Zs+Math.imul(uu,am)|0,Bl=Bl+Math.imul(uu,Qp)|0;var Np=(Pl+yl|0)+((Zs&8191)<<13)|0;Pl=(Bl+(Zs>>>13)|0)+(Np>>>26)|0,Np&=67108863,yl=Math.imul(iu,zu),Zs=Math.imul(iu,Qu),Zs=Zs+Math.imul(du,zu)|0,Bl=Math.imul(du,Qu),yl=yl+Math.imul(Dl,dp)|0,Zs=Zs+Math.imul(Dl,kp)|0,Zs=Zs+Math.imul(Kl,dp)|0,Bl=Bl+Math.imul(Kl,kp)|0,yl=yl+Math.imul(Ll,Ip)|0,Zs=Zs+Math.imul(Ll,Hp)|0,Zs=Zs+Math.imul(Tl,Ip)|0,Bl=Bl+Math.imul(Tl,Hp)|0,yl=yl+Math.imul(fu,jp)|0,Zs=Zs+Math.imul(fu,tm)|0,Zs=Zs+Math.imul(yu,jp)|0,Bl=Bl+Math.imul(yu,tm)|0,yl=yl+Math.imul(zl,am)|0,Zs=Zs+Math.imul(zl,Qp)|0,Zs=Zs+Math.imul(ou,am)|0,Bl=Bl+Math.imul(ou,Qp)|0,yl=yl+Math.imul(Eu,cm)|0,Zs=Zs+Math.imul(Eu,lm)|0,Zs=Zs+Math.imul(uu,cm)|0,Bl=Bl+Math.imul(uu,lm)|0;var _g=(Pl+yl|0)+((Zs&8191)<<13)|0;Pl=(Bl+(Zs>>>13)|0)+(_g>>>26)|0,_g&=67108863,yl=Math.imul(xu,zu),Zs=Math.imul(xu,Qu),Zs=Zs+Math.imul(_u,zu)|0,Bl=Math.imul(_u,Qu),yl=yl+Math.imul(iu,dp)|0,Zs=Zs+Math.imul(iu,kp)|0,Zs=Zs+Math.imul(du,dp)|0,Bl=Bl+Math.imul(du,kp)|0,yl=yl+Math.imul(Dl,Ip)|0,Zs=Zs+Math.imul(Dl,Hp)|0,Zs=Zs+Math.imul(Kl,Ip)|0,Bl=Bl+Math.imul(Kl,Hp)|0,yl=yl+Math.imul(Ll,jp)|0,Zs=Zs+Math.imul(Ll,tm)|0,Zs=Zs+Math.imul(Tl,jp)|0,Bl=Bl+Math.imul(Tl,tm)|0,yl=yl+Math.imul(fu,am)|0,Zs=Zs+Math.imul(fu,Qp)|0,Zs=Zs+Math.imul(yu,am)|0,Bl=Bl+Math.imul(yu,Qp)|0,yl=yl+Math.imul(zl,cm)|0,Zs=Zs+Math.imul(zl,lm)|0,Zs=Zs+Math.imul(ou,cm)|0,Bl=Bl+Math.imul(ou,lm)|0,yl=yl+Math.imul(Eu,um)|0,Zs=Zs+Math.imul(Eu,im)|0,Zs=Zs+Math.imul(uu,um)|0,Bl=Bl+Math.imul(uu,im)|0;var Kp=(Pl+yl|0)+((Zs&8191)<<13)|0;Pl=(Bl+(Zs>>>13)|0)+(Kp>>>26)|0,Kp&=67108863,yl=Math.imul(ju,zu),Zs=Math.imul(ju,Qu),Zs=Zs+Math.imul(_d,zu)|0,Bl=Math.imul(_d,Qu),yl=yl+Math.imul(xu,dp)|0,Zs=Zs+Math.imul(xu,kp)|0,Zs=Zs+Math.imul(_u,dp)|0,Bl=Bl+Math.imul(_u,kp)|0,yl=yl+Math.imul(iu,Ip)|0,Zs=Zs+Math.imul(iu,Hp)|0,Zs=Zs+Math.imul(du,Ip)|0,Bl=Bl+Math.imul(du,Hp)|0,yl=yl+Math.imul(Dl,jp)|0,Zs=Zs+Math.imul(Dl,tm)|0,Zs=Zs+Math.imul(Kl,jp)|0,Bl=Bl+Math.imul(Kl,tm)|0,yl=yl+Math.imul(Ll,am)|0,Zs=Zs+Math.imul(Ll,Qp)|0,Zs=Zs+Math.imul(Tl,am)|0,Bl=Bl+Math.imul(Tl,Qp)|0,yl=yl+Math.imul(fu,cm)|0,Zs=Zs+Math.imul(fu,lm)|0,Zs=Zs+Math.imul(yu,cm)|0,Bl=Bl+Math.imul(yu,lm)|0,yl=yl+Math.imul(zl,um)|0,Zs=Zs+Math.imul(zl,im)|0,Zs=Zs+Math.imul(ou,um)|0,Bl=Bl+Math.imul(ou,im)|0,yl=yl+Math.imul(Eu,au)|0,Zs=Zs+Math.imul(Eu,$u)|0,Zs=Zs+Math.imul(uu,au)|0,Bl=Bl+Math.imul(uu,$u)|0;var Xp=(Pl+yl|0)+((Zs&8191)<<13)|0;Pl=(Bl+(Zs>>>13)|0)+(Xp>>>26)|0,Xp&=67108863,yl=Math.imul(tp,zu),Zs=Math.imul(tp,Qu),Zs=Zs+Math.imul(hu,zu)|0,Bl=Math.imul(hu,Qu),yl=yl+Math.imul(ju,dp)|0,Zs=Zs+Math.imul(ju,kp)|0,Zs=Zs+Math.imul(_d,dp)|0,Bl=Bl+Math.imul(_d,kp)|0,yl=yl+Math.imul(xu,Ip)|0,Zs=Zs+Math.imul(xu,Hp)|0,Zs=Zs+Math.imul(_u,Ip)|0,Bl=Bl+Math.imul(_u,Hp)|0,yl=yl+Math.imul(iu,jp)|0,Zs=Zs+Math.imul(iu,tm)|0,Zs=Zs+Math.imul(du,jp)|0,Bl=Bl+Math.imul(du,tm)|0,yl=yl+Math.imul(Dl,am)|0,Zs=Zs+Math.imul(Dl,Qp)|0,Zs=Zs+Math.imul(Kl,am)|0,Bl=Bl+Math.imul(Kl,Qp)|0,yl=yl+Math.imul(Ll,cm)|0,Zs=Zs+Math.imul(Ll,lm)|0,Zs=Zs+Math.imul(Tl,cm)|0,Bl=Bl+Math.imul(Tl,lm)|0,yl=yl+Math.imul(fu,um)|0,Zs=Zs+Math.imul(fu,im)|0,Zs=Zs+Math.imul(yu,um)|0,Bl=Bl+Math.imul(yu,im)|0,yl=yl+Math.imul(zl,au)|0,Zs=Zs+Math.imul(zl,$u)|0,Zs=Zs+Math.imul(ou,au)|0,Bl=Bl+Math.imul(ou,$u)|0,yl=yl+Math.imul(Eu,Ql)|0,Zs=Zs+Math.imul(Eu,Mu)|0,Zs=Zs+Math.imul(uu,Ql)|0,Bl=Bl+Math.imul(uu,Mu)|0;var rm=(Pl+yl|0)+((Zs&8191)<<13)|0;Pl=(Bl+(Zs>>>13)|0)+(rm>>>26)|0,rm&=67108863,yl=Math.imul(Zl,zu),Zs=Math.imul(Zl,Qu),Zs=Zs+Math.imul(bu,zu)|0,Bl=Math.imul(bu,Qu),yl=yl+Math.imul(tp,dp)|0,Zs=Zs+Math.imul(tp,kp)|0,Zs=Zs+Math.imul(hu,dp)|0,Bl=Bl+Math.imul(hu,kp)|0,yl=yl+Math.imul(ju,Ip)|0,Zs=Zs+Math.imul(ju,Hp)|0,Zs=Zs+Math.imul(_d,Ip)|0,Bl=Bl+Math.imul(_d,Hp)|0,yl=yl+Math.imul(xu,jp)|0,Zs=Zs+Math.imul(xu,tm)|0,Zs=Zs+Math.imul(_u,jp)|0,Bl=Bl+Math.imul(_u,tm)|0,yl=yl+Math.imul(iu,am)|0,Zs=Zs+Math.imul(iu,Qp)|0,Zs=Zs+Math.imul(du,am)|0,Bl=Bl+Math.imul(du,Qp)|0,yl=yl+Math.imul(Dl,cm)|0,Zs=Zs+Math.imul(Dl,lm)|0,Zs=Zs+Math.imul(Kl,cm)|0,Bl=Bl+Math.imul(Kl,lm)|0,yl=yl+Math.imul(Ll,um)|0,Zs=Zs+Math.imul(Ll,im)|0,Zs=Zs+Math.imul(Tl,um)|0,Bl=Bl+Math.imul(Tl,im)|0,yl=yl+Math.imul(fu,au)|0,Zs=Zs+Math.imul(fu,$u)|0,Zs=Zs+Math.imul(yu,au)|0,Bl=Bl+Math.imul(yu,$u)|0,yl=yl+Math.imul(zl,Ql)|0,Zs=Zs+Math.imul(zl,Mu)|0,Zs=Zs+Math.imul(ou,Ql)|0,Bl=Bl+Math.imul(ou,Mu)|0,yl=yl+Math.imul(Eu,sp)|0,Zs=Zs+Math.imul(Eu,pp)|0,Zs=Zs+Math.imul(uu,sp)|0,Bl=Bl+Math.imul(uu,pp)|0;var em=(Pl+yl|0)+((Zs&8191)<<13)|0;Pl=(Bl+(Zs>>>13)|0)+(em>>>26)|0,em&=67108863,yl=Math.imul(Zl,dp),Zs=Math.imul(Zl,kp),Zs=Zs+Math.imul(bu,dp)|0,Bl=Math.imul(bu,kp),yl=yl+Math.imul(tp,Ip)|0,Zs=Zs+Math.imul(tp,Hp)|0,Zs=Zs+Math.imul(hu,Ip)|0,Bl=Bl+Math.imul(hu,Hp)|0,yl=yl+Math.imul(ju,jp)|0,Zs=Zs+Math.imul(ju,tm)|0,Zs=Zs+Math.imul(_d,jp)|0,Bl=Bl+Math.imul(_d,tm)|0,yl=yl+Math.imul(xu,am)|0,Zs=Zs+Math.imul(xu,Qp)|0,Zs=Zs+Math.imul(_u,am)|0,Bl=Bl+Math.imul(_u,Qp)|0,yl=yl+Math.imul(iu,cm)|0,Zs=Zs+Math.imul(iu,lm)|0,Zs=Zs+Math.imul(du,cm)|0,Bl=Bl+Math.imul(du,lm)|0,yl=yl+Math.imul(Dl,um)|0,Zs=Zs+Math.imul(Dl,im)|0,Zs=Zs+Math.imul(Kl,um)|0,Bl=Bl+Math.imul(Kl,im)|0,yl=yl+Math.imul(Ll,au)|0,Zs=Zs+Math.imul(Ll,$u)|0,Zs=Zs+Math.imul(Tl,au)|0,Bl=Bl+Math.imul(Tl,$u)|0,yl=yl+Math.imul(fu,Ql)|0,Zs=Zs+Math.imul(fu,Mu)|0,Zs=Zs+Math.imul(yu,Ql)|0,Bl=Bl+Math.imul(yu,Mu)|0,yl=yl+Math.imul(zl,sp)|0,Zs=Zs+Math.imul(zl,pp)|0,Zs=Zs+Math.imul(ou,sp)|0,Bl=Bl+Math.imul(ou,pp)|0;var Wp=(Pl+yl|0)+((Zs&8191)<<13)|0;Pl=(Bl+(Zs>>>13)|0)+(Wp>>>26)|0,Wp&=67108863,yl=Math.imul(Zl,Ip),Zs=Math.imul(Zl,Hp),Zs=Zs+Math.imul(bu,Ip)|0,Bl=Math.imul(bu,Hp),yl=yl+Math.imul(tp,jp)|0,Zs=Zs+Math.imul(tp,tm)|0,Zs=Zs+Math.imul(hu,jp)|0,Bl=Bl+Math.imul(hu,tm)|0,yl=yl+Math.imul(ju,am)|0,Zs=Zs+Math.imul(ju,Qp)|0,Zs=Zs+Math.imul(_d,am)|0,Bl=Bl+Math.imul(_d,Qp)|0,yl=yl+Math.imul(xu,cm)|0,Zs=Zs+Math.imul(xu,lm)|0,Zs=Zs+Math.imul(_u,cm)|0,Bl=Bl+Math.imul(_u,lm)|0,yl=yl+Math.imul(iu,um)|0,Zs=Zs+Math.imul(iu,im)|0,Zs=Zs+Math.imul(du,um)|0,Bl=Bl+Math.imul(du,im)|0,yl=yl+Math.imul(Dl,au)|0,Zs=Zs+Math.imul(Dl,$u)|0,Zs=Zs+Math.imul(Kl,au)|0,Bl=Bl+Math.imul(Kl,$u)|0,yl=yl+Math.imul(Ll,Ql)|0,Zs=Zs+Math.imul(Ll,Mu)|0,Zs=Zs+Math.imul(Tl,Ql)|0,Bl=Bl+Math.imul(Tl,Mu)|0,yl=yl+Math.imul(fu,sp)|0,Zs=Zs+Math.imul(fu,pp)|0,Zs=Zs+Math.imul(yu,sp)|0,Bl=Bl+Math.imul(yu,pp)|0;var nm=(Pl+yl|0)+((Zs&8191)<<13)|0;Pl=(Bl+(Zs>>>13)|0)+(nm>>>26)|0,nm&=67108863,yl=Math.imul(Zl,jp),Zs=Math.imul(Zl,tm),Zs=Zs+Math.imul(bu,jp)|0,Bl=Math.imul(bu,tm),yl=yl+Math.imul(tp,am)|0,Zs=Zs+Math.imul(tp,Qp)|0,Zs=Zs+Math.imul(hu,am)|0,Bl=Bl+Math.imul(hu,Qp)|0,yl=yl+Math.imul(ju,cm)|0,Zs=Zs+Math.imul(ju,lm)|0,Zs=Zs+Math.imul(_d,cm)|0,Bl=Bl+Math.imul(_d,lm)|0,yl=yl+Math.imul(xu,um)|0,Zs=Zs+Math.imul(xu,im)|0,Zs=Zs+Math.imul(_u,um)|0,Bl=Bl+Math.imul(_u,im)|0,yl=yl+Math.imul(iu,au)|0,Zs=Zs+Math.imul(iu,$u)|0,Zs=Zs+Math.imul(du,au)|0,Bl=Bl+Math.imul(du,$u)|0,yl=yl+Math.imul(Dl,Ql)|0,Zs=Zs+Math.imul(Dl,Mu)|0,Zs=Zs+Math.imul(Kl,Ql)|0,Bl=Bl+Math.imul(Kl,Mu)|0,yl=yl+Math.imul(Ll,sp)|0,Zs=Zs+Math.imul(Ll,pp)|0,Zs=Zs+Math.imul(Tl,sp)|0,Bl=Bl+Math.imul(Tl,pp)|0;var Fp=(Pl+yl|0)+((Zs&8191)<<13)|0;Pl=(Bl+(Zs>>>13)|0)+(Fp>>>26)|0,Fp&=67108863,yl=Math.imul(Zl,am),Zs=Math.imul(Zl,Qp),Zs=Zs+Math.imul(bu,am)|0,Bl=Math.imul(bu,Qp),yl=yl+Math.imul(tp,cm)|0,Zs=Zs+Math.imul(tp,lm)|0,Zs=Zs+Math.imul(hu,cm)|0,Bl=Bl+Math.imul(hu,lm)|0,yl=yl+Math.imul(ju,um)|0,Zs=Zs+Math.imul(ju,im)|0,Zs=Zs+Math.imul(_d,um)|0,Bl=Bl+Math.imul(_d,im)|0,yl=yl+Math.imul(xu,au)|0,Zs=Zs+Math.imul(xu,$u)|0,Zs=Zs+Math.imul(_u,au)|0,Bl=Bl+Math.imul(_u,$u)|0,yl=yl+Math.imul(iu,Ql)|0,Zs=Zs+Math.imul(iu,Mu)|0,Zs=Zs+Math.imul(du,Ql)|0,Bl=Bl+Math.imul(du,Mu)|0,yl=yl+Math.imul(Dl,sp)|0,Zs=Zs+Math.imul(Dl,pp)|0,Zs=Zs+Math.imul(Kl,sp)|0,Bl=Bl+Math.imul(Kl,pp)|0;var Up=(Pl+yl|0)+((Zs&8191)<<13)|0;Pl=(Bl+(Zs>>>13)|0)+(Up>>>26)|0,Up&=67108863,yl=Math.imul(Zl,cm),Zs=Math.imul(Zl,lm),Zs=Zs+Math.imul(bu,cm)|0,Bl=Math.imul(bu,lm),yl=yl+Math.imul(tp,um)|0,Zs=Zs+Math.imul(tp,im)|0,Zs=Zs+Math.imul(hu,um)|0,Bl=Bl+Math.imul(hu,im)|0,yl=yl+Math.imul(ju,au)|0,Zs=Zs+Math.imul(ju,$u)|0,Zs=Zs+Math.imul(_d,au)|0,Bl=Bl+Math.imul(_d,$u)|0,yl=yl+Math.imul(xu,Ql)|0,Zs=Zs+Math.imul(xu,Mu)|0,Zs=Zs+Math.imul(_u,Ql)|0,Bl=Bl+Math.imul(_u,Mu)|0,yl=yl+Math.imul(iu,sp)|0,Zs=Zs+Math.imul(iu,pp)|0,Zs=Zs+Math.imul(du,sp)|0,Bl=Bl+Math.imul(du,pp)|0;var Vp=(Pl+yl|0)+((Zs&8191)<<13)|0;Pl=(Bl+(Zs>>>13)|0)+(Vp>>>26)|0,Vp&=67108863,yl=Math.imul(Zl,um),Zs=Math.imul(Zl,im),Zs=Zs+Math.imul(bu,um)|0,Bl=Math.imul(bu,im),yl=yl+Math.imul(tp,au)|0,Zs=Zs+Math.imul(tp,$u)|0,Zs=Zs+Math.imul(hu,au)|0,Bl=Bl+Math.imul(hu,$u)|0,yl=yl+Math.imul(ju,Ql)|0,Zs=Zs+Math.imul(ju,Mu)|0,Zs=Zs+Math.imul(_d,Ql)|0,Bl=Bl+Math.imul(_d,Mu)|0,yl=yl+Math.imul(xu,sp)|0,Zs=Zs+Math.imul(xu,pp)|0,Zs=Zs+Math.imul(_u,sp)|0,Bl=Bl+Math.imul(_u,pp)|0;var Lp=(Pl+yl|0)+((Zs&8191)<<13)|0;Pl=(Bl+(Zs>>>13)|0)+(Lp>>>26)|0,Lp&=67108863,yl=Math.imul(Zl,au),Zs=Math.imul(Zl,$u),Zs=Zs+Math.imul(bu,au)|0,Bl=Math.imul(bu,$u),yl=yl+Math.imul(tp,Ql)|0,Zs=Zs+Math.imul(tp,Mu)|0,Zs=Zs+Math.imul(hu,Ql)|0,Bl=Bl+Math.imul(hu,Mu)|0,yl=yl+Math.imul(ju,sp)|0,Zs=Zs+Math.imul(ju,pp)|0,Zs=Zs+Math.imul(_d,sp)|0,Bl=Bl+Math.imul(_d,pp)|0;var xp=(Pl+yl|0)+((Zs&8191)<<13)|0;Pl=(Bl+(Zs>>>13)|0)+(xp>>>26)|0,xp&=67108863,yl=Math.imul(Zl,Ql),Zs=Math.imul(Zl,Mu),Zs=Zs+Math.imul(bu,Ql)|0,Bl=Math.imul(bu,Mu),yl=yl+Math.imul(tp,sp)|0,Zs=Zs+Math.imul(tp,pp)|0,Zs=Zs+Math.imul(hu,sp)|0,Bl=Bl+Math.imul(hu,pp)|0;var zp=(Pl+yl|0)+((Zs&8191)<<13)|0;Pl=(Bl+(Zs>>>13)|0)+(zp>>>26)|0,zp&=67108863,yl=Math.imul(Zl,sp),Zs=Math.imul(Zl,pp),Zs=Zs+Math.imul(bu,sp)|0,Bl=Math.imul(bu,pp);var lp=(Pl+yl|0)+((Zs&8191)<<13)|0;return Pl=(Bl+(Zs>>>13)|0)+(lp>>>26)|0,lp&=67108863,Al[0]=Mp,Al[1]=qp,Al[2]=Bp,Al[3]=sm,Al[4]=Np,Al[5]=_g,Al[6]=Kp,Al[7]=Xp,Al[8]=rm,Al[9]=em,Al[10]=Wp,Al[11]=nm,Al[12]=Fp,Al[13]=Up,Al[14]=Vp,Al[15]=Lp,Al[16]=xp,Al[17]=zp,Al[18]=lp,Pl!==0&&(Al[19]=Pl,Ol.length++),Ol};Math.imul||(wl=$l);function _l(Jl,Il,Nl){Nl.negative=Il.negative^Jl.negative,Nl.length=Jl.length+Il.length;for(var Ol=0,Gl=0,Fl=0;Fl<Nl.length-1;Fl++){var Al=Gl;Gl=0;for(var Pl=Ol&67108863,yl=Math.min(Fl,Il.length-1),Zs=Math.max(0,Fl-Jl.length+1);Zs<=yl;Zs++){var Bl=Fl-Zs,eu=Jl.words[Bl]|0,Eu=Il.words[Zs]|0,uu=eu*Eu,Yl=uu&67108863;Al=Al+(uu/67108864|0)|0,Yl=Yl+Pl|0,Pl=Yl&67108863,Al=Al+(Yl>>>26)|0,Gl+=Al>>>26,Al&=67108863}Nl.words[Fl]=Pl,Ol=Al,Al=Gl}return Ol!==0?Nl.words[Fl]=Ol:Nl.length--,Nl.strip()}function Cl(Jl,Il,Nl){var Ol=new Sl;return Ol.mulp(Jl,Il,Nl)}_s.prototype.mulTo=function(Il,Nl){var Ol,Gl=this.length+Il.length;return this.length===10&&Il.length===10?Ol=wl(this,Il,Nl):Gl<63?Ol=$l(this,Il,Nl):Gl<1024?Ol=_l(this,Il,Nl):Ol=Cl(this,Il,Nl),Ol};function Sl(Jl,Il){this.x=Jl,this.y=Il}Sl.prototype.makeRBT=function(Il){for(var Nl=new Array(Il),Ol=_s.prototype._countBits(Il)-1,Gl=0;Gl<Il;Gl++)Nl[Gl]=this.revBin(Gl,Ol,Il);return Nl},Sl.prototype.revBin=function(Il,Nl,Ol){if(Il===0||Il===Ol-1)return Il;for(var Gl=0,Fl=0;Fl<Nl;Fl++)Gl|=(Il&1)<<Nl-Fl-1,Il>>=1;return Gl},Sl.prototype.permute=function(Il,Nl,Ol,Gl,Fl,Al){for(var Pl=0;Pl<Al;Pl++)Gl[Pl]=Nl[Il[Pl]],Fl[Pl]=Ol[Il[Pl]]},Sl.prototype.transform=function(Il,Nl,Ol,Gl,Fl,Al){this.permute(Al,Il,Nl,Ol,Gl,Fl);for(var Pl=1;Pl<Fl;Pl<<=1)for(var yl=Pl<<1,Zs=Math.cos(2*Math.PI/yl),Bl=Math.sin(2*Math.PI/yl),eu=0;eu<Fl;eu+=yl)for(var Eu=Zs,uu=Bl,Yl=0;Yl<Pl;Yl++){var zl=Ol[eu+Yl],ou=Gl[eu+Yl],pu=Ol[eu+Yl+Pl],fu=Gl[eu+Yl+Pl],yu=Eu*pu-uu*fu;fu=Eu*fu+uu*pu,pu=yu,Ol[eu+Yl]=zl+pu,Gl[eu+Yl]=ou+fu,Ol[eu+Yl+Pl]=zl-pu,Gl[eu+Yl+Pl]=ou-fu,Yl!==yl&&(yu=Zs*Eu-Bl*uu,uu=Zs*uu+Bl*Eu,Eu=yu)}},Sl.prototype.guessLen13b=function(Il,Nl){var Ol=Math.max(Nl,Il)|1,Gl=Ol&1,Fl=0;for(Ol=Ol/2|0;Ol;Ol=Ol>>>1)Fl++;return 1<<Fl+1+Gl},Sl.prototype.conjugate=function(Il,Nl,Ol){if(!(Ol<=1))for(var Gl=0;Gl<Ol/2;Gl++){var Fl=Il[Gl];Il[Gl]=Il[Ol-Gl-1],Il[Ol-Gl-1]=Fl,Fl=Nl[Gl],Nl[Gl]=-Nl[Ol-Gl-1],Nl[Ol-Gl-1]=-Fl}},Sl.prototype.normalize13b=function(Il,Nl){for(var Ol=0,Gl=0;Gl<Nl/2;Gl++){var Fl=Math.round(Il[2*Gl+1]/Nl)*8192+Math.round(Il[2*Gl]/Nl)+Ol;Il[Gl]=Fl&67108863,Fl<67108864?Ol=0:Ol=Fl/67108864|0}return Il},Sl.prototype.convert13b=function(Il,Nl,Ol,Gl){for(var Fl=0,Al=0;Al<Nl;Al++)Fl=Fl+(Il[Al]|0),Ol[2*Al]=Fl&8191,Fl=Fl>>>13,Ol[2*Al+1]=Fl&8191,Fl=Fl>>>13;for(Al=2*Nl;Al<Gl;++Al)Ol[Al]=0;Ss(Fl===0),Ss((Fl&-8192)===0)},Sl.prototype.stub=function(Il){for(var Nl=new Array(Il),Ol=0;Ol<Il;Ol++)Nl[Ol]=0;return Nl},Sl.prototype.mulp=function(Il,Nl,Ol){var Gl=2*this.guessLen13b(Il.length,Nl.length),Fl=this.makeRBT(Gl),Al=this.stub(Gl),Pl=new Array(Gl),yl=new Array(Gl),Zs=new Array(Gl),Bl=new Array(Gl),eu=new Array(Gl),Eu=new Array(Gl),uu=Ol.words;uu.length=Gl,this.convert13b(Il.words,Il.length,Pl,Gl),this.convert13b(Nl.words,Nl.length,Bl,Gl),this.transform(Pl,Al,yl,Zs,Gl,Fl),this.transform(Bl,Al,eu,Eu,Gl,Fl);for(var Yl=0;Yl<Gl;Yl++){var zl=yl[Yl]*eu[Yl]-Zs[Yl]*Eu[Yl];Zs[Yl]=yl[Yl]*Eu[Yl]+Zs[Yl]*eu[Yl],yl[Yl]=zl}return this.conjugate(yl,Zs,Gl),this.transform(yl,Zs,uu,Al,Gl,Fl),this.conjugate(uu,Al,Gl),this.normalize13b(uu,Gl),Ol.negative=Il.negative^Nl.negative,Ol.length=Il.length+Nl.length,Ol.strip()},_s.prototype.mul=function(Il){var Nl=new _s(null);return Nl.words=new Array(this.length+Il.length),this.mulTo(Il,Nl)},_s.prototype.mulf=function(Il){var Nl=new _s(null);return Nl.words=new Array(this.length+Il.length),Cl(this,Il,Nl)},_s.prototype.imul=function(Il){return this.clone().mulTo(Il,this)},_s.prototype.imuln=function(Il){Ss(typeof Il=="number"),Ss(Il<67108864);for(var Nl=0,Ol=0;Ol<this.length;Ol++){var Gl=(this.words[Ol]|0)*Il,Fl=(Gl&67108863)+(Nl&67108863);Nl>>=26,Nl+=Gl/67108864|0,Nl+=Fl>>>26,this.words[Ol]=Fl&67108863}return Nl!==0&&(this.words[Ol]=Nl,this.length++),this},_s.prototype.muln=function(Il){return this.clone().imuln(Il)},_s.prototype.sqr=function(){return this.mul(this)},_s.prototype.isqr=function(){return this.imul(this.clone())},_s.prototype.pow=function(Il){var Nl=Js(Il);if(Nl.length===0)return new _s(1);for(var Ol=this,Gl=0;Gl<Nl.length&&Nl[Gl]===0;Gl++,Ol=Ol.sqr());if(++Gl<Nl.length)for(var Fl=Ol.sqr();Gl<Nl.length;Gl++,Fl=Fl.sqr())Nl[Gl]!==0&&(Ol=Ol.mul(Fl));return Ol},_s.prototype.iushln=function(Il){Ss(typeof Il=="number"&&Il>=0);var Nl=Il%26,Ol=(Il-Nl)/26,Gl=67108863>>>26-Nl<<26-Nl,Fl;if(Nl!==0){var Al=0;for(Fl=0;Fl<this.length;Fl++){var Pl=this.words[Fl]&Gl,yl=(this.words[Fl]|0)-Pl<<Nl;this.words[Fl]=yl|Al,Al=Pl>>>26-Nl}Al&&(this.words[Fl]=Al,this.length++)}if(Ol!==0){for(Fl=this.length-1;Fl>=0;Fl--)this.words[Fl+Ol]=this.words[Fl];for(Fl=0;Fl<Ol;Fl++)this.words[Fl]=0;this.length+=Ol}return this.strip()},_s.prototype.ishln=function(Il){return Ss(this.negative===0),this.iushln(Il)},_s.prototype.iushrn=function(Il,Nl,Ol){Ss(typeof Il=="number"&&Il>=0);var Gl;Nl?Gl=(Nl-Nl%26)/26:Gl=0;var Fl=Il%26,Al=Math.min((Il-Fl)/26,this.length),Pl=67108863^67108863>>>Fl<<Fl,yl=Ol;if(Gl-=Al,Gl=Math.max(0,Gl),yl){for(var Zs=0;Zs<Al;Zs++)yl.words[Zs]=this.words[Zs];yl.length=Al}if(Al!==0)if(this.length>Al)for(this.length-=Al,Zs=0;Zs<this.length;Zs++)this.words[Zs]=this.words[Zs+Al];else this.words[0]=0,this.length=1;var Bl=0;for(Zs=this.length-1;Zs>=0&&(Bl!==0||Zs>=Gl);Zs--){var eu=this.words[Zs]|0;this.words[Zs]=Bl<<26-Fl|eu>>>Fl,Bl=eu&Pl}return yl&&Bl!==0&&(yl.words[yl.length++]=Bl),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},_s.prototype.ishrn=function(Il,Nl,Ol){return Ss(this.negative===0),this.iushrn(Il,Nl,Ol)},_s.prototype.shln=function(Il){return this.clone().ishln(Il)},_s.prototype.ushln=function(Il){return this.clone().iushln(Il)},_s.prototype.shrn=function(Il){return this.clone().ishrn(Il)},_s.prototype.ushrn=function(Il){return this.clone().iushrn(Il)},_s.prototype.testn=function(Il){Ss(typeof Il=="number"&&Il>=0);var Nl=Il%26,Ol=(Il-Nl)/26,Gl=1<<Nl;if(this.length<=Ol)return!1;var Fl=this.words[Ol];return!!(Fl&Gl)},_s.prototype.imaskn=function(Il){Ss(typeof Il=="number"&&Il>=0);var Nl=Il%26,Ol=(Il-Nl)/26;if(Ss(this.negative===0,"imaskn works only with positive numbers"),this.length<=Ol)return this;if(Nl!==0&&Ol++,this.length=Math.min(Ol,this.length),Nl!==0){var Gl=67108863^67108863>>>Nl<<Nl;this.words[this.length-1]&=Gl}return this.strip()},_s.prototype.maskn=function(Il){return this.clone().imaskn(Il)},_s.prototype.iaddn=function(Il){return Ss(typeof Il=="number"),Ss(Il<67108864),Il<0?this.isubn(-Il):this.negative!==0?this.length===1&&(this.words[0]|0)<Il?(this.words[0]=Il-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Il),this.negative=1,this):this._iaddn(Il)},_s.prototype._iaddn=function(Il){this.words[0]+=Il;for(var Nl=0;Nl<this.length&&this.words[Nl]>=67108864;Nl++)this.words[Nl]-=67108864,Nl===this.length-1?this.words[Nl+1]=1:this.words[Nl+1]++;return this.length=Math.max(this.length,Nl+1),this},_s.prototype.isubn=function(Il){if(Ss(typeof Il=="number"),Ss(Il<67108864),Il<0)return this.iaddn(-Il);if(this.negative!==0)return this.negative=0,this.iaddn(Il),this.negative=1,this;if(this.words[0]-=Il,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Nl=0;Nl<this.length&&this.words[Nl]<0;Nl++)this.words[Nl]+=67108864,this.words[Nl+1]-=1;return this.strip()},_s.prototype.addn=function(Il){return this.clone().iaddn(Il)},_s.prototype.subn=function(Il){return this.clone().isubn(Il)},_s.prototype.iabs=function(){return this.negative=0,this},_s.prototype.abs=function(){return this.clone().iabs()},_s.prototype._ishlnsubmul=function(Il,Nl,Ol){var Gl=Il.length+Ol,Fl;this._expand(Gl);var Al,Pl=0;for(Fl=0;Fl<Il.length;Fl++){Al=(this.words[Fl+Ol]|0)+Pl;var yl=(Il.words[Fl]|0)*Nl;Al-=yl&67108863,Pl=(Al>>26)-(yl/67108864|0),this.words[Fl+Ol]=Al&67108863}for(;Fl<this.length-Ol;Fl++)Al=(this.words[Fl+Ol]|0)+Pl,Pl=Al>>26,this.words[Fl+Ol]=Al&67108863;if(Pl===0)return this.strip();for(Ss(Pl===-1),Pl=0,Fl=0;Fl<this.length;Fl++)Al=-(this.words[Fl]|0)+Pl,Pl=Al>>26,this.words[Fl]=Al&67108863;return this.negative=1,this.strip()},_s.prototype._wordDiv=function(Il,Nl){var Ol=this.length-Il.length,Gl=this.clone(),Fl=Il,Al=Fl.words[Fl.length-1]|0,Pl=this._countBits(Al);Ol=26-Pl,Ol!==0&&(Fl=Fl.ushln(Ol),Gl.iushln(Ol),Al=Fl.words[Fl.length-1]|0);var yl=Gl.length-Fl.length,Zs;if(Nl!=="mod"){Zs=new _s(null),Zs.length=yl+1,Zs.words=new Array(Zs.length);for(var Bl=0;Bl<Zs.length;Bl++)Zs.words[Bl]=0}var eu=Gl.clone()._ishlnsubmul(Fl,1,yl);eu.negative===0&&(Gl=eu,Zs&&(Zs.words[yl]=1));for(var Eu=yl-1;Eu>=0;Eu--){var uu=(Gl.words[Fl.length+Eu]|0)*67108864+(Gl.words[Fl.length+Eu-1]|0);for(uu=Math.min(uu/Al|0,67108863),Gl._ishlnsubmul(Fl,uu,Eu);Gl.negative!==0;)uu--,Gl.negative=0,Gl._ishlnsubmul(Fl,1,Eu),Gl.isZero()||(Gl.negative^=1);Zs&&(Zs.words[Eu]=uu)}return Zs&&Zs.strip(),Gl.strip(),Nl!=="div"&&Ol!==0&&Gl.iushrn(Ol),{div:Zs||null,mod:Gl}},_s.prototype.divmod=function(Il,Nl,Ol){if(Ss(!Il.isZero()),this.isZero())return{div:new _s(0),mod:new _s(0)};var Gl,Fl,Al;return this.negative!==0&&Il.negative===0?(Al=this.neg().divmod(Il,Nl),Nl!=="mod"&&(Gl=Al.div.neg()),Nl!=="div"&&(Fl=Al.mod.neg(),Ol&&Fl.negative!==0&&Fl.iadd(Il)),{div:Gl,mod:Fl}):this.negative===0&&Il.negative!==0?(Al=this.divmod(Il.neg(),Nl),Nl!=="mod"&&(Gl=Al.div.neg()),{div:Gl,mod:Al.mod}):this.negative&Il.negative?(Al=this.neg().divmod(Il.neg(),Nl),Nl!=="div"&&(Fl=Al.mod.neg(),Ol&&Fl.negative!==0&&Fl.isub(Il)),{div:Al.div,mod:Fl}):Il.length>this.length||this.cmp(Il)<0?{div:new _s(0),mod:this}:Il.length===1?Nl==="div"?{div:this.divn(Il.words[0]),mod:null}:Nl==="mod"?{div:null,mod:new _s(this.modn(Il.words[0]))}:{div:this.divn(Il.words[0]),mod:new _s(this.modn(Il.words[0]))}:this._wordDiv(Il,Nl)},_s.prototype.div=function(Il){return this.divmod(Il,"div",!1).div},_s.prototype.mod=function(Il){return this.divmod(Il,"mod",!1).mod},_s.prototype.umod=function(Il){return this.divmod(Il,"mod",!0).mod},_s.prototype.divRound=function(Il){var Nl=this.divmod(Il);if(Nl.mod.isZero())return Nl.div;var Ol=Nl.div.negative!==0?Nl.mod.isub(Il):Nl.mod,Gl=Il.ushrn(1),Fl=Il.andln(1),Al=Ol.cmp(Gl);return Al<0||Fl===1&&Al===0?Nl.div:Nl.div.negative!==0?Nl.div.isubn(1):Nl.div.iaddn(1)},_s.prototype.modn=function(Il){Ss(Il<=67108863);for(var Nl=(1<<26)%Il,Ol=0,Gl=this.length-1;Gl>=0;Gl--)Ol=(Nl*Ol+(this.words[Gl]|0))%Il;return Ol},_s.prototype.idivn=function(Il){Ss(Il<=67108863);for(var Nl=0,Ol=this.length-1;Ol>=0;Ol--){var Gl=(this.words[Ol]|0)+Nl*67108864;this.words[Ol]=Gl/Il|0,Nl=Gl%Il}return this.strip()},_s.prototype.divn=function(Il){return this.clone().idivn(Il)},_s.prototype.egcd=function(Il){Ss(Il.negative===0),Ss(!Il.isZero());var Nl=this,Ol=Il.clone();Nl.negative!==0?Nl=Nl.umod(Il):Nl=Nl.clone();for(var Gl=new _s(1),Fl=new _s(0),Al=new _s(0),Pl=new _s(1),yl=0;Nl.isEven()&&Ol.isEven();)Nl.iushrn(1),Ol.iushrn(1),++yl;for(var Zs=Ol.clone(),Bl=Nl.clone();!Nl.isZero();){for(var eu=0,Eu=1;!(Nl.words[0]&Eu)&&eu<26;++eu,Eu<<=1);if(eu>0)for(Nl.iushrn(eu);eu-- >0;)(Gl.isOdd()||Fl.isOdd())&&(Gl.iadd(Zs),Fl.isub(Bl)),Gl.iushrn(1),Fl.iushrn(1);for(var uu=0,Yl=1;!(Ol.words[0]&Yl)&&uu<26;++uu,Yl<<=1);if(uu>0)for(Ol.iushrn(uu);uu-- >0;)(Al.isOdd()||Pl.isOdd())&&(Al.iadd(Zs),Pl.isub(Bl)),Al.iushrn(1),Pl.iushrn(1);Nl.cmp(Ol)>=0?(Nl.isub(Ol),Gl.isub(Al),Fl.isub(Pl)):(Ol.isub(Nl),Al.isub(Gl),Pl.isub(Fl))}return{a:Al,b:Pl,gcd:Ol.iushln(yl)}},_s.prototype._invmp=function(Il){Ss(Il.negative===0),Ss(!Il.isZero());var Nl=this,Ol=Il.clone();Nl.negative!==0?Nl=Nl.umod(Il):Nl=Nl.clone();for(var Gl=new _s(1),Fl=new _s(0),Al=Ol.clone();Nl.cmpn(1)>0&&Ol.cmpn(1)>0;){for(var Pl=0,yl=1;!(Nl.words[0]&yl)&&Pl<26;++Pl,yl<<=1);if(Pl>0)for(Nl.iushrn(Pl);Pl-- >0;)Gl.isOdd()&&Gl.iadd(Al),Gl.iushrn(1);for(var Zs=0,Bl=1;!(Ol.words[0]&Bl)&&Zs<26;++Zs,Bl<<=1);if(Zs>0)for(Ol.iushrn(Zs);Zs-- >0;)Fl.isOdd()&&Fl.iadd(Al),Fl.iushrn(1);Nl.cmp(Ol)>=0?(Nl.isub(Ol),Gl.isub(Fl)):(Ol.isub(Nl),Fl.isub(Gl))}var eu;return Nl.cmpn(1)===0?eu=Gl:eu=Fl,eu.cmpn(0)<0&&eu.iadd(Il),eu},_s.prototype.gcd=function(Il){if(this.isZero())return Il.abs();if(Il.isZero())return this.abs();var Nl=this.clone(),Ol=Il.clone();Nl.negative=0,Ol.negative=0;for(var Gl=0;Nl.isEven()&&Ol.isEven();Gl++)Nl.iushrn(1),Ol.iushrn(1);do{for(;Nl.isEven();)Nl.iushrn(1);for(;Ol.isEven();)Ol.iushrn(1);var Fl=Nl.cmp(Ol);if(Fl<0){var Al=Nl;Nl=Ol,Ol=Al}else if(Fl===0||Ol.cmpn(1)===0)break;Nl.isub(Ol)}while(!0);return Ol.iushln(Gl)},_s.prototype.invm=function(Il){return this.egcd(Il).a.umod(Il)},_s.prototype.isEven=function(){return(this.words[0]&1)===0},_s.prototype.isOdd=function(){return(this.words[0]&1)===1},_s.prototype.andln=function(Il){return this.words[0]&Il},_s.prototype.bincn=function(Il){Ss(typeof Il=="number");var Nl=Il%26,Ol=(Il-Nl)/26,Gl=1<<Nl;if(this.length<=Ol)return this._expand(Ol+1),this.words[Ol]|=Gl,this;for(var Fl=Gl,Al=Ol;Fl!==0&&Al<this.length;Al++){var Pl=this.words[Al]|0;Pl+=Fl,Fl=Pl>>>26,Pl&=67108863,this.words[Al]=Pl}return Fl!==0&&(this.words[Al]=Fl,this.length++),this},_s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},_s.prototype.cmpn=function(Il){var Nl=Il<0;if(this.negative!==0&&!Nl)return-1;if(this.negative===0&&Nl)return 1;this.strip();var Ol;if(this.length>1)Ol=1;else{Nl&&(Il=-Il),Ss(Il<=67108863,"Number is too big");var Gl=this.words[0]|0;Ol=Gl===Il?0:Gl<Il?-1:1}return this.negative!==0?-Ol|0:Ol},_s.prototype.cmp=function(Il){if(this.negative!==0&&Il.negative===0)return-1;if(this.negative===0&&Il.negative!==0)return 1;var Nl=this.ucmp(Il);return this.negative!==0?-Nl|0:Nl},_s.prototype.ucmp=function(Il){if(this.length>Il.length)return 1;if(this.length<Il.length)return-1;for(var Nl=0,Ol=this.length-1;Ol>=0;Ol--){var Gl=this.words[Ol]|0,Fl=Il.words[Ol]|0;if(Gl!==Fl){Gl<Fl?Nl=-1:Gl>Fl&&(Nl=1);break}}return Nl},_s.prototype.gtn=function(Il){return this.cmpn(Il)===1},_s.prototype.gt=function(Il){return this.cmp(Il)===1},_s.prototype.gten=function(Il){return this.cmpn(Il)>=0},_s.prototype.gte=function(Il){return this.cmp(Il)>=0},_s.prototype.ltn=function(Il){return this.cmpn(Il)===-1},_s.prototype.lt=function(Il){return this.cmp(Il)===-1},_s.prototype.lten=function(Il){return this.cmpn(Il)<=0},_s.prototype.lte=function(Il){return this.cmp(Il)<=0},_s.prototype.eqn=function(Il){return this.cmpn(Il)===0},_s.prototype.eq=function(Il){return this.cmp(Il)===0},_s.red=function(Il){return new nu(Il)},_s.prototype.toRed=function(Il){return Ss(!this.red,"Already a number in reduction context"),Ss(this.negative===0,"red works only with positives"),Il.convertTo(this)._forceRed(Il)},_s.prototype.fromRed=function(){return Ss(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},_s.prototype._forceRed=function(Il){return this.red=Il,this},_s.prototype.forceRed=function(Il){return Ss(!this.red,"Already a number in reduction context"),this._forceRed(Il)},_s.prototype.redAdd=function(Il){return Ss(this.red,"redAdd works only with red numbers"),this.red.add(this,Il)},_s.prototype.redIAdd=function(Il){return Ss(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Il)},_s.prototype.redSub=function(Il){return Ss(this.red,"redSub works only with red numbers"),this.red.sub(this,Il)},_s.prototype.redISub=function(Il){return Ss(this.red,"redISub works only with red numbers"),this.red.isub(this,Il)},_s.prototype.redShl=function(Il){return Ss(this.red,"redShl works only with red numbers"),this.red.shl(this,Il)},_s.prototype.redMul=function(Il){return Ss(this.red,"redMul works only with red numbers"),this.red._verify2(this,Il),this.red.mul(this,Il)},_s.prototype.redIMul=function(Il){return Ss(this.red,"redMul works only with red numbers"),this.red._verify2(this,Il),this.red.imul(this,Il)},_s.prototype.redSqr=function(){return Ss(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},_s.prototype.redISqr=function(){return Ss(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},_s.prototype.redSqrt=function(){return Ss(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},_s.prototype.redInvm=function(){return Ss(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},_s.prototype.redNeg=function(){return Ss(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},_s.prototype.redPow=function(Il){return Ss(this.red&&!Il.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Il)};var El={k256:null,p224:null,p192:null,p25519:null};function xl(Jl,Il){this.name=Jl,this.p=new _s(Il,16),this.n=this.p.bitLength(),this.k=new _s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}xl.prototype._tmp=function(){var Il=new _s(null);return Il.words=new Array(Math.ceil(this.n/13)),Il},xl.prototype.ireduce=function(Il){var Nl=Il,Ol;do this.split(Nl,this.tmp),Nl=this.imulK(Nl),Nl=Nl.iadd(this.tmp),Ol=Nl.bitLength();while(Ol>this.n);var Gl=Ol<this.n?-1:Nl.ucmp(this.p);return Gl===0?(Nl.words[0]=0,Nl.length=1):Gl>0?Nl.isub(this.p):Nl.strip(),Nl},xl.prototype.split=function(Il,Nl){Il.iushrn(this.n,0,Nl)},xl.prototype.imulK=function(Il){return Il.imul(this.k)};function Ml(){xl.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}Es(Ml,xl),Ml.prototype.split=function(Il,Nl){for(var Ol=4194303,Gl=Math.min(Il.length,9),Fl=0;Fl<Gl;Fl++)Nl.words[Fl]=Il.words[Fl];if(Nl.length=Gl,Il.length<=9){Il.words[0]=0,Il.length=1;return}var Al=Il.words[9];for(Nl.words[Nl.length++]=Al&Ol,Fl=10;Fl<Il.length;Fl++){var Pl=Il.words[Fl]|0;Il.words[Fl-10]=(Pl&Ol)<<4|Al>>>22,Al=Pl}Al>>>=22,Il.words[Fl-10]=Al,Al===0&&Il.length>10?Il.length-=10:Il.length-=9},Ml.prototype.imulK=function(Il){Il.words[Il.length]=0,Il.words[Il.length+1]=0,Il.length+=2;for(var Nl=0,Ol=0;Ol<Il.length;Ol++){var Gl=Il.words[Ol]|0;Nl+=Gl*977,Il.words[Ol]=Nl&67108863,Nl=Gl*64+(Nl/67108864|0)}return Il.words[Il.length-1]===0&&(Il.length--,Il.words[Il.length-1]===0&&Il.length--),Il};function Vl(){xl.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}Es(Vl,xl);function Ul(){xl.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}Es(Ul,xl);function _h(){xl.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}Es(_h,xl),_h.prototype.imulK=function(Il){for(var Nl=0,Ol=0;Ol<Il.length;Ol++){var Gl=(Il.words[Ol]|0)*19+Nl,Fl=Gl&67108863;Gl>>>=26,Il.words[Ol]=Fl,Nl=Gl}return Nl!==0&&(Il.words[Il.length++]=Nl),Il},_s._prime=function(Il){if(El[Il])return El[Il];var Nl;if(Il==="k256")Nl=new Ml;else if(Il==="p224")Nl=new Vl;else if(Il==="p192")Nl=new Ul;else if(Il==="p25519")Nl=new _h;else throw new Error("Unknown prime "+Il);return El[Il]=Nl,Nl};function nu(Jl){if(typeof Jl=="string"){var Il=_s._prime(Jl);this.m=Il.p,this.prime=Il}else Ss(Jl.gtn(1),"modulus must be greater than 1"),this.m=Jl,this.prime=null}nu.prototype._verify1=function(Il){Ss(Il.negative===0,"red works only with positives"),Ss(Il.red,"red works only with red numbers")},nu.prototype._verify2=function(Il,Nl){Ss((Il.negative|Nl.negative)===0,"red works only with positives"),Ss(Il.red&&Il.red===Nl.red,"red works only with red numbers")},nu.prototype.imod=function(Il){return this.prime?this.prime.ireduce(Il)._forceRed(this):Il.umod(this.m)._forceRed(this)},nu.prototype.neg=function(Il){return Il.isZero()?Il.clone():this.m.sub(Il)._forceRed(this)},nu.prototype.add=function(Il,Nl){this._verify2(Il,Nl);var Ol=Il.add(Nl);return Ol.cmp(this.m)>=0&&Ol.isub(this.m),Ol._forceRed(this)},nu.prototype.iadd=function(Il,Nl){this._verify2(Il,Nl);var Ol=Il.iadd(Nl);return Ol.cmp(this.m)>=0&&Ol.isub(this.m),Ol},nu.prototype.sub=function(Il,Nl){this._verify2(Il,Nl);var Ol=Il.sub(Nl);return Ol.cmpn(0)<0&&Ol.iadd(this.m),Ol._forceRed(this)},nu.prototype.isub=function(Il,Nl){this._verify2(Il,Nl);var Ol=Il.isub(Nl);return Ol.cmpn(0)<0&&Ol.iadd(this.m),Ol},nu.prototype.shl=function(Il,Nl){return this._verify1(Il),this.imod(Il.ushln(Nl))},nu.prototype.imul=function(Il,Nl){return this._verify2(Il,Nl),this.imod(Il.imul(Nl))},nu.prototype.mul=function(Il,Nl){return this._verify2(Il,Nl),this.imod(Il.mul(Nl))},nu.prototype.isqr=function(Il){return this.imul(Il,Il.clone())},nu.prototype.sqr=function(Il){return this.mul(Il,Il)},nu.prototype.sqrt=function(Il){if(Il.isZero())return Il.clone();var Nl=this.m.andln(3);if(Ss(Nl%2===1),Nl===3){var Ol=this.m.add(new _s(1)).iushrn(2);return this.pow(Il,Ol)}for(var Gl=this.m.subn(1),Fl=0;!Gl.isZero()&&Gl.andln(1)===0;)Fl++,Gl.iushrn(1);Ss(!Gl.isZero());var Al=new _s(1).toRed(this),Pl=Al.redNeg(),yl=this.m.subn(1).iushrn(1),Zs=this.m.bitLength();for(Zs=new _s(2*Zs*Zs).toRed(this);this.pow(Zs,yl).cmp(Pl)!==0;)Zs.redIAdd(Pl);for(var Bl=this.pow(Zs,Gl),eu=this.pow(Il,Gl.addn(1).iushrn(1)),Eu=this.pow(Il,Gl),uu=Fl;Eu.cmp(Al)!==0;){for(var Yl=Eu,zl=0;Yl.cmp(Al)!==0;zl++)Yl=Yl.redSqr();Ss(zl<uu);var ou=this.pow(Bl,new _s(1).iushln(uu-zl-1));eu=eu.redMul(ou),Bl=ou.redSqr(),Eu=Eu.redMul(Bl),uu=zl}return eu},nu.prototype.invm=function(Il){var Nl=Il._invmp(this.m);return Nl.negative!==0?(Nl.negative=0,this.imod(Nl).redNeg()):this.imod(Nl)},nu.prototype.pow=function(Il,Nl){if(Nl.isZero())return new _s(1).toRed(this);if(Nl.cmpn(1)===0)return Il.clone();var Ol=4,Gl=new Array(1<<Ol);Gl[0]=new _s(1).toRed(this),Gl[1]=Il;for(var Fl=2;Fl<Gl.length;Fl++)Gl[Fl]=this.mul(Gl[Fl-1],Il);var Al=Gl[0],Pl=0,yl=0,Zs=Nl.bitLength()%26;for(Zs===0&&(Zs=26),Fl=Nl.length-1;Fl>=0;Fl--){for(var Bl=Nl.words[Fl],eu=Zs-1;eu>=0;eu--){var Eu=Bl>>eu&1;if(Al!==Gl[0]&&(Al=this.sqr(Al)),Eu===0&&Pl===0){yl=0;continue}Pl<<=1,Pl|=Eu,yl++,!(yl!==Ol&&(Fl!==0||eu!==0))&&(Al=this.mul(Al,Gl[Pl]),yl=0,Pl=0)}Zs=26}return Al},nu.prototype.convertTo=function(Il){var Nl=Il.umod(this.m);return Nl===Il?Nl.clone():Nl},nu.prototype.convertFrom=function(Il){var Nl=Il.clone();return Nl.red=null,Nl},_s.mont=function(Il){return new su(Il)};function su(Jl){nu.call(this,Jl),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new _s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Es(su,nu),su.prototype.convertTo=function(Il){return this.imod(Il.ushln(this.shift))},su.prototype.convertFrom=function(Il){var Nl=this.imod(Il.mul(this.rinv));return Nl.red=null,Nl},su.prototype.imul=function(Il,Nl){if(Il.isZero()||Nl.isZero())return Il.words[0]=0,Il.length=1,Il;var Ol=Il.imul(Nl),Gl=Ol.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Fl=Ol.isub(Gl).iushrn(this.shift),Al=Fl;return Fl.cmp(this.m)>=0?Al=Fl.isub(this.m):Fl.cmpn(0)<0&&(Al=Fl.iadd(this.m)),Al._forceRed(this)},su.prototype.mul=function(Il,Nl){if(Il.isZero()||Nl.isZero())return new _s(0)._forceRed(this);var Ol=Il.mul(Nl),Gl=Ol.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Fl=Ol.isub(Gl).iushrn(this.shift),Al=Fl;return Fl.cmp(this.m)>=0?Al=Fl.isub(this.m):Fl.cmpn(0)<0&&(Al=Fl.iadd(this.m)),Al._forceRed(this)},su.prototype.invm=function(Il){var Nl=this.imod(Il._invmp(this.m).mul(this.r2));return Nl._forceRed(this)}})(vs,commonjsGlobal)}(bn);var bnExports=bn.exports;const BN=getDefaultExportFromCjs(bnExports);var isTypedarray=isTypedArray$1;isTypedArray$1.strict=isStrictTypedArray,isTypedArray$1.loose=isLooseTypedArray;var toString=Object.prototype.toString,names={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function isTypedArray$1(vs){return isStrictTypedArray(vs)||isLooseTypedArray(vs)}function isStrictTypedArray(vs){return vs instanceof Int8Array||vs instanceof Int16Array||vs instanceof Int32Array||vs instanceof Uint8Array||vs instanceof Uint8ClampedArray||vs instanceof Uint16Array||vs instanceof Uint32Array||vs instanceof Float32Array||vs instanceof Float64Array}function isLooseTypedArray(vs){return names[toString.call(vs)]}var isTypedArray=isTypedarray.strict,typedarrayToBuffer=function(ms){if(isTypedArray(ms)){var ws=Buffer.from(ms.buffer);return ms.byteLength!==ms.buffer.byteLength&&(ws=ws.slice(ms.byteOffset,ms.byteOffset+ms.byteLength)),ws}else return Buffer.from(ms)};const typedArrayToBuffer=getDefaultExportFromCjs(typedarrayToBuffer),ENC_HEX="hex",ENC_UTF8="utf8",STRING_ZERO="0";function bufferToArray(vs){return new Uint8Array(vs)}function bufferToHex(vs,ms=!1){const ws=vs.toString(ENC_HEX);return ms?addHexPrefix(ws):ws}function bufferToUtf8(vs){return vs.toString(ENC_UTF8)}function arrayToBuffer(vs){return typedArrayToBuffer(vs)}function arrayToHex(vs,ms=!1){return bufferToHex(arrayToBuffer(vs),ms)}function arrayToUtf8(vs){return bufferToUtf8(arrayToBuffer(vs))}function hexToBuffer(vs){return Buffer.from(removeHexPrefix(vs),ENC_HEX)}function hexToArray(vs){return bufferToArray(hexToBuffer(vs))}function utf8ToBuffer(vs){return Buffer.from(vs,ENC_UTF8)}function utf8ToArray(vs){return bufferToArray(utf8ToBuffer(vs))}function utf8ToHex(vs,ms=!1){return bufferToHex(utf8ToBuffer(vs),ms)}function isHexString$1(vs,ms){return!(typeof vs!="string"||!vs.match(/^0x[0-9A-Fa-f]*$/))}function concatArrays(...vs){let ms=[];return vs.forEach(ws=>ms=ms.concat(Array.from(ws))),new Uint8Array([...ms])}function calcByteLength(vs,ms=8){const ws=vs%ms;return ws?(vs-ws)/ms*ms+ms:vs}function sanitizeBytes(vs,ms=8,ws=STRING_ZERO){return padLeft(vs,calcByteLength(vs.length,ms),ws)}function padLeft(vs,ms,ws=STRING_ZERO){return padString(vs,ms,!0,ws)}function removeHexPrefix(vs){return vs.replace(/^0x/,"")}function addHexPrefix(vs){return vs.startsWith("0x")?vs:`0x${vs}`}function sanitizeHex$1(vs){return vs=removeHexPrefix(vs),vs=sanitizeBytes(vs,2),vs&&(vs=addHexPrefix(vs)),vs}function removeHexLeadingZeros$1(vs){const ms=vs.startsWith("0x");return vs=removeHexPrefix(vs),vs=vs.startsWith(STRING_ZERO)?vs.substring(1):vs,ms?addHexPrefix(vs):vs}function padString(vs,ms,ws,Ss=STRING_ZERO){const Es=ms-vs.length;let _s=vs;return Es>0&&(_s=Ss.repeat(Es)+vs),_s}function convertArrayBufferToBuffer(vs){return arrayToBuffer(new Uint8Array(vs))}function convertArrayBufferToHex(vs,ms){return arrayToHex(new Uint8Array(vs),!1)}function convertBufferToArrayBuffer(vs){return bufferToArray(vs).buffer}function convertUtf8ToBuffer(vs){return utf8ToBuffer(vs)}function convertUtf8ToHex(vs,ms){return utf8ToHex(vs,!0)}function convertHexToArrayBuffer(vs){return hexToArray(vs).buffer}function convertNumberToHex(vs,ms){const ws=removeHexPrefix(sanitizeHex$1(new BN(vs).toString(16)));return ms?ws:addHexPrefix(ws)}var sha3={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(vs){(function(){var ms="input is invalid type",ws="finalize already called",Ss=typeof window=="object",Es=Ss?window:{};Es.JS_SHA3_NO_WINDOW&&(Ss=!1);var _s=!Ss&&typeof self=="object",Is=!Es.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;Is?Es=window:_s&&(Es=self);var Ts=!Es.JS_SHA3_NO_COMMON_JS&&!0&&vs.exports,Rs=!Es.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",Bs="0123456789abcdef".split(""),Ns=[31,7936,2031616,520093696],Ws=[4,1024,262144,67108864],Js=[1,256,65536,16777216],$l=[6,1536,393216,100663296],wl=[0,8,16,24],_l=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],Cl=[224,256,384,512],Sl=[128,256],El=["hex","buffer","arrayBuffer","array","digest"],xl={128:168,256:136};(Es.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(zl){return Object.prototype.toString.call(zl)==="[object Array]"}),Rs&&(Es.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(zl){return typeof zl=="object"&&zl.buffer&&zl.buffer.constructor===ArrayBuffer});for(var Ml=function(zl,ou,pu){return function(fu){return new Eu(zl,ou,zl).update(fu)[pu]()}},Vl=function(zl,ou,pu){return function(fu,yu){return new Eu(zl,ou,yu).update(fu)[pu]()}},Ul=function(zl,ou,pu){return function(fu,yu,tu,Ll){return Gl["cshake"+zl].update(fu,yu,tu,Ll)[pu]()}},_h=function(zl,ou,pu){return function(fu,yu,tu,Ll){return Gl["kmac"+zl].update(fu,yu,tu,Ll)[pu]()}},nu=function(zl,ou,pu,fu){for(var yu=0;yu<El.length;++yu){var tu=El[yu];zl[tu]=ou(pu,fu,tu)}return zl},su=function(zl,ou){var pu=Ml(zl,ou,"hex");return pu.create=function(){return new Eu(zl,ou,zl)},pu.update=function(fu){return pu.create().update(fu)},nu(pu,Ml,zl,ou)},Jl=function(zl,ou){var pu=Vl(zl,ou,"hex");return pu.create=function(fu){return new Eu(zl,ou,fu)},pu.update=function(fu,yu){return pu.create(yu).update(fu)},nu(pu,Vl,zl,ou)},Il=function(zl,ou){var pu=xl[zl],fu=Ul(zl,ou,"hex");return fu.create=function(yu,tu,Ll){return!tu&&!Ll?Gl["shake"+zl].create(yu):new Eu(zl,ou,yu).bytepad([tu,Ll],pu)},fu.update=function(yu,tu,Ll,Tl){return fu.create(tu,Ll,Tl).update(yu)},nu(fu,Ul,zl,ou)},Nl=function(zl,ou){var pu=xl[zl],fu=_h(zl,ou,"hex");return fu.create=function(yu,tu,Ll){return new uu(zl,ou,tu).bytepad(["KMAC",Ll],pu).bytepad([yu],pu)},fu.update=function(yu,tu,Ll,Tl){return fu.create(yu,Ll,Tl).update(tu)},nu(fu,_h,zl,ou)},Ol=[{name:"keccak",padding:Js,bits:Cl,createMethod:su},{name:"sha3",padding:$l,bits:Cl,createMethod:su},{name:"shake",padding:Ns,bits:Sl,createMethod:Jl},{name:"cshake",padding:Ws,bits:Sl,createMethod:Il},{name:"kmac",padding:Ws,bits:Sl,createMethod:Nl}],Gl={},Fl=[],Al=0;Al<Ol.length;++Al)for(var Pl=Ol[Al],yl=Pl.bits,Zs=0;Zs<yl.length;++Zs){var Bl=Pl.name+"_"+yl[Zs];if(Fl.push(Bl),Gl[Bl]=Pl.createMethod(yl[Zs],Pl.padding),Pl.name!=="sha3"){var eu=Pl.name+yl[Zs];Fl.push(eu),Gl[eu]=Gl[Bl]}}function Eu(zl,ou,pu){this.blocks=[],this.s=[],this.padding=ou,this.outputBits=pu,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(zl<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=pu>>5,this.extraBytes=(pu&31)>>3;for(var fu=0;fu<50;++fu)this.s[fu]=0}Eu.prototype.update=function(zl){if(this.finalized)throw new Error(ws);var ou,pu=typeof zl;if(pu!=="string"){if(pu==="object"){if(zl===null)throw new Error(ms);if(Rs&&zl.constructor===ArrayBuffer)zl=new Uint8Array(zl);else if(!Array.isArray(zl)&&(!Rs||!ArrayBuffer.isView(zl)))throw new Error(ms)}else throw new Error(ms);ou=!0}for(var fu=this.blocks,yu=this.byteCount,tu=zl.length,Ll=this.blockCount,Tl=0,Hl=this.s,Dl,Kl;Tl<tu;){if(this.reset)for(this.reset=!1,fu[0]=this.block,Dl=1;Dl<Ll+1;++Dl)fu[Dl]=0;if(ou)for(Dl=this.start;Tl<tu&&Dl<yu;++Tl)fu[Dl>>2]|=zl[Tl]<<wl[Dl++&3];else for(Dl=this.start;Tl<tu&&Dl<yu;++Tl)Kl=zl.charCodeAt(Tl),Kl<128?fu[Dl>>2]|=Kl<<wl[Dl++&3]:Kl<2048?(fu[Dl>>2]|=(192|Kl>>6)<<wl[Dl++&3],fu[Dl>>2]|=(128|Kl&63)<<wl[Dl++&3]):Kl<55296||Kl>=57344?(fu[Dl>>2]|=(224|Kl>>12)<<wl[Dl++&3],fu[Dl>>2]|=(128|Kl>>6&63)<<wl[Dl++&3],fu[Dl>>2]|=(128|Kl&63)<<wl[Dl++&3]):(Kl=65536+((Kl&1023)<<10|zl.charCodeAt(++Tl)&1023),fu[Dl>>2]|=(240|Kl>>18)<<wl[Dl++&3],fu[Dl>>2]|=(128|Kl>>12&63)<<wl[Dl++&3],fu[Dl>>2]|=(128|Kl>>6&63)<<wl[Dl++&3],fu[Dl>>2]|=(128|Kl&63)<<wl[Dl++&3]);if(this.lastByteIndex=Dl,Dl>=yu){for(this.start=Dl-yu,this.block=fu[Ll],Dl=0;Dl<Ll;++Dl)Hl[Dl]^=fu[Dl];Yl(Hl),this.reset=!0}else this.start=Dl}return this},Eu.prototype.encode=function(zl,ou){var pu=zl&255,fu=1,yu=[pu];for(zl=zl>>8,pu=zl&255;pu>0;)yu.unshift(pu),zl=zl>>8,pu=zl&255,++fu;return ou?yu.push(fu):yu.unshift(fu),this.update(yu),yu.length},Eu.prototype.encodeString=function(zl){var ou,pu=typeof zl;if(pu!=="string"){if(pu==="object"){if(zl===null)throw new Error(ms);if(Rs&&zl.constructor===ArrayBuffer)zl=new Uint8Array(zl);else if(!Array.isArray(zl)&&(!Rs||!ArrayBuffer.isView(zl)))throw new Error(ms)}else throw new Error(ms);ou=!0}var fu=0,yu=zl.length;if(ou)fu=yu;else for(var tu=0;tu<zl.length;++tu){var Ll=zl.charCodeAt(tu);Ll<128?fu+=1:Ll<2048?fu+=2:Ll<55296||Ll>=57344?fu+=3:(Ll=65536+((Ll&1023)<<10|zl.charCodeAt(++tu)&1023),fu+=4)}return fu+=this.encode(fu*8),this.update(zl),fu},Eu.prototype.bytepad=function(zl,ou){for(var pu=this.encode(ou),fu=0;fu<zl.length;++fu)pu+=this.encodeString(zl[fu]);var yu=ou-pu%ou,tu=[];return tu.length=yu,this.update(tu),this},Eu.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var zl=this.blocks,ou=this.lastByteIndex,pu=this.blockCount,fu=this.s;if(zl[ou>>2]|=this.padding[ou&3],this.lastByteIndex===this.byteCount)for(zl[0]=zl[pu],ou=1;ou<pu+1;++ou)zl[ou]=0;for(zl[pu-1]|=2147483648,ou=0;ou<pu;++ou)fu[ou]^=zl[ou];Yl(fu)}},Eu.prototype.toString=Eu.prototype.hex=function(){this.finalize();for(var zl=this.blockCount,ou=this.s,pu=this.outputBlocks,fu=this.extraBytes,yu=0,tu=0,Ll="",Tl;tu<pu;){for(yu=0;yu<zl&&tu<pu;++yu,++tu)Tl=ou[yu],Ll+=Bs[Tl>>4&15]+Bs[Tl&15]+Bs[Tl>>12&15]+Bs[Tl>>8&15]+Bs[Tl>>20&15]+Bs[Tl>>16&15]+Bs[Tl>>28&15]+Bs[Tl>>24&15];tu%zl===0&&(Yl(ou),yu=0)}return fu&&(Tl=ou[yu],Ll+=Bs[Tl>>4&15]+Bs[Tl&15],fu>1&&(Ll+=Bs[Tl>>12&15]+Bs[Tl>>8&15]),fu>2&&(Ll+=Bs[Tl>>20&15]+Bs[Tl>>16&15])),Ll},Eu.prototype.arrayBuffer=function(){this.finalize();var zl=this.blockCount,ou=this.s,pu=this.outputBlocks,fu=this.extraBytes,yu=0,tu=0,Ll=this.outputBits>>3,Tl;fu?Tl=new ArrayBuffer(pu+1<<2):Tl=new ArrayBuffer(Ll);for(var Hl=new Uint32Array(Tl);tu<pu;){for(yu=0;yu<zl&&tu<pu;++yu,++tu)Hl[tu]=ou[yu];tu%zl===0&&Yl(ou)}return fu&&(Hl[yu]=ou[yu],Tl=Tl.slice(0,Ll)),Tl},Eu.prototype.buffer=Eu.prototype.arrayBuffer,Eu.prototype.digest=Eu.prototype.array=function(){this.finalize();for(var zl=this.blockCount,ou=this.s,pu=this.outputBlocks,fu=this.extraBytes,yu=0,tu=0,Ll=[],Tl,Hl;tu<pu;){for(yu=0;yu<zl&&tu<pu;++yu,++tu)Tl=tu<<2,Hl=ou[yu],Ll[Tl]=Hl&255,Ll[Tl+1]=Hl>>8&255,Ll[Tl+2]=Hl>>16&255,Ll[Tl+3]=Hl>>24&255;tu%zl===0&&Yl(ou)}return fu&&(Tl=tu<<2,Hl=ou[yu],Ll[Tl]=Hl&255,fu>1&&(Ll[Tl+1]=Hl>>8&255),fu>2&&(Ll[Tl+2]=Hl>>16&255)),Ll};function uu(zl,ou,pu){Eu.call(this,zl,ou,pu)}uu.prototype=new Eu,uu.prototype.finalize=function(){return this.encode(this.outputBits,!0),Eu.prototype.finalize.call(this)};var Yl=function(zl){var ou,pu,fu,yu,tu,Ll,Tl,Hl,Dl,Kl,cu,iu,du,Au,xu,_u,Hu,ju,_d,Zu,tp,hu,Xl,Zl,bu,Ou,zu,Qu,_p,dp,kp,Dp,Ip,Hp,Yp,jp,tm,hm,am,Qp,fm,cm,lm,gm,um,im,ym,au,$u,Tu,Ql,Mu,ap,sp,pp,Mp,qp,Bp,sm,Np,_g,Kp,Xp;for(fu=0;fu<48;fu+=2)yu=zl[0]^zl[10]^zl[20]^zl[30]^zl[40],tu=zl[1]^zl[11]^zl[21]^zl[31]^zl[41],Ll=zl[2]^zl[12]^zl[22]^zl[32]^zl[42],Tl=zl[3]^zl[13]^zl[23]^zl[33]^zl[43],Hl=zl[4]^zl[14]^zl[24]^zl[34]^zl[44],Dl=zl[5]^zl[15]^zl[25]^zl[35]^zl[45],Kl=zl[6]^zl[16]^zl[26]^zl[36]^zl[46],cu=zl[7]^zl[17]^zl[27]^zl[37]^zl[47],iu=zl[8]^zl[18]^zl[28]^zl[38]^zl[48],du=zl[9]^zl[19]^zl[29]^zl[39]^zl[49],ou=iu^(Ll<<1|Tl>>>31),pu=du^(Tl<<1|Ll>>>31),zl[0]^=ou,zl[1]^=pu,zl[10]^=ou,zl[11]^=pu,zl[20]^=ou,zl[21]^=pu,zl[30]^=ou,zl[31]^=pu,zl[40]^=ou,zl[41]^=pu,ou=yu^(Hl<<1|Dl>>>31),pu=tu^(Dl<<1|Hl>>>31),zl[2]^=ou,zl[3]^=pu,zl[12]^=ou,zl[13]^=pu,zl[22]^=ou,zl[23]^=pu,zl[32]^=ou,zl[33]^=pu,zl[42]^=ou,zl[43]^=pu,ou=Ll^(Kl<<1|cu>>>31),pu=Tl^(cu<<1|Kl>>>31),zl[4]^=ou,zl[5]^=pu,zl[14]^=ou,zl[15]^=pu,zl[24]^=ou,zl[25]^=pu,zl[34]^=ou,zl[35]^=pu,zl[44]^=ou,zl[45]^=pu,ou=Hl^(iu<<1|du>>>31),pu=Dl^(du<<1|iu>>>31),zl[6]^=ou,zl[7]^=pu,zl[16]^=ou,zl[17]^=pu,zl[26]^=ou,zl[27]^=pu,zl[36]^=ou,zl[37]^=pu,zl[46]^=ou,zl[47]^=pu,ou=Kl^(yu<<1|tu>>>31),pu=cu^(tu<<1|yu>>>31),zl[8]^=ou,zl[9]^=pu,zl[18]^=ou,zl[19]^=pu,zl[28]^=ou,zl[29]^=pu,zl[38]^=ou,zl[39]^=pu,zl[48]^=ou,zl[49]^=pu,Au=zl[0],xu=zl[1],im=zl[11]<<4|zl[10]>>>28,ym=zl[10]<<4|zl[11]>>>28,Qu=zl[20]<<3|zl[21]>>>29,_p=zl[21]<<3|zl[20]>>>29,Np=zl[31]<<9|zl[30]>>>23,_g=zl[30]<<9|zl[31]>>>23,cm=zl[40]<<18|zl[41]>>>14,lm=zl[41]<<18|zl[40]>>>14,Hp=zl[2]<<1|zl[3]>>>31,Yp=zl[3]<<1|zl[2]>>>31,_u=zl[13]<<12|zl[12]>>>20,Hu=zl[12]<<12|zl[13]>>>20,au=zl[22]<<10|zl[23]>>>22,$u=zl[23]<<10|zl[22]>>>22,dp=zl[33]<<13|zl[32]>>>19,kp=zl[32]<<13|zl[33]>>>19,Kp=zl[42]<<2|zl[43]>>>30,Xp=zl[43]<<2|zl[42]>>>30,sp=zl[5]<<30|zl[4]>>>2,pp=zl[4]<<30|zl[5]>>>2,jp=zl[14]<<6|zl[15]>>>26,tm=zl[15]<<6|zl[14]>>>26,ju=zl[25]<<11|zl[24]>>>21,_d=zl[24]<<11|zl[25]>>>21,Tu=zl[34]<<15|zl[35]>>>17,Ql=zl[35]<<15|zl[34]>>>17,Dp=zl[45]<<29|zl[44]>>>3,Ip=zl[44]<<29|zl[45]>>>3,Zl=zl[6]<<28|zl[7]>>>4,bu=zl[7]<<28|zl[6]>>>4,Mp=zl[17]<<23|zl[16]>>>9,qp=zl[16]<<23|zl[17]>>>9,hm=zl[26]<<25|zl[27]>>>7,am=zl[27]<<25|zl[26]>>>7,Zu=zl[36]<<21|zl[37]>>>11,tp=zl[37]<<21|zl[36]>>>11,Mu=zl[47]<<24|zl[46]>>>8,ap=zl[46]<<24|zl[47]>>>8,gm=zl[8]<<27|zl[9]>>>5,um=zl[9]<<27|zl[8]>>>5,Ou=zl[18]<<20|zl[19]>>>12,zu=zl[19]<<20|zl[18]>>>12,Bp=zl[29]<<7|zl[28]>>>25,sm=zl[28]<<7|zl[29]>>>25,Qp=zl[38]<<8|zl[39]>>>24,fm=zl[39]<<8|zl[38]>>>24,hu=zl[48]<<14|zl[49]>>>18,Xl=zl[49]<<14|zl[48]>>>18,zl[0]=Au^~_u&ju,zl[1]=xu^~Hu&_d,zl[10]=Zl^~Ou&Qu,zl[11]=bu^~zu&_p,zl[20]=Hp^~jp&hm,zl[21]=Yp^~tm&am,zl[30]=gm^~im&au,zl[31]=um^~ym&$u,zl[40]=sp^~Mp&Bp,zl[41]=pp^~qp&sm,zl[2]=_u^~ju&Zu,zl[3]=Hu^~_d&tp,zl[12]=Ou^~Qu&dp,zl[13]=zu^~_p&kp,zl[22]=jp^~hm&Qp,zl[23]=tm^~am&fm,zl[32]=im^~au&Tu,zl[33]=ym^~$u&Ql,zl[42]=Mp^~Bp&Np,zl[43]=qp^~sm&_g,zl[4]=ju^~Zu&hu,zl[5]=_d^~tp&Xl,zl[14]=Qu^~dp&Dp,zl[15]=_p^~kp&Ip,zl[24]=hm^~Qp&cm,zl[25]=am^~fm&lm,zl[34]=au^~Tu&Mu,zl[35]=$u^~Ql&ap,zl[44]=Bp^~Np&Kp,zl[45]=sm^~_g&Xp,zl[6]=Zu^~hu&Au,zl[7]=tp^~Xl&xu,zl[16]=dp^~Dp&Zl,zl[17]=kp^~Ip&bu,zl[26]=Qp^~cm&Hp,zl[27]=fm^~lm&Yp,zl[36]=Tu^~Mu&gm,zl[37]=Ql^~ap&um,zl[46]=Np^~Kp&sp,zl[47]=_g^~Xp&pp,zl[8]=hu^~Au&_u,zl[9]=Xl^~xu&Hu,zl[18]=Dp^~Zl&Ou,zl[19]=Ip^~bu&zu,zl[28]=cm^~Hp&jp,zl[29]=lm^~Yp&tm,zl[38]=Mu^~gm&im,zl[39]=ap^~um&ym,zl[48]=Kp^~sp&Mp,zl[49]=Xp^~pp&qp,zl[0]^=_l[fu],zl[1]^=_l[fu+1]};if(Ts)vs.exports=Gl;else for(Al=0;Al<Fl.length;++Al)Es[Fl[Al]]=Gl[Fl[Al]]})()})(sha3);var sha3Exports=sha3.exports;function sanitizeHex(vs){return sanitizeHex$1(vs)}function removeHexLeadingZeros(vs){return removeHexLeadingZeros$1(addHexPrefix(vs))}const payloadId=payloadId$1;function uuid(){return((ms,ws)=>{for(ws=ms="";ms++<36;ws+=ms*51&52?(ms^15?8^Math.random()*(ms^20?16:4):4).toString(16):"-");return ws})()}function isEmptyString(vs){return vs===""||typeof vs=="string"&&vs.trim()===""}function isEmptyArray(vs){return!(vs&&vs.length)}function isHexString(vs,ms){return isHexString$1(vs)}function isJsonRpcRequest(vs){return typeof vs.method<"u"}function isJsonRpcResponseSuccess(vs){return typeof vs.result<"u"}function isJsonRpcResponseError(vs){return typeof vs.error<"u"}function isInternalEvent(vs){return typeof vs.event<"u"}function isReservedEvent(vs){return reservedEvents.includes(vs)||vs.startsWith("wc_")}function isSilentPayload(vs){return vs.method.startsWith("wc_")?!0:!signingMethods.includes(vs.method)}function toChecksumAddress(vs){vs=removeHexPrefix(vs.toLowerCase());const ms=removeHexPrefix(sha3Exports.keccak_256(convertUtf8ToBuffer(vs)));let ws="";for(let Ss=0;Ss<vs.length;Ss++)parseInt(ms[Ss],16)>7?ws+=vs[Ss].toUpperCase():ws+=vs[Ss];return addHexPrefix(ws)}const isValidAddress=vs=>vs?vs.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(vs)?/^(0x)?[0-9a-f]{40}$/.test(vs)||/^(0x)?[0-9A-F]{40}$/.test(vs)?!0:vs===toChecksumAddress(vs):!1:!1;function parsePersonalSign(vs){return!isEmptyArray(vs)&&!isHexString(vs[0])&&(vs[0]=convertUtf8ToHex(vs[0])),vs}function parseTransactionData(vs){if(typeof vs.type<"u"&&vs.type!=="0")return vs;if(typeof vs.from>"u"||!isValidAddress(vs.from))throw new Error("Transaction object must include a valid 'from' value.");function ms(Es){let _s=Es;return(typeof Es=="number"||typeof Es=="string"&&!isEmptyString(Es))&&(isHexString(Es)?typeof Es=="string"&&(_s=sanitizeHex(Es)):_s=convertNumberToHex(Es)),typeof _s=="string"&&(_s=removeHexLeadingZeros(_s)),_s}const ws={from:sanitizeHex(vs.from),to:typeof vs.to>"u"?void 0:sanitizeHex(vs.to),gasPrice:typeof vs.gasPrice>"u"?"":ms(vs.gasPrice),gas:typeof vs.gas>"u"?typeof vs.gasLimit>"u"?"":ms(vs.gasLimit):ms(vs.gas),value:typeof vs.value>"u"?"":ms(vs.value),nonce:typeof vs.nonce>"u"?"":ms(vs.nonce),data:typeof vs.data>"u"?"":sanitizeHex(vs.data)||"0x"},Ss=["gasPrice","gas","value","nonce"];return Object.keys(ws).forEach(Es=>{(typeof ws[Es]>"u"||typeof ws[Es]=="string"&&!ws[Es].trim().length)&&Ss.includes(Es)&&delete ws[Es]}),ws}function formatRpcError(vs){const ms=vs.message||"Failed or Rejected Request";let ws=-32e3;if(vs&&!vs.code)switch(ms){case"Parse error":ws=-32700;break;case"Invalid request":ws=-32600;break;case"Method not found":ws=-32601;break;case"Invalid params":ws=-32602;break;case"Internal error":ws=-32603;break;default:ws=-32e3;break}const Ss={code:ws,message:ms};return vs.data&&(Ss.data=vs.data),Ss}var queryString={},strictUriEncode=vs=>encodeURIComponent(vs).replace(/[!'()*]/g,ms=>`%${ms.charCodeAt(0).toString(16).toUpperCase()}`),token="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(vs,ms){try{return[decodeURIComponent(vs.join(""))]}catch{}if(vs.length===1)return vs;ms=ms||1;var ws=vs.slice(0,ms),Ss=vs.slice(ms);return Array.prototype.concat.call([],decodeComponents(ws),decodeComponents(Ss))}function decode(vs){try{return decodeURIComponent(vs)}catch{for(var ms=vs.match(singleMatcher)||[],ws=1;ws<ms.length;ws++)vs=decodeComponents(ms,ws).join(""),ms=vs.match(singleMatcher)||[];return vs}}function customDecodeURIComponent(vs){for(var ms={"%FE%FF":"��","%FF%FE":"��"},ws=multiMatcher.exec(vs);ws;){try{ms[ws[0]]=decodeURIComponent(ws[0])}catch{var Ss=decode(ws[0]);Ss!==ws[0]&&(ms[ws[0]]=Ss)}ws=multiMatcher.exec(vs)}ms["%C2"]="�";for(var Es=Object.keys(ms),_s=0;_s<Es.length;_s++){var Is=Es[_s];vs=vs.replace(new RegExp(Is,"g"),ms[Is])}return vs}var decodeUriComponent=function(vs){if(typeof vs!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof vs+"`");try{return vs=vs.replace(/\+/g," "),decodeURIComponent(vs)}catch{return customDecodeURIComponent(vs)}},splitOnFirst=(vs,ms)=>{if(!(typeof vs=="string"&&typeof ms=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(ms==="")return[vs];const ws=vs.indexOf(ms);return ws===-1?[vs]:[vs.slice(0,ws),vs.slice(ws+ms.length)]};(function(vs){const ms=strictUriEncode,ws=decodeUriComponent,Ss=splitOnFirst,Es=Cl=>Cl==null;function _s(Cl){switch(Cl.arrayFormat){case"index":return Sl=>(El,xl)=>{const Ml=El.length;return xl===void 0||Cl.skipNull&&xl===null||Cl.skipEmptyString&&xl===""?El:xl===null?[...El,[Rs(Sl,Cl),"[",Ml,"]"].join("")]:[...El,[Rs(Sl,Cl),"[",Rs(Ml,Cl),"]=",Rs(xl,Cl)].join("")]};case"bracket":return Sl=>(El,xl)=>xl===void 0||Cl.skipNull&&xl===null||Cl.skipEmptyString&&xl===""?El:xl===null?[...El,[Rs(Sl,Cl),"[]"].join("")]:[...El,[Rs(Sl,Cl),"[]=",Rs(xl,Cl)].join("")];case"comma":case"separator":return Sl=>(El,xl)=>xl==null||xl.length===0?El:El.length===0?[[Rs(Sl,Cl),"=",Rs(xl,Cl)].join("")]:[[El,Rs(xl,Cl)].join(Cl.arrayFormatSeparator)];default:return Sl=>(El,xl)=>xl===void 0||Cl.skipNull&&xl===null||Cl.skipEmptyString&&xl===""?El:xl===null?[...El,Rs(Sl,Cl)]:[...El,[Rs(Sl,Cl),"=",Rs(xl,Cl)].join("")]}}function Is(Cl){let Sl;switch(Cl.arrayFormat){case"index":return(El,xl,Ml)=>{if(Sl=/\[(\d*)\]$/.exec(El),El=El.replace(/\[\d*\]$/,""),!Sl){Ml[El]=xl;return}Ml[El]===void 0&&(Ml[El]={}),Ml[El][Sl[1]]=xl};case"bracket":return(El,xl,Ml)=>{if(Sl=/(\[\])$/.exec(El),El=El.replace(/\[\]$/,""),!Sl){Ml[El]=xl;return}if(Ml[El]===void 0){Ml[El]=[xl];return}Ml[El]=[].concat(Ml[El],xl)};case"comma":case"separator":return(El,xl,Ml)=>{const Ul=typeof xl=="string"&&xl.split("").indexOf(Cl.arrayFormatSeparator)>-1?xl.split(Cl.arrayFormatSeparator).map(_h=>Bs(_h,Cl)):xl===null?xl:Bs(xl,Cl);Ml[El]=Ul};default:return(El,xl,Ml)=>{if(Ml[El]===void 0){Ml[El]=xl;return}Ml[El]=[].concat(Ml[El],xl)}}}function Ts(Cl){if(typeof Cl!="string"||Cl.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function Rs(Cl,Sl){return Sl.encode?Sl.strict?ms(Cl):encodeURIComponent(Cl):Cl}function Bs(Cl,Sl){return Sl.decode?ws(Cl):Cl}function Ns(Cl){return Array.isArray(Cl)?Cl.sort():typeof Cl=="object"?Ns(Object.keys(Cl)).sort((Sl,El)=>Number(Sl)-Number(El)).map(Sl=>Cl[Sl]):Cl}function Ws(Cl){const Sl=Cl.indexOf("#");return Sl!==-1&&(Cl=Cl.slice(0,Sl)),Cl}function Js(Cl){let Sl="";const El=Cl.indexOf("#");return El!==-1&&(Sl=Cl.slice(El)),Sl}function $l(Cl){Cl=Ws(Cl);const Sl=Cl.indexOf("?");return Sl===-1?"":Cl.slice(Sl+1)}function wl(Cl,Sl){return Sl.parseNumbers&&!Number.isNaN(Number(Cl))&&typeof Cl=="string"&&Cl.trim()!==""?Cl=Number(Cl):Sl.parseBooleans&&Cl!==null&&(Cl.toLowerCase()==="true"||Cl.toLowerCase()==="false")&&(Cl=Cl.toLowerCase()==="true"),Cl}function _l(Cl,Sl){Sl=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},Sl),Ts(Sl.arrayFormatSeparator);const El=Is(Sl),xl=Object.create(null);if(typeof Cl!="string"||(Cl=Cl.trim().replace(/^[?#&]/,""),!Cl))return xl;for(const Ml of Cl.split("&")){let[Vl,Ul]=Ss(Sl.decode?Ml.replace(/\+/g," "):Ml,"=");Ul=Ul===void 0?null:["comma","separator"].includes(Sl.arrayFormat)?Ul:Bs(Ul,Sl),El(Bs(Vl,Sl),Ul,xl)}for(const Ml of Object.keys(xl)){const Vl=xl[Ml];if(typeof Vl=="object"&&Vl!==null)for(const Ul of Object.keys(Vl))Vl[Ul]=wl(Vl[Ul],Sl);else xl[Ml]=wl(Vl,Sl)}return Sl.sort===!1?xl:(Sl.sort===!0?Object.keys(xl).sort():Object.keys(xl).sort(Sl.sort)).reduce((Ml,Vl)=>{const Ul=xl[Vl];return Ul&&typeof Ul=="object"&&!Array.isArray(Ul)?Ml[Vl]=Ns(Ul):Ml[Vl]=Ul,Ml},Object.create(null))}vs.extract=$l,vs.parse=_l,vs.stringify=(Cl,Sl)=>{if(!Cl)return"";Sl=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},Sl),Ts(Sl.arrayFormatSeparator);const El=Ul=>Sl.skipNull&&Es(Cl[Ul])||Sl.skipEmptyString&&Cl[Ul]==="",xl=_s(Sl),Ml={};for(const Ul of Object.keys(Cl))El(Ul)||(Ml[Ul]=Cl[Ul]);const Vl=Object.keys(Ml);return Sl.sort!==!1&&Vl.sort(Sl.sort),Vl.map(Ul=>{const _h=Cl[Ul];return _h===void 0?"":_h===null?Rs(Ul,Sl):Array.isArray(_h)?_h.reduce(xl(Ul),[]).join("&"):Rs(Ul,Sl)+"="+Rs(_h,Sl)}).filter(Ul=>Ul.length>0).join("&")},vs.parseUrl=(Cl,Sl)=>{Sl=Object.assign({decode:!0},Sl);const[El,xl]=Ss(Cl,"#");return Object.assign({url:El.split("?")[0]||"",query:_l($l(Cl),Sl)},Sl&&Sl.parseFragmentIdentifier&&xl?{fragmentIdentifier:Bs(xl,Sl)}:{})},vs.stringifyUrl=(Cl,Sl)=>{Sl=Object.assign({encode:!0,strict:!0},Sl);const El=Ws(Cl.url).split("?")[0]||"",xl=vs.extract(Cl.url),Ml=vs.parse(xl,{sort:!1}),Vl=Object.assign(Ml,Cl.query);let Ul=vs.stringify(Vl,Sl);Ul&&(Ul=`?${Ul}`);let _h=Js(Cl.url);return Cl.fragmentIdentifier&&(_h=`#${Rs(Cl.fragmentIdentifier,Sl)}`),`${El}${Ul}${_h}`}})(queryString);function getQueryString(vs){const ms=vs.indexOf("?")!==-1?vs.indexOf("?"):void 0;return typeof ms<"u"?vs.substr(ms):""}function appendToQueryString(vs,ms){let ws=parseQueryString(vs);return ws=Object.assign(Object.assign({},ws),ms),vs=formatQueryString(ws),vs}function parseQueryString(vs){return queryString.parse(vs)}function formatQueryString(vs){return queryString.stringify(vs)}function isWalletConnectSession(vs){return typeof vs.bridge<"u"}function parseWalletConnectUri(vs){const ms=vs.indexOf(":"),ws=vs.indexOf("?")!==-1?vs.indexOf("?"):void 0,Ss=vs.substring(0,ms),Es=vs.substring(ms+1,ws);function _s(Ws){const $l=Ws.split("@");return{handshakeTopic:$l[0],version:parseInt($l[1],10)}}const Is=_s(Es),Ts=typeof ws<"u"?vs.substr(ws):"";function Rs(Ws){const Js=parseQueryString(Ws);return{key:Js.key||"",bridge:Js.bridge||""}}const Bs=Rs(Ts);return Object.assign(Object.assign({protocol:Ss},Is),Bs)}class NetworkMonitor{constructor(){this._eventEmitters=[],typeof window<"u"&&typeof window.addEventListener<"u"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(ms,ws){this._eventEmitters.push({event:ms,callback:ws})}trigger(ms){let ws=[];ms&&(ws=this._eventEmitters.filter(Ss=>Ss.event===ms)),ws.forEach(Ss=>{Ss.callback()})}}const WS=typeof window.WebSocket<"u"?window.WebSocket:require("ws");class SocketTransport{constructor(ms){if(this.opts=ms,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=ms.protocol,this._version=ms.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=ms.subscriptions||[],this._netMonitor=ms.netMonitor||new NetworkMonitor,!ms.url||typeof ms.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=ms.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(ms){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(ms){}get connecting(){return this.readyState===0}set connected(ms){}get connected(){return this.readyState===1}set closing(ms){}get closing(){return this.readyState===2}set closed(ms){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(ms,ws,Ss){if(!ws||typeof ws!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:ws,type:"pub",payload:ms,silent:!!Ss})}subscribe(ms){this._socketSend({topic:ms,type:"sub",payload:"",silent:!0})}on(ms,ws){this._events.push({event:ms,callback:ws})}_socketCreate(){if(this._nextSocket)return;const ms=getWebSocketUrl(this._url,this._protocol,this._version);if(this._nextSocket=new WS(ms),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=ws=>this._socketReceive(ws),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=ws=>this._socketError(ws),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(ms){const ws=JSON.stringify(ms);this._socket&&this._socket.readyState===1?this._socket.send(ws):(this._setToQueue(ms),this._socketCreate())}async _socketReceive(ms){let ws;try{ws=JSON.parse(ms.data)}catch{return}if(this._socketSend({topic:ws.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const Ss=this._events.filter(Es=>Es.event==="message");Ss&&Ss.length&&Ss.forEach(Es=>Es.callback(ws))}}_socketError(ms){const ws=this._events.filter(Ss=>Ss.event==="error");ws&&ws.length&&ws.forEach(Ss=>Ss.callback(ms))}_queueSubscriptions(){this._subscriptions.forEach(ws=>this._queue.push({topic:ws,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(ms){this._queue.push(ms)}_pushQueue(){this._queue.forEach(ws=>this._socketSend(ws)),this._queue=[]}}function getWebSocketUrl(vs,ms,ws){var Ss,Es;const Is=(vs.startsWith("https")?vs.replace("https","wss"):vs.startsWith("http")?vs.replace("http","ws"):vs).split("?"),Ts=isBrowser()?{protocol:ms,version:ws,env:"browser",host:((Ss=getLocation())===null||Ss===void 0?void 0:Ss.host)||""}:{protocol:ms,version:ws,env:((Es=detectEnv())===null||Es===void 0?void 0:Es.name)||""},Rs=appendToQueryString(getQueryString(Is[1]||""),Ts);return Is[0]+"?"+Rs}const ERROR_SESSION_CONNECTED="Session currently connected",ERROR_SESSION_DISCONNECTED="Session currently disconnected",ERROR_SESSION_REJECTED="Session Rejected",ERROR_MISSING_JSON_RPC="Missing JSON RPC response",ERROR_MISSING_RESULT='JSON-RPC success response must include "result" field',ERROR_MISSING_ERROR='JSON-RPC error response must include "error" field',ERROR_MISSING_METHOD='JSON RPC request must have valid "method" value',ERROR_MISSING_ID='JSON RPC request must have valid "id" value',ERROR_MISSING_REQUIRED="Missing one of the required parameters: bridge / uri / session",ERROR_INVALID_RESPONSE="JSON RPC response format is invalid",ERROR_INVALID_URI="URI format is invalid",ERROR_QRCODE_MODAL_NOT_PROVIDED="QRCode Modal not provided",ERROR_QRCODE_MODAL_USER_CLOSED="User close QRCode Modal";class EventManager{constructor(){this._eventEmitters=[]}subscribe(ms){this._eventEmitters.push(ms)}unsubscribe(ms){this._eventEmitters=this._eventEmitters.filter(ws=>ws.event!==ms)}trigger(ms){let ws=[],Ss;isJsonRpcRequest(ms)?Ss=ms.method:isJsonRpcResponseSuccess(ms)||isJsonRpcResponseError(ms)?Ss=`response:${ms.id}`:isInternalEvent(ms)?Ss=ms.event:Ss="",Ss&&(ws=this._eventEmitters.filter(Es=>Es.event===Ss)),(!ws||!ws.length)&&!isReservedEvent(Ss)&&!isInternalEvent(Ss)&&(ws=this._eventEmitters.filter(Es=>Es.event==="call_request")),ws.forEach(Es=>{if(isJsonRpcResponseError(ms)){const _s=new Error(ms.error.message);Es.callback(_s,null)}else Es.callback(null,ms)})}}class SessionStorage{constructor(ms="walletconnect"){this.storageId=ms}getSession(){let ms=null;const ws=getLocal(this.storageId);return ws&&isWalletConnectSession(ws)&&(ms=ws),ms}setSession(ms){return setLocal(this.storageId,ms),ms}removeSession(){removeLocal(this.storageId)}}const domain="walletconnect.org",alphanumerical="abcdefghijklmnopqrstuvwxyz0123456789",bridges=alphanumerical.split("").map(vs=>`https://${vs}.bridge.walletconnect.org`);function extractHostname(vs){let ms=vs.indexOf("//")>-1?vs.split("/")[2]:vs.split("/")[0];return ms=ms.split(":")[0],ms=ms.split("?")[0],ms}function extractRootDomain(vs){return extractHostname(vs).split(".").slice(-2).join(".")}function randomBridgeIndex(){return Math.floor(Math.random()*bridges.length)}function selectRandomBridgeUrl(){return bridges[randomBridgeIndex()]}function shouldSelectRandomly(vs){return extractRootDomain(vs)===domain}function getBridgeUrl(vs){return shouldSelectRandomly(vs)?selectRandomBridgeUrl():vs}class Connector{constructor(ms){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new EventManager,this._clientMeta=getClientMeta()||ms.connectorOpts.clientMeta||null,this._cryptoLib=ms.cryptoLib,this._sessionStorage=ms.sessionStorage||new SessionStorage(ms.connectorOpts.storageId),this._qrcodeModal=ms.connectorOpts.qrcodeModal,this._qrcodeModalOptions=ms.connectorOpts.qrcodeModalOptions,this._signingMethods=[...signingMethods,...ms.connectorOpts.signingMethods||[]],!ms.connectorOpts.bridge&&!ms.connectorOpts.uri&&!ms.connectorOpts.session)throw new Error(ERROR_MISSING_REQUIRED);ms.connectorOpts.bridge&&(this.bridge=getBridgeUrl(ms.connectorOpts.bridge)),ms.connectorOpts.uri&&(this.uri=ms.connectorOpts.uri);const ws=ms.connectorOpts.session||this._getStorageSession();ws&&(this.session=ws),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=ms.transport||new SocketTransport({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),ms.connectorOpts.uri&&this._subscribeToSessionRequest(),ms.pushServerOpts&&this._registerPushServer(ms.pushServerOpts)}set bridge(ms){ms&&(this._bridge=ms)}get bridge(){return this._bridge}set key(ms){if(!ms)return;const ws=convertHexToArrayBuffer(ms);this._key=ws}get key(){return this._key?convertArrayBufferToHex(this._key):""}set clientId(ms){ms&&(this._clientId=ms)}get clientId(){let ms=this._clientId;return ms||(ms=this._clientId=uuid()),this._clientId}set peerId(ms){ms&&(this._peerId=ms)}get peerId(){return this._peerId}set clientMeta(ms){}get clientMeta(){let ms=this._clientMeta;return ms||(ms=this._clientMeta=getClientMeta()),ms}set peerMeta(ms){this._peerMeta=ms}get peerMeta(){return this._peerMeta}set handshakeTopic(ms){ms&&(this._handshakeTopic=ms)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(ms){ms&&(this._handshakeId=ms)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(ms){if(!ms)return;const{handshakeTopic:ws,bridge:Ss,key:Es}=this._parseUri(ms);this.handshakeTopic=ws,this.bridge=Ss,this.key=Es}set chainId(ms){this._chainId=ms}get chainId(){return this._chainId}set networkId(ms){this._networkId=ms}get networkId(){return this._networkId}set accounts(ms){this._accounts=ms}get accounts(){return this._accounts}set rpcUrl(ms){this._rpcUrl=ms}get rpcUrl(){return this._rpcUrl}set connected(ms){}get connected(){return this._connected}set pending(ms){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(ms){ms&&(this._connected=ms.connected,this.accounts=ms.accounts,this.chainId=ms.chainId,this.bridge=ms.bridge,this.key=ms.key,this.clientId=ms.clientId,this.clientMeta=ms.clientMeta,this.peerId=ms.peerId,this.peerMeta=ms.peerMeta,this.handshakeId=ms.handshakeId,this.handshakeTopic=ms.handshakeTopic)}on(ms,ws){const Ss={event:ms,callback:ws};this._eventManager.subscribe(Ss)}off(ms){this._eventManager.unsubscribe(ms)}async createInstantRequest(ms){this._key=await this._generateKey();const ws=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(ms)}]});this.handshakeId=ws.id,this.handshakeTopic=uuid(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(ERROR_QRCODE_MODAL_USER_CLOSED)});const Ss=()=>{this.killSession()};try{const Es=await this._sendCallRequest(ws);return Es&&Ss(),Es}catch(Es){throw Ss(),Es}}async connect(ms){if(!this._qrcodeModal)throw new Error(ERROR_QRCODE_MODAL_NOT_PROVIDED);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(ms),new Promise(async(ws,Ss)=>{this.on("modal_closed",()=>Ss(new Error(ERROR_QRCODE_MODAL_USER_CLOSED))),this.on("connect",(Es,_s)=>{if(Es)return Ss(Es);ws(_s.params[0])})}))}async createSession(ms){if(this._connected)throw new Error(ERROR_SESSION_CONNECTED);if(this.pending)return;this._key=await this._generateKey();const ws=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:ms&&ms.chainId?ms.chainId:null}]});this.handshakeId=ws.id,this.handshakeTopic=uuid(),this._sendSessionRequest(ws,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(ms){if(this._connected)throw new Error(ERROR_SESSION_CONNECTED);this.chainId=ms.chainId,this.accounts=ms.accounts,this.networkId=ms.networkId||0,this.rpcUrl=ms.rpcUrl||"";const ws={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},Ss={id:this.handshakeId,jsonrpc:"2.0",result:ws};this._sendResponse(Ss),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(ms){if(this._connected)throw new Error(ERROR_SESSION_CONNECTED);const ws=ms&&ms.message?ms.message:ERROR_SESSION_REJECTED,Ss=this._formatResponse({id:this.handshakeId,error:{message:ws}});this._sendResponse(Ss),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:ws}]}),this._removeStorageSession()}updateSession(ms){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);this.chainId=ms.chainId,this.accounts=ms.accounts,this.networkId=ms.networkId||0,this.rpcUrl=ms.rpcUrl||"";const ws={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},Ss=this._formatRequest({method:"wc_sessionUpdate",params:[ws]});this._sendSessionRequest(Ss,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(ms){const ws=ms?ms.message:"Session Disconnected",Ss={approved:!1,chainId:null,networkId:null,accounts:null},Es=this._formatRequest({method:"wc_sessionUpdate",params:[Ss]});await this._sendRequest(Es),this._handleSessionDisconnect(ws)}async sendTransaction(ms){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const ws=parseTransactionData(ms),Ss=this._formatRequest({method:"eth_sendTransaction",params:[ws]});return await this._sendCallRequest(Ss)}async signTransaction(ms){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const ws=parseTransactionData(ms),Ss=this._formatRequest({method:"eth_signTransaction",params:[ws]});return await this._sendCallRequest(Ss)}async signMessage(ms){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const ws=this._formatRequest({method:"eth_sign",params:ms});return await this._sendCallRequest(ws)}async signPersonalMessage(ms){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);ms=parsePersonalSign(ms);const ws=this._formatRequest({method:"personal_sign",params:ms});return await this._sendCallRequest(ws)}async signTypedData(ms){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const ws=this._formatRequest({method:"eth_signTypedData",params:ms});return await this._sendCallRequest(ws)}async updateChain(ms){if(!this._connected)throw new Error("Session currently disconnected");const ws=this._formatRequest({method:"wallet_updateChain",params:[ms]});return await this._sendCallRequest(ws)}unsafeSend(ms,ws){return this._sendRequest(ms,ws),this._eventManager.trigger({event:"call_request_sent",params:[{request:ms,options:ws}]}),new Promise((Ss,Es)=>{this._subscribeToResponse(ms.id,(_s,Is)=>{if(_s){Es(_s);return}if(!Is)throw new Error(ERROR_MISSING_JSON_RPC);Ss(Is)})})}async sendCustomRequest(ms,ws){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);switch(ms.method){case"eth_accounts":return this.accounts;case"eth_chainId":return convertNumberToHex(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":ms.params&&(ms.params[0]=parseTransactionData(ms.params[0]));break;case"personal_sign":ms.params&&(ms.params=parsePersonalSign(ms.params));break}const Ss=this._formatRequest(ms);return await this._sendCallRequest(Ss,ws)}approveRequest(ms){if(isJsonRpcResponseSuccess(ms)){const ws=this._formatResponse(ms);this._sendResponse(ws)}else throw new Error(ERROR_MISSING_RESULT)}rejectRequest(ms){if(isJsonRpcResponseError(ms)){const ws=this._formatResponse(ms);this._sendResponse(ws)}else throw new Error(ERROR_MISSING_ERROR)}transportClose(){this._transport.close()}async _sendRequest(ms,ws){const Ss=this._formatRequest(ms),Es=await this._encrypt(Ss),_s=typeof(ws==null?void 0:ws.topic)<"u"?ws.topic:this.peerId,Is=JSON.stringify(Es),Ts=typeof(ws==null?void 0:ws.forcePushNotification)<"u"?!ws.forcePushNotification:isSilentPayload(Ss);this._transport.send(Is,_s,Ts)}async _sendResponse(ms){const ws=await this._encrypt(ms),Ss=this.peerId,Es=JSON.stringify(ws);this._transport.send(Es,Ss,!0)}async _sendSessionRequest(ms,ws,Ss){this._sendRequest(ms,Ss),this._subscribeToSessionResponse(ms.id,ws)}_sendCallRequest(ms,ws){return this._sendRequest(ms,ws),this._eventManager.trigger({event:"call_request_sent",params:[{request:ms,options:ws}]}),this._subscribeToCallResponse(ms.id)}_formatRequest(ms){if(typeof ms.method>"u")throw new Error(ERROR_MISSING_METHOD);return{id:typeof ms.id>"u"?payloadId():ms.id,jsonrpc:"2.0",method:ms.method,params:typeof ms.params>"u"?[]:ms.params}}_formatResponse(ms){if(typeof ms.id>"u")throw new Error(ERROR_MISSING_ID);const ws={id:ms.id,jsonrpc:"2.0"};if(isJsonRpcResponseError(ms)){const Ss=formatRpcError(ms.error);return Object.assign(Object.assign(Object.assign({},ws),ms),{error:Ss})}else if(isJsonRpcResponseSuccess(ms))return Object.assign(Object.assign({},ws),ms);throw new Error(ERROR_INVALID_RESPONSE)}_handleSessionDisconnect(ms){const ws=ms||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),removeLocal(mobileLinkChoiceKey)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:ws}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(ms,ws){ws?ws.approved?(this._connected?(ws.chainId&&(this.chainId=ws.chainId),ws.accounts&&(this.accounts=ws.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,ws.chainId&&(this.chainId=ws.chainId),ws.accounts&&(this.accounts=ws.accounts),ws.peerId&&!this.peerId&&(this.peerId=ws.peerId),ws.peerMeta&&!this.peerMeta&&(this.peerMeta=ws.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(ms):this._handleSessionDisconnect(ms)}async _handleIncomingMessages(ms){if(![this.clientId,this.handshakeTopic].includes(ms.topic))return;let Ss;try{Ss=JSON.parse(ms.payload)}catch{return}const Es=await this._decrypt(Ss);Es&&this._eventManager.trigger(Es)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(ms,ws){this.on(`response:${ms}`,ws)}_subscribeToSessionResponse(ms,ws){this._subscribeToResponse(ms,(Ss,Es)=>{if(Ss){this._handleSessionResponse(Ss.message);return}isJsonRpcResponseSuccess(Es)?this._handleSessionResponse(ws,Es.result):Es.error&&Es.error.message?this._handleSessionResponse(Es.error.message):this._handleSessionResponse(ws)})}_subscribeToCallResponse(ms){return new Promise((ws,Ss)=>{this._subscribeToResponse(ms,(Es,_s)=>{if(Es){Ss(Es);return}isJsonRpcResponseSuccess(_s)?ws(_s.result):_s.error&&_s.error.message?Ss(_s.error):Ss(new Error(ERROR_INVALID_RESPONSE))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(ms,ws)=>{const{request:Ss}=ws.params[0];if(isMobile()&&this._signingMethods.includes(Ss.method)){const Es=getLocal(mobileLinkChoiceKey);Es&&(window.location.href=Es.href)}}),this.on("wc_sessionRequest",(ms,ws)=>{ms&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:ms.toString()}]}),this.handshakeId=ws.id,this.peerId=ws.params[0].peerId,this.peerMeta=ws.params[0].peerMeta;const Ss=Object.assign(Object.assign({},ws),{method:"session_request"});this._eventManager.trigger(Ss)}),this.on("wc_sessionUpdate",(ms,ws)=>{ms&&this._handleSessionResponse(ms.message),this._handleSessionResponse("Session disconnected",ws.params[0])})}_initTransport(){this._transport.on("message",ms=>this._handleIncomingMessages(ms)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const ms=this.protocol,ws=this.handshakeTopic,Ss=this.version,Es=encodeURIComponent(this.bridge),_s=this.key;return`${ms}:${ws}@${Ss}?bridge=${Es}&key=${_s}`}_parseUri(ms){const ws=parseWalletConnectUri(ms);if(ws.protocol===this.protocol){if(!ws.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const Ss=ws.handshakeTopic;if(!ws.bridge)throw Error("Invalid or missing bridge url parameter value");const Es=decodeURIComponent(ws.bridge);if(!ws.key)throw Error("Invalid or missing key parameter value");const _s=ws.key;return{handshakeTopic:Ss,bridge:Es,key:_s}}else throw new Error(ERROR_INVALID_URI)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(ms){const ws=this._key;return this._cryptoLib&&ws?await this._cryptoLib.encrypt(ms,ws):null}async _decrypt(ms){const ws=this._key;return this._cryptoLib&&ws?await this._cryptoLib.decrypt(ms,ws):null}_getStorageSession(){let ms=null;return this._sessionStorage&&(ms=this._sessionStorage.getSession()),ms}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(ms){if(!ms.url||typeof ms.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!ms.type||typeof ms.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!ms.token||typeof ms.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const ws={bridge:this.bridge,topic:this.clientId,type:ms.type,token:ms.token,peerName:"",language:ms.language||""};this.on("connect",async(Ss,Es)=>{if(Ss)throw Ss;if(ms.peerMeta){const _s=Es.params[0].peerMeta.name;ws.peerName=_s}try{if(!(await(await fetch(`${ms.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(ws)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function randomBytes(vs){return cjs$2.getBrowerCrypto().getRandomValues(new Uint8Array(vs))}const LENGTH_256=256,AES_LENGTH=LENGTH_256,HMAC_LENGTH=LENGTH_256,AES_BROWSER_ALGO="AES-CBC",HMAC_BROWSER_ALGO=`SHA-${AES_LENGTH}`,HMAC_BROWSER="HMAC",ENCRYPT_OP="encrypt",DECRYPT_OP="decrypt",SIGN_OP="sign",VERIFY_OP="verify";function getAlgo(vs){return vs===AES_BROWSER_ALGO?{length:AES_LENGTH,name:AES_BROWSER_ALGO}:{hash:{name:HMAC_BROWSER_ALGO},name:HMAC_BROWSER}}function getOps(vs){return vs===AES_BROWSER_ALGO?[ENCRYPT_OP,DECRYPT_OP]:[SIGN_OP,VERIFY_OP]}async function browserImportKey(vs,ms=AES_BROWSER_ALGO){return cjs$2.getSubtleCrypto().importKey("raw",vs,getAlgo(ms),!0,getOps(ms))}async function browserAesEncrypt(vs,ms,ws){const Ss=cjs$2.getSubtleCrypto(),Es=await browserImportKey(ms,AES_BROWSER_ALGO),_s=await Ss.encrypt({iv:vs,name:AES_BROWSER_ALGO},Es,ws);return new Uint8Array(_s)}async function browserAesDecrypt(vs,ms,ws){const Ss=cjs$2.getSubtleCrypto(),Es=await browserImportKey(ms,AES_BROWSER_ALGO),_s=await Ss.decrypt({iv:vs,name:AES_BROWSER_ALGO},Es,ws);return new Uint8Array(_s)}async function browserHmacSha256Sign(vs,ms){const ws=cjs$2.getSubtleCrypto(),Ss=await browserImportKey(vs,HMAC_BROWSER),Es=await ws.sign({length:HMAC_LENGTH,name:HMAC_BROWSER},Ss,ms);return new Uint8Array(Es)}function aesCbcEncrypt(vs,ms,ws){return browserAesEncrypt(vs,ms,ws)}function aesCbcDecrypt(vs,ms,ws){return browserAesDecrypt(vs,ms,ws)}async function hmacSha256Sign(vs,ms){return await browserHmacSha256Sign(vs,ms)}async function generateKey(vs){const ms=(vs||256)/8,ws=randomBytes(ms);return convertBufferToArrayBuffer(arrayToBuffer(ws))}async function verifyHmac(vs,ms){const ws=hexToArray(vs.data),Ss=hexToArray(vs.iv),Es=hexToArray(vs.hmac),_s=arrayToHex(Es,!1),Is=concatArrays(ws,Ss),Ts=await hmacSha256Sign(ms,Is),Rs=arrayToHex(Ts,!1);return removeHexPrefix(_s)===removeHexPrefix(Rs)}async function encrypt(vs,ms,ws){const Ss=bufferToArray(convertArrayBufferToBuffer(ms)),Es=ws||await generateKey(128),_s=bufferToArray(convertArrayBufferToBuffer(Es)),Is=arrayToHex(_s,!1),Ts=JSON.stringify(vs),Rs=utf8ToArray(Ts),Bs=await aesCbcEncrypt(_s,Ss,Rs),Ns=arrayToHex(Bs,!1),Ws=concatArrays(Bs,_s),Js=await hmacSha256Sign(Ss,Ws),$l=arrayToHex(Js,!1);return{data:Ns,hmac:$l,iv:Is}}async function decrypt(vs,ms){const ws=bufferToArray(convertArrayBufferToBuffer(ms));if(!ws)throw new Error("Missing key: required for decryption");if(!await verifyHmac(vs,ws))return null;const Es=hexToArray(vs.data),_s=hexToArray(vs.iv),Is=await aesCbcDecrypt(_s,ws,Es),Ts=arrayToUtf8(Is);let Rs;try{Rs=JSON.parse(Ts)}catch{return null}return Rs}const cryptoLib=Object.freeze(Object.defineProperty({__proto__:null,decrypt,encrypt,generateKey,verifyHmac},Symbol.toStringTag,{value:"Module"}));class WalletConnect extends Connector{constructor(ms,ws){super({cryptoLib,connectorOpts:ms,pushServerOpts:ws})}}const BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Utils{static getFirstMatch(ms,ws){const Ss=ws.match(ms);return Ss&&Ss.length>0&&Ss[1]||""}static getSecondMatch(ms,ws){const Ss=ws.match(ms);return Ss&&Ss.length>1&&Ss[2]||""}static matchAndReturnConst(ms,ws,Ss){if(ms.test(ws))return Ss}static getWindowsVersionName(ms){switch(ms){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(ms){const ws=ms.split(".").splice(0,2).map(Ss=>parseInt(Ss,10)||0);if(ws.push(0),ws[0]===10)switch(ws[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(ms){const ws=ms.split(".").splice(0,2).map(Ss=>parseInt(Ss,10)||0);if(ws.push(0),!(ws[0]===1&&ws[1]<5)){if(ws[0]===1&&ws[1]<6)return"Cupcake";if(ws[0]===1&&ws[1]>=6)return"Donut";if(ws[0]===2&&ws[1]<2)return"Eclair";if(ws[0]===2&&ws[1]===2)return"Froyo";if(ws[0]===2&&ws[1]>2)return"Gingerbread";if(ws[0]===3)return"Honeycomb";if(ws[0]===4&&ws[1]<1)return"Ice Cream Sandwich";if(ws[0]===4&&ws[1]<4)return"Jelly Bean";if(ws[0]===4&&ws[1]>=4)return"KitKat";if(ws[0]===5)return"Lollipop";if(ws[0]===6)return"Marshmallow";if(ws[0]===7)return"Nougat";if(ws[0]===8)return"Oreo";if(ws[0]===9)return"Pie"}}static getVersionPrecision(ms){return ms.split(".").length}static compareVersions(ms,ws,Ss=!1){const Es=Utils.getVersionPrecision(ms),_s=Utils.getVersionPrecision(ws);let Is=Math.max(Es,_s),Ts=0;const Rs=Utils.map([ms,ws],Bs=>{const Ns=Is-Utils.getVersionPrecision(Bs),Ws=Bs+new Array(Ns+1).join(".0");return Utils.map(Ws.split("."),Js=>new Array(20-Js.length).join("0")+Js).reverse()});for(Ss&&(Ts=Is-Math.min(Es,_s)),Is-=1;Is>=Ts;){if(Rs[0][Is]>Rs[1][Is])return 1;if(Rs[0][Is]===Rs[1][Is]){if(Is===Ts)return 0;Is-=1}else if(Rs[0][Is]<Rs[1][Is])return-1}}static map(ms,ws){const Ss=[];let Es;if(Array.prototype.map)return Array.prototype.map.call(ms,ws);for(Es=0;Es<ms.length;Es+=1)Ss.push(ws(ms[Es]));return Ss}static find(ms,ws){let Ss,Es;if(Array.prototype.find)return Array.prototype.find.call(ms,ws);for(Ss=0,Es=ms.length;Ss<Es;Ss+=1){const _s=ms[Ss];if(ws(_s,Ss))return _s}}static assign(ms,...ws){const Ss=ms;let Es,_s;if(Object.assign)return Object.assign(ms,...ws);for(Es=0,_s=ws.length;Es<_s;Es+=1){const Is=ws[Es];typeof Is=="object"&&Is!==null&&Object.keys(Is).forEach(Rs=>{Ss[Rs]=Is[Rs]})}return ms}static getBrowserAlias(ms){return BROWSER_ALIASES_MAP[ms]}static getBrowserTypeByAlias(ms){return BROWSER_MAP[ms]||""}}const commonVersionIdentifier=/version\/(\d+(\.?_?\d+)+)/i,browsersList=[{test:[/googlebot/i],describe(vs){const ms={name:"Googlebot"},ws=Utils.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,vs)||Utils.getFirstMatch(commonVersionIdentifier,vs);return ws&&(ms.version=ws),ms}},{test:[/opera/i],describe(vs){const ms={name:"Opera"},ws=Utils.getFirstMatch(commonVersionIdentifier,vs)||Utils.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/opr\/|opios/i],describe(vs){const ms={name:"Opera"},ws=Utils.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,vs)||Utils.getFirstMatch(commonVersionIdentifier,vs);return ws&&(ms.version=ws),ms}},{test:[/SamsungBrowser/i],describe(vs){const ms={name:"Samsung Internet for Android"},ws=Utils.getFirstMatch(commonVersionIdentifier,vs)||Utils.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/Whale/i],describe(vs){const ms={name:"NAVER Whale Browser"},ws=Utils.getFirstMatch(commonVersionIdentifier,vs)||Utils.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/MZBrowser/i],describe(vs){const ms={name:"MZ Browser"},ws=Utils.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,vs)||Utils.getFirstMatch(commonVersionIdentifier,vs);return ws&&(ms.version=ws),ms}},{test:[/focus/i],describe(vs){const ms={name:"Focus"},ws=Utils.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,vs)||Utils.getFirstMatch(commonVersionIdentifier,vs);return ws&&(ms.version=ws),ms}},{test:[/swing/i],describe(vs){const ms={name:"Swing"},ws=Utils.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,vs)||Utils.getFirstMatch(commonVersionIdentifier,vs);return ws&&(ms.version=ws),ms}},{test:[/coast/i],describe(vs){const ms={name:"Opera Coast"},ws=Utils.getFirstMatch(commonVersionIdentifier,vs)||Utils.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(vs){const ms={name:"Opera Touch"},ws=Utils.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,vs)||Utils.getFirstMatch(commonVersionIdentifier,vs);return ws&&(ms.version=ws),ms}},{test:[/yabrowser/i],describe(vs){const ms={name:"Yandex Browser"},ws=Utils.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,vs)||Utils.getFirstMatch(commonVersionIdentifier,vs);return ws&&(ms.version=ws),ms}},{test:[/ucbrowser/i],describe(vs){const ms={name:"UC Browser"},ws=Utils.getFirstMatch(commonVersionIdentifier,vs)||Utils.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/Maxthon|mxios/i],describe(vs){const ms={name:"Maxthon"},ws=Utils.getFirstMatch(commonVersionIdentifier,vs)||Utils.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/epiphany/i],describe(vs){const ms={name:"Epiphany"},ws=Utils.getFirstMatch(commonVersionIdentifier,vs)||Utils.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/puffin/i],describe(vs){const ms={name:"Puffin"},ws=Utils.getFirstMatch(commonVersionIdentifier,vs)||Utils.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/sleipnir/i],describe(vs){const ms={name:"Sleipnir"},ws=Utils.getFirstMatch(commonVersionIdentifier,vs)||Utils.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/k-meleon/i],describe(vs){const ms={name:"K-Meleon"},ws=Utils.getFirstMatch(commonVersionIdentifier,vs)||Utils.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/micromessenger/i],describe(vs){const ms={name:"WeChat"},ws=Utils.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,vs)||Utils.getFirstMatch(commonVersionIdentifier,vs);return ws&&(ms.version=ws),ms}},{test:[/qqbrowser/i],describe(vs){const ms={name:/qqbrowserlite/i.test(vs)?"QQ Browser Lite":"QQ Browser"},ws=Utils.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,vs)||Utils.getFirstMatch(commonVersionIdentifier,vs);return ws&&(ms.version=ws),ms}},{test:[/msie|trident/i],describe(vs){const ms={name:"Internet Explorer"},ws=Utils.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/\sedg\//i],describe(vs){const ms={name:"Microsoft Edge"},ws=Utils.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/edg([ea]|ios)/i],describe(vs){const ms={name:"Microsoft Edge"},ws=Utils.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/vivaldi/i],describe(vs){const ms={name:"Vivaldi"},ws=Utils.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/seamonkey/i],describe(vs){const ms={name:"SeaMonkey"},ws=Utils.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/sailfish/i],describe(vs){const ms={name:"Sailfish"},ws=Utils.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/silk/i],describe(vs){const ms={name:"Amazon Silk"},ws=Utils.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/phantom/i],describe(vs){const ms={name:"PhantomJS"},ws=Utils.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/slimerjs/i],describe(vs){const ms={name:"SlimerJS"},ws=Utils.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(vs){const ms={name:"BlackBerry"},ws=Utils.getFirstMatch(commonVersionIdentifier,vs)||Utils.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/(web|hpw)[o0]s/i],describe(vs){const ms={name:"WebOS Browser"},ws=Utils.getFirstMatch(commonVersionIdentifier,vs)||Utils.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/bada/i],describe(vs){const ms={name:"Bada"},ws=Utils.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/tizen/i],describe(vs){const ms={name:"Tizen"},ws=Utils.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,vs)||Utils.getFirstMatch(commonVersionIdentifier,vs);return ws&&(ms.version=ws),ms}},{test:[/qupzilla/i],describe(vs){const ms={name:"QupZilla"},ws=Utils.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,vs)||Utils.getFirstMatch(commonVersionIdentifier,vs);return ws&&(ms.version=ws),ms}},{test:[/firefox|iceweasel|fxios/i],describe(vs){const ms={name:"Firefox"},ws=Utils.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/electron/i],describe(vs){const ms={name:"Electron"},ws=Utils.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/MiuiBrowser/i],describe(vs){const ms={name:"Miui"},ws=Utils.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/chromium/i],describe(vs){const ms={name:"Chromium"},ws=Utils.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,vs)||Utils.getFirstMatch(commonVersionIdentifier,vs);return ws&&(ms.version=ws),ms}},{test:[/chrome|crios|crmo/i],describe(vs){const ms={name:"Chrome"},ws=Utils.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/GSA/i],describe(vs){const ms={name:"Google Search"},ws=Utils.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test(vs){const ms=!vs.test(/like android/i),ws=vs.test(/android/i);return ms&&ws},describe(vs){const ms={name:"Android Browser"},ws=Utils.getFirstMatch(commonVersionIdentifier,vs);return ws&&(ms.version=ws),ms}},{test:[/playstation 4/i],describe(vs){const ms={name:"PlayStation 4"},ws=Utils.getFirstMatch(commonVersionIdentifier,vs);return ws&&(ms.version=ws),ms}},{test:[/safari|applewebkit/i],describe(vs){const ms={name:"Safari"},ws=Utils.getFirstMatch(commonVersionIdentifier,vs);return ws&&(ms.version=ws),ms}},{test:[/.*/i],describe(vs){const ms=/^(.*)\/(.*) /,ws=/^(.*)\/(.*)[ \t]\((.*)/,Es=vs.search("\\(")!==-1?ws:ms;return{name:Utils.getFirstMatch(Es,vs),version:Utils.getSecondMatch(Es,vs)}}}],osParsersList=[{test:[/Roku\/DVP/],describe(vs){const ms=Utils.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,vs);return{name:OS_MAP.Roku,version:ms}}},{test:[/windows phone/i],describe(vs){const ms=Utils.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,vs);return{name:OS_MAP.WindowsPhone,version:ms}}},{test:[/windows /i],describe(vs){const ms=Utils.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,vs),ws=Utils.getWindowsVersionName(ms);return{name:OS_MAP.Windows,version:ms,versionName:ws}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(vs){const ms={name:OS_MAP.iOS},ws=Utils.getSecondMatch(/(Version\/)(\d[\d.]+)/,vs);return ws&&(ms.version=ws),ms}},{test:[/macintosh/i],describe(vs){const ms=Utils.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,vs).replace(/[_\s]/g,"."),ws=Utils.getMacOSVersionName(ms),Ss={name:OS_MAP.MacOS,version:ms};return ws&&(Ss.versionName=ws),Ss}},{test:[/(ipod|iphone|ipad)/i],describe(vs){const ms=Utils.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,vs).replace(/[_\s]/g,".");return{name:OS_MAP.iOS,version:ms}}},{test(vs){const ms=!vs.test(/like android/i),ws=vs.test(/android/i);return ms&&ws},describe(vs){const ms=Utils.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,vs),ws=Utils.getAndroidVersionName(ms),Ss={name:OS_MAP.Android,version:ms};return ws&&(Ss.versionName=ws),Ss}},{test:[/(web|hpw)[o0]s/i],describe(vs){const ms=Utils.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,vs),ws={name:OS_MAP.WebOS};return ms&&ms.length&&(ws.version=ms),ws}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(vs){const ms=Utils.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,vs)||Utils.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,vs)||Utils.getFirstMatch(/\bbb(\d+)/i,vs);return{name:OS_MAP.BlackBerry,version:ms}}},{test:[/bada/i],describe(vs){const ms=Utils.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,vs);return{name:OS_MAP.Bada,version:ms}}},{test:[/tizen/i],describe(vs){const ms=Utils.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,vs);return{name:OS_MAP.Tizen,version:ms}}},{test:[/linux/i],describe(){return{name:OS_MAP.Linux}}},{test:[/CrOS/],describe(){return{name:OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe(vs){const ms=Utils.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,vs);return{name:OS_MAP.PlayStation4,version:ms}}}],platformParsersList=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(vs){const ms=Utils.getFirstMatch(/(can-l01)/i,vs)&&"Nova",ws={type:PLATFORMS_MAP.mobile,vendor:"Huawei"};return ms&&(ws.model=ms),ws}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:PLATFORMS_MAP.tablet}}},{test(vs){const ms=vs.test(/ipod|iphone/i),ws=vs.test(/like (ipod|iphone)/i);return ms&&!ws},describe(vs){const ms=Utils.getFirstMatch(/(ipod|iphone)/i,vs);return{type:PLATFORMS_MAP.mobile,vendor:"Apple",model:ms}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:PLATFORMS_MAP.mobile}}},{test(vs){return vs.getBrowserName(!0)==="blackberry"},describe(){return{type:PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test(vs){return vs.getBrowserName(!0)==="bada"},describe(){return{type:PLATFORMS_MAP.mobile}}},{test(vs){return vs.getBrowserName()==="windows phone"},describe(){return{type:PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test(vs){const ms=Number(String(vs.getOSVersion()).split(".")[0]);return vs.getOSName(!0)==="android"&&ms>=3},describe(){return{type:PLATFORMS_MAP.tablet}}},{test(vs){return vs.getOSName(!0)==="android"},describe(){return{type:PLATFORMS_MAP.mobile}}},{test(vs){return vs.getOSName(!0)==="macos"},describe(){return{type:PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test(vs){return vs.getOSName(!0)==="windows"},describe(){return{type:PLATFORMS_MAP.desktop}}},{test(vs){return vs.getOSName(!0)==="linux"},describe(){return{type:PLATFORMS_MAP.desktop}}},{test(vs){return vs.getOSName(!0)==="playstation 4"},describe(){return{type:PLATFORMS_MAP.tv}}},{test(vs){return vs.getOSName(!0)==="roku"},describe(){return{type:PLATFORMS_MAP.tv}}}],enginesParsersList=[{test(vs){return vs.getBrowserName(!0)==="microsoft edge"},describe(vs){if(/\sedg\//i.test(vs))return{name:ENGINE_MAP.Blink};const ws=Utils.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,vs);return{name:ENGINE_MAP.EdgeHTML,version:ws}}},{test:[/trident/i],describe(vs){const ms={name:ENGINE_MAP.Trident},ws=Utils.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test(vs){return vs.test(/presto/i)},describe(vs){const ms={name:ENGINE_MAP.Presto},ws=Utils.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test(vs){const ms=vs.test(/gecko/i),ws=vs.test(/like gecko/i);return ms&&!ws},describe(vs){const ms={name:ENGINE_MAP.Gecko},ws=Utils.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe(vs){const ms={name:ENGINE_MAP.WebKit},ws=Utils.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,vs);return ws&&(ms.version=ws),ms}}];class Parser{constructor(ms,ws=!1){if(ms==null||ms==="")throw new Error("UserAgent parameter can't be empty");this._ua=ms,this.parsedResult={},ws!==!0&&this.parse()}getUA(){return this._ua}test(ms){return ms.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const ms=Utils.find(browsersList,ws=>{if(typeof ws.test=="function")return ws.test(this);if(ws.test instanceof Array)return ws.test.some(Ss=>this.test(Ss));throw new Error("Browser's test function is not valid")});return ms&&(this.parsedResult.browser=ms.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(ms){return ms?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const ms=Utils.find(osParsersList,ws=>{if(typeof ws.test=="function")return ws.test(this);if(ws.test instanceof Array)return ws.test.some(Ss=>this.test(Ss));throw new Error("Browser's test function is not valid")});return ms&&(this.parsedResult.os=ms.describe(this.getUA())),this.parsedResult.os}getOSName(ms){const{name:ws}=this.getOS();return ms?String(ws).toLowerCase()||"":ws||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(ms=!1){const{type:ws}=this.getPlatform();return ms?String(ws).toLowerCase()||"":ws||""}parsePlatform(){this.parsedResult.platform={};const ms=Utils.find(platformParsersList,ws=>{if(typeof ws.test=="function")return ws.test(this);if(ws.test instanceof Array)return ws.test.some(Ss=>this.test(Ss));throw new Error("Browser's test function is not valid")});return ms&&(this.parsedResult.platform=ms.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(ms){return ms?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const ms=Utils.find(enginesParsersList,ws=>{if(typeof ws.test=="function")return ws.test(this);if(ws.test instanceof Array)return ws.test.some(Ss=>this.test(Ss));throw new Error("Browser's test function is not valid")});return ms&&(this.parsedResult.engine=ms.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Utils.assign({},this.parsedResult)}satisfies(ms){const ws={};let Ss=0;const Es={};let _s=0;if(Object.keys(ms).forEach(Ts=>{const Rs=ms[Ts];typeof Rs=="string"?(Es[Ts]=Rs,_s+=1):typeof Rs=="object"&&(ws[Ts]=Rs,Ss+=1)}),Ss>0){const Ts=Object.keys(ws),Rs=Utils.find(Ts,Ns=>this.isOS(Ns));if(Rs){const Ns=this.satisfies(ws[Rs]);if(Ns!==void 0)return Ns}const Bs=Utils.find(Ts,Ns=>this.isPlatform(Ns));if(Bs){const Ns=this.satisfies(ws[Bs]);if(Ns!==void 0)return Ns}}if(_s>0){const Ts=Object.keys(Es),Rs=Utils.find(Ts,Bs=>this.isBrowser(Bs,!0));if(Rs!==void 0)return this.compareVersion(Es[Rs])}}isBrowser(ms,ws=!1){const Ss=this.getBrowserName().toLowerCase();let Es=ms.toLowerCase();const _s=Utils.getBrowserTypeByAlias(Es);return ws&&_s&&(Es=_s.toLowerCase()),Es===Ss}compareVersion(ms){let ws=[0],Ss=ms,Es=!1;const _s=this.getBrowserVersion();if(typeof _s=="string")return ms[0]===">"||ms[0]==="<"?(Ss=ms.substr(1),ms[1]==="="?(Es=!0,Ss=ms.substr(2)):ws=[],ms[0]===">"?ws.push(1):ws.push(-1)):ms[0]==="="?Ss=ms.substr(1):ms[0]==="~"&&(Es=!0,Ss=ms.substr(1)),ws.indexOf(Utils.compareVersions(_s,Ss,Es))>-1}isOS(ms){return this.getOSName(!0)===String(ms).toLowerCase()}isPlatform(ms){return this.getPlatformType(!0)===String(ms).toLowerCase()}isEngine(ms){return this.getEngineName(!0)===String(ms).toLowerCase()}is(ms,ws=!1){return this.isBrowser(ms,ws)||this.isOS(ms)||this.isPlatform(ms)}some(ms=[]){return ms.some(ws=>this.is(ws))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Bowser{static getParser(ms,ws=!1){if(typeof ms!="string")throw new Error("UserAgent should be a string");return new Parser(ms,ws)}static parse(ms){return new Parser(ms).getResult()}static get BROWSER_MAP(){return BROWSER_MAP}static get ENGINE_MAP(){return ENGINE_MAP}static get OS_MAP(){return OS_MAP}static get PLATFORMS_MAP(){return PLATFORMS_MAP}}function i$1(vs,ms,ws,Ss){return new(ws||(ws=Promise))(function(Es,_s){function Is(Bs){try{Rs(Ss.next(Bs))}catch(Ns){_s(Ns)}}function Ts(Bs){try{Rs(Ss.throw(Bs))}catch(Ns){_s(Ns)}}function Rs(Bs){var Ns;Bs.done?Es(Bs.value):(Ns=Bs.value,Ns instanceof ws?Ns:new ws(function(Ws){Ws(Ns)})).then(Is,Ts)}Rs((Ss=Ss.apply(vs,[])).next())})}let r$2=class K1 extends Error{constructor(ms,ws,...Ss){super(...Ss),Error.captureStackTrace&&Error.captureStackTrace(this,K1),this.name="DeflyWalletConnectError",this.data=ms,this.message=ws}};const l$1="defly-wallet-connect-modal-wrapper",s$1="defly-wallet-redirect-modal-wrapper",c$1="defly-wallet-sign-txn-toast-wrapper",a$1="defly-wallet-sign-txn-modal-wrapper",d$1="defly-wallet-modal";function u$3(vs){const ms=document.createElement("div");return ms.setAttribute("id",vs),document.body.appendChild(ms),ms}function f$3(vs){const ms=document.getElementById(vs);ms&&ms.remove()}const v$3={WALLET:"DeflyWallet.Wallet",WALLETCONNECT:"walletconnect"};function g$3(){return typeof localStorage>"u"?void 0:localStorage}function m$3(){const vs=function(){var ws;const Ss=(ws=g$3())===null||ws===void 0?void 0:ws.getItem(v$3.WALLET);return Ss?JSON.parse(Ss):null}();let ms=null;return(vs==null?void 0:vs.type)==="defly-wallet"&&(ms="mobile"),ms}function y$3(vs){const ms=vs.slice();for(let ws=ms.length-1;ws>0;ws--){const Ss=Math.floor(Math.random()*(ws+1));[ms[ws],ms[Ss]]=[ms[Ss],ms[ws]]}return ms}const w$3="https://static.defly.app/wc-bridge-servers.json";function p$2(){return function(vs,ms={}){return fetch(vs,ms).then(ws=>ws.json()).then(ws=>ws)}(w$3,{cache:"no-store"})}function S$3(){return i$1(this,void 0,void 0,function*(){let vs={bridgeURL:"",shouldUseSound:!0,silent:!1};try{const ms=yield p$2();ms.use_sound!==void 0&&(vs.shouldUseSound=ms.use_sound),ms.silent!==void 0&&(vs.silent=ms.silent),vs=Object.assign(Object.assign({},vs),{bridgeURL:y$3(ms.servers||[])[0]||""})}catch(ms){console.log(ms)}return vs})}function T$3(vs){return Uint8Array.from(window.atob(vs),ms=>ms.charCodeAt(0))}function b$3(){return typeof navigator<"u"}function A$3(){return b$3()&&/Android/i.test(navigator.userAgent)}function E$3(){return b$3()&&/iPhone|iPad|iPod/i.test(navigator.userAgent)}function C$3(){return b$3()&&/iPhone|iPod|iPad|Android/i.test(navigator.userAgent)}function L$3(){if(!b$3())return null;const{userAgent:vs}=navigator;let ms;return ms=vs.match(/DuckDuckGo/i)?"DuckDuckGo":vs.match(/OPX/i)?"Opera GX":navigator.brave?"Brave":Bowser.getParser(navigator.userAgent).getBrowserName(),ms}function N$3({shouldUseSound:vs}){return{open:(ms={shouldUseSound:vs},ws=>{if(!document.getElementById(l$1)){const Ss=u$3(l$1),Es=`${ws}&algorand=true`,{shouldUseSound:_s}=ms;Ss.innerHTML=`<defly-wallet-connect-modal uri="${Es}" should-use-sound="${_s}"></defly-wallet-connect-modal>`}}),close:()=>f$3(l$1)};var ms}let O$3=class{constructor(ms){this.bridge=(ms==null?void 0:ms.bridge)||"",this.connector=null,this.shouldShowSignTxnToast=(ms==null?void 0:ms.shouldShowSignTxnToast)===void 0||ms.shouldShowSignTxnToast,this.chainId=ms==null?void 0:ms.chainId}get platform(){return m$3()}get isConnected(){return this.platform==="mobile"&&!!this.connector}connect(){return new Promise((ms,ws)=>i$1(this,void 0,void 0,function*(){var Ss;try{if(!((Ss=this.connector)===null||Ss===void 0)&&Ss.connected)try{yield this.connector.killSession()}catch{}const{bridgeURL:Es,shouldUseSound:_s}=yield S$3();this.connector=new WalletConnect({bridge:this.bridge||Es||"https://bridge.walletconnect.org",qrcodeModal:N$3({shouldUseSound:_s})}),yield this.connector.createSession({chainId:this.chainId||4160}),function(Is){var Ts,Rs,Bs,Ns;const Ws=document.getElementById(l$1),Js=(Rs=(Ts=Ws==null?void 0:Ws.querySelector("defly-wallet-connect-modal"))===null||Ts===void 0?void 0:Ts.shadowRoot)===null||Rs===void 0?void 0:Rs.querySelector(`.${d$1}`),$l=(Ns=(Bs=Js==null?void 0:Js.querySelector("defly-wallet-modal-header"))===null||Bs===void 0?void 0:Bs.shadowRoot)===null||Ns===void 0?void 0:Ns.getElementById("defly-wallet-modal-header-close-button");$l==null||$l.addEventListener("click",()=>{Is(),f$3(l$1)})}(()=>ws(new r$2({type:"CONNECT_MODAL_CLOSED"},"Connect modal is closed by user"))),this.connector.on("connect",(Is,Ts)=>{var Rs,Bs;Is&&ws(Is),ms(((Rs=this.connector)===null||Rs===void 0?void 0:Rs.accounts)||[]),function(Ns,Ws){var Js;(Js=g$3())===null||Js===void 0||Js.setItem(v$3.WALLET,JSON.stringify({type:Ws||"defly-wallet",accounts:Ns,selectedAccount:Ns[0]}))}(((Bs=this.connector)===null||Bs===void 0?void 0:Bs.accounts)||[])})}catch(Es){ws(new r$2({type:"SESSION_CONNECT",detail:Es},Es.message||"There was an error while connecting to Defly Wallet"))}}))}reconnectSession(){return new Promise((ms,ws)=>i$1(this,void 0,void 0,function*(){var Ss,Es;try{this.connector&&ms(this.connector.accounts||[]),this.bridge=((Ss=function(){var _s;const Is=(_s=g$3())===null||_s===void 0?void 0:_s.getItem(v$3.WALLETCONNECT);return Is?JSON.parse(Is):null}())===null||Ss===void 0?void 0:Ss.bridge)||"",this.bridge&&(this.connector=new WalletConnect({bridge:this.bridge}),ms(((Es=this.connector)===null||Es===void 0?void 0:Es.accounts)||[])),this.isConnected||ms([])}catch(_s){yield this.disconnect(),ws(new r$2({type:"SESSION_RECONNECT",detail:_s},_s.message||"There was an error while reconnecting to Defly Wallet"))}}))}disconnect(){var ms;return i$1(this,void 0,void 0,function*(){let ws;this.isConnected&&this.platform==="mobile"&&(ws=(ms=this.connector)===null||ms===void 0?void 0:ms.killSession(),ws==null||ws.then(()=>{this.connector=null})),yield new Promise((Ss,Es)=>{var _s,Is;try{(_s=g$3())===null||_s===void 0||_s.removeItem(v$3.WALLETCONNECT),(Is=g$3())===null||Is===void 0||Is.removeItem(v$3.WALLET),Ss(void 0)}catch(Ts){Es(Ts)}})})}signTransactionWithMobile(ms){return i$1(this,void 0,void 0,function*(){const ws=(Ss="algo_signTxn",Es=[ms],{id:Date.now()*Math.pow(10,3)+Math.floor(Math.random()*Math.pow(10,3)),jsonrpc:"2.0",method:Ss,params:Es});var Ss,Es;try{try{const{silent:_s}=yield S$3(),Is=(yield this.connector.sendCustomRequest(ws,{forcePushNotification:!_s})).filter(Boolean);return typeof Is[0]=="string"?Is.map(T$3):Is.map(Ts=>Uint8Array.from(Ts))}catch(_s){return yield Promise.reject(new r$2({type:"SIGN_TRANSACTIONS",detail:_s},_s.message||"Failed to sign transaction"))}}finally{f$3(s$1),f$3(c$1)}})}signTransaction(ms,ws){return i$1(this,void 0,void 0,function*(){if(this.platform==="mobile"&&(C$3()?u$3(s$1).innerHTML="<defly-wallet-redirect-modal></defly-wallet-redirect-modal>":!C$3()&&this.shouldShowSignTxnToast&&(u$3(c$1).innerHTML="<defly-wallet-sign-txn-toast></defly-wallet-sign-txn-toast>"),!this.connector))throw new Error("DeflyWalletConnect was not initialized correctly.");const Ss=ms.flatMap(Es=>Es.map(_s=>function(Is,Ts){let Rs;Ts&&!(Is.signers||[]).includes(Ts)&&(Rs=[]);const Bs={txn:(Ns=Is.txn,Buffer.from(algosdk.encodeUnsignedTransaction(Ns)).toString("base64"))};var Ns;return Array.isArray(Rs)&&(Bs.signers=Rs),Is.authAddr&&(Bs.authAddr=Is.authAddr),Is.message&&(Bs.message=Is.message),Is.msig&&(Bs.msig=Is.msig),Bs}(_s,ws)));return this.signTransactionWithMobile(Ss)})}};typeof window<"u"&&(window.global=window,window.Buffer=window.Buffer||buffer.Buffer,Promise.resolve().then(()=>App58ab7d48));const index$1=Object.freeze(Object.defineProperty({__proto__:null,DeflyWalletConnect:O$3},Symbol.toStringTag,{value:"Module"})),useWallet$2={},useWallet$3=Object.freeze(Object.defineProperty({__proto__:null,default:useWallet$2},Symbol.toStringTag,{value:"Module"})),useWallet={},useWallet$1=Object.freeze(Object.defineProperty({__proto__:null,default:useWallet},Symbol.toStringTag,{value:"Module"}));var r$1=typeof window<"u"?window:typeof self<"u"?self:typeof window<"u"?window:{},o=[],i=[],s=typeof Uint8Array<"u"?Uint8Array:Array,a=!1;function l(){a=!0;for(var vs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ms=0;ms<64;++ms)o[ms]=vs[ms],i[vs.charCodeAt(ms)]=ms;i[45]=62,i[95]=63}function u$2(vs,ms,ws){for(var Ss,Es,_s=[],Is=ms;Is<ws;Is+=3)Ss=(vs[Is]<<16)+(vs[Is+1]<<8)+vs[Is+2],_s.push(o[(Es=Ss)>>18&63]+o[Es>>12&63]+o[Es>>6&63]+o[63&Es]);return _s.join("")}function c(vs){var ms;a||l();for(var ws=vs.length,Ss=ws%3,Es="",_s=[],Is=16383,Ts=0,Rs=ws-Ss;Ts<Rs;Ts+=Is)_s.push(u$2(vs,Ts,Ts+Is>Rs?Rs:Ts+Is));return Ss===1?(ms=vs[ws-1],Es+=o[ms>>2],Es+=o[ms<<4&63],Es+="=="):Ss===2&&(ms=(vs[ws-2]<<8)+vs[ws-1],Es+=o[ms>>10],Es+=o[ms>>4&63],Es+=o[ms<<2&63],Es+="="),_s.push(Es),_s.join("")}function h$2(vs,ms,ws,Ss,Es){var _s,Is,Ts=8*Es-Ss-1,Rs=(1<<Ts)-1,Bs=Rs>>1,Ns=-7,Ws=ws?Es-1:0,Js=ws?-1:1,$l=vs[ms+Ws];for(Ws+=Js,_s=$l&(1<<-Ns)-1,$l>>=-Ns,Ns+=Ts;Ns>0;_s=256*_s+vs[ms+Ws],Ws+=Js,Ns-=8);for(Is=_s&(1<<-Ns)-1,_s>>=-Ns,Ns+=Ss;Ns>0;Is=256*Is+vs[ms+Ws],Ws+=Js,Ns-=8);if(_s===0)_s=1-Bs;else{if(_s===Rs)return Is?NaN:1/0*($l?-1:1);Is+=Math.pow(2,Ss),_s-=Bs}return($l?-1:1)*Is*Math.pow(2,_s-Ss)}function f$2(vs,ms,ws,Ss,Es,_s){var Is,Ts,Rs,Bs=8*_s-Es-1,Ns=(1<<Bs)-1,Ws=Ns>>1,Js=Es===23?Math.pow(2,-24)-Math.pow(2,-77):0,$l=Ss?0:_s-1,wl=Ss?1:-1,_l=ms<0||ms===0&&1/ms<0?1:0;for(ms=Math.abs(ms),isNaN(ms)||ms===1/0?(Ts=isNaN(ms)?1:0,Is=Ns):(Is=Math.floor(Math.log(ms)/Math.LN2),ms*(Rs=Math.pow(2,-Is))<1&&(Is--,Rs*=2),(ms+=Is+Ws>=1?Js/Rs:Js*Math.pow(2,1-Ws))*Rs>=2&&(Is++,Rs/=2),Is+Ws>=Ns?(Ts=0,Is=Ns):Is+Ws>=1?(Ts=(ms*Rs-1)*Math.pow(2,Es),Is+=Ws):(Ts=ms*Math.pow(2,Ws-1)*Math.pow(2,Es),Is=0));Es>=8;vs[ws+$l]=255&Ts,$l+=wl,Ts/=256,Es-=8);for(Is=Is<<Es|Ts,Bs+=Es;Bs>0;vs[ws+$l]=255&Is,$l+=wl,Is/=256,Bs-=8);vs[ws+$l-wl]|=128*_l}var d={}.toString,p$1=Array.isArray||function(vs){return d.call(vs)=="[object Array]"};function g$2(){return y$2.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function w$2(vs,ms){if(g$2()<ms)throw new RangeError("Invalid typed array length");return y$2.TYPED_ARRAY_SUPPORT?(vs=new Uint8Array(ms)).__proto__=y$2.prototype:(vs===null&&(vs=new y$2(ms)),vs.length=ms),vs}function y$2(vs,ms,ws){if(!(y$2.TYPED_ARRAY_SUPPORT||this instanceof y$2))return new y$2(vs,ms,ws);if(typeof vs=="number"){if(typeof ms=="string")throw new Error("If encoding is specified then the first argument must be a string");return b$2(this,vs)}return v$2(this,vs,ms,ws)}function v$2(vs,ms,ws,Ss){if(typeof ms=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&ms instanceof ArrayBuffer?function(Es,_s,Is,Ts){if(_s.byteLength,Is<0||_s.byteLength<Is)throw new RangeError("'offset' is out of bounds");if(_s.byteLength<Is+(Ts||0))throw new RangeError("'length' is out of bounds");return _s=Is===void 0&&Ts===void 0?new Uint8Array(_s):Ts===void 0?new Uint8Array(_s,Is):new Uint8Array(_s,Is,Ts),y$2.TYPED_ARRAY_SUPPORT?(Es=_s).__proto__=y$2.prototype:Es=A$2(Es,_s),Es}(vs,ms,ws,Ss):typeof ms=="string"?function(Es,_s,Is){if(typeof Is=="string"&&Is!==""||(Is="utf8"),!y$2.isEncoding(Is))throw new TypeError('"encoding" must be a valid string encoding');var Ts=0|_$2(_s,Is);Es=w$2(Es,Ts);var Rs=Es.write(_s,Is);return Rs!==Ts&&(Es=Es.slice(0,Rs)),Es}(vs,ms,ws):function(Es,_s){if(T$2(_s)){var Is=0|E$2(_s.length);return(Es=w$2(Es,Is)).length===0||_s.copy(Es,0,0,Is),Es}if(_s){if(typeof ArrayBuffer<"u"&&_s.buffer instanceof ArrayBuffer||"length"in _s)return typeof _s.length!="number"||(Ts=_s.length)!=Ts?w$2(Es,0):A$2(Es,_s);if(_s.type==="Buffer"&&p$1(_s.data))return A$2(Es,_s.data)}var Ts;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(vs,ms)}function m$2(vs){if(typeof vs!="number")throw new TypeError('"size" argument must be a number');if(vs<0)throw new RangeError('"size" argument must not be negative')}function b$2(vs,ms){if(m$2(ms),vs=w$2(vs,ms<0?0:0|E$2(ms)),!y$2.TYPED_ARRAY_SUPPORT)for(var ws=0;ws<ms;++ws)vs[ws]=0;return vs}function A$2(vs,ms){var ws=ms.length<0?0:0|E$2(ms.length);vs=w$2(vs,ws);for(var Ss=0;Ss<ws;Ss+=1)vs[Ss]=255&ms[Ss];return vs}function E$2(vs){if(vs>=g$2())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g$2().toString(16)+" bytes");return 0|vs}function T$2(vs){return!(vs==null||!vs._isBuffer)}function _$2(vs,ms){if(T$2(vs))return vs.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(vs)||vs instanceof ArrayBuffer))return vs.byteLength;typeof vs!="string"&&(vs=""+vs);var ws=vs.length;if(ws===0)return 0;for(var Ss=!1;;)switch(ms){case"ascii":case"latin1":case"binary":return ws;case"utf8":case"utf-8":case void 0:return V$2(vs).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ws;case"hex":return ws>>>1;case"base64":return Z$2(vs).length;default:if(Ss)return V$2(vs).length;ms=(""+ms).toLowerCase(),Ss=!0}}function R$2(vs,ms,ws){var Ss=!1;if((ms===void 0||ms<0)&&(ms=0),ms>this.length||((ws===void 0||ws>this.length)&&(ws=this.length),ws<=0)||(ws>>>=0)<=(ms>>>=0))return"";for(vs||(vs="utf8");;)switch(vs){case"hex":return k$2(this,ms,ws);case"utf8":case"utf-8":return W$2(this,ms,ws);case"ascii":return x$2(this,ms,ws);case"latin1":case"binary":return Y$2(this,ms,ws);case"base64":return B$2(this,ms,ws);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j$2(this,ms,ws);default:if(Ss)throw new TypeError("Unknown encoding: "+vs);vs=(vs+"").toLowerCase(),Ss=!0}}function S$2(vs,ms,ws){var Ss=vs[ms];vs[ms]=vs[ws],vs[ws]=Ss}function N$2(vs,ms,ws,Ss,Es){if(vs.length===0)return-1;if(typeof ws=="string"?(Ss=ws,ws=0):ws>2147483647?ws=2147483647:ws<-2147483648&&(ws=-2147483648),ws=+ws,isNaN(ws)&&(ws=Es?0:vs.length-1),ws<0&&(ws=vs.length+ws),ws>=vs.length){if(Es)return-1;ws=vs.length-1}else if(ws<0){if(!Es)return-1;ws=0}if(typeof ms=="string"&&(ms=y$2.from(ms,Ss)),T$2(ms))return ms.length===0?-1:C$2(vs,ms,ws,Ss,Es);if(typeof ms=="number")return ms&=255,y$2.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Es?Uint8Array.prototype.indexOf.call(vs,ms,ws):Uint8Array.prototype.lastIndexOf.call(vs,ms,ws):C$2(vs,[ms],ws,Ss,Es);throw new TypeError("val must be string, number or Buffer")}function C$2(vs,ms,ws,Ss,Es){var _s,Is=1,Ts=vs.length,Rs=ms.length;if(Ss!==void 0&&((Ss=String(Ss).toLowerCase())==="ucs2"||Ss==="ucs-2"||Ss==="utf16le"||Ss==="utf-16le")){if(vs.length<2||ms.length<2)return-1;Is=2,Ts/=2,Rs/=2,ws/=2}function Bs($l,wl){return Is===1?$l[wl]:$l.readUInt16BE(wl*Is)}if(Es){var Ns=-1;for(_s=ws;_s<Ts;_s++)if(Bs(vs,_s)===Bs(ms,Ns===-1?0:_s-Ns)){if(Ns===-1&&(Ns=_s),_s-Ns+1===Rs)return Ns*Is}else Ns!==-1&&(_s-=_s-Ns),Ns=-1}else for(ws+Rs>Ts&&(ws=Ts-Rs),_s=ws;_s>=0;_s--){for(var Ws=!0,Js=0;Js<Rs;Js++)if(Bs(vs,_s+Js)!==Bs(ms,Js)){Ws=!1;break}if(Ws)return _s}return-1}function I$2(vs,ms,ws,Ss){ws=Number(ws)||0;var Es=vs.length-ws;Ss?(Ss=Number(Ss))>Es&&(Ss=Es):Ss=Es;var _s=ms.length;if(_s%2!=0)throw new TypeError("Invalid hex string");Ss>_s/2&&(Ss=_s/2);for(var Is=0;Is<Ss;++Is){var Ts=parseInt(ms.substr(2*Is,2),16);if(isNaN(Ts))return Is;vs[ws+Is]=Ts}return Is}function P$2(vs,ms,ws,Ss){return Q$2(V$2(ms,vs.length-ws),vs,ws,Ss)}function O$2(vs,ms,ws,Ss){return Q$2(function(Es){for(var _s=[],Is=0;Is<Es.length;++Is)_s.push(255&Es.charCodeAt(Is));return _s}(ms),vs,ws,Ss)}function L$2(vs,ms,ws,Ss){return O$2(vs,ms,ws,Ss)}function M$2(vs,ms,ws,Ss){return Q$2(Z$2(ms),vs,ws,Ss)}function U$2(vs,ms,ws,Ss){return Q$2(function(Es,_s){for(var Is,Ts,Rs,Bs=[],Ns=0;Ns<Es.length&&!((_s-=2)<0);++Ns)Ts=(Is=Es.charCodeAt(Ns))>>8,Rs=Is%256,Bs.push(Rs),Bs.push(Ts);return Bs}(ms,vs.length-ws),vs,ws,Ss)}function B$2(vs,ms,ws){return ms===0&&ws===vs.length?c(vs):c(vs.slice(ms,ws))}function W$2(vs,ms,ws){ws=Math.min(vs.length,ws);for(var Ss=[],Es=ms;Es<ws;){var _s,Is,Ts,Rs,Bs=vs[Es],Ns=null,Ws=Bs>239?4:Bs>223?3:Bs>191?2:1;if(Es+Ws<=ws)switch(Ws){case 1:Bs<128&&(Ns=Bs);break;case 2:(192&(_s=vs[Es+1]))==128&&(Rs=(31&Bs)<<6|63&_s)>127&&(Ns=Rs);break;case 3:_s=vs[Es+1],Is=vs[Es+2],(192&_s)==128&&(192&Is)==128&&(Rs=(15&Bs)<<12|(63&_s)<<6|63&Is)>2047&&(Rs<55296||Rs>57343)&&(Ns=Rs);break;case 4:_s=vs[Es+1],Is=vs[Es+2],Ts=vs[Es+3],(192&_s)==128&&(192&Is)==128&&(192&Ts)==128&&(Rs=(15&Bs)<<18|(63&_s)<<12|(63&Is)<<6|63&Ts)>65535&&Rs<1114112&&(Ns=Rs)}Ns===null?(Ns=65533,Ws=1):Ns>65535&&(Ns-=65536,Ss.push(Ns>>>10&1023|55296),Ns=56320|1023&Ns),Ss.push(Ns),Es+=Ws}return function(Js){var $l=Js.length;if($l<=D$2)return String.fromCharCode.apply(String,Js);for(var wl="",_l=0;_l<$l;)wl+=String.fromCharCode.apply(String,Js.slice(_l,_l+=D$2));return wl}(Ss)}y$2.TYPED_ARRAY_SUPPORT=r$1.TYPED_ARRAY_SUPPORT===void 0||r$1.TYPED_ARRAY_SUPPORT,g$2(),y$2.poolSize=8192,y$2._augment=function(vs){return vs.__proto__=y$2.prototype,vs},y$2.from=function(vs,ms,ws){return v$2(null,vs,ms,ws)},y$2.TYPED_ARRAY_SUPPORT&&(y$2.prototype.__proto__=Uint8Array.prototype,y$2.__proto__=Uint8Array),y$2.alloc=function(vs,ms,ws){return function(Ss,Es,_s,Is){return m$2(Es),Es<=0?w$2(Ss,Es):_s!==void 0?typeof Is=="string"?w$2(Ss,Es).fill(_s,Is):w$2(Ss,Es).fill(_s):w$2(Ss,Es)}(null,vs,ms,ws)},y$2.allocUnsafe=function(vs){return b$2(null,vs)},y$2.allocUnsafeSlow=function(vs){return b$2(null,vs)},y$2.isBuffer=function(vs){return vs!=null&&(!!vs._isBuffer||tt(vs)||function(ms){return typeof ms.readFloatLE=="function"&&typeof ms.slice=="function"&&tt(ms.slice(0,0))}(vs))},y$2.compare=function(vs,ms){if(!T$2(vs)||!T$2(ms))throw new TypeError("Arguments must be Buffers");if(vs===ms)return 0;for(var ws=vs.length,Ss=ms.length,Es=0,_s=Math.min(ws,Ss);Es<_s;++Es)if(vs[Es]!==ms[Es]){ws=vs[Es],Ss=ms[Es];break}return ws<Ss?-1:Ss<ws?1:0},y$2.isEncoding=function(vs){switch(String(vs).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y$2.concat=function(vs,ms){if(!p$1(vs))throw new TypeError('"list" argument must be an Array of Buffers');if(vs.length===0)return y$2.alloc(0);var ws;if(ms===void 0)for(ms=0,ws=0;ws<vs.length;++ws)ms+=vs[ws].length;var Ss=y$2.allocUnsafe(ms),Es=0;for(ws=0;ws<vs.length;++ws){var _s=vs[ws];if(!T$2(_s))throw new TypeError('"list" argument must be an Array of Buffers');_s.copy(Ss,Es),Es+=_s.length}return Ss},y$2.byteLength=_$2,y$2.prototype._isBuffer=!0,y$2.prototype.swap16=function(){var vs=this.length;if(vs%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ms=0;ms<vs;ms+=2)S$2(this,ms,ms+1);return this},y$2.prototype.swap32=function(){var vs=this.length;if(vs%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ms=0;ms<vs;ms+=4)S$2(this,ms,ms+3),S$2(this,ms+1,ms+2);return this},y$2.prototype.swap64=function(){var vs=this.length;if(vs%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ms=0;ms<vs;ms+=8)S$2(this,ms,ms+7),S$2(this,ms+1,ms+6),S$2(this,ms+2,ms+5),S$2(this,ms+3,ms+4);return this},y$2.prototype.toString=function(){var vs=0|this.length;return vs===0?"":arguments.length===0?W$2(this,0,vs):R$2.apply(this,arguments)},y$2.prototype.equals=function(vs){if(!T$2(vs))throw new TypeError("Argument must be a Buffer");return this===vs||y$2.compare(this,vs)===0},y$2.prototype.inspect=function(){var vs="";return this.length>0&&(vs=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(vs+=" ... ")),"<Buffer "+vs+">"},y$2.prototype.compare=function(vs,ms,ws,Ss,Es){if(!T$2(vs))throw new TypeError("Argument must be a Buffer");if(ms===void 0&&(ms=0),ws===void 0&&(ws=vs?vs.length:0),Ss===void 0&&(Ss=0),Es===void 0&&(Es=this.length),ms<0||ws>vs.length||Ss<0||Es>this.length)throw new RangeError("out of range index");if(Ss>=Es&&ms>=ws)return 0;if(Ss>=Es)return-1;if(ms>=ws)return 1;if(this===vs)return 0;for(var _s=(Es>>>=0)-(Ss>>>=0),Is=(ws>>>=0)-(ms>>>=0),Ts=Math.min(_s,Is),Rs=this.slice(Ss,Es),Bs=vs.slice(ms,ws),Ns=0;Ns<Ts;++Ns)if(Rs[Ns]!==Bs[Ns]){_s=Rs[Ns],Is=Bs[Ns];break}return _s<Is?-1:Is<_s?1:0},y$2.prototype.includes=function(vs,ms,ws){return this.indexOf(vs,ms,ws)!==-1},y$2.prototype.indexOf=function(vs,ms,ws){return N$2(this,vs,ms,ws,!0)},y$2.prototype.lastIndexOf=function(vs,ms,ws){return N$2(this,vs,ms,ws,!1)},y$2.prototype.write=function(vs,ms,ws,Ss){if(ms===void 0)Ss="utf8",ws=this.length,ms=0;else if(ws===void 0&&typeof ms=="string")Ss=ms,ws=this.length,ms=0;else{if(!isFinite(ms))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ms|=0,isFinite(ws)?(ws|=0,Ss===void 0&&(Ss="utf8")):(Ss=ws,ws=void 0)}var Es=this.length-ms;if((ws===void 0||ws>Es)&&(ws=Es),vs.length>0&&(ws<0||ms<0)||ms>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ss||(Ss="utf8");for(var _s=!1;;)switch(Ss){case"hex":return I$2(this,vs,ms,ws);case"utf8":case"utf-8":return P$2(this,vs,ms,ws);case"ascii":return O$2(this,vs,ms,ws);case"latin1":case"binary":return L$2(this,vs,ms,ws);case"base64":return M$2(this,vs,ms,ws);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U$2(this,vs,ms,ws);default:if(_s)throw new TypeError("Unknown encoding: "+Ss);Ss=(""+Ss).toLowerCase(),_s=!0}},y$2.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var D$2=4096;function x$2(vs,ms,ws){var Ss="";ws=Math.min(vs.length,ws);for(var Es=ms;Es<ws;++Es)Ss+=String.fromCharCode(127&vs[Es]);return Ss}function Y$2(vs,ms,ws){var Ss="";ws=Math.min(vs.length,ws);for(var Es=ms;Es<ws;++Es)Ss+=String.fromCharCode(vs[Es]);return Ss}function k$2(vs,ms,ws){var Ss=vs.length;(!ms||ms<0)&&(ms=0),(!ws||ws<0||ws>Ss)&&(ws=Ss);for(var Es="",_s=ms;_s<ws;++_s)Es+=J$2(vs[_s]);return Es}function j$2(vs,ms,ws){for(var Ss=vs.slice(ms,ws),Es="",_s=0;_s<Ss.length;_s+=2)Es+=String.fromCharCode(Ss[_s]+256*Ss[_s+1]);return Es}function $$2(vs,ms,ws){if(vs%1!=0||vs<0)throw new RangeError("offset is not uint");if(vs+ms>ws)throw new RangeError("Trying to access beyond buffer length")}function G$2(vs,ms,ws,Ss,Es,_s){if(!T$2(vs))throw new TypeError('"buffer" argument must be a Buffer instance');if(ms>Es||ms<_s)throw new RangeError('"value" argument is out of bounds');if(ws+Ss>vs.length)throw new RangeError("Index out of range")}function q$2(vs,ms,ws,Ss){ms<0&&(ms=65535+ms+1);for(var Es=0,_s=Math.min(vs.length-ws,2);Es<_s;++Es)vs[ws+Es]=(ms&255<<8*(Ss?Es:1-Es))>>>8*(Ss?Es:1-Es)}function z$2(vs,ms,ws,Ss){ms<0&&(ms=4294967295+ms+1);for(var Es=0,_s=Math.min(vs.length-ws,4);Es<_s;++Es)vs[ws+Es]=ms>>>8*(Ss?Es:3-Es)&255}function F$2(vs,ms,ws,Ss,Es,_s){if(ws+Ss>vs.length)throw new RangeError("Index out of range");if(ws<0)throw new RangeError("Index out of range")}function H$2(vs,ms,ws,Ss,Es){return Es||F$2(vs,0,ws,4),f$2(vs,ms,ws,Ss,23,4),ws+4}function K$2(vs,ms,ws,Ss,Es){return Es||F$2(vs,0,ws,8),f$2(vs,ms,ws,Ss,52,8),ws+8}y$2.prototype.slice=function(vs,ms){var ws,Ss=this.length;if((vs=~~vs)<0?(vs+=Ss)<0&&(vs=0):vs>Ss&&(vs=Ss),(ms=ms===void 0?Ss:~~ms)<0?(ms+=Ss)<0&&(ms=0):ms>Ss&&(ms=Ss),ms<vs&&(ms=vs),y$2.TYPED_ARRAY_SUPPORT)(ws=this.subarray(vs,ms)).__proto__=y$2.prototype;else{var Es=ms-vs;ws=new y$2(Es,void 0);for(var _s=0;_s<Es;++_s)ws[_s]=this[_s+vs]}return ws},y$2.prototype.readUIntLE=function(vs,ms,ws){vs|=0,ms|=0,ws||$$2(vs,ms,this.length);for(var Ss=this[vs],Es=1,_s=0;++_s<ms&&(Es*=256);)Ss+=this[vs+_s]*Es;return Ss},y$2.prototype.readUIntBE=function(vs,ms,ws){vs|=0,ms|=0,ws||$$2(vs,ms,this.length);for(var Ss=this[vs+--ms],Es=1;ms>0&&(Es*=256);)Ss+=this[vs+--ms]*Es;return Ss},y$2.prototype.readUInt8=function(vs,ms){return ms||$$2(vs,1,this.length),this[vs]},y$2.prototype.readUInt16LE=function(vs,ms){return ms||$$2(vs,2,this.length),this[vs]|this[vs+1]<<8},y$2.prototype.readUInt16BE=function(vs,ms){return ms||$$2(vs,2,this.length),this[vs]<<8|this[vs+1]},y$2.prototype.readUInt32LE=function(vs,ms){return ms||$$2(vs,4,this.length),(this[vs]|this[vs+1]<<8|this[vs+2]<<16)+16777216*this[vs+3]},y$2.prototype.readUInt32BE=function(vs,ms){return ms||$$2(vs,4,this.length),16777216*this[vs]+(this[vs+1]<<16|this[vs+2]<<8|this[vs+3])},y$2.prototype.readIntLE=function(vs,ms,ws){vs|=0,ms|=0,ws||$$2(vs,ms,this.length);for(var Ss=this[vs],Es=1,_s=0;++_s<ms&&(Es*=256);)Ss+=this[vs+_s]*Es;return Ss>=(Es*=128)&&(Ss-=Math.pow(2,8*ms)),Ss},y$2.prototype.readIntBE=function(vs,ms,ws){vs|=0,ms|=0,ws||$$2(vs,ms,this.length);for(var Ss=ms,Es=1,_s=this[vs+--Ss];Ss>0&&(Es*=256);)_s+=this[vs+--Ss]*Es;return _s>=(Es*=128)&&(_s-=Math.pow(2,8*ms)),_s},y$2.prototype.readInt8=function(vs,ms){return ms||$$2(vs,1,this.length),128&this[vs]?-1*(255-this[vs]+1):this[vs]},y$2.prototype.readInt16LE=function(vs,ms){ms||$$2(vs,2,this.length);var ws=this[vs]|this[vs+1]<<8;return 32768&ws?4294901760|ws:ws},y$2.prototype.readInt16BE=function(vs,ms){ms||$$2(vs,2,this.length);var ws=this[vs+1]|this[vs]<<8;return 32768&ws?4294901760|ws:ws},y$2.prototype.readInt32LE=function(vs,ms){return ms||$$2(vs,4,this.length),this[vs]|this[vs+1]<<8|this[vs+2]<<16|this[vs+3]<<24},y$2.prototype.readInt32BE=function(vs,ms){return ms||$$2(vs,4,this.length),this[vs]<<24|this[vs+1]<<16|this[vs+2]<<8|this[vs+3]},y$2.prototype.readFloatLE=function(vs,ms){return ms||$$2(vs,4,this.length),h$2(this,vs,!0,23,4)},y$2.prototype.readFloatBE=function(vs,ms){return ms||$$2(vs,4,this.length),h$2(this,vs,!1,23,4)},y$2.prototype.readDoubleLE=function(vs,ms){return ms||$$2(vs,8,this.length),h$2(this,vs,!0,52,8)},y$2.prototype.readDoubleBE=function(vs,ms){return ms||$$2(vs,8,this.length),h$2(this,vs,!1,52,8)},y$2.prototype.writeUIntLE=function(vs,ms,ws,Ss){vs=+vs,ms|=0,ws|=0,Ss||G$2(this,vs,ms,ws,Math.pow(2,8*ws)-1,0);var Es=1,_s=0;for(this[ms]=255&vs;++_s<ws&&(Es*=256);)this[ms+_s]=vs/Es&255;return ms+ws},y$2.prototype.writeUIntBE=function(vs,ms,ws,Ss){vs=+vs,ms|=0,ws|=0,Ss||G$2(this,vs,ms,ws,Math.pow(2,8*ws)-1,0);var Es=ws-1,_s=1;for(this[ms+Es]=255&vs;--Es>=0&&(_s*=256);)this[ms+Es]=vs/_s&255;return ms+ws},y$2.prototype.writeUInt8=function(vs,ms,ws){return vs=+vs,ms|=0,ws||G$2(this,vs,ms,1,255,0),y$2.TYPED_ARRAY_SUPPORT||(vs=Math.floor(vs)),this[ms]=255&vs,ms+1},y$2.prototype.writeUInt16LE=function(vs,ms,ws){return vs=+vs,ms|=0,ws||G$2(this,vs,ms,2,65535,0),y$2.TYPED_ARRAY_SUPPORT?(this[ms]=255&vs,this[ms+1]=vs>>>8):q$2(this,vs,ms,!0),ms+2},y$2.prototype.writeUInt16BE=function(vs,ms,ws){return vs=+vs,ms|=0,ws||G$2(this,vs,ms,2,65535,0),y$2.TYPED_ARRAY_SUPPORT?(this[ms]=vs>>>8,this[ms+1]=255&vs):q$2(this,vs,ms,!1),ms+2},y$2.prototype.writeUInt32LE=function(vs,ms,ws){return vs=+vs,ms|=0,ws||G$2(this,vs,ms,4,4294967295,0),y$2.TYPED_ARRAY_SUPPORT?(this[ms+3]=vs>>>24,this[ms+2]=vs>>>16,this[ms+1]=vs>>>8,this[ms]=255&vs):z$2(this,vs,ms,!0),ms+4},y$2.prototype.writeUInt32BE=function(vs,ms,ws){return vs=+vs,ms|=0,ws||G$2(this,vs,ms,4,4294967295,0),y$2.TYPED_ARRAY_SUPPORT?(this[ms]=vs>>>24,this[ms+1]=vs>>>16,this[ms+2]=vs>>>8,this[ms+3]=255&vs):z$2(this,vs,ms,!1),ms+4},y$2.prototype.writeIntLE=function(vs,ms,ws,Ss){if(vs=+vs,ms|=0,!Ss){var Es=Math.pow(2,8*ws-1);G$2(this,vs,ms,ws,Es-1,-Es)}var _s=0,Is=1,Ts=0;for(this[ms]=255&vs;++_s<ws&&(Is*=256);)vs<0&&Ts===0&&this[ms+_s-1]!==0&&(Ts=1),this[ms+_s]=(vs/Is|0)-Ts&255;return ms+ws},y$2.prototype.writeIntBE=function(vs,ms,ws,Ss){if(vs=+vs,ms|=0,!Ss){var Es=Math.pow(2,8*ws-1);G$2(this,vs,ms,ws,Es-1,-Es)}var _s=ws-1,Is=1,Ts=0;for(this[ms+_s]=255&vs;--_s>=0&&(Is*=256);)vs<0&&Ts===0&&this[ms+_s+1]!==0&&(Ts=1),this[ms+_s]=(vs/Is|0)-Ts&255;return ms+ws},y$2.prototype.writeInt8=function(vs,ms,ws){return vs=+vs,ms|=0,ws||G$2(this,vs,ms,1,127,-128),y$2.TYPED_ARRAY_SUPPORT||(vs=Math.floor(vs)),vs<0&&(vs=255+vs+1),this[ms]=255&vs,ms+1},y$2.prototype.writeInt16LE=function(vs,ms,ws){return vs=+vs,ms|=0,ws||G$2(this,vs,ms,2,32767,-32768),y$2.TYPED_ARRAY_SUPPORT?(this[ms]=255&vs,this[ms+1]=vs>>>8):q$2(this,vs,ms,!0),ms+2},y$2.prototype.writeInt16BE=function(vs,ms,ws){return vs=+vs,ms|=0,ws||G$2(this,vs,ms,2,32767,-32768),y$2.TYPED_ARRAY_SUPPORT?(this[ms]=vs>>>8,this[ms+1]=255&vs):q$2(this,vs,ms,!1),ms+2},y$2.prototype.writeInt32LE=function(vs,ms,ws){return vs=+vs,ms|=0,ws||G$2(this,vs,ms,4,2147483647,-2147483648),y$2.TYPED_ARRAY_SUPPORT?(this[ms]=255&vs,this[ms+1]=vs>>>8,this[ms+2]=vs>>>16,this[ms+3]=vs>>>24):z$2(this,vs,ms,!0),ms+4},y$2.prototype.writeInt32BE=function(vs,ms,ws){return vs=+vs,ms|=0,ws||G$2(this,vs,ms,4,2147483647,-2147483648),vs<0&&(vs=4294967295+vs+1),y$2.TYPED_ARRAY_SUPPORT?(this[ms]=vs>>>24,this[ms+1]=vs>>>16,this[ms+2]=vs>>>8,this[ms+3]=255&vs):z$2(this,vs,ms,!1),ms+4},y$2.prototype.writeFloatLE=function(vs,ms,ws){return H$2(this,vs,ms,!0,ws)},y$2.prototype.writeFloatBE=function(vs,ms,ws){return H$2(this,vs,ms,!1,ws)},y$2.prototype.writeDoubleLE=function(vs,ms,ws){return K$2(this,vs,ms,!0,ws)},y$2.prototype.writeDoubleBE=function(vs,ms,ws){return K$2(this,vs,ms,!1,ws)},y$2.prototype.copy=function(vs,ms,ws,Ss){if(ws||(ws=0),Ss||Ss===0||(Ss=this.length),ms>=vs.length&&(ms=vs.length),ms||(ms=0),Ss>0&&Ss<ws&&(Ss=ws),Ss===ws||vs.length===0||this.length===0)return 0;if(ms<0)throw new RangeError("targetStart out of bounds");if(ws<0||ws>=this.length)throw new RangeError("sourceStart out of bounds");if(Ss<0)throw new RangeError("sourceEnd out of bounds");Ss>this.length&&(Ss=this.length),vs.length-ms<Ss-ws&&(Ss=vs.length-ms+ws);var Es,_s=Ss-ws;if(this===vs&&ws<ms&&ms<Ss)for(Es=_s-1;Es>=0;--Es)vs[Es+ms]=this[Es+ws];else if(_s<1e3||!y$2.TYPED_ARRAY_SUPPORT)for(Es=0;Es<_s;++Es)vs[Es+ms]=this[Es+ws];else Uint8Array.prototype.set.call(vs,this.subarray(ws,ws+_s),ms);return _s},y$2.prototype.fill=function(vs,ms,ws,Ss){if(typeof vs=="string"){if(typeof ms=="string"?(Ss=ms,ms=0,ws=this.length):typeof ws=="string"&&(Ss=ws,ws=this.length),vs.length===1){var Es=vs.charCodeAt(0);Es<256&&(vs=Es)}if(Ss!==void 0&&typeof Ss!="string")throw new TypeError("encoding must be a string");if(typeof Ss=="string"&&!y$2.isEncoding(Ss))throw new TypeError("Unknown encoding: "+Ss)}else typeof vs=="number"&&(vs&=255);if(ms<0||this.length<ms||this.length<ws)throw new RangeError("Out of range index");if(ws<=ms)return this;var _s;if(ms>>>=0,ws=ws===void 0?this.length:ws>>>0,vs||(vs=0),typeof vs=="number")for(_s=ms;_s<ws;++_s)this[_s]=vs;else{var Is=T$2(vs)?vs:V$2(new y$2(vs,Ss).toString()),Ts=Is.length;for(_s=0;_s<ws-ms;++_s)this[_s+ms]=Is[_s%Ts]}return this};var X$2=/[^+\/0-9A-Za-z-_]/g;function J$2(vs){return vs<16?"0"+vs.toString(16):vs.toString(16)}function V$2(vs,ms){var ws;ms=ms||1/0;for(var Ss=vs.length,Es=null,_s=[],Is=0;Is<Ss;++Is){if((ws=vs.charCodeAt(Is))>55295&&ws<57344){if(!Es){if(ws>56319){(ms-=3)>-1&&_s.push(239,191,189);continue}if(Is+1===Ss){(ms-=3)>-1&&_s.push(239,191,189);continue}Es=ws;continue}if(ws<56320){(ms-=3)>-1&&_s.push(239,191,189),Es=ws;continue}ws=65536+(Es-55296<<10|ws-56320)}else Es&&(ms-=3)>-1&&_s.push(239,191,189);if(Es=null,ws<128){if((ms-=1)<0)break;_s.push(ws)}else if(ws<2048){if((ms-=2)<0)break;_s.push(ws>>6|192,63&ws|128)}else if(ws<65536){if((ms-=3)<0)break;_s.push(ws>>12|224,ws>>6&63|128,63&ws|128)}else{if(!(ws<1114112))throw new Error("Invalid code point");if((ms-=4)<0)break;_s.push(ws>>18|240,ws>>12&63|128,ws>>6&63|128,63&ws|128)}}return _s}function Z$2(vs){return function(ms){var ws,Ss,Es,_s,Is,Ts;a||l();var Rs=ms.length;if(Rs%4>0)throw new Error("Invalid string. Length must be a multiple of 4");Is=ms[Rs-2]==="="?2:ms[Rs-1]==="="?1:0,Ts=new s(3*Rs/4-Is),Es=Is>0?Rs-4:Rs;var Bs=0;for(ws=0,Ss=0;ws<Es;ws+=4,Ss+=3)_s=i[ms.charCodeAt(ws)]<<18|i[ms.charCodeAt(ws+1)]<<12|i[ms.charCodeAt(ws+2)]<<6|i[ms.charCodeAt(ws+3)],Ts[Bs++]=_s>>16&255,Ts[Bs++]=_s>>8&255,Ts[Bs++]=255&_s;return Is===2?(_s=i[ms.charCodeAt(ws)]<<2|i[ms.charCodeAt(ws+1)]>>4,Ts[Bs++]=255&_s):Is===1&&(_s=i[ms.charCodeAt(ws)]<<10|i[ms.charCodeAt(ws+1)]<<4|i[ms.charCodeAt(ws+2)]>>2,Ts[Bs++]=_s>>8&255,Ts[Bs++]=255&_s),Ts}(function(ms){if((ms=function(ws){return ws.trim?ws.trim():ws.replace(/^\s+|\s+$/g,"")}(ms).replace(X$2,"")).length<2)return"";for(;ms.length%4!=0;)ms+="=";return ms}(vs))}function Q$2(vs,ms,ws,Ss){for(var Es=0;Es<Ss&&!(Es+ws>=ms.length||Es>=vs.length);++Es)ms[Es+ws]=vs[Es];return Es}function tt(vs){return!!vs.constructor&&typeof vs.constructor.isBuffer=="function"&&vs.constructor.isBuffer(vs)}function et(vs,ms,ws,Ss){return new(ws||(ws=Promise))(function(Es,_s){function Is(Bs){try{Rs(Ss.next(Bs))}catch(Ns){_s(Ns)}}function Ts(Bs){try{Rs(Ss.throw(Bs))}catch(Ns){_s(Ns)}}function Rs(Bs){var Ns;Bs.done?Es(Bs.value):(Ns=Bs.value,Ns instanceof ws?Ns:new ws(function(Ws){Ws(Ns)})).then(Is,Ts)}Rs((Ss=Ss.apply(vs,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;class nt extends Error{constructor(ms,ws,...Ss){super(...Ss),Error.captureStackTrace&&Error.captureStackTrace(this,nt),this.name="PeraWalletConnectError",this.data=ms,this.message=ws}}const rt=new class{constructor(vs){this.listener=void 0,this.channel=vs.channel}setupListener({onReceiveMessage:vs}){this.close(),this.listener=ms=>{if(typeof ms.data=="object")try{ms.data.channel===this.channel&&vs(ms)}catch(ws){console.error(ws)}},window.addEventListener("message",this.listener)}sendMessage({message:vs,targetWindow:ms,origin:ws,timeout:Ss=1e3}){setTimeout(()=>{const Es={channel:this.channel,message:vs};ms.postMessage(Es,{targetOrigin:ws||"*"})},Ss)}close(){this.listener&&(window.removeEventListener("message",this.listener),this.listener=void 0)}}({channel:"pera-web-wallet"}),ot=700,it=50;function st(){const vs=document.querySelector('meta[name="name"]'),ms=document.querySelector('meta[name="description"]');let{title:ws}=document,Ss="";return vs instanceof HTMLMetaElement&&(ws=vs.content),ms instanceof HTMLMetaElement&&(Ss=ms.content),{title:ws,description:Ss,url:window.location.origin,favicon:at()[0]}}function at(){const vs=document.getElementsByTagName("link"),ms=[];for(let ws=0;ws<vs.length;ws++){const Ss=vs[ws],Es=Ss.getAttribute("rel");if(Es&&Es.toLowerCase().indexOf("icon")>-1){const _s=Ss.getAttribute("href");if(_s&&_s.toLowerCase().indexOf("https:")===-1&&_s.toLowerCase().indexOf("http:")===-1&&_s.indexOf("//")!==0){let Is=`${window.location.protocol}//${window.location.host}`;if(_s.indexOf("/")===0)Is+=_s;else{const Ts=window.location.pathname.split("/");Ts.pop(),Is+=`${Ts.join("/")}/${_s}`}ms.push(Is)}else if((_s==null?void 0:_s.indexOf("//"))===0){const Is=window.location.protocol+_s;ms.push(Is)}else _s&&ms.push(_s)}}return ms}function lt(vs){return new Promise((ms,ws)=>{try{const Ss=window.open(vs,"_blank");let Es=0;const _s=setInterval(()=>{if(Es+=1,Es===it)return clearInterval(_s),void ws(new nt({type:"MESSAGE_NOT_RECEIVED"},"Couldn't open Pera Wallet, please try again."));Ss&&(Ss.closed===!0&&(clearInterval(_s),ws(new nt({type:"OPERATION_CANCELLED"},"Operation cancelled by user"))),rt.sendMessage({message:{type:"TAB_OPEN"},origin:vs,targetWindow:Ss}))},ot);rt.setupListener({onReceiveMessage:Is=>{Is.data.message.type==="TAB_OPEN_RECEIVED"&&(clearInterval(_s),ms(Ss))}})}catch(Ss){ws(Ss)}})}const ut="pera-wallet-connect-modal-wrapper",ct="pera-wallet-redirect-modal-wrapper",ht="pera-wallet-sign-txn-toast-wrapper",ft="pera-wallet-sign-txn-modal-wrapper",dt="pera-wallet-modal";function pt(vs){const ms=document.createElement("div");return ms.setAttribute("id",vs),document.body.appendChild(ms),ms}function gt(){pt(ct).innerHTML="<pera-wallet-redirect-modal></pera-wallet-redirect-modal>"}function wt(){pt(ht).innerHTML="<pera-wallet-sign-txn-toast></pera-wallet-sign-txn-toast>"}function vt(vs){const ms=document.getElementById(vs);ms&&ms.remove()}const mt={WALLET:"PeraWallet.Wallet",WALLETCONNECT:"walletconnect"};function bt(){return typeof localStorage>"u"?void 0:localStorage}function At(vs,ms){var ws;(ws=bt())===null||ws===void 0||ws.setItem(mt.WALLET,JSON.stringify({type:ms||"pera-wallet",accounts:vs,selectedAccount:vs[0]}))}function Et(){var vs;const ms=(vs=bt())===null||vs===void 0?void 0:vs.getItem(mt.WALLET);return ms?JSON.parse(ms):null}function Tt(){return new Promise((vs,ms)=>{var ws,Ss;try{(ws=bt())===null||ws===void 0||ws.removeItem(mt.WALLETCONNECT),(Ss=bt())===null||Ss===void 0||Ss.removeItem(mt.WALLET),vs(void 0)}catch(Es){ms(Es)}})}function _t(vs){const ms=vs.slice();for(let ws=ms.length-1;ws>0;ws--){const Ss=Math.floor(Math.random()*(ws+1));[ms[ws],ms[Ss]]=[ms[Ss],ms[ws]]}return ms}const Rt="https://wc.perawallet.app/config.json";function St(){return function(vs,ms={}){return fetch(vs,ms).then(ws=>ws.json()).then(ws=>ws)}(Rt,{cache:"no-store"})}function Nt(){return et(this,void 0,void 0,function*(){let vs={bridgeURL:"",webWalletURL:"",isWebWalletAvailable:!1,shouldDisplayNewBadge:!1,shouldUseSound:!0,silent:!1,promoteMobile:!1};try{const ms=yield St();ms.web_wallet!==void 0&&ms.web_wallet_url&&(vs.isWebWalletAvailable=ms.web_wallet),ms.display_new_badge!==void 0&&(vs.shouldDisplayNewBadge=ms.display_new_badge),ms.use_sound!==void 0&&(vs.shouldUseSound=ms.use_sound),ms.silent!==void 0&&(vs.silent=ms.silent),ms.promote_mobile!==void 0&&(vs.promoteMobile=ms.promote_mobile),vs=Object.assign(Object.assign({},vs),{bridgeURL:_t(ms.servers||[])[0]||"",webWalletURL:ms.web_wallet_url||""})}catch(ms){console.log(ms)}return vs})}function Ct(vs){return Uint8Array.from(window.atob(vs),ms=>ms.charCodeAt(0))}function It(vs,ms){return{id:Date.now()*Math.pow(10,3)+Math.floor(Math.random()*Math.pow(10,3)),jsonrpc:"2.0",method:vs,params:ms}}function Pt(){return typeof navigator<"u"}function Ot(){return Pt()&&/Android/i.test(navigator.userAgent)}function Lt(){return Pt()&&/iPhone|iPad|iPod/i.test(navigator.userAgent)}function Mt(){return Pt()&&/iPhone|iPod|Android/i.test(navigator.userAgent)}function Ut(){if(!Pt())return null;const{userAgent:vs}=navigator;let ms;return ms=vs.match(/DuckDuckGo/i)?"DuckDuckGo":vs.match(/OPX/i)?"Opera GX":navigator.brave?"Brave":Bowser.getParser(navigator.userAgent).getBrowserName(),ms}const Bt="perawallet-wc://",Wt="https://perawallet.app/download/";function Dt(vs){return{ROOT:`https://${vs}`,CONNECT:`https://${vs}/connect`,TRANSACTION_SIGN:`https://${vs}/transaction/sign`}}function xt({method:vs,signTxnRequestParams:ms,signer:ws,chainId:Ss,webWalletURL:Es,resolve:_s,reject:Is}){const Ts=Dt(Es);(function(){et(this,void 0,void 0,function*(){try{const Rs=yield lt(Ts.TRANSACTION_SIGN);if(Rs){let Ns;vs==="SIGN_TXN"?Ns={type:"SIGN_TXN",txn:ms}:vs==="SIGN_DATA"&&ws&&Ss&&(Ns={type:"SIGN_DATA",data:ms,signer:ws,chainId:Ss}),Ns&&rt.sendMessage({message:Ns,origin:Ts.TRANSACTION_SIGN,targetWindow:Rs})}const Bs=setInterval(()=>{(Rs==null?void 0:Rs.closed)===!0&&(Is(new nt({type:`${vs}_CANCELLED`},"Transaction signing is cancelled by user.")),clearInterval(Bs))},2e3);rt.setupListener({onReceiveMessage:Ns=>function({event:Ws,newPeraWalletTab:Js,method:$l,resolve:wl,reject:_l}){switch(Ws.data.message.type){case"SIGN_TXN_CALLBACK":Js==null||Js.close(),wl(Ws.data.message.signedTxns.map(Cl=>Ct(Cl.signedTxn)));break;case"SIGN_DATA_CALLBACK":Js==null||Js.close(),wl(Ws.data.message.signedData.map(Cl=>Ct(Cl.signedData)));break;case"SIGN_TXN_NETWORK_MISMATCH":_l(new nt({type:`${$l}_NETWORK_MISMATCH`,detail:Ws.data.message.error},Ws.data.message.error||"Network mismatch"));break;case"SIGN_TXN_CALLBACK_ERROR":Js==null||Js.close(),_l(new nt({type:`${$l}_CANCELLED`},Ws.data.message.error));break;case"SESSION_DISCONNECTED":Js==null||Js.close(),Tt(),_l(new nt({type:"SESSION_DISCONNECTED",detail:Ws.data.message.error},Ws.data.message.error))}}({event:Ns,newPeraWalletTab:Rs,method:vs,resolve:_s,reject:Is})})}catch(Rs){Is(Rs)}})})()}function Yt({webWalletURL:vs,chainId:ms,resolve:ws,reject:Ss}){const Es=Dt(vs);return function(){return et(this,void 0,void 0,function*(){try{const Is=yield lt(Es.CONNECT);Is&&rt.sendMessage({message:{type:"CONNECT",data:Object.assign(Object.assign({},st()),{chainId:ms})},origin:Es.CONNECT,targetWindow:Is});const Ts=setInterval(()=>{(Is==null?void 0:Is.closed)===!0&&(Ss(new nt({type:"CONNECT_CANCELLED"},"Connect is cancelled by user")),clearInterval(Ts),_s())},2e3);rt.setupListener({onReceiveMessage:Rs=>function({event:Bs,newPeraWalletTab:Ns,resolve:Ws,reject:Js}){if(Ws&&Bs.data.message.type==="CONNECT_CALLBACK"){const $l=Bs.data.message.data.addresses;At($l,"pera-wallet-web"),Ws($l),vt(ut),Ns==null||Ns.close()}else Bs.data.message.type==="CONNECT_NETWORK_MISMATCH"&&(Js(new nt({type:"CONNECT_NETWORK_MISMATCH",detail:Bs.data.message.error},Bs.data.message.error||"Your wallet is connected to a different network to this dApp. Update your wallet to the correct network (MainNet or TestNet) to continue.")),vt(ut),Ns==null||Ns.close())}({event:Rs,newPeraWalletTab:Is,resolve:ws,reject:Ss})})}catch(Is){_s(),Ss(Is)}})};function _s(){vt(ut)}}function kt({isWebWalletAvailable:vs,shouldDisplayNewBadge:ms,shouldUseSound:ws,compactMode:Ss,promoteMobile:Es,singleAccount:_s,selectedAccount:Is}){return{open:(Ts={isWebWalletAvailable:vs,shouldDisplayNewBadge:ms,shouldUseSound:ws,compactMode:Ss,promoteMobile:Es,singleAccount:_s,selectedAccount:Is},Rs=>{if(!document.getElementById(ut)){const Bs=pt(ut),Ns=`${Rs}&algorand=true`,{isWebWalletAvailable:Ws,shouldDisplayNewBadge:Js,shouldUseSound:$l,compactMode:wl,promoteMobile:_l,singleAccount:Cl,selectedAccount:Sl}=Ts;Bs.innerHTML=`<pera-wallet-connect-modal uri="${Ns}" is-web-wallet-avaliable="${Ws}" should-display-new-badge="${Js}" should-use-sound="${$l}" compact-mode="${wl}" promote-mobile="${_l}" single-account="${Cl}" selected-account="${Sl||""}"></pera-wallet-connect-modal>`}}),close:()=>vt(ut)};var Ts}class jt{constructor(ms){this.bridge=(ms==null?void 0:ms.bridge)||"",this.connector=null,this.shouldShowSignTxnToast=(ms==null?void 0:ms.shouldShowSignTxnToast)===void 0||ms.shouldShowSignTxnToast,this.chainId=ms==null?void 0:ms.chainId,this.compactMode=(ms==null?void 0:ms.compactMode)||!1,this.singleAccount=(ms==null?void 0:ms.singleAccount)||!1}get platform(){return function(){const ms=Et();let ws=null;return(ms==null?void 0:ms.type)==="pera-wallet"?ws="mobile":(ms==null?void 0:ms.type)==="pera-wallet-web"&&(ws="web"),ws}()}get isConnected(){var ms;return this.platform==="mobile"?!!this.connector:this.platform==="web"&&!!(!((ms=Et())===null||ms===void 0)&&ms.accounts.length)}get isPeraDiscoverBrowser(){return this.checkIsPeraDiscoverBrowser()}connect(ms){return new Promise((ws,Ss)=>et(this,void 0,void 0,function*(){var Es;try{if(!((Es=this.connector)===null||Es===void 0)&&Es.connected)try{yield this.connector.killSession()}catch{}const{isWebWalletAvailable:_s,bridgeURL:Is,webWalletURL:Ts,shouldDisplayNewBadge:Rs,shouldUseSound:Bs,promoteMobile:Ns}=yield Nt(),Ws=Yt({resolve:ws,reject:Ss,webWalletURL:Ts,chainId:this.chainId,isCompactMode:this.compactMode});_s&&(window.onWebWalletConnect=Ws),this.connector=new WalletConnect({bridge:this.bridge||Is||"https://bridge.walletconnect.org",qrcodeModal:kt({isWebWalletAvailable:_s,shouldDisplayNewBadge:Rs,shouldUseSound:Bs,compactMode:this.compactMode,promoteMobile:Ns,singleAccount:this.singleAccount,selectedAccount:ms==null?void 0:ms.selectedAccount})}),yield this.connector.createSession({chainId:this.chainId||4160}),function(Js,$l){var wl,_l,Cl,Sl;const El=document.getElementById(Js),xl=(_l=(wl=El==null?void 0:El.querySelector(Js.replace("-wrapper","")))===null||wl===void 0?void 0:wl.shadowRoot)===null||_l===void 0?void 0:_l.querySelector(`.${dt}`),Ml=(Sl=(Cl=xl==null?void 0:xl.querySelector("pera-wallet-modal-header"))===null||Cl===void 0?void 0:Cl.shadowRoot)===null||Sl===void 0?void 0:Sl.getElementById("pera-wallet-modal-header-close-button");Ml==null||Ml.addEventListener("click",()=>{$l(),vt(Js)})}(ut,()=>Ss(new nt({type:"CONNECT_MODAL_CLOSED"},"Connect modal is closed by user"))),this.connector.on("connect",(Js,$l)=>{var wl,_l;Js&&Ss(Js),ws(((wl=this.connector)===null||wl===void 0?void 0:wl.accounts)||[]),At(((_l=this.connector)===null||_l===void 0?void 0:_l.accounts)||[])})}catch(_s){console.log(_s),Ss(new nt({type:"SESSION_CONNECT",detail:_s},_s.message||"There was an error while connecting to Pera Wallet"))}}))}reconnectSession(){return new Promise((ms,ws)=>et(this,void 0,void 0,function*(){var Ss,Es;try{const _s=Et();if(!_s)return void ms([]);if((_s==null?void 0:_s.type)==="pera-wallet-web"){const{isWebWalletAvailable:Is}=yield Nt();Is?ms(_s.accounts||[]):ws(new nt({type:"SESSION_RECONNECT",detail:"Pera Web is not available"},"Pera Web is not available"))}this.connector&&ms(this.connector.accounts||[]),this.bridge=((Ss=function(){var Is;const Ts=(Is=bt())===null||Is===void 0?void 0:Is.getItem(mt.WALLETCONNECT);return Ts?JSON.parse(Ts):null}())===null||Ss===void 0?void 0:Ss.bridge)||"",this.bridge&&(this.connector=new WalletConnect({bridge:this.bridge}),ms(((Es=this.connector)===null||Es===void 0?void 0:Es.accounts)||[])),this.isConnected||ms([])}catch(_s){yield this.disconnect(),ws(new nt({type:"SESSION_RECONNECT",detail:_s},_s.message||"There was an error while reconnecting to Pera Wallet"))}}))}disconnect(){var ms;return et(this,void 0,void 0,function*(){let ws;this.isConnected&&this.platform==="mobile"&&(ws=(ms=this.connector)===null||ms===void 0?void 0:ms.killSession(),ws==null||ws.then(()=>{this.connector=null})),yield Tt()})}signTransactionWithMobile(ms){return et(this,void 0,void 0,function*(){const ws=It("algo_signTxn",[ms]);try{try{const{silent:Ss}=yield Nt(),Es=(yield this.connector.sendCustomRequest(ws,{forcePushNotification:!Ss})).filter(Boolean);return typeof Es[0]=="string"?Es.map(Ct):Es.map(_s=>Uint8Array.from(_s))}catch(Ss){return yield Promise.reject(new nt({type:"SIGN_TRANSACTIONS",detail:Ss},Ss.message||"Failed to sign transaction"))}}finally{vt(ct),vt(ht)}})}signTransactionWithWeb(ms,ws){return new Promise((Ss,Es)=>xt({signTxnRequestParams:ms,webWalletURL:ws,method:"SIGN_TXN",resolve:Ss,reject:Es}))}signDataWithMobile({data:ms,signer:ws,chainId:Ss}){return et(this,void 0,void 0,function*(){const Es=It("algo_signData",ms.map(_s=>Object.assign(Object.assign({},_s),{signer:ws,chainId:Ss})));try{try{const{silent:_s}=yield Nt(),Is=(yield this.connector.sendCustomRequest(Es,{forcePushNotification:!_s})).filter(Boolean);return typeof Is[0]=="string"?Is.map(Ct):Is.map(Ts=>Uint8Array.from(Ts))}catch(_s){return yield Promise.reject(new nt({type:"SIGN_TRANSACTIONS",detail:_s},_s.message||"Failed to sign transaction"))}}finally{vt(ct),vt(ht)}})}signDataWithWeb({data:ms,signer:ws,chainId:Ss,webWalletURL:Es}){return new Promise((_s,Is)=>xt({method:"SIGN_DATA",signTxnRequestParams:ms,signer:ws,chainId:Ss,webWalletURL:Es,resolve:_s,reject:Is}))}checkIsPeraDiscoverBrowser(){return window.navigator.userAgent.includes("pera")}signTransaction(ms,ws){return et(this,void 0,void 0,function*(){if(this.platform==="mobile"&&(Mt()?gt():!Mt()&&this.shouldShowSignTxnToast&&wt(),!this.connector))throw new Error("PeraWalletConnect was not initialized correctly.");const Ss=ms.flatMap(Es=>Es.map(_s=>function(Is,Ts){let Rs;Ts&&!(Is.signers||[]).includes(Ts)&&(Rs=[]);const Bs={txn:(Ns=Is.txn,Buffer.from(algosdk.encodeUnsignedTransaction(Ns)).toString("base64"))};var Ns;return Array.isArray(Rs)&&(Bs.signers=Rs),Is.authAddr&&(Bs.authAddr=Is.authAddr),Is.message&&(Bs.message=Is.message),Is.msig&&(Bs.msig=Is.msig),Bs}(_s,ws)));if(this.platform==="web"){const{webWalletURL:Es}=yield Nt();return this.signTransactionWithWeb(Ss,Es)}return this.signTransactionWithMobile(Ss)})}signData(ms,ws){return et(this,void 0,void 0,function*(){const Ss=this.chainId||4160;if(this.platform==="mobile"&&(Mt()?gt():!Mt()&&this.shouldShowSignTxnToast&&wt(),!this.connector))throw new Error("PeraWalletConnect was not initialized correctly.");if(this.platform==="web"){const{webWalletURL:_s}=yield Nt();return this.signDataWithWeb({data:ms,signer:ws,chainId:Ss,webWalletURL:_s})}const Es=ms.map(_s=>Object.assign(Object.assign({},_s),{data:Buffer.from(_s.data).toString("base64")}));return this.signDataWithMobile({data:Es,signer:ws,chainId:Ss})})}}typeof window<"u"&&(window.global=window,window.Buffer=window.Buffer||y$2,Promise.resolve().then(()=>App428f5096));const index=Object.freeze(Object.defineProperty({__proto__:null,PeraWalletConnect:jt},Symbol.toStringTag,{value:"Module"}));var qrCodeStyling$1={exports:{}};(function(vs,ms){(function(ws,Ss){vs.exports=Ss()})(commonjsGlobal,function(){return(()=>{var ws={192:(_s,Is)=>{var Ts,Rs,Bs=function(){var Ns=function(Ol,Gl){var Fl=Ol,Al=Cl[Gl],Pl=null,yl=0,Zs=null,Bl=[],eu={},Eu=function(Ll,Tl){Pl=function(Hl){for(var Dl=new Array(Hl),Kl=0;Kl<Hl;Kl+=1){Dl[Kl]=new Array(Hl);for(var cu=0;cu<Hl;cu+=1)Dl[Kl][cu]=null}return Dl}(yl=4*Fl+17),uu(0,0),uu(yl-7,0),uu(0,yl-7),zl(),Yl(),pu(Ll,Tl),Fl>=7&&ou(Ll),Zs==null&&(Zs=yu(Fl,Al,Bl)),fu(Zs,Tl)},uu=function(Ll,Tl){for(var Hl=-1;Hl<=7;Hl+=1)if(!(Ll+Hl<=-1||yl<=Ll+Hl))for(var Dl=-1;Dl<=7;Dl+=1)Tl+Dl<=-1||yl<=Tl+Dl||(Pl[Ll+Hl][Tl+Dl]=0<=Hl&&Hl<=6&&(Dl==0||Dl==6)||0<=Dl&&Dl<=6&&(Hl==0||Hl==6)||2<=Hl&&Hl<=4&&2<=Dl&&Dl<=4)},Yl=function(){for(var Ll=8;Ll<yl-8;Ll+=1)Pl[Ll][6]==null&&(Pl[Ll][6]=Ll%2==0);for(var Tl=8;Tl<yl-8;Tl+=1)Pl[6][Tl]==null&&(Pl[6][Tl]=Tl%2==0)},zl=function(){for(var Ll=Sl.getPatternPosition(Fl),Tl=0;Tl<Ll.length;Tl+=1)for(var Hl=0;Hl<Ll.length;Hl+=1){var Dl=Ll[Tl],Kl=Ll[Hl];if(Pl[Dl][Kl]==null)for(var cu=-2;cu<=2;cu+=1)for(var iu=-2;iu<=2;iu+=1)Pl[Dl+cu][Kl+iu]=cu==-2||cu==2||iu==-2||iu==2||cu==0&&iu==0}},ou=function(Ll){for(var Tl=Sl.getBCHTypeNumber(Fl),Hl=0;Hl<18;Hl+=1){var Dl=!Ll&&(Tl>>Hl&1)==1;Pl[Math.floor(Hl/3)][Hl%3+yl-8-3]=Dl}for(Hl=0;Hl<18;Hl+=1)Dl=!Ll&&(Tl>>Hl&1)==1,Pl[Hl%3+yl-8-3][Math.floor(Hl/3)]=Dl},pu=function(Ll,Tl){for(var Hl=Al<<3|Tl,Dl=Sl.getBCHTypeInfo(Hl),Kl=0;Kl<15;Kl+=1){var cu=!Ll&&(Dl>>Kl&1)==1;Kl<6?Pl[Kl][8]=cu:Kl<8?Pl[Kl+1][8]=cu:Pl[yl-15+Kl][8]=cu}for(Kl=0;Kl<15;Kl+=1)cu=!Ll&&(Dl>>Kl&1)==1,Kl<8?Pl[8][yl-Kl-1]=cu:Kl<9?Pl[8][15-Kl-1+1]=cu:Pl[8][15-Kl-1]=cu;Pl[yl-8][8]=!Ll},fu=function(Ll,Tl){for(var Hl=-1,Dl=yl-1,Kl=7,cu=0,iu=Sl.getMaskFunction(Tl),du=yl-1;du>0;du-=2)for(du==6&&(du-=1);;){for(var Au=0;Au<2;Au+=1)if(Pl[Dl][du-Au]==null){var xu=!1;cu<Ll.length&&(xu=(Ll[cu]>>>Kl&1)==1),iu(Dl,du-Au)&&(xu=!xu),Pl[Dl][du-Au]=xu,(Kl-=1)==-1&&(cu+=1,Kl=7)}if((Dl+=Hl)<0||yl<=Dl){Dl-=Hl,Hl=-Hl;break}}},yu=function(Ll,Tl,Hl){for(var Dl=Ml.getRSBlocks(Ll,Tl),Kl=Vl(),cu=0;cu<Hl.length;cu+=1){var iu=Hl[cu];Kl.put(iu.getMode(),4),Kl.put(iu.getLength(),Sl.getLengthInBits(iu.getMode(),Ll)),iu.write(Kl)}var du=0;for(cu=0;cu<Dl.length;cu+=1)du+=Dl[cu].dataCount;if(Kl.getLengthInBits()>8*du)throw"code length overflow. ("+Kl.getLengthInBits()+">"+8*du+")";for(Kl.getLengthInBits()+4<=8*du&&Kl.put(0,4);Kl.getLengthInBits()%8!=0;)Kl.putBit(!1);for(;!(Kl.getLengthInBits()>=8*du||(Kl.put(236,8),Kl.getLengthInBits()>=8*du));)Kl.put(17,8);return function(Au,xu){for(var _u=0,Hu=0,ju=0,_d=new Array(xu.length),Zu=new Array(xu.length),tp=0;tp<xu.length;tp+=1){var hu=xu[tp].dataCount,Xl=xu[tp].totalCount-hu;Hu=Math.max(Hu,hu),ju=Math.max(ju,Xl),_d[tp]=new Array(hu);for(var Zl=0;Zl<_d[tp].length;Zl+=1)_d[tp][Zl]=255&Au.getBuffer()[Zl+_u];_u+=hu;var bu=Sl.getErrorCorrectPolynomial(Xl),Ou=xl(_d[tp],bu.getLength()-1).mod(bu);for(Zu[tp]=new Array(bu.getLength()-1),Zl=0;Zl<Zu[tp].length;Zl+=1){var zu=Zl+Ou.getLength()-Zu[tp].length;Zu[tp][Zl]=zu>=0?Ou.getAt(zu):0}}var Qu=0;for(Zl=0;Zl<xu.length;Zl+=1)Qu+=xu[Zl].totalCount;var _p=new Array(Qu),dp=0;for(Zl=0;Zl<Hu;Zl+=1)for(tp=0;tp<xu.length;tp+=1)Zl<_d[tp].length&&(_p[dp]=_d[tp][Zl],dp+=1);for(Zl=0;Zl<ju;Zl+=1)for(tp=0;tp<xu.length;tp+=1)Zl<Zu[tp].length&&(_p[dp]=Zu[tp][Zl],dp+=1);return _p}(Kl,Dl)};eu.addData=function(Ll,Tl){var Hl=null;switch(Tl=Tl||"Byte"){case"Numeric":Hl=Ul(Ll);break;case"Alphanumeric":Hl=_h(Ll);break;case"Byte":Hl=nu(Ll);break;case"Kanji":Hl=su(Ll);break;default:throw"mode:"+Tl}Bl.push(Hl),Zs=null},eu.isDark=function(Ll,Tl){if(Ll<0||yl<=Ll||Tl<0||yl<=Tl)throw Ll+","+Tl;return Pl[Ll][Tl]},eu.getModuleCount=function(){return yl},eu.make=function(){if(Fl<1){for(var Ll=1;Ll<40;Ll++){for(var Tl=Ml.getRSBlocks(Ll,Al),Hl=Vl(),Dl=0;Dl<Bl.length;Dl++){var Kl=Bl[Dl];Hl.put(Kl.getMode(),4),Hl.put(Kl.getLength(),Sl.getLengthInBits(Kl.getMode(),Ll)),Kl.write(Hl)}var cu=0;for(Dl=0;Dl<Tl.length;Dl++)cu+=Tl[Dl].dataCount;if(Hl.getLengthInBits()<=8*cu)break}Fl=Ll}Eu(!1,function(){for(var iu=0,du=0,Au=0;Au<8;Au+=1){Eu(!0,Au);var xu=Sl.getLostPoint(eu);(Au==0||iu>xu)&&(iu=xu,du=Au)}return du}())},eu.createTableTag=function(Ll,Tl){Ll=Ll||2;var Hl="";Hl+='<table style="',Hl+=" border-width: 0px; border-style: none;",Hl+=" border-collapse: collapse;",Hl+=" padding: 0px; margin: "+(Tl=Tl===void 0?4*Ll:Tl)+"px;",Hl+='">',Hl+="<tbody>";for(var Dl=0;Dl<eu.getModuleCount();Dl+=1){Hl+="<tr>";for(var Kl=0;Kl<eu.getModuleCount();Kl+=1)Hl+='<td style="',Hl+=" border-width: 0px; border-style: none;",Hl+=" border-collapse: collapse;",Hl+=" padding: 0px; margin: 0px;",Hl+=" width: "+Ll+"px;",Hl+=" height: "+Ll+"px;",Hl+=" background-color: ",Hl+=eu.isDark(Dl,Kl)?"#000000":"#ffffff",Hl+=";",Hl+='"/>';Hl+="</tr>"}return(Hl+="</tbody>")+"</table>"},eu.createSvgTag=function(Ll,Tl,Hl,Dl){var Kl={};typeof arguments[0]=="object"&&(Ll=(Kl=arguments[0]).cellSize,Tl=Kl.margin,Hl=Kl.alt,Dl=Kl.title),Ll=Ll||2,Tl=Tl===void 0?4*Ll:Tl,(Hl=typeof Hl=="string"?{text:Hl}:Hl||{}).text=Hl.text||null,Hl.id=Hl.text?Hl.id||"qrcode-description":null,(Dl=typeof Dl=="string"?{text:Dl}:Dl||{}).text=Dl.text||null,Dl.id=Dl.text?Dl.id||"qrcode-title":null;var cu,iu,du,Au,xu=eu.getModuleCount()*Ll+2*Tl,_u="";for(Au="l"+Ll+",0 0,"+Ll+" -"+Ll+",0 0,-"+Ll+"z ",_u+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',_u+=Kl.scalable?"":' width="'+xu+'px" height="'+xu+'px"',_u+=' viewBox="0 0 '+xu+" "+xu+'" ',_u+=' preserveAspectRatio="xMinYMin meet"',_u+=Dl.text||Hl.text?' role="img" aria-labelledby="'+tu([Dl.id,Hl.id].join(" ").trim())+'"':"",_u+=">",_u+=Dl.text?'<title id="'+tu(Dl.id)+'">'+tu(Dl.text)+"</title>":"",_u+=Hl.text?'<description id="'+tu(Hl.id)+'">'+tu(Hl.text)+"</description>":"",_u+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',_u+='<path d="',iu=0;iu<eu.getModuleCount();iu+=1)for(du=iu*Ll+Tl,cu=0;cu<eu.getModuleCount();cu+=1)eu.isDark(iu,cu)&&(_u+="M"+(cu*Ll+Tl)+","+du+Au);return(_u+='" stroke="transparent" fill="black"/>')+"</svg>"},eu.createDataURL=function(Ll,Tl){Ll=Ll||2,Tl=Tl===void 0?4*Ll:Tl;var Hl=eu.getModuleCount()*Ll+2*Tl,Dl=Tl,Kl=Hl-Tl;return Nl(Hl,Hl,function(cu,iu){if(Dl<=cu&&cu<Kl&&Dl<=iu&&iu<Kl){var du=Math.floor((cu-Dl)/Ll),Au=Math.floor((iu-Dl)/Ll);return eu.isDark(Au,du)?0:1}return 1})},eu.createImgTag=function(Ll,Tl,Hl){Ll=Ll||2,Tl=Tl===void 0?4*Ll:Tl;var Dl=eu.getModuleCount()*Ll+2*Tl,Kl="";return Kl+="<img",Kl+=' src="',Kl+=eu.createDataURL(Ll,Tl),Kl+='"',Kl+=' width="',Kl+=Dl,Kl+='"',Kl+=' height="',Kl+=Dl,Kl+='"',Hl&&(Kl+=' alt="',Kl+=tu(Hl),Kl+='"'),Kl+"/>"};var tu=function(Ll){for(var Tl="",Hl=0;Hl<Ll.length;Hl+=1){var Dl=Ll.charAt(Hl);switch(Dl){case"<":Tl+="&lt;";break;case">":Tl+="&gt;";break;case"&":Tl+="&amp;";break;case'"':Tl+="&quot;";break;default:Tl+=Dl}}return Tl};return eu.createASCII=function(Ll,Tl){if((Ll=Ll||1)<2)return function(_d){_d=_d===void 0?2:_d;var Zu,tp,hu,Xl,Zl,bu=1*eu.getModuleCount()+2*_d,Ou=_d,zu=bu-_d,Qu={"██":"█","█ ":"▀"," █":"▄","  ":" "},_p={"██":"▀","█ ":"▀"," █":" ","  ":" "},dp="";for(Zu=0;Zu<bu;Zu+=2){for(hu=Math.floor((Zu-Ou)/1),Xl=Math.floor((Zu+1-Ou)/1),tp=0;tp<bu;tp+=1)Zl="█",Ou<=tp&&tp<zu&&Ou<=Zu&&Zu<zu&&eu.isDark(hu,Math.floor((tp-Ou)/1))&&(Zl=" "),Ou<=tp&&tp<zu&&Ou<=Zu+1&&Zu+1<zu&&eu.isDark(Xl,Math.floor((tp-Ou)/1))?Zl+=" ":Zl+="█",dp+=_d<1&&Zu+1>=zu?_p[Zl]:Qu[Zl];dp+=`
`}return bu%2&&_d>0?dp.substring(0,dp.length-bu-1)+Array(bu+1).join("▀"):dp.substring(0,dp.length-1)}(Tl);Ll-=1,Tl=Tl===void 0?2*Ll:Tl;var Hl,Dl,Kl,cu,iu=eu.getModuleCount()*Ll+2*Tl,du=Tl,Au=iu-Tl,xu=Array(Ll+1).join("██"),_u=Array(Ll+1).join("  "),Hu="",ju="";for(Hl=0;Hl<iu;Hl+=1){for(Kl=Math.floor((Hl-du)/Ll),ju="",Dl=0;Dl<iu;Dl+=1)cu=1,du<=Dl&&Dl<Au&&du<=Hl&&Hl<Au&&eu.isDark(Kl,Math.floor((Dl-du)/Ll))&&(cu=0),ju+=cu?xu:_u;for(Kl=0;Kl<Ll;Kl+=1)Hu+=ju+`
`}return Hu.substring(0,Hu.length-1)},eu.renderTo2dContext=function(Ll,Tl){Tl=Tl||2;for(var Hl=eu.getModuleCount(),Dl=0;Dl<Hl;Dl++)for(var Kl=0;Kl<Hl;Kl++)Ll.fillStyle=eu.isDark(Dl,Kl)?"black":"white",Ll.fillRect(Dl*Tl,Kl*Tl,Tl,Tl)},eu};Ns.stringToBytes=(Ns.stringToBytesFuncs={default:function(Ol){for(var Gl=[],Fl=0;Fl<Ol.length;Fl+=1){var Al=Ol.charCodeAt(Fl);Gl.push(255&Al)}return Gl}}).default,Ns.createStringToBytes=function(Ol,Gl){var Fl=function(){for(var Pl=Il(Ol),yl=function(){var Yl=Pl.read();if(Yl==-1)throw"eof";return Yl},Zs=0,Bl={};;){var eu=Pl.read();if(eu==-1)break;var Eu=yl(),uu=yl()<<8|yl();Bl[String.fromCharCode(eu<<8|Eu)]=uu,Zs+=1}if(Zs!=Gl)throw Zs+" != "+Gl;return Bl}(),Al=63;return function(Pl){for(var yl=[],Zs=0;Zs<Pl.length;Zs+=1){var Bl=Pl.charCodeAt(Zs);if(Bl<128)yl.push(Bl);else{var eu=Fl[Pl.charAt(Zs)];typeof eu=="number"?(255&eu)==eu?yl.push(eu):(yl.push(eu>>>8),yl.push(255&eu)):yl.push(Al)}}return yl}};var Ws,Js,$l,wl,_l,Cl={L:1,M:0,Q:3,H:2},Sl=(Ws=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],Js=1335,$l=7973,_l=function(Ol){for(var Gl=0;Ol!=0;)Gl+=1,Ol>>>=1;return Gl},(wl={}).getBCHTypeInfo=function(Ol){for(var Gl=Ol<<10;_l(Gl)-_l(Js)>=0;)Gl^=Js<<_l(Gl)-_l(Js);return 21522^(Ol<<10|Gl)},wl.getBCHTypeNumber=function(Ol){for(var Gl=Ol<<12;_l(Gl)-_l($l)>=0;)Gl^=$l<<_l(Gl)-_l($l);return Ol<<12|Gl},wl.getPatternPosition=function(Ol){return Ws[Ol-1]},wl.getMaskFunction=function(Ol){switch(Ol){case 0:return function(Gl,Fl){return(Gl+Fl)%2==0};case 1:return function(Gl,Fl){return Gl%2==0};case 2:return function(Gl,Fl){return Fl%3==0};case 3:return function(Gl,Fl){return(Gl+Fl)%3==0};case 4:return function(Gl,Fl){return(Math.floor(Gl/2)+Math.floor(Fl/3))%2==0};case 5:return function(Gl,Fl){return Gl*Fl%2+Gl*Fl%3==0};case 6:return function(Gl,Fl){return(Gl*Fl%2+Gl*Fl%3)%2==0};case 7:return function(Gl,Fl){return(Gl*Fl%3+(Gl+Fl)%2)%2==0};default:throw"bad maskPattern:"+Ol}},wl.getErrorCorrectPolynomial=function(Ol){for(var Gl=xl([1],0),Fl=0;Fl<Ol;Fl+=1)Gl=Gl.multiply(xl([1,El.gexp(Fl)],0));return Gl},wl.getLengthInBits=function(Ol,Gl){if(1<=Gl&&Gl<10)switch(Ol){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+Ol}else if(Gl<27)switch(Ol){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+Ol}else{if(!(Gl<41))throw"type:"+Gl;switch(Ol){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+Ol}}},wl.getLostPoint=function(Ol){for(var Gl=Ol.getModuleCount(),Fl=0,Al=0;Al<Gl;Al+=1)for(var Pl=0;Pl<Gl;Pl+=1){for(var yl=0,Zs=Ol.isDark(Al,Pl),Bl=-1;Bl<=1;Bl+=1)if(!(Al+Bl<0||Gl<=Al+Bl))for(var eu=-1;eu<=1;eu+=1)Pl+eu<0||Gl<=Pl+eu||Bl==0&&eu==0||Zs==Ol.isDark(Al+Bl,Pl+eu)&&(yl+=1);yl>5&&(Fl+=3+yl-5)}for(Al=0;Al<Gl-1;Al+=1)for(Pl=0;Pl<Gl-1;Pl+=1){var Eu=0;Ol.isDark(Al,Pl)&&(Eu+=1),Ol.isDark(Al+1,Pl)&&(Eu+=1),Ol.isDark(Al,Pl+1)&&(Eu+=1),Ol.isDark(Al+1,Pl+1)&&(Eu+=1),Eu!=0&&Eu!=4||(Fl+=3)}for(Al=0;Al<Gl;Al+=1)for(Pl=0;Pl<Gl-6;Pl+=1)Ol.isDark(Al,Pl)&&!Ol.isDark(Al,Pl+1)&&Ol.isDark(Al,Pl+2)&&Ol.isDark(Al,Pl+3)&&Ol.isDark(Al,Pl+4)&&!Ol.isDark(Al,Pl+5)&&Ol.isDark(Al,Pl+6)&&(Fl+=40);for(Pl=0;Pl<Gl;Pl+=1)for(Al=0;Al<Gl-6;Al+=1)Ol.isDark(Al,Pl)&&!Ol.isDark(Al+1,Pl)&&Ol.isDark(Al+2,Pl)&&Ol.isDark(Al+3,Pl)&&Ol.isDark(Al+4,Pl)&&!Ol.isDark(Al+5,Pl)&&Ol.isDark(Al+6,Pl)&&(Fl+=40);var uu=0;for(Pl=0;Pl<Gl;Pl+=1)for(Al=0;Al<Gl;Al+=1)Ol.isDark(Al,Pl)&&(uu+=1);return Fl+Math.abs(100*uu/Gl/Gl-50)/5*10},wl),El=function(){for(var Ol=new Array(256),Gl=new Array(256),Fl=0;Fl<8;Fl+=1)Ol[Fl]=1<<Fl;for(Fl=8;Fl<256;Fl+=1)Ol[Fl]=Ol[Fl-4]^Ol[Fl-5]^Ol[Fl-6]^Ol[Fl-8];for(Fl=0;Fl<255;Fl+=1)Gl[Ol[Fl]]=Fl;return{glog:function(Al){if(Al<1)throw"glog("+Al+")";return Gl[Al]},gexp:function(Al){for(;Al<0;)Al+=255;for(;Al>=256;)Al-=255;return Ol[Al]}}}();function xl(Ol,Gl){if(Ol.length===void 0)throw Ol.length+"/"+Gl;var Fl=function(){for(var Pl=0;Pl<Ol.length&&Ol[Pl]==0;)Pl+=1;for(var yl=new Array(Ol.length-Pl+Gl),Zs=0;Zs<Ol.length-Pl;Zs+=1)yl[Zs]=Ol[Zs+Pl];return yl}(),Al={getAt:function(Pl){return Fl[Pl]},getLength:function(){return Fl.length},multiply:function(Pl){for(var yl=new Array(Al.getLength()+Pl.getLength()-1),Zs=0;Zs<Al.getLength();Zs+=1)for(var Bl=0;Bl<Pl.getLength();Bl+=1)yl[Zs+Bl]^=El.gexp(El.glog(Al.getAt(Zs))+El.glog(Pl.getAt(Bl)));return xl(yl,0)},mod:function(Pl){if(Al.getLength()-Pl.getLength()<0)return Al;for(var yl=El.glog(Al.getAt(0))-El.glog(Pl.getAt(0)),Zs=new Array(Al.getLength()),Bl=0;Bl<Al.getLength();Bl+=1)Zs[Bl]=Al.getAt(Bl);for(Bl=0;Bl<Pl.getLength();Bl+=1)Zs[Bl]^=El.gexp(El.glog(Pl.getAt(Bl))+yl);return xl(Zs,0).mod(Pl)}};return Al}var Ml=function(){var Ol=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],Gl=function(Al,Pl){var yl={};return yl.totalCount=Al,yl.dataCount=Pl,yl},Fl={getRSBlocks:function(Al,Pl){var yl=function(ou,pu){switch(pu){case Cl.L:return Ol[4*(ou-1)+0];case Cl.M:return Ol[4*(ou-1)+1];case Cl.Q:return Ol[4*(ou-1)+2];case Cl.H:return Ol[4*(ou-1)+3];default:return}}(Al,Pl);if(yl===void 0)throw"bad rs block @ typeNumber:"+Al+"/errorCorrectionLevel:"+Pl;for(var Zs=yl.length/3,Bl=[],eu=0;eu<Zs;eu+=1)for(var Eu=yl[3*eu+0],uu=yl[3*eu+1],Yl=yl[3*eu+2],zl=0;zl<Eu;zl+=1)Bl.push(Gl(uu,Yl));return Bl}};return Fl}(),Vl=function(){var Ol=[],Gl=0,Fl={getBuffer:function(){return Ol},getAt:function(Al){var Pl=Math.floor(Al/8);return(Ol[Pl]>>>7-Al%8&1)==1},put:function(Al,Pl){for(var yl=0;yl<Pl;yl+=1)Fl.putBit((Al>>>Pl-yl-1&1)==1)},getLengthInBits:function(){return Gl},putBit:function(Al){var Pl=Math.floor(Gl/8);Ol.length<=Pl&&Ol.push(0),Al&&(Ol[Pl]|=128>>>Gl%8),Gl+=1}};return Fl},Ul=function(Ol){var Gl=Ol,Fl={getMode:function(){return 1},getLength:function(yl){return Gl.length},write:function(yl){for(var Zs=Gl,Bl=0;Bl+2<Zs.length;)yl.put(Al(Zs.substring(Bl,Bl+3)),10),Bl+=3;Bl<Zs.length&&(Zs.length-Bl==1?yl.put(Al(Zs.substring(Bl,Bl+1)),4):Zs.length-Bl==2&&yl.put(Al(Zs.substring(Bl,Bl+2)),7))}},Al=function(yl){for(var Zs=0,Bl=0;Bl<yl.length;Bl+=1)Zs=10*Zs+Pl(yl.charAt(Bl));return Zs},Pl=function(yl){if("0"<=yl&&yl<="9")return yl.charCodeAt(0)-48;throw"illegal char :"+yl};return Fl},_h=function(Ol){var Gl=Ol,Fl={getMode:function(){return 2},getLength:function(Pl){return Gl.length},write:function(Pl){for(var yl=Gl,Zs=0;Zs+1<yl.length;)Pl.put(45*Al(yl.charAt(Zs))+Al(yl.charAt(Zs+1)),11),Zs+=2;Zs<yl.length&&Pl.put(Al(yl.charAt(Zs)),6)}},Al=function(Pl){if("0"<=Pl&&Pl<="9")return Pl.charCodeAt(0)-48;if("A"<=Pl&&Pl<="Z")return Pl.charCodeAt(0)-65+10;switch(Pl){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+Pl}};return Fl},nu=function(Ol){var Gl=Ns.stringToBytes(Ol);return{getMode:function(){return 4},getLength:function(Fl){return Gl.length},write:function(Fl){for(var Al=0;Al<Gl.length;Al+=1)Fl.put(Gl[Al],8)}}},su=function(Ol){var Gl=Ns.stringToBytesFuncs.SJIS;if(!Gl)throw"sjis not supported.";(function(Pl,yl){var Zs=Gl("友");if(Zs.length!=2||(Zs[0]<<8|Zs[1])!=38726)throw"sjis not supported."})();var Fl=Gl(Ol),Al={getMode:function(){return 8},getLength:function(Pl){return~~(Fl.length/2)},write:function(Pl){for(var yl=Fl,Zs=0;Zs+1<yl.length;){var Bl=(255&yl[Zs])<<8|255&yl[Zs+1];if(33088<=Bl&&Bl<=40956)Bl-=33088;else{if(!(57408<=Bl&&Bl<=60351))throw"illegal char at "+(Zs+1)+"/"+Bl;Bl-=49472}Bl=192*(Bl>>>8&255)+(255&Bl),Pl.put(Bl,13),Zs+=2}if(Zs<yl.length)throw"illegal char at "+(Zs+1)}};return Al},Jl=function(){var Ol=[],Gl={writeByte:function(Fl){Ol.push(255&Fl)},writeShort:function(Fl){Gl.writeByte(Fl),Gl.writeByte(Fl>>>8)},writeBytes:function(Fl,Al,Pl){Al=Al||0,Pl=Pl||Fl.length;for(var yl=0;yl<Pl;yl+=1)Gl.writeByte(Fl[yl+Al])},writeString:function(Fl){for(var Al=0;Al<Fl.length;Al+=1)Gl.writeByte(Fl.charCodeAt(Al))},toByteArray:function(){return Ol},toString:function(){var Fl="";Fl+="[";for(var Al=0;Al<Ol.length;Al+=1)Al>0&&(Fl+=","),Fl+=Ol[Al];return Fl+"]"}};return Gl},Il=function(Ol){var Gl=Ol,Fl=0,Al=0,Pl=0,yl={read:function(){for(;Pl<8;){if(Fl>=Gl.length){if(Pl==0)return-1;throw"unexpected end of file./"+Pl}var Bl=Gl.charAt(Fl);if(Fl+=1,Bl=="=")return Pl=0,-1;Bl.match(/^\s$/)||(Al=Al<<6|Zs(Bl.charCodeAt(0)),Pl+=6)}var eu=Al>>>Pl-8&255;return Pl-=8,eu}},Zs=function(Bl){if(65<=Bl&&Bl<=90)return Bl-65;if(97<=Bl&&Bl<=122)return Bl-97+26;if(48<=Bl&&Bl<=57)return Bl-48+52;if(Bl==43)return 62;if(Bl==47)return 63;throw"c:"+Bl};return yl},Nl=function(Ol,Gl,Fl){for(var Al=function(uu,Yl){var zl=uu,ou=Yl,pu=new Array(uu*Yl),fu={setPixel:function(Ll,Tl,Hl){pu[Tl*zl+Ll]=Hl},write:function(Ll){Ll.writeString("GIF87a"),Ll.writeShort(zl),Ll.writeShort(ou),Ll.writeByte(128),Ll.writeByte(0),Ll.writeByte(0),Ll.writeByte(0),Ll.writeByte(0),Ll.writeByte(0),Ll.writeByte(255),Ll.writeByte(255),Ll.writeByte(255),Ll.writeString(","),Ll.writeShort(0),Ll.writeShort(0),Ll.writeShort(zl),Ll.writeShort(ou),Ll.writeByte(0);var Tl=yu(2);Ll.writeByte(2);for(var Hl=0;Tl.length-Hl>255;)Ll.writeByte(255),Ll.writeBytes(Tl,Hl,255),Hl+=255;Ll.writeByte(Tl.length-Hl),Ll.writeBytes(Tl,Hl,Tl.length-Hl),Ll.writeByte(0),Ll.writeString(";")}},yu=function(Ll){for(var Tl=1<<Ll,Hl=1+(1<<Ll),Dl=Ll+1,Kl=tu(),cu=0;cu<Tl;cu+=1)Kl.add(String.fromCharCode(cu));Kl.add(String.fromCharCode(Tl)),Kl.add(String.fromCharCode(Hl));var iu,du,Au,xu=Jl(),_u=(iu=xu,du=0,Au=0,{write:function(Zu,tp){if(Zu>>>tp)throw"length over";for(;du+tp>=8;)iu.writeByte(255&(Zu<<du|Au)),tp-=8-du,Zu>>>=8-du,Au=0,du=0;Au|=Zu<<du,du+=tp},flush:function(){du>0&&iu.writeByte(Au)}});_u.write(Tl,Dl);var Hu=0,ju=String.fromCharCode(pu[Hu]);for(Hu+=1;Hu<pu.length;){var _d=String.fromCharCode(pu[Hu]);Hu+=1,Kl.contains(ju+_d)?ju+=_d:(_u.write(Kl.indexOf(ju),Dl),Kl.size()<4095&&(Kl.size()==1<<Dl&&(Dl+=1),Kl.add(ju+_d)),ju=_d)}return _u.write(Kl.indexOf(ju),Dl),_u.write(Hl,Dl),_u.flush(),xu.toByteArray()},tu=function(){var Ll={},Tl=0,Hl={add:function(Dl){if(Hl.contains(Dl))throw"dup key:"+Dl;Ll[Dl]=Tl,Tl+=1},size:function(){return Tl},indexOf:function(Dl){return Ll[Dl]},contains:function(Dl){return Ll[Dl]!==void 0}};return Hl};return fu}(Ol,Gl),Pl=0;Pl<Gl;Pl+=1)for(var yl=0;yl<Ol;yl+=1)Al.setPixel(yl,Pl,Fl(yl,Pl));var Zs=Jl();Al.write(Zs);for(var Bl=function(){var uu=0,Yl=0,zl=0,ou="",pu={},fu=function(tu){ou+=String.fromCharCode(yu(63&tu))},yu=function(tu){if(!(tu<0)){if(tu<26)return 65+tu;if(tu<52)return tu-26+97;if(tu<62)return tu-52+48;if(tu==62)return 43;if(tu==63)return 47}throw"n:"+tu};return pu.writeByte=function(tu){for(uu=uu<<8|255&tu,Yl+=8,zl+=1;Yl>=6;)fu(uu>>>Yl-6),Yl-=6},pu.flush=function(){if(Yl>0&&(fu(uu<<6-Yl),uu=0,Yl=0),zl%3!=0)for(var tu=3-zl%3,Ll=0;Ll<tu;Ll+=1)ou+="="},pu.toString=function(){return ou},pu}(),eu=Zs.toByteArray(),Eu=0;Eu<eu.length;Eu+=1)Bl.writeByte(eu[Eu]);return Bl.flush(),"data:image/gif;base64,"+Bl};return Ns}();Bs.stringToBytesFuncs["UTF-8"]=function(Ns){return function(Ws){for(var Js=[],$l=0;$l<Ws.length;$l++){var wl=Ws.charCodeAt($l);wl<128?Js.push(wl):wl<2048?Js.push(192|wl>>6,128|63&wl):wl<55296||wl>=57344?Js.push(224|wl>>12,128|wl>>6&63,128|63&wl):($l++,wl=65536+((1023&wl)<<10|1023&Ws.charCodeAt($l)),Js.push(240|wl>>18,128|wl>>12&63,128|wl>>6&63,128|63&wl))}return Js}(Ns)},(Rs=typeof(Ts=function(){return Bs})=="function"?Ts.apply(Is,[]):Ts)===void 0||(_s.exports=Rs)},676:(_s,Is,Ts)=>{Ts.d(Is,{default:()=>tu});const Rs="Numeric",Bs="Alphanumeric",Ns="Byte";var Ws=function(){return Ws=Object.assign||function(Ll){for(var Tl,Hl=1,Dl=arguments.length;Hl<Dl;Hl++)for(var Kl in Tl=arguments[Hl])Object.prototype.hasOwnProperty.call(Tl,Kl)&&(Ll[Kl]=Tl[Kl]);return Ll},Ws.apply(this,arguments)},Js=function(){for(var Ll=0,Tl=0,Hl=arguments.length;Tl<Hl;Tl++)Ll+=arguments[Tl].length;var Dl=Array(Ll),Kl=0;for(Tl=0;Tl<Hl;Tl++)for(var cu=arguments[Tl],iu=0,du=cu.length;iu<du;iu++,Kl++)Dl[Kl]=cu[iu];return Dl},$l=function(Ll){return!!Ll&&typeof Ll=="object"&&!Array.isArray(Ll)};function wl(Ll){for(var Tl=[],Hl=1;Hl<arguments.length;Hl++)Tl[Hl-1]=arguments[Hl];if(!Tl.length)return Ll;var Dl=Tl.shift();return Dl!==void 0&&$l(Ll)&&$l(Dl)?(Ll=Ws({},Ll),Object.keys(Dl).forEach(function(Kl){var cu=Ll[Kl],iu=Dl[Kl];Array.isArray(cu)&&Array.isArray(iu)?Ll[Kl]=iu:$l(cu)&&$l(iu)?Ll[Kl]=wl(Object.assign({},cu),iu):Ll[Kl]=iu}),wl.apply(void 0,Js([Ll],Tl))):Ll}function _l(Ll,Tl){var Hl=document.createElement("a");Hl.download=Tl,Hl.href=Ll,document.body.appendChild(Hl),Hl.click(),document.body.removeChild(Hl)}var Cl=function(Ll,Tl,Hl,Dl){return new(Hl||(Hl=Promise))(function(Kl,cu){function iu(xu){try{Au(Dl.next(xu))}catch(_u){cu(_u)}}function du(xu){try{Au(Dl.throw(xu))}catch(_u){cu(_u)}}function Au(xu){var _u;xu.done?Kl(xu.value):(_u=xu.value,_u instanceof Hl?_u:new Hl(function(Hu){Hu(_u)})).then(iu,du)}Au((Dl=Dl.apply(Ll,[])).next())})},Sl=function(Ll,Tl){var Hl,Dl,Kl,cu,iu={label:0,sent:function(){if(1&Kl[0])throw Kl[1];return Kl[1]},trys:[],ops:[]};return cu={next:du(0),throw:du(1),return:du(2)},typeof Symbol=="function"&&(cu[Symbol.iterator]=function(){return this}),cu;function du(Au){return function(xu){return function(_u){if(Hl)throw new TypeError("Generator is already executing.");for(;iu;)try{if(Hl=1,Dl&&(Kl=2&_u[0]?Dl.return:_u[0]?Dl.throw||((Kl=Dl.return)&&Kl.call(Dl),0):Dl.next)&&!(Kl=Kl.call(Dl,_u[1])).done)return Kl;switch(Dl=0,Kl&&(_u=[2&_u[0],Kl.value]),_u[0]){case 0:case 1:Kl=_u;break;case 4:return iu.label++,{value:_u[1],done:!1};case 5:iu.label++,Dl=_u[1],_u=[0];continue;case 7:_u=iu.ops.pop(),iu.trys.pop();continue;default:if(!((Kl=(Kl=iu.trys).length>0&&Kl[Kl.length-1])||_u[0]!==6&&_u[0]!==2)){iu=0;continue}if(_u[0]===3&&(!Kl||_u[1]>Kl[0]&&_u[1]<Kl[3])){iu.label=_u[1];break}if(_u[0]===6&&iu.label<Kl[1]){iu.label=Kl[1],Kl=_u;break}if(Kl&&iu.label<Kl[2]){iu.label=Kl[2],iu.ops.push(_u);break}Kl[2]&&iu.ops.pop(),iu.trys.pop();continue}_u=Tl.call(Ll,iu)}catch(Hu){_u=[6,Hu],Dl=0}finally{Hl=Kl=0}if(5&_u[0])throw _u[1];return{value:_u[0]?_u[1]:void 0,done:!0}}([Au,xu])}}};function El(Ll){return Cl(this,void 0,void 0,function(){return Sl(this,function(Tl){return[2,new Promise(function(Hl){var Dl=new XMLHttpRequest;Dl.onload=function(){var Kl=new FileReader;Kl.onloadend=function(){Hl(Kl.result)},Kl.readAsDataURL(Dl.response)},Dl.open("GET",Ll),Dl.responseType="blob",Dl.send()})]})})}const xl={L:.07,M:.15,Q:.25,H:.3};var Ml=function(){return Ml=Object.assign||function(Ll){for(var Tl,Hl=1,Dl=arguments.length;Hl<Dl;Hl++)for(var Kl in Tl=arguments[Hl])Object.prototype.hasOwnProperty.call(Tl,Kl)&&(Ll[Kl]=Tl[Kl]);return Ll},Ml.apply(this,arguments)},Vl=function(){function Ll(Tl){var Hl=Tl.svg,Dl=Tl.type;this._svg=Hl,this._type=Dl}return Ll.prototype.draw=function(Tl,Hl,Dl,Kl){var cu;switch(this._type){case"dots":cu=this._drawDot;break;case"classy":cu=this._drawClassy;break;case"classy-rounded":cu=this._drawClassyRounded;break;case"rounded":cu=this._drawRounded;break;case"extra-rounded":cu=this._drawExtraRounded;break;default:cu=this._drawSquare}cu.call(this,{x:Tl,y:Hl,size:Dl,getNeighbor:Kl})},Ll.prototype._rotateFigure=function(Tl){var Hl,Dl=Tl.x,Kl=Tl.y,cu=Tl.size,iu=Tl.rotation,du=iu===void 0?0:iu,Au=Dl+cu/2,xu=Kl+cu/2;(0,Tl.draw)(),(Hl=this._element)===null||Hl===void 0||Hl.setAttribute("transform","rotate("+180*du/Math.PI+","+Au+","+xu+")")},Ll.prototype._basicDot=function(Tl){var Hl=this,Dl=Tl.size,Kl=Tl.x,cu=Tl.y;this._rotateFigure(Ml(Ml({},Tl),{draw:function(){Hl._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),Hl._element.setAttribute("cx",String(Kl+Dl/2)),Hl._element.setAttribute("cy",String(cu+Dl/2)),Hl._element.setAttribute("r",String(Dl/2))}}))},Ll.prototype._basicSquare=function(Tl){var Hl=this,Dl=Tl.size,Kl=Tl.x,cu=Tl.y;this._rotateFigure(Ml(Ml({},Tl),{draw:function(){Hl._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),Hl._element.setAttribute("x",String(Kl)),Hl._element.setAttribute("y",String(cu)),Hl._element.setAttribute("width",String(Dl)),Hl._element.setAttribute("height",String(Dl))}}))},Ll.prototype._basicSideRounded=function(Tl){var Hl=this,Dl=Tl.size,Kl=Tl.x,cu=Tl.y;this._rotateFigure(Ml(Ml({},Tl),{draw:function(){Hl._element=document.createElementNS("http://www.w3.org/2000/svg","path"),Hl._element.setAttribute("d","M "+Kl+" "+cu+"v "+Dl+"h "+Dl/2+"a "+Dl/2+" "+Dl/2+", 0, 0, 0, 0 "+-Dl)}}))},Ll.prototype._basicCornerRounded=function(Tl){var Hl=this,Dl=Tl.size,Kl=Tl.x,cu=Tl.y;this._rotateFigure(Ml(Ml({},Tl),{draw:function(){Hl._element=document.createElementNS("http://www.w3.org/2000/svg","path"),Hl._element.setAttribute("d","M "+Kl+" "+cu+"v "+Dl+"h "+Dl+"v "+-Dl/2+"a "+Dl/2+" "+Dl/2+", 0, 0, 0, "+-Dl/2+" "+-Dl/2)}}))},Ll.prototype._basicCornerExtraRounded=function(Tl){var Hl=this,Dl=Tl.size,Kl=Tl.x,cu=Tl.y;this._rotateFigure(Ml(Ml({},Tl),{draw:function(){Hl._element=document.createElementNS("http://www.w3.org/2000/svg","path"),Hl._element.setAttribute("d","M "+Kl+" "+cu+"v "+Dl+"h "+Dl+"a "+Dl+" "+Dl+", 0, 0, 0, "+-Dl+" "+-Dl)}}))},Ll.prototype._basicCornersRounded=function(Tl){var Hl=this,Dl=Tl.size,Kl=Tl.x,cu=Tl.y;this._rotateFigure(Ml(Ml({},Tl),{draw:function(){Hl._element=document.createElementNS("http://www.w3.org/2000/svg","path"),Hl._element.setAttribute("d","M "+Kl+" "+cu+"v "+Dl/2+"a "+Dl/2+" "+Dl/2+", 0, 0, 0, "+Dl/2+" "+Dl/2+"h "+Dl/2+"v "+-Dl/2+"a "+Dl/2+" "+Dl/2+", 0, 0, 0, "+-Dl/2+" "+-Dl/2)}}))},Ll.prototype._drawDot=function(Tl){var Hl=Tl.x,Dl=Tl.y,Kl=Tl.size;this._basicDot({x:Hl,y:Dl,size:Kl,rotation:0})},Ll.prototype._drawSquare=function(Tl){var Hl=Tl.x,Dl=Tl.y,Kl=Tl.size;this._basicSquare({x:Hl,y:Dl,size:Kl,rotation:0})},Ll.prototype._drawRounded=function(Tl){var Hl=Tl.x,Dl=Tl.y,Kl=Tl.size,cu=Tl.getNeighbor,iu=cu?+cu(-1,0):0,du=cu?+cu(1,0):0,Au=cu?+cu(0,-1):0,xu=cu?+cu(0,1):0,_u=iu+du+Au+xu;if(_u!==0)if(_u>2||iu&&du||Au&&xu)this._basicSquare({x:Hl,y:Dl,size:Kl,rotation:0});else{if(_u===2){var Hu=0;return iu&&Au?Hu=Math.PI/2:Au&&du?Hu=Math.PI:du&&xu&&(Hu=-Math.PI/2),void this._basicCornerRounded({x:Hl,y:Dl,size:Kl,rotation:Hu})}if(_u===1)return Hu=0,Au?Hu=Math.PI/2:du?Hu=Math.PI:xu&&(Hu=-Math.PI/2),void this._basicSideRounded({x:Hl,y:Dl,size:Kl,rotation:Hu})}else this._basicDot({x:Hl,y:Dl,size:Kl,rotation:0})},Ll.prototype._drawExtraRounded=function(Tl){var Hl=Tl.x,Dl=Tl.y,Kl=Tl.size,cu=Tl.getNeighbor,iu=cu?+cu(-1,0):0,du=cu?+cu(1,0):0,Au=cu?+cu(0,-1):0,xu=cu?+cu(0,1):0,_u=iu+du+Au+xu;if(_u!==0)if(_u>2||iu&&du||Au&&xu)this._basicSquare({x:Hl,y:Dl,size:Kl,rotation:0});else{if(_u===2){var Hu=0;return iu&&Au?Hu=Math.PI/2:Au&&du?Hu=Math.PI:du&&xu&&(Hu=-Math.PI/2),void this._basicCornerExtraRounded({x:Hl,y:Dl,size:Kl,rotation:Hu})}if(_u===1)return Hu=0,Au?Hu=Math.PI/2:du?Hu=Math.PI:xu&&(Hu=-Math.PI/2),void this._basicSideRounded({x:Hl,y:Dl,size:Kl,rotation:Hu})}else this._basicDot({x:Hl,y:Dl,size:Kl,rotation:0})},Ll.prototype._drawClassy=function(Tl){var Hl=Tl.x,Dl=Tl.y,Kl=Tl.size,cu=Tl.getNeighbor,iu=cu?+cu(-1,0):0,du=cu?+cu(1,0):0,Au=cu?+cu(0,-1):0,xu=cu?+cu(0,1):0;iu+du+Au+xu!==0?iu||Au?du||xu?this._basicSquare({x:Hl,y:Dl,size:Kl,rotation:0}):this._basicCornerRounded({x:Hl,y:Dl,size:Kl,rotation:Math.PI/2}):this._basicCornerRounded({x:Hl,y:Dl,size:Kl,rotation:-Math.PI/2}):this._basicCornersRounded({x:Hl,y:Dl,size:Kl,rotation:Math.PI/2})},Ll.prototype._drawClassyRounded=function(Tl){var Hl=Tl.x,Dl=Tl.y,Kl=Tl.size,cu=Tl.getNeighbor,iu=cu?+cu(-1,0):0,du=cu?+cu(1,0):0,Au=cu?+cu(0,-1):0,xu=cu?+cu(0,1):0;iu+du+Au+xu!==0?iu||Au?du||xu?this._basicSquare({x:Hl,y:Dl,size:Kl,rotation:0}):this._basicCornerExtraRounded({x:Hl,y:Dl,size:Kl,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:Hl,y:Dl,size:Kl,rotation:-Math.PI/2}):this._basicCornersRounded({x:Hl,y:Dl,size:Kl,rotation:Math.PI/2})},Ll}();const Ul=Vl;var _h=function(){return _h=Object.assign||function(Ll){for(var Tl,Hl=1,Dl=arguments.length;Hl<Dl;Hl++)for(var Kl in Tl=arguments[Hl])Object.prototype.hasOwnProperty.call(Tl,Kl)&&(Ll[Kl]=Tl[Kl]);return Ll},_h.apply(this,arguments)},nu=function(){function Ll(Tl){var Hl=Tl.svg,Dl=Tl.type;this._svg=Hl,this._type=Dl}return Ll.prototype.draw=function(Tl,Hl,Dl,Kl){var cu;switch(this._type){case"square":cu=this._drawSquare;break;case"extra-rounded":cu=this._drawExtraRounded;break;default:cu=this._drawDot}cu.call(this,{x:Tl,y:Hl,size:Dl,rotation:Kl})},Ll.prototype._rotateFigure=function(Tl){var Hl,Dl=Tl.x,Kl=Tl.y,cu=Tl.size,iu=Tl.rotation,du=iu===void 0?0:iu,Au=Dl+cu/2,xu=Kl+cu/2;(0,Tl.draw)(),(Hl=this._element)===null||Hl===void 0||Hl.setAttribute("transform","rotate("+180*du/Math.PI+","+Au+","+xu+")")},Ll.prototype._basicDot=function(Tl){var Hl=this,Dl=Tl.size,Kl=Tl.x,cu=Tl.y,iu=Dl/7;this._rotateFigure(_h(_h({},Tl),{draw:function(){Hl._element=document.createElementNS("http://www.w3.org/2000/svg","path"),Hl._element.setAttribute("clip-rule","evenodd"),Hl._element.setAttribute("d","M "+(Kl+Dl/2)+" "+cu+"a "+Dl/2+" "+Dl/2+" 0 1 0 0.1 0zm 0 "+iu+"a "+(Dl/2-iu)+" "+(Dl/2-iu)+" 0 1 1 -0.1 0Z")}}))},Ll.prototype._basicSquare=function(Tl){var Hl=this,Dl=Tl.size,Kl=Tl.x,cu=Tl.y,iu=Dl/7;this._rotateFigure(_h(_h({},Tl),{draw:function(){Hl._element=document.createElementNS("http://www.w3.org/2000/svg","path"),Hl._element.setAttribute("clip-rule","evenodd"),Hl._element.setAttribute("d","M "+Kl+" "+cu+"v "+Dl+"h "+Dl+"v "+-Dl+"zM "+(Kl+iu)+" "+(cu+iu)+"h "+(Dl-2*iu)+"v "+(Dl-2*iu)+"h "+(2*iu-Dl)+"z")}}))},Ll.prototype._basicExtraRounded=function(Tl){var Hl=this,Dl=Tl.size,Kl=Tl.x,cu=Tl.y,iu=Dl/7;this._rotateFigure(_h(_h({},Tl),{draw:function(){Hl._element=document.createElementNS("http://www.w3.org/2000/svg","path"),Hl._element.setAttribute("clip-rule","evenodd"),Hl._element.setAttribute("d","M "+Kl+" "+(cu+2.5*iu)+"v "+2*iu+"a "+2.5*iu+" "+2.5*iu+", 0, 0, 0, "+2.5*iu+" "+2.5*iu+"h "+2*iu+"a "+2.5*iu+" "+2.5*iu+", 0, 0, 0, "+2.5*iu+" "+2.5*-iu+"v "+-2*iu+"a "+2.5*iu+" "+2.5*iu+", 0, 0, 0, "+2.5*-iu+" "+2.5*-iu+"h "+-2*iu+"a "+2.5*iu+" "+2.5*iu+", 0, 0, 0, "+2.5*-iu+" "+2.5*iu+"M "+(Kl+2.5*iu)+" "+(cu+iu)+"h "+2*iu+"a "+1.5*iu+" "+1.5*iu+", 0, 0, 1, "+1.5*iu+" "+1.5*iu+"v "+2*iu+"a "+1.5*iu+" "+1.5*iu+", 0, 0, 1, "+1.5*-iu+" "+1.5*iu+"h "+-2*iu+"a "+1.5*iu+" "+1.5*iu+", 0, 0, 1, "+1.5*-iu+" "+1.5*-iu+"v "+-2*iu+"a "+1.5*iu+" "+1.5*iu+", 0, 0, 1, "+1.5*iu+" "+1.5*-iu)}}))},Ll.prototype._drawDot=function(Tl){var Hl=Tl.x,Dl=Tl.y,Kl=Tl.size,cu=Tl.rotation;this._basicDot({x:Hl,y:Dl,size:Kl,rotation:cu})},Ll.prototype._drawSquare=function(Tl){var Hl=Tl.x,Dl=Tl.y,Kl=Tl.size,cu=Tl.rotation;this._basicSquare({x:Hl,y:Dl,size:Kl,rotation:cu})},Ll.prototype._drawExtraRounded=function(Tl){var Hl=Tl.x,Dl=Tl.y,Kl=Tl.size,cu=Tl.rotation;this._basicExtraRounded({x:Hl,y:Dl,size:Kl,rotation:cu})},Ll}();const su=nu;var Jl=function(){return Jl=Object.assign||function(Ll){for(var Tl,Hl=1,Dl=arguments.length;Hl<Dl;Hl++)for(var Kl in Tl=arguments[Hl])Object.prototype.hasOwnProperty.call(Tl,Kl)&&(Ll[Kl]=Tl[Kl]);return Ll},Jl.apply(this,arguments)},Il=function(){function Ll(Tl){var Hl=Tl.svg,Dl=Tl.type;this._svg=Hl,this._type=Dl}return Ll.prototype.draw=function(Tl,Hl,Dl,Kl){(this._type==="square"?this._drawSquare:this._drawDot).call(this,{x:Tl,y:Hl,size:Dl,rotation:Kl})},Ll.prototype._rotateFigure=function(Tl){var Hl,Dl=Tl.x,Kl=Tl.y,cu=Tl.size,iu=Tl.rotation,du=iu===void 0?0:iu,Au=Dl+cu/2,xu=Kl+cu/2;(0,Tl.draw)(),(Hl=this._element)===null||Hl===void 0||Hl.setAttribute("transform","rotate("+180*du/Math.PI+","+Au+","+xu+")")},Ll.prototype._basicDot=function(Tl){var Hl=this,Dl=Tl.size,Kl=Tl.x,cu=Tl.y;this._rotateFigure(Jl(Jl({},Tl),{draw:function(){Hl._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),Hl._element.setAttribute("cx",String(Kl+Dl/2)),Hl._element.setAttribute("cy",String(cu+Dl/2)),Hl._element.setAttribute("r",String(Dl/2))}}))},Ll.prototype._basicSquare=function(Tl){var Hl=this,Dl=Tl.size,Kl=Tl.x,cu=Tl.y;this._rotateFigure(Jl(Jl({},Tl),{draw:function(){Hl._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),Hl._element.setAttribute("x",String(Kl)),Hl._element.setAttribute("y",String(cu)),Hl._element.setAttribute("width",String(Dl)),Hl._element.setAttribute("height",String(Dl))}}))},Ll.prototype._drawDot=function(Tl){var Hl=Tl.x,Dl=Tl.y,Kl=Tl.size,cu=Tl.rotation;this._basicDot({x:Hl,y:Dl,size:Kl,rotation:cu})},Ll.prototype._drawSquare=function(Tl){var Hl=Tl.x,Dl=Tl.y,Kl=Tl.size,cu=Tl.rotation;this._basicSquare({x:Hl,y:Dl,size:Kl,rotation:cu})},Ll}();const Nl=Il,Ol="circle";var Gl=function(Ll,Tl,Hl,Dl){return new(Hl||(Hl=Promise))(function(Kl,cu){function iu(xu){try{Au(Dl.next(xu))}catch(_u){cu(_u)}}function du(xu){try{Au(Dl.throw(xu))}catch(_u){cu(_u)}}function Au(xu){var _u;xu.done?Kl(xu.value):(_u=xu.value,_u instanceof Hl?_u:new Hl(function(Hu){Hu(_u)})).then(iu,du)}Au((Dl=Dl.apply(Ll,[])).next())})},Fl=function(Ll,Tl){var Hl,Dl,Kl,cu,iu={label:0,sent:function(){if(1&Kl[0])throw Kl[1];return Kl[1]},trys:[],ops:[]};return cu={next:du(0),throw:du(1),return:du(2)},typeof Symbol=="function"&&(cu[Symbol.iterator]=function(){return this}),cu;function du(Au){return function(xu){return function(_u){if(Hl)throw new TypeError("Generator is already executing.");for(;iu;)try{if(Hl=1,Dl&&(Kl=2&_u[0]?Dl.return:_u[0]?Dl.throw||((Kl=Dl.return)&&Kl.call(Dl),0):Dl.next)&&!(Kl=Kl.call(Dl,_u[1])).done)return Kl;switch(Dl=0,Kl&&(_u=[2&_u[0],Kl.value]),_u[0]){case 0:case 1:Kl=_u;break;case 4:return iu.label++,{value:_u[1],done:!1};case 5:iu.label++,Dl=_u[1],_u=[0];continue;case 7:_u=iu.ops.pop(),iu.trys.pop();continue;default:if(!((Kl=(Kl=iu.trys).length>0&&Kl[Kl.length-1])||_u[0]!==6&&_u[0]!==2)){iu=0;continue}if(_u[0]===3&&(!Kl||_u[1]>Kl[0]&&_u[1]<Kl[3])){iu.label=_u[1];break}if(_u[0]===6&&iu.label<Kl[1]){iu.label=Kl[1],Kl=_u;break}if(Kl&&iu.label<Kl[2]){iu.label=Kl[2],iu.ops.push(_u);break}Kl[2]&&iu.ops.pop(),iu.trys.pop();continue}_u=Tl.call(Ll,iu)}catch(Hu){_u=[6,Hu],Dl=0}finally{Hl=Kl=0}if(5&_u[0])throw _u[1];return{value:_u[0]?_u[1]:void 0,done:!0}}([Au,xu])}}},Al=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],Pl=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];const yl=function(){function Ll(Tl){this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(Tl.width)),this._element.setAttribute("height",String(Tl.height)),this._element.setAttribute("viewBox","0 0 "+Tl.width+" "+Tl.height),this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._instanceId=Ll.instanceCount++,this._options=Tl}return Object.defineProperty(Ll.prototype,"width",{get:function(){return this._options.width},enumerable:!1,configurable:!0}),Object.defineProperty(Ll.prototype,"height",{get:function(){return this._options.height},enumerable:!1,configurable:!0}),Ll.prototype.getElement=function(){return this._element},Ll.prototype.drawQR=function(Tl){return Gl(this,void 0,void 0,function(){var Hl,Dl,Kl,cu,iu,du,Au,xu,_u,Hu,ju=this;return Fl(this,function(_d){switch(_d.label){case 0:return Hl=Tl.getModuleCount(),Dl=Math.min(this._options.width,this._options.height)-2*this._options.margin,Kl=this._options.shape===Ol?Dl/Math.sqrt(2):Dl,cu=Kl/Hl,iu={hideXDots:0,hideYDots:0,width:0,height:0},this._qr=Tl,this._options.image?[4,this.loadImage()]:[3,2];case 1:if(_d.sent(),!this._image)return[2];du=this._options,Au=du.imageOptions,xu=du.qrOptions,_u=Au.imageSize*xl[xu.errorCorrectionLevel],Hu=Math.floor(_u*Hl*Hl),iu=function(Zu){var tp=Zu.originalHeight,hu=Zu.originalWidth,Xl=Zu.maxHiddenDots,Zl=Zu.maxHiddenAxisDots,bu=Zu.dotSize,Ou={x:0,y:0},zu={x:0,y:0};if(tp<=0||hu<=0||Xl<=0||bu<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};var Qu=tp/hu;return Ou.x=Math.floor(Math.sqrt(Xl/Qu)),Ou.x<=0&&(Ou.x=1),Zl&&Zl<Ou.x&&(Ou.x=Zl),Ou.x%2==0&&Ou.x--,zu.x=Ou.x*bu,Ou.y=1+2*Math.ceil((Ou.x*Qu-1)/2),zu.y=Math.round(zu.x*Qu),(Ou.y*Ou.x>Xl||Zl&&Zl<Ou.y)&&(Zl&&Zl<Ou.y?(Ou.y=Zl,Ou.y%2==0&&Ou.x--):Ou.y-=2,zu.y=Ou.y*bu,Ou.x=1+2*Math.ceil((Ou.y/Qu-1)/2),zu.x=Math.round(zu.y/Qu)),{height:zu.y,width:zu.x,hideYDots:Ou.y,hideXDots:Ou.x}}({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:Hu,maxHiddenAxisDots:Hl-14,dotSize:cu}),_d.label=2;case 2:return this.drawBackground(),this.drawDots(function(Zu,tp){var hu,Xl,Zl,bu,Ou,zu;return!(ju._options.imageOptions.hideBackgroundDots&&Zu>=(Hl-iu.hideXDots)/2&&Zu<(Hl+iu.hideXDots)/2&&tp>=(Hl-iu.hideYDots)/2&&tp<(Hl+iu.hideYDots)/2||!((hu=Al[Zu])===null||hu===void 0)&&hu[tp]||!((Xl=Al[Zu-Hl+7])===null||Xl===void 0)&&Xl[tp]||!((Zl=Al[Zu])===null||Zl===void 0)&&Zl[tp-Hl+7]||!((bu=Pl[Zu])===null||bu===void 0)&&bu[tp]||!((Ou=Pl[Zu-Hl+7])===null||Ou===void 0)&&Ou[tp]||!((zu=Pl[Zu])===null||zu===void 0)&&zu[tp-Hl+7])}),this.drawCorners(),this._options.image?[4,this.drawImage({width:iu.width,height:iu.height,count:Hl,dotSize:cu})]:[3,4];case 3:_d.sent(),_d.label=4;case 4:return[2]}})})},Ll.prototype.drawBackground=function(){var Tl,Hl,Dl,Kl=this._element,cu=this._options;if(Kl){var iu=(Tl=cu.backgroundOptions)===null||Tl===void 0?void 0:Tl.gradient,du=(Hl=cu.backgroundOptions)===null||Hl===void 0?void 0:Hl.color;if((iu||du)&&this._createColor({options:iu,color:du,additionalRotation:0,x:0,y:0,height:cu.height,width:cu.width,name:"background-color"}),(Dl=cu.backgroundOptions)===null||Dl===void 0?void 0:Dl.round){var Au=Math.min(cu.width,cu.height),xu=document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id","clip-path-background-color"),this._defs.appendChild(this._backgroundClipPath),xu.setAttribute("x",String((cu.width-Au)/2)),xu.setAttribute("y",String((cu.height-Au)/2)),xu.setAttribute("width",String(Au)),xu.setAttribute("height",String(Au)),xu.setAttribute("rx",String(Au/2*cu.backgroundOptions.round)),this._backgroundClipPath.appendChild(xu)}}},Ll.prototype.drawDots=function(Tl){var Hl,Dl,Kl=this;if(!this._qr)throw"QR code is not defined";var cu=this._options,iu=this._qr.getModuleCount();if(iu>cu.width||iu>cu.height)throw"The canvas is too small.";var du=Math.min(cu.width,cu.height)-2*cu.margin,Au=(cu.shape===Ol?du/Math.sqrt(2):du)/iu,xu=(cu.width-iu*Au)/2,_u=(cu.height-iu*Au)/2,Hu=new Ul({svg:this._element,type:cu.dotsOptions.type});this._dotsClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id","clip-path-dot-color-"+this._instanceId),this._defs.appendChild(this._dotsClipPath),this._createColor({options:(Hl=cu.dotsOptions)===null||Hl===void 0?void 0:Hl.gradient,color:cu.dotsOptions.color,additionalRotation:0,x:0,y:0,height:cu.height,width:cu.width,name:"dot-color-"+this._instanceId});for(var ju=function(dp){for(var kp=function(Ip){return Tl&&!Tl(dp,Ip)?"continue":!((Dl=_d._qr)===null||Dl===void 0)&&Dl.isDark(dp,Ip)?(Hu.draw(xu+dp*Au,_u+Ip*Au,Au,function(Hp,Yp){return!(dp+Hp<0||Ip+Yp<0||dp+Hp>=iu||Ip+Yp>=iu)&&!(Tl&&!Tl(dp+Hp,Ip+Yp))&&!!Kl._qr&&Kl._qr.isDark(dp+Hp,Ip+Yp)}),void(Hu._element&&_d._dotsClipPath&&_d._dotsClipPath.appendChild(Hu._element))):"continue"},Dp=0;Dp<iu;Dp++)kp(Dp)},_d=this,Zu=0;Zu<iu;Zu++)ju(Zu);if(cu.shape===Ol){var tp=Math.floor((du/Au-iu)/2),hu=iu+2*tp,Xl=xu-tp*Au,Zl=_u-tp*Au,bu=[],Ou=Math.floor(hu/2);for(Zu=0;Zu<hu;Zu++){bu[Zu]=[];for(var zu=0;zu<hu;zu++)Zu>=tp-1&&Zu<=hu-tp&&zu>=tp-1&&zu<=hu-tp||Math.sqrt((Zu-Ou)*(Zu-Ou)+(zu-Ou)*(zu-Ou))>Ou?bu[Zu][zu]=0:bu[Zu][zu]=this._qr.isDark(zu-2*tp<0?zu:zu>=iu?zu-2*tp:zu-tp,Zu-2*tp<0?Zu:Zu>=iu?Zu-2*tp:Zu-tp)?1:0}var Qu=function(dp){for(var kp=function(Ip){if(!bu[dp][Ip])return"continue";Hu.draw(Xl+dp*Au,Zl+Ip*Au,Au,function(Hp,Yp){var jp;return!!(!((jp=bu[dp+Hp])===null||jp===void 0)&&jp[Ip+Yp])}),Hu._element&&_p._dotsClipPath&&_p._dotsClipPath.appendChild(Hu._element)},Dp=0;Dp<hu;Dp++)kp(Dp)},_p=this;for(Zu=0;Zu<hu;Zu++)Qu(Zu)}},Ll.prototype.drawCorners=function(){var Tl=this;if(!this._qr)throw"QR code is not defined";var Hl=this._element,Dl=this._options;if(!Hl)throw"Element code is not defined";var Kl=this._qr.getModuleCount(),cu=Math.min(Dl.width,Dl.height)-2*Dl.margin,iu=(Dl.shape===Ol?cu/Math.sqrt(2):cu)/Kl,du=7*iu,Au=3*iu,xu=(Dl.width-Kl*iu)/2,_u=(Dl.height-Kl*iu)/2;[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(function(Hu){var ju,_d,Zu,tp,hu,Xl,Zl,bu,Ou,zu,Qu,_p,dp=Hu[0],kp=Hu[1],Dp=Hu[2],Ip=xu+dp*iu*(Kl-7),Hp=_u+kp*iu*(Kl-7),Yp=Tl._dotsClipPath,jp=Tl._dotsClipPath;if((!((ju=Dl.cornersSquareOptions)===null||ju===void 0)&&ju.gradient||!((_d=Dl.cornersSquareOptions)===null||_d===void 0)&&_d.color)&&((Yp=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-square-color-"+dp+"-"+kp+"-"+Tl._instanceId),Tl._defs.appendChild(Yp),Tl._cornersSquareClipPath=Tl._cornersDotClipPath=jp=Yp,Tl._createColor({options:(Zu=Dl.cornersSquareOptions)===null||Zu===void 0?void 0:Zu.gradient,color:(tp=Dl.cornersSquareOptions)===null||tp===void 0?void 0:tp.color,additionalRotation:Dp,x:Ip,y:Hp,height:du,width:du,name:"corners-square-color-"+dp+"-"+kp+"-"+Tl._instanceId})),(hu=Dl.cornersSquareOptions)===null||hu===void 0?void 0:hu.type){var tm=new su({svg:Tl._element,type:Dl.cornersSquareOptions.type});tm.draw(Ip,Hp,du,Dp),tm._element&&Yp&&Yp.appendChild(tm._element)}else for(var hm=new Ul({svg:Tl._element,type:Dl.dotsOptions.type}),am=function(lm){for(var gm=function(im){if(!(!((Xl=Al[lm])===null||Xl===void 0)&&Xl[im]))return"continue";hm.draw(Ip+lm*iu,Hp+im*iu,iu,function(ym,au){var $u;return!!(!(($u=Al[lm+ym])===null||$u===void 0)&&$u[im+au])}),hm._element&&Yp&&Yp.appendChild(hm._element)},um=0;um<Al[lm].length;um++)gm(um)},Qp=0;Qp<Al.length;Qp++)am(Qp);if((!((Zl=Dl.cornersDotOptions)===null||Zl===void 0)&&Zl.gradient||!((bu=Dl.cornersDotOptions)===null||bu===void 0)&&bu.color)&&((jp=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-dot-color-"+dp+"-"+kp+"-"+Tl._instanceId),Tl._defs.appendChild(jp),Tl._cornersDotClipPath=jp,Tl._createColor({options:(Ou=Dl.cornersDotOptions)===null||Ou===void 0?void 0:Ou.gradient,color:(zu=Dl.cornersDotOptions)===null||zu===void 0?void 0:zu.color,additionalRotation:Dp,x:Ip+2*iu,y:Hp+2*iu,height:Au,width:Au,name:"corners-dot-color-"+dp+"-"+kp+"-"+Tl._instanceId})),(Qu=Dl.cornersDotOptions)===null||Qu===void 0?void 0:Qu.type){var fm=new Nl({svg:Tl._element,type:Dl.cornersDotOptions.type});fm.draw(Ip+2*iu,Hp+2*iu,Au,Dp),fm._element&&jp&&jp.appendChild(fm._element)}else{hm=new Ul({svg:Tl._element,type:Dl.dotsOptions.type});var cm=function(lm){for(var gm=function(im){if(!(!((_p=Pl[lm])===null||_p===void 0)&&_p[im]))return"continue";hm.draw(Ip+lm*iu,Hp+im*iu,iu,function(ym,au){var $u;return!!(!(($u=Pl[lm+ym])===null||$u===void 0)&&$u[im+au])}),hm._element&&jp&&jp.appendChild(hm._element)},um=0;um<Pl[lm].length;um++)gm(um)};for(Qp=0;Qp<Pl.length;Qp++)cm(Qp)}})},Ll.prototype.loadImage=function(){var Tl=this;return new Promise(function(Hl,Dl){var Kl=Tl._options,cu=new Image;if(!Kl.image)return Dl("Image is not defined");typeof Kl.imageOptions.crossOrigin=="string"&&(cu.crossOrigin=Kl.imageOptions.crossOrigin),Tl._image=cu,cu.onload=function(){Hl()},cu.src=Kl.image})},Ll.prototype.drawImage=function(Tl){var Hl=Tl.width,Dl=Tl.height,Kl=Tl.count,cu=Tl.dotSize;return Gl(this,void 0,void 0,function(){var iu,du,Au,xu,_u,Hu,ju,_d,Zu;return Fl(this,function(tp){switch(tp.label){case 0:return iu=this._options,du=(iu.width-Kl*cu)/2,Au=(iu.height-Kl*cu)/2,xu=du+iu.imageOptions.margin+(Kl*cu-Hl)/2,_u=Au+iu.imageOptions.margin+(Kl*cu-Dl)/2,Hu=Hl-2*iu.imageOptions.margin,ju=Dl-2*iu.imageOptions.margin,(_d=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("x",String(xu)),_d.setAttribute("y",String(_u)),_d.setAttribute("width",Hu+"px"),_d.setAttribute("height",ju+"px"),[4,El(iu.image||"")];case 1:return Zu=tp.sent(),_d.setAttribute("href",Zu||""),this._element.appendChild(_d),[2]}})})},Ll.prototype._createColor=function(Tl){var Hl=Tl.options,Dl=Tl.color,Kl=Tl.additionalRotation,cu=Tl.x,iu=Tl.y,du=Tl.height,Au=Tl.width,xu=Tl.name,_u=Au>du?Au:du,Hu=document.createElementNS("http://www.w3.org/2000/svg","rect");if(Hu.setAttribute("x",String(cu)),Hu.setAttribute("y",String(iu)),Hu.setAttribute("height",String(du)),Hu.setAttribute("width",String(Au)),Hu.setAttribute("clip-path","url('#clip-path-"+xu+"')"),Hl){var ju;if(Hl.type==="radial")(ju=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")).setAttribute("id",xu),ju.setAttribute("gradientUnits","userSpaceOnUse"),ju.setAttribute("fx",String(cu+Au/2)),ju.setAttribute("fy",String(iu+du/2)),ju.setAttribute("cx",String(cu+Au/2)),ju.setAttribute("cy",String(iu+du/2)),ju.setAttribute("r",String(_u/2));else{var _d=((Hl.rotation||0)+Kl)%(2*Math.PI),Zu=(_d+2*Math.PI)%(2*Math.PI),tp=cu+Au/2,hu=iu+du/2,Xl=cu+Au/2,Zl=iu+du/2;Zu>=0&&Zu<=.25*Math.PI||Zu>1.75*Math.PI&&Zu<=2*Math.PI?(tp-=Au/2,hu-=du/2*Math.tan(_d),Xl+=Au/2,Zl+=du/2*Math.tan(_d)):Zu>.25*Math.PI&&Zu<=.75*Math.PI?(hu-=du/2,tp-=Au/2/Math.tan(_d),Zl+=du/2,Xl+=Au/2/Math.tan(_d)):Zu>.75*Math.PI&&Zu<=1.25*Math.PI?(tp+=Au/2,hu+=du/2*Math.tan(_d),Xl-=Au/2,Zl-=du/2*Math.tan(_d)):Zu>1.25*Math.PI&&Zu<=1.75*Math.PI&&(hu+=du/2,tp+=Au/2/Math.tan(_d),Zl-=du/2,Xl-=Au/2/Math.tan(_d)),(ju=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")).setAttribute("id",xu),ju.setAttribute("gradientUnits","userSpaceOnUse"),ju.setAttribute("x1",String(Math.round(tp))),ju.setAttribute("y1",String(Math.round(hu))),ju.setAttribute("x2",String(Math.round(Xl))),ju.setAttribute("y2",String(Math.round(Zl)))}Hl.colorStops.forEach(function(bu){var Ou=bu.offset,zu=bu.color,Qu=document.createElementNS("http://www.w3.org/2000/svg","stop");Qu.setAttribute("offset",100*Ou+"%"),Qu.setAttribute("stop-color",zu),ju.appendChild(Qu)}),Hu.setAttribute("fill","url('#"+xu+"')"),this._defs.appendChild(ju)}else Dl&&Hu.setAttribute("fill",Dl);this._element.appendChild(Hu)},Ll.instanceCount=0,Ll}(),Zs="canvas";for(var Bl={},eu=0;eu<=40;eu++)Bl[eu]=eu;const Eu={type:Zs,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:Bl[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000"},backgroundOptions:{round:0,color:"#fff"}};var uu=function(){return uu=Object.assign||function(Ll){for(var Tl,Hl=1,Dl=arguments.length;Hl<Dl;Hl++)for(var Kl in Tl=arguments[Hl])Object.prototype.hasOwnProperty.call(Tl,Kl)&&(Ll[Kl]=Tl[Kl]);return Ll},uu.apply(this,arguments)};function Yl(Ll){var Tl=uu({},Ll);if(!Tl.colorStops||!Tl.colorStops.length)throw"Field 'colorStops' is required in gradient";return Tl.rotation?Tl.rotation=Number(Tl.rotation):Tl.rotation=0,Tl.colorStops=Tl.colorStops.map(function(Hl){return uu(uu({},Hl),{offset:Number(Hl.offset)})}),Tl}function zl(Ll){var Tl=uu({},Ll);return Tl.width=Number(Tl.width),Tl.height=Number(Tl.height),Tl.margin=Number(Tl.margin),Tl.imageOptions=uu(uu({},Tl.imageOptions),{hideBackgroundDots:!!Tl.imageOptions.hideBackgroundDots,imageSize:Number(Tl.imageOptions.imageSize),margin:Number(Tl.imageOptions.margin)}),Tl.margin>Math.min(Tl.width,Tl.height)&&(Tl.margin=Math.min(Tl.width,Tl.height)),Tl.dotsOptions=uu({},Tl.dotsOptions),Tl.dotsOptions.gradient&&(Tl.dotsOptions.gradient=Yl(Tl.dotsOptions.gradient)),Tl.cornersSquareOptions&&(Tl.cornersSquareOptions=uu({},Tl.cornersSquareOptions),Tl.cornersSquareOptions.gradient&&(Tl.cornersSquareOptions.gradient=Yl(Tl.cornersSquareOptions.gradient))),Tl.cornersDotOptions&&(Tl.cornersDotOptions=uu({},Tl.cornersDotOptions),Tl.cornersDotOptions.gradient&&(Tl.cornersDotOptions.gradient=Yl(Tl.cornersDotOptions.gradient))),Tl.backgroundOptions&&(Tl.backgroundOptions=uu({},Tl.backgroundOptions),Tl.backgroundOptions.gradient&&(Tl.backgroundOptions.gradient=Yl(Tl.backgroundOptions.gradient))),Tl}var ou=Ts(192),pu=Ts.n(ou),fu=function(Ll,Tl,Hl,Dl){return new(Hl||(Hl=Promise))(function(Kl,cu){function iu(xu){try{Au(Dl.next(xu))}catch(_u){cu(_u)}}function du(xu){try{Au(Dl.throw(xu))}catch(_u){cu(_u)}}function Au(xu){var _u;xu.done?Kl(xu.value):(_u=xu.value,_u instanceof Hl?_u:new Hl(function(Hu){Hu(_u)})).then(iu,du)}Au((Dl=Dl.apply(Ll,[])).next())})},yu=function(Ll,Tl){var Hl,Dl,Kl,cu,iu={label:0,sent:function(){if(1&Kl[0])throw Kl[1];return Kl[1]},trys:[],ops:[]};return cu={next:du(0),throw:du(1),return:du(2)},typeof Symbol=="function"&&(cu[Symbol.iterator]=function(){return this}),cu;function du(Au){return function(xu){return function(_u){if(Hl)throw new TypeError("Generator is already executing.");for(;iu;)try{if(Hl=1,Dl&&(Kl=2&_u[0]?Dl.return:_u[0]?Dl.throw||((Kl=Dl.return)&&Kl.call(Dl),0):Dl.next)&&!(Kl=Kl.call(Dl,_u[1])).done)return Kl;switch(Dl=0,Kl&&(_u=[2&_u[0],Kl.value]),_u[0]){case 0:case 1:Kl=_u;break;case 4:return iu.label++,{value:_u[1],done:!1};case 5:iu.label++,Dl=_u[1],_u=[0];continue;case 7:_u=iu.ops.pop(),iu.trys.pop();continue;default:if(!((Kl=(Kl=iu.trys).length>0&&Kl[Kl.length-1])||_u[0]!==6&&_u[0]!==2)){iu=0;continue}if(_u[0]===3&&(!Kl||_u[1]>Kl[0]&&_u[1]<Kl[3])){iu.label=_u[1];break}if(_u[0]===6&&iu.label<Kl[1]){iu.label=Kl[1],Kl=_u;break}if(Kl&&iu.label<Kl[2]){iu.label=Kl[2],iu.ops.push(_u);break}Kl[2]&&iu.ops.pop(),iu.trys.pop();continue}_u=Tl.call(Ll,iu)}catch(Hu){_u=[6,Hu],Dl=0}finally{Hl=Kl=0}if(5&_u[0])throw _u[1];return{value:_u[0]?_u[1]:void 0,done:!0}}([Au,xu])}}};const tu=function(){function Ll(Tl){this._options=Tl?zl(wl(Eu,Tl)):Eu,this.update()}return Ll._clearContainer=function(Tl){Tl&&(Tl.innerHTML="")},Ll.prototype._setupSvg=function(){var Tl=this;if(this._qr){var Hl=new yl(this._options);this._svg=Hl.getElement(),this._svgDrawingPromise=Hl.drawQR(this._qr).then(function(){var Dl;Tl._svg&&((Dl=Tl._extension)===null||Dl===void 0||Dl.call(Tl,Hl.getElement(),Tl._options))})}},Ll.prototype._setupCanvas=function(){var Tl,Hl=this;this._qr&&(this._canvas=document.createElement("canvas"),this._canvas.width=this._options.width,this._canvas.height=this._options.height,this._setupSvg(),this._canvasDrawingPromise=(Tl=this._svgDrawingPromise)===null||Tl===void 0?void 0:Tl.then(function(){if(Hl._svg){var Dl=Hl._svg,Kl=new XMLSerializer().serializeToString(Dl),cu="data:image/svg+xml;base64,"+btoa(Kl),iu=new Image;return new Promise(function(du){iu.onload=function(){var Au,xu;(xu=(Au=Hl._canvas)===null||Au===void 0?void 0:Au.getContext("2d"))===null||xu===void 0||xu.drawImage(iu,0,0),du()},iu.src=cu})}}))},Ll.prototype._getElement=function(Tl){return Tl===void 0&&(Tl="png"),fu(this,void 0,void 0,function(){return yu(this,function(Hl){switch(Hl.label){case 0:if(!this._qr)throw"QR code is empty";return Tl.toLowerCase()!=="svg"?[3,2]:(this._svg&&this._svgDrawingPromise||this._setupSvg(),[4,this._svgDrawingPromise]);case 1:return Hl.sent(),[2,this._svg];case 2:return this._canvas&&this._canvasDrawingPromise||this._setupCanvas(),[4,this._canvasDrawingPromise];case 3:return Hl.sent(),[2,this._canvas]}})})},Ll.prototype.update=function(Tl){Ll._clearContainer(this._container),this._options=Tl?zl(wl(this._options,Tl)):this._options,this._options.data&&(this._qr=pu()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(Hl){switch(!0){case/^[0-9]*$/.test(Hl):return Rs;case/^[0-9A-Z $%*+\-./:]*$/.test(Hl):return Bs;default:return Ns}}(this._options.data)),this._qr.make(),this._options.type===Zs?this._setupCanvas():this._setupSvg(),this.append(this._container))},Ll.prototype.append=function(Tl){if(Tl){if(typeof Tl.appendChild!="function")throw"Container should be a single DOM node";this._options.type===Zs?this._canvas&&Tl.appendChild(this._canvas):this._svg&&Tl.appendChild(this._svg),this._container=Tl}},Ll.prototype.applyExtension=function(Tl){if(!Tl)throw"Extension function should be defined.";this._extension=Tl,this.update()},Ll.prototype.deleteExtension=function(){this._extension=void 0,this.update()},Ll.prototype.getRawData=function(Tl){return Tl===void 0&&(Tl="png"),fu(this,void 0,void 0,function(){var Hl,Dl,Kl;return yu(this,function(cu){switch(cu.label){case 0:if(!this._qr)throw"QR code is empty";return[4,this._getElement(Tl)];case 1:return(Hl=cu.sent())?Tl.toLowerCase()==="svg"?(Dl=new XMLSerializer,Kl=Dl.serializeToString(Hl),[2,new Blob([`<?xml version="1.0" standalone="no"?>\r
`+Kl],{type:"image/svg+xml"})]):[2,new Promise(function(iu){return Hl.toBlob(iu,"image/"+Tl,1)})]:[2,null]}})})},Ll.prototype.download=function(Tl){return fu(this,void 0,void 0,function(){var Hl,Dl,Kl,cu,iu;return yu(this,function(du){switch(du.label){case 0:if(!this._qr)throw"QR code is empty";return Hl="png",Dl="qr",typeof Tl=="string"?(Hl=Tl,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):typeof Tl=="object"&&Tl!==null&&(Tl.name&&(Dl=Tl.name),Tl.extension&&(Hl=Tl.extension)),[4,this._getElement(Hl)];case 1:return(Kl=du.sent())?(Hl.toLowerCase()==="svg"?(cu=new XMLSerializer,iu=`<?xml version="1.0" standalone="no"?>\r
`+(iu=cu.serializeToString(Kl)),_l("data:image/svg+xml;charset=utf-8,"+encodeURIComponent(iu),Dl+".svg")):_l(Kl.toDataURL("image/"+Hl),Dl+"."+Hl),[2]):[2]}})})},Ll}()}},Ss={};function Es(_s){if(Ss[_s])return Ss[_s].exports;var Is=Ss[_s]={exports:{}};return ws[_s](Is,Is.exports,Es),Is.exports}return Es.n=_s=>{var Is=_s&&_s.__esModule?()=>_s.default:()=>_s;return Es.d(Is,{a:Is}),Is},Es.d=(_s,Is)=>{for(var Ts in Is)Es.o(Is,Ts)&&!Es.o(_s,Ts)&&Object.defineProperty(_s,Ts,{enumerable:!0,get:Is[Ts]})},Es.o=(_s,Is)=>Object.prototype.hasOwnProperty.call(_s,Is),Es(676)})().default})})(qrCodeStyling$1);var qrCodeStylingExports$1=qrCodeStyling$1.exports;const r=getDefaultExportFromCjs(qrCodeStylingExports$1);var lottie={exports:{}};(function(module,exports){typeof document<"u"&&typeof navigator<"u"&&function(vs,ms){module.exports=ms()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(ms){_useWebWorker=!!ms},getWebWorker=function(){return _useWebWorker},setLocationHref=function(ms){locationHref=ms},getLocationHref=function(){return locationHref};function createTag(vs){return document.createElement(vs)}function extendPrototype(vs,ms){var ws,Ss=vs.length,Es;for(ws=0;ws<Ss;ws+=1){Es=vs[ws].prototype;for(var _s in Es)Object.prototype.hasOwnProperty.call(Es,_s)&&(ms.prototype[_s]=Es[_s])}}function getDescriptor(vs,ms){return Object.getOwnPropertyDescriptor(vs,ms)}function createProxyFunction(vs){function ms(){}return ms.prototype=vs,ms}var audioControllerFactory=function(){function vs(ms){this.audios=[],this.audioFactory=ms,this._volume=1,this._isMuted=!1}return vs.prototype={addAudio:function(ws){this.audios.push(ws)},pause:function(){var ws,Ss=this.audios.length;for(ws=0;ws<Ss;ws+=1)this.audios[ws].pause()},resume:function(){var ws,Ss=this.audios.length;for(ws=0;ws<Ss;ws+=1)this.audios[ws].resume()},setRate:function(ws){var Ss,Es=this.audios.length;for(Ss=0;Ss<Es;Ss+=1)this.audios[Ss].setRate(ws)},createAudio:function(ws){return this.audioFactory?this.audioFactory(ws):window.Howl?new window.Howl({src:[ws]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(ws){this.audioFactory=ws},setVolume:function(ws){this._volume=ws,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var ws,Ss=this.audios.length;for(ws=0;ws<Ss;ws+=1)this.audios[ws].volume(this._volume*(this._isMuted?0:1))}},function(){return new vs}}(),createTypedArray=function(){function vs(ws,Ss){var Es=0,_s=[],Is;switch(ws){case"int16":case"uint8c":Is=1;break;default:Is=1.1;break}for(Es=0;Es<Ss;Es+=1)_s.push(Is);return _s}function ms(ws,Ss){return ws==="float32"?new Float32Array(Ss):ws==="int16"?new Int16Array(Ss):ws==="uint8c"?new Uint8ClampedArray(Ss):vs(ws,Ss)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?ms:vs}();function createSizedArray(vs){return Array.apply(null,{length:vs})}function _typeof$6(vs){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ms){return typeof ms}:function(ms){return ms&&typeof Symbol=="function"&&ms.constructor===Symbol&&ms!==Symbol.prototype?"symbol":typeof ms},_typeof$6(vs)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var vs=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],ms,ws=vs.length;for(ms=0;ms<ws;ms+=1)BMMath[vs[ms]]=Math[vs[ms]]})(),BMMath.random=Math.random,BMMath.abs=function(vs){var ms=_typeof$6(vs);if(ms==="object"&&vs.length){var ws=createSizedArray(vs.length),Ss,Es=vs.length;for(Ss=0;Ss<Es;Ss+=1)ws[Ss]=Math.abs(vs[Ss]);return ws}return Math.abs(vs)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(vs){vs.style.position="absolute",vs.style.top=0,vs.style.left=0,vs.style.display="block",vs.style.transformOrigin="0 0",vs.style.webkitTransformOrigin="0 0",vs.style.backfaceVisibility="visible",vs.style.webkitBackfaceVisibility="visible",vs.style.transformStyle="preserve-3d",vs.style.webkitTransformStyle="preserve-3d",vs.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(vs,ms,ws,Ss){this.type=vs,this.currentTime=ms,this.totalTime=ws,this.direction=Ss<0?-1:1}function BMCompleteEvent(vs,ms){this.type=vs,this.direction=ms<0?-1:1}function BMCompleteLoopEvent(vs,ms,ws,Ss){this.type=vs,this.currentLoop=ws,this.totalLoops=ms,this.direction=Ss<0?-1:1}function BMSegmentStartEvent(vs,ms,ws){this.type=vs,this.firstFrame=ms,this.totalFrames=ws}function BMDestroyEvent(vs,ms){this.type=vs,this.target=ms}function BMRenderFrameErrorEvent(vs,ms){this.type="renderFrameError",this.nativeError=vs,this.currentTime=ms}function BMConfigErrorEvent(vs){this.type="configError",this.nativeError=vs}var createElementID=function(){var vs=0;return function(){return vs+=1,idPrefix$1+"__lottie_element_"+vs}}();function HSVtoRGB(vs,ms,ws){var Ss,Es,_s,Is,Ts,Rs,Bs,Ns;switch(Is=Math.floor(vs*6),Ts=vs*6-Is,Rs=ws*(1-ms),Bs=ws*(1-Ts*ms),Ns=ws*(1-(1-Ts)*ms),Is%6){case 0:Ss=ws,Es=Ns,_s=Rs;break;case 1:Ss=Bs,Es=ws,_s=Rs;break;case 2:Ss=Rs,Es=ws,_s=Ns;break;case 3:Ss=Rs,Es=Bs,_s=ws;break;case 4:Ss=Ns,Es=Rs,_s=ws;break;case 5:Ss=ws,Es=Rs,_s=Bs;break}return[Ss,Es,_s]}function RGBtoHSV(vs,ms,ws){var Ss=Math.max(vs,ms,ws),Es=Math.min(vs,ms,ws),_s=Ss-Es,Is,Ts=Ss===0?0:_s/Ss,Rs=Ss/255;switch(Ss){case Es:Is=0;break;case vs:Is=ms-ws+_s*(ms<ws?6:0),Is/=6*_s;break;case ms:Is=ws-vs+_s*2,Is/=6*_s;break;case ws:Is=vs-ms+_s*4,Is/=6*_s;break}return[Is,Ts,Rs]}function addSaturationToRGB(vs,ms){var ws=RGBtoHSV(vs[0]*255,vs[1]*255,vs[2]*255);return ws[1]+=ms,ws[1]>1?ws[1]=1:ws[1]<=0&&(ws[1]=0),HSVtoRGB(ws[0],ws[1],ws[2])}function addBrightnessToRGB(vs,ms){var ws=RGBtoHSV(vs[0]*255,vs[1]*255,vs[2]*255);return ws[2]+=ms,ws[2]>1?ws[2]=1:ws[2]<0&&(ws[2]=0),HSVtoRGB(ws[0],ws[1],ws[2])}function addHueToRGB(vs,ms){var ws=RGBtoHSV(vs[0]*255,vs[1]*255,vs[2]*255);return ws[0]+=ms/360,ws[0]>1?ws[0]-=1:ws[0]<0&&(ws[0]+=1),HSVtoRGB(ws[0],ws[1],ws[2])}var rgbToHex=function(){var vs=[],ms,ws;for(ms=0;ms<256;ms+=1)ws=ms.toString(16),vs[ms]=ws.length===1?"0"+ws:ws;return function(Ss,Es,_s){return Ss<0&&(Ss=0),Es<0&&(Es=0),_s<0&&(_s=0),"#"+vs[Ss]+vs[Es]+vs[_s]}}(),setSubframeEnabled=function(ms){subframeEnabled=!!ms},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(ms){expressionsPlugin=ms},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(ms){expressionsInterfaces=ms},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(ms){defaultCurveSegments=ms},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(ms){idPrefix$1=ms};function createNS(vs){return document.createElementNS(svgNS,vs)}function _typeof$5(vs){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ms){return typeof ms}:function(ms){return ms&&typeof Symbol=="function"&&ms.constructor===Symbol&&ms!==Symbol.prototype?"symbol":typeof ms},_typeof$5(vs)}var dataManager=function(){var vs=1,ms=[],ws,Ss,Es={onmessage:function(){},postMessage:function($l){ws({data:$l})}},_s={postMessage:function($l){Es.onmessage({data:$l})}};function Is(Js){if(window.Worker&&window.Blob&&getWebWorker()){var $l=new Blob(["var _workerSelf = self; self.onmessage = ",Js.toString()],{type:"text/javascript"}),wl=URL.createObjectURL($l);return new Worker(wl)}return ws=Js,Es}function Ts(){Ss||(Ss=Is(function($l){function wl(){function Cl(Fl,Al){var Pl,yl,Zs=Fl.length,Bl,eu,Eu,uu;for(yl=0;yl<Zs;yl+=1)if(Pl=Fl[yl],"ks"in Pl&&!Pl.completed){if(Pl.completed=!0,Pl.hasMask){var Yl=Pl.masksProperties;for(eu=Yl.length,Bl=0;Bl<eu;Bl+=1)if(Yl[Bl].pt.k.i)Vl(Yl[Bl].pt.k);else for(uu=Yl[Bl].pt.k.length,Eu=0;Eu<uu;Eu+=1)Yl[Bl].pt.k[Eu].s&&Vl(Yl[Bl].pt.k[Eu].s[0]),Yl[Bl].pt.k[Eu].e&&Vl(Yl[Bl].pt.k[Eu].e[0])}Pl.ty===0?(Pl.layers=xl(Pl.refId,Al),Cl(Pl.layers,Al)):Pl.ty===4?Ml(Pl.shapes):Pl.ty===5&&Ol(Pl)}}function Sl(Fl,Al){if(Fl){var Pl=0,yl=Fl.length;for(Pl=0;Pl<yl;Pl+=1)Fl[Pl].t===1&&(Fl[Pl].data.layers=xl(Fl[Pl].data.refId,Al),Cl(Fl[Pl].data.layers,Al))}}function El(Fl,Al){for(var Pl=0,yl=Al.length;Pl<yl;){if(Al[Pl].id===Fl)return Al[Pl];Pl+=1}return null}function xl(Fl,Al){var Pl=El(Fl,Al);return Pl?Pl.layers.__used?JSON.parse(JSON.stringify(Pl.layers)):(Pl.layers.__used=!0,Pl.layers):null}function Ml(Fl){var Al,Pl=Fl.length,yl,Zs;for(Al=Pl-1;Al>=0;Al-=1)if(Fl[Al].ty==="sh")if(Fl[Al].ks.k.i)Vl(Fl[Al].ks.k);else for(Zs=Fl[Al].ks.k.length,yl=0;yl<Zs;yl+=1)Fl[Al].ks.k[yl].s&&Vl(Fl[Al].ks.k[yl].s[0]),Fl[Al].ks.k[yl].e&&Vl(Fl[Al].ks.k[yl].e[0]);else Fl[Al].ty==="gr"&&Ml(Fl[Al].it)}function Vl(Fl){var Al,Pl=Fl.i.length;for(Al=0;Al<Pl;Al+=1)Fl.i[Al][0]+=Fl.v[Al][0],Fl.i[Al][1]+=Fl.v[Al][1],Fl.o[Al][0]+=Fl.v[Al][0],Fl.o[Al][1]+=Fl.v[Al][1]}function Ul(Fl,Al){var Pl=Al?Al.split("."):[100,100,100];return Fl[0]>Pl[0]?!0:Pl[0]>Fl[0]?!1:Fl[1]>Pl[1]?!0:Pl[1]>Fl[1]?!1:Fl[2]>Pl[2]?!0:Pl[2]>Fl[2]?!1:null}var _h=function(){var Fl=[4,4,14];function Al(yl){var Zs=yl.t.d;yl.t.d={k:[{s:Zs,t:0}]}}function Pl(yl){var Zs,Bl=yl.length;for(Zs=0;Zs<Bl;Zs+=1)yl[Zs].ty===5&&Al(yl[Zs])}return function(yl){if(Ul(Fl,yl.v)&&(Pl(yl.layers),yl.assets)){var Zs,Bl=yl.assets.length;for(Zs=0;Zs<Bl;Zs+=1)yl.assets[Zs].layers&&Pl(yl.assets[Zs].layers)}}}(),nu=function(){var Fl=[4,7,99];return function(Al){if(Al.chars&&!Ul(Fl,Al.v)){var Pl,yl=Al.chars.length;for(Pl=0;Pl<yl;Pl+=1){var Zs=Al.chars[Pl];Zs.data&&Zs.data.shapes&&(Ml(Zs.data.shapes),Zs.data.ip=0,Zs.data.op=99999,Zs.data.st=0,Zs.data.sr=1,Zs.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Al.chars[Pl].t||(Zs.data.shapes.push({ty:"no"}),Zs.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),su=function(){var Fl=[5,7,15];function Al(yl){var Zs=yl.t.p;typeof Zs.a=="number"&&(Zs.a={a:0,k:Zs.a}),typeof Zs.p=="number"&&(Zs.p={a:0,k:Zs.p}),typeof Zs.r=="number"&&(Zs.r={a:0,k:Zs.r})}function Pl(yl){var Zs,Bl=yl.length;for(Zs=0;Zs<Bl;Zs+=1)yl[Zs].ty===5&&Al(yl[Zs])}return function(yl){if(Ul(Fl,yl.v)&&(Pl(yl.layers),yl.assets)){var Zs,Bl=yl.assets.length;for(Zs=0;Zs<Bl;Zs+=1)yl.assets[Zs].layers&&Pl(yl.assets[Zs].layers)}}}(),Jl=function(){var Fl=[4,1,9];function Al(yl){var Zs,Bl=yl.length,eu,Eu;for(Zs=0;Zs<Bl;Zs+=1)if(yl[Zs].ty==="gr")Al(yl[Zs].it);else if(yl[Zs].ty==="fl"||yl[Zs].ty==="st")if(yl[Zs].c.k&&yl[Zs].c.k[0].i)for(Eu=yl[Zs].c.k.length,eu=0;eu<Eu;eu+=1)yl[Zs].c.k[eu].s&&(yl[Zs].c.k[eu].s[0]/=255,yl[Zs].c.k[eu].s[1]/=255,yl[Zs].c.k[eu].s[2]/=255,yl[Zs].c.k[eu].s[3]/=255),yl[Zs].c.k[eu].e&&(yl[Zs].c.k[eu].e[0]/=255,yl[Zs].c.k[eu].e[1]/=255,yl[Zs].c.k[eu].e[2]/=255,yl[Zs].c.k[eu].e[3]/=255);else yl[Zs].c.k[0]/=255,yl[Zs].c.k[1]/=255,yl[Zs].c.k[2]/=255,yl[Zs].c.k[3]/=255}function Pl(yl){var Zs,Bl=yl.length;for(Zs=0;Zs<Bl;Zs+=1)yl[Zs].ty===4&&Al(yl[Zs].shapes)}return function(yl){if(Ul(Fl,yl.v)&&(Pl(yl.layers),yl.assets)){var Zs,Bl=yl.assets.length;for(Zs=0;Zs<Bl;Zs+=1)yl.assets[Zs].layers&&Pl(yl.assets[Zs].layers)}}}(),Il=function(){var Fl=[4,4,18];function Al(yl){var Zs,Bl=yl.length,eu,Eu;for(Zs=Bl-1;Zs>=0;Zs-=1)if(yl[Zs].ty==="sh")if(yl[Zs].ks.k.i)yl[Zs].ks.k.c=yl[Zs].closed;else for(Eu=yl[Zs].ks.k.length,eu=0;eu<Eu;eu+=1)yl[Zs].ks.k[eu].s&&(yl[Zs].ks.k[eu].s[0].c=yl[Zs].closed),yl[Zs].ks.k[eu].e&&(yl[Zs].ks.k[eu].e[0].c=yl[Zs].closed);else yl[Zs].ty==="gr"&&Al(yl[Zs].it)}function Pl(yl){var Zs,Bl,eu=yl.length,Eu,uu,Yl,zl;for(Bl=0;Bl<eu;Bl+=1){if(Zs=yl[Bl],Zs.hasMask){var ou=Zs.masksProperties;for(uu=ou.length,Eu=0;Eu<uu;Eu+=1)if(ou[Eu].pt.k.i)ou[Eu].pt.k.c=ou[Eu].cl;else for(zl=ou[Eu].pt.k.length,Yl=0;Yl<zl;Yl+=1)ou[Eu].pt.k[Yl].s&&(ou[Eu].pt.k[Yl].s[0].c=ou[Eu].cl),ou[Eu].pt.k[Yl].e&&(ou[Eu].pt.k[Yl].e[0].c=ou[Eu].cl)}Zs.ty===4&&Al(Zs.shapes)}}return function(yl){if(Ul(Fl,yl.v)&&(Pl(yl.layers),yl.assets)){var Zs,Bl=yl.assets.length;for(Zs=0;Zs<Bl;Zs+=1)yl.assets[Zs].layers&&Pl(yl.assets[Zs].layers)}}}();function Nl(Fl){Fl.__complete||(Jl(Fl),_h(Fl),nu(Fl),su(Fl),Il(Fl),Cl(Fl.layers,Fl.assets),Sl(Fl.chars,Fl.assets),Fl.__complete=!0)}function Ol(Fl){Fl.t.a.length===0&&"m"in Fl.t.p}var Gl={};return Gl.completeData=Nl,Gl.checkColors=Jl,Gl.checkChars=nu,Gl.checkPathProperties=su,Gl.checkShapes=Il,Gl.completeLayers=Cl,Gl}if(_s.dataManager||(_s.dataManager=wl()),_s.assetLoader||(_s.assetLoader=function(){function Cl(El){var xl=El.getResponseHeader("content-type");return xl&&El.responseType==="json"&&xl.indexOf("json")!==-1||El.response&&_typeof$5(El.response)==="object"?El.response:El.response&&typeof El.response=="string"?JSON.parse(El.response):El.responseText?JSON.parse(El.responseText):null}function Sl(El,xl,Ml,Vl){var Ul,_h=new XMLHttpRequest;try{_h.responseType="json"}catch{}_h.onreadystatechange=function(){if(_h.readyState===4)if(_h.status===200)Ul=Cl(_h),Ml(Ul);else try{Ul=Cl(_h),Ml(Ul)}catch(nu){Vl&&Vl(nu)}};try{_h.open(["G","E","T"].join(""),El,!0)}catch{_h.open(["G","E","T"].join(""),xl+"/"+El,!0)}_h.send()}return{load:Sl}}()),$l.data.type==="loadAnimation")_s.assetLoader.load($l.data.path,$l.data.fullPath,function(Cl){_s.dataManager.completeData(Cl),_s.postMessage({id:$l.data.id,payload:Cl,status:"success"})},function(){_s.postMessage({id:$l.data.id,status:"error"})});else if($l.data.type==="complete"){var _l=$l.data.animation;_s.dataManager.completeData(_l),_s.postMessage({id:$l.data.id,payload:_l,status:"success"})}else $l.data.type==="loadData"&&_s.assetLoader.load($l.data.path,$l.data.fullPath,function(Cl){_s.postMessage({id:$l.data.id,payload:Cl,status:"success"})},function(){_s.postMessage({id:$l.data.id,status:"error"})})}),Ss.onmessage=function(Js){var $l=Js.data,wl=$l.id,_l=ms[wl];ms[wl]=null,$l.status==="success"?_l.onComplete($l.payload):_l.onError&&_l.onError()})}function Rs(Js,$l){vs+=1;var wl="processId_"+vs;return ms[wl]={onComplete:Js,onError:$l},wl}function Bs(Js,$l,wl){Ts();var _l=Rs($l,wl);Ss.postMessage({type:"loadAnimation",path:Js,fullPath:window.location.origin+window.location.pathname,id:_l})}function Ns(Js,$l,wl){Ts();var _l=Rs($l,wl);Ss.postMessage({type:"loadData",path:Js,fullPath:window.location.origin+window.location.pathname,id:_l})}function Ws(Js,$l,wl){Ts();var _l=Rs($l,wl);Ss.postMessage({type:"complete",animation:Js,id:_l})}return{loadAnimation:Bs,loadData:Ns,completeAnimation:Ws}}(),ImagePreloader=function(){var vs=function(){var Sl=createTag("canvas");Sl.width=1,Sl.height=1;var El=Sl.getContext("2d");return El.fillStyle="rgba(0,0,0,0)",El.fillRect(0,0,1,1),Sl}();function ms(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function ws(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function Ss(Sl,El,xl){var Ml="";if(Sl.e)Ml=Sl.p;else if(El){var Vl=Sl.p;Vl.indexOf("images/")!==-1&&(Vl=Vl.split("/")[1]),Ml=El+Vl}else Ml=xl,Ml+=Sl.u?Sl.u:"",Ml+=Sl.p;return Ml}function Es(Sl){var El=0,xl=setInterval((function(){var Ml=Sl.getBBox();(Ml.width||El>500)&&(this._imageLoaded(),clearInterval(xl)),El+=1}).bind(this),50)}function _s(Sl){var El=Ss(Sl,this.assetsPath,this.path),xl=createNS("image");isSafari?this.testImageLoaded(xl):xl.addEventListener("load",this._imageLoaded,!1),xl.addEventListener("error",(function(){Ml.img=vs,this._imageLoaded()}).bind(this),!1),xl.setAttributeNS("http://www.w3.org/1999/xlink","href",El),this._elementHelper.append?this._elementHelper.append(xl):this._elementHelper.appendChild(xl);var Ml={img:xl,assetData:Sl};return Ml}function Is(Sl){var El=Ss(Sl,this.assetsPath,this.path),xl=createTag("img");xl.crossOrigin="anonymous",xl.addEventListener("load",this._imageLoaded,!1),xl.addEventListener("error",(function(){Ml.img=vs,this._imageLoaded()}).bind(this),!1),xl.src=El;var Ml={img:xl,assetData:Sl};return Ml}function Ts(Sl){var El={assetData:Sl},xl=Ss(Sl,this.assetsPath,this.path);return dataManager.loadData(xl,(function(Ml){El.img=Ml,this._footageLoaded()}).bind(this),(function(){El.img={},this._footageLoaded()}).bind(this)),El}function Rs(Sl,El){this.imagesLoadedCb=El;var xl,Ml=Sl.length;for(xl=0;xl<Ml;xl+=1)Sl[xl].layers||(!Sl[xl].t||Sl[xl].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(Sl[xl]))):Sl[xl].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(Sl[xl]))))}function Bs(Sl){this.path=Sl||""}function Ns(Sl){this.assetsPath=Sl||""}function Ws(Sl){for(var El=0,xl=this.images.length;El<xl;){if(this.images[El].assetData===Sl)return this.images[El].img;El+=1}return null}function Js(){this.imagesLoadedCb=null,this.images.length=0}function $l(){return this.totalImages===this.loadedAssets}function wl(){return this.totalFootages===this.loadedFootagesCount}function _l(Sl,El){Sl==="svg"?(this._elementHelper=El,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function Cl(){this._imageLoaded=ms.bind(this),this._footageLoaded=ws.bind(this),this.testImageLoaded=Es.bind(this),this.createFootageData=Ts.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return Cl.prototype={loadAssets:Rs,setAssetsPath:Ns,setPath:Bs,loadedImages:$l,loadedFootages:wl,destroy:Js,getAsset:Ws,createImgData:Is,createImageData:_s,imageLoaded:ms,footageLoaded:ws,setCacheType:_l},Cl}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(ms,ws){if(this._cbs[ms])for(var Ss=this._cbs[ms],Es=0;Es<Ss.length;Es+=1)Ss[Es](ws)},addEventListener:function(ms,ws){return this._cbs[ms]||(this._cbs[ms]=[]),this._cbs[ms].push(ws),(function(){this.removeEventListener(ms,ws)}).bind(this)},removeEventListener:function(ms,ws){if(!ws)this._cbs[ms]=null;else if(this._cbs[ms]){for(var Ss=0,Es=this._cbs[ms].length;Ss<Es;)this._cbs[ms][Ss]===ws&&(this._cbs[ms].splice(Ss,1),Ss-=1,Es-=1),Ss+=1;this._cbs[ms].length||(this._cbs[ms]=null)}}};var markerParser=function(){function vs(ms){for(var ws=ms.split(`\r
`),Ss={},Es,_s=0,Is=0;Is<ws.length;Is+=1)Es=ws[Is].split(":"),Es.length===2&&(Ss[Es[0]]=Es[1].trim(),_s+=1);if(_s===0)throw new Error;return Ss}return function(ms){for(var ws=[],Ss=0;Ss<ms.length;Ss+=1){var Es=ms[Ss],_s={time:Es.tm,duration:Es.dr};try{_s.payload=JSON.parse(ms[Ss].cm)}catch{try{_s.payload=vs(ms[Ss].cm)}catch{_s.payload={name:ms[Ss].cm}}}ws.push(_s)}return ws}}(),ProjectInterface=function(){function vs(ms){this.compositions.push(ms)}return function(){function ms(ws){for(var Ss=0,Es=this.compositions.length;Ss<Es;){if(this.compositions[Ss].data&&this.compositions[Ss].data.nm===ws)return this.compositions[Ss].prepareFrame&&this.compositions[Ss].data.xt&&this.compositions[Ss].prepareFrame(this.currentFrame),this.compositions[Ss].compInterface;Ss+=1}return null}return ms.compositions=[],ms.currentFrame=0,ms.registerComposition=vs,ms}}(),renderers={},registerRenderer=function(ms,ws){renderers[ms]=ws};function getRenderer(vs){return renderers[vs]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var vs in renderers)if(renderers[vs])return vs;return""}function _typeof$4(vs){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ms){return typeof ms}:function(ms){return ms&&typeof Symbol=="function"&&ms.constructor===Symbol&&ms!==Symbol.prototype?"symbol":typeof ms},_typeof$4(vs)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(vs){(vs.wrapper||vs.container)&&(this.wrapper=vs.wrapper||vs.container);var ms="svg";vs.animType?ms=vs.animType:vs.renderer&&(ms=vs.renderer);var ws=getRenderer(ms);this.renderer=new ws(this,vs.rendererSettings),this.imagePreloader.setCacheType(ms,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=ms,vs.loop===""||vs.loop===null||vs.loop===void 0||vs.loop===!0?this.loop=!0:vs.loop===!1?this.loop=!1:this.loop=parseInt(vs.loop,10),this.autoplay="autoplay"in vs?vs.autoplay:!0,this.name=vs.name?vs.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(vs,"autoloadSegments")?vs.autoloadSegments:!0,this.assetsPath=vs.assetsPath,this.initialSegment=vs.initialSegment,vs.audioFactory&&this.audioController.setAudioFactory(vs.audioFactory),vs.animationData?this.setupAnimation(vs.animationData):vs.path&&(vs.path.lastIndexOf("\\")!==-1?this.path=vs.path.substr(0,vs.path.lastIndexOf("\\")+1):this.path=vs.path.substr(0,vs.path.lastIndexOf("/")+1),this.fileName=vs.path.substr(vs.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(vs.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(vs){dataManager.completeAnimation(vs,this.configAnimation)},AnimationItem.prototype.setData=function(vs,ms){ms&&_typeof$4(ms)!=="object"&&(ms=JSON.parse(ms));var ws={wrapper:vs,animationData:ms},Ss=vs.attributes;ws.path=Ss.getNamedItem("data-animation-path")?Ss.getNamedItem("data-animation-path").value:Ss.getNamedItem("data-bm-path")?Ss.getNamedItem("data-bm-path").value:Ss.getNamedItem("bm-path")?Ss.getNamedItem("bm-path").value:"",ws.animType=Ss.getNamedItem("data-anim-type")?Ss.getNamedItem("data-anim-type").value:Ss.getNamedItem("data-bm-type")?Ss.getNamedItem("data-bm-type").value:Ss.getNamedItem("bm-type")?Ss.getNamedItem("bm-type").value:Ss.getNamedItem("data-bm-renderer")?Ss.getNamedItem("data-bm-renderer").value:Ss.getNamedItem("bm-renderer")?Ss.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var Es=Ss.getNamedItem("data-anim-loop")?Ss.getNamedItem("data-anim-loop").value:Ss.getNamedItem("data-bm-loop")?Ss.getNamedItem("data-bm-loop").value:Ss.getNamedItem("bm-loop")?Ss.getNamedItem("bm-loop").value:"";Es==="false"?ws.loop=!1:Es==="true"?ws.loop=!0:Es!==""&&(ws.loop=parseInt(Es,10));var _s=Ss.getNamedItem("data-anim-autoplay")?Ss.getNamedItem("data-anim-autoplay").value:Ss.getNamedItem("data-bm-autoplay")?Ss.getNamedItem("data-bm-autoplay").value:Ss.getNamedItem("bm-autoplay")?Ss.getNamedItem("bm-autoplay").value:!0;ws.autoplay=_s!=="false",ws.name=Ss.getNamedItem("data-name")?Ss.getNamedItem("data-name").value:Ss.getNamedItem("data-bm-name")?Ss.getNamedItem("data-bm-name").value:Ss.getNamedItem("bm-name")?Ss.getNamedItem("bm-name").value:"";var Is=Ss.getNamedItem("data-anim-prerender")?Ss.getNamedItem("data-anim-prerender").value:Ss.getNamedItem("data-bm-prerender")?Ss.getNamedItem("data-bm-prerender").value:Ss.getNamedItem("bm-prerender")?Ss.getNamedItem("bm-prerender").value:"";Is==="false"&&(ws.prerender=!1),ws.path?this.setParams(ws):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(vs){vs.op>this.animationData.op&&(this.animationData.op=vs.op,this.totalFrames=Math.floor(vs.op-this.animationData.ip));var ms=this.animationData.layers,ws,Ss=ms.length,Es=vs.layers,_s,Is=Es.length;for(_s=0;_s<Is;_s+=1)for(ws=0;ws<Ss;){if(ms[ws].id===Es[_s].id){ms[ws]=Es[_s];break}ws+=1}if((vs.chars||vs.fonts)&&(this.renderer.globalData.fontManager.addChars(vs.chars),this.renderer.globalData.fontManager.addFonts(vs.fonts,this.renderer.globalData.defs)),vs.assets)for(Ss=vs.assets.length,ws=0;ws<Ss;ws+=1)this.animationData.assets.push(vs.assets[ws]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(vs){this.animationData=vs;var ms=getExpressionsPlugin();ms&&ms.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var vs=this.animationData.segments;if(!vs||vs.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var ms=vs.shift();this.timeCompleted=ms.time*this.frameRate;var ws=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(ws,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var vs=this.animationData.segments;vs||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(vs){if(this.renderer)try{this.animationData=vs,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(vs),vs.assets||(vs.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(vs.assets),this.markers=markerParser(vs.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(ms){this.triggerConfigError(ms)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var vs=getExpressionsPlugin();vs&&vs.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(vs,ms){var ws=typeof vs=="number"?vs:void 0,Ss=typeof ms=="number"?ms:void 0;this.renderer.updateContainerSize(ws,Ss)},AnimationItem.prototype.setSubframe=function(vs){this.isSubframeEnabled=!!vs},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(vs){this.triggerRenderFrameError(vs)}},AnimationItem.prototype.play=function(vs){vs&&this.name!==vs||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(vs){vs&&this.name!==vs||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(vs){vs&&this.name!==vs||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(vs){vs&&this.name!==vs||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(vs){for(var ms,ws=0;ws<this.markers.length;ws+=1)if(ms=this.markers[ws],ms.payload&&ms.payload.name===vs)return ms;return null},AnimationItem.prototype.goToAndStop=function(vs,ms,ws){if(!(ws&&this.name!==ws)){var Ss=Number(vs);if(isNaN(Ss)){var Es=this.getMarkerData(vs);Es&&this.goToAndStop(Es.time,!0)}else ms?this.setCurrentRawFrameValue(vs):this.setCurrentRawFrameValue(vs*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(vs,ms,ws){if(!(ws&&this.name!==ws)){var Ss=Number(vs);if(isNaN(Ss)){var Es=this.getMarkerData(vs);Es&&(Es.duration?this.playSegments([Es.time,Es.time+Es.duration],!0):this.goToAndStop(Es.time,!0))}else this.goToAndStop(Ss,ms,ws);this.play()}},AnimationItem.prototype.advanceTime=function(vs){if(!(this.isPaused===!0||this.isLoaded===!1)){var ms=this.currentRawFrame+vs*this.frameModifier,ws=!1;ms>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(ms>this.totalFrames?ms%this.totalFrames:0)||(ws=!0,ms=this.totalFrames-1):ms>=this.totalFrames?(this.playCount+=1,this.checkSegments(ms%this.totalFrames)||(this.setCurrentRawFrameValue(ms%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(ms):ms<0?this.checkSegments(ms%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+ms%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(ws=!0,ms=0)):this.setCurrentRawFrameValue(ms),ws&&(this.setCurrentRawFrameValue(ms),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(vs,ms){this.playCount=0,vs[1]<vs[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=vs[0]-vs[1],this.timeCompleted=this.totalFrames,this.firstFrame=vs[1],this.setCurrentRawFrameValue(this.totalFrames-.001-ms)):vs[1]>vs[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=vs[1]-vs[0],this.timeCompleted=this.totalFrames,this.firstFrame=vs[0],this.setCurrentRawFrameValue(.001+ms)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(vs,ms){var ws=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<vs?ws=vs:this.currentRawFrame+this.firstFrame>ms&&(ws=ms-vs)),this.firstFrame=vs,this.totalFrames=ms-vs,this.timeCompleted=this.totalFrames,ws!==-1&&this.goToAndStop(ws,!0)},AnimationItem.prototype.playSegments=function(vs,ms){if(ms&&(this.segments.length=0),_typeof$4(vs[0])==="object"){var ws,Ss=vs.length;for(ws=0;ws<Ss;ws+=1)this.segments.push(vs[ws])}else this.segments.push(vs);this.segments.length&&ms&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(vs){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),vs&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(vs){return this.segments.length?(this.adjustSegment(this.segments.shift(),vs),!0):!1},AnimationItem.prototype.destroy=function(vs){vs&&this.name!==vs||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(vs){this.currentRawFrame=vs,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(vs){this.playSpeed=vs,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(vs){this.playDirection=vs<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(vs){this.loop=vs},AnimationItem.prototype.setVolume=function(vs,ms){ms&&this.name!==ms||this.audioController.setVolume(vs)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(vs){vs&&this.name!==vs||this.audioController.mute()},AnimationItem.prototype.unmute=function(vs){vs&&this.name!==vs||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(vs){var ms="";if(vs.e)ms=vs.p;else if(this.assetsPath){var ws=vs.p;ws.indexOf("images/")!==-1&&(ws=ws.split("/")[1]),ms=this.assetsPath+ws}else ms=this.path,ms+=vs.u?vs.u:"",ms+=vs.p;return ms},AnimationItem.prototype.getAssetData=function(vs){for(var ms=0,ws=this.assets.length;ms<ws;){if(vs===this.assets[ms].id)return this.assets[ms];ms+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(vs){return vs?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(vs,ms,ws){try{var Ss=this.renderer.getElementByPath(vs);Ss.updateDocumentData(ms,ws)}catch{}},AnimationItem.prototype.trigger=function(vs){if(this._cbs&&this._cbs[vs])switch(vs){case"enterFrame":this.triggerEvent(vs,new BMEnterFrameEvent(vs,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(vs,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(vs,new BMCompleteLoopEvent(vs,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(vs,new BMCompleteEvent(vs,this.frameMult));break;case"segmentStart":this.triggerEvent(vs,new BMSegmentStartEvent(vs,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(vs,new BMDestroyEvent(vs,this));break;default:this.triggerEvent(vs)}vs==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(vs,this.currentFrame,this.totalFrames,this.frameMult)),vs==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(vs,this.loop,this.playCount,this.frameMult)),vs==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(vs,this.frameMult)),vs==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(vs,this.firstFrame,this.totalFrames)),vs==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(vs,this))},AnimationItem.prototype.triggerRenderFrameError=function(vs){var ms=new BMRenderFrameErrorEvent(vs,this.currentFrame);this.triggerEvent("error",ms),this.onError&&this.onError.call(this,ms)},AnimationItem.prototype.triggerConfigError=function(vs){var ms=new BMConfigErrorEvent(vs,this.currentFrame);this.triggerEvent("error",ms),this.onError&&this.onError.call(this,ms)};var animationManager=function(){var vs={},ms=[],ws=0,Ss=0,Es=0,_s=!0,Is=!1;function Ts(Al){for(var Pl=0,yl=Al.target;Pl<Ss;)ms[Pl].animation===yl&&(ms.splice(Pl,1),Pl-=1,Ss-=1,yl.isPaused||Ws()),Pl+=1}function Rs(Al,Pl){if(!Al)return null;for(var yl=0;yl<Ss;){if(ms[yl].elem===Al&&ms[yl].elem!==null)return ms[yl].animation;yl+=1}var Zs=new AnimationItem;return Js(Zs,Al),Zs.setData(Al,Pl),Zs}function Bs(){var Al,Pl=ms.length,yl=[];for(Al=0;Al<Pl;Al+=1)yl.push(ms[Al].animation);return yl}function Ns(){Es+=1,Jl()}function Ws(){Es-=1}function Js(Al,Pl){Al.addEventListener("destroy",Ts),Al.addEventListener("_active",Ns),Al.addEventListener("_idle",Ws),ms.push({elem:Pl,animation:Al}),Ss+=1}function $l(Al){var Pl=new AnimationItem;return Js(Pl,null),Pl.setParams(Al),Pl}function wl(Al,Pl){var yl;for(yl=0;yl<Ss;yl+=1)ms[yl].animation.setSpeed(Al,Pl)}function _l(Al,Pl){var yl;for(yl=0;yl<Ss;yl+=1)ms[yl].animation.setDirection(Al,Pl)}function Cl(Al){var Pl;for(Pl=0;Pl<Ss;Pl+=1)ms[Pl].animation.play(Al)}function Sl(Al){var Pl=Al-ws,yl;for(yl=0;yl<Ss;yl+=1)ms[yl].animation.advanceTime(Pl);ws=Al,Es&&!Is?window.requestAnimationFrame(Sl):_s=!0}function El(Al){ws=Al,window.requestAnimationFrame(Sl)}function xl(Al){var Pl;for(Pl=0;Pl<Ss;Pl+=1)ms[Pl].animation.pause(Al)}function Ml(Al,Pl,yl){var Zs;for(Zs=0;Zs<Ss;Zs+=1)ms[Zs].animation.goToAndStop(Al,Pl,yl)}function Vl(Al){var Pl;for(Pl=0;Pl<Ss;Pl+=1)ms[Pl].animation.stop(Al)}function Ul(Al){var Pl;for(Pl=0;Pl<Ss;Pl+=1)ms[Pl].animation.togglePause(Al)}function _h(Al){var Pl;for(Pl=Ss-1;Pl>=0;Pl-=1)ms[Pl].animation.destroy(Al)}function nu(Al,Pl,yl){var Zs=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Bl,eu=Zs.length;for(Bl=0;Bl<eu;Bl+=1)yl&&Zs[Bl].setAttribute("data-bm-type",yl),Rs(Zs[Bl],Al);if(Pl&&eu===0){yl||(yl="svg");var Eu=document.getElementsByTagName("body")[0];Eu.innerText="";var uu=createTag("div");uu.style.width="100%",uu.style.height="100%",uu.setAttribute("data-bm-type",yl),Eu.appendChild(uu),Rs(uu,Al)}}function su(){var Al;for(Al=0;Al<Ss;Al+=1)ms[Al].animation.resize()}function Jl(){!Is&&Es&&_s&&(window.requestAnimationFrame(El),_s=!1)}function Il(){Is=!0}function Nl(){Is=!1,Jl()}function Ol(Al,Pl){var yl;for(yl=0;yl<Ss;yl+=1)ms[yl].animation.setVolume(Al,Pl)}function Gl(Al){var Pl;for(Pl=0;Pl<Ss;Pl+=1)ms[Pl].animation.mute(Al)}function Fl(Al){var Pl;for(Pl=0;Pl<Ss;Pl+=1)ms[Pl].animation.unmute(Al)}return vs.registerAnimation=Rs,vs.loadAnimation=$l,vs.setSpeed=wl,vs.setDirection=_l,vs.play=Cl,vs.pause=xl,vs.stop=Vl,vs.togglePause=Ul,vs.searchAnimations=nu,vs.resize=su,vs.goToAndStop=Ml,vs.destroy=_h,vs.freeze=Il,vs.unfreeze=Nl,vs.setVolume=Ol,vs.mute=Gl,vs.unmute=Fl,vs.getRegisteredAnimations=Bs,vs}(),BezierFactory=function(){var vs={};vs.getBezierEasing=ws;var ms={};function ws(El,xl,Ml,Vl,Ul){var _h=Ul||("bez_"+El+"_"+xl+"_"+Ml+"_"+Vl).replace(/\./g,"p");if(ms[_h])return ms[_h];var nu=new Sl([El,xl,Ml,Vl]);return ms[_h]=nu,nu}var Ss=4,Es=.001,_s=1e-7,Is=10,Ts=11,Rs=1/(Ts-1),Bs=typeof Float32Array=="function";function Ns(El,xl){return 1-3*xl+3*El}function Ws(El,xl){return 3*xl-6*El}function Js(El){return 3*El}function $l(El,xl,Ml){return((Ns(xl,Ml)*El+Ws(xl,Ml))*El+Js(xl))*El}function wl(El,xl,Ml){return 3*Ns(xl,Ml)*El*El+2*Ws(xl,Ml)*El+Js(xl)}function _l(El,xl,Ml,Vl,Ul){var _h,nu,su=0;do nu=xl+(Ml-xl)/2,_h=$l(nu,Vl,Ul)-El,_h>0?Ml=nu:xl=nu;while(Math.abs(_h)>_s&&++su<Is);return nu}function Cl(El,xl,Ml,Vl){for(var Ul=0;Ul<Ss;++Ul){var _h=wl(xl,Ml,Vl);if(_h===0)return xl;var nu=$l(xl,Ml,Vl)-El;xl-=nu/_h}return xl}function Sl(El){this._p=El,this._mSampleValues=Bs?new Float32Array(Ts):new Array(Ts),this._precomputed=!1,this.get=this.get.bind(this)}return Sl.prototype={get:function(xl){var Ml=this._p[0],Vl=this._p[1],Ul=this._p[2],_h=this._p[3];return this._precomputed||this._precompute(),Ml===Vl&&Ul===_h?xl:xl===0?0:xl===1?1:$l(this._getTForX(xl),Vl,_h)},_precompute:function(){var xl=this._p[0],Ml=this._p[1],Vl=this._p[2],Ul=this._p[3];this._precomputed=!0,(xl!==Ml||Vl!==Ul)&&this._calcSampleValues()},_calcSampleValues:function(){for(var xl=this._p[0],Ml=this._p[2],Vl=0;Vl<Ts;++Vl)this._mSampleValues[Vl]=$l(Vl*Rs,xl,Ml)},_getTForX:function(xl){for(var Ml=this._p[0],Vl=this._p[2],Ul=this._mSampleValues,_h=0,nu=1,su=Ts-1;nu!==su&&Ul[nu]<=xl;++nu)_h+=Rs;--nu;var Jl=(xl-Ul[nu])/(Ul[nu+1]-Ul[nu]),Il=_h+Jl*Rs,Nl=wl(Il,Ml,Vl);return Nl>=Es?Cl(xl,Il,Ml,Vl):Nl===0?Il:_l(xl,_h,_h+Rs,Ml,Vl)}},vs}(),pooling=function(){function vs(ms){return ms.concat(createSizedArray(ms.length))}return{double:vs}}(),poolFactory=function(){return function(vs,ms,ws){var Ss=0,Es=vs,_s=createSizedArray(Es),Is={newElement:Ts,release:Rs};function Ts(){var Bs;return Ss?(Ss-=1,Bs=_s[Ss]):Bs=ms(),Bs}function Rs(Bs){Ss===Es&&(_s=pooling.double(_s),Es*=2),ws&&ws(Bs),_s[Ss]=Bs,Ss+=1}return Is}}(),bezierLengthPool=function(){function vs(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,vs)}(),segmentsLengthPool=function(){function vs(){return{lengths:[],totalLength:0}}function ms(ws){var Ss,Es=ws.lengths.length;for(Ss=0;Ss<Es;Ss+=1)bezierLengthPool.release(ws.lengths[Ss]);ws.lengths.length=0}return poolFactory(8,vs,ms)}();function bezFunction(){var vs=Math;function ms(Js,$l,wl,_l,Cl,Sl){var El=Js*_l+$l*Cl+wl*Sl-Cl*_l-Sl*Js-wl*$l;return El>-.001&&El<.001}function ws(Js,$l,wl,_l,Cl,Sl,El,xl,Ml){if(wl===0&&Sl===0&&Ml===0)return ms(Js,$l,_l,Cl,El,xl);var Vl=vs.sqrt(vs.pow(_l-Js,2)+vs.pow(Cl-$l,2)+vs.pow(Sl-wl,2)),Ul=vs.sqrt(vs.pow(El-Js,2)+vs.pow(xl-$l,2)+vs.pow(Ml-wl,2)),_h=vs.sqrt(vs.pow(El-_l,2)+vs.pow(xl-Cl,2)+vs.pow(Ml-Sl,2)),nu;return Vl>Ul?Vl>_h?nu=Vl-Ul-_h:nu=_h-Ul-Vl:_h>Ul?nu=_h-Ul-Vl:nu=Ul-Vl-_h,nu>-1e-4&&nu<1e-4}var Ss=function(){return function(Js,$l,wl,_l){var Cl=getDefaultCurveSegments(),Sl,El,xl,Ml,Vl,Ul=0,_h,nu=[],su=[],Jl=bezierLengthPool.newElement();for(xl=wl.length,Sl=0;Sl<Cl;Sl+=1){for(Vl=Sl/(Cl-1),_h=0,El=0;El<xl;El+=1)Ml=bmPow(1-Vl,3)*Js[El]+3*bmPow(1-Vl,2)*Vl*wl[El]+3*(1-Vl)*bmPow(Vl,2)*_l[El]+bmPow(Vl,3)*$l[El],nu[El]=Ml,su[El]!==null&&(_h+=bmPow(nu[El]-su[El],2)),su[El]=nu[El];_h&&(_h=bmSqrt(_h),Ul+=_h),Jl.percents[Sl]=Vl,Jl.lengths[Sl]=Ul}return Jl.addedLength=Ul,Jl}}();function Es(Js){var $l=segmentsLengthPool.newElement(),wl=Js.c,_l=Js.v,Cl=Js.o,Sl=Js.i,El,xl=Js._length,Ml=$l.lengths,Vl=0;for(El=0;El<xl-1;El+=1)Ml[El]=Ss(_l[El],_l[El+1],Cl[El],Sl[El+1]),Vl+=Ml[El].addedLength;return wl&&xl&&(Ml[El]=Ss(_l[El],_l[0],Cl[El],Sl[0]),Vl+=Ml[El].addedLength),$l.totalLength=Vl,$l}function _s(Js){this.segmentLength=0,this.points=new Array(Js)}function Is(Js,$l){this.partialLength=Js,this.point=$l}var Ts=function(){var Js={};return function($l,wl,_l,Cl){var Sl=($l[0]+"_"+$l[1]+"_"+wl[0]+"_"+wl[1]+"_"+_l[0]+"_"+_l[1]+"_"+Cl[0]+"_"+Cl[1]).replace(/\./g,"p");if(!Js[Sl]){var El=getDefaultCurveSegments(),xl,Ml,Vl,Ul,_h,nu=0,su,Jl,Il=null;$l.length===2&&($l[0]!==wl[0]||$l[1]!==wl[1])&&ms($l[0],$l[1],wl[0],wl[1],$l[0]+_l[0],$l[1]+_l[1])&&ms($l[0],$l[1],wl[0],wl[1],wl[0]+Cl[0],wl[1]+Cl[1])&&(El=2);var Nl=new _s(El);for(Vl=_l.length,xl=0;xl<El;xl+=1){for(Jl=createSizedArray(Vl),_h=xl/(El-1),su=0,Ml=0;Ml<Vl;Ml+=1)Ul=bmPow(1-_h,3)*$l[Ml]+3*bmPow(1-_h,2)*_h*($l[Ml]+_l[Ml])+3*(1-_h)*bmPow(_h,2)*(wl[Ml]+Cl[Ml])+bmPow(_h,3)*wl[Ml],Jl[Ml]=Ul,Il!==null&&(su+=bmPow(Jl[Ml]-Il[Ml],2));su=bmSqrt(su),nu+=su,Nl.points[xl]=new Is(su,Jl),Il=Jl}Nl.segmentLength=nu,Js[Sl]=Nl}return Js[Sl]}}();function Rs(Js,$l){var wl=$l.percents,_l=$l.lengths,Cl=wl.length,Sl=bmFloor((Cl-1)*Js),El=Js*$l.addedLength,xl=0;if(Sl===Cl-1||Sl===0||El===_l[Sl])return wl[Sl];for(var Ml=_l[Sl]>El?-1:1,Vl=!0;Vl;)if(_l[Sl]<=El&&_l[Sl+1]>El?(xl=(El-_l[Sl])/(_l[Sl+1]-_l[Sl]),Vl=!1):Sl+=Ml,Sl<0||Sl>=Cl-1){if(Sl===Cl-1)return wl[Sl];Vl=!1}return wl[Sl]+(wl[Sl+1]-wl[Sl])*xl}function Bs(Js,$l,wl,_l,Cl,Sl){var El=Rs(Cl,Sl),xl=1-El,Ml=vs.round((xl*xl*xl*Js[0]+(El*xl*xl+xl*El*xl+xl*xl*El)*wl[0]+(El*El*xl+xl*El*El+El*xl*El)*_l[0]+El*El*El*$l[0])*1e3)/1e3,Vl=vs.round((xl*xl*xl*Js[1]+(El*xl*xl+xl*El*xl+xl*xl*El)*wl[1]+(El*El*xl+xl*El*El+El*xl*El)*_l[1]+El*El*El*$l[1])*1e3)/1e3;return[Ml,Vl]}var Ns=createTypedArray("float32",8);function Ws(Js,$l,wl,_l,Cl,Sl,El){Cl<0?Cl=0:Cl>1&&(Cl=1);var xl=Rs(Cl,El);Sl=Sl>1?1:Sl;var Ml=Rs(Sl,El),Vl,Ul=Js.length,_h=1-xl,nu=1-Ml,su=_h*_h*_h,Jl=xl*_h*_h*3,Il=xl*xl*_h*3,Nl=xl*xl*xl,Ol=_h*_h*nu,Gl=xl*_h*nu+_h*xl*nu+_h*_h*Ml,Fl=xl*xl*nu+_h*xl*Ml+xl*_h*Ml,Al=xl*xl*Ml,Pl=_h*nu*nu,yl=xl*nu*nu+_h*Ml*nu+_h*nu*Ml,Zs=xl*Ml*nu+_h*Ml*Ml+xl*nu*Ml,Bl=xl*Ml*Ml,eu=nu*nu*nu,Eu=Ml*nu*nu+nu*Ml*nu+nu*nu*Ml,uu=Ml*Ml*nu+nu*Ml*Ml+Ml*nu*Ml,Yl=Ml*Ml*Ml;for(Vl=0;Vl<Ul;Vl+=1)Ns[Vl*4]=vs.round((su*Js[Vl]+Jl*wl[Vl]+Il*_l[Vl]+Nl*$l[Vl])*1e3)/1e3,Ns[Vl*4+1]=vs.round((Ol*Js[Vl]+Gl*wl[Vl]+Fl*_l[Vl]+Al*$l[Vl])*1e3)/1e3,Ns[Vl*4+2]=vs.round((Pl*Js[Vl]+yl*wl[Vl]+Zs*_l[Vl]+Bl*$l[Vl])*1e3)/1e3,Ns[Vl*4+3]=vs.round((eu*Js[Vl]+Eu*wl[Vl]+uu*_l[Vl]+Yl*$l[Vl])*1e3)/1e3;return Ns}return{getSegmentsLength:Es,getNewSegment:Ws,getPointInSegment:Bs,buildBezierData:Ts,pointOnLine2D:ms,pointOnLine3D:ws}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(vs,ms){var ws=this.offsetTime,Ss;this.propType==="multidimensional"&&(Ss=createTypedArray("float32",this.pv.length));for(var Es=ms.lastIndex,_s=Es,Is=this.keyframes.length-1,Ts=!0,Rs,Bs,Ns;Ts;){if(Rs=this.keyframes[_s],Bs=this.keyframes[_s+1],_s===Is-1&&vs>=Bs.t-ws){Rs.h&&(Rs=Bs),Es=0;break}if(Bs.t-ws>vs){Es=_s;break}_s<Is-1?_s+=1:(Es=0,Ts=!1)}Ns=this.keyframesMetadata[_s]||{};var Ws,Js,$l,wl,_l,Cl,Sl=Bs.t-ws,El=Rs.t-ws,xl;if(Rs.to){Ns.bezierData||(Ns.bezierData=bez.buildBezierData(Rs.s,Bs.s||Rs.e,Rs.to,Rs.ti));var Ml=Ns.bezierData;if(vs>=Sl||vs<El){var Vl=vs>=Sl?Ml.points.length-1:0;for(Js=Ml.points[Vl].point.length,Ws=0;Ws<Js;Ws+=1)Ss[Ws]=Ml.points[Vl].point[Ws]}else{Ns.__fnct?Cl=Ns.__fnct:(Cl=BezierFactory.getBezierEasing(Rs.o.x,Rs.o.y,Rs.i.x,Rs.i.y,Rs.n).get,Ns.__fnct=Cl),$l=Cl((vs-El)/(Sl-El));var Ul=Ml.segmentLength*$l,_h,nu=ms.lastFrame<vs&&ms._lastKeyframeIndex===_s?ms._lastAddedLength:0;for(_l=ms.lastFrame<vs&&ms._lastKeyframeIndex===_s?ms._lastPoint:0,Ts=!0,wl=Ml.points.length;Ts;){if(nu+=Ml.points[_l].partialLength,Ul===0||$l===0||_l===Ml.points.length-1){for(Js=Ml.points[_l].point.length,Ws=0;Ws<Js;Ws+=1)Ss[Ws]=Ml.points[_l].point[Ws];break}else if(Ul>=nu&&Ul<nu+Ml.points[_l+1].partialLength){for(_h=(Ul-nu)/Ml.points[_l+1].partialLength,Js=Ml.points[_l].point.length,Ws=0;Ws<Js;Ws+=1)Ss[Ws]=Ml.points[_l].point[Ws]+(Ml.points[_l+1].point[Ws]-Ml.points[_l].point[Ws])*_h;break}_l<wl-1?_l+=1:Ts=!1}ms._lastPoint=_l,ms._lastAddedLength=nu-Ml.points[_l].partialLength,ms._lastKeyframeIndex=_s}}else{var su,Jl,Il,Nl,Ol;if(Is=Rs.s.length,xl=Bs.s||Rs.e,this.sh&&Rs.h!==1)if(vs>=Sl)Ss[0]=xl[0],Ss[1]=xl[1],Ss[2]=xl[2];else if(vs<=El)Ss[0]=Rs.s[0],Ss[1]=Rs.s[1],Ss[2]=Rs.s[2];else{var Gl=createQuaternion(Rs.s),Fl=createQuaternion(xl),Al=(vs-El)/(Sl-El);quaternionToEuler(Ss,slerp(Gl,Fl,Al))}else for(_s=0;_s<Is;_s+=1)Rs.h!==1&&(vs>=Sl?$l=1:vs<El?$l=0:(Rs.o.x.constructor===Array?(Ns.__fnct||(Ns.__fnct=[]),Ns.__fnct[_s]?Cl=Ns.__fnct[_s]:(su=Rs.o.x[_s]===void 0?Rs.o.x[0]:Rs.o.x[_s],Jl=Rs.o.y[_s]===void 0?Rs.o.y[0]:Rs.o.y[_s],Il=Rs.i.x[_s]===void 0?Rs.i.x[0]:Rs.i.x[_s],Nl=Rs.i.y[_s]===void 0?Rs.i.y[0]:Rs.i.y[_s],Cl=BezierFactory.getBezierEasing(su,Jl,Il,Nl).get,Ns.__fnct[_s]=Cl)):Ns.__fnct?Cl=Ns.__fnct:(su=Rs.o.x,Jl=Rs.o.y,Il=Rs.i.x,Nl=Rs.i.y,Cl=BezierFactory.getBezierEasing(su,Jl,Il,Nl).get,Rs.keyframeMetadata=Cl),$l=Cl((vs-El)/(Sl-El)))),xl=Bs.s||Rs.e,Ol=Rs.h===1?Rs.s[_s]:Rs.s[_s]+(xl[_s]-Rs.s[_s])*$l,this.propType==="multidimensional"?Ss[_s]=Ol:Ss=Ol}return ms.lastIndex=Es,Ss}function slerp(vs,ms,ws){var Ss=[],Es=vs[0],_s=vs[1],Is=vs[2],Ts=vs[3],Rs=ms[0],Bs=ms[1],Ns=ms[2],Ws=ms[3],Js,$l,wl,_l,Cl;return $l=Es*Rs+_s*Bs+Is*Ns+Ts*Ws,$l<0&&($l=-$l,Rs=-Rs,Bs=-Bs,Ns=-Ns,Ws=-Ws),1-$l>1e-6?(Js=Math.acos($l),wl=Math.sin(Js),_l=Math.sin((1-ws)*Js)/wl,Cl=Math.sin(ws*Js)/wl):(_l=1-ws,Cl=ws),Ss[0]=_l*Es+Cl*Rs,Ss[1]=_l*_s+Cl*Bs,Ss[2]=_l*Is+Cl*Ns,Ss[3]=_l*Ts+Cl*Ws,Ss}function quaternionToEuler(vs,ms){var ws=ms[0],Ss=ms[1],Es=ms[2],_s=ms[3],Is=Math.atan2(2*Ss*_s-2*ws*Es,1-2*Ss*Ss-2*Es*Es),Ts=Math.asin(2*ws*Ss+2*Es*_s),Rs=Math.atan2(2*ws*_s-2*Ss*Es,1-2*ws*ws-2*Es*Es);vs[0]=Is/degToRads,vs[1]=Ts/degToRads,vs[2]=Rs/degToRads}function createQuaternion(vs){var ms=vs[0]*degToRads,ws=vs[1]*degToRads,Ss=vs[2]*degToRads,Es=Math.cos(ms/2),_s=Math.cos(ws/2),Is=Math.cos(Ss/2),Ts=Math.sin(ms/2),Rs=Math.sin(ws/2),Bs=Math.sin(Ss/2),Ns=Es*_s*Is-Ts*Rs*Bs,Ws=Ts*Rs*Is+Es*_s*Bs,Js=Ts*_s*Is+Es*Rs*Bs,$l=Es*Rs*Is-Ts*_s*Bs;return[Ws,Js,$l,Ns]}function getValueAtCurrentTime(){var vs=this.comp.renderedFrame-this.offsetTime,ms=this.keyframes[0].t-this.offsetTime,ws=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(vs===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=ws&&vs>=ws||this._caching.lastFrame<ms&&vs<ms))){this._caching.lastFrame>=vs&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var Ss=this.interpolateValue(vs,this._caching);this.pv=Ss}return this._caching.lastFrame=vs,this.pv}function setVValue(vs){var ms;if(this.propType==="unidimensional")ms=vs*this.mult,mathAbs(this.v-ms)>1e-5&&(this.v=ms,this._mdf=!0);else for(var ws=0,Ss=this.v.length;ws<Ss;)ms=vs[ws]*this.mult,mathAbs(this.v[ws]-ms)>1e-5&&(this.v[ws]=ms,this._mdf=!0),ws+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var vs,ms=this.effectsSequence.length,ws=this.kf?this.pv:this.data.k;for(vs=0;vs<ms;vs+=1)ws=this.effectsSequence[vs](ws);this.setVValue(ws),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(vs){this.effectsSequence.push(vs),this.container.addDynamicProperty(this)}function ValueProperty(vs,ms,ws,Ss){this.propType="unidimensional",this.mult=ws||1,this.data=ms,this.v=ws?ms.k*ws:ms.k,this.pv=ms.k,this._mdf=!1,this.elem=vs,this.container=Ss,this.comp=vs.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(vs,ms,ws,Ss){this.propType="multidimensional",this.mult=ws||1,this.data=ms,this._mdf=!1,this.elem=vs,this.container=Ss,this.comp=vs.comp,this.k=!1,this.kf=!1,this.frameId=-1;var Es,_s=ms.k.length;for(this.v=createTypedArray("float32",_s),this.pv=createTypedArray("float32",_s),this.vel=createTypedArray("float32",_s),Es=0;Es<_s;Es+=1)this.v[Es]=ms.k[Es]*this.mult,this.pv[Es]=ms.k[Es];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(vs,ms,ws,Ss){this.propType="unidimensional",this.keyframes=ms.k,this.keyframesMetadata=[],this.offsetTime=vs.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=ms,this.mult=ws||1,this.elem=vs,this.container=Ss,this.comp=vs.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(vs,ms,ws,Ss){this.propType="multidimensional";var Es,_s=ms.k.length,Is,Ts,Rs,Bs;for(Es=0;Es<_s-1;Es+=1)ms.k[Es].to&&ms.k[Es].s&&ms.k[Es+1]&&ms.k[Es+1].s&&(Is=ms.k[Es].s,Ts=ms.k[Es+1].s,Rs=ms.k[Es].to,Bs=ms.k[Es].ti,(Is.length===2&&!(Is[0]===Ts[0]&&Is[1]===Ts[1])&&bez.pointOnLine2D(Is[0],Is[1],Ts[0],Ts[1],Is[0]+Rs[0],Is[1]+Rs[1])&&bez.pointOnLine2D(Is[0],Is[1],Ts[0],Ts[1],Ts[0]+Bs[0],Ts[1]+Bs[1])||Is.length===3&&!(Is[0]===Ts[0]&&Is[1]===Ts[1]&&Is[2]===Ts[2])&&bez.pointOnLine3D(Is[0],Is[1],Is[2],Ts[0],Ts[1],Ts[2],Is[0]+Rs[0],Is[1]+Rs[1],Is[2]+Rs[2])&&bez.pointOnLine3D(Is[0],Is[1],Is[2],Ts[0],Ts[1],Ts[2],Ts[0]+Bs[0],Ts[1]+Bs[1],Ts[2]+Bs[2]))&&(ms.k[Es].to=null,ms.k[Es].ti=null),Is[0]===Ts[0]&&Is[1]===Ts[1]&&Rs[0]===0&&Rs[1]===0&&Bs[0]===0&&Bs[1]===0&&(Is.length===2||Is[2]===Ts[2]&&Rs[2]===0&&Bs[2]===0)&&(ms.k[Es].to=null,ms.k[Es].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=ms,this.keyframes=ms.k,this.keyframesMetadata=[],this.offsetTime=vs.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=ws||1,this.elem=vs,this.container=Ss,this.comp=vs.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var Ns=ms.k[0].s.length;for(this.v=createTypedArray("float32",Ns),this.pv=createTypedArray("float32",Ns),Es=0;Es<Ns;Es+=1)this.v[Es]=initFrame,this.pv[Es]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",Ns)},this.addEffect=addEffect}var PropertyFactory=function(){function vs(ws,Ss,Es,_s,Is){Ss.sid&&(Ss=ws.globalData.slotManager.getProp(Ss));var Ts;if(!Ss.k.length)Ts=new ValueProperty(ws,Ss,_s,Is);else if(typeof Ss.k[0]=="number")Ts=new MultiDimensionalProperty(ws,Ss,_s,Is);else switch(Es){case 0:Ts=new KeyframedValueProperty(ws,Ss,_s,Is);break;case 1:Ts=new KeyframedMultidimensionalProperty(ws,Ss,_s,Is);break}return Ts.effectsSequence.length&&Is.addDynamicProperty(Ts),Ts}var ms={getProp:vs};return ms}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(ms){this.dynamicProperties.indexOf(ms)===-1&&(this.dynamicProperties.push(ms),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var ms,ws=this.dynamicProperties.length;for(ms=0;ms<ws;ms+=1)this.dynamicProperties[ms].getValue(),this.dynamicProperties[ms]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(ms){this.container=ms,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function vs(){return createTypedArray("float32",2)}return poolFactory(8,vs)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(vs,ms){this.c=vs,this.setLength(ms);for(var ws=0;ws<ms;)this.v[ws]=pointPool.newElement(),this.o[ws]=pointPool.newElement(),this.i[ws]=pointPool.newElement(),ws+=1},ShapePath.prototype.setLength=function(vs){for(;this._maxLength<vs;)this.doubleArrayLength();this._length=vs},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(vs,ms,ws,Ss,Es){var _s;switch(this._length=Math.max(this._length,Ss+1),this._length>=this._maxLength&&this.doubleArrayLength(),ws){case"v":_s=this.v;break;case"i":_s=this.i;break;case"o":_s=this.o;break;default:_s=[];break}(!_s[Ss]||_s[Ss]&&!Es)&&(_s[Ss]=pointPool.newElement()),_s[Ss][0]=vs,_s[Ss][1]=ms},ShapePath.prototype.setTripleAt=function(vs,ms,ws,Ss,Es,_s,Is,Ts){this.setXYAt(vs,ms,"v",Is,Ts),this.setXYAt(ws,Ss,"o",Is,Ts),this.setXYAt(Es,_s,"i",Is,Ts)},ShapePath.prototype.reverse=function(){var vs=new ShapePath;vs.setPathData(this.c,this._length);var ms=this.v,ws=this.o,Ss=this.i,Es=0;this.c&&(vs.setTripleAt(ms[0][0],ms[0][1],Ss[0][0],Ss[0][1],ws[0][0],ws[0][1],0,!1),Es=1);var _s=this._length-1,Is=this._length,Ts;for(Ts=Es;Ts<Is;Ts+=1)vs.setTripleAt(ms[_s][0],ms[_s][1],Ss[_s][0],Ss[_s][1],ws[_s][0],ws[_s][1],Ts,!1),_s-=1;return vs},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function vs(){return new ShapePath}function ms(Es){var _s=Es._length,Is;for(Is=0;Is<_s;Is+=1)pointPool.release(Es.v[Is]),pointPool.release(Es.i[Is]),pointPool.release(Es.o[Is]),Es.v[Is]=null,Es.i[Is]=null,Es.o[Is]=null;Es._length=0,Es.c=!1}function ws(Es){var _s=Ss.newElement(),Is,Ts=Es._length===void 0?Es.v.length:Es._length;for(_s.setLength(Ts),_s.c=Es.c,Is=0;Is<Ts;Is+=1)_s.setTripleAt(Es.v[Is][0],Es.v[Is][1],Es.o[Is][0],Es.o[Is][1],Es.i[Is][0],Es.i[Is][1],Is);return _s}var Ss=poolFactory(4,vs,ms);return Ss.clone=ws,Ss}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(vs){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=vs,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var vs;for(vs=0;vs<this._length;vs+=1)shapePool.release(this.shapes[vs]);this._length=0};var shapeCollectionPool=function(){var vs={newShapeCollection:Es,release:_s},ms=0,ws=4,Ss=createSizedArray(ws);function Es(){var Is;return ms?(ms-=1,Is=Ss[ms]):Is=new ShapeCollection,Is}function _s(Is){var Ts,Rs=Is._length;for(Ts=0;Ts<Rs;Ts+=1)shapePool.release(Is.shapes[Ts]);Is._length=0,ms===ws&&(Ss=pooling.double(Ss),ws*=2),Ss[ms]=Is,ms+=1}return vs}(),ShapePropertyFactory=function(){var vs=-999999;function ms(Sl,El,xl){var Ml=xl.lastIndex,Vl,Ul,_h,nu,su,Jl,Il,Nl,Ol,Gl=this.keyframes;if(Sl<Gl[0].t-this.offsetTime)Vl=Gl[0].s[0],_h=!0,Ml=0;else if(Sl>=Gl[Gl.length-1].t-this.offsetTime)Vl=Gl[Gl.length-1].s?Gl[Gl.length-1].s[0]:Gl[Gl.length-2].e[0],_h=!0;else{for(var Fl=Ml,Al=Gl.length-1,Pl=!0,yl,Zs,Bl;Pl&&(yl=Gl[Fl],Zs=Gl[Fl+1],!(Zs.t-this.offsetTime>Sl));)Fl<Al-1?Fl+=1:Pl=!1;if(Bl=this.keyframesMetadata[Fl]||{},_h=yl.h===1,Ml=Fl,!_h){if(Sl>=Zs.t-this.offsetTime)Nl=1;else if(Sl<yl.t-this.offsetTime)Nl=0;else{var eu;Bl.__fnct?eu=Bl.__fnct:(eu=BezierFactory.getBezierEasing(yl.o.x,yl.o.y,yl.i.x,yl.i.y).get,Bl.__fnct=eu),Nl=eu((Sl-(yl.t-this.offsetTime))/(Zs.t-this.offsetTime-(yl.t-this.offsetTime)))}Ul=Zs.s?Zs.s[0]:yl.e[0]}Vl=yl.s[0]}for(Jl=El._length,Il=Vl.i[0].length,xl.lastIndex=Ml,nu=0;nu<Jl;nu+=1)for(su=0;su<Il;su+=1)Ol=_h?Vl.i[nu][su]:Vl.i[nu][su]+(Ul.i[nu][su]-Vl.i[nu][su])*Nl,El.i[nu][su]=Ol,Ol=_h?Vl.o[nu][su]:Vl.o[nu][su]+(Ul.o[nu][su]-Vl.o[nu][su])*Nl,El.o[nu][su]=Ol,Ol=_h?Vl.v[nu][su]:Vl.v[nu][su]+(Ul.v[nu][su]-Vl.v[nu][su])*Nl,El.v[nu][su]=Ol}function ws(){var Sl=this.comp.renderedFrame-this.offsetTime,El=this.keyframes[0].t-this.offsetTime,xl=this.keyframes[this.keyframes.length-1].t-this.offsetTime,Ml=this._caching.lastFrame;return Ml!==vs&&(Ml<El&&Sl<El||Ml>xl&&Sl>xl)||(this._caching.lastIndex=Ml<Sl?this._caching.lastIndex:0,this.interpolateShape(Sl,this.pv,this._caching)),this._caching.lastFrame=Sl,this.pv}function Ss(){this.paths=this.localShapeCollection}function Es(Sl,El){if(Sl._length!==El._length||Sl.c!==El.c)return!1;var xl,Ml=Sl._length;for(xl=0;xl<Ml;xl+=1)if(Sl.v[xl][0]!==El.v[xl][0]||Sl.v[xl][1]!==El.v[xl][1]||Sl.o[xl][0]!==El.o[xl][0]||Sl.o[xl][1]!==El.o[xl][1]||Sl.i[xl][0]!==El.i[xl][0]||Sl.i[xl][1]!==El.i[xl][1])return!1;return!0}function _s(Sl){Es(this.v,Sl)||(this.v=shapePool.clone(Sl),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function Is(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var Sl;this.kf?Sl=this.pv:this.data.ks?Sl=this.data.ks.k:Sl=this.data.pt.k;var El,xl=this.effectsSequence.length;for(El=0;El<xl;El+=1)Sl=this.effectsSequence[El](Sl);this.setVValue(Sl),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function Ts(Sl,El,xl){this.propType="shape",this.comp=Sl.comp,this.container=Sl,this.elem=Sl,this.data=El,this.k=!1,this.kf=!1,this._mdf=!1;var Ml=xl===3?El.pt.k:El.ks.k;this.v=shapePool.clone(Ml),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=Ss,this.effectsSequence=[]}function Rs(Sl){this.effectsSequence.push(Sl),this.container.addDynamicProperty(this)}Ts.prototype.interpolateShape=ms,Ts.prototype.getValue=Is,Ts.prototype.setVValue=_s,Ts.prototype.addEffect=Rs;function Bs(Sl,El,xl){this.propType="shape",this.comp=Sl.comp,this.elem=Sl,this.container=Sl,this.offsetTime=Sl.data.st,this.keyframes=xl===3?El.pt.k:El.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var Ml=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,Ml),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=vs,this.reset=Ss,this._caching={lastFrame:vs,lastIndex:0},this.effectsSequence=[ws.bind(this)]}Bs.prototype.getValue=Is,Bs.prototype.interpolateShape=ms,Bs.prototype.setVValue=_s,Bs.prototype.addEffect=Rs;var Ns=function(){var Sl=roundCorner;function El(xl,Ml){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=Ml.d,this.elem=xl,this.comp=xl.comp,this.frameId=-1,this.initDynamicPropertyContainer(xl),this.p=PropertyFactory.getProp(xl,Ml.p,1,0,this),this.s=PropertyFactory.getProp(xl,Ml.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return El.prototype={reset:Ss,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var Ml=this.p.v[0],Vl=this.p.v[1],Ul=this.s.v[0]/2,_h=this.s.v[1]/2,nu=this.d!==3,su=this.v;su.v[0][0]=Ml,su.v[0][1]=Vl-_h,su.v[1][0]=nu?Ml+Ul:Ml-Ul,su.v[1][1]=Vl,su.v[2][0]=Ml,su.v[2][1]=Vl+_h,su.v[3][0]=nu?Ml-Ul:Ml+Ul,su.v[3][1]=Vl,su.i[0][0]=nu?Ml-Ul*Sl:Ml+Ul*Sl,su.i[0][1]=Vl-_h,su.i[1][0]=nu?Ml+Ul:Ml-Ul,su.i[1][1]=Vl-_h*Sl,su.i[2][0]=nu?Ml+Ul*Sl:Ml-Ul*Sl,su.i[2][1]=Vl+_h,su.i[3][0]=nu?Ml-Ul:Ml+Ul,su.i[3][1]=Vl+_h*Sl,su.o[0][0]=nu?Ml+Ul*Sl:Ml-Ul*Sl,su.o[0][1]=Vl-_h,su.o[1][0]=nu?Ml+Ul:Ml-Ul,su.o[1][1]=Vl+_h*Sl,su.o[2][0]=nu?Ml-Ul*Sl:Ml+Ul*Sl,su.o[2][1]=Vl+_h,su.o[3][0]=nu?Ml-Ul:Ml+Ul,su.o[3][1]=Vl-_h*Sl}},extendPrototype([DynamicPropertyContainer],El),El}(),Ws=function(){function Sl(El,xl){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=El,this.comp=El.comp,this.data=xl,this.frameId=-1,this.d=xl.d,this.initDynamicPropertyContainer(El),xl.sy===1?(this.ir=PropertyFactory.getProp(El,xl.ir,0,0,this),this.is=PropertyFactory.getProp(El,xl.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(El,xl.pt,0,0,this),this.p=PropertyFactory.getProp(El,xl.p,1,0,this),this.r=PropertyFactory.getProp(El,xl.r,0,degToRads,this),this.or=PropertyFactory.getProp(El,xl.or,0,0,this),this.os=PropertyFactory.getProp(El,xl.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return Sl.prototype={reset:Ss,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var xl=Math.floor(this.pt.v)*2,Ml=Math.PI*2/xl,Vl=!0,Ul=this.or.v,_h=this.ir.v,nu=this.os.v,su=this.is.v,Jl=2*Math.PI*Ul/(xl*2),Il=2*Math.PI*_h/(xl*2),Nl,Ol,Gl,Fl,Al=-Math.PI/2;Al+=this.r.v;var Pl=this.data.d===3?-1:1;for(this.v._length=0,Nl=0;Nl<xl;Nl+=1){Ol=Vl?Ul:_h,Gl=Vl?nu:su,Fl=Vl?Jl:Il;var yl=Ol*Math.cos(Al),Zs=Ol*Math.sin(Al),Bl=yl===0&&Zs===0?0:Zs/Math.sqrt(yl*yl+Zs*Zs),eu=yl===0&&Zs===0?0:-yl/Math.sqrt(yl*yl+Zs*Zs);yl+=+this.p.v[0],Zs+=+this.p.v[1],this.v.setTripleAt(yl,Zs,yl-Bl*Fl*Gl*Pl,Zs-eu*Fl*Gl*Pl,yl+Bl*Fl*Gl*Pl,Zs+eu*Fl*Gl*Pl,Nl,!0),Vl=!Vl,Al+=Ml*Pl}},convertPolygonToPath:function(){var xl=Math.floor(this.pt.v),Ml=Math.PI*2/xl,Vl=this.or.v,Ul=this.os.v,_h=2*Math.PI*Vl/(xl*4),nu,su=-Math.PI*.5,Jl=this.data.d===3?-1:1;for(su+=this.r.v,this.v._length=0,nu=0;nu<xl;nu+=1){var Il=Vl*Math.cos(su),Nl=Vl*Math.sin(su),Ol=Il===0&&Nl===0?0:Nl/Math.sqrt(Il*Il+Nl*Nl),Gl=Il===0&&Nl===0?0:-Il/Math.sqrt(Il*Il+Nl*Nl);Il+=+this.p.v[0],Nl+=+this.p.v[1],this.v.setTripleAt(Il,Nl,Il-Ol*_h*Ul*Jl,Nl-Gl*_h*Ul*Jl,Il+Ol*_h*Ul*Jl,Nl+Gl*_h*Ul*Jl,nu,!0),su+=Ml*Jl}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],Sl),Sl}(),Js=function(){function Sl(El,xl){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=El,this.comp=El.comp,this.frameId=-1,this.d=xl.d,this.initDynamicPropertyContainer(El),this.p=PropertyFactory.getProp(El,xl.p,1,0,this),this.s=PropertyFactory.getProp(El,xl.s,1,0,this),this.r=PropertyFactory.getProp(El,xl.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return Sl.prototype={convertRectToPath:function(){var xl=this.p.v[0],Ml=this.p.v[1],Vl=this.s.v[0]/2,Ul=this.s.v[1]/2,_h=bmMin(Vl,Ul,this.r.v),nu=_h*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(xl+Vl,Ml-Ul+_h,xl+Vl,Ml-Ul+_h,xl+Vl,Ml-Ul+nu,0,!0),this.v.setTripleAt(xl+Vl,Ml+Ul-_h,xl+Vl,Ml+Ul-nu,xl+Vl,Ml+Ul-_h,1,!0),_h!==0?(this.v.setTripleAt(xl+Vl-_h,Ml+Ul,xl+Vl-_h,Ml+Ul,xl+Vl-nu,Ml+Ul,2,!0),this.v.setTripleAt(xl-Vl+_h,Ml+Ul,xl-Vl+nu,Ml+Ul,xl-Vl+_h,Ml+Ul,3,!0),this.v.setTripleAt(xl-Vl,Ml+Ul-_h,xl-Vl,Ml+Ul-_h,xl-Vl,Ml+Ul-nu,4,!0),this.v.setTripleAt(xl-Vl,Ml-Ul+_h,xl-Vl,Ml-Ul+nu,xl-Vl,Ml-Ul+_h,5,!0),this.v.setTripleAt(xl-Vl+_h,Ml-Ul,xl-Vl+_h,Ml-Ul,xl-Vl+nu,Ml-Ul,6,!0),this.v.setTripleAt(xl+Vl-_h,Ml-Ul,xl+Vl-nu,Ml-Ul,xl+Vl-_h,Ml-Ul,7,!0)):(this.v.setTripleAt(xl-Vl,Ml+Ul,xl-Vl+nu,Ml+Ul,xl-Vl,Ml+Ul,2),this.v.setTripleAt(xl-Vl,Ml-Ul,xl-Vl,Ml-Ul+nu,xl-Vl,Ml-Ul,3))):(this.v.setTripleAt(xl+Vl,Ml-Ul+_h,xl+Vl,Ml-Ul+nu,xl+Vl,Ml-Ul+_h,0,!0),_h!==0?(this.v.setTripleAt(xl+Vl-_h,Ml-Ul,xl+Vl-_h,Ml-Ul,xl+Vl-nu,Ml-Ul,1,!0),this.v.setTripleAt(xl-Vl+_h,Ml-Ul,xl-Vl+nu,Ml-Ul,xl-Vl+_h,Ml-Ul,2,!0),this.v.setTripleAt(xl-Vl,Ml-Ul+_h,xl-Vl,Ml-Ul+_h,xl-Vl,Ml-Ul+nu,3,!0),this.v.setTripleAt(xl-Vl,Ml+Ul-_h,xl-Vl,Ml+Ul-nu,xl-Vl,Ml+Ul-_h,4,!0),this.v.setTripleAt(xl-Vl+_h,Ml+Ul,xl-Vl+_h,Ml+Ul,xl-Vl+nu,Ml+Ul,5,!0),this.v.setTripleAt(xl+Vl-_h,Ml+Ul,xl+Vl-nu,Ml+Ul,xl+Vl-_h,Ml+Ul,6,!0),this.v.setTripleAt(xl+Vl,Ml+Ul-_h,xl+Vl,Ml+Ul-_h,xl+Vl,Ml+Ul-nu,7,!0)):(this.v.setTripleAt(xl-Vl,Ml-Ul,xl-Vl+nu,Ml-Ul,xl-Vl,Ml-Ul,1,!0),this.v.setTripleAt(xl-Vl,Ml+Ul,xl-Vl,Ml+Ul-nu,xl-Vl,Ml+Ul,2,!0),this.v.setTripleAt(xl+Vl,Ml+Ul,xl+Vl-nu,Ml+Ul,xl+Vl,Ml+Ul,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:Ss},extendPrototype([DynamicPropertyContainer],Sl),Sl}();function $l(Sl,El,xl){var Ml;if(xl===3||xl===4){var Vl=xl===3?El.pt:El.ks,Ul=Vl.k;Ul.length?Ml=new Bs(Sl,El,xl):Ml=new Ts(Sl,El,xl)}else xl===5?Ml=new Js(Sl,El):xl===6?Ml=new Ns(Sl,El):xl===7&&(Ml=new Ws(Sl,El));return Ml.k&&Sl.addDynamicProperty(Ml),Ml}function wl(){return Ts}function _l(){return Bs}var Cl={};return Cl.getShapeProp=$l,Cl.getConstructorFunction=wl,Cl.getKeyframedConstructorFunction=_l,Cl}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var vs=Math.cos,ms=Math.sin,ws=Math.tan,Ss=Math.round;function Es(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function _s(yl){if(yl===0)return this;var Zs=vs(yl),Bl=ms(yl);return this._t(Zs,-Bl,0,0,Bl,Zs,0,0,0,0,1,0,0,0,0,1)}function Is(yl){if(yl===0)return this;var Zs=vs(yl),Bl=ms(yl);return this._t(1,0,0,0,0,Zs,-Bl,0,0,Bl,Zs,0,0,0,0,1)}function Ts(yl){if(yl===0)return this;var Zs=vs(yl),Bl=ms(yl);return this._t(Zs,0,Bl,0,0,1,0,0,-Bl,0,Zs,0,0,0,0,1)}function Rs(yl){if(yl===0)return this;var Zs=vs(yl),Bl=ms(yl);return this._t(Zs,-Bl,0,0,Bl,Zs,0,0,0,0,1,0,0,0,0,1)}function Bs(yl,Zs){return this._t(1,Zs,yl,1,0,0)}function Ns(yl,Zs){return this.shear(ws(yl),ws(Zs))}function Ws(yl,Zs){var Bl=vs(Zs),eu=ms(Zs);return this._t(Bl,eu,0,0,-eu,Bl,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,ws(yl),1,0,0,0,0,1,0,0,0,0,1)._t(Bl,-eu,0,0,eu,Bl,0,0,0,0,1,0,0,0,0,1)}function Js(yl,Zs,Bl){return!Bl&&Bl!==0&&(Bl=1),yl===1&&Zs===1&&Bl===1?this:this._t(yl,0,0,0,0,Zs,0,0,0,0,Bl,0,0,0,0,1)}function $l(yl,Zs,Bl,eu,Eu,uu,Yl,zl,ou,pu,fu,yu,tu,Ll,Tl,Hl){return this.props[0]=yl,this.props[1]=Zs,this.props[2]=Bl,this.props[3]=eu,this.props[4]=Eu,this.props[5]=uu,this.props[6]=Yl,this.props[7]=zl,this.props[8]=ou,this.props[9]=pu,this.props[10]=fu,this.props[11]=yu,this.props[12]=tu,this.props[13]=Ll,this.props[14]=Tl,this.props[15]=Hl,this}function wl(yl,Zs,Bl){return Bl=Bl||0,yl!==0||Zs!==0||Bl!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,yl,Zs,Bl,1):this}function _l(yl,Zs,Bl,eu,Eu,uu,Yl,zl,ou,pu,fu,yu,tu,Ll,Tl,Hl){var Dl=this.props;if(yl===1&&Zs===0&&Bl===0&&eu===0&&Eu===0&&uu===1&&Yl===0&&zl===0&&ou===0&&pu===0&&fu===1&&yu===0)return Dl[12]=Dl[12]*yl+Dl[15]*tu,Dl[13]=Dl[13]*uu+Dl[15]*Ll,Dl[14]=Dl[14]*fu+Dl[15]*Tl,Dl[15]*=Hl,this._identityCalculated=!1,this;var Kl=Dl[0],cu=Dl[1],iu=Dl[2],du=Dl[3],Au=Dl[4],xu=Dl[5],_u=Dl[6],Hu=Dl[7],ju=Dl[8],_d=Dl[9],Zu=Dl[10],tp=Dl[11],hu=Dl[12],Xl=Dl[13],Zl=Dl[14],bu=Dl[15];return Dl[0]=Kl*yl+cu*Eu+iu*ou+du*tu,Dl[1]=Kl*Zs+cu*uu+iu*pu+du*Ll,Dl[2]=Kl*Bl+cu*Yl+iu*fu+du*Tl,Dl[3]=Kl*eu+cu*zl+iu*yu+du*Hl,Dl[4]=Au*yl+xu*Eu+_u*ou+Hu*tu,Dl[5]=Au*Zs+xu*uu+_u*pu+Hu*Ll,Dl[6]=Au*Bl+xu*Yl+_u*fu+Hu*Tl,Dl[7]=Au*eu+xu*zl+_u*yu+Hu*Hl,Dl[8]=ju*yl+_d*Eu+Zu*ou+tp*tu,Dl[9]=ju*Zs+_d*uu+Zu*pu+tp*Ll,Dl[10]=ju*Bl+_d*Yl+Zu*fu+tp*Tl,Dl[11]=ju*eu+_d*zl+Zu*yu+tp*Hl,Dl[12]=hu*yl+Xl*Eu+Zl*ou+bu*tu,Dl[13]=hu*Zs+Xl*uu+Zl*pu+bu*Ll,Dl[14]=hu*Bl+Xl*Yl+Zl*fu+bu*Tl,Dl[15]=hu*eu+Xl*zl+Zl*yu+bu*Hl,this._identityCalculated=!1,this}function Cl(yl){var Zs=yl.props;return this.transform(Zs[0],Zs[1],Zs[2],Zs[3],Zs[4],Zs[5],Zs[6],Zs[7],Zs[8],Zs[9],Zs[10],Zs[11],Zs[12],Zs[13],Zs[14],Zs[15])}function Sl(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function El(yl){for(var Zs=0;Zs<16;){if(yl.props[Zs]!==this.props[Zs])return!1;Zs+=1}return!0}function xl(yl){var Zs;for(Zs=0;Zs<16;Zs+=1)yl.props[Zs]=this.props[Zs];return yl}function Ml(yl){var Zs;for(Zs=0;Zs<16;Zs+=1)this.props[Zs]=yl[Zs]}function Vl(yl,Zs,Bl){return{x:yl*this.props[0]+Zs*this.props[4]+Bl*this.props[8]+this.props[12],y:yl*this.props[1]+Zs*this.props[5]+Bl*this.props[9]+this.props[13],z:yl*this.props[2]+Zs*this.props[6]+Bl*this.props[10]+this.props[14]}}function Ul(yl,Zs,Bl){return yl*this.props[0]+Zs*this.props[4]+Bl*this.props[8]+this.props[12]}function _h(yl,Zs,Bl){return yl*this.props[1]+Zs*this.props[5]+Bl*this.props[9]+this.props[13]}function nu(yl,Zs,Bl){return yl*this.props[2]+Zs*this.props[6]+Bl*this.props[10]+this.props[14]}function su(){var yl=this.props[0]*this.props[5]-this.props[1]*this.props[4],Zs=this.props[5]/yl,Bl=-this.props[1]/yl,eu=-this.props[4]/yl,Eu=this.props[0]/yl,uu=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/yl,Yl=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/yl,zl=new Matrix;return zl.props[0]=Zs,zl.props[1]=Bl,zl.props[4]=eu,zl.props[5]=Eu,zl.props[12]=uu,zl.props[13]=Yl,zl}function Jl(yl){var Zs=this.getInverseMatrix();return Zs.applyToPointArray(yl[0],yl[1],yl[2]||0)}function Il(yl){var Zs,Bl=yl.length,eu=[];for(Zs=0;Zs<Bl;Zs+=1)eu[Zs]=Jl(yl[Zs]);return eu}function Nl(yl,Zs,Bl){var eu=createTypedArray("float32",6);if(this.isIdentity())eu[0]=yl[0],eu[1]=yl[1],eu[2]=Zs[0],eu[3]=Zs[1],eu[4]=Bl[0],eu[5]=Bl[1];else{var Eu=this.props[0],uu=this.props[1],Yl=this.props[4],zl=this.props[5],ou=this.props[12],pu=this.props[13];eu[0]=yl[0]*Eu+yl[1]*Yl+ou,eu[1]=yl[0]*uu+yl[1]*zl+pu,eu[2]=Zs[0]*Eu+Zs[1]*Yl+ou,eu[3]=Zs[0]*uu+Zs[1]*zl+pu,eu[4]=Bl[0]*Eu+Bl[1]*Yl+ou,eu[5]=Bl[0]*uu+Bl[1]*zl+pu}return eu}function Ol(yl,Zs,Bl){var eu;return this.isIdentity()?eu=[yl,Zs,Bl]:eu=[yl*this.props[0]+Zs*this.props[4]+Bl*this.props[8]+this.props[12],yl*this.props[1]+Zs*this.props[5]+Bl*this.props[9]+this.props[13],yl*this.props[2]+Zs*this.props[6]+Bl*this.props[10]+this.props[14]],eu}function Gl(yl,Zs){if(this.isIdentity())return yl+","+Zs;var Bl=this.props;return Math.round((yl*Bl[0]+Zs*Bl[4]+Bl[12])*100)/100+","+Math.round((yl*Bl[1]+Zs*Bl[5]+Bl[13])*100)/100}function Fl(){for(var yl=0,Zs=this.props,Bl="matrix3d(",eu=1e4;yl<16;)Bl+=Ss(Zs[yl]*eu)/eu,Bl+=yl===15?")":",",yl+=1;return Bl}function Al(yl){var Zs=1e4;return yl<1e-6&&yl>0||yl>-1e-6&&yl<0?Ss(yl*Zs)/Zs:yl}function Pl(){var yl=this.props,Zs=Al(yl[0]),Bl=Al(yl[1]),eu=Al(yl[4]),Eu=Al(yl[5]),uu=Al(yl[12]),Yl=Al(yl[13]);return"matrix("+Zs+","+Bl+","+eu+","+Eu+","+uu+","+Yl+")"}return function(){this.reset=Es,this.rotate=_s,this.rotateX=Is,this.rotateY=Ts,this.rotateZ=Rs,this.skew=Ns,this.skewFromAxis=Ws,this.shear=Bs,this.scale=Js,this.setTransform=$l,this.translate=wl,this.transform=_l,this.multiply=Cl,this.applyToPoint=Vl,this.applyToX=Ul,this.applyToY=_h,this.applyToZ=nu,this.applyToPointArray=Ol,this.applyToTriplePoints=Nl,this.applyToPointStringified=Gl,this.toCSS=Fl,this.to2dCSS=Pl,this.clone=xl,this.cloneFromProps=Ml,this.equals=El,this.inversePoints=Il,this.inversePoint=Jl,this.getInverseMatrix=su,this._t=this.transform,this.isIdentity=Sl,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(vs){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ms){return typeof ms}:function(ms){return ms&&typeof Symbol=="function"&&ms.constructor===Symbol&&ms!==Symbol.prototype?"symbol":typeof ms},_typeof$3(vs)}var lottie={};function setLocation(vs){setLocationHref(vs)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(vs){setSubframeEnabled(vs)}function setPrefix(vs){setIdPrefix(vs)}function loadAnimation(vs){return animationManager.loadAnimation(vs)}function setQuality(vs){if(typeof vs=="string")switch(vs){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(vs)&&vs>1&&setDefaultCurveSegments(vs)}function inBrowser(){return typeof navigator<"u"}function installPlugin(vs,ms){vs==="expressions"&&setExpressionsPlugin(ms)}function getFactory(vs){switch(vs){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(vs){for(var ms=queryString.split("&"),ws=0;ws<ms.length;ws+=1){var Ss=ms[ws].split("=");if(decodeURIComponent(Ss[0])==vs)return decodeURIComponent(Ss[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(vs){}var ShapeModifiers=function(){var vs={},ms={};vs.registerModifier=ws,vs.getModifier=Ss;function ws(Es,_s){ms[Es]||(ms[Es]=_s)}function Ss(Es,_s,Is){return new ms[Es](_s,Is)}return vs}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(vs){if(!this.closed){vs.sh.container.addDynamicProperty(vs.sh);var ms={shape:vs.sh,data:vs,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(ms),this.addShapeToModifier(ms),this._isAnimated&&vs.setAsAnimated()}},ShapeModifier.prototype.init=function(vs,ms){this.shapes=[],this.elem=vs,this.initDynamicPropertyContainer(vs),this.initModifierProperties(vs,ms),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(vs,ms){this.s=PropertyFactory.getProp(vs,ms.s,0,.01,this),this.e=PropertyFactory.getProp(vs,ms.e,0,.01,this),this.o=PropertyFactory.getProp(vs,ms.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=ms.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(vs){vs.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(vs,ms,ws,Ss,Es){var _s=[];ms<=1?_s.push({s:vs,e:ms}):vs>=1?_s.push({s:vs-1,e:ms-1}):(_s.push({s:vs,e:1}),_s.push({s:0,e:ms-1}));var Is=[],Ts,Rs=_s.length,Bs;for(Ts=0;Ts<Rs;Ts+=1)if(Bs=_s[Ts],!(Bs.e*Es<Ss||Bs.s*Es>Ss+ws)){var Ns,Ws;Bs.s*Es<=Ss?Ns=0:Ns=(Bs.s*Es-Ss)/ws,Bs.e*Es>=Ss+ws?Ws=1:Ws=(Bs.e*Es-Ss)/ws,Is.push([Ns,Ws])}return Is.length||Is.push([0,0]),Is},TrimModifier.prototype.releasePathsData=function(vs){var ms,ws=vs.length;for(ms=0;ms<ws;ms+=1)segmentsLengthPool.release(vs[ms]);return vs.length=0,vs},TrimModifier.prototype.processShapes=function(vs){var ms,ws;if(this._mdf||vs){var Ss=this.o.v%360/360;if(Ss<0&&(Ss+=1),this.s.v>1?ms=1+Ss:this.s.v<0?ms=0+Ss:ms=this.s.v+Ss,this.e.v>1?ws=1+Ss:this.e.v<0?ws=0+Ss:ws=this.e.v+Ss,ms>ws){var Es=ms;ms=ws,ws=Es}ms=Math.round(ms*1e4)*1e-4,ws=Math.round(ws*1e4)*1e-4,this.sValue=ms,this.eValue=ws}else ms=this.sValue,ws=this.eValue;var _s,Is,Ts=this.shapes.length,Rs,Bs,Ns,Ws,Js,$l=0;if(ws===ms)for(Is=0;Is<Ts;Is+=1)this.shapes[Is].localShapeCollection.releaseShapes(),this.shapes[Is].shape._mdf=!0,this.shapes[Is].shape.paths=this.shapes[Is].localShapeCollection,this._mdf&&(this.shapes[Is].pathsData.length=0);else if(ws===1&&ms===0||ws===0&&ms===1){if(this._mdf)for(Is=0;Is<Ts;Is+=1)this.shapes[Is].pathsData.length=0,this.shapes[Is].shape._mdf=!0}else{var wl=[],_l,Cl;for(Is=0;Is<Ts;Is+=1)if(_l=this.shapes[Is],!_l.shape._mdf&&!this._mdf&&!vs&&this.m!==2)_l.shape.paths=_l.localShapeCollection;else{if(_s=_l.shape.paths,Bs=_s._length,Js=0,!_l.shape._mdf&&_l.pathsData.length)Js=_l.totalShapeLength;else{for(Ns=this.releasePathsData(_l.pathsData),Rs=0;Rs<Bs;Rs+=1)Ws=bez.getSegmentsLength(_s.shapes[Rs]),Ns.push(Ws),Js+=Ws.totalLength;_l.totalShapeLength=Js,_l.pathsData=Ns}$l+=Js,_l.shape._mdf=!0}var Sl=ms,El=ws,xl=0,Ml;for(Is=Ts-1;Is>=0;Is-=1)if(_l=this.shapes[Is],_l.shape._mdf){for(Cl=_l.localShapeCollection,Cl.releaseShapes(),this.m===2&&Ts>1?(Ml=this.calculateShapeEdges(ms,ws,_l.totalShapeLength,xl,$l),xl+=_l.totalShapeLength):Ml=[[Sl,El]],Bs=Ml.length,Rs=0;Rs<Bs;Rs+=1){Sl=Ml[Rs][0],El=Ml[Rs][1],wl.length=0,El<=1?wl.push({s:_l.totalShapeLength*Sl,e:_l.totalShapeLength*El}):Sl>=1?wl.push({s:_l.totalShapeLength*(Sl-1),e:_l.totalShapeLength*(El-1)}):(wl.push({s:_l.totalShapeLength*Sl,e:_l.totalShapeLength}),wl.push({s:0,e:_l.totalShapeLength*(El-1)}));var Vl=this.addShapes(_l,wl[0]);if(wl[0].s!==wl[0].e){if(wl.length>1){var Ul=_l.shape.paths.shapes[_l.shape.paths._length-1];if(Ul.c){var _h=Vl.pop();this.addPaths(Vl,Cl),Vl=this.addShapes(_l,wl[1],_h)}else this.addPaths(Vl,Cl),Vl=this.addShapes(_l,wl[1])}this.addPaths(Vl,Cl)}}_l.shape.paths=Cl}}},TrimModifier.prototype.addPaths=function(vs,ms){var ws,Ss=vs.length;for(ws=0;ws<Ss;ws+=1)ms.addShape(vs[ws])},TrimModifier.prototype.addSegment=function(vs,ms,ws,Ss,Es,_s,Is){Es.setXYAt(ms[0],ms[1],"o",_s),Es.setXYAt(ws[0],ws[1],"i",_s+1),Is&&Es.setXYAt(vs[0],vs[1],"v",_s),Es.setXYAt(Ss[0],Ss[1],"v",_s+1)},TrimModifier.prototype.addSegmentFromArray=function(vs,ms,ws,Ss){ms.setXYAt(vs[1],vs[5],"o",ws),ms.setXYAt(vs[2],vs[6],"i",ws+1),Ss&&ms.setXYAt(vs[0],vs[4],"v",ws),ms.setXYAt(vs[3],vs[7],"v",ws+1)},TrimModifier.prototype.addShapes=function(vs,ms,ws){var Ss=vs.pathsData,Es=vs.shape.paths.shapes,_s,Is=vs.shape.paths._length,Ts,Rs,Bs=0,Ns,Ws,Js,$l,wl=[],_l,Cl=!0;for(ws?(Ws=ws._length,_l=ws._length):(ws=shapePool.newElement(),Ws=0,_l=0),wl.push(ws),_s=0;_s<Is;_s+=1){for(Js=Ss[_s].lengths,ws.c=Es[_s].c,Rs=Es[_s].c?Js.length:Js.length+1,Ts=1;Ts<Rs;Ts+=1)if(Ns=Js[Ts-1],Bs+Ns.addedLength<ms.s)Bs+=Ns.addedLength,ws.c=!1;else if(Bs>ms.e){ws.c=!1;break}else ms.s<=Bs&&ms.e>=Bs+Ns.addedLength?(this.addSegment(Es[_s].v[Ts-1],Es[_s].o[Ts-1],Es[_s].i[Ts],Es[_s].v[Ts],ws,Ws,Cl),Cl=!1):($l=bez.getNewSegment(Es[_s].v[Ts-1],Es[_s].v[Ts],Es[_s].o[Ts-1],Es[_s].i[Ts],(ms.s-Bs)/Ns.addedLength,(ms.e-Bs)/Ns.addedLength,Js[Ts-1]),this.addSegmentFromArray($l,ws,Ws,Cl),Cl=!1,ws.c=!1),Bs+=Ns.addedLength,Ws+=1;if(Es[_s].c&&Js.length){if(Ns=Js[Ts-1],Bs<=ms.e){var Sl=Js[Ts-1].addedLength;ms.s<=Bs&&ms.e>=Bs+Sl?(this.addSegment(Es[_s].v[Ts-1],Es[_s].o[Ts-1],Es[_s].i[0],Es[_s].v[0],ws,Ws,Cl),Cl=!1):($l=bez.getNewSegment(Es[_s].v[Ts-1],Es[_s].v[0],Es[_s].o[Ts-1],Es[_s].i[0],(ms.s-Bs)/Sl,(ms.e-Bs)/Sl,Js[Ts-1]),this.addSegmentFromArray($l,ws,Ws,Cl),Cl=!1,ws.c=!1)}else ws.c=!1;Bs+=Ns.addedLength,Ws+=1}if(ws._length&&(ws.setXYAt(ws.v[_l][0],ws.v[_l][1],"i",_l),ws.setXYAt(ws.v[ws._length-1][0],ws.v[ws._length-1][1],"o",ws._length-1)),Bs>ms.e)break;_s<Is-1&&(ws=shapePool.newElement(),Cl=!0,wl.push(ws),Ws=0)}return wl};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(vs,ms){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(vs,ms.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(vs,ms){var ws=ms/100,Ss=[0,0],Es=vs._length,_s=0;for(_s=0;_s<Es;_s+=1)Ss[0]+=vs.v[_s][0],Ss[1]+=vs.v[_s][1];Ss[0]/=Es,Ss[1]/=Es;var Is=shapePool.newElement();Is.c=vs.c;var Ts,Rs,Bs,Ns,Ws,Js;for(_s=0;_s<Es;_s+=1)Ts=vs.v[_s][0]+(Ss[0]-vs.v[_s][0])*ws,Rs=vs.v[_s][1]+(Ss[1]-vs.v[_s][1])*ws,Bs=vs.o[_s][0]+(Ss[0]-vs.o[_s][0])*-ws,Ns=vs.o[_s][1]+(Ss[1]-vs.o[_s][1])*-ws,Ws=vs.i[_s][0]+(Ss[0]-vs.i[_s][0])*-ws,Js=vs.i[_s][1]+(Ss[1]-vs.i[_s][1])*-ws,Is.setTripleAt(Ts,Rs,Bs,Ns,Ws,Js,_s);return Is},PuckerAndBloatModifier.prototype.processShapes=function(vs){var ms,ws,Ss=this.shapes.length,Es,_s,Is=this.amount.v;if(Is!==0){var Ts,Rs;for(ws=0;ws<Ss;ws+=1){if(Ts=this.shapes[ws],Rs=Ts.localShapeCollection,!(!Ts.shape._mdf&&!this._mdf&&!vs))for(Rs.releaseShapes(),Ts.shape._mdf=!0,ms=Ts.shape.paths.shapes,_s=Ts.shape.paths._length,Es=0;Es<_s;Es+=1)Rs.addShape(this.processPath(ms[Es],Is));Ts.shape.paths=Ts.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var vs=[0,0];function ms(Rs){var Bs=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||Bs,this.a&&Rs.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&Rs.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&Rs.skewFromAxis(-this.sk.v,this.sa.v),this.r?Rs.rotate(-this.r.v):Rs.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?Rs.translate(this.px.v,this.py.v,-this.pz.v):Rs.translate(this.px.v,this.py.v,0):Rs.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function ws(Rs){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||Rs){var Bs;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var Ns,Ws;if(Bs=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(Ns=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/Bs,0),Ws=this.p.getValueAtTime(this.p.keyframes[0].t/Bs,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(Ns=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/Bs,0),Ws=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/Bs,0)):(Ns=this.p.pv,Ws=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/Bs,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){Ns=[],Ws=[];var Js=this.px,$l=this.py;Js._caching.lastFrame+Js.offsetTime<=Js.keyframes[0].t?(Ns[0]=Js.getValueAtTime((Js.keyframes[0].t+.01)/Bs,0),Ns[1]=$l.getValueAtTime(($l.keyframes[0].t+.01)/Bs,0),Ws[0]=Js.getValueAtTime(Js.keyframes[0].t/Bs,0),Ws[1]=$l.getValueAtTime($l.keyframes[0].t/Bs,0)):Js._caching.lastFrame+Js.offsetTime>=Js.keyframes[Js.keyframes.length-1].t?(Ns[0]=Js.getValueAtTime(Js.keyframes[Js.keyframes.length-1].t/Bs,0),Ns[1]=$l.getValueAtTime($l.keyframes[$l.keyframes.length-1].t/Bs,0),Ws[0]=Js.getValueAtTime((Js.keyframes[Js.keyframes.length-1].t-.01)/Bs,0),Ws[1]=$l.getValueAtTime(($l.keyframes[$l.keyframes.length-1].t-.01)/Bs,0)):(Ns=[Js.pv,$l.pv],Ws[0]=Js.getValueAtTime((Js._caching.lastFrame+Js.offsetTime-.01)/Bs,Js.offsetTime),Ws[1]=$l.getValueAtTime(($l._caching.lastFrame+$l.offsetTime-.01)/Bs,$l.offsetTime))}else Ws=vs,Ns=Ws;this.v.rotate(-Math.atan2(Ns[1]-Ws[1],Ns[0]-Ws[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function Ss(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function Es(){}function _s(Rs){this._addDynamicProperty(Rs),this.elem.addDynamicProperty(Rs),this._isDirty=!0}function Is(Rs,Bs,Ns){if(this.elem=Rs,this.frameId=-1,this.propType="transform",this.data=Bs,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(Ns||Rs),Bs.p&&Bs.p.s?(this.px=PropertyFactory.getProp(Rs,Bs.p.x,0,0,this),this.py=PropertyFactory.getProp(Rs,Bs.p.y,0,0,this),Bs.p.z&&(this.pz=PropertyFactory.getProp(Rs,Bs.p.z,0,0,this))):this.p=PropertyFactory.getProp(Rs,Bs.p||{k:[0,0,0]},1,0,this),Bs.rx){if(this.rx=PropertyFactory.getProp(Rs,Bs.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(Rs,Bs.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(Rs,Bs.rz,0,degToRads,this),Bs.or.k[0].ti){var Ws,Js=Bs.or.k.length;for(Ws=0;Ws<Js;Ws+=1)Bs.or.k[Ws].to=null,Bs.or.k[Ws].ti=null}this.or=PropertyFactory.getProp(Rs,Bs.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(Rs,Bs.r||{k:0},0,degToRads,this);Bs.sk&&(this.sk=PropertyFactory.getProp(Rs,Bs.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(Rs,Bs.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(Rs,Bs.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(Rs,Bs.s||{k:[100,100,100]},1,.01,this),Bs.o?this.o=PropertyFactory.getProp(Rs,Bs.o,0,.01,Rs):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}Is.prototype={applyToMatrix:ms,getValue:ws,precalculateMatrix:Ss,autoOrient:Es},extendPrototype([DynamicPropertyContainer],Is),Is.prototype.addDynamicProperty=_s,Is.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function Ts(Rs,Bs,Ns){return new Is(Rs,Bs,Ns)}return{getTransformProperty:Ts}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(vs,ms){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(vs,ms.c,0,null,this),this.o=PropertyFactory.getProp(vs,ms.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(vs,ms.tr,this),this.so=PropertyFactory.getProp(vs,ms.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(vs,ms.tr.eo,0,.01,this),this.data=ms,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(vs,ms,ws,Ss,Es,_s){var Is=_s?-1:1,Ts=Ss.s.v[0]+(1-Ss.s.v[0])*(1-Es),Rs=Ss.s.v[1]+(1-Ss.s.v[1])*(1-Es);vs.translate(Ss.p.v[0]*Is*Es,Ss.p.v[1]*Is*Es,Ss.p.v[2]),ms.translate(-Ss.a.v[0],-Ss.a.v[1],Ss.a.v[2]),ms.rotate(-Ss.r.v*Is*Es),ms.translate(Ss.a.v[0],Ss.a.v[1],Ss.a.v[2]),ws.translate(-Ss.a.v[0],-Ss.a.v[1],Ss.a.v[2]),ws.scale(_s?1/Ts:Ts,_s?1/Rs:Rs),ws.translate(Ss.a.v[0],Ss.a.v[1],Ss.a.v[2])},RepeaterModifier.prototype.init=function(vs,ms,ws,Ss){for(this.elem=vs,this.arr=ms,this.pos=ws,this.elemsData=Ss,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(vs),this.initModifierProperties(vs,ms[ws]);ws>0;)ws-=1,this._elements.unshift(ms[ws]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(vs){var ms,ws=vs.length;for(ms=0;ms<ws;ms+=1)vs[ms]._processed=!1,vs[ms].ty==="gr"&&this.resetElements(vs[ms].it)},RepeaterModifier.prototype.cloneElements=function(vs){var ms=JSON.parse(JSON.stringify(vs));return this.resetElements(ms),ms},RepeaterModifier.prototype.changeGroupRender=function(vs,ms){var ws,Ss=vs.length;for(ws=0;ws<Ss;ws+=1)vs[ws]._render=ms,vs[ws].ty==="gr"&&this.changeGroupRender(vs[ws].it,ms)},RepeaterModifier.prototype.processShapes=function(vs){var ms,ws,Ss,Es,_s,Is=!1;if(this._mdf||vs){var Ts=Math.ceil(this.c.v);if(this._groups.length<Ts){for(;this._groups.length<Ts;){var Rs={it:this.cloneElements(this._elements),ty:"gr"};Rs.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,Rs),this._groups.splice(0,0,Rs),this._currentCopies+=1}this.elem.reloadShapes(),Is=!0}_s=0;var Bs;for(Ss=0;Ss<=this._groups.length-1;Ss+=1){if(Bs=_s<Ts,this._groups[Ss]._render=Bs,this.changeGroupRender(this._groups[Ss].it,Bs),!Bs){var Ns=this.elemsData[Ss].it,Ws=Ns[Ns.length-1];Ws.transform.op.v!==0?(Ws.transform.op._mdf=!0,Ws.transform.op.v=0):Ws.transform.op._mdf=!1}_s+=1}this._currentCopies=Ts;var Js=this.o.v,$l=Js%1,wl=Js>0?Math.floor(Js):Math.ceil(Js),_l=this.pMatrix.props,Cl=this.rMatrix.props,Sl=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var El=0;if(Js>0){for(;El<wl;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),El+=1;$l&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,$l,!1),El+=$l)}else if(Js<0){for(;El>wl;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),El-=1;$l&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-$l,!0),El-=$l)}Ss=this.data.m===1?0:this._currentCopies-1,Es=this.data.m===1?1:-1,_s=this._currentCopies;for(var xl,Ml;_s;){if(ms=this.elemsData[Ss].it,ws=ms[ms.length-1].transform.mProps.v.props,Ml=ws.length,ms[ms.length-1].transform.mProps._mdf=!0,ms[ms.length-1].transform.op._mdf=!0,ms[ms.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(Ss/(this._currentCopies-1)),El!==0){for((Ss!==0&&Es===1||Ss!==this._currentCopies-1&&Es===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(Cl[0],Cl[1],Cl[2],Cl[3],Cl[4],Cl[5],Cl[6],Cl[7],Cl[8],Cl[9],Cl[10],Cl[11],Cl[12],Cl[13],Cl[14],Cl[15]),this.matrix.transform(Sl[0],Sl[1],Sl[2],Sl[3],Sl[4],Sl[5],Sl[6],Sl[7],Sl[8],Sl[9],Sl[10],Sl[11],Sl[12],Sl[13],Sl[14],Sl[15]),this.matrix.transform(_l[0],_l[1],_l[2],_l[3],_l[4],_l[5],_l[6],_l[7],_l[8],_l[9],_l[10],_l[11],_l[12],_l[13],_l[14],_l[15]),xl=0;xl<Ml;xl+=1)ws[xl]=this.matrix.props[xl];this.matrix.reset()}else for(this.matrix.reset(),xl=0;xl<Ml;xl+=1)ws[xl]=this.matrix.props[xl];El+=1,_s-=1,Ss+=Es}}else for(_s=this._currentCopies,Ss=0,Es=1;_s;)ms=this.elemsData[Ss].it,ws=ms[ms.length-1].transform.mProps.v.props,ms[ms.length-1].transform.mProps._mdf=!1,ms[ms.length-1].transform.op._mdf=!1,_s-=1,Ss+=Es;return Is},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(vs,ms){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(vs,ms.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(vs,ms){var ws=shapePool.newElement();ws.c=vs.c;var Ss,Es=vs._length,_s,Is,Ts,Rs,Bs,Ns,Ws=0,Js,$l,wl,_l,Cl,Sl;for(Ss=0;Ss<Es;Ss+=1)_s=vs.v[Ss],Ts=vs.o[Ss],Is=vs.i[Ss],_s[0]===Ts[0]&&_s[1]===Ts[1]&&_s[0]===Is[0]&&_s[1]===Is[1]?(Ss===0||Ss===Es-1)&&!vs.c?(ws.setTripleAt(_s[0],_s[1],Ts[0],Ts[1],Is[0],Is[1],Ws),Ws+=1):(Ss===0?Rs=vs.v[Es-1]:Rs=vs.v[Ss-1],Bs=Math.sqrt(Math.pow(_s[0]-Rs[0],2)+Math.pow(_s[1]-Rs[1],2)),Ns=Bs?Math.min(Bs/2,ms)/Bs:0,Cl=_s[0]+(Rs[0]-_s[0])*Ns,Js=Cl,Sl=_s[1]-(_s[1]-Rs[1])*Ns,$l=Sl,wl=Js-(Js-_s[0])*roundCorner,_l=$l-($l-_s[1])*roundCorner,ws.setTripleAt(Js,$l,wl,_l,Cl,Sl,Ws),Ws+=1,Ss===Es-1?Rs=vs.v[0]:Rs=vs.v[Ss+1],Bs=Math.sqrt(Math.pow(_s[0]-Rs[0],2)+Math.pow(_s[1]-Rs[1],2)),Ns=Bs?Math.min(Bs/2,ms)/Bs:0,wl=_s[0]+(Rs[0]-_s[0])*Ns,Js=wl,_l=_s[1]+(Rs[1]-_s[1])*Ns,$l=_l,Cl=Js-(Js-_s[0])*roundCorner,Sl=$l-($l-_s[1])*roundCorner,ws.setTripleAt(Js,$l,wl,_l,Cl,Sl,Ws),Ws+=1):(ws.setTripleAt(vs.v[Ss][0],vs.v[Ss][1],vs.o[Ss][0],vs.o[Ss][1],vs.i[Ss][0],vs.i[Ss][1],Ws),Ws+=1);return ws},RoundCornersModifier.prototype.processShapes=function(vs){var ms,ws,Ss=this.shapes.length,Es,_s,Is=this.rd.v;if(Is!==0){var Ts,Rs;for(ws=0;ws<Ss;ws+=1){if(Ts=this.shapes[ws],Rs=Ts.localShapeCollection,!(!Ts.shape._mdf&&!this._mdf&&!vs))for(Rs.releaseShapes(),Ts.shape._mdf=!0,ms=Ts.shape.paths.shapes,_s=Ts.shape.paths._length,Es=0;Es<_s;Es+=1)Rs.addShape(this.processPath(ms[Es],Is));Ts.shape.paths=Ts.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(vs,ms){return Math.abs(vs-ms)*1e5<=Math.min(Math.abs(vs),Math.abs(ms))}function floatZero(vs){return Math.abs(vs)<=1e-5}function lerp(vs,ms,ws){return vs*(1-ws)+ms*ws}function lerpPoint(vs,ms,ws){return[lerp(vs[0],ms[0],ws),lerp(vs[1],ms[1],ws)]}function quadRoots(vs,ms,ws){if(vs===0)return[];var Ss=ms*ms-4*vs*ws;if(Ss<0)return[];var Es=-ms/(2*vs);if(Ss===0)return[Es];var _s=Math.sqrt(Ss)/(2*vs);return[Es-_s,Es+_s]}function polynomialCoefficients(vs,ms,ws,Ss){return[-vs+3*ms-3*ws+Ss,3*vs-6*ms+3*ws,-3*vs+3*ms,vs]}function singlePoint(vs){return new PolynomialBezier(vs,vs,vs,vs,!1)}function PolynomialBezier(vs,ms,ws,Ss,Es){Es&&pointEqual(vs,ms)&&(ms=lerpPoint(vs,Ss,1/3)),Es&&pointEqual(ws,Ss)&&(ws=lerpPoint(vs,Ss,2/3));var _s=polynomialCoefficients(vs[0],ms[0],ws[0],Ss[0]),Is=polynomialCoefficients(vs[1],ms[1],ws[1],Ss[1]);this.a=[_s[0],Is[0]],this.b=[_s[1],Is[1]],this.c=[_s[2],Is[2]],this.d=[_s[3],Is[3]],this.points=[vs,ms,ws,Ss]}PolynomialBezier.prototype.point=function(vs){return[((this.a[0]*vs+this.b[0])*vs+this.c[0])*vs+this.d[0],((this.a[1]*vs+this.b[1])*vs+this.c[1])*vs+this.d[1]]},PolynomialBezier.prototype.derivative=function(vs){return[(3*vs*this.a[0]+2*this.b[0])*vs+this.c[0],(3*vs*this.a[1]+2*this.b[1])*vs+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(vs){var ms=this.derivative(vs);return Math.atan2(ms[1],ms[0])},PolynomialBezier.prototype.normalAngle=function(vs){var ms=this.derivative(vs);return Math.atan2(ms[0],ms[1])},PolynomialBezier.prototype.inflectionPoints=function(){var vs=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(vs))return[];var ms=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/vs,ws=ms*ms-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/vs;if(ws<0)return[];var Ss=Math.sqrt(ws);return floatZero(Ss)?Ss>0&&Ss<1?[ms]:[]:[ms-Ss,ms+Ss].filter(function(Es){return Es>0&&Es<1})},PolynomialBezier.prototype.split=function(vs){if(vs<=0)return[singlePoint(this.points[0]),this];if(vs>=1)return[this,singlePoint(this.points[this.points.length-1])];var ms=lerpPoint(this.points[0],this.points[1],vs),ws=lerpPoint(this.points[1],this.points[2],vs),Ss=lerpPoint(this.points[2],this.points[3],vs),Es=lerpPoint(ms,ws,vs),_s=lerpPoint(ws,Ss,vs),Is=lerpPoint(Es,_s,vs);return[new PolynomialBezier(this.points[0],ms,Es,Is,!0),new PolynomialBezier(Is,_s,Ss,this.points[3],!0)]};function extrema(vs,ms){var ws=vs.points[0][ms],Ss=vs.points[vs.points.length-1][ms];if(ws>Ss){var Es=Ss;Ss=ws,ws=Es}for(var _s=quadRoots(3*vs.a[ms],2*vs.b[ms],vs.c[ms]),Is=0;Is<_s.length;Is+=1)if(_s[Is]>0&&_s[Is]<1){var Ts=vs.point(_s[Is])[ms];Ts<ws?ws=Ts:Ts>Ss&&(Ss=Ts)}return{min:ws,max:Ss}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var vs=this.bounds();return{left:vs.x.min,right:vs.x.max,top:vs.y.min,bottom:vs.y.max,width:vs.x.max-vs.x.min,height:vs.y.max-vs.y.min,cx:(vs.x.max+vs.x.min)/2,cy:(vs.y.max+vs.y.min)/2}};function intersectData(vs,ms,ws){var Ss=vs.boundingBox();return{cx:Ss.cx,cy:Ss.cy,width:Ss.width,height:Ss.height,bez:vs,t:(ms+ws)/2,t1:ms,t2:ws}}function splitData(vs){var ms=vs.bez.split(.5);return[intersectData(ms[0],vs.t1,vs.t),intersectData(ms[1],vs.t,vs.t2)]}function boxIntersect(vs,ms){return Math.abs(vs.cx-ms.cx)*2<vs.width+ms.width&&Math.abs(vs.cy-ms.cy)*2<vs.height+ms.height}function intersectsImpl(vs,ms,ws,Ss,Es,_s){if(boxIntersect(vs,ms)){if(ws>=_s||vs.width<=Ss&&vs.height<=Ss&&ms.width<=Ss&&ms.height<=Ss){Es.push([vs.t,ms.t]);return}var Is=splitData(vs),Ts=splitData(ms);intersectsImpl(Is[0],Ts[0],ws+1,Ss,Es,_s),intersectsImpl(Is[0],Ts[1],ws+1,Ss,Es,_s),intersectsImpl(Is[1],Ts[0],ws+1,Ss,Es,_s),intersectsImpl(Is[1],Ts[1],ws+1,Ss,Es,_s)}}PolynomialBezier.prototype.intersections=function(vs,ms,ws){ms===void 0&&(ms=2),ws===void 0&&(ws=7);var Ss=[];return intersectsImpl(intersectData(this,0,1),intersectData(vs,0,1),0,ms,Ss,ws),Ss},PolynomialBezier.shapeSegment=function(vs,ms){var ws=(ms+1)%vs.length();return new PolynomialBezier(vs.v[ms],vs.o[ms],vs.i[ws],vs.v[ws],!0)},PolynomialBezier.shapeSegmentInverted=function(vs,ms){var ws=(ms+1)%vs.length();return new PolynomialBezier(vs.v[ws],vs.i[ws],vs.o[ms],vs.v[ms],!0)};function crossProduct(vs,ms){return[vs[1]*ms[2]-vs[2]*ms[1],vs[2]*ms[0]-vs[0]*ms[2],vs[0]*ms[1]-vs[1]*ms[0]]}function lineIntersection(vs,ms,ws,Ss){var Es=[vs[0],vs[1],1],_s=[ms[0],ms[1],1],Is=[ws[0],ws[1],1],Ts=[Ss[0],Ss[1],1],Rs=crossProduct(crossProduct(Es,_s),crossProduct(Is,Ts));return floatZero(Rs[2])?null:[Rs[0]/Rs[2],Rs[1]/Rs[2]]}function polarOffset(vs,ms,ws){return[vs[0]+Math.cos(ms)*ws,vs[1]-Math.sin(ms)*ws]}function pointDistance(vs,ms){return Math.hypot(vs[0]-ms[0],vs[1]-ms[1])}function pointEqual(vs,ms){return floatEqual(vs[0],ms[0])&&floatEqual(vs[1],ms[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(vs,ms){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(vs,ms.s,0,null,this),this.frequency=PropertyFactory.getProp(vs,ms.r,0,null,this),this.pointsType=PropertyFactory.getProp(vs,ms.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(vs,ms,ws,Ss,Es,_s,Is){var Ts=ws-Math.PI/2,Rs=ws+Math.PI/2,Bs=ms[0]+Math.cos(ws)*Ss*Es,Ns=ms[1]-Math.sin(ws)*Ss*Es;vs.setTripleAt(Bs,Ns,Bs+Math.cos(Ts)*_s,Ns-Math.sin(Ts)*_s,Bs+Math.cos(Rs)*Is,Ns-Math.sin(Rs)*Is,vs.length())}function getPerpendicularVector(vs,ms){var ws=[ms[0]-vs[0],ms[1]-vs[1]],Ss=-Math.PI*.5,Es=[Math.cos(Ss)*ws[0]-Math.sin(Ss)*ws[1],Math.sin(Ss)*ws[0]+Math.cos(Ss)*ws[1]];return Es}function getProjectingAngle(vs,ms){var ws=ms===0?vs.length()-1:ms-1,Ss=(ms+1)%vs.length(),Es=vs.v[ws],_s=vs.v[Ss],Is=getPerpendicularVector(Es,_s);return Math.atan2(0,1)-Math.atan2(Is[1],Is[0])}function zigZagCorner(vs,ms,ws,Ss,Es,_s,Is){var Ts=getProjectingAngle(ms,ws),Rs=ms.v[ws%ms._length],Bs=ms.v[ws===0?ms._length-1:ws-1],Ns=ms.v[(ws+1)%ms._length],Ws=_s===2?Math.sqrt(Math.pow(Rs[0]-Bs[0],2)+Math.pow(Rs[1]-Bs[1],2)):0,Js=_s===2?Math.sqrt(Math.pow(Rs[0]-Ns[0],2)+Math.pow(Rs[1]-Ns[1],2)):0;setPoint(vs,ms.v[ws%ms._length],Ts,Is,Ss,Js/((Es+1)*2),Ws/((Es+1)*2))}function zigZagSegment(vs,ms,ws,Ss,Es,_s){for(var Is=0;Is<Ss;Is+=1){var Ts=(Is+1)/(Ss+1),Rs=Es===2?Math.sqrt(Math.pow(ms.points[3][0]-ms.points[0][0],2)+Math.pow(ms.points[3][1]-ms.points[0][1],2)):0,Bs=ms.normalAngle(Ts),Ns=ms.point(Ts);setPoint(vs,Ns,Bs,_s,ws,Rs/((Ss+1)*2),Rs/((Ss+1)*2)),_s=-_s}return _s}ZigZagModifier.prototype.processPath=function(vs,ms,ws,Ss){var Es=vs._length,_s=shapePool.newElement();if(_s.c=vs.c,vs.c||(Es-=1),Es===0)return _s;var Is=-1,Ts=PolynomialBezier.shapeSegment(vs,0);zigZagCorner(_s,vs,0,ms,ws,Ss,Is);for(var Rs=0;Rs<Es;Rs+=1)Is=zigZagSegment(_s,Ts,ms,ws,Ss,-Is),Rs===Es-1&&!vs.c?Ts=null:Ts=PolynomialBezier.shapeSegment(vs,(Rs+1)%Es),zigZagCorner(_s,vs,Rs+1,ms,ws,Ss,Is);return _s},ZigZagModifier.prototype.processShapes=function(vs){var ms,ws,Ss=this.shapes.length,Es,_s,Is=this.amplitude.v,Ts=Math.max(0,Math.round(this.frequency.v)),Rs=this.pointsType.v;if(Is!==0){var Bs,Ns;for(ws=0;ws<Ss;ws+=1){if(Bs=this.shapes[ws],Ns=Bs.localShapeCollection,!(!Bs.shape._mdf&&!this._mdf&&!vs))for(Ns.releaseShapes(),Bs.shape._mdf=!0,ms=Bs.shape.paths.shapes,_s=Bs.shape.paths._length,Es=0;Es<_s;Es+=1)Ns.addShape(this.processPath(ms[Es],Is,Ts,Rs));Bs.shape.paths=Bs.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(vs,ms,ws){var Ss=Math.atan2(ms[0]-vs[0],ms[1]-vs[1]);return[polarOffset(vs,Ss,ws),polarOffset(ms,Ss,ws)]}function offsetSegment(vs,ms){var ws,Ss,Es,_s,Is,Ts,Rs;Rs=linearOffset(vs.points[0],vs.points[1],ms),ws=Rs[0],Ss=Rs[1],Rs=linearOffset(vs.points[1],vs.points[2],ms),Es=Rs[0],_s=Rs[1],Rs=linearOffset(vs.points[2],vs.points[3],ms),Is=Rs[0],Ts=Rs[1];var Bs=lineIntersection(ws,Ss,Es,_s);Bs===null&&(Bs=Ss);var Ns=lineIntersection(Is,Ts,Es,_s);return Ns===null&&(Ns=Is),new PolynomialBezier(ws,Bs,Ns,Ts)}function joinLines(vs,ms,ws,Ss,Es){var _s=ms.points[3],Is=ws.points[0];if(Ss===3||pointEqual(_s,Is))return _s;if(Ss===2){var Ts=-ms.tangentAngle(1),Rs=-ws.tangentAngle(0)+Math.PI,Bs=lineIntersection(_s,polarOffset(_s,Ts+Math.PI/2,100),Is,polarOffset(Is,Ts+Math.PI/2,100)),Ns=Bs?pointDistance(Bs,_s):pointDistance(_s,Is)/2,Ws=polarOffset(_s,Ts,2*Ns*roundCorner);return vs.setXYAt(Ws[0],Ws[1],"o",vs.length()-1),Ws=polarOffset(Is,Rs,2*Ns*roundCorner),vs.setTripleAt(Is[0],Is[1],Is[0],Is[1],Ws[0],Ws[1],vs.length()),Is}var Js=pointEqual(_s,ms.points[2])?ms.points[0]:ms.points[2],$l=pointEqual(Is,ws.points[1])?ws.points[3]:ws.points[1],wl=lineIntersection(Js,_s,Is,$l);return wl&&pointDistance(wl,_s)<Es?(vs.setTripleAt(wl[0],wl[1],wl[0],wl[1],wl[0],wl[1],vs.length()),wl):_s}function getIntersection(vs,ms){var ws=vs.intersections(ms);return ws.length&&floatEqual(ws[0][0],1)&&ws.shift(),ws.length?ws[0]:null}function pruneSegmentIntersection(vs,ms){var ws=vs.slice(),Ss=ms.slice(),Es=getIntersection(vs[vs.length-1],ms[0]);return Es&&(ws[vs.length-1]=vs[vs.length-1].split(Es[0])[0],Ss[0]=ms[0].split(Es[1])[1]),vs.length>1&&ms.length>1&&(Es=getIntersection(vs[0],ms[ms.length-1]),Es)?[[vs[0].split(Es[0])[0]],[ms[ms.length-1].split(Es[1])[1]]]:[ws,Ss]}function pruneIntersections(vs){for(var ms,ws=1;ws<vs.length;ws+=1)ms=pruneSegmentIntersection(vs[ws-1],vs[ws]),vs[ws-1]=ms[0],vs[ws]=ms[1];return vs.length>1&&(ms=pruneSegmentIntersection(vs[vs.length-1],vs[0]),vs[vs.length-1]=ms[0],vs[0]=ms[1]),vs}function offsetSegmentSplit(vs,ms){var ws=vs.inflectionPoints(),Ss,Es,_s,Is;if(ws.length===0)return[offsetSegment(vs,ms)];if(ws.length===1||floatEqual(ws[1],1))return _s=vs.split(ws[0]),Ss=_s[0],Es=_s[1],[offsetSegment(Ss,ms),offsetSegment(Es,ms)];_s=vs.split(ws[0]),Ss=_s[0];var Ts=(ws[1]-ws[0])/(1-ws[0]);return _s=_s[1].split(Ts),Is=_s[0],Es=_s[1],[offsetSegment(Ss,ms),offsetSegment(Is,ms),offsetSegment(Es,ms)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(vs,ms){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(vs,ms.a,0,null,this),this.miterLimit=PropertyFactory.getProp(vs,ms.ml,0,null,this),this.lineJoin=ms.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(vs,ms,ws,Ss){var Es=shapePool.newElement();Es.c=vs.c;var _s=vs.length();vs.c||(_s-=1);var Is,Ts,Rs,Bs=[];for(Is=0;Is<_s;Is+=1)Rs=PolynomialBezier.shapeSegment(vs,Is),Bs.push(offsetSegmentSplit(Rs,ms));if(!vs.c)for(Is=_s-1;Is>=0;Is-=1)Rs=PolynomialBezier.shapeSegmentInverted(vs,Is),Bs.push(offsetSegmentSplit(Rs,ms));Bs=pruneIntersections(Bs);var Ns=null,Ws=null;for(Is=0;Is<Bs.length;Is+=1){var Js=Bs[Is];for(Ws&&(Ns=joinLines(Es,Ws,Js[0],ws,Ss)),Ws=Js[Js.length-1],Ts=0;Ts<Js.length;Ts+=1)Rs=Js[Ts],Ns&&pointEqual(Rs.points[0],Ns)?Es.setXYAt(Rs.points[1][0],Rs.points[1][1],"o",Es.length()-1):Es.setTripleAt(Rs.points[0][0],Rs.points[0][1],Rs.points[1][0],Rs.points[1][1],Rs.points[0][0],Rs.points[0][1],Es.length()),Es.setTripleAt(Rs.points[3][0],Rs.points[3][1],Rs.points[3][0],Rs.points[3][1],Rs.points[2][0],Rs.points[2][1],Es.length()),Ns=Rs.points[3]}return Bs.length&&joinLines(Es,Ws,Bs[0][0],ws,Ss),Es},OffsetPathModifier.prototype.processShapes=function(vs){var ms,ws,Ss=this.shapes.length,Es,_s,Is=this.amount.v,Ts=this.miterLimit.v,Rs=this.lineJoin;if(Is!==0){var Bs,Ns;for(ws=0;ws<Ss;ws+=1){if(Bs=this.shapes[ws],Ns=Bs.localShapeCollection,!(!Bs.shape._mdf&&!this._mdf&&!vs))for(Ns.releaseShapes(),Bs.shape._mdf=!0,ms=Bs.shape.paths.shapes,_s=Bs.shape.paths._length,Es=0;Es<_s;Es+=1)Ns.addShape(this.processPath(ms[Es],Is,Rs,Ts));Bs.shape.paths=Bs.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(vs){for(var ms=vs.fStyle?vs.fStyle.split(" "):[],ws="normal",Ss="normal",Es=ms.length,_s,Is=0;Is<Es;Is+=1)switch(_s=ms[Is].toLowerCase(),_s){case"italic":Ss="italic";break;case"bold":ws="700";break;case"black":ws="900";break;case"medium":ws="500";break;case"regular":case"normal":ws="400";break;case"light":case"thin":ws="200";break}return{style:Ss,weight:vs.fWeight||ws}}var FontManager=function(){var vs=5e3,ms={w:0,size:0,shapes:[],data:{shapes:[]}},ws=[];ws=ws.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var Ss=127988,Es=917631,_s=917601,Is=917626,Ts=65039,Rs=8205,Bs=127462,Ns=127487,Ws=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function Js(Al){var Pl=Al.split(","),yl,Zs=Pl.length,Bl=[];for(yl=0;yl<Zs;yl+=1)Pl[yl]!=="sans-serif"&&Pl[yl]!=="monospace"&&Bl.push(Pl[yl]);return Bl.join(",")}function $l(Al,Pl){var yl=createTag("span");yl.setAttribute("aria-hidden",!0),yl.style.fontFamily=Pl;var Zs=createTag("span");Zs.innerText="giItT1WQy@!-/#",yl.style.position="absolute",yl.style.left="-10000px",yl.style.top="-10000px",yl.style.fontSize="300px",yl.style.fontVariant="normal",yl.style.fontStyle="normal",yl.style.fontWeight="normal",yl.style.letterSpacing="0",yl.appendChild(Zs),document.body.appendChild(yl);var Bl=Zs.offsetWidth;return Zs.style.fontFamily=Js(Al)+", "+Pl,{node:Zs,w:Bl,parent:yl}}function wl(){var Al,Pl=this.fonts.length,yl,Zs,Bl=Pl;for(Al=0;Al<Pl;Al+=1)this.fonts[Al].loaded?Bl-=1:this.fonts[Al].fOrigin==="n"||this.fonts[Al].origin===0?this.fonts[Al].loaded=!0:(yl=this.fonts[Al].monoCase.node,Zs=this.fonts[Al].monoCase.w,yl.offsetWidth!==Zs?(Bl-=1,this.fonts[Al].loaded=!0):(yl=this.fonts[Al].sansCase.node,Zs=this.fonts[Al].sansCase.w,yl.offsetWidth!==Zs&&(Bl-=1,this.fonts[Al].loaded=!0)),this.fonts[Al].loaded&&(this.fonts[Al].sansCase.parent.parentNode.removeChild(this.fonts[Al].sansCase.parent),this.fonts[Al].monoCase.parent.parentNode.removeChild(this.fonts[Al].monoCase.parent)));Bl!==0&&Date.now()-this.initTime<vs?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function _l(Al,Pl){var yl=document.body&&Pl?"svg":"canvas",Zs,Bl=getFontProperties(Al);if(yl==="svg"){var eu=createNS("text");eu.style.fontSize="100px",eu.setAttribute("font-family",Al.fFamily),eu.setAttribute("font-style",Bl.style),eu.setAttribute("font-weight",Bl.weight),eu.textContent="1",Al.fClass?(eu.style.fontFamily="inherit",eu.setAttribute("class",Al.fClass)):eu.style.fontFamily=Al.fFamily,Pl.appendChild(eu),Zs=eu}else{var Eu=new OffscreenCanvas(500,500).getContext("2d");Eu.font=Bl.style+" "+Bl.weight+" 100px "+Al.fFamily,Zs=Eu}function uu(Yl){return yl==="svg"?(Zs.textContent=Yl,Zs.getComputedTextLength()):Zs.measureText(Yl).width}return{measureText:uu}}function Cl(Al,Pl){if(!Al){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=Al.list;return}if(!document.body){this.isLoaded=!0,Al.list.forEach(function(fu){fu.helper=_l(fu),fu.cache={}}),this.fonts=Al.list;return}var yl=Al.list,Zs,Bl=yl.length,eu=Bl;for(Zs=0;Zs<Bl;Zs+=1){var Eu=!0,uu,Yl;if(yl[Zs].loaded=!1,yl[Zs].monoCase=$l(yl[Zs].fFamily,"monospace"),yl[Zs].sansCase=$l(yl[Zs].fFamily,"sans-serif"),!yl[Zs].fPath)yl[Zs].loaded=!0,eu-=1;else if(yl[Zs].fOrigin==="p"||yl[Zs].origin===3){if(uu=document.querySelectorAll('style[f-forigin="p"][f-family="'+yl[Zs].fFamily+'"], style[f-origin="3"][f-family="'+yl[Zs].fFamily+'"]'),uu.length>0&&(Eu=!1),Eu){var zl=createTag("style");zl.setAttribute("f-forigin",yl[Zs].fOrigin),zl.setAttribute("f-origin",yl[Zs].origin),zl.setAttribute("f-family",yl[Zs].fFamily),zl.type="text/css",zl.innerText="@font-face {font-family: "+yl[Zs].fFamily+"; font-style: normal; src: url('"+yl[Zs].fPath+"');}",Pl.appendChild(zl)}}else if(yl[Zs].fOrigin==="g"||yl[Zs].origin===1){for(uu=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Yl=0;Yl<uu.length;Yl+=1)uu[Yl].href.indexOf(yl[Zs].fPath)!==-1&&(Eu=!1);if(Eu){var ou=createTag("link");ou.setAttribute("f-forigin",yl[Zs].fOrigin),ou.setAttribute("f-origin",yl[Zs].origin),ou.type="text/css",ou.rel="stylesheet",ou.href=yl[Zs].fPath,document.body.appendChild(ou)}}else if(yl[Zs].fOrigin==="t"||yl[Zs].origin===2){for(uu=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Yl=0;Yl<uu.length;Yl+=1)yl[Zs].fPath===uu[Yl].src&&(Eu=!1);if(Eu){var pu=createTag("link");pu.setAttribute("f-forigin",yl[Zs].fOrigin),pu.setAttribute("f-origin",yl[Zs].origin),pu.setAttribute("rel","stylesheet"),pu.setAttribute("href",yl[Zs].fPath),Pl.appendChild(pu)}}yl[Zs].helper=_l(yl[Zs],Pl),yl[Zs].cache={},this.fonts.push(yl[Zs])}eu===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function Sl(Al){if(Al){this.chars||(this.chars=[]);var Pl,yl=Al.length,Zs,Bl=this.chars.length,eu;for(Pl=0;Pl<yl;Pl+=1){for(Zs=0,eu=!1;Zs<Bl;)this.chars[Zs].style===Al[Pl].style&&this.chars[Zs].fFamily===Al[Pl].fFamily&&this.chars[Zs].ch===Al[Pl].ch&&(eu=!0),Zs+=1;eu||(this.chars.push(Al[Pl]),Bl+=1)}}}function El(Al,Pl,yl){for(var Zs=0,Bl=this.chars.length;Zs<Bl;){if(this.chars[Zs].ch===Al&&this.chars[Zs].style===Pl&&this.chars[Zs].fFamily===yl)return this.chars[Zs];Zs+=1}return(typeof Al=="string"&&Al.charCodeAt(0)!==13||!Al)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",Al,Pl,yl)),ms}function xl(Al,Pl,yl){var Zs=this.getFontByName(Pl),Bl=Al;if(!Zs.cache[Bl]){var eu=Zs.helper;if(Al===" "){var Eu=eu.measureText("|"+Al+"|"),uu=eu.measureText("||");Zs.cache[Bl]=(Eu-uu)/100}else Zs.cache[Bl]=eu.measureText(Al)/100}return Zs.cache[Bl]*yl}function Ml(Al){for(var Pl=0,yl=this.fonts.length;Pl<yl;){if(this.fonts[Pl].fName===Al)return this.fonts[Pl];Pl+=1}return this.fonts[0]}function Vl(Al){var Pl=0,yl=Al.charCodeAt(0);if(yl>=55296&&yl<=56319){var Zs=Al.charCodeAt(1);Zs>=56320&&Zs<=57343&&(Pl=(yl-55296)*1024+Zs-56320+65536)}return Pl}function Ul(Al,Pl){var yl=Al.toString(16)+Pl.toString(16);return Ws.indexOf(yl)!==-1}function _h(Al){return Al===Rs}function nu(Al){return Al===Ts}function su(Al){var Pl=Vl(Al);return Pl>=Bs&&Pl<=Ns}function Jl(Al){return su(Al.substr(0,2))&&su(Al.substr(2,2))}function Il(Al){return ws.indexOf(Al)!==-1}function Nl(Al,Pl){var yl=Vl(Al.substr(Pl,2));if(yl!==Ss)return!1;var Zs=0;for(Pl+=2;Zs<5;){if(yl=Vl(Al.substr(Pl,2)),yl<_s||yl>Is)return!1;Zs+=1,Pl+=2}return Vl(Al.substr(Pl,2))===Es}function Ol(){this.isLoaded=!0}var Gl=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Gl.isModifier=Ul,Gl.isZeroWidthJoiner=_h,Gl.isFlagEmoji=Jl,Gl.isRegionalCode=su,Gl.isCombinedCharacter=Il,Gl.isRegionalFlag=Nl,Gl.isVariationSelector=nu,Gl.BLACK_FLAG_CODE_POINT=Ss;var Fl={addChars:Sl,addFonts:Cl,getCharData:El,getFontByName:Ml,measureText:xl,checkLoadedFonts:wl,setIsLoaded:Ol};return Gl.prototype=Fl,Gl}();function SlotManager(vs){this.animationData=vs}SlotManager.prototype.getProp=function(vs){return this.animationData.slots&&this.animationData.slots[vs.sid]?Object.assign(vs,this.animationData.slots[vs.sid].p):vs};function slotFactory(vs){return new SlotManager(vs)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(ms){this.renderableComponents.indexOf(ms)===-1&&this.renderableComponents.push(ms)},removeRenderableComponent:function(ms){this.renderableComponents.indexOf(ms)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(ms),1)},prepareRenderableFrame:function(ms){this.checkLayerLimits(ms)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(ms){this.data.ip-this.data.st<=ms&&this.data.op-this.data.st>ms?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var ms,ws=this.renderableComponents.length;for(ms=0;ms<ws;ms+=1)this.renderableComponents[ms].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var vs={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(ms){return vs[ms]||""}}();function SliderEffect(vs,ms,ws){this.p=PropertyFactory.getProp(ms,vs.v,0,0,ws)}function AngleEffect(vs,ms,ws){this.p=PropertyFactory.getProp(ms,vs.v,0,0,ws)}function ColorEffect(vs,ms,ws){this.p=PropertyFactory.getProp(ms,vs.v,1,0,ws)}function PointEffect(vs,ms,ws){this.p=PropertyFactory.getProp(ms,vs.v,1,0,ws)}function LayerIndexEffect(vs,ms,ws){this.p=PropertyFactory.getProp(ms,vs.v,0,0,ws)}function MaskIndexEffect(vs,ms,ws){this.p=PropertyFactory.getProp(ms,vs.v,0,0,ws)}function CheckboxEffect(vs,ms,ws){this.p=PropertyFactory.getProp(ms,vs.v,0,0,ws)}function NoValueEffect(){this.p={}}function EffectsManager(vs,ms){var ws=vs.ef||[];this.effectElements=[];var Ss,Es=ws.length,_s;for(Ss=0;Ss<Es;Ss+=1)_s=new GroupEffect(ws[Ss],ms),this.effectElements.push(_s)}function GroupEffect(vs,ms){this.init(vs,ms)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(vs,ms){this.data=vs,this.effectElements=[],this.initDynamicPropertyContainer(ms);var ws,Ss=this.data.ef.length,Es,_s=this.data.ef;for(ws=0;ws<Ss;ws+=1){switch(Es=null,_s[ws].ty){case 0:Es=new SliderEffect(_s[ws],ms,this);break;case 1:Es=new AngleEffect(_s[ws],ms,this);break;case 2:Es=new ColorEffect(_s[ws],ms,this);break;case 3:Es=new PointEffect(_s[ws],ms,this);break;case 4:case 7:Es=new CheckboxEffect(_s[ws],ms,this);break;case 10:Es=new LayerIndexEffect(_s[ws],ms,this);break;case 11:Es=new MaskIndexEffect(_s[ws],ms,this);break;case 5:Es=new EffectsManager(_s[ws],ms);break;default:Es=new NoValueEffect(_s[ws]);break}Es&&this.effectElements.push(Es)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var ms=0,ws=this.data.masksProperties.length;ms<ws;){if(this.data.masksProperties[ms].mode!=="n"&&this.data.masksProperties[ms].cl!==!1)return!0;ms+=1}return!1},initExpressions:function(){var ms=getExpressionInterfaces();if(ms){var ws=ms("layer"),Ss=ms("effects"),Es=ms("shape"),_s=ms("text"),Is=ms("comp");this.layerInterface=ws(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var Ts=Ss.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(Ts),this.data.ty===0||this.data.xt?this.compInterface=Is(this):this.data.ty===4?(this.layerInterface.shapeInterface=Es(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=_s(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var ms=getBlendMode(this.data.bm),ws=this.baseElement||this.layerElement;ws.style["mix-blend-mode"]=ms},initBaseData:function(ms,ws,Ss){this.globalData=ws,this.comp=Ss,this.data=ms,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(ms,ws){var Ss,Es=this.dynamicProperties.length;for(Ss=0;Ss<Es;Ss+=1)(ws||this._isParent&&this.dynamicProperties[Ss].propType==="transform")&&(this.dynamicProperties[Ss].getValue(),this.dynamicProperties[Ss]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(ms){this.dynamicProperties.indexOf(ms)===-1&&this.dynamicProperties.push(ms)}};function FootageElement(vs,ms,ws){this.initFrame(),this.initRenderable(),this.assetData=ms.getAssetData(vs.refId),this.footageData=ms.imageLoader.getAsset(this.assetData),this.initBaseData(vs,ms,ws)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var vs=getExpressionInterfaces();if(vs){var ms=vs("footage");this.layerInterface=ms(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(vs,ms,ws){this.initFrame(),this.initRenderable(),this.assetData=ms.getAssetData(vs.refId),this.initBaseData(vs,ms,ws),this._isPlaying=!1,this._canPlay=!1;var Ss=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(Ss),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=vs.tm?PropertyFactory.getProp(this,vs.tm,0,ms.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,vs.au&&vs.au.lv?vs.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(vs){if(this.prepareRenderableFrame(vs,!0),this.prepareProperties(vs,!0),this.tm._placeholder)this._currentTime=vs/this.data.sr;else{var ms=this.tm.v;this._currentTime=ms}this._volume=this.lv.v[0];var ws=this._volume*this._volumeMultiplier;this._previousVolume!==ws&&(this._previousVolume=ws,this.audio.volume(ws))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(vs){this.audio.rate(vs)},AudioElement.prototype.volume=function(vs){this._volumeMultiplier=vs,this._previousVolume=vs*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(vs){var ms,ws=this.layers.length,Ss;for(this.completeLayers=!0,ms=ws-1;ms>=0;ms-=1)this.elements[ms]||(Ss=this.layers[ms],Ss.ip-Ss.st<=vs-this.layers[ms].st&&Ss.op-Ss.st>vs-this.layers[ms].st&&this.buildItem(ms)),this.completeLayers=this.elements[ms]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(vs){switch(vs.ty){case 2:return this.createImage(vs);case 0:return this.createComp(vs);case 1:return this.createSolid(vs);case 3:return this.createNull(vs);case 4:return this.createShape(vs);case 5:return this.createText(vs);case 6:return this.createAudio(vs);case 13:return this.createCamera(vs);case 15:return this.createFootage(vs);default:return this.createNull(vs)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(vs){return new AudioElement(vs,this.globalData,this)},BaseRenderer.prototype.createFootage=function(vs){return new FootageElement(vs,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var vs,ms=this.layers.length;for(vs=0;vs<ms;vs+=1)this.buildItem(vs);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(vs){this.completeLayers=!1;var ms,ws=vs.length,Ss,Es=this.layers.length;for(ms=0;ms<ws;ms+=1)for(Ss=0;Ss<Es;){if(this.layers[Ss].id===vs[ms].id){this.layers[Ss]=vs[ms];break}Ss+=1}},BaseRenderer.prototype.setProjectInterface=function(vs){this.globalData.projectInterface=vs},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(vs,ms,ws){for(var Ss=this.elements,Es=this.layers,_s=0,Is=Es.length;_s<Is;)Es[_s].ind==ms&&(!Ss[_s]||Ss[_s]===!0?(this.buildItem(_s),this.addPendingElement(vs)):(ws.push(Ss[_s]),Ss[_s].setAsParent(),Es[_s].parent!==void 0?this.buildElementParenting(vs,Es[_s].parent,ws):vs.setHierarchy(ws))),_s+=1},BaseRenderer.prototype.addPendingElement=function(vs){this.pendingElements.push(vs)},BaseRenderer.prototype.searchExtraCompositions=function(vs){var ms,ws=vs.length;for(ms=0;ms<ws;ms+=1)if(vs[ms].xt){var Ss=this.createComp(vs[ms]);Ss.initExpressions(),this.globalData.projectInterface.registerComposition(Ss)}},BaseRenderer.prototype.getElementById=function(vs){var ms,ws=this.elements.length;for(ms=0;ms<ws;ms+=1)if(this.elements[ms].data.ind===vs)return this.elements[ms];return null},BaseRenderer.prototype.getElementByPath=function(vs){var ms=vs.shift(),ws;if(typeof ms=="number")ws=this.elements[ms];else{var Ss,Es=this.elements.length;for(Ss=0;Ss<Es;Ss+=1)if(this.elements[Ss].data.nm===ms){ws=this.elements[Ss];break}}return vs.length===0?ws:ws.getElementByPath(vs)},BaseRenderer.prototype.setupGlobalData=function(vs,ms){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(vs),this.globalData.fontManager.addChars(vs.chars),this.globalData.fontManager.addFonts(vs.fonts,ms),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=vs.fr,this.globalData.nm=vs.nm,this.globalData.compSize={w:vs.w,h:vs.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var ms=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:ms,localMat:ms,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var ms,ws=this.finalTransform.mat,Ss=0,Es=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;Ss<Es;){if(this.hierarchy[Ss].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}Ss+=1}if(this.finalTransform._matMdf)for(ms=this.finalTransform.mProp.v.props,ws.cloneFromProps(ms),Ss=0;Ss<Es;Ss+=1)ws.multiply(this.hierarchy[Ss].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var ms=0,ws=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;ms<ws;)this.localTransforms[ms]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[ms]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),ms+=1;if(this.finalTransform._localMatMdf){var Ss=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(Ss),ms=1;ms<ws;ms+=1){var Es=this.localTransforms[ms].matrix;Ss.multiply(Es)}Ss.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var _s=this.finalTransform.localOpacity;for(ms=0;ms<ws;ms+=1)_s*=this.localTransforms[ms].opacity*.01;this.finalTransform.localOpacity=_s}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var ms=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(ms.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var ws=0,Ss=ms.length;for(ws=0;ws<Ss;ws+=1)this.localTransforms.push(ms[ws])}}},globalToLocal:function(ms){var ws=[];ws.push(this.finalTransform);for(var Ss=!0,Es=this.comp;Ss;)Es.finalTransform?(Es.data.hasMask&&ws.splice(0,0,Es.finalTransform),Es=Es.comp):Ss=!1;var _s,Is=ws.length,Ts;for(_s=0;_s<Is;_s+=1)Ts=ws[_s].mat.applyToPointArray(0,0,0),ms=[ms[0]-Ts[0],ms[1]-Ts[1],0];return ms},mHelper:new Matrix};function MaskElement(vs,ms,ws){this.data=vs,this.element=ms,this.globalData=ws,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var Ss=this.globalData.defs,Es,_s=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(_s),this.solidPath="";var Is,Ts=this.masksProperties,Rs=0,Bs=[],Ns,Ws,Js=createElementID(),$l,wl,_l,Cl,Sl="clipPath",El="clip-path";for(Es=0;Es<_s;Es+=1)if((Ts[Es].mode!=="a"&&Ts[Es].mode!=="n"||Ts[Es].inv||Ts[Es].o.k!==100||Ts[Es].o.x)&&(Sl="mask",El="mask"),(Ts[Es].mode==="s"||Ts[Es].mode==="i")&&Rs===0?($l=createNS("rect"),$l.setAttribute("fill","#ffffff"),$l.setAttribute("width",this.element.comp.data.w||0),$l.setAttribute("height",this.element.comp.data.h||0),Bs.push($l)):$l=null,Is=createNS("path"),Ts[Es].mode==="n")this.viewData[Es]={op:PropertyFactory.getProp(this.element,Ts[Es].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,Ts[Es],3),elem:Is,lastPath:""},Ss.appendChild(Is);else{Rs+=1,Is.setAttribute("fill",Ts[Es].mode==="s"?"#000000":"#ffffff"),Is.setAttribute("clip-rule","nonzero");var xl;if(Ts[Es].x.k!==0?(Sl="mask",El="mask",Cl=PropertyFactory.getProp(this.element,Ts[Es].x,0,null,this.element),xl=createElementID(),wl=createNS("filter"),wl.setAttribute("id",xl),_l=createNS("feMorphology"),_l.setAttribute("operator","erode"),_l.setAttribute("in","SourceGraphic"),_l.setAttribute("radius","0"),wl.appendChild(_l),Ss.appendChild(wl),Is.setAttribute("stroke",Ts[Es].mode==="s"?"#000000":"#ffffff")):(_l=null,Cl=null),this.storedData[Es]={elem:Is,x:Cl,expan:_l,lastPath:"",lastOperator:"",filterId:xl,lastRadius:0},Ts[Es].mode==="i"){Ws=Bs.length;var Ml=createNS("g");for(Ns=0;Ns<Ws;Ns+=1)Ml.appendChild(Bs[Ns]);var Vl=createNS("mask");Vl.setAttribute("mask-type","alpha"),Vl.setAttribute("id",Js+"_"+Rs),Vl.appendChild(Is),Ss.appendChild(Vl),Ml.setAttribute("mask","url("+getLocationHref()+"#"+Js+"_"+Rs+")"),Bs.length=0,Bs.push(Ml)}else Bs.push(Is);Ts[Es].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[Es]={elem:Is,lastPath:"",op:PropertyFactory.getProp(this.element,Ts[Es].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,Ts[Es],3),invRect:$l},this.viewData[Es].prop.k||this.drawPath(Ts[Es],this.viewData[Es].prop.v,this.viewData[Es])}for(this.maskElement=createNS(Sl),_s=Bs.length,Es=0;Es<_s;Es+=1)this.maskElement.appendChild(Bs[Es]);Rs>0&&(this.maskElement.setAttribute("id",Js),this.element.maskedElement.setAttribute(El,"url("+getLocationHref()+"#"+Js+")"),Ss.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(vs){return this.viewData[vs].prop},MaskElement.prototype.renderFrame=function(vs){var ms=this.element.finalTransform.mat,ws,Ss=this.masksProperties.length;for(ws=0;ws<Ss;ws+=1)if((this.viewData[ws].prop._mdf||vs)&&this.drawPath(this.masksProperties[ws],this.viewData[ws].prop.v,this.viewData[ws]),(this.viewData[ws].op._mdf||vs)&&this.viewData[ws].elem.setAttribute("fill-opacity",this.viewData[ws].op.v),this.masksProperties[ws].mode!=="n"&&(this.viewData[ws].invRect&&(this.element.finalTransform.mProp._mdf||vs)&&this.viewData[ws].invRect.setAttribute("transform",ms.getInverseMatrix().to2dCSS()),this.storedData[ws].x&&(this.storedData[ws].x._mdf||vs))){var Es=this.storedData[ws].expan;this.storedData[ws].x.v<0?(this.storedData[ws].lastOperator!=="erode"&&(this.storedData[ws].lastOperator="erode",this.storedData[ws].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[ws].filterId+")")),Es.setAttribute("radius",-this.storedData[ws].x.v)):(this.storedData[ws].lastOperator!=="dilate"&&(this.storedData[ws].lastOperator="dilate",this.storedData[ws].elem.setAttribute("filter",null)),this.storedData[ws].elem.setAttribute("stroke-width",this.storedData[ws].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var vs="M0,0 ";return vs+=" h"+this.globalData.compSize.w,vs+=" v"+this.globalData.compSize.h,vs+=" h-"+this.globalData.compSize.w,vs+=" v-"+this.globalData.compSize.h+" ",vs},MaskElement.prototype.drawPath=function(vs,ms,ws){var Ss=" M"+ms.v[0][0]+","+ms.v[0][1],Es,_s;for(_s=ms._length,Es=1;Es<_s;Es+=1)Ss+=" C"+ms.o[Es-1][0]+","+ms.o[Es-1][1]+" "+ms.i[Es][0]+","+ms.i[Es][1]+" "+ms.v[Es][0]+","+ms.v[Es][1];if(ms.c&&_s>1&&(Ss+=" C"+ms.o[Es-1][0]+","+ms.o[Es-1][1]+" "+ms.i[0][0]+","+ms.i[0][1]+" "+ms.v[0][0]+","+ms.v[0][1]),ws.lastPath!==Ss){var Is="";ws.elem&&(ms.c&&(Is=vs.inv?this.solidPath+Ss:Ss),ws.elem.setAttribute("d",Is)),ws.lastPath=Ss}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var vs={};vs.createFilter=ms,vs.createAlphaToLuminanceFilter=ws;function ms(Ss,Es){var _s=createNS("filter");return _s.setAttribute("id",Ss),Es!==!0&&(_s.setAttribute("filterUnits","objectBoundingBox"),_s.setAttribute("x","0%"),_s.setAttribute("y","0%"),_s.setAttribute("width","100%"),_s.setAttribute("height","100%")),_s}function ws(){var Ss=createNS("feColorMatrix");return Ss.setAttribute("type","matrix"),Ss.setAttribute("color-interpolation-filters","sRGB"),Ss.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),Ss}return vs}(),featureSupport=function(){var vs={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(vs.maskType=!1),/firefox/i.test(navigator.userAgent)&&(vs.svgLumaHidden=!1),vs}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(vs){var ms,ws="SourceGraphic",Ss=vs.data.ef?vs.data.ef.length:0,Es=createElementID(),_s=filtersFactory.createFilter(Es,!0),Is=0;this.filters=[];var Ts;for(ms=0;ms<Ss;ms+=1){Ts=null;var Rs=vs.data.ef[ms].ty;if(registeredEffects$1[Rs]){var Bs=registeredEffects$1[Rs].effect;Ts=new Bs(_s,vs.effectsManager.effectElements[ms],vs,idPrefix+Is,ws),ws=idPrefix+Is,registeredEffects$1[Rs].countsAsEffect&&(Is+=1)}Ts&&this.filters.push(Ts)}Is&&(vs.globalData.defs.appendChild(_s),vs.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+Es+")")),this.filters.length&&vs.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(vs){var ms,ws=this.filters.length;for(ms=0;ms<ws;ms+=1)this.filters[ms].renderFrame(vs)},SVGEffects.prototype.getEffects=function(vs){var ms,ws=this.filters.length,Ss=[];for(ms=0;ms<ws;ms+=1)this.filters[ms].type===vs&&Ss.push(this.filters[ms]);return Ss};function registerEffect$1(vs,ms,ws){registeredEffects$1[vs]={effect:ms,countsAsEffect:ws}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var ms=null;if(this.data.td){this.matteMasks={};var ws=createNS("g");ws.setAttribute("id",this.layerId),ws.appendChild(this.layerElement),ms=ws,this.globalData.defs.appendChild(ws)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),ms=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var Ss=createNS("clipPath"),Es=createNS("path");Es.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var _s=createElementID();if(Ss.setAttribute("id",_s),Ss.appendChild(Es),this.globalData.defs.appendChild(Ss),this.checkMasks()){var Is=createNS("g");Is.setAttribute("clip-path","url("+getLocationHref()+"#"+_s+")"),Is.appendChild(this.layerElement),this.transformedElement=Is,ms?ms.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+_s+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(ms){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[ms]){var ws=this.layerId+"_"+ms,Ss,Es,_s,Is;if(ms===1||ms===3){var Ts=createNS("mask");Ts.setAttribute("id",ws),Ts.setAttribute("mask-type",ms===3?"luminance":"alpha"),_s=createNS("use"),_s.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),Ts.appendChild(_s),this.globalData.defs.appendChild(Ts),!featureSupport.maskType&&ms===1&&(Ts.setAttribute("mask-type","luminance"),Ss=createElementID(),Es=filtersFactory.createFilter(Ss),this.globalData.defs.appendChild(Es),Es.appendChild(filtersFactory.createAlphaToLuminanceFilter()),Is=createNS("g"),Is.appendChild(_s),Ts.appendChild(Is),Is.setAttribute("filter","url("+getLocationHref()+"#"+Ss+")"))}else if(ms===2){var Rs=createNS("mask");Rs.setAttribute("id",ws),Rs.setAttribute("mask-type","alpha");var Bs=createNS("g");Rs.appendChild(Bs),Ss=createElementID(),Es=filtersFactory.createFilter(Ss);var Ns=createNS("feComponentTransfer");Ns.setAttribute("in","SourceGraphic"),Es.appendChild(Ns);var Ws=createNS("feFuncA");Ws.setAttribute("type","table"),Ws.setAttribute("tableValues","1.0 0.0"),Ns.appendChild(Ws),this.globalData.defs.appendChild(Es);var Js=createNS("rect");Js.setAttribute("width",this.comp.data.w),Js.setAttribute("height",this.comp.data.h),Js.setAttribute("x","0"),Js.setAttribute("y","0"),Js.setAttribute("fill","#ffffff"),Js.setAttribute("opacity","0"),Bs.setAttribute("filter","url("+getLocationHref()+"#"+Ss+")"),Bs.appendChild(Js),_s=createNS("use"),_s.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),Bs.appendChild(_s),featureSupport.maskType||(Rs.setAttribute("mask-type","luminance"),Es.appendChild(filtersFactory.createAlphaToLuminanceFilter()),Is=createNS("g"),Bs.appendChild(Js),Is.appendChild(this.layerElement),Bs.appendChild(Is)),this.globalData.defs.appendChild(Rs)}this.matteMasks[ms]=ws}return this.matteMasks[ms]},setMatte:function(ms){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+ms+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(ms){this.hierarchy=ms},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var vs={initElement:function(ws,Ss,Es){this.initFrame(),this.initBaseData(ws,Ss,Es),this.initTransform(ws,Ss,Es),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var ws=this.baseElement||this.layerElement;ws.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var ws=this.baseElement||this.layerElement;ws.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(ws){this._mdf=!1,this.prepareRenderableFrame(ws),this.prepareProperties(ws,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(vs)],RenderableDOMElement)})();function IImageElement(vs,ms,ws){this.assetData=ms.getAssetData(vs.refId),this.assetData&&this.assetData.sid&&(this.assetData=ms.slotManager.getProp(this.assetData)),this.initElement(vs,ms,ws),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var vs=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",vs),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(vs,ms){this.elem=vs,this.pos=ms}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(ms){var ws,Ss=this.shapeModifiers.length;for(ws=0;ws<Ss;ws+=1)this.shapeModifiers[ws].addShape(ms)},isShapeInAnimatedModifiers:function(ms){for(var ws=0,Ss=this.shapeModifiers.length;ws<Ss;)if(this.shapeModifiers[ws].isAnimatedWithShape(ms))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var ms,ws=this.shapes.length;for(ms=0;ms<ws;ms+=1)this.shapes[ms].sh.reset();ws=this.shapeModifiers.length;var Ss;for(ms=ws-1;ms>=0&&(Ss=this.shapeModifiers[ms].processShapes(this._isFirstFrame),!Ss);ms-=1);}},searchProcessedElement:function(ms){for(var ws=this.processedElements,Ss=0,Es=ws.length;Ss<Es;){if(ws[Ss].elem===ms)return ws[Ss].pos;Ss+=1}return 0},addProcessedElement:function(ms,ws){for(var Ss=this.processedElements,Es=Ss.length;Es;)if(Es-=1,Ss[Es].elem===ms){Ss[Es].pos=ws;return}Ss.push(new ProcessedElement(ms,ws))},prepareFrame:function(ms){this.prepareRenderableFrame(ms),this.prepareProperties(ms,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(vs,ms,ws){this.caches=[],this.styles=[],this.transformers=vs,this.lStr="",this.sh=ws,this.lvl=ms,this._isAnimated=!!ws.k;for(var Ss=0,Es=vs.length;Ss<Es;){if(vs[Ss].mProps.dynamicProperties.length){this._isAnimated=!0;break}Ss+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(vs,ms){this.data=vs,this.type=vs.ty,this.d="",this.lvl=ms,this._mdf=!1,this.closed=vs.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(vs,ms,ws,Ss){this.elem=vs,this.frameId=-1,this.dataProps=createSizedArray(ms.length),this.renderer=ws,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",ms.length?ms.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(Ss);var Es,_s=ms.length||0,Is;for(Es=0;Es<_s;Es+=1)Is=PropertyFactory.getProp(vs,ms[Es].v,0,0,this),this.k=Is.k||this.k,this.dataProps[Es]={n:ms[Es].n,p:Is};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(vs){if(!(this.elem.globalData.frameId===this.frameId&&!vs)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||vs,this._mdf)){var ms=0,ws=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),ms=0;ms<ws;ms+=1)this.dataProps[ms].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[ms].p.v:this.dashArray[ms]=this.dataProps[ms].p.v:this.dashoffset[0]=this.dataProps[ms].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(vs,ms,ws){this.initDynamicPropertyContainer(vs),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(vs,ms.o,0,.01,this),this.w=PropertyFactory.getProp(vs,ms.w,0,null,this),this.d=new DashProperty(vs,ms.d||{},"svg",this),this.c=PropertyFactory.getProp(vs,ms.c,1,255,this),this.style=ws,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(vs,ms,ws){this.initDynamicPropertyContainer(vs),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(vs,ms.o,0,.01,this),this.c=PropertyFactory.getProp(vs,ms.c,1,255,this),this.style=ws}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(vs,ms,ws){this.initDynamicPropertyContainer(vs),this.getValue=this.iterateDynamicProperties,this.style=ws}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(vs,ms,ws){this.data=ms,this.c=createTypedArray("uint8c",ms.p*4);var Ss=ms.k.k[0].s?ms.k.k[0].s.length-ms.p*4:ms.k.k.length-ms.p*4;this.o=createTypedArray("float32",Ss),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=Ss,this.initDynamicPropertyContainer(ws),this.prop=PropertyFactory.getProp(vs,ms.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(vs,ms){for(var ws=0,Ss=this.o.length/2,Es;ws<Ss;){if(Es=Math.abs(vs[ws*4]-vs[ms*4+ws*2]),Es>.01)return!1;ws+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var vs=0,ms=this.data.k.k.length;vs<ms;){if(!this.comparePoints(this.data.k.k[vs].s,this.data.p))return!1;vs+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(vs){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||vs){var ms,ws=this.data.p*4,Ss,Es;for(ms=0;ms<ws;ms+=1)Ss=ms%4===0?100:255,Es=Math.round(this.prop.v[ms]*Ss),this.c[ms]!==Es&&(this.c[ms]=Es,this._cmdf=!vs);if(this.o.length)for(ws=this.prop.v.length,ms=this.data.p*4;ms<ws;ms+=1)Ss=ms%2===0?100:1,Es=ms%2===0?Math.round(this.prop.v[ms]*100):this.prop.v[ms],this.o[ms-this.data.p*4]!==Es&&(this.o[ms-this.data.p*4]=Es,this._omdf=!vs);this._mdf=!vs}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(vs,ms,ws){this.initDynamicPropertyContainer(vs),this.getValue=this.iterateDynamicProperties,this.initGradientData(vs,ms,ws)}SVGGradientFillStyleData.prototype.initGradientData=function(vs,ms,ws){this.o=PropertyFactory.getProp(vs,ms.o,0,.01,this),this.s=PropertyFactory.getProp(vs,ms.s,1,null,this),this.e=PropertyFactory.getProp(vs,ms.e,1,null,this),this.h=PropertyFactory.getProp(vs,ms.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(vs,ms.a||{k:0},0,degToRads,this),this.g=new GradientProperty(vs,ms.g,this),this.style=ws,this.stops=[],this.setGradientData(ws.pElem,ms),this.setGradientOpacity(ms,ws),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(vs,ms){var ws=createElementID(),Ss=createNS(ms.t===1?"linearGradient":"radialGradient");Ss.setAttribute("id",ws),Ss.setAttribute("spreadMethod","pad"),Ss.setAttribute("gradientUnits","userSpaceOnUse");var Es=[],_s,Is,Ts;for(Ts=ms.g.p*4,Is=0;Is<Ts;Is+=4)_s=createNS("stop"),Ss.appendChild(_s),Es.push(_s);vs.setAttribute(ms.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+ws+")"),this.gf=Ss,this.cst=Es},SVGGradientFillStyleData.prototype.setGradientOpacity=function(vs,ms){if(this.g._hasOpacity&&!this.g._collapsable){var ws,Ss,Es,_s=createNS("mask"),Is=createNS("path");_s.appendChild(Is);var Ts=createElementID(),Rs=createElementID();_s.setAttribute("id",Rs);var Bs=createNS(vs.t===1?"linearGradient":"radialGradient");Bs.setAttribute("id",Ts),Bs.setAttribute("spreadMethod","pad"),Bs.setAttribute("gradientUnits","userSpaceOnUse"),Es=vs.g.k.k[0].s?vs.g.k.k[0].s.length:vs.g.k.k.length;var Ns=this.stops;for(Ss=vs.g.p*4;Ss<Es;Ss+=2)ws=createNS("stop"),ws.setAttribute("stop-color","rgb(255,255,255)"),Bs.appendChild(ws),Ns.push(ws);Is.setAttribute(vs.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+Ts+")"),vs.ty==="gs"&&(Is.setAttribute("stroke-linecap",lineCapEnum[vs.lc||2]),Is.setAttribute("stroke-linejoin",lineJoinEnum[vs.lj||2]),vs.lj===1&&Is.setAttribute("stroke-miterlimit",vs.ml)),this.of=Bs,this.ms=_s,this.ost=Ns,this.maskId=Rs,ms.msElem=Is}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(vs,ms,ws){this.initDynamicPropertyContainer(vs),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(vs,ms.w,0,null,this),this.d=new DashProperty(vs,ms.d||{},"svg",this),this.initGradientData(vs,ms,ws),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(vs,ms,ws){this.transform={mProps:vs,op:ms,container:ws},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(ms,ws,Ss,Es){if(ws===0)return"";var _s=ms.o,Is=ms.i,Ts=ms.v,Rs,Bs=" M"+Es.applyToPointStringified(Ts[0][0],Ts[0][1]);for(Rs=1;Rs<ws;Rs+=1)Bs+=" C"+Es.applyToPointStringified(_s[Rs-1][0],_s[Rs-1][1])+" "+Es.applyToPointStringified(Is[Rs][0],Is[Rs][1])+" "+Es.applyToPointStringified(Ts[Rs][0],Ts[Rs][1]);return Ss&&ws&&(Bs+=" C"+Es.applyToPointStringified(_s[Rs-1][0],_s[Rs-1][1])+" "+Es.applyToPointStringified(Is[0][0],Is[0][1])+" "+Es.applyToPointStringified(Ts[0][0],Ts[0][1]),Bs+="z"),Bs},SVGElementsRenderer=function(){var vs=new Matrix,ms=new Matrix,ws={createRenderFunction:Ss};function Ss(Ws){switch(Ws.ty){case"fl":return Ts;case"gf":return Bs;case"gs":return Rs;case"st":return Ns;case"sh":case"el":case"rc":case"sr":return Is;case"tr":return Es;case"no":return _s;default:return null}}function Es(Ws,Js,$l){($l||Js.transform.op._mdf)&&Js.transform.container.setAttribute("opacity",Js.transform.op.v),($l||Js.transform.mProps._mdf)&&Js.transform.container.setAttribute("transform",Js.transform.mProps.v.to2dCSS())}function _s(){}function Is(Ws,Js,$l){var wl,_l,Cl,Sl,El,xl,Ml=Js.styles.length,Vl=Js.lvl,Ul,_h,nu,su;for(xl=0;xl<Ml;xl+=1){if(Sl=Js.sh._mdf||$l,Js.styles[xl].lvl<Vl){for(_h=ms.reset(),nu=Vl-Js.styles[xl].lvl,su=Js.transformers.length-1;!Sl&&nu>0;)Sl=Js.transformers[su].mProps._mdf||Sl,nu-=1,su-=1;if(Sl)for(nu=Vl-Js.styles[xl].lvl,su=Js.transformers.length-1;nu>0;)_h.multiply(Js.transformers[su].mProps.v),nu-=1,su-=1}else _h=vs;if(Ul=Js.sh.paths,_l=Ul._length,Sl){for(Cl="",wl=0;wl<_l;wl+=1)El=Ul.shapes[wl],El&&El._length&&(Cl+=buildShapeString(El,El._length,El.c,_h));Js.caches[xl]=Cl}else Cl=Js.caches[xl];Js.styles[xl].d+=Ws.hd===!0?"":Cl,Js.styles[xl]._mdf=Sl||Js.styles[xl]._mdf}}function Ts(Ws,Js,$l){var wl=Js.style;(Js.c._mdf||$l)&&wl.pElem.setAttribute("fill","rgb("+bmFloor(Js.c.v[0])+","+bmFloor(Js.c.v[1])+","+bmFloor(Js.c.v[2])+")"),(Js.o._mdf||$l)&&wl.pElem.setAttribute("fill-opacity",Js.o.v)}function Rs(Ws,Js,$l){Bs(Ws,Js,$l),Ns(Ws,Js,$l)}function Bs(Ws,Js,$l){var wl=Js.gf,_l=Js.g._hasOpacity,Cl=Js.s.v,Sl=Js.e.v;if(Js.o._mdf||$l){var El=Ws.ty==="gf"?"fill-opacity":"stroke-opacity";Js.style.pElem.setAttribute(El,Js.o.v)}if(Js.s._mdf||$l){var xl=Ws.t===1?"x1":"cx",Ml=xl==="x1"?"y1":"cy";wl.setAttribute(xl,Cl[0]),wl.setAttribute(Ml,Cl[1]),_l&&!Js.g._collapsable&&(Js.of.setAttribute(xl,Cl[0]),Js.of.setAttribute(Ml,Cl[1]))}var Vl,Ul,_h,nu;if(Js.g._cmdf||$l){Vl=Js.cst;var su=Js.g.c;for(_h=Vl.length,Ul=0;Ul<_h;Ul+=1)nu=Vl[Ul],nu.setAttribute("offset",su[Ul*4]+"%"),nu.setAttribute("stop-color","rgb("+su[Ul*4+1]+","+su[Ul*4+2]+","+su[Ul*4+3]+")")}if(_l&&(Js.g._omdf||$l)){var Jl=Js.g.o;for(Js.g._collapsable?Vl=Js.cst:Vl=Js.ost,_h=Vl.length,Ul=0;Ul<_h;Ul+=1)nu=Vl[Ul],Js.g._collapsable||nu.setAttribute("offset",Jl[Ul*2]+"%"),nu.setAttribute("stop-opacity",Jl[Ul*2+1])}if(Ws.t===1)(Js.e._mdf||$l)&&(wl.setAttribute("x2",Sl[0]),wl.setAttribute("y2",Sl[1]),_l&&!Js.g._collapsable&&(Js.of.setAttribute("x2",Sl[0]),Js.of.setAttribute("y2",Sl[1])));else{var Il;if((Js.s._mdf||Js.e._mdf||$l)&&(Il=Math.sqrt(Math.pow(Cl[0]-Sl[0],2)+Math.pow(Cl[1]-Sl[1],2)),wl.setAttribute("r",Il),_l&&!Js.g._collapsable&&Js.of.setAttribute("r",Il)),Js.s._mdf||Js.e._mdf||Js.h._mdf||Js.a._mdf||$l){Il||(Il=Math.sqrt(Math.pow(Cl[0]-Sl[0],2)+Math.pow(Cl[1]-Sl[1],2)));var Nl=Math.atan2(Sl[1]-Cl[1],Sl[0]-Cl[0]),Ol=Js.h.v;Ol>=1?Ol=.99:Ol<=-1&&(Ol=-.99);var Gl=Il*Ol,Fl=Math.cos(Nl+Js.a.v)*Gl+Cl[0],Al=Math.sin(Nl+Js.a.v)*Gl+Cl[1];wl.setAttribute("fx",Fl),wl.setAttribute("fy",Al),_l&&!Js.g._collapsable&&(Js.of.setAttribute("fx",Fl),Js.of.setAttribute("fy",Al))}}}function Ns(Ws,Js,$l){var wl=Js.style,_l=Js.d;_l&&(_l._mdf||$l)&&_l.dashStr&&(wl.pElem.setAttribute("stroke-dasharray",_l.dashStr),wl.pElem.setAttribute("stroke-dashoffset",_l.dashoffset[0])),Js.c&&(Js.c._mdf||$l)&&wl.pElem.setAttribute("stroke","rgb("+bmFloor(Js.c.v[0])+","+bmFloor(Js.c.v[1])+","+bmFloor(Js.c.v[2])+")"),(Js.o._mdf||$l)&&wl.pElem.setAttribute("stroke-opacity",Js.o.v),(Js.w._mdf||$l)&&(wl.pElem.setAttribute("stroke-width",Js.w.v),wl.msElem&&wl.msElem.setAttribute("stroke-width",Js.w.v))}return ws}();function SVGShapeElement(vs,ms,ws){this.shapes=[],this.shapesData=vs.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(vs,ms,ws),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var vs,ms=this.shapes.length,ws,Ss,Es=this.stylesList.length,_s,Is=[],Ts=!1;for(Ss=0;Ss<Es;Ss+=1){for(_s=this.stylesList[Ss],Ts=!1,Is.length=0,vs=0;vs<ms;vs+=1)ws=this.shapes[vs],ws.styles.indexOf(_s)!==-1&&(Is.push(ws),Ts=ws._isAnimated||Ts);Is.length>1&&Ts&&this.setShapesAsAnimated(Is)}},SVGShapeElement.prototype.setShapesAsAnimated=function(vs){var ms,ws=vs.length;for(ms=0;ms<ws;ms+=1)vs[ms].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(vs,ms){var ws,Ss=new SVGStyleData(vs,ms),Es=Ss.pElem;if(vs.ty==="st")ws=new SVGStrokeStyleData(this,vs,Ss);else if(vs.ty==="fl")ws=new SVGFillStyleData(this,vs,Ss);else if(vs.ty==="gf"||vs.ty==="gs"){var _s=vs.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;ws=new _s(this,vs,Ss),this.globalData.defs.appendChild(ws.gf),ws.maskId&&(this.globalData.defs.appendChild(ws.ms),this.globalData.defs.appendChild(ws.of),Es.setAttribute("mask","url("+getLocationHref()+"#"+ws.maskId+")"))}else vs.ty==="no"&&(ws=new SVGNoStyleData(this,vs,Ss));return(vs.ty==="st"||vs.ty==="gs")&&(Es.setAttribute("stroke-linecap",lineCapEnum[vs.lc||2]),Es.setAttribute("stroke-linejoin",lineJoinEnum[vs.lj||2]),Es.setAttribute("fill-opacity","0"),vs.lj===1&&Es.setAttribute("stroke-miterlimit",vs.ml)),vs.r===2&&Es.setAttribute("fill-rule","evenodd"),vs.ln&&Es.setAttribute("id",vs.ln),vs.cl&&Es.setAttribute("class",vs.cl),vs.bm&&(Es.style["mix-blend-mode"]=getBlendMode(vs.bm)),this.stylesList.push(Ss),this.addToAnimatedContents(vs,ws),ws},SVGShapeElement.prototype.createGroupElement=function(vs){var ms=new ShapeGroupData;return vs.ln&&ms.gr.setAttribute("id",vs.ln),vs.cl&&ms.gr.setAttribute("class",vs.cl),vs.bm&&(ms.gr.style["mix-blend-mode"]=getBlendMode(vs.bm)),ms},SVGShapeElement.prototype.createTransformElement=function(vs,ms){var ws=TransformPropertyFactory.getTransformProperty(this,vs,this),Ss=new SVGTransformData(ws,ws.o,ms);return this.addToAnimatedContents(vs,Ss),Ss},SVGShapeElement.prototype.createShapeElement=function(vs,ms,ws){var Ss=4;vs.ty==="rc"?Ss=5:vs.ty==="el"?Ss=6:vs.ty==="sr"&&(Ss=7);var Es=ShapePropertyFactory.getShapeProp(this,vs,Ss,this),_s=new SVGShapeData(ms,ws,Es);return this.shapes.push(_s),this.addShapeToModifiers(_s),this.addToAnimatedContents(vs,_s),_s},SVGShapeElement.prototype.addToAnimatedContents=function(vs,ms){for(var ws=0,Ss=this.animatedContents.length;ws<Ss;){if(this.animatedContents[ws].element===ms)return;ws+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(vs),element:ms,data:vs})},SVGShapeElement.prototype.setElementStyles=function(vs){var ms=vs.styles,ws,Ss=this.stylesList.length;for(ws=0;ws<Ss;ws+=1)ms.indexOf(this.stylesList[ws])===-1&&!this.stylesList[ws].closed&&ms.push(this.stylesList[ws])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var vs,ms=this.itemsData.length;for(vs=0;vs<ms;vs+=1)this.prevViewData[vs]=this.itemsData[vs];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),ms=this.dynamicProperties.length,vs=0;vs<ms;vs+=1)this.dynamicProperties[vs].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(vs,ms,ws,Ss,Es,_s,Is){var Ts=[].concat(_s),Rs,Bs=vs.length-1,Ns,Ws,Js=[],$l=[],wl,_l,Cl;for(Rs=Bs;Rs>=0;Rs-=1){if(Cl=this.searchProcessedElement(vs[Rs]),Cl?ms[Rs]=ws[Cl-1]:vs[Rs]._render=Is,vs[Rs].ty==="fl"||vs[Rs].ty==="st"||vs[Rs].ty==="gf"||vs[Rs].ty==="gs"||vs[Rs].ty==="no")Cl?ms[Rs].style.closed=vs[Rs].hd:ms[Rs]=this.createStyleElement(vs[Rs],Es),vs[Rs]._render&&ms[Rs].style.pElem.parentNode!==Ss&&Ss.appendChild(ms[Rs].style.pElem),Js.push(ms[Rs].style);else if(vs[Rs].ty==="gr"){if(!Cl)ms[Rs]=this.createGroupElement(vs[Rs]);else for(Ws=ms[Rs].it.length,Ns=0;Ns<Ws;Ns+=1)ms[Rs].prevViewData[Ns]=ms[Rs].it[Ns];this.searchShapes(vs[Rs].it,ms[Rs].it,ms[Rs].prevViewData,ms[Rs].gr,Es+1,Ts,Is),vs[Rs]._render&&ms[Rs].gr.parentNode!==Ss&&Ss.appendChild(ms[Rs].gr)}else vs[Rs].ty==="tr"?(Cl||(ms[Rs]=this.createTransformElement(vs[Rs],Ss)),wl=ms[Rs].transform,Ts.push(wl)):vs[Rs].ty==="sh"||vs[Rs].ty==="rc"||vs[Rs].ty==="el"||vs[Rs].ty==="sr"?(Cl||(ms[Rs]=this.createShapeElement(vs[Rs],Ts,Es)),this.setElementStyles(ms[Rs])):vs[Rs].ty==="tm"||vs[Rs].ty==="rd"||vs[Rs].ty==="ms"||vs[Rs].ty==="pb"||vs[Rs].ty==="zz"||vs[Rs].ty==="op"?(Cl?(_l=ms[Rs],_l.closed=!1):(_l=ShapeModifiers.getModifier(vs[Rs].ty),_l.init(this,vs[Rs]),ms[Rs]=_l,this.shapeModifiers.push(_l)),$l.push(_l)):vs[Rs].ty==="rp"&&(Cl?(_l=ms[Rs],_l.closed=!0):(_l=ShapeModifiers.getModifier(vs[Rs].ty),ms[Rs]=_l,_l.init(this,vs,Rs,ms),this.shapeModifiers.push(_l),Is=!1),$l.push(_l));this.addProcessedElement(vs[Rs],Rs+1)}for(Bs=Js.length,Rs=0;Rs<Bs;Rs+=1)Js[Rs].closed=!0;for(Bs=$l.length,Rs=0;Rs<Bs;Rs+=1)$l[Rs].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var vs,ms=this.stylesList.length;for(vs=0;vs<ms;vs+=1)this.stylesList[vs].reset();for(this.renderShape(),vs=0;vs<ms;vs+=1)(this.stylesList[vs]._mdf||this._isFirstFrame)&&(this.stylesList[vs].msElem&&(this.stylesList[vs].msElem.setAttribute("d",this.stylesList[vs].d),this.stylesList[vs].d="M0 0"+this.stylesList[vs].d),this.stylesList[vs].pElem.setAttribute("d",this.stylesList[vs].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var vs,ms=this.animatedContents.length,ws;for(vs=0;vs<ms;vs+=1)ws=this.animatedContents[vs],(this._isFirstFrame||ws.element._isAnimated)&&ws.data!==!0&&ws.fn(ws.data,ws.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(vs,ms,ws,Ss,Es,_s){this.o=vs,this.sw=ms,this.sc=ws,this.fc=Ss,this.m=Es,this.p=_s,this._mdf={o:!0,sw:!!ms,sc:!!ws,fc:!!Ss,m:!0,p:!0}}LetterProps.prototype.update=function(vs,ms,ws,Ss,Es,_s){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var Is=!1;return this.o!==vs&&(this.o=vs,this._mdf.o=!0,Is=!0),this.sw!==ms&&(this.sw=ms,this._mdf.sw=!0,Is=!0),this.sc!==ws&&(this.sc=ws,this._mdf.sc=!0,Is=!0),this.fc!==Ss&&(this.fc=Ss,this._mdf.fc=!0,Is=!0),this.m!==Es&&(this.m=Es,this._mdf.m=!0,Is=!0),_s.length&&(this.p[0]!==_s[0]||this.p[1]!==_s[1]||this.p[4]!==_s[4]||this.p[5]!==_s[5]||this.p[12]!==_s[12]||this.p[13]!==_s[13])&&(this.p=_s,this._mdf.p=!0,Is=!0),Is};function TextProperty(vs,ms){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,ms.d&&ms.d.sid&&(ms.d=vs.globalData.slotManager.getProp(ms.d)),this.data=ms,this.elem=vs,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(vs,ms){for(var ws in ms)Object.prototype.hasOwnProperty.call(ms,ws)&&(vs[ws]=ms[ws]);return vs},TextProperty.prototype.setCurrentData=function(vs){vs.__complete||this.completeTextData(vs),this.currentData=vs,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(vs){this.effectsSequence.push(vs),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(vs){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!vs)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var ms=this.currentData,ws=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var Ss,Es=this.effectsSequence.length,_s=vs||this.data.d.k[this.keysIndex].s;for(Ss=0;Ss<Es;Ss+=1)ws!==this.keysIndex?_s=this.effectsSequence[Ss](_s,_s.t):_s=this.effectsSequence[Ss](this.currentData,_s.t);ms!==_s&&this.setCurrentData(_s),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var vs=this.data.d.k,ms=this.elem.comp.renderedFrame,ws=0,Ss=vs.length;ws<=Ss-1&&!(ws===Ss-1||vs[ws+1].t>ms);)ws+=1;return this.keysIndex!==ws&&(this.keysIndex=ws),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(vs){for(var ms=[],ws=0,Ss=vs.length,Es,_s,Is=!1,Ts=!1,Rs="";ws<Ss;)Is=Ts,Ts=!1,Es=vs.charCodeAt(ws),Rs=vs.charAt(ws),FontManager.isCombinedCharacter(Es)?Is=!0:Es>=55296&&Es<=56319?FontManager.isRegionalFlag(vs,ws)?Rs=vs.substr(ws,14):(_s=vs.charCodeAt(ws+1),_s>=56320&&_s<=57343&&(FontManager.isModifier(Es,_s)?(Rs=vs.substr(ws,2),Is=!0):FontManager.isFlagEmoji(vs.substr(ws,4))?Rs=vs.substr(ws,4):Rs=vs.substr(ws,2))):Es>56319?(_s=vs.charCodeAt(ws+1),FontManager.isVariationSelector(Es)&&(Is=!0)):FontManager.isZeroWidthJoiner(Es)&&(Is=!0,Ts=!0),Is?(ms[ms.length-1]+=Rs,Is=!1):ms.push(Rs),ws+=Rs.length;return ms},TextProperty.prototype.completeTextData=function(vs){vs.__complete=!0;var ms=this.elem.globalData.fontManager,ws=this.data,Ss=[],Es,_s,Is,Ts=0,Rs,Bs=ws.m.g,Ns=0,Ws=0,Js=0,$l=[],wl=0,_l=0,Cl,Sl,El=ms.getFontByName(vs.f),xl,Ml=0,Vl=getFontProperties(El);vs.fWeight=Vl.weight,vs.fStyle=Vl.style,vs.finalSize=vs.s,vs.finalText=this.buildFinalText(vs.t),_s=vs.finalText.length,vs.finalLineHeight=vs.lh;var Ul=vs.tr/1e3*vs.finalSize,_h;if(vs.sz)for(var nu=!0,su=vs.sz[0],Jl=vs.sz[1],Il,Nl;nu;){Nl=this.buildFinalText(vs.t),Il=0,wl=0,_s=Nl.length,Ul=vs.tr/1e3*vs.finalSize;var Ol=-1;for(Es=0;Es<_s;Es+=1)_h=Nl[Es].charCodeAt(0),Is=!1,Nl[Es]===" "?Ol=Es:(_h===13||_h===3)&&(wl=0,Is=!0,Il+=vs.finalLineHeight||vs.finalSize*1.2),ms.chars?(xl=ms.getCharData(Nl[Es],El.fStyle,El.fFamily),Ml=Is?0:xl.w*vs.finalSize/100):Ml=ms.measureText(Nl[Es],vs.f,vs.finalSize),wl+Ml>su&&Nl[Es]!==" "?(Ol===-1?_s+=1:Es=Ol,Il+=vs.finalLineHeight||vs.finalSize*1.2,Nl.splice(Es,Ol===Es?1:0,"\r"),Ol=-1,wl=0):(wl+=Ml,wl+=Ul);Il+=El.ascent*vs.finalSize/100,this.canResize&&vs.finalSize>this.minimumFontSize&&Jl<Il?(vs.finalSize-=1,vs.finalLineHeight=vs.finalSize*vs.lh/vs.s):(vs.finalText=Nl,_s=vs.finalText.length,nu=!1)}wl=-Ul,Ml=0;var Gl=0,Fl;for(Es=0;Es<_s;Es+=1)if(Is=!1,Fl=vs.finalText[Es],_h=Fl.charCodeAt(0),_h===13||_h===3?(Gl=0,$l.push(wl),_l=wl>_l?wl:_l,wl=-2*Ul,Rs="",Is=!0,Js+=1):Rs=Fl,ms.chars?(xl=ms.getCharData(Fl,El.fStyle,ms.getFontByName(vs.f).fFamily),Ml=Is?0:xl.w*vs.finalSize/100):Ml=ms.measureText(Rs,vs.f,vs.finalSize),Fl===" "?Gl+=Ml+Ul:(wl+=Ml+Ul+Gl,Gl=0),Ss.push({l:Ml,an:Ml,add:Ns,n:Is,anIndexes:[],val:Rs,line:Js,animatorJustifyOffset:0}),Bs==2){if(Ns+=Ml,Rs===""||Rs===" "||Es===_s-1){for((Rs===""||Rs===" ")&&(Ns-=Ml);Ws<=Es;)Ss[Ws].an=Ns,Ss[Ws].ind=Ts,Ss[Ws].extra=Ml,Ws+=1;Ts+=1,Ns=0}}else if(Bs==3){if(Ns+=Ml,Rs===""||Es===_s-1){for(Rs===""&&(Ns-=Ml);Ws<=Es;)Ss[Ws].an=Ns,Ss[Ws].ind=Ts,Ss[Ws].extra=Ml,Ws+=1;Ns=0,Ts+=1}}else Ss[Ts].ind=Ts,Ss[Ts].extra=0,Ts+=1;if(vs.l=Ss,_l=wl>_l?wl:_l,$l.push(wl),vs.sz)vs.boxWidth=vs.sz[0],vs.justifyOffset=0;else switch(vs.boxWidth=_l,vs.j){case 1:vs.justifyOffset=-vs.boxWidth;break;case 2:vs.justifyOffset=-vs.boxWidth/2;break;default:vs.justifyOffset=0}vs.lineWidths=$l;var Al=ws.a,Pl,yl;Sl=Al.length;var Zs,Bl,eu=[];for(Cl=0;Cl<Sl;Cl+=1){for(Pl=Al[Cl],Pl.a.sc&&(vs.strokeColorAnim=!0),Pl.a.sw&&(vs.strokeWidthAnim=!0),(Pl.a.fc||Pl.a.fh||Pl.a.fs||Pl.a.fb)&&(vs.fillColorAnim=!0),Bl=0,Zs=Pl.s.b,Es=0;Es<_s;Es+=1)yl=Ss[Es],yl.anIndexes[Cl]=Bl,(Zs==1&&yl.val!==""||Zs==2&&yl.val!==""&&yl.val!==" "||Zs==3&&(yl.n||yl.val==" "||Es==_s-1)||Zs==4&&(yl.n||Es==_s-1))&&(Pl.s.rn===1&&eu.push(Bl),Bl+=1);ws.a[Cl].s.totalChars=Bl;var Eu=-1,uu;if(Pl.s.rn===1)for(Es=0;Es<_s;Es+=1)yl=Ss[Es],Eu!=yl.anIndexes[Cl]&&(Eu=yl.anIndexes[Cl],uu=eu.splice(Math.floor(Math.random()*eu.length),1)[0]),yl.anIndexes[Cl]=uu}vs.yOffset=vs.finalLineHeight||vs.finalSize*1.2,vs.ls=vs.ls||0,vs.ascent=El.ascent*vs.finalSize/100},TextProperty.prototype.updateDocumentData=function(vs,ms){ms=ms===void 0?this.keysIndex:ms;var ws=this.copyData({},this.data.d.k[ms].s);ws=this.copyData(ws,vs),this.data.d.k[ms].s=ws,this.recalculate(ms),this.setCurrentData(ws),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(vs){var ms=this.data.d.k[vs].s;ms.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(ms)},TextProperty.prototype.canResizeFont=function(vs){this.canResize=vs,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(vs){this.minimumFontSize=Math.floor(vs)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var vs=Math.max,ms=Math.min,ws=Math.floor;function Ss(_s,Is){this._currentTextLength=-1,this.k=!1,this.data=Is,this.elem=_s,this.comp=_s.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(_s),this.s=PropertyFactory.getProp(_s,Is.s||{k:0},0,0,this),"e"in Is?this.e=PropertyFactory.getProp(_s,Is.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(_s,Is.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(_s,Is.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(_s,Is.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(_s,Is.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(_s,Is.a,0,.01,this),this.dynamicProperties.length||this.getValue()}Ss.prototype={getMult:function(Is){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var Ts=0,Rs=0,Bs=1,Ns=1;this.ne.v>0?Ts=this.ne.v/100:Rs=-this.ne.v/100,this.xe.v>0?Bs=1-this.xe.v/100:Ns=1+this.xe.v/100;var Ws=BezierFactory.getBezierEasing(Ts,Rs,Bs,Ns).get,Js=0,$l=this.finalS,wl=this.finalE,_l=this.data.sh;if(_l===2)wl===$l?Js=Is>=wl?1:0:Js=vs(0,ms(.5/(wl-$l)+(Is-$l)/(wl-$l),1)),Js=Ws(Js);else if(_l===3)wl===$l?Js=Is>=wl?0:1:Js=1-vs(0,ms(.5/(wl-$l)+(Is-$l)/(wl-$l),1)),Js=Ws(Js);else if(_l===4)wl===$l?Js=0:(Js=vs(0,ms(.5/(wl-$l)+(Is-$l)/(wl-$l),1)),Js<.5?Js*=2:Js=1-2*(Js-.5)),Js=Ws(Js);else if(_l===5){if(wl===$l)Js=0;else{var Cl=wl-$l;Is=ms(vs(0,Is+.5-$l),wl-$l);var Sl=-Cl/2+Is,El=Cl/2;Js=Math.sqrt(1-Sl*Sl/(El*El))}Js=Ws(Js)}else _l===6?(wl===$l?Js=0:(Is=ms(vs(0,Is+.5-$l),wl-$l),Js=(1+Math.cos(Math.PI+Math.PI*2*Is/(wl-$l)))/2),Js=Ws(Js)):(Is>=ws($l)&&(Is-$l<0?Js=vs(0,ms(ms(wl,1)-($l-Is),1)):Js=vs(0,ms(wl-Is,1))),Js=Ws(Js));if(this.sm.v!==100){var xl=this.sm.v*.01;xl===0&&(xl=1e-8);var Ml=.5-xl*.5;Js<Ml?Js=0:(Js=(Js-Ml)/xl,Js>1&&(Js=1))}return Js*this.a.v},getValue:function(Is){this.iterateDynamicProperties(),this._mdf=Is||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,Is&&this.data.r===2&&(this.e.v=this._currentTextLength);var Ts=this.data.r===2?1:100/this.data.totalChars,Rs=this.o.v/Ts,Bs=this.s.v/Ts+Rs,Ns=this.e.v/Ts+Rs;if(Bs>Ns){var Ws=Bs;Bs=Ns,Ns=Ws}this.finalS=Bs,this.finalE=Ns}},extendPrototype([DynamicPropertyContainer],Ss);function Es(_s,Is,Ts){return new Ss(_s,Is)}return{getTextSelectorProp:Es}}();function TextAnimatorDataProperty(vs,ms,ws){var Ss={propType:!1},Es=PropertyFactory.getProp,_s=ms.a;this.a={r:_s.r?Es(vs,_s.r,0,degToRads,ws):Ss,rx:_s.rx?Es(vs,_s.rx,0,degToRads,ws):Ss,ry:_s.ry?Es(vs,_s.ry,0,degToRads,ws):Ss,sk:_s.sk?Es(vs,_s.sk,0,degToRads,ws):Ss,sa:_s.sa?Es(vs,_s.sa,0,degToRads,ws):Ss,s:_s.s?Es(vs,_s.s,1,.01,ws):Ss,a:_s.a?Es(vs,_s.a,1,0,ws):Ss,o:_s.o?Es(vs,_s.o,0,.01,ws):Ss,p:_s.p?Es(vs,_s.p,1,0,ws):Ss,sw:_s.sw?Es(vs,_s.sw,0,0,ws):Ss,sc:_s.sc?Es(vs,_s.sc,1,0,ws):Ss,fc:_s.fc?Es(vs,_s.fc,1,0,ws):Ss,fh:_s.fh?Es(vs,_s.fh,0,0,ws):Ss,fs:_s.fs?Es(vs,_s.fs,0,.01,ws):Ss,fb:_s.fb?Es(vs,_s.fb,0,.01,ws):Ss,t:_s.t?Es(vs,_s.t,0,0,ws):Ss},this.s=TextSelectorProp.getTextSelectorProp(vs,ms.s,ws),this.s.t=ms.s.t}function TextAnimatorProperty(vs,ms,ws){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=vs,this._renderType=ms,this._elem=ws,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(ws)}TextAnimatorProperty.prototype.searchProperties=function(){var vs,ms=this._textData.a.length,ws,Ss=PropertyFactory.getProp;for(vs=0;vs<ms;vs+=1)ws=this._textData.a[vs],this._animatorsData[vs]=new TextAnimatorDataProperty(this._elem,ws,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:Ss(this._elem,this._textData.p.a,0,0,this),f:Ss(this._elem,this._textData.p.f,0,0,this),l:Ss(this._elem,this._textData.p.l,0,0,this),r:Ss(this._elem,this._textData.p.r,0,0,this),p:Ss(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=Ss(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(vs,ms){if(this.lettersChangedFlag=ms,!(!this._mdf&&!this._isFirstFrame&&!ms&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var ws=this._moreOptions.alignment.v,Ss=this._animatorsData,Es=this._textData,_s=this.mHelper,Is=this._renderType,Ts=this.renderedLetters.length,Rs,Bs,Ns,Ws,Js=vs.l,$l,wl,_l,Cl,Sl,El,xl,Ml,Vl,Ul,_h,nu,su,Jl,Il;if(this._hasMaskedPath){if(Il=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Nl=Il.v;this._pathData.r.v&&(Nl=Nl.reverse()),$l={tLength:0,segments:[]},Ws=Nl._length-1;var Ol;for(nu=0,Ns=0;Ns<Ws;Ns+=1)Ol=bez.buildBezierData(Nl.v[Ns],Nl.v[Ns+1],[Nl.o[Ns][0]-Nl.v[Ns][0],Nl.o[Ns][1]-Nl.v[Ns][1]],[Nl.i[Ns+1][0]-Nl.v[Ns+1][0],Nl.i[Ns+1][1]-Nl.v[Ns+1][1]]),$l.tLength+=Ol.segmentLength,$l.segments.push(Ol),nu+=Ol.segmentLength;Ns=Ws,Il.v.c&&(Ol=bez.buildBezierData(Nl.v[Ns],Nl.v[0],[Nl.o[Ns][0]-Nl.v[Ns][0],Nl.o[Ns][1]-Nl.v[Ns][1]],[Nl.i[0][0]-Nl.v[0][0],Nl.i[0][1]-Nl.v[0][1]]),$l.tLength+=Ol.segmentLength,$l.segments.push(Ol),nu+=Ol.segmentLength),this._pathData.pi=$l}if($l=this._pathData.pi,wl=this._pathData.f.v,xl=0,El=1,Cl=0,Sl=!0,Ul=$l.segments,wl<0&&Il.v.c)for($l.tLength<Math.abs(wl)&&(wl=-Math.abs(wl)%$l.tLength),xl=Ul.length-1,Vl=Ul[xl].points,El=Vl.length-1;wl<0;)wl+=Vl[El].partialLength,El-=1,El<0&&(xl-=1,Vl=Ul[xl].points,El=Vl.length-1);Vl=Ul[xl].points,Ml=Vl[El-1],_l=Vl[El],_h=_l.partialLength}Ws=Js.length,Rs=0,Bs=0;var Gl=vs.finalSize*1.2*.714,Fl=!0,Al,Pl,yl,Zs,Bl;Zs=Ss.length;var eu,Eu=-1,uu,Yl,zl,ou=wl,pu=xl,fu=El,yu=-1,tu,Ll,Tl,Hl,Dl,Kl,cu,iu,du="",Au=this.defaultPropsArray,xu;if(vs.j===2||vs.j===1){var _u=0,Hu=0,ju=vs.j===2?-.5:-1,_d=0,Zu=!0;for(Ns=0;Ns<Ws;Ns+=1)if(Js[Ns].n){for(_u&&(_u+=Hu);_d<Ns;)Js[_d].animatorJustifyOffset=_u,_d+=1;_u=0,Zu=!0}else{for(yl=0;yl<Zs;yl+=1)Al=Ss[yl].a,Al.t.propType&&(Zu&&vs.j===2&&(Hu+=Al.t.v*ju),Pl=Ss[yl].s,eu=Pl.getMult(Js[Ns].anIndexes[yl],Es.a[yl].s.totalChars),eu.length?_u+=Al.t.v*eu[0]*ju:_u+=Al.t.v*eu*ju);Zu=!1}for(_u&&(_u+=Hu);_d<Ns;)Js[_d].animatorJustifyOffset=_u,_d+=1}for(Ns=0;Ns<Ws;Ns+=1){if(_s.reset(),tu=1,Js[Ns].n)Rs=0,Bs+=vs.yOffset,Bs+=Fl?1:0,wl=ou,Fl=!1,this._hasMaskedPath&&(xl=pu,El=fu,Vl=Ul[xl].points,Ml=Vl[El-1],_l=Vl[El],_h=_l.partialLength,Cl=0),du="",iu="",Kl="",xu="",Au=this.defaultPropsArray;else{if(this._hasMaskedPath){if(yu!==Js[Ns].line){switch(vs.j){case 1:wl+=nu-vs.lineWidths[Js[Ns].line];break;case 2:wl+=(nu-vs.lineWidths[Js[Ns].line])/2;break}yu=Js[Ns].line}Eu!==Js[Ns].ind&&(Js[Eu]&&(wl+=Js[Eu].extra),wl+=Js[Ns].an/2,Eu=Js[Ns].ind),wl+=ws[0]*Js[Ns].an*.005;var tp=0;for(yl=0;yl<Zs;yl+=1)Al=Ss[yl].a,Al.p.propType&&(Pl=Ss[yl].s,eu=Pl.getMult(Js[Ns].anIndexes[yl],Es.a[yl].s.totalChars),eu.length?tp+=Al.p.v[0]*eu[0]:tp+=Al.p.v[0]*eu),Al.a.propType&&(Pl=Ss[yl].s,eu=Pl.getMult(Js[Ns].anIndexes[yl],Es.a[yl].s.totalChars),eu.length?tp+=Al.a.v[0]*eu[0]:tp+=Al.a.v[0]*eu);for(Sl=!0,this._pathData.a.v&&(wl=Js[0].an*.5+(nu-this._pathData.f.v-Js[0].an*.5-Js[Js.length-1].an*.5)*Eu/(Ws-1),wl+=this._pathData.f.v);Sl;)Cl+_h>=wl+tp||!Vl?(su=(wl+tp-Cl)/_l.partialLength,Yl=Ml.point[0]+(_l.point[0]-Ml.point[0])*su,zl=Ml.point[1]+(_l.point[1]-Ml.point[1])*su,_s.translate(-ws[0]*Js[Ns].an*.005,-(ws[1]*Gl)*.01),Sl=!1):Vl&&(Cl+=_l.partialLength,El+=1,El>=Vl.length&&(El=0,xl+=1,Ul[xl]?Vl=Ul[xl].points:Il.v.c?(El=0,xl=0,Vl=Ul[xl].points):(Cl-=_l.partialLength,Vl=null)),Vl&&(Ml=_l,_l=Vl[El],_h=_l.partialLength));uu=Js[Ns].an/2-Js[Ns].add,_s.translate(-uu,0,0)}else uu=Js[Ns].an/2-Js[Ns].add,_s.translate(-uu,0,0),_s.translate(-ws[0]*Js[Ns].an*.005,-ws[1]*Gl*.01,0);for(yl=0;yl<Zs;yl+=1)Al=Ss[yl].a,Al.t.propType&&(Pl=Ss[yl].s,eu=Pl.getMult(Js[Ns].anIndexes[yl],Es.a[yl].s.totalChars),(Rs!==0||vs.j!==0)&&(this._hasMaskedPath?eu.length?wl+=Al.t.v*eu[0]:wl+=Al.t.v*eu:eu.length?Rs+=Al.t.v*eu[0]:Rs+=Al.t.v*eu));for(vs.strokeWidthAnim&&(Tl=vs.sw||0),vs.strokeColorAnim&&(vs.sc?Ll=[vs.sc[0],vs.sc[1],vs.sc[2]]:Ll=[0,0,0]),vs.fillColorAnim&&vs.fc&&(Hl=[vs.fc[0],vs.fc[1],vs.fc[2]]),yl=0;yl<Zs;yl+=1)Al=Ss[yl].a,Al.a.propType&&(Pl=Ss[yl].s,eu=Pl.getMult(Js[Ns].anIndexes[yl],Es.a[yl].s.totalChars),eu.length?_s.translate(-Al.a.v[0]*eu[0],-Al.a.v[1]*eu[1],Al.a.v[2]*eu[2]):_s.translate(-Al.a.v[0]*eu,-Al.a.v[1]*eu,Al.a.v[2]*eu));for(yl=0;yl<Zs;yl+=1)Al=Ss[yl].a,Al.s.propType&&(Pl=Ss[yl].s,eu=Pl.getMult(Js[Ns].anIndexes[yl],Es.a[yl].s.totalChars),eu.length?_s.scale(1+(Al.s.v[0]-1)*eu[0],1+(Al.s.v[1]-1)*eu[1],1):_s.scale(1+(Al.s.v[0]-1)*eu,1+(Al.s.v[1]-1)*eu,1));for(yl=0;yl<Zs;yl+=1){if(Al=Ss[yl].a,Pl=Ss[yl].s,eu=Pl.getMult(Js[Ns].anIndexes[yl],Es.a[yl].s.totalChars),Al.sk.propType&&(eu.length?_s.skewFromAxis(-Al.sk.v*eu[0],Al.sa.v*eu[1]):_s.skewFromAxis(-Al.sk.v*eu,Al.sa.v*eu)),Al.r.propType&&(eu.length?_s.rotateZ(-Al.r.v*eu[2]):_s.rotateZ(-Al.r.v*eu)),Al.ry.propType&&(eu.length?_s.rotateY(Al.ry.v*eu[1]):_s.rotateY(Al.ry.v*eu)),Al.rx.propType&&(eu.length?_s.rotateX(Al.rx.v*eu[0]):_s.rotateX(Al.rx.v*eu)),Al.o.propType&&(eu.length?tu+=(Al.o.v*eu[0]-tu)*eu[0]:tu+=(Al.o.v*eu-tu)*eu),vs.strokeWidthAnim&&Al.sw.propType&&(eu.length?Tl+=Al.sw.v*eu[0]:Tl+=Al.sw.v*eu),vs.strokeColorAnim&&Al.sc.propType)for(Dl=0;Dl<3;Dl+=1)eu.length?Ll[Dl]+=(Al.sc.v[Dl]-Ll[Dl])*eu[0]:Ll[Dl]+=(Al.sc.v[Dl]-Ll[Dl])*eu;if(vs.fillColorAnim&&vs.fc){if(Al.fc.propType)for(Dl=0;Dl<3;Dl+=1)eu.length?Hl[Dl]+=(Al.fc.v[Dl]-Hl[Dl])*eu[0]:Hl[Dl]+=(Al.fc.v[Dl]-Hl[Dl])*eu;Al.fh.propType&&(eu.length?Hl=addHueToRGB(Hl,Al.fh.v*eu[0]):Hl=addHueToRGB(Hl,Al.fh.v*eu)),Al.fs.propType&&(eu.length?Hl=addSaturationToRGB(Hl,Al.fs.v*eu[0]):Hl=addSaturationToRGB(Hl,Al.fs.v*eu)),Al.fb.propType&&(eu.length?Hl=addBrightnessToRGB(Hl,Al.fb.v*eu[0]):Hl=addBrightnessToRGB(Hl,Al.fb.v*eu))}}for(yl=0;yl<Zs;yl+=1)Al=Ss[yl].a,Al.p.propType&&(Pl=Ss[yl].s,eu=Pl.getMult(Js[Ns].anIndexes[yl],Es.a[yl].s.totalChars),this._hasMaskedPath?eu.length?_s.translate(0,Al.p.v[1]*eu[0],-Al.p.v[2]*eu[1]):_s.translate(0,Al.p.v[1]*eu,-Al.p.v[2]*eu):eu.length?_s.translate(Al.p.v[0]*eu[0],Al.p.v[1]*eu[1],-Al.p.v[2]*eu[2]):_s.translate(Al.p.v[0]*eu,Al.p.v[1]*eu,-Al.p.v[2]*eu));if(vs.strokeWidthAnim&&(Kl=Tl<0?0:Tl),vs.strokeColorAnim&&(cu="rgb("+Math.round(Ll[0]*255)+","+Math.round(Ll[1]*255)+","+Math.round(Ll[2]*255)+")"),vs.fillColorAnim&&vs.fc&&(iu="rgb("+Math.round(Hl[0]*255)+","+Math.round(Hl[1]*255)+","+Math.round(Hl[2]*255)+")"),this._hasMaskedPath){if(_s.translate(0,-vs.ls),_s.translate(0,ws[1]*Gl*.01+Bs,0),this._pathData.p.v){Jl=(_l.point[1]-Ml.point[1])/(_l.point[0]-Ml.point[0]);var hu=Math.atan(Jl)*180/Math.PI;_l.point[0]<Ml.point[0]&&(hu+=180),_s.rotate(-hu*Math.PI/180)}_s.translate(Yl,zl,0),wl-=ws[0]*Js[Ns].an*.005,Js[Ns+1]&&Eu!==Js[Ns+1].ind&&(wl+=Js[Ns].an/2,wl+=vs.tr*.001*vs.finalSize)}else{switch(_s.translate(Rs,Bs,0),vs.ps&&_s.translate(vs.ps[0],vs.ps[1]+vs.ascent,0),vs.j){case 1:_s.translate(Js[Ns].animatorJustifyOffset+vs.justifyOffset+(vs.boxWidth-vs.lineWidths[Js[Ns].line]),0,0);break;case 2:_s.translate(Js[Ns].animatorJustifyOffset+vs.justifyOffset+(vs.boxWidth-vs.lineWidths[Js[Ns].line])/2,0,0);break}_s.translate(0,-vs.ls),_s.translate(uu,0,0),_s.translate(ws[0]*Js[Ns].an*.005,ws[1]*Gl*.01,0),Rs+=Js[Ns].l+vs.tr*.001*vs.finalSize}Is==="html"?du=_s.toCSS():Is==="svg"?du=_s.to2dCSS():Au=[_s.props[0],_s.props[1],_s.props[2],_s.props[3],_s.props[4],_s.props[5],_s.props[6],_s.props[7],_s.props[8],_s.props[9],_s.props[10],_s.props[11],_s.props[12],_s.props[13],_s.props[14],_s.props[15]],xu=tu}Ts<=Ns?(Bl=new LetterProps(xu,Kl,cu,iu,du,Au),this.renderedLetters.push(Bl),Ts+=1,this.lettersChangedFlag=!0):(Bl=this.renderedLetters[Ns],this.lettersChangedFlag=Bl.update(xu,Kl,cu,iu,du,Au)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(vs,ms,ws){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(vs,ms,ws),this.textProperty=new TextProperty(this,vs.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(vs.t,this.renderType,this),this.initTransform(vs,ms,ws),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(vs){this._mdf=!1,this.prepareRenderableFrame(vs),this.prepareProperties(vs,this.isInRange)},ITextElement.prototype.createPathShape=function(vs,ms){var ws,Ss=ms.length,Es,_s="";for(ws=0;ws<Ss;ws+=1)ms[ws].ty==="sh"&&(Es=ms[ws].ks.k,_s+=buildShapeString(Es,Es.i.length,!0,vs));return _s},ITextElement.prototype.updateDocumentData=function(vs,ms){this.textProperty.updateDocumentData(vs,ms)},ITextElement.prototype.canResizeFont=function(vs){this.textProperty.canResizeFont(vs)},ITextElement.prototype.setMinimumFontSize=function(vs){this.textProperty.setMinimumFontSize(vs)},ITextElement.prototype.applyTextPropertiesToMatrix=function(vs,ms,ws,Ss,Es){switch(vs.ps&&ms.translate(vs.ps[0],vs.ps[1]+vs.ascent,0),ms.translate(0,-vs.ls,0),vs.j){case 1:ms.translate(vs.justifyOffset+(vs.boxWidth-vs.lineWidths[ws]),0,0);break;case 2:ms.translate(vs.justifyOffset+(vs.boxWidth-vs.lineWidths[ws])/2,0,0);break}ms.translate(Ss,Es,0)},ITextElement.prototype.buildColor=function(vs){return"rgb("+Math.round(vs[0]*255)+","+Math.round(vs[1]*255)+","+Math.round(vs[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(vs,ms,ws){this.textSpans=[],this.renderType="svg",this.initElement(vs,ms,ws)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(vs){for(var ms=0,ws=vs.length,Ss=[],Es="";ms<ws;)vs[ms]==="\r"||vs[ms]===""?(Ss.push(Es),Es=""):Es+=vs[ms],ms+=1;return Ss.push(Es),Ss},SVGTextLottieElement.prototype.buildShapeData=function(vs,ms){if(vs.shapes&&vs.shapes.length){var ws=vs.shapes[0];if(ws.it){var Ss=ws.it[ws.it.length-1];Ss.s&&(Ss.s.k[0]=ms,Ss.s.k[1]=ms)}}return vs},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var vs,ms,ws=this.textProperty.currentData;this.renderedLetters=createSizedArray(ws?ws.l.length:0),ws.fc?this.layerElement.setAttribute("fill",this.buildColor(ws.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),ws.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(ws.sc)),this.layerElement.setAttribute("stroke-width",ws.sw)),this.layerElement.setAttribute("font-size",ws.finalSize);var Ss=this.globalData.fontManager.getFontByName(ws.f);if(Ss.fClass)this.layerElement.setAttribute("class",Ss.fClass);else{this.layerElement.setAttribute("font-family",Ss.fFamily);var Es=ws.fWeight,_s=ws.fStyle;this.layerElement.setAttribute("font-style",_s),this.layerElement.setAttribute("font-weight",Es)}this.layerElement.setAttribute("aria-label",ws.t);var Is=ws.l||[],Ts=!!this.globalData.fontManager.chars;ms=Is.length;var Rs,Bs=this.mHelper,Ns="",Ws=this.data.singleShape,Js=0,$l=0,wl=!0,_l=ws.tr*.001*ws.finalSize;if(Ws&&!Ts&&!ws.sz){var Cl=this.textContainer,Sl="start";switch(ws.j){case 1:Sl="end";break;case 2:Sl="middle";break;default:Sl="start";break}Cl.setAttribute("text-anchor",Sl),Cl.setAttribute("letter-spacing",_l);var El=this.buildTextContents(ws.finalText);for(ms=El.length,$l=ws.ps?ws.ps[1]+ws.ascent:0,vs=0;vs<ms;vs+=1)Rs=this.textSpans[vs].span||createNS("tspan"),Rs.textContent=El[vs],Rs.setAttribute("x",0),Rs.setAttribute("y",$l),Rs.style.display="inherit",Cl.appendChild(Rs),this.textSpans[vs]||(this.textSpans[vs]={span:null,glyph:null}),this.textSpans[vs].span=Rs,$l+=ws.finalLineHeight;this.layerElement.appendChild(Cl)}else{var xl=this.textSpans.length,Ml;for(vs=0;vs<ms;vs+=1){if(this.textSpans[vs]||(this.textSpans[vs]={span:null,childSpan:null,glyph:null}),!Ts||!Ws||vs===0){if(Rs=xl>vs?this.textSpans[vs].span:createNS(Ts?"g":"text"),xl<=vs){if(Rs.setAttribute("stroke-linecap","butt"),Rs.setAttribute("stroke-linejoin","round"),Rs.setAttribute("stroke-miterlimit","4"),this.textSpans[vs].span=Rs,Ts){var Vl=createNS("g");Rs.appendChild(Vl),this.textSpans[vs].childSpan=Vl}this.textSpans[vs].span=Rs,this.layerElement.appendChild(Rs)}Rs.style.display="inherit"}if(Bs.reset(),Ws&&(Is[vs].n&&(Js=-_l,$l+=ws.yOffset,$l+=wl?1:0,wl=!1),this.applyTextPropertiesToMatrix(ws,Bs,Is[vs].line,Js,$l),Js+=Is[vs].l||0,Js+=_l),Ts){Ml=this.globalData.fontManager.getCharData(ws.finalText[vs],Ss.fStyle,this.globalData.fontManager.getFontByName(ws.f).fFamily);var Ul;if(Ml.t===1)Ul=new SVGCompElement(Ml.data,this.globalData,this);else{var _h=emptyShapeData;Ml.data&&Ml.data.shapes&&(_h=this.buildShapeData(Ml.data,ws.finalSize)),Ul=new SVGShapeElement(_h,this.globalData,this)}if(this.textSpans[vs].glyph){var nu=this.textSpans[vs].glyph;this.textSpans[vs].childSpan.removeChild(nu.layerElement),nu.destroy()}this.textSpans[vs].glyph=Ul,Ul._debug=!0,Ul.prepareFrame(0),Ul.renderFrame(),this.textSpans[vs].childSpan.appendChild(Ul.layerElement),Ml.t===1&&this.textSpans[vs].childSpan.setAttribute("transform","scale("+ws.finalSize/100+","+ws.finalSize/100+")")}else Ws&&Rs.setAttribute("transform","translate("+Bs.props[12]+","+Bs.props[13]+")"),Rs.textContent=Is[vs].val,Rs.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}Ws&&Rs&&Rs.setAttribute("d",Ns)}for(;vs<this.textSpans.length;)this.textSpans[vs].span.style.display="none",vs+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var vs=this.layerElement.getBBox();this.bbox={top:vs.y,left:vs.x,width:vs.width,height:vs.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var vs,ms=this.textSpans.length,ws;for(this.renderedFrame=this.comp.renderedFrame,vs=0;vs<ms;vs+=1)ws=this.textSpans[vs].glyph,ws&&(ws.prepareFrame(this.comp.renderedFrame-this.data.st),ws._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var vs,ms,ws=this.textAnimator.renderedLetters,Ss=this.textProperty.currentData.l;ms=Ss.length;var Es,_s,Is;for(vs=0;vs<ms;vs+=1)Ss[vs].n||(Es=ws[vs],_s=this.textSpans[vs].span,Is=this.textSpans[vs].glyph,Is&&Is.renderFrame(),Es._mdf.m&&_s.setAttribute("transform",Es.m),Es._mdf.o&&_s.setAttribute("opacity",Es.o),Es._mdf.sw&&_s.setAttribute("stroke-width",Es.sw),Es._mdf.sc&&_s.setAttribute("stroke",Es.sc),Es._mdf.fc&&_s.setAttribute("fill",Es.fc))}};function ISolidElement(vs,ms,ws){this.initElement(vs,ms,ws)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var vs=createNS("rect");vs.setAttribute("width",this.data.sw),vs.setAttribute("height",this.data.sh),vs.setAttribute("fill",this.data.sc),this.layerElement.appendChild(vs)};function NullElement(vs,ms,ws){this.initFrame(),this.initBaseData(vs,ms,ws),this.initFrame(),this.initTransform(vs,ms,ws),this.initHierarchy()}NullElement.prototype.prepareFrame=function(vs){this.prepareProperties(vs,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(vs){return new NullElement(vs,this.globalData,this)},SVGRendererBase.prototype.createShape=function(vs){return new SVGShapeElement(vs,this.globalData,this)},SVGRendererBase.prototype.createText=function(vs){return new SVGTextLottieElement(vs,this.globalData,this)},SVGRendererBase.prototype.createImage=function(vs){return new IImageElement(vs,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(vs){return new ISolidElement(vs,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(vs){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+vs.w+" "+vs.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",vs.w),this.svgElement.setAttribute("height",vs.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var ms=this.globalData.defs;this.setupGlobalData(vs,ms),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=vs;var ws=createNS("clipPath"),Ss=createNS("rect");Ss.setAttribute("width",vs.w),Ss.setAttribute("height",vs.h),Ss.setAttribute("x",0),Ss.setAttribute("y",0);var Es=createElementID();ws.setAttribute("id",Es),ws.appendChild(Ss),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+Es+")"),ms.appendChild(ws),this.layers=vs.layers,this.elements=createSizedArray(vs.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var vs,ms=this.layers?this.layers.length:0;for(vs=0;vs<ms;vs+=1)this.elements[vs]&&this.elements[vs].destroy&&this.elements[vs].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(vs){var ms=0,ws=this.layers.length;for(ms=0;ms<ws;ms+=1)if(this.layers[ms].ind===vs)return ms;return-1},SVGRendererBase.prototype.buildItem=function(vs){var ms=this.elements;if(!(ms[vs]||this.layers[vs].ty===99)){ms[vs]=!0;var ws=this.createItem(this.layers[vs]);if(ms[vs]=ws,getExpressionsPlugin()&&(this.layers[vs].ty===0&&this.globalData.projectInterface.registerComposition(ws),ws.initExpressions()),this.appendElementInPos(ws,vs),this.layers[vs].tt){var Ss="tp"in this.layers[vs]?this.findIndexByInd(this.layers[vs].tp):vs-1;if(Ss===-1)return;if(!this.elements[Ss]||this.elements[Ss]===!0)this.buildItem(Ss),this.addPendingElement(ws);else{var Es=ms[Ss],_s=Es.getMatte(this.layers[vs].tt);ws.setMatte(_s)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var vs=this.pendingElements.pop();if(vs.checkParenting(),vs.data.tt)for(var ms=0,ws=this.elements.length;ms<ws;){if(this.elements[ms]===vs){var Ss="tp"in vs.data?this.findIndexByInd(vs.data.tp):ms-1,Es=this.elements[Ss],_s=Es.getMatte(this.layers[ms].tt);vs.setMatte(_s);break}ms+=1}}},SVGRendererBase.prototype.renderFrame=function(vs){if(!(this.renderedFrame===vs||this.destroyed)){vs===null?vs=this.renderedFrame:this.renderedFrame=vs,this.globalData.frameNum=vs,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=vs,this.globalData._mdf=!1;var ms,ws=this.layers.length;for(this.completeLayers||this.checkLayers(vs),ms=ws-1;ms>=0;ms-=1)(this.completeLayers||this.elements[ms])&&this.elements[ms].prepareFrame(vs-this.layers[ms].st);if(this.globalData._mdf)for(ms=0;ms<ws;ms+=1)(this.completeLayers||this.elements[ms])&&this.elements[ms].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(vs,ms){var ws=vs.getBaseElement();if(ws){for(var Ss=0,Es;Ss<ms;)this.elements[Ss]&&this.elements[Ss]!==!0&&this.elements[Ss].getBaseElement()&&(Es=this.elements[Ss].getBaseElement()),Ss+=1;Es?this.layerElement.insertBefore(ws,Es):this.layerElement.appendChild(ws)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(vs,ms,ws){this.initFrame(),this.initBaseData(vs,ms,ws),this.initTransform(vs,ms,ws),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!ms.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(vs){if(this._mdf=!1,this.prepareRenderableFrame(vs),this.prepareProperties(vs,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=vs/this.data.sr;else{var ms=this.tm.v;ms===this.data.op&&(ms=this.data.op-1),this.renderedFrame=ms}var ws,Ss=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),ws=Ss-1;ws>=0;ws-=1)(this.completeLayers||this.elements[ws])&&(this.elements[ws].prepareFrame(this.renderedFrame-this.layers[ws].st),this.elements[ws]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var vs,ms=this.layers.length;for(vs=0;vs<ms;vs+=1)(this.completeLayers||this.elements[vs])&&this.elements[vs].renderFrame()},ICompElement.prototype.setElements=function(vs){this.elements=vs},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var vs,ms=this.layers.length;for(vs=0;vs<ms;vs+=1)this.elements[vs]&&this.elements[vs].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(vs,ms,ws){this.layers=vs.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(vs,ms,ws),this.tm=vs.tm?PropertyFactory.getProp(this,vs.tm,0,ms.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(vs){return new SVGCompElement(vs,this.globalData,this)};function SVGRenderer(vs,ms){this.animationItem=vs,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var ws="";if(ms&&ms.title){var Ss=createNS("title"),Es=createElementID();Ss.setAttribute("id",Es),Ss.textContent=ms.title,this.svgElement.appendChild(Ss),ws+=Es}if(ms&&ms.description){var _s=createNS("desc"),Is=createElementID();_s.setAttribute("id",Is),_s.textContent=ms.description,this.svgElement.appendChild(_s),ws+=" "+Is}ws&&this.svgElement.setAttribute("aria-labelledby",ws);var Ts=createNS("defs");this.svgElement.appendChild(Ts);var Rs=createNS("g");this.svgElement.appendChild(Rs),this.layerElement=Rs,this.renderConfig={preserveAspectRatio:ms&&ms.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:ms&&ms.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:ms&&ms.contentVisibility||"visible",progressiveLoad:ms&&ms.progressiveLoad||!1,hideOnTransparent:!(ms&&ms.hideOnTransparent===!1),viewBoxOnly:ms&&ms.viewBoxOnly||!1,viewBoxSize:ms&&ms.viewBoxSize||!1,className:ms&&ms.className||"",id:ms&&ms.id||"",focusable:ms&&ms.focusable,filterSize:{width:ms&&ms.filterSize&&ms.filterSize.width||"100%",height:ms&&ms.filterSize&&ms.filterSize.height||"100%",x:ms&&ms.filterSize&&ms.filterSize.x||"0%",y:ms&&ms.filterSize&&ms.filterSize.y||"0%"},width:ms&&ms.width,height:ms&&ms.height,runExpressions:!ms||ms.runExpressions===void 0||ms.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:Ts,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(vs){return new SVGCompElement(vs,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(ms){var ws,Ss=ms.length,Es="_";for(ws=0;ws<Ss;ws+=1)Es+=ms[ws].transform.key+"_";var _s=this.sequences[Es];return _s||(_s={transforms:[].concat(ms),finalTransform:new Matrix,_mdf:!1},this.sequences[Es]=_s,this.sequenceList.push(_s)),_s},processSequence:function(ms,ws){for(var Ss=0,Es=ms.transforms.length,_s=ws;Ss<Es&&!ws;){if(ms.transforms[Ss].transform.mProps._mdf){_s=!0;break}Ss+=1}if(_s)for(ms.finalTransform.reset(),Ss=Es-1;Ss>=0;Ss-=1)ms.finalTransform.multiply(ms.transforms[Ss].transform.mProps.v);ms._mdf=_s},processSequences:function(ms){var ws,Ss=this.sequenceList.length;for(ws=0;ws<Ss;ws+=1)this.processSequence(this.sequenceList[ws],ms)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var ms="__lottie_element_luma_buffer",ws=null,Ss=null,Es=null;function _s(){var Rs=createNS("svg"),Bs=createNS("filter"),Ns=createNS("feColorMatrix");return Bs.setAttribute("id",ms),Ns.setAttribute("type","matrix"),Ns.setAttribute("color-interpolation-filters","sRGB"),Ns.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),Bs.appendChild(Ns),Rs.appendChild(Bs),Rs.setAttribute("id",ms+"_svg"),featureSupport.svgLumaHidden&&(Rs.style.display="none"),Rs}function Is(){ws||(Es=_s(),document.body.appendChild(Es),ws=createTag("canvas"),Ss=ws.getContext("2d"),Ss.filter="url(#"+ms+")",Ss.fillStyle="rgba(0,0,0,0)",Ss.fillRect(0,0,1,1))}function Ts(Rs){return ws||Is(),ws.width=Rs.width,ws.height=Rs.height,Ss.filter="url(#"+ms+")",ws}return{load:Is,get:Ts}};function createCanvas(vs,ms){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(vs,ms);var ws=createTag("canvas");return ws.width=vs,ws.height=ms,ws}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(vs){var ms,ws=vs.data.ef?vs.data.ef.length:0;this.filters=[];var Ss;for(ms=0;ms<ws;ms+=1){Ss=null;var Es=vs.data.ef[ms].ty;if(registeredEffects[Es]){var _s=registeredEffects[Es].effect;Ss=new _s(vs.effectsManager.effectElements[ms],vs)}Ss&&this.filters.push(Ss)}this.filters.length&&vs.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(vs){var ms,ws=this.filters.length;for(ms=0;ms<ws;ms+=1)this.filters[ms].renderFrame(vs)},CVEffects.prototype.getEffects=function(vs){var ms,ws=this.filters.length,Ss=[];for(ms=0;ms<ws;ms+=1)this.filters[ms].type===vs&&Ss.push(this.filters[ms]);return Ss};function registerEffect(vs,ms){registeredEffects[vs]={effect:ms}}function CVMaskElement(vs,ms){this.data=vs,this.element=ms,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var ws,Ss=this.masksProperties.length,Es=!1;for(ws=0;ws<Ss;ws+=1)this.masksProperties[ws].mode!=="n"&&(Es=!0),this.viewData[ws]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[ws],3);this.hasMasks=Es,Es&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var vs=this.element.finalTransform.mat,ms=this.element.canvasContext,ws,Ss=this.masksProperties.length,Es,_s,Is;for(ms.beginPath(),ws=0;ws<Ss;ws+=1)if(this.masksProperties[ws].mode!=="n"){this.masksProperties[ws].inv&&(ms.moveTo(0,0),ms.lineTo(this.element.globalData.compSize.w,0),ms.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),ms.lineTo(0,this.element.globalData.compSize.h),ms.lineTo(0,0)),Is=this.viewData[ws].v,Es=vs.applyToPointArray(Is.v[0][0],Is.v[0][1],0),ms.moveTo(Es[0],Es[1]);var Ts,Rs=Is._length;for(Ts=1;Ts<Rs;Ts+=1)_s=vs.applyToTriplePoints(Is.o[Ts-1],Is.i[Ts],Is.v[Ts]),ms.bezierCurveTo(_s[0],_s[1],_s[2],_s[3],_s[4],_s[5]);_s=vs.applyToTriplePoints(Is.o[Ts-1],Is.i[0],Is.v[0]),ms.bezierCurveTo(_s[0],_s[1],_s[2],_s[3],_s[4],_s[5])}this.element.globalData.renderer.save(!0),ms.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var ms=this.globalData.canvasContext,ws=assetLoader.createCanvas(ms.canvas.width,ms.canvas.height);this.buffers.push(ws);var Ss=assetLoader.createCanvas(ms.canvas.width,ms.canvas.height);this.buffers.push(Ss),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var ms=this.globalData;if(ms.blendMode!==this.data.bm){ms.blendMode=this.data.bm;var ws=getBlendMode(this.data.bm);ms.canvasContext.globalCompositeOperation=ws}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(ms){ms.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var ms=this.buffers[0],ws=ms.getContext("2d");this.clearCanvas(ws),ws.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var ms=this.buffers[1],ws=ms.getContext("2d");this.clearCanvas(ws),ws.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var Ss=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(Ss.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var Es=assetLoader.getLumaCanvas(this.canvasContext.canvas),_s=Es.getContext("2d");_s.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(Es,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(ms,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(ms){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!ms)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var ws=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(ws),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(ws),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(vs,ms,ws,Ss){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var Es=4;ms.ty==="rc"?Es=5:ms.ty==="el"?Es=6:ms.ty==="sr"&&(Es=7),this.sh=ShapePropertyFactory.getShapeProp(vs,ms,Es,vs);var _s,Is=ws.length,Ts;for(_s=0;_s<Is;_s+=1)ws[_s].closed||(Ts={transforms:Ss.addTransformSequence(ws[_s].transforms),trNodes:[]},this.styledShapes.push(Ts),ws[_s].elements.push(Ts))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(vs,ms,ws){this.shapes=[],this.shapesData=vs.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(vs,ms,ws)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(vs,ms){var ws={data:vs,type:vs.ty,preTransforms:this.transformsManager.addTransformSequence(ms),transforms:[],elements:[],closed:vs.hd===!0},Ss={};if(vs.ty==="fl"||vs.ty==="st"?(Ss.c=PropertyFactory.getProp(this,vs.c,1,255,this),Ss.c.k||(ws.co="rgb("+bmFloor(Ss.c.v[0])+","+bmFloor(Ss.c.v[1])+","+bmFloor(Ss.c.v[2])+")")):(vs.ty==="gf"||vs.ty==="gs")&&(Ss.s=PropertyFactory.getProp(this,vs.s,1,null,this),Ss.e=PropertyFactory.getProp(this,vs.e,1,null,this),Ss.h=PropertyFactory.getProp(this,vs.h||{k:0},0,.01,this),Ss.a=PropertyFactory.getProp(this,vs.a||{k:0},0,degToRads,this),Ss.g=new GradientProperty(this,vs.g,this)),Ss.o=PropertyFactory.getProp(this,vs.o,0,.01,this),vs.ty==="st"||vs.ty==="gs"){if(ws.lc=lineCapEnum[vs.lc||2],ws.lj=lineJoinEnum[vs.lj||2],vs.lj==1&&(ws.ml=vs.ml),Ss.w=PropertyFactory.getProp(this,vs.w,0,null,this),Ss.w.k||(ws.wi=Ss.w.v),vs.d){var Es=new DashProperty(this,vs.d,"canvas",this);Ss.d=Es,Ss.d.k||(ws.da=Ss.d.dashArray,ws.do=Ss.d.dashoffset[0])}}else ws.r=vs.r===2?"evenodd":"nonzero";return this.stylesList.push(ws),Ss.style=ws,Ss},CVShapeElement.prototype.createGroupElement=function(){var vs={it:[],prevViewData:[]};return vs},CVShapeElement.prototype.createTransformElement=function(vs){var ms={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,vs.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,vs,this)}};return ms},CVShapeElement.prototype.createShapeElement=function(vs){var ms=new CVShapeData(this,vs,this.stylesList,this.transformsManager);return this.shapes.push(ms),this.addShapeToModifiers(ms),ms},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var vs,ms=this.itemsData.length;for(vs=0;vs<ms;vs+=1)this.prevViewData[vs]=this.itemsData[vs];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),ms=this.dynamicProperties.length,vs=0;vs<ms;vs+=1)this.dynamicProperties[vs].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(vs){var ms,ws=this.stylesList.length;for(ms=0;ms<ws;ms+=1)this.stylesList[ms].closed||this.stylesList[ms].transforms.push(vs)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var vs,ms=this.stylesList.length;for(vs=0;vs<ms;vs+=1)this.stylesList[vs].closed||this.stylesList[vs].transforms.pop()},CVShapeElement.prototype.closeStyles=function(vs){var ms,ws=vs.length;for(ms=0;ms<ws;ms+=1)vs[ms].closed=!0},CVShapeElement.prototype.searchShapes=function(vs,ms,ws,Ss,Es){var _s,Is=vs.length-1,Ts,Rs,Bs=[],Ns=[],Ws,Js,$l,wl=[].concat(Es);for(_s=Is;_s>=0;_s-=1){if(Ws=this.searchProcessedElement(vs[_s]),Ws?ms[_s]=ws[Ws-1]:vs[_s]._shouldRender=Ss,vs[_s].ty==="fl"||vs[_s].ty==="st"||vs[_s].ty==="gf"||vs[_s].ty==="gs")Ws?ms[_s].style.closed=!1:ms[_s]=this.createStyleElement(vs[_s],wl),Bs.push(ms[_s].style);else if(vs[_s].ty==="gr"){if(!Ws)ms[_s]=this.createGroupElement(vs[_s]);else for(Rs=ms[_s].it.length,Ts=0;Ts<Rs;Ts+=1)ms[_s].prevViewData[Ts]=ms[_s].it[Ts];this.searchShapes(vs[_s].it,ms[_s].it,ms[_s].prevViewData,Ss,wl)}else vs[_s].ty==="tr"?(Ws||($l=this.createTransformElement(vs[_s]),ms[_s]=$l),wl.push(ms[_s]),this.addTransformToStyleList(ms[_s])):vs[_s].ty==="sh"||vs[_s].ty==="rc"||vs[_s].ty==="el"||vs[_s].ty==="sr"?Ws||(ms[_s]=this.createShapeElement(vs[_s])):vs[_s].ty==="tm"||vs[_s].ty==="rd"||vs[_s].ty==="pb"||vs[_s].ty==="zz"||vs[_s].ty==="op"?(Ws?(Js=ms[_s],Js.closed=!1):(Js=ShapeModifiers.getModifier(vs[_s].ty),Js.init(this,vs[_s]),ms[_s]=Js,this.shapeModifiers.push(Js)),Ns.push(Js)):vs[_s].ty==="rp"&&(Ws?(Js=ms[_s],Js.closed=!0):(Js=ShapeModifiers.getModifier(vs[_s].ty),ms[_s]=Js,Js.init(this,vs,_s,ms),this.shapeModifiers.push(Js),Ss=!1),Ns.push(Js));this.addProcessedElement(vs[_s],_s+1)}for(this.removeTransformFromStyleList(),this.closeStyles(Bs),Is=Ns.length,_s=0;_s<Is;_s+=1)Ns[_s].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(vs,ms){(vs._opMdf||ms.op._mdf||this._isFirstFrame)&&(ms.opacity=vs.opacity,ms.opacity*=ms.op.v,ms._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var vs,ms=this.stylesList.length,ws,Ss,Es,_s,Is,Ts,Rs=this.globalData.renderer,Bs=this.globalData.canvasContext,Ns,Ws;for(vs=0;vs<ms;vs+=1)if(Ws=this.stylesList[vs],Ns=Ws.type,!((Ns==="st"||Ns==="gs")&&Ws.wi===0||!Ws.data._shouldRender||Ws.coOp===0||this.globalData.currentGlobalAlpha===0)){for(Rs.save(),Is=Ws.elements,Ns==="st"||Ns==="gs"?(Rs.ctxStrokeStyle(Ns==="st"?Ws.co:Ws.grd),Rs.ctxLineWidth(Ws.wi),Rs.ctxLineCap(Ws.lc),Rs.ctxLineJoin(Ws.lj),Rs.ctxMiterLimit(Ws.ml||0)):Rs.ctxFillStyle(Ns==="fl"?Ws.co:Ws.grd),Rs.ctxOpacity(Ws.coOp),Ns!=="st"&&Ns!=="gs"&&Bs.beginPath(),Rs.ctxTransform(Ws.preTransforms.finalTransform.props),Ss=Is.length,ws=0;ws<Ss;ws+=1){for((Ns==="st"||Ns==="gs")&&(Bs.beginPath(),Ws.da&&(Bs.setLineDash(Ws.da),Bs.lineDashOffset=Ws.do)),Ts=Is[ws].trNodes,_s=Ts.length,Es=0;Es<_s;Es+=1)Ts[Es].t==="m"?Bs.moveTo(Ts[Es].p[0],Ts[Es].p[1]):Ts[Es].t==="c"?Bs.bezierCurveTo(Ts[Es].pts[0],Ts[Es].pts[1],Ts[Es].pts[2],Ts[Es].pts[3],Ts[Es].pts[4],Ts[Es].pts[5]):Bs.closePath();(Ns==="st"||Ns==="gs")&&(Rs.ctxStroke(),Ws.da&&Bs.setLineDash(this.dashResetter))}Ns!=="st"&&Ns!=="gs"&&this.globalData.renderer.ctxFill(Ws.r),Rs.restore()}},CVShapeElement.prototype.renderShape=function(vs,ms,ws,Ss){var Es,_s=ms.length-1,Is;for(Is=vs,Es=_s;Es>=0;Es-=1)ms[Es].ty==="tr"?(Is=ws[Es].transform,this.renderShapeTransform(vs,Is)):ms[Es].ty==="sh"||ms[Es].ty==="el"||ms[Es].ty==="rc"||ms[Es].ty==="sr"?this.renderPath(ms[Es],ws[Es]):ms[Es].ty==="fl"?this.renderFill(ms[Es],ws[Es],Is):ms[Es].ty==="st"?this.renderStroke(ms[Es],ws[Es],Is):ms[Es].ty==="gf"||ms[Es].ty==="gs"?this.renderGradientFill(ms[Es],ws[Es],Is):ms[Es].ty==="gr"?this.renderShape(Is,ms[Es].it,ws[Es].it):ms[Es].ty;Ss&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(vs,ms){if(this._isFirstFrame||ms._mdf||vs.transforms._mdf){var ws=vs.trNodes,Ss=ms.paths,Es,_s,Is,Ts=Ss._length;ws.length=0;var Rs=vs.transforms.finalTransform;for(Is=0;Is<Ts;Is+=1){var Bs=Ss.shapes[Is];if(Bs&&Bs.v){for(_s=Bs._length,Es=1;Es<_s;Es+=1)Es===1&&ws.push({t:"m",p:Rs.applyToPointArray(Bs.v[0][0],Bs.v[0][1],0)}),ws.push({t:"c",pts:Rs.applyToTriplePoints(Bs.o[Es-1],Bs.i[Es],Bs.v[Es])});_s===1&&ws.push({t:"m",p:Rs.applyToPointArray(Bs.v[0][0],Bs.v[0][1],0)}),Bs.c&&_s&&(ws.push({t:"c",pts:Rs.applyToTriplePoints(Bs.o[Es-1],Bs.i[0],Bs.v[0])}),ws.push({t:"z"}))}}vs.trNodes=ws}},CVShapeElement.prototype.renderPath=function(vs,ms){if(vs.hd!==!0&&vs._shouldRender){var ws,Ss=ms.styledShapes.length;for(ws=0;ws<Ss;ws+=1)this.renderStyledShape(ms.styledShapes[ws],ms.sh)}},CVShapeElement.prototype.renderFill=function(vs,ms,ws){var Ss=ms.style;(ms.c._mdf||this._isFirstFrame)&&(Ss.co="rgb("+bmFloor(ms.c.v[0])+","+bmFloor(ms.c.v[1])+","+bmFloor(ms.c.v[2])+")"),(ms.o._mdf||ws._opMdf||this._isFirstFrame)&&(Ss.coOp=ms.o.v*ws.opacity)},CVShapeElement.prototype.renderGradientFill=function(vs,ms,ws){var Ss=ms.style,Es;if(!Ss.grd||ms.g._mdf||ms.s._mdf||ms.e._mdf||vs.t!==1&&(ms.h._mdf||ms.a._mdf)){var _s=this.globalData.canvasContext,Is=ms.s.v,Ts=ms.e.v;if(vs.t===1)Es=_s.createLinearGradient(Is[0],Is[1],Ts[0],Ts[1]);else{var Rs=Math.sqrt(Math.pow(Is[0]-Ts[0],2)+Math.pow(Is[1]-Ts[1],2)),Bs=Math.atan2(Ts[1]-Is[1],Ts[0]-Is[0]),Ns=ms.h.v;Ns>=1?Ns=.99:Ns<=-1&&(Ns=-.99);var Ws=Rs*Ns,Js=Math.cos(Bs+ms.a.v)*Ws+Is[0],$l=Math.sin(Bs+ms.a.v)*Ws+Is[1];Es=_s.createRadialGradient(Js,$l,0,Is[0],Is[1],Rs)}var wl,_l=vs.g.p,Cl=ms.g.c,Sl=1;for(wl=0;wl<_l;wl+=1)ms.g._hasOpacity&&ms.g._collapsable&&(Sl=ms.g.o[wl*2+1]),Es.addColorStop(Cl[wl*4]/100,"rgba("+Cl[wl*4+1]+","+Cl[wl*4+2]+","+Cl[wl*4+3]+","+Sl+")");Ss.grd=Es}Ss.coOp=ms.o.v*ws.opacity},CVShapeElement.prototype.renderStroke=function(vs,ms,ws){var Ss=ms.style,Es=ms.d;Es&&(Es._mdf||this._isFirstFrame)&&(Ss.da=Es.dashArray,Ss.do=Es.dashoffset[0]),(ms.c._mdf||this._isFirstFrame)&&(Ss.co="rgb("+bmFloor(ms.c.v[0])+","+bmFloor(ms.c.v[1])+","+bmFloor(ms.c.v[2])+")"),(ms.o._mdf||ws._opMdf||this._isFirstFrame)&&(Ss.coOp=ms.o.v*ws.opacity),(ms.w._mdf||this._isFirstFrame)&&(Ss.wi=ms.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(vs,ms,ws){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(vs,ms,ws)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var vs=this.textProperty.currentData;this.renderedLetters=createSizedArray(vs.l?vs.l.length:0);var ms=!1;vs.fc?(ms=!0,this.values.fill=this.buildColor(vs.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=ms;var ws=!1;vs.sc&&(ws=!0,this.values.stroke=this.buildColor(vs.sc),this.values.sWidth=vs.sw);var Ss=this.globalData.fontManager.getFontByName(vs.f),Es,_s,Is=vs.l,Ts=this.mHelper;this.stroke=ws,this.values.fValue=vs.finalSize+"px "+this.globalData.fontManager.getFontByName(vs.f).fFamily,_s=vs.finalText.length;var Rs,Bs,Ns,Ws,Js,$l,wl,_l,Cl,Sl,El=this.data.singleShape,xl=vs.tr*.001*vs.finalSize,Ml=0,Vl=0,Ul=!0,_h=0;for(Es=0;Es<_s;Es+=1){Rs=this.globalData.fontManager.getCharData(vs.finalText[Es],Ss.fStyle,this.globalData.fontManager.getFontByName(vs.f).fFamily),Bs=Rs&&Rs.data||{},Ts.reset(),El&&Is[Es].n&&(Ml=-xl,Vl+=vs.yOffset,Vl+=Ul?1:0,Ul=!1),Js=Bs.shapes?Bs.shapes[0].it:[],wl=Js.length,Ts.scale(vs.finalSize/100,vs.finalSize/100),El&&this.applyTextPropertiesToMatrix(vs,Ts,Is[Es].line,Ml,Vl),Cl=createSizedArray(wl-1);var nu=0;for($l=0;$l<wl;$l+=1)if(Js[$l].ty==="sh"){for(Ws=Js[$l].ks.k.i.length,_l=Js[$l].ks.k,Sl=[],Ns=1;Ns<Ws;Ns+=1)Ns===1&&Sl.push(Ts.applyToX(_l.v[0][0],_l.v[0][1],0),Ts.applyToY(_l.v[0][0],_l.v[0][1],0)),Sl.push(Ts.applyToX(_l.o[Ns-1][0],_l.o[Ns-1][1],0),Ts.applyToY(_l.o[Ns-1][0],_l.o[Ns-1][1],0),Ts.applyToX(_l.i[Ns][0],_l.i[Ns][1],0),Ts.applyToY(_l.i[Ns][0],_l.i[Ns][1],0),Ts.applyToX(_l.v[Ns][0],_l.v[Ns][1],0),Ts.applyToY(_l.v[Ns][0],_l.v[Ns][1],0));Sl.push(Ts.applyToX(_l.o[Ns-1][0],_l.o[Ns-1][1],0),Ts.applyToY(_l.o[Ns-1][0],_l.o[Ns-1][1],0),Ts.applyToX(_l.i[0][0],_l.i[0][1],0),Ts.applyToY(_l.i[0][0],_l.i[0][1],0),Ts.applyToX(_l.v[0][0],_l.v[0][1],0),Ts.applyToY(_l.v[0][0],_l.v[0][1],0)),Cl[nu]=Sl,nu+=1}El&&(Ml+=Is[Es].l,Ml+=xl),this.textSpans[_h]?this.textSpans[_h].elem=Cl:this.textSpans[_h]={elem:Cl},_h+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var vs=this.canvasContext;vs.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var ms,ws,Ss,Es,_s,Is,Ts=this.textAnimator.renderedLetters,Rs=this.textProperty.currentData.l;ws=Rs.length;var Bs,Ns=null,Ws=null,Js=null,$l,wl,_l=this.globalData.renderer;for(ms=0;ms<ws;ms+=1)if(!Rs[ms].n){if(Bs=Ts[ms],Bs&&(_l.save(),_l.ctxTransform(Bs.p),_l.ctxOpacity(Bs.o)),this.fill){for(Bs&&Bs.fc?Ns!==Bs.fc&&(_l.ctxFillStyle(Bs.fc),Ns=Bs.fc):Ns!==this.values.fill&&(Ns=this.values.fill,_l.ctxFillStyle(this.values.fill)),$l=this.textSpans[ms].elem,Es=$l.length,this.globalData.canvasContext.beginPath(),Ss=0;Ss<Es;Ss+=1)for(wl=$l[Ss],Is=wl.length,this.globalData.canvasContext.moveTo(wl[0],wl[1]),_s=2;_s<Is;_s+=6)this.globalData.canvasContext.bezierCurveTo(wl[_s],wl[_s+1],wl[_s+2],wl[_s+3],wl[_s+4],wl[_s+5]);this.globalData.canvasContext.closePath(),_l.ctxFill()}if(this.stroke){for(Bs&&Bs.sw?Js!==Bs.sw&&(Js=Bs.sw,_l.ctxLineWidth(Bs.sw)):Js!==this.values.sWidth&&(Js=this.values.sWidth,_l.ctxLineWidth(this.values.sWidth)),Bs&&Bs.sc?Ws!==Bs.sc&&(Ws=Bs.sc,_l.ctxStrokeStyle(Bs.sc)):Ws!==this.values.stroke&&(Ws=this.values.stroke,_l.ctxStrokeStyle(this.values.stroke)),$l=this.textSpans[ms].elem,Es=$l.length,this.globalData.canvasContext.beginPath(),Ss=0;Ss<Es;Ss+=1)for(wl=$l[Ss],Is=wl.length,this.globalData.canvasContext.moveTo(wl[0],wl[1]),_s=2;_s<Is;_s+=6)this.globalData.canvasContext.bezierCurveTo(wl[_s],wl[_s+1],wl[_s+2],wl[_s+3],wl[_s+4],wl[_s+5]);this.globalData.canvasContext.closePath(),_l.ctxStroke()}Bs&&this.globalData.renderer.restore()}};function CVImageElement(vs,ms,ws){this.assetData=ms.getAssetData(vs.refId),this.img=ms.imageLoader.getAsset(this.assetData),this.initElement(vs,ms,ws)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var vs=createTag("canvas");vs.width=this.assetData.w,vs.height=this.assetData.h;var ms=vs.getContext("2d"),ws=this.img.width,Ss=this.img.height,Es=ws/Ss,_s=this.assetData.w/this.assetData.h,Is,Ts,Rs=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;Es>_s&&Rs==="xMidYMid slice"||Es<_s&&Rs!=="xMidYMid slice"?(Ts=Ss,Is=Ts*_s):(Is=ws,Ts=Is/_s),ms.drawImage(this.img,(ws-Is)/2,(Ss-Ts)/2,Is,Ts,0,0,this.assetData.w,this.assetData.h),this.img=vs}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(vs,ms,ws){this.initElement(vs,ms,ws)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(vs){return new CVShapeElement(vs,this.globalData,this)},CanvasRendererBase.prototype.createText=function(vs){return new CVTextElement(vs,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(vs){return new CVImageElement(vs,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(vs){return new CVSolidElement(vs,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(vs){vs[0]===1&&vs[1]===0&&vs[4]===0&&vs[5]===1&&vs[12]===0&&vs[13]===0||this.canvasContext.transform(vs[0],vs[1],vs[4],vs[5],vs[12],vs[13])},CanvasRendererBase.prototype.ctxOpacity=function(vs){this.canvasContext.globalAlpha*=vs<0?0:vs},CanvasRendererBase.prototype.ctxFillStyle=function(vs){this.canvasContext.fillStyle=vs},CanvasRendererBase.prototype.ctxStrokeStyle=function(vs){this.canvasContext.strokeStyle=vs},CanvasRendererBase.prototype.ctxLineWidth=function(vs){this.canvasContext.lineWidth=vs},CanvasRendererBase.prototype.ctxLineCap=function(vs){this.canvasContext.lineCap=vs},CanvasRendererBase.prototype.ctxLineJoin=function(vs){this.canvasContext.lineJoin=vs},CanvasRendererBase.prototype.ctxMiterLimit=function(vs){this.canvasContext.miterLimit=vs},CanvasRendererBase.prototype.ctxFill=function(vs){this.canvasContext.fill(vs)},CanvasRendererBase.prototype.ctxFillRect=function(vs,ms,ws,Ss){this.canvasContext.fillRect(vs,ms,ws,Ss)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(vs){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}vs&&(this.globalData.blendMode="source-over"),this.contextData.restore(vs)},CanvasRendererBase.prototype.configAnimation=function(vs){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var ms=this.animationItem.container.style;ms.width="100%",ms.height="100%";var ws="0px 0px 0px";ms.transformOrigin=ws,ms.mozTransformOrigin=ws,ms.webkitTransformOrigin=ws,ms["-webkit-transform"]=ws,ms.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=vs,this.layers=vs.layers,this.transformCanvas={w:vs.w,h:vs.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(vs,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(vs.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(vs,ms){this.reset();var ws,Ss;vs?(ws=vs,Ss=ms,this.canvasContext.canvas.width=ws,this.canvasContext.canvas.height=Ss):(this.animationItem.wrapper&&this.animationItem.container?(ws=this.animationItem.wrapper.offsetWidth,Ss=this.animationItem.wrapper.offsetHeight):(ws=this.canvasContext.canvas.width,Ss=this.canvasContext.canvas.height),this.canvasContext.canvas.width=ws*this.renderConfig.dpr,this.canvasContext.canvas.height=Ss*this.renderConfig.dpr);var Es,_s;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var Is=this.renderConfig.preserveAspectRatio.split(" "),Ts=Is[1]||"meet",Rs=Is[0]||"xMidYMid",Bs=Rs.substr(0,4),Ns=Rs.substr(4);Es=ws/Ss,_s=this.transformCanvas.w/this.transformCanvas.h,_s>Es&&Ts==="meet"||_s<Es&&Ts==="slice"?(this.transformCanvas.sx=ws/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=ws/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=Ss/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=Ss/(this.transformCanvas.h/this.renderConfig.dpr)),Bs==="xMid"&&(_s<Es&&Ts==="meet"||_s>Es&&Ts==="slice")?this.transformCanvas.tx=(ws-this.transformCanvas.w*(Ss/this.transformCanvas.h))/2*this.renderConfig.dpr:Bs==="xMax"&&(_s<Es&&Ts==="meet"||_s>Es&&Ts==="slice")?this.transformCanvas.tx=(ws-this.transformCanvas.w*(Ss/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,Ns==="YMid"&&(_s>Es&&Ts==="meet"||_s<Es&&Ts==="slice")?this.transformCanvas.ty=(Ss-this.transformCanvas.h*(ws/this.transformCanvas.w))/2*this.renderConfig.dpr:Ns==="YMax"&&(_s>Es&&Ts==="meet"||_s<Es&&Ts==="slice")?this.transformCanvas.ty=(Ss-this.transformCanvas.h*(ws/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=ws/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=Ss/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var vs,ms=this.layers?this.layers.length:0;for(vs=ms-1;vs>=0;vs-=1)this.elements[vs]&&this.elements[vs].destroy&&this.elements[vs].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(vs,ms){if(!(this.renderedFrame===vs&&this.renderConfig.clearCanvas===!0&&!ms||this.destroyed||vs===-1)){this.renderedFrame=vs,this.globalData.frameNum=vs-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||ms,this.globalData.projectInterface.currentFrame=vs;var ws,Ss=this.layers.length;for(this.completeLayers||this.checkLayers(vs),ws=Ss-1;ws>=0;ws-=1)(this.completeLayers||this.elements[ws])&&this.elements[ws].prepareFrame(vs-this.layers[ws].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),ws=Ss-1;ws>=0;ws-=1)(this.completeLayers||this.elements[ws])&&this.elements[ws].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(vs){var ms=this.elements;if(!(ms[vs]||this.layers[vs].ty===99)){var ws=this.createItem(this.layers[vs],this,this.globalData);ms[vs]=ws,ws.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var vs=this.pendingElements.pop();vs.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var vs,ms=15;for(vs=0;vs<ms;vs+=1){var ws=new CanvasContext;this.stack[vs]=ws}this._length=ms,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var vs=this._length*2,ms=0;for(ms=this._length;ms<vs;ms+=1)this.stack[ms]=new CanvasContext;this._length=vs},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(vs){this.cArrPos-=1;var ms=this.stack[this.cArrPos],ws=ms.transform,Ss,Es=this.cTr.props;for(Ss=0;Ss<16;Ss+=1)Es[Ss]=ws[Ss];if(vs){this.nativeContext.restore();var _s=this.stack[this.cArrPos+1];this.appliedFillStyle=_s.fillStyle,this.appliedStrokeStyle=_s.strokeStyle,this.appliedLineWidth=_s.lineWidth,this.appliedLineCap=_s.lineCap,this.appliedLineJoin=_s.lineJoin,this.appliedMiterLimit=_s.miterLimit}this.nativeContext.setTransform(ws[0],ws[1],ws[4],ws[5],ws[12],ws[13]),(vs||ms.opacity!==-1&&this.currentOpacity!==ms.opacity)&&(this.nativeContext.globalAlpha=ms.opacity,this.currentOpacity=ms.opacity),this.currentFillStyle=ms.fillStyle,this.currentStrokeStyle=ms.strokeStyle,this.currentLineWidth=ms.lineWidth,this.currentLineCap=ms.lineCap,this.currentLineJoin=ms.lineJoin,this.currentMiterLimit=ms.miterLimit},CVContextData.prototype.save=function(vs){vs&&this.nativeContext.save();var ms=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var ws=this.stack[this.cArrPos],Ss;for(Ss=0;Ss<16;Ss+=1)ws.transform[Ss]=ms[Ss];this.cArrPos+=1;var Es=this.stack[this.cArrPos];Es.opacity=ws.opacity,Es.fillStyle=ws.fillStyle,Es.strokeStyle=ws.strokeStyle,Es.lineWidth=ws.lineWidth,Es.lineCap=ws.lineCap,Es.lineJoin=ws.lineJoin,Es.miterLimit=ws.miterLimit},CVContextData.prototype.setOpacity=function(vs){this.stack[this.cArrPos].opacity=vs},CVContextData.prototype.setContext=function(vs){this.nativeContext=vs},CVContextData.prototype.fillStyle=function(vs){this.stack[this.cArrPos].fillStyle!==vs&&(this.currentFillStyle=vs,this.stack[this.cArrPos].fillStyle=vs)},CVContextData.prototype.strokeStyle=function(vs){this.stack[this.cArrPos].strokeStyle!==vs&&(this.currentStrokeStyle=vs,this.stack[this.cArrPos].strokeStyle=vs)},CVContextData.prototype.lineWidth=function(vs){this.stack[this.cArrPos].lineWidth!==vs&&(this.currentLineWidth=vs,this.stack[this.cArrPos].lineWidth=vs)},CVContextData.prototype.lineCap=function(vs){this.stack[this.cArrPos].lineCap!==vs&&(this.currentLineCap=vs,this.stack[this.cArrPos].lineCap=vs)},CVContextData.prototype.lineJoin=function(vs){this.stack[this.cArrPos].lineJoin!==vs&&(this.currentLineJoin=vs,this.stack[this.cArrPos].lineJoin=vs)},CVContextData.prototype.miterLimit=function(vs){this.stack[this.cArrPos].miterLimit!==vs&&(this.currentMiterLimit=vs,this.stack[this.cArrPos].miterLimit=vs)},CVContextData.prototype.transform=function(vs){this.transformMat.cloneFromProps(vs);var ms=this.cTr;this.transformMat.multiply(ms),ms.cloneFromProps(this.transformMat.props);var ws=ms.props;this.nativeContext.setTransform(ws[0],ws[1],ws[4],ws[5],ws[12],ws[13])},CVContextData.prototype.opacity=function(vs){var ms=this.stack[this.cArrPos].opacity;ms*=vs<0?0:vs,this.stack[this.cArrPos].opacity!==ms&&(this.currentOpacity!==vs&&(this.nativeContext.globalAlpha=vs,this.currentOpacity=vs),this.stack[this.cArrPos].opacity=ms)},CVContextData.prototype.fill=function(vs){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(vs)},CVContextData.prototype.fillRect=function(vs,ms,ws,Ss){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(vs,ms,ws,Ss)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(vs,ms,ws){this.completeLayers=!1,this.layers=vs.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(vs,ms,ws),this.tm=vs.tm?PropertyFactory.getProp(this,vs.tm,0,ms.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var vs=this.canvasContext;vs.beginPath(),vs.moveTo(0,0),vs.lineTo(this.data.w,0),vs.lineTo(this.data.w,this.data.h),vs.lineTo(0,this.data.h),vs.lineTo(0,0),vs.clip();var ms,ws=this.layers.length;for(ms=ws-1;ms>=0;ms-=1)(this.completeLayers||this.elements[ms])&&this.elements[ms].renderFrame()},CVCompElement.prototype.destroy=function(){var vs,ms=this.layers.length;for(vs=ms-1;vs>=0;vs-=1)this.elements[vs]&&this.elements[vs].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(vs){return new CVCompElement(vs,this.globalData,this)};function CanvasRenderer(vs,ms){this.animationItem=vs,this.renderConfig={clearCanvas:ms&&ms.clearCanvas!==void 0?ms.clearCanvas:!0,context:ms&&ms.context||null,progressiveLoad:ms&&ms.progressiveLoad||!1,preserveAspectRatio:ms&&ms.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:ms&&ms.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:ms&&ms.contentVisibility||"visible",className:ms&&ms.className||"",id:ms&&ms.id||"",runExpressions:!ms||ms.runExpressions===void 0||ms.runExpressions},this.renderConfig.dpr=ms&&ms.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=ms&&ms.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(vs){return new CVCompElement(vs,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var ms=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var ws=this.finalTransform.mat.toCSS();ms.transform=ws,ms.webkitTransform=ws}this.finalTransform._opMdf&&(ms.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(vs,ms,ws){this.initElement(vs,ms,ws)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var vs;this.data.hasMask?(vs=createNS("rect"),vs.setAttribute("width",this.data.sw),vs.setAttribute("height",this.data.sh),vs.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(vs=createTag("div"),vs.style.width=this.data.sw+"px",vs.style.height=this.data.sh+"px",vs.style.backgroundColor=this.data.sc),this.layerElement.appendChild(vs)};function HShapeElement(vs,ms,ws){this.shapes=[],this.shapesData=vs.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(vs,ms,ws),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var vs;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),vs=this.svgElement;else{vs=createNS("svg");var ms=this.comp.data?this.comp.data:this.globalData.compSize;vs.setAttribute("width",ms.w),vs.setAttribute("height",ms.h),vs.appendChild(this.shapesContainer),this.layerElement.appendChild(vs)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=vs},HShapeElement.prototype.getTransformedPoint=function(vs,ms){var ws,Ss=vs.length;for(ws=0;ws<Ss;ws+=1)ms=vs[ws].mProps.v.applyToPointArray(ms[0],ms[1],0);return ms},HShapeElement.prototype.calculateShapeBoundingBox=function(vs,ms){var ws=vs.sh.v,Ss=vs.transformers,Es,_s=ws._length,Is,Ts,Rs,Bs;if(!(_s<=1)){for(Es=0;Es<_s-1;Es+=1)Is=this.getTransformedPoint(Ss,ws.v[Es]),Ts=this.getTransformedPoint(Ss,ws.o[Es]),Rs=this.getTransformedPoint(Ss,ws.i[Es+1]),Bs=this.getTransformedPoint(Ss,ws.v[Es+1]),this.checkBounds(Is,Ts,Rs,Bs,ms);ws.c&&(Is=this.getTransformedPoint(Ss,ws.v[Es]),Ts=this.getTransformedPoint(Ss,ws.o[Es]),Rs=this.getTransformedPoint(Ss,ws.i[0]),Bs=this.getTransformedPoint(Ss,ws.v[0]),this.checkBounds(Is,Ts,Rs,Bs,ms))}},HShapeElement.prototype.checkBounds=function(vs,ms,ws,Ss,Es){this.getBoundsOfCurve(vs,ms,ws,Ss);var _s=this.shapeBoundingBox;Es.x=bmMin(_s.left,Es.x),Es.xMax=bmMax(_s.right,Es.xMax),Es.y=bmMin(_s.top,Es.y),Es.yMax=bmMax(_s.bottom,Es.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(vs,ms,ws,Ss){for(var Es=[[vs[0],Ss[0]],[vs[1],Ss[1]]],_s,Is,Ts,Rs,Bs,Ns,Ws,Js=0;Js<2;++Js)Is=6*vs[Js]-12*ms[Js]+6*ws[Js],_s=-3*vs[Js]+9*ms[Js]-9*ws[Js]+3*Ss[Js],Ts=3*ms[Js]-3*vs[Js],Is|=0,_s|=0,Ts|=0,_s===0&&Is===0||(_s===0?(Rs=-Ts/Is,Rs>0&&Rs<1&&Es[Js].push(this.calculateF(Rs,vs,ms,ws,Ss,Js))):(Bs=Is*Is-4*Ts*_s,Bs>=0&&(Ns=(-Is+bmSqrt(Bs))/(2*_s),Ns>0&&Ns<1&&Es[Js].push(this.calculateF(Ns,vs,ms,ws,Ss,Js)),Ws=(-Is-bmSqrt(Bs))/(2*_s),Ws>0&&Ws<1&&Es[Js].push(this.calculateF(Ws,vs,ms,ws,Ss,Js)))));this.shapeBoundingBox.left=bmMin.apply(null,Es[0]),this.shapeBoundingBox.top=bmMin.apply(null,Es[1]),this.shapeBoundingBox.right=bmMax.apply(null,Es[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,Es[1])},HShapeElement.prototype.calculateF=function(vs,ms,ws,Ss,Es,_s){return bmPow(1-vs,3)*ms[_s]+3*bmPow(1-vs,2)*vs*ws[_s]+3*(1-vs)*bmPow(vs,2)*Ss[_s]+bmPow(vs,3)*Es[_s]},HShapeElement.prototype.calculateBoundingBox=function(vs,ms){var ws,Ss=vs.length;for(ws=0;ws<Ss;ws+=1)vs[ws]&&vs[ws].sh?this.calculateShapeBoundingBox(vs[ws],ms):vs[ws]&&vs[ws].it?this.calculateBoundingBox(vs[ws].it,ms):vs[ws]&&vs[ws].style&&vs[ws].w&&this.expandStrokeBoundingBox(vs[ws].w,ms)},HShapeElement.prototype.expandStrokeBoundingBox=function(vs,ms){var ws=0;if(vs.keyframes){for(var Ss=0;Ss<vs.keyframes.length;Ss+=1){var Es=vs.keyframes[Ss].s;Es>ws&&(ws=Es)}ws*=vs.mult}else ws=vs.v*vs.mult;ms.x-=ws,ms.xMax+=ws,ms.y-=ws,ms.yMax+=ws},HShapeElement.prototype.currentBoxContains=function(vs){return this.currentBBox.x<=vs.x&&this.currentBBox.y<=vs.y&&this.currentBBox.width+this.currentBBox.x>=vs.x+vs.width&&this.currentBBox.height+this.currentBBox.y>=vs.y+vs.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var vs=this.tempBoundingBox,ms=999999;if(vs.x=ms,vs.xMax=-ms,vs.y=ms,vs.yMax=-ms,this.calculateBoundingBox(this.itemsData,vs),vs.width=vs.xMax<vs.x?0:vs.xMax-vs.x,vs.height=vs.yMax<vs.y?0:vs.yMax-vs.y,this.currentBoxContains(vs))return;var ws=!1;if(this.currentBBox.w!==vs.width&&(this.currentBBox.w=vs.width,this.shapeCont.setAttribute("width",vs.width),ws=!0),this.currentBBox.h!==vs.height&&(this.currentBBox.h=vs.height,this.shapeCont.setAttribute("height",vs.height),ws=!0),ws||this.currentBBox.x!==vs.x||this.currentBBox.y!==vs.y){this.currentBBox.w=vs.width,this.currentBBox.h=vs.height,this.currentBBox.x=vs.x,this.currentBBox.y=vs.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var Ss=this.shapeCont.style,Es="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";Ss.transform=Es,Ss.webkitTransform=Es}}};function HTextElement(vs,ms,ws){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(vs,ms,ws)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var vs=createNS("g");this.maskedElement.appendChild(vs),this.innerElem=vs}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var vs=this.textProperty.currentData;this.renderedLetters=createSizedArray(vs.l?vs.l.length:0);var ms=this.innerElem.style,ws=vs.fc?this.buildColor(vs.fc):"rgba(0,0,0,0)";ms.fill=ws,ms.color=ws,vs.sc&&(ms.stroke=this.buildColor(vs.sc),ms.strokeWidth=vs.sw+"px");var Ss=this.globalData.fontManager.getFontByName(vs.f);if(!this.globalData.fontManager.chars)if(ms.fontSize=vs.finalSize+"px",ms.lineHeight=vs.finalSize+"px",Ss.fClass)this.innerElem.className=Ss.fClass;else{ms.fontFamily=Ss.fFamily;var Es=vs.fWeight,_s=vs.fStyle;ms.fontStyle=_s,ms.fontWeight=Es}var Is,Ts,Rs=vs.l;Ts=Rs.length;var Bs,Ns,Ws,Js=this.mHelper,$l,wl="",_l=0;for(Is=0;Is<Ts;Is+=1){if(this.globalData.fontManager.chars?(this.textPaths[_l]?Bs=this.textPaths[_l]:(Bs=createNS("path"),Bs.setAttribute("stroke-linecap",lineCapEnum[1]),Bs.setAttribute("stroke-linejoin",lineJoinEnum[2]),Bs.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[_l]?(Ns=this.textSpans[_l],Ws=Ns.children[0]):(Ns=createTag("div"),Ns.style.lineHeight=0,Ws=createNS("svg"),Ws.appendChild(Bs),styleDiv(Ns)))):this.isMasked?Bs=this.textPaths[_l]?this.textPaths[_l]:createNS("text"):this.textSpans[_l]?(Ns=this.textSpans[_l],Bs=this.textPaths[_l]):(Ns=createTag("span"),styleDiv(Ns),Bs=createTag("span"),styleDiv(Bs),Ns.appendChild(Bs)),this.globalData.fontManager.chars){var Cl=this.globalData.fontManager.getCharData(vs.finalText[Is],Ss.fStyle,this.globalData.fontManager.getFontByName(vs.f).fFamily),Sl;if(Cl?Sl=Cl.data:Sl=null,Js.reset(),Sl&&Sl.shapes&&Sl.shapes.length&&($l=Sl.shapes[0].it,Js.scale(vs.finalSize/100,vs.finalSize/100),wl=this.createPathShape(Js,$l),Bs.setAttribute("d",wl)),this.isMasked)this.innerElem.appendChild(Bs);else{if(this.innerElem.appendChild(Ns),Sl&&Sl.shapes){document.body.appendChild(Ws);var El=Ws.getBBox();Ws.setAttribute("width",El.width+2),Ws.setAttribute("height",El.height+2),Ws.setAttribute("viewBox",El.x-1+" "+(El.y-1)+" "+(El.width+2)+" "+(El.height+2));var xl=Ws.style,Ml="translate("+(El.x-1)+"px,"+(El.y-1)+"px)";xl.transform=Ml,xl.webkitTransform=Ml,Rs[Is].yOffset=El.y-1}else Ws.setAttribute("width",1),Ws.setAttribute("height",1);Ns.appendChild(Ws)}}else if(Bs.textContent=Rs[Is].val,Bs.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(Bs);else{this.innerElem.appendChild(Ns);var Vl=Bs.style,Ul="translate3d(0,"+-vs.finalSize/1.2+"px,0)";Vl.transform=Ul,Vl.webkitTransform=Ul}this.isMasked?this.textSpans[_l]=Bs:this.textSpans[_l]=Ns,this.textSpans[_l].style.display="block",this.textPaths[_l]=Bs,_l+=1}for(;_l<this.textSpans.length;)this.textSpans[_l].style.display="none",_l+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var vs;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),vs=this.svgElement.style;var ms="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";vs.transform=ms,vs.webkitTransform=ms}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var ws,Ss,Es=0,_s=this.textAnimator.renderedLetters,Is=this.textProperty.currentData.l;Ss=Is.length;var Ts,Rs,Bs;for(ws=0;ws<Ss;ws+=1)Is[ws].n?Es+=1:(Rs=this.textSpans[ws],Bs=this.textPaths[ws],Ts=_s[Es],Es+=1,Ts._mdf.m&&(this.isMasked?Rs.setAttribute("transform",Ts.m):(Rs.style.webkitTransform=Ts.m,Rs.style.transform=Ts.m)),Rs.style.opacity=Ts.o,Ts.sw&&Ts._mdf.sw&&Bs.setAttribute("stroke-width",Ts.sw),Ts.sc&&Ts._mdf.sc&&Bs.setAttribute("stroke",Ts.sc),Ts.fc&&Ts._mdf.fc&&(Bs.setAttribute("fill",Ts.fc),Bs.style.color=Ts.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var Ns=this.innerElem.getBBox();this.currentBBox.w!==Ns.width&&(this.currentBBox.w=Ns.width,this.svgElement.setAttribute("width",Ns.width)),this.currentBBox.h!==Ns.height&&(this.currentBBox.h=Ns.height,this.svgElement.setAttribute("height",Ns.height));var Ws=1;if(this.currentBBox.w!==Ns.width+Ws*2||this.currentBBox.h!==Ns.height+Ws*2||this.currentBBox.x!==Ns.x-Ws||this.currentBBox.y!==Ns.y-Ws){this.currentBBox.w=Ns.width+Ws*2,this.currentBBox.h=Ns.height+Ws*2,this.currentBBox.x=Ns.x-Ws,this.currentBBox.y=Ns.y-Ws,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),vs=this.svgElement.style;var Js="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";vs.transform=Js,vs.webkitTransform=Js}}}};function HCameraElement(vs,ms,ws){this.initFrame(),this.initBaseData(vs,ms,ws),this.initHierarchy();var Ss=PropertyFactory.getProp;if(this.pe=Ss(this,vs.pe,0,0,this),vs.ks.p.s?(this.px=Ss(this,vs.ks.p.x,1,0,this),this.py=Ss(this,vs.ks.p.y,1,0,this),this.pz=Ss(this,vs.ks.p.z,1,0,this)):this.p=Ss(this,vs.ks.p,1,0,this),vs.ks.a&&(this.a=Ss(this,vs.ks.a,1,0,this)),vs.ks.or.k.length&&vs.ks.or.k[0].to){var Es,_s=vs.ks.or.k.length;for(Es=0;Es<_s;Es+=1)vs.ks.or.k[Es].to=null,vs.ks.or.k[Es].ti=null}this.or=Ss(this,vs.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=Ss(this,vs.ks.rx,0,degToRads,this),this.ry=Ss(this,vs.ks.ry,0,degToRads,this),this.rz=Ss(this,vs.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var vs,ms=this.comp.threeDElements.length,ws,Ss,Es;for(vs=0;vs<ms;vs+=1)if(ws=this.comp.threeDElements[vs],ws.type==="3d"){Ss=ws.perspectiveElem.style,Es=ws.container.style;var _s=this.pe.v+"px",Is="0px 0px 0px",Ts="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";Ss.perspective=_s,Ss.webkitPerspective=_s,Es.transformOrigin=Is,Es.mozTransformOrigin=Is,Es.webkitTransformOrigin=Is,Ss.transform=Ts,Ss.webkitTransform=Ts}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var vs=this._isFirstFrame,ms,ws;if(this.hierarchy)for(ws=this.hierarchy.length,ms=0;ms<ws;ms+=1)vs=this.hierarchy[ms].finalTransform.mProp._mdf||vs;if(vs||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(ws=this.hierarchy.length-1,ms=ws;ms>=0;ms-=1){var Ss=this.hierarchy[ms].finalTransform.mProp;this.mat.translate(-Ss.p.v[0],-Ss.p.v[1],Ss.p.v[2]),this.mat.rotateX(-Ss.or.v[0]).rotateY(-Ss.or.v[1]).rotateZ(Ss.or.v[2]),this.mat.rotateX(-Ss.rx.v).rotateY(-Ss.ry.v).rotateZ(Ss.rz.v),this.mat.scale(1/Ss.s.v[0],1/Ss.s.v[1],1/Ss.s.v[2]),this.mat.translate(Ss.a.v[0],Ss.a.v[1],Ss.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var Es;this.p?Es=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:Es=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var _s=Math.sqrt(Math.pow(Es[0],2)+Math.pow(Es[1],2)+Math.pow(Es[2],2)),Is=[Es[0]/_s,Es[1]/_s,Es[2]/_s],Ts=Math.sqrt(Is[2]*Is[2]+Is[0]*Is[0]),Rs=Math.atan2(Is[1],Ts),Bs=Math.atan2(Is[0],-Is[2]);this.mat.rotateY(Bs).rotateX(-Rs)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var Ns=!this._prevMat.equals(this.mat);if((Ns||this.pe._mdf)&&this.comp.threeDElements){ws=this.comp.threeDElements.length;var Ws,Js,$l;for(ms=0;ms<ws;ms+=1)if(Ws=this.comp.threeDElements[ms],Ws.type==="3d"){if(Ns){var wl=this.mat.toCSS();$l=Ws.container.style,$l.transform=wl,$l.webkitTransform=wl}this.pe._mdf&&(Js=Ws.perspectiveElem.style,Js.perspective=this.pe.v+"px",Js.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(vs){this.prepareProperties(vs,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(vs,ms,ws){this.assetData=ms.getAssetData(vs.refId),this.initElement(vs,ms,ws)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var vs=this.globalData.getAssetsPath(this.assetData),ms=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",vs),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(ms),ms.crossOrigin="anonymous",ms.src=vs,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(vs,ms){this.animationItem=vs,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:ms&&ms.className||"",imagePreserveAspectRatio:ms&&ms.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(ms&&ms.hideOnTransparent===!1),filterSize:{width:ms&&ms.filterSize&&ms.filterSize.width||"400%",height:ms&&ms.filterSize&&ms.filterSize.height||"400%",x:ms&&ms.filterSize&&ms.filterSize.x||"-100%",y:ms&&ms.filterSize&&ms.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var vs=this.pendingElements.pop();vs.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(vs,ms){var ws=vs.getBaseElement();if(ws){var Ss=this.layers[ms];if(!Ss.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(ws,ms);else{for(var Es=0,_s,Is,Ts;Es<ms;)this.elements[Es]&&this.elements[Es]!==!0&&this.elements[Es].getBaseElement&&(Is=this.elements[Es],Ts=this.layers[Es].ddd?this.getThreeDContainerByPos(Es):Is.getBaseElement(),_s=Ts||_s),Es+=1;_s?(!Ss.ddd||!this.supports3d)&&this.layerElement.insertBefore(ws,_s):(!Ss.ddd||!this.supports3d)&&this.layerElement.appendChild(ws)}else this.addTo3dContainer(ws,ms)}},HybridRendererBase.prototype.createShape=function(vs){return this.supports3d?new HShapeElement(vs,this.globalData,this):new SVGShapeElement(vs,this.globalData,this)},HybridRendererBase.prototype.createText=function(vs){return this.supports3d?new HTextElement(vs,this.globalData,this):new SVGTextLottieElement(vs,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(vs){return this.camera=new HCameraElement(vs,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(vs){return this.supports3d?new HImageElement(vs,this.globalData,this):new IImageElement(vs,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(vs){return this.supports3d?new HSolidElement(vs,this.globalData,this):new ISolidElement(vs,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(vs){for(var ms=0,ws=this.threeDElements.length;ms<ws;){if(this.threeDElements[ms].startPos<=vs&&this.threeDElements[ms].endPos>=vs)return this.threeDElements[ms].perspectiveElem;ms+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(vs,ms){var ws=createTag("div"),Ss,Es;styleDiv(ws);var _s=createTag("div");if(styleDiv(_s),ms==="3d"){Ss=ws.style,Ss.width=this.globalData.compSize.w+"px",Ss.height=this.globalData.compSize.h+"px";var Is="50% 50%";Ss.webkitTransformOrigin=Is,Ss.mozTransformOrigin=Is,Ss.transformOrigin=Is,Es=_s.style;var Ts="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";Es.transform=Ts,Es.webkitTransform=Ts}ws.appendChild(_s);var Rs={container:_s,perspectiveElem:ws,startPos:vs,endPos:vs,type:ms};return this.threeDElements.push(Rs),Rs},HybridRendererBase.prototype.build3dContainers=function(){var vs,ms=this.layers.length,ws,Ss="";for(vs=0;vs<ms;vs+=1)this.layers[vs].ddd&&this.layers[vs].ty!==3?(Ss!=="3d"&&(Ss="3d",ws=this.createThreeDContainer(vs,"3d")),ws.endPos=Math.max(ws.endPos,vs)):(Ss!=="2d"&&(Ss="2d",ws=this.createThreeDContainer(vs,"2d")),ws.endPos=Math.max(ws.endPos,vs));for(ms=this.threeDElements.length,vs=ms-1;vs>=0;vs-=1)this.resizerElem.appendChild(this.threeDElements[vs].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(vs,ms){for(var ws=0,Ss=this.threeDElements.length;ws<Ss;){if(ms<=this.threeDElements[ws].endPos){for(var Es=this.threeDElements[ws].startPos,_s;Es<ms;)this.elements[Es]&&this.elements[Es].getBaseElement&&(_s=this.elements[Es].getBaseElement()),Es+=1;_s?this.threeDElements[ws].container.insertBefore(vs,_s):this.threeDElements[ws].container.appendChild(vs);break}ws+=1}},HybridRendererBase.prototype.configAnimation=function(vs){var ms=createTag("div"),ws=this.animationItem.wrapper,Ss=ms.style;Ss.width=vs.w+"px",Ss.height=vs.h+"px",this.resizerElem=ms,styleDiv(ms),Ss.transformStyle="flat",Ss.mozTransformStyle="flat",Ss.webkitTransformStyle="flat",this.renderConfig.className&&ms.setAttribute("class",this.renderConfig.className),ws.appendChild(ms),Ss.overflow="hidden";var Es=createNS("svg");Es.setAttribute("width","1"),Es.setAttribute("height","1"),styleDiv(Es),this.resizerElem.appendChild(Es);var _s=createNS("defs");Es.appendChild(_s),this.data=vs,this.setupGlobalData(vs,Es),this.globalData.defs=_s,this.layers=vs.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var vs,ms=this.layers?this.layers.length:0;for(vs=0;vs<ms;vs+=1)this.elements[vs]&&this.elements[vs].destroy&&this.elements[vs].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var vs=this.animationItem.wrapper.offsetWidth,ms=this.animationItem.wrapper.offsetHeight,ws=vs/ms,Ss=this.globalData.compSize.w/this.globalData.compSize.h,Es,_s,Is,Ts;Ss>ws?(Es=vs/this.globalData.compSize.w,_s=vs/this.globalData.compSize.w,Is=0,Ts=(ms-this.globalData.compSize.h*(vs/this.globalData.compSize.w))/2):(Es=ms/this.globalData.compSize.h,_s=ms/this.globalData.compSize.h,Is=(vs-this.globalData.compSize.w*(ms/this.globalData.compSize.h))/2,Ts=0);var Rs=this.resizerElem.style;Rs.webkitTransform="matrix3d("+Es+",0,0,0,0,"+_s+",0,0,0,0,1,0,"+Is+","+Ts+",0,1)",Rs.transform=Rs.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var vs=this.globalData.compSize.w,ms=this.globalData.compSize.h,ws,Ss=this.threeDElements.length;for(ws=0;ws<Ss;ws+=1){var Es=this.threeDElements[ws].perspectiveElem.style;Es.webkitPerspective=Math.sqrt(Math.pow(vs,2)+Math.pow(ms,2))+"px",Es.perspective=Es.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(vs){var ms,ws=vs.length,Ss=createTag("div");for(ms=0;ms<ws;ms+=1)if(vs[ms].xt){var Es=this.createComp(vs[ms],Ss,this.globalData.comp,null);Es.initExpressions(),this.globalData.projectInterface.registerComposition(Es)}};function HCompElement(vs,ms,ws){this.layers=vs.layers,this.supports3d=!vs.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(vs,ms,ws),this.tm=vs.tm?PropertyFactory.getProp(this,vs.tm,0,ms.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(vs,ms){for(var ws=0,Ss;ws<ms;)this.elements[ws]&&this.elements[ws].getBaseElement&&(Ss=this.elements[ws].getBaseElement()),ws+=1;Ss?this.layerElement.insertBefore(vs,Ss):this.layerElement.appendChild(vs)},HCompElement.prototype.createComp=function(vs){return this.supports3d?new HCompElement(vs,this.globalData,this):new SVGCompElement(vs,this.globalData,this)};function HybridRenderer(vs,ms){this.animationItem=vs,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:ms&&ms.className||"",imagePreserveAspectRatio:ms&&ms.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(ms&&ms.hideOnTransparent===!1),filterSize:{width:ms&&ms.filterSize&&ms.filterSize.width||"400%",height:ms&&ms.filterSize&&ms.filterSize.height||"400%",x:ms&&ms.filterSize&&ms.filterSize.x||"-100%",y:ms&&ms.filterSize&&ms.filterSize.y||"-100%"},runExpressions:!ms||ms.runExpressions===void 0||ms.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(vs){return this.supports3d?new HCompElement(vs,this.globalData,this):new SVGCompElement(vs,this.globalData,this)};var CompExpressionInterface=function(){return function(vs){function ms(ws){for(var Ss=0,Es=vs.layers.length;Ss<Es;){if(vs.layers[Ss].nm===ws||vs.layers[Ss].ind===ws)return vs.elements[Ss].layerInterface;Ss+=1}return null}return Object.defineProperty(ms,"_name",{value:vs.data.nm}),ms.layer=ms,ms.pixelAspect=1,ms.height=vs.data.h||vs.globalData.compSize.h,ms.width=vs.data.w||vs.globalData.compSize.w,ms.pixelAspect=1,ms.frameDuration=1/vs.globalData.frameRate,ms.displayStartTime=0,ms.numLayers=vs.layers.length,ms}}();function _typeof$2(vs){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ms){return typeof ms}:function(ms){return ms&&typeof Symbol=="function"&&ms.constructor===Symbol&&ms!==Symbol.prototype?"symbol":typeof ms},_typeof$2(vs)}function seedRandom(vs,ms){var ws=this,Ss=256,Es=6,_s=52,Is="random",Ts=ms.pow(Ss,Es),Rs=ms.pow(2,_s),Bs=Rs*2,Ns=Ss-1,Ws;function Js(xl,Ml,Vl){var Ul=[];Ml=Ml===!0?{entropy:!0}:Ml||{};var _h=Cl(_l(Ml.entropy?[xl,El(vs)]:xl===null?Sl():xl,3),Ul),nu=new $l(Ul),su=function(){for(var Il=nu.g(Es),Nl=Ts,Ol=0;Il<Rs;)Il=(Il+Ol)*Ss,Nl*=Ss,Ol=nu.g(1);for(;Il>=Bs;)Il/=2,Nl/=2,Ol>>>=1;return(Il+Ol)/Nl};return su.int32=function(){return nu.g(4)|0},su.quick=function(){return nu.g(4)/4294967296},su.double=su,Cl(El(nu.S),vs),(Ml.pass||Vl||function(Jl,Il,Nl,Ol){return Ol&&(Ol.S&&wl(Ol,nu),Jl.state=function(){return wl(nu,{})}),Nl?(ms[Is]=Jl,Il):Jl})(su,_h,"global"in Ml?Ml.global:this==ms,Ml.state)}ms["seed"+Is]=Js;function $l(xl){var Ml,Vl=xl.length,Ul=this,_h=0,nu=Ul.i=Ul.j=0,su=Ul.S=[];for(Vl||(xl=[Vl++]);_h<Ss;)su[_h]=_h++;for(_h=0;_h<Ss;_h++)su[_h]=su[nu=Ns&nu+xl[_h%Vl]+(Ml=su[_h])],su[nu]=Ml;Ul.g=function(Jl){for(var Il,Nl=0,Ol=Ul.i,Gl=Ul.j,Fl=Ul.S;Jl--;)Il=Fl[Ol=Ns&Ol+1],Nl=Nl*Ss+Fl[Ns&(Fl[Ol]=Fl[Gl=Ns&Gl+Il])+(Fl[Gl]=Il)];return Ul.i=Ol,Ul.j=Gl,Nl}}function wl(xl,Ml){return Ml.i=xl.i,Ml.j=xl.j,Ml.S=xl.S.slice(),Ml}function _l(xl,Ml){var Vl=[],Ul=_typeof$2(xl),_h;if(Ml&&Ul=="object")for(_h in xl)try{Vl.push(_l(xl[_h],Ml-1))}catch{}return Vl.length?Vl:Ul=="string"?xl:xl+"\0"}function Cl(xl,Ml){for(var Vl=xl+"",Ul,_h=0;_h<Vl.length;)Ml[Ns&_h]=Ns&(Ul^=Ml[Ns&_h]*19)+Vl.charCodeAt(_h++);return El(Ml)}function Sl(){try{var xl=new Uint8Array(Ss);return(ws.crypto||ws.msCrypto).getRandomValues(xl),El(xl)}catch{var Ml=ws.navigator,Vl=Ml&&Ml.plugins;return[+new Date,ws,Vl,ws.screen,El(vs)]}}function El(xl){return String.fromCharCode.apply(0,xl)}Cl(ms.random(),vs)}function initialize$2(vs){seedRandom([],vs)}var propTypes={SHAPE:"shape"};function _typeof$1(vs){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ms){return typeof ms}:function(ms){return ms&&typeof Symbol=="function"&&ms.constructor===Symbol&&ms!==Symbol.prototype?"symbol":typeof ms},_typeof$1(vs)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(vs){return vs.constructor===Array||vs.constructor===Float32Array}function isNumerable(vs,ms){return vs==="number"||ms instanceof Number||vs==="boolean"||vs==="string"}function $bm_neg(vs){var ms=_typeof$1(vs);if(ms==="number"||vs instanceof Number||ms==="boolean")return-vs;if($bm_isInstanceOfArray(vs)){var ws,Ss=vs.length,Es=[];for(ws=0;ws<Ss;ws+=1)Es[ws]=-vs[ws];return Es}return vs.propType?vs.v:-vs}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(vs,ms){var ws=_typeof$1(vs),Ss=_typeof$1(ms);if(isNumerable(ws,vs)&&isNumerable(Ss,ms)||ws==="string"||Ss==="string")return vs+ms;if($bm_isInstanceOfArray(vs)&&isNumerable(Ss,ms))return vs=vs.slice(0),vs[0]+=ms,vs;if(isNumerable(ws,vs)&&$bm_isInstanceOfArray(ms))return ms=ms.slice(0),ms[0]=vs+ms[0],ms;if($bm_isInstanceOfArray(vs)&&$bm_isInstanceOfArray(ms)){for(var Es=0,_s=vs.length,Is=ms.length,Ts=[];Es<_s||Es<Is;)(typeof vs[Es]=="number"||vs[Es]instanceof Number)&&(typeof ms[Es]=="number"||ms[Es]instanceof Number)?Ts[Es]=vs[Es]+ms[Es]:Ts[Es]=ms[Es]===void 0?vs[Es]:vs[Es]||ms[Es],Es+=1;return Ts}return 0}var add=sum;function sub(vs,ms){var ws=_typeof$1(vs),Ss=_typeof$1(ms);if(isNumerable(ws,vs)&&isNumerable(Ss,ms))return ws==="string"&&(vs=parseInt(vs,10)),Ss==="string"&&(ms=parseInt(ms,10)),vs-ms;if($bm_isInstanceOfArray(vs)&&isNumerable(Ss,ms))return vs=vs.slice(0),vs[0]-=ms,vs;if(isNumerable(ws,vs)&&$bm_isInstanceOfArray(ms))return ms=ms.slice(0),ms[0]=vs-ms[0],ms;if($bm_isInstanceOfArray(vs)&&$bm_isInstanceOfArray(ms)){for(var Es=0,_s=vs.length,Is=ms.length,Ts=[];Es<_s||Es<Is;)(typeof vs[Es]=="number"||vs[Es]instanceof Number)&&(typeof ms[Es]=="number"||ms[Es]instanceof Number)?Ts[Es]=vs[Es]-ms[Es]:Ts[Es]=ms[Es]===void 0?vs[Es]:vs[Es]||ms[Es],Es+=1;return Ts}return 0}function mul(vs,ms){var ws=_typeof$1(vs),Ss=_typeof$1(ms),Es;if(isNumerable(ws,vs)&&isNumerable(Ss,ms))return vs*ms;var _s,Is;if($bm_isInstanceOfArray(vs)&&isNumerable(Ss,ms)){for(Is=vs.length,Es=createTypedArray("float32",Is),_s=0;_s<Is;_s+=1)Es[_s]=vs[_s]*ms;return Es}if(isNumerable(ws,vs)&&$bm_isInstanceOfArray(ms)){for(Is=ms.length,Es=createTypedArray("float32",Is),_s=0;_s<Is;_s+=1)Es[_s]=vs*ms[_s];return Es}return 0}function div(vs,ms){var ws=_typeof$1(vs),Ss=_typeof$1(ms),Es;if(isNumerable(ws,vs)&&isNumerable(Ss,ms))return vs/ms;var _s,Is;if($bm_isInstanceOfArray(vs)&&isNumerable(Ss,ms)){for(Is=vs.length,Es=createTypedArray("float32",Is),_s=0;_s<Is;_s+=1)Es[_s]=vs[_s]/ms;return Es}if(isNumerable(ws,vs)&&$bm_isInstanceOfArray(ms)){for(Is=ms.length,Es=createTypedArray("float32",Is),_s=0;_s<Is;_s+=1)Es[_s]=vs/ms[_s];return Es}return 0}function mod(vs,ms){return typeof vs=="string"&&(vs=parseInt(vs,10)),typeof ms=="string"&&(ms=parseInt(ms,10)),vs%ms}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(vs,ms,ws){if(ms>ws){var Ss=ws;ws=ms,ms=Ss}return Math.min(Math.max(vs,ms),ws)}function radiansToDegrees(vs){return vs/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(vs){return vs*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(vs,ms){if(typeof vs=="number"||vs instanceof Number)return ms=ms||0,Math.abs(vs-ms);ms||(ms=helperLengthArray);var ws,Ss=Math.min(vs.length,ms.length),Es=0;for(ws=0;ws<Ss;ws+=1)Es+=Math.pow(ms[ws]-vs[ws],2);return Math.sqrt(Es)}function normalize(vs){return div(vs,length(vs))}function rgbToHsl(vs){var ms=vs[0],ws=vs[1],Ss=vs[2],Es=Math.max(ms,ws,Ss),_s=Math.min(ms,ws,Ss),Is,Ts,Rs=(Es+_s)/2;if(Es===_s)Is=0,Ts=0;else{var Bs=Es-_s;switch(Ts=Rs>.5?Bs/(2-Es-_s):Bs/(Es+_s),Es){case ms:Is=(ws-Ss)/Bs+(ws<Ss?6:0);break;case ws:Is=(Ss-ms)/Bs+2;break;case Ss:Is=(ms-ws)/Bs+4;break}Is/=6}return[Is,Ts,Rs,vs[3]]}function hue2rgb(vs,ms,ws){return ws<0&&(ws+=1),ws>1&&(ws-=1),ws<1/6?vs+(ms-vs)*6*ws:ws<1/2?ms:ws<2/3?vs+(ms-vs)*(2/3-ws)*6:vs}function hslToRgb(vs){var ms=vs[0],ws=vs[1],Ss=vs[2],Es,_s,Is;if(ws===0)Es=Ss,Is=Ss,_s=Ss;else{var Ts=Ss<.5?Ss*(1+ws):Ss+ws-Ss*ws,Rs=2*Ss-Ts;Es=hue2rgb(Rs,Ts,ms+1/3),_s=hue2rgb(Rs,Ts,ms),Is=hue2rgb(Rs,Ts,ms-1/3)}return[Es,_s,Is,vs[3]]}function linear(vs,ms,ws,Ss,Es){if((Ss===void 0||Es===void 0)&&(Ss=ms,Es=ws,ms=0,ws=1),ws<ms){var _s=ws;ws=ms,ms=_s}if(vs<=ms)return Ss;if(vs>=ws)return Es;var Is=ws===ms?0:(vs-ms)/(ws-ms);if(!Ss.length)return Ss+(Es-Ss)*Is;var Ts,Rs=Ss.length,Bs=createTypedArray("float32",Rs);for(Ts=0;Ts<Rs;Ts+=1)Bs[Ts]=Ss[Ts]+(Es[Ts]-Ss[Ts])*Is;return Bs}function random(vs,ms){if(ms===void 0&&(vs===void 0?(vs=0,ms=1):(ms=vs,vs=void 0)),ms.length){var ws,Ss=ms.length;vs||(vs=createTypedArray("float32",Ss));var Es=createTypedArray("float32",Ss),_s=BMMath.random();for(ws=0;ws<Ss;ws+=1)Es[ws]=vs[ws]+_s*(ms[ws]-vs[ws]);return Es}vs===void 0&&(vs=0);var Is=BMMath.random();return vs+Is*(ms-vs)}function createPath(vs,ms,ws,Ss){var Es,_s=vs.length,Is=shapePool.newElement();Is.setPathData(!!Ss,_s);var Ts=[0,0],Rs,Bs;for(Es=0;Es<_s;Es+=1)Rs=ms&&ms[Es]?ms[Es]:Ts,Bs=ws&&ws[Es]?ws[Es]:Ts,Is.setTripleAt(vs[Es][0],vs[Es][1],Bs[0]+vs[Es][0],Bs[1]+vs[Es][1],Rs[0]+vs[Es][0],Rs[1]+vs[Es][1],Es,!0);return Is}function initiateExpression(elem,data,property){function noOp(vs){return vs}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function vs(ms,ws){var Ss,Es,_s=this.pv.length?this.pv.length:1,Is=createTypedArray("float32",_s);ms=5;var Ts=Math.floor(time*ms);for(Ss=0,Es=0;Ss<Ts;){for(Es=0;Es<_s;Es+=1)Is[Es]+=-ws+ws*2*BMMath.random();Ss+=1}var Rs=time*ms,Bs=Rs-Math.floor(Rs),Ns=createTypedArray("float32",_s);if(_s>1){for(Es=0;Es<_s;Es+=1)Ns[Es]=this.pv[Es]+Is[Es]+(-ws+ws*2*BMMath.random())*Bs;return Ns}return this.pv+Is[0]+(-ws+ws*2*BMMath.random())*Bs}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(vs,ms){return loopIn(vs,ms,!0)}function loopOutDuration(vs,ms){return loopOut(vs,ms,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(vs,ms){var ws=[ms[0]-vs[0],ms[1]-vs[1],ms[2]-vs[2]],Ss=Math.atan2(ws[0],Math.sqrt(ws[1]*ws[1]+ws[2]*ws[2]))/degToRads,Es=-Math.atan2(ws[1],ws[2])/degToRads;return[Es,Ss,0]}function easeOut(vs,ms,ws,Ss,Es){return applyEase(easeOutBez,vs,ms,ws,Ss,Es)}function easeIn(vs,ms,ws,Ss,Es){return applyEase(easeInBez,vs,ms,ws,Ss,Es)}function ease(vs,ms,ws,Ss,Es){return applyEase(easeInOutBez,vs,ms,ws,Ss,Es)}function applyEase(vs,ms,ws,Ss,Es,_s){Es===void 0?(Es=ws,_s=Ss):ms=(ms-ws)/(Ss-ws),ms>1?ms=1:ms<0&&(ms=0);var Is=vs(ms);if($bm_isInstanceOfArray(Es)){var Ts,Rs=Es.length,Bs=createTypedArray("float32",Rs);for(Ts=0;Ts<Rs;Ts+=1)Bs[Ts]=(_s[Ts]-Es[Ts])*Is+Es[Ts];return Bs}return(_s-Es)*Is+Es}function nearestKey(vs){var ms,ws=data.k.length,Ss,Es;if(!data.k.length||typeof data.k[0]=="number")Ss=0,Es=0;else if(Ss=-1,vs*=elem.comp.globalData.frameRate,vs<data.k[0].t)Ss=1,Es=data.k[0].t;else{for(ms=0;ms<ws-1;ms+=1)if(vs===data.k[ms].t){Ss=ms+1,Es=data.k[ms].t;break}else if(vs>data.k[ms].t&&vs<data.k[ms+1].t){vs-data.k[ms].t>data.k[ms+1].t-vs?(Ss=ms+2,Es=data.k[ms+1].t):(Ss=ms+1,Es=data.k[ms].t);break}Ss===-1&&(Ss=ms+1,Es=data.k[ms].t)}var _s={};return _s.index=Ss,_s.time=Es/elem.comp.globalData.frameRate,_s}function key(vs){var ms,ws,Ss;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+vs);vs-=1,ms={time:data.k[vs].t/elem.comp.globalData.frameRate,value:[]};var Es=Object.prototype.hasOwnProperty.call(data.k[vs],"s")?data.k[vs].s:data.k[vs-1].e;for(Ss=Es.length,ws=0;ws<Ss;ws+=1)ms[ws]=Es[ws],ms.value[ws]=Es[ws];return ms}function framesToTime(vs,ms){return ms||(ms=elem.comp.globalData.frameRate),vs/ms}function timeToFrames(vs,ms){return!vs&&vs!==0&&(vs=time),ms||(ms=elem.comp.globalData.frameRate),vs*ms}function seedRandom(vs){BMMath.seedrandom(randSeed+vs)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(vs,ms){return typeof value=="string"?ms===void 0?value.substring(vs):value.substring(vs,ms):""}function substr(vs,ms){return typeof value=="string"?ms===void 0?value.substr(vs):value.substr(vs,ms):""}function posterizeTime(vs){time=vs===0?0:Math.floor(time*vs)/vs,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(vs){return value=vs,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var vs={};vs.initExpressions=ms,vs.resetFrame=ExpressionManager.resetFrame;function ms(ws){var Ss=0,Es=[];function _s(){Ss+=1}function Is(){Ss-=1,Ss===0&&Rs()}function Ts(Bs){Es.indexOf(Bs)===-1&&Es.push(Bs)}function Rs(){var Bs,Ns=Es.length;for(Bs=0;Bs<Ns;Bs+=1)Es[Bs].release();Es.length=0}ws.renderer.compInterface=CompExpressionInterface(ws.renderer),ws.renderer.globalData.projectInterface.registerComposition(ws.renderer),ws.renderer.globalData.pushExpression=_s,ws.renderer.globalData.popExpression=Is,ws.renderer.globalData.registerExpressionProperty=Ts}return vs}(),MaskManagerInterface=function(){function vs(ws,Ss){this._mask=ws,this._data=Ss}Object.defineProperty(vs.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(vs.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var ms=function(Ss){var Es=createSizedArray(Ss.viewData.length),_s,Is=Ss.viewData.length;for(_s=0;_s<Is;_s+=1)Es[_s]=new vs(Ss.viewData[_s],Ss.masksProperties[_s]);var Ts=function(Bs){for(_s=0;_s<Is;){if(Ss.masksProperties[_s].nm===Bs)return Es[_s];_s+=1}return null};return Ts};return ms}(),ExpressionPropertyInterface=function(){var vs={pv:0,v:0,mult:1},ms={pv:[0,0,0],v:[0,0,0],mult:1};function ws(Is,Ts,Rs){Object.defineProperty(Is,"velocity",{get:function(){return Ts.getVelocityAtTime(Ts.comp.currentFrame)}}),Is.numKeys=Ts.keyframes?Ts.keyframes.length:0,Is.key=function(Bs){if(!Is.numKeys)return 0;var Ns="";"s"in Ts.keyframes[Bs-1]?Ns=Ts.keyframes[Bs-1].s:"e"in Ts.keyframes[Bs-2]?Ns=Ts.keyframes[Bs-2].e:Ns=Ts.keyframes[Bs-2].s;var Ws=Rs==="unidimensional"?new Number(Ns):Object.assign({},Ns);return Ws.time=Ts.keyframes[Bs-1].t/Ts.elem.comp.globalData.frameRate,Ws.value=Rs==="unidimensional"?Ns[0]:Ns,Ws},Is.valueAtTime=Ts.getValueAtTime,Is.speedAtTime=Ts.getSpeedAtTime,Is.velocityAtTime=Ts.getVelocityAtTime,Is.propertyGroup=Ts.propertyGroup}function Ss(Is){(!Is||!("pv"in Is))&&(Is=vs);var Ts=1/Is.mult,Rs=Is.pv*Ts,Bs=new Number(Rs);return Bs.value=Rs,ws(Bs,Is,"unidimensional"),function(){return Is.k&&Is.getValue(),Rs=Is.v*Ts,Bs.value!==Rs&&(Bs=new Number(Rs),Bs.value=Rs,Bs[0]=Rs,ws(Bs,Is,"unidimensional")),Bs}}function Es(Is){(!Is||!("pv"in Is))&&(Is=ms);var Ts=1/Is.mult,Rs=Is.data&&Is.data.l||Is.pv.length,Bs=createTypedArray("float32",Rs),Ns=createTypedArray("float32",Rs);return Bs.value=Ns,ws(Bs,Is,"multidimensional"),function(){Is.k&&Is.getValue();for(var Ws=0;Ws<Rs;Ws+=1)Ns[Ws]=Is.v[Ws]*Ts,Bs[Ws]=Ns[Ws];return Bs}}function _s(){return vs}return function(Is){return Is?Is.propType==="unidimensional"?Ss(Is):Es(Is):_s}}(),TransformExpressionInterface=function(){return function(vs){function ms(Is){switch(Is){case"scale":case"Scale":case"ADBE Scale":case 6:return ms.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return ms.rotation;case"ADBE Rotate X":return ms.xRotation;case"ADBE Rotate Y":return ms.yRotation;case"position":case"Position":case"ADBE Position":case 2:return ms.position;case"ADBE Position_0":return ms.xPosition;case"ADBE Position_1":return ms.yPosition;case"ADBE Position_2":return ms.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return ms.anchorPoint;case"opacity":case"Opacity":case 11:return ms.opacity;default:return null}}Object.defineProperty(ms,"rotation",{get:ExpressionPropertyInterface(vs.r||vs.rz)}),Object.defineProperty(ms,"zRotation",{get:ExpressionPropertyInterface(vs.rz||vs.r)}),Object.defineProperty(ms,"xRotation",{get:ExpressionPropertyInterface(vs.rx)}),Object.defineProperty(ms,"yRotation",{get:ExpressionPropertyInterface(vs.ry)}),Object.defineProperty(ms,"scale",{get:ExpressionPropertyInterface(vs.s)});var ws,Ss,Es,_s;return vs.p?_s=ExpressionPropertyInterface(vs.p):(ws=ExpressionPropertyInterface(vs.px),Ss=ExpressionPropertyInterface(vs.py),vs.pz&&(Es=ExpressionPropertyInterface(vs.pz))),Object.defineProperty(ms,"position",{get:function(){return vs.p?_s():[ws(),Ss(),Es?Es():0]}}),Object.defineProperty(ms,"xPosition",{get:ExpressionPropertyInterface(vs.px)}),Object.defineProperty(ms,"yPosition",{get:ExpressionPropertyInterface(vs.py)}),Object.defineProperty(ms,"zPosition",{get:ExpressionPropertyInterface(vs.pz)}),Object.defineProperty(ms,"anchorPoint",{get:ExpressionPropertyInterface(vs.a)}),Object.defineProperty(ms,"opacity",{get:ExpressionPropertyInterface(vs.o)}),Object.defineProperty(ms,"skew",{get:ExpressionPropertyInterface(vs.sk)}),Object.defineProperty(ms,"skewAxis",{get:ExpressionPropertyInterface(vs.sa)}),Object.defineProperty(ms,"orientation",{get:ExpressionPropertyInterface(vs.or)}),ms}}(),LayerExpressionInterface=function(){function vs(Bs){var Ns=new Matrix;if(Bs!==void 0){var Ws=this._elem.finalTransform.mProp.getValueAtTime(Bs);Ws.clone(Ns)}else{var Js=this._elem.finalTransform.mProp;Js.applyToMatrix(Ns)}return Ns}function ms(Bs,Ns){var Ws=this.getMatrix(Ns);return Ws.props[12]=0,Ws.props[13]=0,Ws.props[14]=0,this.applyPoint(Ws,Bs)}function ws(Bs,Ns){var Ws=this.getMatrix(Ns);return this.applyPoint(Ws,Bs)}function Ss(Bs,Ns){var Ws=this.getMatrix(Ns);return Ws.props[12]=0,Ws.props[13]=0,Ws.props[14]=0,this.invertPoint(Ws,Bs)}function Es(Bs,Ns){var Ws=this.getMatrix(Ns);return this.invertPoint(Ws,Bs)}function _s(Bs,Ns){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Ws,Js=this._elem.hierarchy.length;for(Ws=0;Ws<Js;Ws+=1)this._elem.hierarchy[Ws].finalTransform.mProp.applyToMatrix(Bs)}return Bs.applyToPointArray(Ns[0],Ns[1],Ns[2]||0)}function Is(Bs,Ns){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Ws,Js=this._elem.hierarchy.length;for(Ws=0;Ws<Js;Ws+=1)this._elem.hierarchy[Ws].finalTransform.mProp.applyToMatrix(Bs)}return Bs.inversePoint(Ns)}function Ts(Bs){var Ns=new Matrix;if(Ns.reset(),this._elem.finalTransform.mProp.applyToMatrix(Ns),this._elem.hierarchy&&this._elem.hierarchy.length){var Ws,Js=this._elem.hierarchy.length;for(Ws=0;Ws<Js;Ws+=1)this._elem.hierarchy[Ws].finalTransform.mProp.applyToMatrix(Ns);return Ns.inversePoint(Bs)}return Ns.inversePoint(Bs)}function Rs(){return[1,1,1,1]}return function(Bs){var Ns;function Ws(_l){$l.mask=new MaskManagerInterface(_l,Bs)}function Js(_l){$l.effect=_l}function $l(_l){switch(_l){case"ADBE Root Vectors Group":case"Contents":case 2:return $l.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return Ns;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return $l.effect;case"ADBE Text Properties":return $l.textInterface;default:return null}}$l.getMatrix=vs,$l.invertPoint=Is,$l.applyPoint=_s,$l.toWorld=ws,$l.toWorldVec=ms,$l.fromWorld=Es,$l.fromWorldVec=Ss,$l.toComp=ws,$l.fromComp=Ts,$l.sampleImage=Rs,$l.sourceRectAtTime=Bs.sourceRectAtTime.bind(Bs),$l._elem=Bs,Ns=TransformExpressionInterface(Bs.finalTransform.mProp);var wl=getDescriptor(Ns,"anchorPoint");return Object.defineProperties($l,{hasParent:{get:function(){return Bs.hierarchy.length}},parent:{get:function(){return Bs.hierarchy[0].layerInterface}},rotation:getDescriptor(Ns,"rotation"),scale:getDescriptor(Ns,"scale"),position:getDescriptor(Ns,"position"),opacity:getDescriptor(Ns,"opacity"),anchorPoint:wl,anchor_point:wl,transform:{get:function(){return Ns}},active:{get:function(){return Bs.isInRange}}}),$l.startTime=Bs.data.st,$l.index=Bs.data.ind,$l.source=Bs.data.refId,$l.height=Bs.data.ty===0?Bs.data.h:100,$l.width=Bs.data.ty===0?Bs.data.w:100,$l.inPoint=Bs.data.ip/Bs.comp.globalData.frameRate,$l.outPoint=Bs.data.op/Bs.comp.globalData.frameRate,$l._name=Bs.data.nm,$l.registerMaskInterface=Ws,$l.registerEffectsInterface=Js,$l}}(),propertyGroupFactory=function(){return function(vs,ms){return function(ws){return ws=ws===void 0?1:ws,ws<=0?vs:ms(ws-1)}}}(),PropertyInterface=function(){return function(vs,ms){var ws={_name:vs};function Ss(Es){return Es=Es===void 0?1:Es,Es<=0?ws:ms(Es-1)}return Ss}}(),EffectsExpressionInterface=function(){var vs={createEffectsInterface:ms};function ms(Es,_s){if(Es.effectsManager){var Is=[],Ts=Es.data.ef,Rs,Bs=Es.effectsManager.effectElements.length;for(Rs=0;Rs<Bs;Rs+=1)Is.push(ws(Ts[Rs],Es.effectsManager.effectElements[Rs],_s,Es));var Ns=Es.data.ef||[],Ws=function($l){for(Rs=0,Bs=Ns.length;Rs<Bs;){if($l===Ns[Rs].nm||$l===Ns[Rs].mn||$l===Ns[Rs].ix)return Is[Rs];Rs+=1}return null};return Object.defineProperty(Ws,"numProperties",{get:function(){return Ns.length}}),Ws}return null}function ws(Es,_s,Is,Ts){function Rs($l){for(var wl=Es.ef,_l=0,Cl=wl.length;_l<Cl;){if($l===wl[_l].nm||$l===wl[_l].mn||$l===wl[_l].ix)return wl[_l].ty===5?Ns[_l]:Ns[_l]();_l+=1}throw new Error}var Bs=propertyGroupFactory(Rs,Is),Ns=[],Ws,Js=Es.ef.length;for(Ws=0;Ws<Js;Ws+=1)Es.ef[Ws].ty===5?Ns.push(ws(Es.ef[Ws],_s.effectElements[Ws],_s.effectElements[Ws].propertyGroup,Ts)):Ns.push(Ss(_s.effectElements[Ws],Es.ef[Ws].ty,Ts,Bs));return Es.mn==="ADBE Color Control"&&Object.defineProperty(Rs,"color",{get:function(){return Ns[0]()}}),Object.defineProperties(Rs,{numProperties:{get:function(){return Es.np}},_name:{value:Es.nm},propertyGroup:{value:Bs}}),Rs.enabled=Es.en!==0,Rs.active=Rs.enabled,Rs}function Ss(Es,_s,Is,Ts){var Rs=ExpressionPropertyInterface(Es.p);function Bs(){return _s===10?Is.comp.compInterface(Es.p.v):Rs()}return Es.p.setGroupProperty&&Es.p.setGroupProperty(PropertyInterface("",Ts)),Bs}return vs}(),ShapePathInterface=function(){return function(ms,ws,Ss){var Es=ws.sh;function _s(Ts){return Ts==="Shape"||Ts==="shape"||Ts==="Path"||Ts==="path"||Ts==="ADBE Vector Shape"||Ts===2?_s.path:null}var Is=propertyGroupFactory(_s,Ss);return Es.setGroupProperty(PropertyInterface("Path",Is)),Object.defineProperties(_s,{path:{get:function(){return Es.k&&Es.getValue(),Es}},shape:{get:function(){return Es.k&&Es.getValue(),Es}},_name:{value:ms.nm},ix:{value:ms.ix},propertyIndex:{value:ms.ix},mn:{value:ms.mn},propertyGroup:{value:Ss}}),_s}}(),ShapeExpressionInterface=function(){function vs(wl,_l,Cl){var Sl=[],El,xl=wl?wl.length:0;for(El=0;El<xl;El+=1)wl[El].ty==="gr"?Sl.push(ws(wl[El],_l[El],Cl)):wl[El].ty==="fl"?Sl.push(Ss(wl[El],_l[El],Cl)):wl[El].ty==="st"?Sl.push(Is(wl[El],_l[El],Cl)):wl[El].ty==="tm"?Sl.push(Ts(wl[El],_l[El],Cl)):wl[El].ty==="tr"||(wl[El].ty==="el"?Sl.push(Bs(wl[El],_l[El],Cl)):wl[El].ty==="sr"?Sl.push(Ns(wl[El],_l[El],Cl)):wl[El].ty==="sh"?Sl.push(ShapePathInterface(wl[El],_l[El],Cl)):wl[El].ty==="rc"?Sl.push(Ws(wl[El],_l[El],Cl)):wl[El].ty==="rd"?Sl.push(Js(wl[El],_l[El],Cl)):wl[El].ty==="rp"?Sl.push($l(wl[El],_l[El],Cl)):wl[El].ty==="gf"?Sl.push(Es(wl[El],_l[El],Cl)):Sl.push(_s(wl[El],_l[El])));return Sl}function ms(wl,_l,Cl){var Sl,El=function(Vl){for(var Ul=0,_h=Sl.length;Ul<_h;){if(Sl[Ul]._name===Vl||Sl[Ul].mn===Vl||Sl[Ul].propertyIndex===Vl||Sl[Ul].ix===Vl||Sl[Ul].ind===Vl)return Sl[Ul];Ul+=1}return typeof Vl=="number"?Sl[Vl-1]:null};El.propertyGroup=propertyGroupFactory(El,Cl),Sl=vs(wl.it,_l.it,El.propertyGroup),El.numProperties=Sl.length;var xl=Rs(wl.it[wl.it.length-1],_l.it[_l.it.length-1],El.propertyGroup);return El.transform=xl,El.propertyIndex=wl.cix,El._name=wl.nm,El}function ws(wl,_l,Cl){var Sl=function(Vl){switch(Vl){case"ADBE Vectors Group":case"Contents":case 2:return Sl.content;default:return Sl.transform}};Sl.propertyGroup=propertyGroupFactory(Sl,Cl);var El=ms(wl,_l,Sl.propertyGroup),xl=Rs(wl.it[wl.it.length-1],_l.it[_l.it.length-1],Sl.propertyGroup);return Sl.content=El,Sl.transform=xl,Object.defineProperty(Sl,"_name",{get:function(){return wl.nm}}),Sl.numProperties=wl.np,Sl.propertyIndex=wl.ix,Sl.nm=wl.nm,Sl.mn=wl.mn,Sl}function Ss(wl,_l,Cl){function Sl(El){return El==="Color"||El==="color"?Sl.color:El==="Opacity"||El==="opacity"?Sl.opacity:null}return Object.defineProperties(Sl,{color:{get:ExpressionPropertyInterface(_l.c)},opacity:{get:ExpressionPropertyInterface(_l.o)},_name:{value:wl.nm},mn:{value:wl.mn}}),_l.c.setGroupProperty(PropertyInterface("Color",Cl)),_l.o.setGroupProperty(PropertyInterface("Opacity",Cl)),Sl}function Es(wl,_l,Cl){function Sl(El){return El==="Start Point"||El==="start point"?Sl.startPoint:El==="End Point"||El==="end point"?Sl.endPoint:El==="Opacity"||El==="opacity"?Sl.opacity:null}return Object.defineProperties(Sl,{startPoint:{get:ExpressionPropertyInterface(_l.s)},endPoint:{get:ExpressionPropertyInterface(_l.e)},opacity:{get:ExpressionPropertyInterface(_l.o)},type:{get:function(){return"a"}},_name:{value:wl.nm},mn:{value:wl.mn}}),_l.s.setGroupProperty(PropertyInterface("Start Point",Cl)),_l.e.setGroupProperty(PropertyInterface("End Point",Cl)),_l.o.setGroupProperty(PropertyInterface("Opacity",Cl)),Sl}function _s(){function wl(){return null}return wl}function Is(wl,_l,Cl){var Sl=propertyGroupFactory(_h,Cl),El=propertyGroupFactory(Ul,Sl);function xl(nu){Object.defineProperty(Ul,wl.d[nu].nm,{get:ExpressionPropertyInterface(_l.d.dataProps[nu].p)})}var Ml,Vl=wl.d?wl.d.length:0,Ul={};for(Ml=0;Ml<Vl;Ml+=1)xl(Ml),_l.d.dataProps[Ml].p.setGroupProperty(El);function _h(nu){return nu==="Color"||nu==="color"?_h.color:nu==="Opacity"||nu==="opacity"?_h.opacity:nu==="Stroke Width"||nu==="stroke width"?_h.strokeWidth:null}return Object.defineProperties(_h,{color:{get:ExpressionPropertyInterface(_l.c)},opacity:{get:ExpressionPropertyInterface(_l.o)},strokeWidth:{get:ExpressionPropertyInterface(_l.w)},dash:{get:function(){return Ul}},_name:{value:wl.nm},mn:{value:wl.mn}}),_l.c.setGroupProperty(PropertyInterface("Color",Sl)),_l.o.setGroupProperty(PropertyInterface("Opacity",Sl)),_l.w.setGroupProperty(PropertyInterface("Stroke Width",Sl)),_h}function Ts(wl,_l,Cl){function Sl(xl){return xl===wl.e.ix||xl==="End"||xl==="end"?Sl.end:xl===wl.s.ix?Sl.start:xl===wl.o.ix?Sl.offset:null}var El=propertyGroupFactory(Sl,Cl);return Sl.propertyIndex=wl.ix,_l.s.setGroupProperty(PropertyInterface("Start",El)),_l.e.setGroupProperty(PropertyInterface("End",El)),_l.o.setGroupProperty(PropertyInterface("Offset",El)),Sl.propertyIndex=wl.ix,Sl.propertyGroup=Cl,Object.defineProperties(Sl,{start:{get:ExpressionPropertyInterface(_l.s)},end:{get:ExpressionPropertyInterface(_l.e)},offset:{get:ExpressionPropertyInterface(_l.o)},_name:{value:wl.nm}}),Sl.mn=wl.mn,Sl}function Rs(wl,_l,Cl){function Sl(xl){return wl.a.ix===xl||xl==="Anchor Point"?Sl.anchorPoint:wl.o.ix===xl||xl==="Opacity"?Sl.opacity:wl.p.ix===xl||xl==="Position"?Sl.position:wl.r.ix===xl||xl==="Rotation"||xl==="ADBE Vector Rotation"?Sl.rotation:wl.s.ix===xl||xl==="Scale"?Sl.scale:wl.sk&&wl.sk.ix===xl||xl==="Skew"?Sl.skew:wl.sa&&wl.sa.ix===xl||xl==="Skew Axis"?Sl.skewAxis:null}var El=propertyGroupFactory(Sl,Cl);return _l.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",El)),_l.transform.mProps.p.setGroupProperty(PropertyInterface("Position",El)),_l.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",El)),_l.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",El)),_l.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",El)),_l.transform.mProps.sk&&(_l.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",El)),_l.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",El))),_l.transform.op.setGroupProperty(PropertyInterface("Opacity",El)),Object.defineProperties(Sl,{opacity:{get:ExpressionPropertyInterface(_l.transform.mProps.o)},position:{get:ExpressionPropertyInterface(_l.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(_l.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(_l.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(_l.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(_l.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(_l.transform.mProps.sa)},_name:{value:wl.nm}}),Sl.ty="tr",Sl.mn=wl.mn,Sl.propertyGroup=Cl,Sl}function Bs(wl,_l,Cl){function Sl(Ml){return wl.p.ix===Ml?Sl.position:wl.s.ix===Ml?Sl.size:null}var El=propertyGroupFactory(Sl,Cl);Sl.propertyIndex=wl.ix;var xl=_l.sh.ty==="tm"?_l.sh.prop:_l.sh;return xl.s.setGroupProperty(PropertyInterface("Size",El)),xl.p.setGroupProperty(PropertyInterface("Position",El)),Object.defineProperties(Sl,{size:{get:ExpressionPropertyInterface(xl.s)},position:{get:ExpressionPropertyInterface(xl.p)},_name:{value:wl.nm}}),Sl.mn=wl.mn,Sl}function Ns(wl,_l,Cl){function Sl(Ml){return wl.p.ix===Ml?Sl.position:wl.r.ix===Ml?Sl.rotation:wl.pt.ix===Ml?Sl.points:wl.or.ix===Ml||Ml==="ADBE Vector Star Outer Radius"?Sl.outerRadius:wl.os.ix===Ml?Sl.outerRoundness:wl.ir&&(wl.ir.ix===Ml||Ml==="ADBE Vector Star Inner Radius")?Sl.innerRadius:wl.is&&wl.is.ix===Ml?Sl.innerRoundness:null}var El=propertyGroupFactory(Sl,Cl),xl=_l.sh.ty==="tm"?_l.sh.prop:_l.sh;return Sl.propertyIndex=wl.ix,xl.or.setGroupProperty(PropertyInterface("Outer Radius",El)),xl.os.setGroupProperty(PropertyInterface("Outer Roundness",El)),xl.pt.setGroupProperty(PropertyInterface("Points",El)),xl.p.setGroupProperty(PropertyInterface("Position",El)),xl.r.setGroupProperty(PropertyInterface("Rotation",El)),wl.ir&&(xl.ir.setGroupProperty(PropertyInterface("Inner Radius",El)),xl.is.setGroupProperty(PropertyInterface("Inner Roundness",El))),Object.defineProperties(Sl,{position:{get:ExpressionPropertyInterface(xl.p)},rotation:{get:ExpressionPropertyInterface(xl.r)},points:{get:ExpressionPropertyInterface(xl.pt)},outerRadius:{get:ExpressionPropertyInterface(xl.or)},outerRoundness:{get:ExpressionPropertyInterface(xl.os)},innerRadius:{get:ExpressionPropertyInterface(xl.ir)},innerRoundness:{get:ExpressionPropertyInterface(xl.is)},_name:{value:wl.nm}}),Sl.mn=wl.mn,Sl}function Ws(wl,_l,Cl){function Sl(Ml){return wl.p.ix===Ml?Sl.position:wl.r.ix===Ml?Sl.roundness:wl.s.ix===Ml||Ml==="Size"||Ml==="ADBE Vector Rect Size"?Sl.size:null}var El=propertyGroupFactory(Sl,Cl),xl=_l.sh.ty==="tm"?_l.sh.prop:_l.sh;return Sl.propertyIndex=wl.ix,xl.p.setGroupProperty(PropertyInterface("Position",El)),xl.s.setGroupProperty(PropertyInterface("Size",El)),xl.r.setGroupProperty(PropertyInterface("Rotation",El)),Object.defineProperties(Sl,{position:{get:ExpressionPropertyInterface(xl.p)},roundness:{get:ExpressionPropertyInterface(xl.r)},size:{get:ExpressionPropertyInterface(xl.s)},_name:{value:wl.nm}}),Sl.mn=wl.mn,Sl}function Js(wl,_l,Cl){function Sl(Ml){return wl.r.ix===Ml||Ml==="Round Corners 1"?Sl.radius:null}var El=propertyGroupFactory(Sl,Cl),xl=_l;return Sl.propertyIndex=wl.ix,xl.rd.setGroupProperty(PropertyInterface("Radius",El)),Object.defineProperties(Sl,{radius:{get:ExpressionPropertyInterface(xl.rd)},_name:{value:wl.nm}}),Sl.mn=wl.mn,Sl}function $l(wl,_l,Cl){function Sl(Ml){return wl.c.ix===Ml||Ml==="Copies"?Sl.copies:wl.o.ix===Ml||Ml==="Offset"?Sl.offset:null}var El=propertyGroupFactory(Sl,Cl),xl=_l;return Sl.propertyIndex=wl.ix,xl.c.setGroupProperty(PropertyInterface("Copies",El)),xl.o.setGroupProperty(PropertyInterface("Offset",El)),Object.defineProperties(Sl,{copies:{get:ExpressionPropertyInterface(xl.c)},offset:{get:ExpressionPropertyInterface(xl.o)},_name:{value:wl.nm}}),Sl.mn=wl.mn,Sl}return function(wl,_l,Cl){var Sl;function El(Ml){if(typeof Ml=="number")return Ml=Ml===void 0?1:Ml,Ml===0?Cl:Sl[Ml-1];for(var Vl=0,Ul=Sl.length;Vl<Ul;){if(Sl[Vl]._name===Ml)return Sl[Vl];Vl+=1}return null}function xl(){return Cl}return El.propertyGroup=propertyGroupFactory(El,xl),Sl=vs(wl,_l,El.propertyGroup),El.numProperties=Sl.length,El._name="Contents",El}}(),TextExpressionInterface=function(){return function(vs){var ms;function ws(Ss){switch(Ss){case"ADBE Text Document":return ws.sourceText;default:return null}}return Object.defineProperty(ws,"sourceText",{get:function(){vs.textProperty.getValue();var Es=vs.textProperty.currentData.t;return(!ms||Es!==ms.value)&&(ms=new String(Es),ms.value=Es||new String(Es),Object.defineProperty(ms,"style",{get:function(){return{fillColor:vs.textProperty.currentData.fc}}})),ms}}),ws}}();function _typeof(vs){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ms){return typeof ms}:function(ms){return ms&&typeof Symbol=="function"&&ms.constructor===Symbol&&ms!==Symbol.prototype?"symbol":typeof ms},_typeof(vs)}var FootageInterface=function(){var vs=function(Ss){var Es="",_s=Ss.getFootageData();function Is(){return Es="",_s=Ss.getFootageData(),Ts}function Ts(Rs){if(_s[Rs])return Es=Rs,_s=_s[Rs],_typeof(_s)==="object"?Ts:_s;var Bs=Rs.indexOf(Es);if(Bs!==-1){var Ns=parseInt(Rs.substr(Bs+Es.length),10);return _s=_s[Ns],_typeof(_s)==="object"?Ts:_s}return""}return Is},ms=function(Ss){function Es(_s){return _s==="Outline"?Es.outlineInterface():null}return Es._name="Outline",Es.outlineInterface=vs(Ss),Es};return function(ws){function Ss(Es){return Es==="Data"?Ss.dataInterface:null}return Ss._name="Data",Ss.dataInterface=ms(ws),Ss}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(vs){return interfaces[vs]||null}var expressionHelpers=function(){function vs(Is,Ts,Rs){Ts.x&&(Rs.k=!0,Rs.x=!0,Rs.initiateExpression=ExpressionManager.initiateExpression,Rs.effectsSequence.push(Rs.initiateExpression(Is,Ts,Rs).bind(Rs)))}function ms(Is){return Is*=this.elem.globalData.frameRate,Is-=this.offsetTime,Is!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<Is?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(Is,this._cachingAtTime),this._cachingAtTime.lastFrame=Is),this._cachingAtTime.value}function ws(Is){var Ts=-.01,Rs=this.getValueAtTime(Is),Bs=this.getValueAtTime(Is+Ts),Ns=0;if(Rs.length){var Ws;for(Ws=0;Ws<Rs.length;Ws+=1)Ns+=Math.pow(Bs[Ws]-Rs[Ws],2);Ns=Math.sqrt(Ns)*100}else Ns=0;return Ns}function Ss(Is){if(this.vel!==void 0)return this.vel;var Ts=-.001,Rs=this.getValueAtTime(Is),Bs=this.getValueAtTime(Is+Ts),Ns;if(Rs.length){Ns=createTypedArray("float32",Rs.length);var Ws;for(Ws=0;Ws<Rs.length;Ws+=1)Ns[Ws]=(Bs[Ws]-Rs[Ws])/Ts}else Ns=(Bs-Rs)/Ts;return Ns}function Es(){return this.pv}function _s(Is){this.propertyGroup=Is}return{searchExpressions:vs,getSpeedAtTime:ws,getVelocityAtTime:Ss,getValueAtTime:ms,getStaticValueAtTime:Es,setGroupProperty:_s}}();function addPropertyDecorator(){function vs(Js,$l,wl){if(!this.k||!this.keyframes)return this.pv;Js=Js?Js.toLowerCase():"";var _l=this.comp.renderedFrame,Cl=this.keyframes,Sl=Cl[Cl.length-1].t;if(_l<=Sl)return this.pv;var El,xl;wl?($l?El=Math.abs(Sl-this.elem.comp.globalData.frameRate*$l):El=Math.max(0,Sl-this.elem.data.ip),xl=Sl-El):((!$l||$l>Cl.length-1)&&($l=Cl.length-1),xl=Cl[Cl.length-1-$l].t,El=Sl-xl);var Ml,Vl,Ul;if(Js==="pingpong"){var _h=Math.floor((_l-xl)/El);if(_h%2!==0)return this.getValueAtTime((El-(_l-xl)%El+xl)/this.comp.globalData.frameRate,0)}else if(Js==="offset"){var nu=this.getValueAtTime(xl/this.comp.globalData.frameRate,0),su=this.getValueAtTime(Sl/this.comp.globalData.frameRate,0),Jl=this.getValueAtTime(((_l-xl)%El+xl)/this.comp.globalData.frameRate,0),Il=Math.floor((_l-xl)/El);if(this.pv.length){for(Ul=new Array(nu.length),Vl=Ul.length,Ml=0;Ml<Vl;Ml+=1)Ul[Ml]=(su[Ml]-nu[Ml])*Il+Jl[Ml];return Ul}return(su-nu)*Il+Jl}else if(Js==="continue"){var Nl=this.getValueAtTime(Sl/this.comp.globalData.frameRate,0),Ol=this.getValueAtTime((Sl-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Ul=new Array(Nl.length),Vl=Ul.length,Ml=0;Ml<Vl;Ml+=1)Ul[Ml]=Nl[Ml]+(Nl[Ml]-Ol[Ml])*((_l-Sl)/this.comp.globalData.frameRate)/5e-4;return Ul}return Nl+(Nl-Ol)*((_l-Sl)/.001)}return this.getValueAtTime(((_l-xl)%El+xl)/this.comp.globalData.frameRate,0)}function ms(Js,$l,wl){if(!this.k)return this.pv;Js=Js?Js.toLowerCase():"";var _l=this.comp.renderedFrame,Cl=this.keyframes,Sl=Cl[0].t;if(_l>=Sl)return this.pv;var El,xl;wl?($l?El=Math.abs(this.elem.comp.globalData.frameRate*$l):El=Math.max(0,this.elem.data.op-Sl),xl=Sl+El):((!$l||$l>Cl.length-1)&&($l=Cl.length-1),xl=Cl[$l].t,El=xl-Sl);var Ml,Vl,Ul;if(Js==="pingpong"){var _h=Math.floor((Sl-_l)/El);if(_h%2===0)return this.getValueAtTime(((Sl-_l)%El+Sl)/this.comp.globalData.frameRate,0)}else if(Js==="offset"){var nu=this.getValueAtTime(Sl/this.comp.globalData.frameRate,0),su=this.getValueAtTime(xl/this.comp.globalData.frameRate,0),Jl=this.getValueAtTime((El-(Sl-_l)%El+Sl)/this.comp.globalData.frameRate,0),Il=Math.floor((Sl-_l)/El)+1;if(this.pv.length){for(Ul=new Array(nu.length),Vl=Ul.length,Ml=0;Ml<Vl;Ml+=1)Ul[Ml]=Jl[Ml]-(su[Ml]-nu[Ml])*Il;return Ul}return Jl-(su-nu)*Il}else if(Js==="continue"){var Nl=this.getValueAtTime(Sl/this.comp.globalData.frameRate,0),Ol=this.getValueAtTime((Sl+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Ul=new Array(Nl.length),Vl=Ul.length,Ml=0;Ml<Vl;Ml+=1)Ul[Ml]=Nl[Ml]+(Nl[Ml]-Ol[Ml])*(Sl-_l)/.001;return Ul}return Nl+(Nl-Ol)*(Sl-_l)/.001}return this.getValueAtTime((El-((Sl-_l)%El+Sl))/this.comp.globalData.frameRate,0)}function ws(Js,$l){if(!this.k)return this.pv;if(Js=(Js||.4)*.5,$l=Math.floor($l||5),$l<=1)return this.pv;var wl=this.comp.renderedFrame/this.comp.globalData.frameRate,_l=wl-Js,Cl=wl+Js,Sl=$l>1?(Cl-_l)/($l-1):1,El=0,xl=0,Ml;this.pv.length?Ml=createTypedArray("float32",this.pv.length):Ml=0;for(var Vl;El<$l;){if(Vl=this.getValueAtTime(_l+El*Sl),this.pv.length)for(xl=0;xl<this.pv.length;xl+=1)Ml[xl]+=Vl[xl];else Ml+=Vl;El+=1}if(this.pv.length)for(xl=0;xl<this.pv.length;xl+=1)Ml[xl]/=$l;else Ml/=$l;return Ml}function Ss(Js){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var $l=this._transformCachingAtTime.v;if($l.cloneFromProps(this.pre.props),this.appliedTransformations<1){var wl=this.a.getValueAtTime(Js);$l.translate(-wl[0]*this.a.mult,-wl[1]*this.a.mult,wl[2]*this.a.mult)}if(this.appliedTransformations<2){var _l=this.s.getValueAtTime(Js);$l.scale(_l[0]*this.s.mult,_l[1]*this.s.mult,_l[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var Cl=this.sk.getValueAtTime(Js),Sl=this.sa.getValueAtTime(Js);$l.skewFromAxis(-Cl*this.sk.mult,Sl*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var El=this.r.getValueAtTime(Js);$l.rotate(-El*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var xl=this.rz.getValueAtTime(Js),Ml=this.ry.getValueAtTime(Js),Vl=this.rx.getValueAtTime(Js),Ul=this.or.getValueAtTime(Js);$l.rotateZ(-xl*this.rz.mult).rotateY(Ml*this.ry.mult).rotateX(Vl*this.rx.mult).rotateZ(-Ul[2]*this.or.mult).rotateY(Ul[1]*this.or.mult).rotateX(Ul[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var _h=this.px.getValueAtTime(Js),nu=this.py.getValueAtTime(Js);if(this.data.p.z){var su=this.pz.getValueAtTime(Js);$l.translate(_h*this.px.mult,nu*this.py.mult,-su*this.pz.mult)}else $l.translate(_h*this.px.mult,nu*this.py.mult,0)}else{var Jl=this.p.getValueAtTime(Js);$l.translate(Jl[0]*this.p.mult,Jl[1]*this.p.mult,-Jl[2]*this.p.mult)}return $l}function Es(){return this.v.clone(new Matrix)}var _s=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(Js,$l,wl){var _l=_s(Js,$l,wl);return _l.dynamicProperties.length?_l.getValueAtTime=Ss.bind(_l):_l.getValueAtTime=Es.bind(_l),_l.setGroupProperty=expressionHelpers.setGroupProperty,_l};var Is=PropertyFactory.getProp;PropertyFactory.getProp=function(Js,$l,wl,_l,Cl){var Sl=Is(Js,$l,wl,_l,Cl);Sl.kf?Sl.getValueAtTime=expressionHelpers.getValueAtTime.bind(Sl):Sl.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(Sl),Sl.setGroupProperty=expressionHelpers.setGroupProperty,Sl.loopOut=vs,Sl.loopIn=ms,Sl.smooth=ws,Sl.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(Sl),Sl.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(Sl),Sl.numKeys=$l.a===1?$l.k.length:0,Sl.propertyIndex=$l.ix;var El=0;return wl!==0&&(El=createTypedArray("float32",$l.a===1?$l.k[0].s.length:$l.k.length)),Sl._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:El},expressionHelpers.searchExpressions(Js,$l,Sl),Sl.k&&Cl.addDynamicProperty(Sl),Sl};function Ts(Js){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),Js*=this.elem.globalData.frameRate,Js-=this.offsetTime,Js!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<Js?this._caching.lastIndex:0,this._cachingAtTime.lastTime=Js,this.interpolateShape(Js,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var Rs=ShapePropertyFactory.getConstructorFunction(),Bs=ShapePropertyFactory.getKeyframedConstructorFunction();function Ns(){}Ns.prototype={vertices:function($l,wl){this.k&&this.getValue();var _l=this.v;wl!==void 0&&(_l=this.getValueAtTime(wl,0));var Cl,Sl=_l._length,El=_l[$l],xl=_l.v,Ml=createSizedArray(Sl);for(Cl=0;Cl<Sl;Cl+=1)$l==="i"||$l==="o"?Ml[Cl]=[El[Cl][0]-xl[Cl][0],El[Cl][1]-xl[Cl][1]]:Ml[Cl]=[El[Cl][0],El[Cl][1]];return Ml},points:function($l){return this.vertices("v",$l)},inTangents:function($l){return this.vertices("i",$l)},outTangents:function($l){return this.vertices("o",$l)},isClosed:function(){return this.v.c},pointOnPath:function($l,wl){var _l=this.v;wl!==void 0&&(_l=this.getValueAtTime(wl,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(_l));for(var Cl=this._segmentsLength,Sl=Cl.lengths,El=Cl.totalLength*$l,xl=0,Ml=Sl.length,Vl=0,Ul;xl<Ml;){if(Vl+Sl[xl].addedLength>El){var _h=xl,nu=_l.c&&xl===Ml-1?0:xl+1,su=(El-Vl)/Sl[xl].addedLength;Ul=bez.getPointInSegment(_l.v[_h],_l.v[nu],_l.o[_h],_l.i[nu],su,Sl[xl]);break}else Vl+=Sl[xl].addedLength;xl+=1}return Ul||(Ul=_l.c?[_l.v[0][0],_l.v[0][1]]:[_l.v[_l._length-1][0],_l.v[_l._length-1][1]]),Ul},vectorOnPath:function($l,wl,_l){$l==1?$l=this.v.c:$l==0&&($l=.999);var Cl=this.pointOnPath($l,wl),Sl=this.pointOnPath($l+.001,wl),El=Sl[0]-Cl[0],xl=Sl[1]-Cl[1],Ml=Math.sqrt(Math.pow(El,2)+Math.pow(xl,2));if(Ml===0)return[0,0];var Vl=_l==="tangent"?[El/Ml,xl/Ml]:[-xl/Ml,El/Ml];return Vl},tangentOnPath:function($l,wl){return this.vectorOnPath($l,wl,"tangent")},normalOnPath:function($l,wl){return this.vectorOnPath($l,wl,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([Ns],Rs),extendPrototype([Ns],Bs),Bs.prototype.getValueAtTime=Ts,Bs.prototype.initiateExpression=ExpressionManager.initiateExpression;var Ws=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(Js,$l,wl,_l,Cl){var Sl=Ws(Js,$l,wl,_l,Cl);return Sl.propertyIndex=$l.ix,Sl.lock=!1,wl===3?expressionHelpers.searchExpressions(Js,$l.pt,Sl):wl===4&&expressionHelpers.searchExpressions(Js,$l.ks,Sl),Sl.k&&Js.addDynamicProperty(Sl),Sl}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function vs(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(ms,ws){var Ss=this.calculateExpression(ws);if(ms.t!==Ss){var Es={};return this.copyData(Es,ms),Es.t=Ss.toString(),Es.__complete=!1,Es}return ms},TextProperty.prototype.searchProperty=function(){var ms=this.searchKeyframes(),ws=this.searchExpressions();return this.kf=ms||ws,this.kf},TextProperty.prototype.searchExpressions=vs}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function vs(ms,ws){var Ss=createNS("feMerge");Ss.setAttribute("result",ms);var Es,_s;for(_s=0;_s<ws.length;_s+=1)Es=createNS("feMergeNode"),Es.setAttribute("in",ws[_s]),Ss.appendChild(Es),Ss.appendChild(Es);return Ss}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(vs,ms,ws,Ss,Es){this.filterManager=ms;var _s=createNS("feColorMatrix");_s.setAttribute("type","matrix"),_s.setAttribute("color-interpolation-filters","linearRGB"),_s.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=_s,_s.setAttribute("result",Ss+"_tint_1"),vs.appendChild(_s),_s=createNS("feColorMatrix"),_s.setAttribute("type","matrix"),_s.setAttribute("color-interpolation-filters","sRGB"),_s.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),_s.setAttribute("result",Ss+"_tint_2"),vs.appendChild(_s),this.matrixFilter=_s;var Is=this.createMergeNode(Ss,[Es,Ss+"_tint_1",Ss+"_tint_2"]);vs.appendChild(Is)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(vs){if(vs||this.filterManager._mdf){var ms=this.filterManager.effectElements[0].p.v,ws=this.filterManager.effectElements[1].p.v,Ss=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+Ss+" 0"),this.matrixFilter.setAttribute("values",ws[0]-ms[0]+" 0 0 0 "+ms[0]+" "+(ws[1]-ms[1])+" 0 0 0 "+ms[1]+" "+(ws[2]-ms[2])+" 0 0 0 "+ms[2]+" 0 0 0 1 0")}};function SVGFillFilter(vs,ms,ws,Ss){this.filterManager=ms;var Es=createNS("feColorMatrix");Es.setAttribute("type","matrix"),Es.setAttribute("color-interpolation-filters","sRGB"),Es.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),Es.setAttribute("result",Ss),vs.appendChild(Es),this.matrixFilter=Es}SVGFillFilter.prototype.renderFrame=function(vs){if(vs||this.filterManager._mdf){var ms=this.filterManager.effectElements[2].p.v,ws=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+ms[0]+" 0 0 0 0 "+ms[1]+" 0 0 0 0 "+ms[2]+" 0 0 0 "+ws+" 0")}};function SVGStrokeEffect(vs,ms,ws){this.initialized=!1,this.filterManager=ms,this.elem=ws,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var vs=this.elem.layerElement.children||this.elem.layerElement.childNodes,ms,ws,Ss,Es;for(this.filterManager.effectElements[1].p.v===1?(Es=this.elem.maskManager.masksProperties.length,Ss=0):(Ss=this.filterManager.effectElements[0].p.v-1,Es=Ss+1),ws=createNS("g"),ws.setAttribute("fill","none"),ws.setAttribute("stroke-linecap","round"),ws.setAttribute("stroke-dashoffset",1),Ss;Ss<Es;Ss+=1)ms=createNS("path"),ws.appendChild(ms),this.paths.push({p:ms,m:Ss});if(this.filterManager.effectElements[10].p.v===3){var _s=createNS("mask"),Is=createElementID();_s.setAttribute("id",Is),_s.setAttribute("mask-type","alpha"),_s.appendChild(ws),this.elem.globalData.defs.appendChild(_s);var Ts=createNS("g");for(Ts.setAttribute("mask","url("+getLocationHref()+"#"+Is+")");vs[0];)Ts.appendChild(vs[0]);this.elem.layerElement.appendChild(Ts),this.masker=_s,ws.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(vs=this.elem.layerElement.children||this.elem.layerElement.childNodes;vs.length;)this.elem.layerElement.removeChild(vs[0]);this.elem.layerElement.appendChild(ws),this.elem.layerElement.removeAttribute("mask"),ws.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=ws},SVGStrokeEffect.prototype.renderFrame=function(vs){this.initialized||this.initialize();var ms,ws=this.paths.length,Ss,Es;for(ms=0;ms<ws;ms+=1)if(this.paths[ms].m!==-1&&(Ss=this.elem.maskManager.viewData[this.paths[ms].m],Es=this.paths[ms].p,(vs||this.filterManager._mdf||Ss.prop._mdf)&&Es.setAttribute("d",Ss.lastPath),vs||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||Ss.prop._mdf)){var _s;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var Is=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,Ts=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,Rs=Es.getTotalLength();_s="0 0 0 "+Rs*Is+" ";var Bs=Rs*(Ts-Is),Ns=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,Ws=Math.floor(Bs/Ns),Js;for(Js=0;Js<Ws;Js+=1)_s+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";_s+="0 "+Rs*10+" 0 0"}else _s="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;Es.setAttribute("stroke-dasharray",_s)}if((vs||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(vs||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(vs||this.filterManager.effectElements[3].p._mdf)){var $l=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor($l[0]*255)+","+bmFloor($l[1]*255)+","+bmFloor($l[2]*255)+")")}};function SVGTritoneFilter(vs,ms,ws,Ss){this.filterManager=ms;var Es=createNS("feColorMatrix");Es.setAttribute("type","matrix"),Es.setAttribute("color-interpolation-filters","linearRGB"),Es.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),vs.appendChild(Es);var _s=createNS("feComponentTransfer");_s.setAttribute("color-interpolation-filters","sRGB"),_s.setAttribute("result",Ss),this.matrixFilter=_s;var Is=createNS("feFuncR");Is.setAttribute("type","table"),_s.appendChild(Is),this.feFuncR=Is;var Ts=createNS("feFuncG");Ts.setAttribute("type","table"),_s.appendChild(Ts),this.feFuncG=Ts;var Rs=createNS("feFuncB");Rs.setAttribute("type","table"),_s.appendChild(Rs),this.feFuncB=Rs,vs.appendChild(_s)}SVGTritoneFilter.prototype.renderFrame=function(vs){if(vs||this.filterManager._mdf){var ms=this.filterManager.effectElements[0].p.v,ws=this.filterManager.effectElements[1].p.v,Ss=this.filterManager.effectElements[2].p.v,Es=Ss[0]+" "+ws[0]+" "+ms[0],_s=Ss[1]+" "+ws[1]+" "+ms[1],Is=Ss[2]+" "+ws[2]+" "+ms[2];this.feFuncR.setAttribute("tableValues",Es),this.feFuncG.setAttribute("tableValues",_s),this.feFuncB.setAttribute("tableValues",Is)}};function SVGProLevelsFilter(vs,ms,ws,Ss){this.filterManager=ms;var Es=this.filterManager.effectElements,_s=createNS("feComponentTransfer");(Es[10].p.k||Es[10].p.v!==0||Es[11].p.k||Es[11].p.v!==1||Es[12].p.k||Es[12].p.v!==1||Es[13].p.k||Es[13].p.v!==0||Es[14].p.k||Es[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",_s)),(Es[17].p.k||Es[17].p.v!==0||Es[18].p.k||Es[18].p.v!==1||Es[19].p.k||Es[19].p.v!==1||Es[20].p.k||Es[20].p.v!==0||Es[21].p.k||Es[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",_s)),(Es[24].p.k||Es[24].p.v!==0||Es[25].p.k||Es[25].p.v!==1||Es[26].p.k||Es[26].p.v!==1||Es[27].p.k||Es[27].p.v!==0||Es[28].p.k||Es[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",_s)),(Es[31].p.k||Es[31].p.v!==0||Es[32].p.k||Es[32].p.v!==1||Es[33].p.k||Es[33].p.v!==1||Es[34].p.k||Es[34].p.v!==0||Es[35].p.k||Es[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",_s)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(_s.setAttribute("color-interpolation-filters","sRGB"),vs.appendChild(_s)),(Es[3].p.k||Es[3].p.v!==0||Es[4].p.k||Es[4].p.v!==1||Es[5].p.k||Es[5].p.v!==1||Es[6].p.k||Es[6].p.v!==0||Es[7].p.k||Es[7].p.v!==1)&&(_s=createNS("feComponentTransfer"),_s.setAttribute("color-interpolation-filters","sRGB"),_s.setAttribute("result",Ss),vs.appendChild(_s),this.feFuncRComposed=this.createFeFunc("feFuncR",_s),this.feFuncGComposed=this.createFeFunc("feFuncG",_s),this.feFuncBComposed=this.createFeFunc("feFuncB",_s))}SVGProLevelsFilter.prototype.createFeFunc=function(vs,ms){var ws=createNS(vs);return ws.setAttribute("type","table"),ms.appendChild(ws),ws},SVGProLevelsFilter.prototype.getTableValue=function(vs,ms,ws,Ss,Es){for(var _s=0,Is=256,Ts,Rs=Math.min(vs,ms),Bs=Math.max(vs,ms),Ns=Array.call(null,{length:Is}),Ws,Js=0,$l=Es-Ss,wl=ms-vs;_s<=256;)Ts=_s/256,Ts<=Rs?Ws=wl<0?Es:Ss:Ts>=Bs?Ws=wl<0?Ss:Es:Ws=Ss+$l*Math.pow((Ts-vs)/wl,1/ws),Ns[Js]=Ws,Js+=1,_s+=256/(Is-1);return Ns.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(vs){if(vs||this.filterManager._mdf){var ms,ws=this.filterManager.effectElements;this.feFuncRComposed&&(vs||ws[3].p._mdf||ws[4].p._mdf||ws[5].p._mdf||ws[6].p._mdf||ws[7].p._mdf)&&(ms=this.getTableValue(ws[3].p.v,ws[4].p.v,ws[5].p.v,ws[6].p.v,ws[7].p.v),this.feFuncRComposed.setAttribute("tableValues",ms),this.feFuncGComposed.setAttribute("tableValues",ms),this.feFuncBComposed.setAttribute("tableValues",ms)),this.feFuncR&&(vs||ws[10].p._mdf||ws[11].p._mdf||ws[12].p._mdf||ws[13].p._mdf||ws[14].p._mdf)&&(ms=this.getTableValue(ws[10].p.v,ws[11].p.v,ws[12].p.v,ws[13].p.v,ws[14].p.v),this.feFuncR.setAttribute("tableValues",ms)),this.feFuncG&&(vs||ws[17].p._mdf||ws[18].p._mdf||ws[19].p._mdf||ws[20].p._mdf||ws[21].p._mdf)&&(ms=this.getTableValue(ws[17].p.v,ws[18].p.v,ws[19].p.v,ws[20].p.v,ws[21].p.v),this.feFuncG.setAttribute("tableValues",ms)),this.feFuncB&&(vs||ws[24].p._mdf||ws[25].p._mdf||ws[26].p._mdf||ws[27].p._mdf||ws[28].p._mdf)&&(ms=this.getTableValue(ws[24].p.v,ws[25].p.v,ws[26].p.v,ws[27].p.v,ws[28].p.v),this.feFuncB.setAttribute("tableValues",ms)),this.feFuncA&&(vs||ws[31].p._mdf||ws[32].p._mdf||ws[33].p._mdf||ws[34].p._mdf||ws[35].p._mdf)&&(ms=this.getTableValue(ws[31].p.v,ws[32].p.v,ws[33].p.v,ws[34].p.v,ws[35].p.v),this.feFuncA.setAttribute("tableValues",ms))}};function SVGDropShadowEffect(vs,ms,ws,Ss,Es){var _s=ms.container.globalData.renderConfig.filterSize,Is=ms.data.fs||_s;vs.setAttribute("x",Is.x||_s.x),vs.setAttribute("y",Is.y||_s.y),vs.setAttribute("width",Is.width||_s.width),vs.setAttribute("height",Is.height||_s.height),this.filterManager=ms;var Ts=createNS("feGaussianBlur");Ts.setAttribute("in","SourceAlpha"),Ts.setAttribute("result",Ss+"_drop_shadow_1"),Ts.setAttribute("stdDeviation","0"),this.feGaussianBlur=Ts,vs.appendChild(Ts);var Rs=createNS("feOffset");Rs.setAttribute("dx","25"),Rs.setAttribute("dy","0"),Rs.setAttribute("in",Ss+"_drop_shadow_1"),Rs.setAttribute("result",Ss+"_drop_shadow_2"),this.feOffset=Rs,vs.appendChild(Rs);var Bs=createNS("feFlood");Bs.setAttribute("flood-color","#00ff00"),Bs.setAttribute("flood-opacity","1"),Bs.setAttribute("result",Ss+"_drop_shadow_3"),this.feFlood=Bs,vs.appendChild(Bs);var Ns=createNS("feComposite");Ns.setAttribute("in",Ss+"_drop_shadow_3"),Ns.setAttribute("in2",Ss+"_drop_shadow_2"),Ns.setAttribute("operator","in"),Ns.setAttribute("result",Ss+"_drop_shadow_4"),vs.appendChild(Ns);var Ws=this.createMergeNode(Ss,[Ss+"_drop_shadow_4",Es]);vs.appendChild(Ws)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(vs){if(vs||this.filterManager._mdf){if((vs||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),vs||this.filterManager.effectElements[0].p._mdf){var ms=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(ms[0]*255),Math.round(ms[1]*255),Math.round(ms[2]*255)))}if((vs||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),vs||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var ws=this.filterManager.effectElements[3].p.v,Ss=(this.filterManager.effectElements[2].p.v-90)*degToRads,Es=ws*Math.cos(Ss),_s=ws*Math.sin(Ss);this.feOffset.setAttribute("dx",Es),this.feOffset.setAttribute("dy",_s)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(vs,ms,ws){this.initialized=!1,this.filterManager=ms,this.filterElem=vs,this.elem=ws,ws.matteElement=createNS("g"),ws.matteElement.appendChild(ws.layerElement),ws.matteElement.appendChild(ws.transformedElement),ws.baseElement=ws.matteElement}SVGMatte3Effect.prototype.findSymbol=function(vs){for(var ms=0,ws=_svgMatteSymbols.length;ms<ws;){if(_svgMatteSymbols[ms]===vs)return _svgMatteSymbols[ms];ms+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(vs,ms){var ws=vs.layerElement.parentNode;if(ws){for(var Ss=ws.children,Es=0,_s=Ss.length;Es<_s&&Ss[Es]!==vs.layerElement;)Es+=1;var Is;Es<=_s-2&&(Is=Ss[Es+1]);var Ts=createNS("use");Ts.setAttribute("href","#"+ms),Is?ws.insertBefore(Ts,Is):ws.appendChild(Ts)}},SVGMatte3Effect.prototype.setElementAsMask=function(vs,ms){if(!this.findSymbol(ms)){var ws=createElementID(),Ss=createNS("mask");Ss.setAttribute("id",ms.layerId),Ss.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(ms);var Es=vs.globalData.defs;Es.appendChild(Ss);var _s=createNS("symbol");_s.setAttribute("id",ws),this.replaceInParent(ms,ws),_s.appendChild(ms.layerElement),Es.appendChild(_s);var Is=createNS("use");Is.setAttribute("href","#"+ws),Ss.appendChild(Is),ms.data.hd=!1,ms.show()}vs.setMatte(ms.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var vs=this.filterManager.effectElements[0].p.v,ms=this.elem.comp.elements,ws=0,Ss=ms.length;ws<Ss;)ms[ws]&&ms[ws].data.ind===vs&&this.setElementAsMask(this.elem,ms[ws]),ws+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(vs,ms,ws,Ss){vs.setAttribute("x","-100%"),vs.setAttribute("y","-100%"),vs.setAttribute("width","300%"),vs.setAttribute("height","300%"),this.filterManager=ms;var Es=createNS("feGaussianBlur");Es.setAttribute("result",Ss),vs.appendChild(Es),this.feGaussianBlur=Es}SVGGaussianBlurEffect.prototype.renderFrame=function(vs){if(vs||this.filterManager._mdf){var ms=.3,ws=this.filterManager.effectElements[0].p.v*ms,Ss=this.filterManager.effectElements[1].p.v,Es=Ss==3?0:ws,_s=Ss==2?0:ws;this.feGaussianBlur.setAttribute("stdDeviation",Es+" "+_s);var Is=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",Is)}};function TransformEffect(){}TransformEffect.prototype.init=function(vs){this.effectsManager=vs,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(vs){if(this._opMdf=!1,this._mdf=!1,vs||this.effectsManager._mdf){var ms=this.effectsManager.effectElements,ws=ms[0].p.v,Ss=ms[1].p.v,Es=ms[2].p.v===1,_s=ms[3].p.v,Is=Es?_s:ms[4].p.v,Ts=ms[5].p.v,Rs=ms[6].p.v,Bs=ms[7].p.v;this.matrix.reset(),this.matrix.translate(-ws[0],-ws[1],ws[2]),this.matrix.scale(Is*.01,_s*.01,1),this.matrix.rotate(-Bs*degToRads),this.matrix.skewFromAxis(-Ts*degToRads,(Rs+90)*degToRads),this.matrix.translate(Ss[0],Ss[1],0),this._mdf=!0,this.opacity!==ms[8].p.v&&(this.opacity=ms[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(vs,ms){this.init(ms)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(vs){this.init(vs)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie,lottie.exports);var lottieExports=lottie.exports;const p=getDefaultExportFromCjs(lottieExports);function m$1(vs,ms){ms===void 0&&(ms={});var ws=ms.insertAt;if(vs&&typeof document<"u"){var Ss=document.head||document.getElementsByTagName("head")[0],Es=document.createElement("style");Es.type="text/css",ws==="top"&&Ss.firstChild?Ss.insertBefore(Es,Ss.firstChild):Ss.appendChild(Es),Es.styleSheet?Es.styleSheet.cssText=vs:Es.appendChild(document.createTextNode(vs))}}var f$1=`.defly-wallet-modal-header {
  position: absolute;
  top: -44px;
  right: 0px;
  left: 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.defly-wallet-modal-header--mobile {
  position: static;
}
.defly-wallet-modal-header--mobile .defly-wallet-modal-header__close-button {
  width: 24px;
  height: 24px;
  margin: 0;
  padding: 0;
  background: transparent;
  border: unset;
  box-shadow: unset;
}

.defly-wallet-modal-header__brand {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 15px;
  font-weight: 600;
  line-height: 18px;
  letter-spacing: -0.13px;
  color: #ffffff;
}

.defly-wallet-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: auto;
  height: 48px;
  padding: 14px;
  border: none;
  border-radius: 12px;
  outline: none;
  cursor: pointer;
  font-family: var(--defly-wallet-modal-font-family);
  font-size: 14px;
}

.defly-wallet-modal-header__close-button {
  width: 40px;
  height: 40px;
  margin: 0;
  padding: 0;
  background: #333333;
  border: 1.5px solid rgba(255, 255, 255, 0.08);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
  border-radius: 100%;
}

.defly-wallet-modal-header__close-button__close-icon {
  width: 20px;
  height: 20px;
}`;m$1(f$1);const w$1=935;function x$1(){return document.documentElement.clientWidth<=w$1}function y$1(){document.documentElement.style.setProperty("--defly-wallet-vh",.01*window.innerHeight+"px")}const h$1=document.createElement("template"),g$1=C$3()?"defly-wallet-modal-header defly-wallet-modal-header--mobile":"defly-wallet-modal-header defly-wallet-modal-header--desktop";h$1.innerHTML=`
  <div class="${g$1}">
      ${x$1()&&C$3()?"":`<div class="defly-wallet-modal-header__brand">
              <img src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='36' height='36' viewBox='0 0 36 36'%3e %3cg transform='translate(18090 -8429)'%3e %3cg transform='translate(-18227.732 8408.374)'%3e %3cpath d='M168.632%2c47.566%2c155.742%2c26l-12.89%2c21.566%2c12.89-7.354Z' transform='translate(0)' fill='white'/%3e %3cpath d='M191.634%2c257.081l-10.639-5.607-10.639%2c5.607%2c10.639-3.464Z' transform='translate(-25.252 -207.321)' fill='white'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e" />

              Defly Connect
            </div>
            `} 

      <button
        id="defly-wallet-modal-header-close-button"
        class="defly-wallet-button defly-wallet-modal-header__close-button">
        <img
          class="defly-wallet-modal-header__close-button__close-icon"
          src="${x$1()&&C$3()?"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M18 6L12 12M12 12L6 18M12 12L18 18M12 12L6 6' stroke='%23999999' stroke-width='2'/%3e%3c/svg%3e":"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M18 6L12 12M12 12L6 18M12 12L18 18M12 12L6 6' stroke='white' stroke-width='2'/%3e%3c/svg%3e"}"
        />
      </button>
    </div>
`;let u$1=class extends HTMLElement{constructor(){if(super(),this.attachShadow({mode:"open"}),this.shadowRoot){const ms=document.createElement("style");ms.textContent=f$1,this.shadowRoot.append(h$1.content.cloneNode(!0),ms),this.onClose()}}onClose(){var ms;const ws=(ms=this.shadowRoot)===null||ms===void 0?void 0:ms.getElementById("defly-wallet-modal-header-close-button"),Ss=this.getAttribute("modal-id");ws&&Ss===s$1&&ws.addEventListener("click",()=>{f$3(s$1)})}};var k$1="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='36' height='36' viewBox='0 0 36 36'%3e%3cg transform='translate(18090 -8429)'%3e%3cg transform='translate(-18090 8428)'%3e%3crect width='36' height='36' rx='18' transform='translate(0 1)'/%3e%3c/g%3e%3cg transform='translate(-18227.732 8408.374)'%3e%3cpath d='M168.632%2c47.566%2c155.742%2c26l-12.89%2c21.566%2c12.89-7.354Z' transform='translate(0)' fill='white'/%3e%3cpath d='M191.634%2c257.081l-10.639-5.607-10.639%2c5.607%2c10.639-3.464Z' transform='translate(-25.252 -207.321)' fill='white'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",v$1=`.defly-wallet-download-qr-code-wrapper {
  width: fit-content;
  margin: 0 auto;
  display: flex;
  background-color: #ffffff;
  box-shadow: 0 12px 32px rgba(26, 35, 91, 0.1);
  border-radius: 30px;
  align-items: center;
  justify-content: center;
  padding: 15px;
}

@media (max-width: 935px) {
  .defly-wallet-download-qr-code-wrapper {
    margin-top: 32px;
  }
}`;m$1(v$1);const _$1=A$3()?"algorand://":"defly-wc://",b$1=document.createElement("template");b$1.innerHTML=`
  <div id="defly-wallet-download-qr-code-wrapper" class="defly-wallet-download-qr-code-wrapper"></div>  
`;let C$1=class extends HTMLElement{constructor(){if(super(),this.attachShadow({mode:"open"}),this.shadowRoot){const ms=document.createElement("style");ms.textContent=v$1,this.shadowRoot.append(b$1.content.cloneNode(!0),ms)}}connectedCallback(){var ms;const ws=new r({width:250,height:250,type:"svg",data:"https://defly.app/",image:k$1,dotsOptions:{color:"#000",type:"dots"},imageOptions:{crossOrigin:"anonymous",margin:10},cornersSquareOptions:{type:"extra-rounded"},cornersDotOptions:{type:"dot"}}),Ss=(ms=this.shadowRoot)===null||ms===void 0?void 0:ms.getElementById("defly-wallet-download-qr-code-wrapper");Ss&&ws.append(Ss)}};var E$1=`.defly-wallet-connect-modal-desktop-mode {
  display: grid;
  grid-template-columns: 50% auto;
  gap: 24px;
  align-items: center;
}
.defly-wallet-connect-modal-desktop-mode--default .defly-wallet-connect-modal-desktop-mode__default-view {
  display: block;
}
.defly-wallet-connect-modal-desktop-mode--default .defly-wallet-connect-modal-desktop-mode__download-view {
  display: none;
}
.defly-wallet-connect-modal-desktop-mode--download .defly-wallet-connect-modal-desktop-mode__default-view {
  display: none;
}
.defly-wallet-connect-modal-desktop-mode--download .defly-wallet-connect-modal-desktop-mode__download-view {
  display: block;
}
.defly-wallet-connect-modal-desktop-mode--download .defly-wallet-connect-modal-desktop-mode__download-view .defly-wallet-connect-modal-download-defly-view__footer a {
  display: flex;
  cursor: pointer;
}
.defly-wallet-connect-modal-desktop-mode--select-account {
  width: 100%;
  height: 100%;
}
.defly-wallet-connect-modal-desktop-mode--select-account.defly-wallet-connect-modal-desktop-mode--default {
  overflow: hidden;
}
.defly-wallet-connect-modal-desktop-mode--select-account .defly-wallet-accordion {
  overflow: hidden;
}
.defly-wallet-connect-modal-desktop-mode--select-account #defly-wallet-iframe {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 3;
  width: 100%;
  height: 100%;
  border-radius: 16px;
}

.defly-wallet-connect-modal-desktop-mode__accordion__description,
.defly-wallet-connect-modal-desktop-mode__connect-button-wrapper {
  padding: 0 40px 20px 64px;
}

.defly-wallet-connect-modal-desktop-mode__connect-button {
  display: block;
  width: 100%;
  height: 48px;
  border: unset;
  border-radius: 6px;
  background-color: #333333;
  color: white;
  cursor: pointer;
  font-family: var(--defly-wallet-modal-font-family);
  font-size: 13px;
}

.defly-wallet-connect-qr-code-wrapper {
  width: fit-content;
  padding: 10px;
  margin: 0 auto;
  display: flex;
  background-color: #ffffff;
  box-shadow: 0 12px 32px rgba(26, 35, 91, 0.1);
  border-radius: 30px;
}

.defly-wallet-connect-qr-code-wrapper {
  margin-top: 30px;
  cursor: pointer;
}

.defly-wallet-download-qr-code__image {
  width: 300px;
  height: 300px;
}

.defly-wallet-accordion-copy-button {
  display: block;
  width: 100%;
  color: #696868;
  text-align: center;
  margin-top: 15px;
  cursor: pointer;
  font-size: 12px;
  line-height: 16px;
  letter-spacing: -0.1px;
  font-weight: 400;
  transition: all ease-in 0.2s;
}
.defly-wallet-accordion-copy-button:hover {
  color: #999999;
}

.defly-wallet-connect-modal-desktop-mode__scan-defly-description {
  color: #999999;
  text-align: center;
  margin: 15px 0 12px;
  font-size: 22px;
  font-weight: 600;
  line-height: 26px;
  letter-spacing: 0.2px;
}
.defly-wallet-connect-modal-desktop-mode__scan-defly-description a {
  color: #999999;
}
.defly-wallet-connect-modal-desktop-mode__scan-defly-description a:hover {
  color: #696868;
}

.defly-wallet-connect-modal-desktop-mode__download-defly-description {
  color: #696868;
  text-align: center;
  margin: 32px 0 12px;
  font-size: 13px;
  font-weight: 500;
  line-height: 20px;
  letter-spacing: -0.04px;
}

.defly-wallet-connect-modal-download-defly-view__back-button {
  display: flex;
  align-items: center;
  gap: 16px;
  margin-bottom: 14px;
  padding: 12px 24px;
  color: #3c3c49;
  background-color: #ffffff;
  outline: none;
  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);
  border: unset;
  border-radius: 24px;
  font-size: 14px;
  font-weight: 600;
  line-height: 24px;
  letter-spacing: -0.1px;
  cursor: pointer;
}

.defly-wallet-connect-modal-download-defly-view {
  padding: 20px;
  background-color: #333333;
  border-radius: 30px;
}

.defly-wallet-connect-modal-download-defly-view__title {
  margin-bottom: 15px;
  color: #999999;
  font-weight: 600;
  font-size: 22px;
  line-height: 24px;
  text-align: center;
  letter-spacing: 0.2px;
}

.defly-wallet-connect-modal-download-defly-view__footer {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  margin-top: 20px;
}

.defly-wallet-connect-modal-download-defly-view__footer__button {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 8px 16px;
  color: #6a6a81;
  background-color: #ffffff;
  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);
  text-decoration: none;
  border-radius: 12px;
  font-weight: 500;
  font-size: 13px;
  line-height: 200%;
  letter-spacing: -0.04px;
  cursor: pointer;
}

#defly-wallet-iframe {
  width: 285px;
  height: 376px;
  margin: 0 auto;
  border: none;
}

@media (max-width: 935px) {
  .defly-wallet-connect-modal-desktop-mode {
    grid-template-columns: 1fr;
    gap: 24px;
  }
  .defly-wallet-connect-qr-code-wrapper {
    margin-top: 16px;
  }
  .defly-wallet-connect-modal-download-defly-view {
    padding: 24px;
  }
  .defly-wallet-connect-modal-download-defly-view__footer {
    margin-top: 40px;
  }
}`;m$1(E$1);var D$1=`.defly-wallet-accordion-item:not(:last-of-type) {
  margin-bottom: 20px;
}
.defly-wallet-accordion-item:not(:last-of-type) .defly-wallet-accordion-panel {
  display: flex;
  align-items: center;
  justify-content: center;
}
.defly-wallet-accordion-item .defly-wallet-accordion-item__content {
  height: 0;
  overflow: hidden;
  color: #696868;
  font-size: 12px;
  font-weight: 500;
  line-height: 16px;
  letter-spacing: -0.1px;
  transition: height ease-in 0.2s;
}
.defly-wallet-accordion-item--active .defly-wallet-accordion-item__content {
  height: 494px;
  transition: height ease-in 0.2s;
}

.defly-wallet-accordion-toggle {
  position: relative;
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 12px 24px;
  color: #2c3559;
  background-color: #ffffff;
  border: none;
  border-radius: 24px;
  outline: none;
  cursor: pointer;
  font-size: 16px;
  line-height: 18px;
  letter-spacing: -0.1px;
  font-weight: 600;
  transition: all ease-in 0.2s;
}
.defly-wallet-accordion-toggle__text, .defly-wallet-accordion-toggle__content-with-label__text {
  color: #6a6a81;
}

.defly-wallet-accordion-toggle__bold-color {
  color: #3c3c49;
  font-weight: 600;
}

.defly-wallet-accordion-toggle__content-with-label {
  display: flex;
  align-items: center;
  gap: 12px;
}

.defly-wallet-accordion-toggle__label {
  padding: 4px 9px;
  color: #00b19e;
  background: rgba(0, 177, 158, 0.08);
  border-radius: 12px;
  font-size: 11px;
  font-weight: 600;
  line-height: 18px;
  letter-spacing: 0.01px;
}

.defly-wallet-accordion-toggle__button {
  position: absolute;
  z-index: 2;
  width: 100%;
  height: 100%;
  background: transparent;
  box-shadow: none;
  outline: none;
  border: none;
  cursor: pointer;
}

@media (max-width: 935px) {
  .defly-wallet-accordion-toggle {
    font-size: 14px;
    font-weight: 500;
    line-height: 24px;
    letter-spacing: -0.1px;
  }
}`;m$1(D$1);const L$1=document.createElement("template"),S$1=document.createElement("style"),B$1=document.createElement("style");S$1.textContent=E$1,B$1.textContent=D$1,L$1.innerHTML=`
  <div id="defly-wallet-connect-modal-desktop-mode" class="defly-wallet-connect-modal-desktop-mode defly-wallet-connect-modal-desktop-mode--default">
      <defly-wallet-connect-modal-information-section></defly-wallet-connect-modal-information-section>

      <div class="defly-wallet-connect-modal-desktop-mode__default-view">

        <div class="defly-wallet-accordion-item defly-wallet-accordion-item--active">

          <div class="defly-wallet-accordion-item__content">
            <div id="defly-wallet-connect-modal-connect-qr-code" class="defly-wallet-connect-qr-code-wrapper f_copy-button"></div>

            <div class="defly-wallet-accordion-copy-button f_copy-button">Tap to copy</div>
            <p class="defly-wallet-connect-modal-desktop-mode__scan-defly-description">
                Scan with <a href="https://defly.app/">Defly Wallet</a>
            </p>

            
          </div>
        </div>
      </div>

      <div class="defly-wallet-connect-modal-desktop-mode__download-view">
        <button id="defly-wallet-connect-modal-download-defly-view-back-button" class="defly-wallet-connect-modal-download-defly-view__back-button">
          <img src="data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M10.7071 6.29387C11.0976 6.68439 11.0976 7.31756 10.7071 7.70808L7.41421 11.001L19 11.001C19.5523 11.001 20 11.4487 20 12.001C20 12.5533 19.5523 13.001 19 13.001L7.41421 13.001L10.7071 16.2939C11.0976 16.6844 11.0976 17.3176 10.7071 17.7081C10.3166 18.0986 9.68342 18.0986 9.29289 17.7081L4.29289 12.7081C4.10536 12.5205 4 12.2662 4 12.001C4 11.7358 4.10536 11.4814 4.29289 11.2939L9.29289 6.29387C9.68342 5.90335 10.3166 5.90335 10.7071 6.29387Z' fill='%233C3C49'/%3e%3c/svg%3e" alt="Back Arrow" /> Back
        </button>

        <div class="defly-wallet-connect-modal-download-defly-view">
          <h1 class="defly-wallet-connect-modal-download-defly-view__title">
            Download Defly Wallet
          </h1>

          <defly-wallet-download-qr-code></defly-wallet-download-qr-code>

          <div class="defly-wallet-connect-modal-download-defly-view__footer">
            <a
              href="https://apps.apple.com/us/app/defly/id1602672723"
              target="_blank"
              rel="noopener noreferrer">
              <img src="data:image/svg+xml,%3csvg width='40' height='40' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='40' height='40' rx='12' fill='black'/%3e%3cpath d='M25.6308 20.3011C25.6416 19.4664 25.8633 18.6481 26.2753 17.9221C26.6873 17.1962 27.2763 16.5863 27.9873 16.1491C27.5356 15.5039 26.9397 14.973 26.2469 14.5984C25.554 14.2239 24.7834 14.016 23.9963 13.9914C22.317 13.8151 20.6891 14.9962 19.8333 14.9962C18.9611 14.9962 17.6436 14.0089 16.2249 14.0381C15.3072 14.0677 14.4128 14.3346 13.6289 14.8126C12.8451 15.2906 12.1984 15.9636 11.7519 16.7659C9.81789 20.1144 11.2605 25.0354 13.1132 27.742C14.0401 29.0674 15.1233 30.5478 16.5408 30.4953C17.9278 30.4378 18.4458 29.6108 20.1202 29.6108C21.779 29.6108 22.265 30.4953 23.7112 30.4619C25.1995 30.4378 26.1372 29.1307 27.0316 27.7928C27.6976 26.8484 28.2101 25.8047 28.55 24.7003C27.6853 24.3345 26.9474 23.7224 26.4283 22.9401C25.9092 22.1578 25.6318 21.2399 25.6308 20.3011ZM22.8993 12.2113C23.7108 11.2371 24.1106 9.98492 24.0138 8.7207C22.7739 8.85092 21.6287 9.44347 20.8062 10.3803C20.404 10.838 20.096 11.3704 19.8998 11.9472C19.7035 12.5239 19.6229 13.1337 19.6625 13.7417C20.2826 13.7481 20.8961 13.6137 21.4568 13.3486C22.0175 13.0835 22.5107 12.6946 22.8993 12.2113Z' fill='white'/%3e%3c/svg%3e" alt="App Store icon" />
            </a>

            <a
              href="https://play.google.com/store/apps/details?id=io.blockshake.defly.app"
              target="_blank"
              rel="noopener noreferrer">
              <img src="data:image/svg+xml,%3csvg width='40' height='40' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='40' height='40' rx='12' fill='black'/%3e%3cpath d='M12.41 9.7719C12.1334 10.0219 11.9683 10.4388 11.9683 10.9922V10.8671V29.1294V29.0091C11.9683 29.5202 12.1099 29.9149 12.3497 30.169L12.4109 30.2277V30.228C12.6051 30.4035 12.854 30.4966 13.1393 30.4963C13.418 30.4963 13.7316 30.4073 14.0626 30.2194L26.0264 23.4107L30.1359 21.0717C30.6578 20.7748 30.9508 20.3917 30.9998 20.0014V19.9998C30.9508 19.6087 30.6578 19.2259 30.1359 18.9289L26.0261 16.5902L14.0627 9.78154C13.731 9.59325 13.4171 9.50391 13.1376 9.50391C12.8527 9.50391 12.6041 9.59677 12.41 9.7719H12.41Z' fill='%2300C1FF'/%3e%3cpath d='M12.411 30.2285L12.3497 30.1698C12.1099 29.9157 11.9683 29.5209 11.9683 29.0098V29.1301V10.8724V10.993C11.9683 10.4396 12.1334 10.0226 12.41 9.77268L22.622 20.0009L12.411 30.2285Z' fill='url(%23paint0_linear_173_14441)'/%3e%3cpath d='M26.0256 23.4102L22.6211 19.9996L26.0253 16.5896L30.1351 18.9283C30.657 19.2253 30.95 19.6081 30.9989 19.9993V20.0008C30.95 20.3911 30.657 20.7742 30.1351 21.0712L26.0256 23.4101' fill='url(%23paint1_linear_173_14441)'/%3e%3cpath d='M13.1374 30.4961C12.8522 30.4964 12.6033 30.4032 12.4092 30.2277V30.2275L22.6202 19.9999L26.0246 23.4104L14.0608 30.2191C13.7298 30.4071 13.4162 30.4961 13.1374 30.4961Z' fill='url(%23paint2_linear_173_14441)'/%3e%3cpath d='M22.6212 20.002L12.4092 9.7737C12.6033 9.59858 12.8519 9.50571 13.1368 9.50571C13.4163 9.50571 13.7302 9.59501 14.0618 9.78335L26.0253 16.592L22.6212 20.002' fill='url(%23paint3_linear_173_14441)'/%3e%3cpath d='M13.1394 30.6172C12.8542 30.6172 12.6049 30.524 12.4108 30.3486L12.4105 30.3489C12.4097 30.3481 12.4088 30.3473 12.4079 30.3466L12.3548 30.2947C12.3531 30.2931 12.3516 30.2912 12.3496 30.2893L12.4108 30.2279C12.6049 30.4034 12.8538 30.4966 13.1392 30.4962C13.4179 30.4962 13.7315 30.4073 14.0625 30.2193L26.0263 23.4106L26.1029 23.4874L26.0253 23.5316L14.0625 30.3398C13.7608 30.5111 13.4739 30.6004 13.2147 30.6153C13.1896 30.6165 13.1645 30.6171 13.1394 30.6172' fill='url(%23paint4_linear_173_14441)'/%3e%3cpath d='M12.3497 30.2891C12.1099 30.0349 11.9683 29.6406 11.9683 29.1292V29.0089C11.9683 29.52 12.1099 29.9146 12.3497 30.1688L12.4109 30.2275L12.3497 30.2891Z' fill='url(%23paint5_linear_173_14441)'/%3e%3cpath d='M26.1025 23.4882L26.0259 23.4114L30.1349 21.0727C30.6568 20.7758 30.9498 20.3927 30.9987 20.0025C30.9987 20.1457 30.9668 20.2889 30.9035 20.4282C30.7756 20.7091 30.5194 20.9744 30.135 21.1934L26.1025 23.4883' fill='url(%23paint6_linear_173_14441)'/%3e%3cpath d='M30.9991 20C30.9501 19.6089 30.6571 19.2261 30.1353 18.9291L26.0259 16.5907L26.1025 16.5139H26.1029L30.1353 18.8088C30.7106 19.1365 30.9987 19.5682 30.9991 20Z' fill='url(%23paint7_linear_173_14441)'/%3e%3cpath d='M11.9683 10.9922V10.8661C11.9683 10.8206 11.9695 10.7761 11.9718 10.7329V10.7309C11.9718 10.7303 11.9718 10.7297 11.972 10.729V10.7242C11.9969 10.284 12.1334 9.94066 12.3497 9.71139L12.4099 9.77198C12.1334 10.0219 11.9683 10.4388 11.9683 10.9922Z' fill='url(%23paint8_linear_173_14441)'/%3e%3cpath d='M26.026 16.5898L14.0625 9.78115C13.7308 9.59285 13.417 9.50355 13.1375 9.50355C12.8525 9.50355 12.6039 9.59642 12.4099 9.77154L12.3496 9.71091C12.3684 9.69096 12.388 9.67172 12.4082 9.65322C12.4089 9.65255 12.4099 9.65188 12.4105 9.65125C12.6031 9.47747 12.849 9.3846 13.1314 9.38293H13.1375C13.417 9.38293 13.7308 9.47227 14.0625 9.66064L26.1029 16.5128L26.1026 16.513L26.026 16.5898Z' fill='url(%23paint9_linear_173_14441)'/%3e%3cdefs%3e%3clinearGradient id='paint0_linear_173_14441' x1='18.4943' y1='10.6794' x2='9.69389' y2='19.494' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%2300A0FF'/%3e%3cstop offset='0.00657' stop-color='%2300A1FF'/%3e%3cstop offset='0.2601' stop-color='%2300BEFF'/%3e%3cstop offset='0.5122' stop-color='%2300D2FF'/%3e%3cstop offset='0.7604' stop-color='%2300DFFF'/%3e%3cstop offset='1' stop-color='%2300E3FF'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear_173_14441' x1='31.6348' y1='19.9407' x2='11.691' y2='19.9407' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23FFE000'/%3e%3cstop offset='0.4087' stop-color='%23FFBD00'/%3e%3cstop offset='0.7754' stop-color='orange'/%3e%3cstop offset='1' stop-color='%23FF9C00'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear_173_14441' x1='24.2172' y1='23.2425' x2='9.30414' y2='38.0705' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23FF3A44'/%3e%3cstop offset='1' stop-color='%23C31162'/%3e%3c/linearGradient%3e%3clinearGradient id='paint3_linear_173_14441' x1='9.77725' y1='8.25731' x2='16.4237' y2='14.876' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%2332A071'/%3e%3cstop offset='0.0685' stop-color='%232DA771'/%3e%3cstop offset='0.4762' stop-color='%2315CF74'/%3e%3cstop offset='0.8009' stop-color='%2306E775'/%3e%3cstop offset='1' stop-color='%2300F076'/%3e%3c/linearGradient%3e%3clinearGradient id='paint4_linear_173_14441' x1='24.2114' y1='25.6084' x2='12.2683' y2='37.5709' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23CC2E36'/%3e%3cstop offset='1' stop-color='%239C0E4E'/%3e%3c/linearGradient%3e%3clinearGradient id='paint5_linear_173_14441' x1='13.3285' y1='10.6804' x2='5.57625' y2='18.4453' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23008DE0'/%3e%3cstop offset='0.00657' stop-color='%23008DE0'/%3e%3cstop offset='0.2601' stop-color='%2300A7E0'/%3e%3cstop offset='0.5122' stop-color='%2300B8E0'/%3e%3cstop offset='0.7604' stop-color='%2300C4E0'/%3e%3cstop offset='1' stop-color='%2300C7E0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint6_linear_173_14441' x1='31.6346' y1='20.0018' x2='11.6929' y2='20.0018' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23E0C500'/%3e%3cstop offset='0.4087' stop-color='%23E0A600'/%3e%3cstop offset='0.7754' stop-color='%23E09100'/%3e%3cstop offset='1' stop-color='%23E08900'/%3e%3c/linearGradient%3e%3clinearGradient id='paint7_linear_173_14441' x1='31.6349' y1='20.0008' x2='11.6933' y2='20.0008' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23FFE840'/%3e%3cstop offset='0.4087' stop-color='%23FFCE40'/%3e%3cstop offset='0.7754' stop-color='%23FFBC40'/%3e%3cstop offset='1' stop-color='%23FFB540'/%3e%3c/linearGradient%3e%3clinearGradient id='paint8_linear_173_14441' x1='13.3201' y1='10.6927' x2='5.8533' y2='17.8475' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%2340B8FF'/%3e%3cstop offset='0.00657' stop-color='%2340B9FF'/%3e%3cstop offset='0.2601' stop-color='%2340CEFF'/%3e%3cstop offset='0.5122' stop-color='%2340DDFF'/%3e%3cstop offset='0.7604' stop-color='%2340E7FF'/%3e%3cstop offset='1' stop-color='%2340EAFF'/%3e%3c/linearGradient%3e%3clinearGradient id='paint9_linear_173_14441' x1='9.76302' y1='10.4182' x2='15.0961' y2='15.76' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%2365B895'/%3e%3cstop offset='0.0685' stop-color='%2362BD95'/%3e%3cstop offset='0.4762' stop-color='%2350DB97'/%3e%3cstop offset='0.8009' stop-color='%2344ED98'/%3e%3cstop offset='1' stop-color='%2340F498'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e" alt="Play Store icon" />
            </a>

          </div>
        </div>
      </div>
    </div>
  `;let A$1=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot&&(this.shadowRoot.append(L$1.content.cloneNode(!0),S$1,B$1),this.shadowRoot.addEventListener("click",ms=>{this.handleAccordion(ms)}))}connectedCallback(){this.handleChangeView()}handleChangeView(){var ms,ws,Ss;const Es=(ms=this.shadowRoot)===null||ms===void 0?void 0:ms.getElementById("defly-wallet-connect-modal-desktop-mode-download-defly-button"),_s=(ws=this.shadowRoot)===null||ws===void 0?void 0:ws.getElementById("defly-wallet-connect-modal-download-defly-view-back-button"),Is=(Ss=this.shadowRoot)===null||Ss===void 0?void 0:Ss.querySelectorAll(".f_copy-button");Es&&Es.addEventListener("click",()=>{this.onClickDownload()}),_s&&_s.addEventListener("click",()=>{this.onClickBack()}),Is&&Is.length&&Is.forEach(Ts=>{Ts.addEventListener("click",()=>{this.onClickCopy()})}),this.renderQRCode()}handleAccordion(ms){var ws,Ss;if(ms.target instanceof Element){if(!ms.target.classList.contains("defly-wallet-accordion-toggle__button"))return;if(this.shadowRoot&&(!((ws=ms.target.parentElement)===null||ws===void 0)&&ws.parentElement)){const Es=(Ss=ms.target.parentElement)===null||Ss===void 0?void 0:Ss.parentElement;if(!Es||Es.classList.contains("defly-wallet-accordion-item--active"))return;const _s=this.shadowRoot.querySelectorAll(".defly-wallet-accordion-item.defly-wallet-accordion-item--active");for(let Is=0;Is<_s.length;Is++)_s[Is].classList.remove("defly-wallet-accordion-item--active");Es.classList.toggle("defly-wallet-accordion-item--active")}}}renderQRCode(){var ms;const ws=this.getAttribute("uri");if(ws){const Ss=new r({width:330,height:330,type:"svg",data:ws,image:k$1,dotsOptions:{color:"#000",type:"dots"},imageOptions:{imageSize:.21,crossOrigin:"anonymous"},cornersSquareOptions:{type:"extra-rounded"},cornersDotOptions:{type:"dot"}}),Es=(ms=this.shadowRoot)===null||ms===void 0?void 0:ms.getElementById("defly-wallet-connect-modal-connect-qr-code");Es&&Ss.append(Es)}}onClickDownload(){if(this.shadowRoot){const ms=this.shadowRoot.getElementById("defly-wallet-connect-modal-desktop-mode");ms&&(ms.classList.remove("defly-wallet-connect-modal-desktop-mode--default"),ms.classList.add("defly-wallet-connect-modal-desktop-mode--download"))}}onClickCopy(){if(this.shadowRoot){const ms=this.getAttribute("uri");if(ms){const ws=document.createElement("textarea");ws.style.position="fixed",ws.style.left="0",ws.style.top="0",ws.style.opacity="0",ws.value=ms,document.body.appendChild(ws),ws.focus(),ws.select(),document.execCommand("copy"),document.body.removeChild(ws)}}}onClickBack(){if(this.shadowRoot){const ms=this.shadowRoot.getElementById("defly-wallet-connect-modal-desktop-mode");ms&&(ms.classList.add("defly-wallet-connect-modal-desktop-mode--default"),ms.classList.remove("defly-wallet-connect-modal-desktop-mode--download"))}}};function M$1(vs=!0){let ms=_$1;const ws=L$3();return vs&&ws&&(ms=`${ms}?browser=${encodeURIComponent(ws)}`),ms}var F$1=`.defly-wallet-connect-modal-touch-screen-mode {
  display: grid;
  grid-template-columns: 1fr;
  gap: 46px;
  padding: 4px;
}

.defly-wallet-connect-modal-touch-screen-mode--pending-message-view {
  gap: 56px;
  grid-template-rows: auto 48px;
  height: 100%;
  padding-bottom: 70px;
}

.defly-wallet-connect-modal-touch-screen-mode__launch-defly-wallet-button,
.defly-wallet-connect-modal-touch-screen-mode__install-defly-wallet-button {
  display: block;
  padding: 14px;
  border-radius: 12px;
  text-decoration: none;
  text-align: center;
  font-size: 15px;
  line-height: 26px;
  letter-spacing: -0.09px;
  font-weight: 500;
  margin: 0 40px;
}

.defly-wallet-connect-modal-touch-screen-mode__launch-defly-wallet-button {
  margin-bottom: 45px;
  background: linear-gradient(90deg, #3E38B9, #413AAA);
  color: #ffffff;
}

.defly-wallet-connect-modal-touch-screen-mode__install-defly-wallet-button {
  margin-bottom: 20px;
  background-color: #494949;
  color: #ffffff;
}

.defly-wallet-connect-modal-touch-screen-mode__new-to-defly-box {
  position: relative;
  margin-bottom: 5px;
}

.defly-wallet-connect-modal-touch-screen-mode__new-to-defly-box__text {
  color: #999999;
  font-size: 16px;
  font-weight: 500;
  line-height: 24px;
  letter-spacing: -0.04px;
  text-align: center;
}
.defly-wallet-connect-modal-touch-screen-mode__new-to-defly-box__text a {
  color: inherit;
}`;m$1(F$1);const R$1=document.createElement("template");let z$1=class extends HTMLElement{constructor(){var ms;if(super(),this.attachShadow({mode:"open"}),R$1.innerHTML=`
  <div class="defly-wallet-connect-modal-touch-screen-mode">
    <defly-wallet-connect-modal-information-section></defly-wallet-connect-modal-information-section>

    <div>
      <a
        id="defly-wallet-connect-modal-touch-screen-mode-launch-defly-wallet-button"
        class="defly-wallet-connect-modal-touch-screen-mode__launch-defly-wallet-button"
        rel="noopener noreferrer"
        target="_blank">
        Launch Defly Wallet
      </a>

      <div
        class="defly-wallet-connect-modal-touch-screen-mode__new-to-defly-box">
        <p class="defly-wallet-connect-modal-touch-screen-mode__new-to-defly-box__text">
          New to <a href="https://defly.app/">Defly Wallet</a>?
        </p>
      </div>

      <a
        href="https://defly.app/download.html"
        class="defly-wallet-connect-modal-touch-screen-mode__install-defly-wallet-button"
        rel="noopener noreferrer"
        target="_blank">
        Install Defly Wallet
      </a>
    </div>
  </div>
`,this.shadowRoot){const ws=document.createElement("style");ws.textContent=F$1,this.shadowRoot.append(R$1.content.cloneNode(!0),ws);const Ss=(ms=this.shadowRoot)===null||ms===void 0?void 0:ms.getElementById("defly-wallet-connect-modal-touch-screen-mode-launch-defly-wallet-button"),Es=this.getAttribute("uri");Ss&&Es&&(Ss.setAttribute("href",function(_s){let Is=M$1(!1);E$3()&&!Is.includes("-wc")&&(Is=Is.replace("://","-wc://"));let Ts=`${Is}wc?uri=${encodeURIComponent(_s)}`;const Rs=L$3();return A$3()&&(Ts=_s),Rs&&(Ts=`${Ts}&browser=${encodeURIComponent(Rs)}`),Ts}(Es)),Ss.addEventListener("click",()=>{this.onClickLaunch()}))}}onClickLaunch(){if(R$1.innerHTML=`
    <div class="defly-wallet-connect-modal-touch-screen-mode defly-wallet-connect-modal-touch-screen-mode--pending-message-view">
      <defly-wallet-connect-modal-pending-message-section should-use-sound="${this.getAttribute("should-use-sound")}"></defly-wallet-connect-modal-pending-message-section>
    </div>
  `,this.shadowRoot){const ms=document.createElement("style");ms.textContent=F$1,this.shadowRoot.innerHTML="",this.shadowRoot.append(R$1.content.cloneNode(!0),ms)}}};var H$1=`@import url("https://fonts.googleapis.com/css2?family=Spline+Sans:wght@400;500;600&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Hanken+Grotesk:wght@100;900&display=swap");
.defly-wallet-modal {
  --defly-wallet-modal-font-family: "Spline Sans", sans-serif;
  --defly-wallet-connect-modal-headline-family: "Hanken Grotesk", sans-serif;
  position: fixed;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  z-index: 999999;
  width: 100vw;
  height: 100vh;
  background-color: rgba(0, 0, 0, 0.7);
}
.defly-wallet-modal--select-account .defly-wallet-modal__body {
  width: 480px;
  height: 578px;
}
.defly-wallet-modal--mobile .defly-wallet-modal__body {
  top: 40px;
  bottom: 0;
  left: 20px;
  width: calc(100% - 40px);
  max-width: unset;
  height: calc(100 * var(--defly-wallet-vh));
  padding: 20px;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);
  border-radius: 20px 20px 0px 0px;
  animation: 0.3s DeflyWalletConnectMobileSlideIn ease-out;
  overflow-y: auto;
  transform: unset;
}
.defly-wallet-modal--mobile .defly-wallet-modal__body::before {
  background-image: unset;
}
.defly-wallet-modal * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: var(--defly-wallet-modal-font-family);
  font-smooth: antialiased;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.defly-wallet-modal ul,
.defly-wallet-modal ol,
.defly-wallet-modal li {
  list-style-type: none;
}

.defly-wallet-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: auto;
  height: 48px;
  padding: 14px;
  border: none;
  border-radius: 12px;
  outline: none;
  cursor: pointer;
  font-family: var(--defly-wallet-modal-font-family);
  font-size: 14px;
}

.defly-wallet-modal__logo img {
  display: block;
  width: 32px;
}

.defly-wallet-modal__body {
  position: relative;
  top: 50%;
  left: 50%;
  width: 979px;
  max-width: calc(100vw - 80px);
  padding: 28px;
  background-color: #131313;
  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);
  border-radius: 40px;
  animation: 0.3s DeflyWalletConnectSlideIn ease-out;
  transform: translate(-50%, -50%);
}

@media (max-width: 935px) {
  .defly-wallet-modal--desktop .defly-wallet-modal__body {
    width: 100%;
    max-width: calc(100vw - 32px);
    padding: 24px;
  }
}
@keyframes DeflyWalletConnectSlideIn {
  0% {
    opacity: 0;
    transform: translate(-50%, calc(-50% + 24px));
  }
  100% {
    opacity: 1;
    transform: translate(-50%, -50%);
  }
}
@keyframes DeflyWalletConnectMobileSlideIn {
  0% {
    top: 30%;
    opacity: 0;
  }
  100% {
    top: 40px;
    opacity: 1;
  }
}`;m$1(H$1);const I$1=document.createElement("template"),V$1=C$3()?`${d$1} ${d$1}--mobile`:`${d$1} ${d$1}--desktop`;let G$1=class extends HTMLElement{constructor(){if(super(),this.attachShadow({mode:"open"}),this.shadowRoot){const ms=document.createElement("style");ms.textContent=H$1,C$3()?(I$1.innerHTML=`
        <div class="${V$1}">
          <div class="defly-wallet-modal__body" part="body">
            <defly-wallet-modal-header modal-id="${l$1}"></defly-wallet-modal-header/>
      
            <defly-wallet-modal-touch-screen-mode uri="${this.getAttribute("uri")}" should-use-sound="${this.getAttribute("should-use-sound")}"></defly-wallet-modal-touch-screen-mode>
          </div>
        </div>
      `,this.shadowRoot.append(I$1.content.cloneNode(!0),ms)):(I$1.innerHTML=`
          <div class="${V$1}">
            <div class="defly-wallet-modal__body">
              <defly-wallet-modal-header modal-id="${l$1}"></defly-wallet-modal-header/>
        
              <defly-wallet-modal-desktop-mode id="defly-wallet-modal-desktop-mode" uri="${this.getAttribute("uri")}">
              </defly-wallet-modal-desktop-mode>
            </div>
          </div>
        `,this.shadowRoot.append(I$1.content.cloneNode(!0),ms))}}};var T$1=`@import url("https://fonts.googleapis.com/css2?family=Spline+Sans:wght@400;500;600&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Hanken+Grotesk:wght@100;900&display=swap");
.defly-wallet-modal {
  --defly-wallet-modal-font-family: "Spline Sans", sans-serif;
  --defly-wallet-connect-modal-headline-family: "Hanken Grotesk", sans-serif;
  position: fixed;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  z-index: 999999;
  width: 100vw;
  height: 100vh;
  background-color: rgba(0, 0, 0, 0.7);
}
.defly-wallet-modal--select-account .defly-wallet-modal__body {
  width: 480px;
  height: 578px;
}
.defly-wallet-modal--mobile .defly-wallet-modal__body {
  top: 40px;
  bottom: 0;
  left: 20px;
  width: calc(100% - 40px);
  max-width: unset;
  height: calc(100 * var(--defly-wallet-vh));
  padding: 20px;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);
  border-radius: 20px 20px 0px 0px;
  animation: 0.3s DeflyWalletConnectMobileSlideIn ease-out;
  overflow-y: auto;
  transform: unset;
}
.defly-wallet-modal--mobile .defly-wallet-modal__body::before {
  background-image: unset;
}
.defly-wallet-modal * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: var(--defly-wallet-modal-font-family);
  font-smooth: antialiased;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.defly-wallet-modal ul,
.defly-wallet-modal ol,
.defly-wallet-modal li {
  list-style-type: none;
}

.defly-wallet-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: auto;
  height: 48px;
  padding: 14px;
  border: none;
  border-radius: 12px;
  outline: none;
  cursor: pointer;
  font-family: var(--defly-wallet-modal-font-family);
  font-size: 14px;
}

.defly-wallet-modal__logo img {
  display: block;
  width: 32px;
}

.defly-wallet-modal__body {
  position: relative;
  top: 50%;
  left: 50%;
  width: 979px;
  max-width: calc(100vw - 80px);
  padding: 28px;
  background-color: #131313;
  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);
  border-radius: 40px;
  animation: 0.3s DeflyWalletConnectSlideIn ease-out;
  transform: translate(-50%, -50%);
}

@media (max-width: 935px) {
  .defly-wallet-modal--desktop .defly-wallet-modal__body {
    width: 100%;
    max-width: calc(100vw - 32px);
    padding: 24px;
  }
}
@keyframes DeflyWalletConnectSlideIn {
  0% {
    opacity: 0;
    transform: translate(-50%, calc(-50% + 24px));
  }
  100% {
    opacity: 1;
    transform: translate(-50%, -50%);
  }
}
@keyframes DeflyWalletConnectMobileSlideIn {
  0% {
    top: 30%;
    opacity: 0;
  }
  100% {
    top: 40px;
    opacity: 1;
  }
}
.defly-wallet-redirect-modal {
  display: grid;
  grid-template-columns: 1fr;
  gap: 56px;
  grid-template-rows: auto 48px;
  height: 100%;
  padding: 4px;
  padding-bottom: 70px;
}

.defly-wallet-redirect-modal__content {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
}

.defly-wallet-redirect-modal__content__title {
  margin: 20px 0 8px;
  color: #3c3c49;
  font-size: 18px;
  font-weight: 600;
  line-height: 22px;
  letter-spacing: -0.26px;
}

.defly-wallet-redirect-modal__content__description,
.defly-wallet-redirect-modal__content__install-defly-text {
  color: #3c3c49;
  max-width: 271px;
  font-size: 14px;
  font-weight: 400;
  line-height: 24px;
  letter-spacing: -0.09px;
  text-align: center;
}

.defly-wallet-redirect-modal__content__description {
  margin-bottom: 24px;
}

.defly-wallet-redirect-modal__content__install-defly-text__link {
  color: #6b46fe;
  font-size: 14px;
  font-weight: 400;
  line-height: 24px;
  letter-spacing: -0.09px;
  text-align: center;
}

.defly-wallet-redirect-modal__launch-defly-wallet-button {
  display: block;
  padding: 14px;
  color: #ffffff;
  background-color: #6b46fe;
  border-radius: 12px;
  text-decoration: none;
  text-align: center;
  font-size: 14px;
  line-height: 20px;
  letter-spacing: -0.09px;
  font-weight: 500;
}`;m$1(T$1);const W$1=document.createElement("template");W$1.innerHTML=`
  <div class="defly-wallet-modal defly-wallet-modal--mobile">
    <div class="defly-wallet-modal__body">
    <defly-wallet-modal-header modal-id="${s$1}"></pera-wallet-modal-header/>
      <div class="defly-wallet-redirect-modal">
        <div class="defly-wallet-redirect-modal__content">
          <img src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='120' height='38' viewBox='0 0 120 38'%3e %3cdefs%3e %3cclipPath id='a'%3e %3crect width='120' height='38' fill='white'/%3e %3c/clipPath%3e %3c/defs%3e %3cg transform='translate(18090 -8428)'%3e %3cg transform='translate(-18090 8428)' clip-path='url(%23a)'%3e %3crect width='36' height='36' rx='7.768' transform='translate(0 1)' fill='%23222222'/%3e %3cpath d='M112.25%2c37h-11.5A5.976%2c5.976%2c0%2c0%2c1%2c95%2c30.818V9.182A5.976%2c5.976%2c0%2c0%2c1%2c100.75%2c3h11.5A5.976%2c5.976%2c0%2c0%2c1%2c118%2c9.182V30.818A5.976%2c5.976%2c0%2c0%2c1%2c112.25%2c37Z' transform='translate(0 -1)' fill='rgba(107%2c70%2c254%2c0.1)'/%3e %3cpath d='M112.25%2c38.5h-11.5a7.484%2c7.484%2c0%2c0%2c1-7.25-7.682V9.182A7.484%2c7.484%2c0%2c0%2c1%2c100.75%2c1.5h11.5a7.484%2c7.484%2c0%2c0%2c1%2c7.25%2c7.682V30.818A7.484%2c7.484%2c0%2c0%2c1%2c112.25%2c38.5Zm-11.5-34A4.487%2c4.487%2c0%2c0%2c0%2c96.5%2c9.182V30.818a4.487%2c4.487%2c0%2c0%2c0%2c4.25%2c4.682h11.5a4.487%2c4.487%2c0%2c0%2c0%2c4.25-4.682V9.182A4.487%2c4.487%2c0%2c0%2c0%2c112.25%2c4.5Z' transform='translate(0 -1)' fill='white'/%3e %3cpath d='M78.927%2c16.594H52v-3H71.683l-2.534-2.534L71.27%2c8.939Z' fill='white'/%3e %3cpath d='M59.73%2c30.655%2c52.073%2c23H79v3H59.317l2.534%2c2.534Z' fill='white'/%3e %3cpath d='M109.565%2c30.175h-5.826a1.5%2c1.5%2c0%2c1%2c1%2c0-3h5.826a1.5%2c1.5%2c0%2c0%2c1%2c0%2c3Z' fill='white'/%3e %3c/g%3e %3cg transform='translate(-18227.544 8408.866)'%3e %3cpath d='M168.632%2c47.566%2c155.742%2c26l-12.89%2c21.566%2c12.89-7.354Z' transform='translate(0)' fill='white'/%3e %3cpath d='M191.634%2c257.081l-10.639-5.607-10.639%2c5.607%2c10.639-3.464Z' transform='translate(-25.252 -207.321)' fill='white'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e" />

          <h1 class="defly-wallet-redirect-modal__content__title">
            Can't Launch Defly
          </h1>

          <p class="defly-wallet-redirect-modal__content__description">
            We couldn't redirect you to Defly Wallet automatically. Please try again.
          </p>

          <p class="defly-wallet-redirect-modal__content__install-defly-text">
            Don't have Defly Wallet installed yet?
            <br />
            
            <a
              id="defly-wallet-redirect-modal-download-defly-link"
              class="defly-wallet-redirect-modal__content__install-defly-text__link"
              href="https://defly.app/ "
              rel="noopener noreferrer"
              target="_blank">
              Tap here to install.
            </a>
          </p>
        </div>

        <a
          id="defly-wallet-redirect-modal-launch-defly-link"
          class="defly-wallet-redirect-modal__launch-defly-wallet-button"
          rel="noopener noreferrer"
          target="_blank">
          Launch Defly Wallet
        </a>
      </div>
    </div>
  </div>
`;let O$1=class extends HTMLElement{constructor(){var ms,ws;if(super(),this.attachShadow({mode:"open"}),this.shadowRoot){const Ss=document.createElement("style");Ss.textContent=T$1,this.shadowRoot.append(W$1.content.cloneNode(!0),Ss);const Es=(ms=this.shadowRoot)===null||ms===void 0?void 0:ms.getElementById("defly-wallet-redirect-modal-download-defly-link");Es==null||Es.addEventListener("click",()=>{this.onClose()});const _s=(ws=this.shadowRoot)===null||ws===void 0?void 0:ws.getElementById("defly-wallet-redirect-modal-launch-defly-link");_s==null||_s.addEventListener("click",()=>{this.onClose(),window.open(M$1(),"_blank")})}}connectedCallback(){const ms=window.open(M$1(),"_blank");ms&&!ms.closed&&this.onClose()}onClose(){f$3(s$1)}};var Z$1="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='101.962' height='90.114' viewBox='0 0 101.962 90.114'%3e %3cg transform='translate(0.004)'%3e %3cpath d='M244.81%2c107.44%2c193.834%2c26l-50.986%2c81.44%2c50.986-27.77Z' transform='translate(-142.852 -26)' fill='white'/%3e %3cpath d='M254.505%2c273.648l-42.072-22.175-42.076%2c22.175%2c42.076-13.7Z' transform='translate(-161.446 -183.534)' fill='white'/%3e %3c/g%3e%3c/svg%3e",j$1=`.defly-wallet-connect-modal-information-section {
  padding: 12px;
  display: flex;
  align-items: center;
  flex-flow: column;
  justify-content: center;
}
.defly-wallet-connect-modal-information-section--mobile {
  padding: 0;
  margin-top: 20px;
}
.defly-wallet-connect-modal-information-section--mobile .defly-wallet-connect-modal-information-section__defly-icon {
  margin-bottom: 21px;
  max-width: 70px;
}
.defly-wallet-connect-modal-information-section--mobile .defly-wallet-connect-modal-information-section__title {
  font-size: 34px;
  line-height: 32px;
}

.defly-wallet-connect-modal-information-section__defly-icon {
  margin-bottom: 32px;
}

.defly-wallet-connect-modal-information-section__title {
  margin-top: 0;
  margin-bottom: 0;
  color: #fff;
  font-size: 52px;
  line-height: 48px;
  font-weight: 900;
  white-space: pre-line;
  text-align: center;
  letter-spacing: 0;
  font-family: var(--defly-wallet-connect-modal-headline-family), sans-serif;
}

.defly-wallet-connect-modal-information-section__download-defly-button {
  display: flex;
  align-items: center;
  gap: 8px;
  margin: 20px auto 0;
  padding: 0;
  color: #999999;
  background-color: transparent;
  outline: none;
  border: none;
  font-weight: 600;
  font-size: 13px;
  line-height: 20px;
  letter-spacing: 0.01px;
  cursor: pointer;
}
.defly-wallet-connect-modal-information-section__download-defly-button:hover {
  opacity: 0.8;
}

@media (max-width: 935px) {
  .defly-wallet-connect-modal-information-section--desktop {
    padding: 0;
  }
  .defly-wallet-connect-modal-information-section--desktop .defly-wallet-connect-modal-information-section__defly-icon {
    max-width: 70px;
    margin-bottom: 21px;
  }
  .defly-wallet-connect-modal-information-section--desktop .defly-wallet-connect-modal-information-section__title {
    font-size: 34px;
    line-height: 32px;
  }
  .defly-wallet-connect-modal-information-section__download-defly-button {
    display: none;
  }
}`;m$1(j$1);const $$1=document.createElement("template"),U$1=C$3()?"defly-wallet-connect-modal-information-section defly-wallet-connect-modal-information-section--mobile":"defly-wallet-connect-modal-information-section defly-wallet-connect-modal-information-section--desktop";$$1.innerHTML=`
  <section class="${U$1}">
    <img src="${Z$1}" class="defly-wallet-connect-modal-information-section__defly-icon" alt="Defly Wallet" />
    <h1 class="defly-wallet-connect-modal-information-section__title">Secure 
 wallet & 
 trading</h1>
 
    <button
        id="defly-wallet-connect-modal-information-section-download-defly-button"
        class="defly-wallet-connect-modal-information-section__download-defly-button">
        <img src="data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='2' y='2' width='4.66667' height='4.66667' rx='1.2' stroke='%23999999' stroke-width='1.5'/%3e%3crect x='2' y='9.33203' width='4.66667' height='4.66667' rx='1.2' stroke='%23999999' stroke-width='1.5'/%3e%3crect x='9.33325' y='2' width='4.66667' height='4.66667' rx='1.2' stroke='%23999999' stroke-width='1.5'/%3e%3cpath d='M8.70581 9.5293H10.9411' stroke='%23999999' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M13.1765 12.668L14.6667 12.668' stroke='%23999999' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M13.1765 14L14.6667 14' stroke='%23999999' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M11.686 14L13.1762 14' stroke='%23999999' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M12.4314 9.5293H14.6667' stroke='%23999999' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M8.70581 10.2754H12.4313' stroke='%23999999' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M10.196 11.7656H11.6862' stroke='%23999999' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M10.196 12.5117H11.6862' stroke='%23999999' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M8.70581 13.2539H10.196' stroke='%23999999' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M8.70581 14H10.196' stroke='%23999999' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M10.196 11.0195H12.4313' stroke='%23999999' stroke-width='1.25' stroke-linejoin='round'/%3e%3c/svg%3e" alt="QR Icon" />
        Download
      </button>
  </section>
`;let q$1=class extends HTMLElement{constructor(){var ms;if(super(),this.attachShadow({mode:"open"}),this.shadowRoot){const ws=document.createElement("style");ws.textContent=j$1,this.shadowRoot.append($$1.content.cloneNode(!0),ws);const Ss=(ms=this.shadowRoot)===null||ms===void 0?void 0:ms.getElementById("defly-wallet-connect-modal-information-section-download-defly-button");Ss&&Ss.addEventListener("click",()=>{this.onClickDownload()})}}onClickDownload(){if(this.shadowRoot){const ms=this.shadowRoot.host.parentElement;ms&&(ms.classList.remove("defly-wallet-connect-modal-desktop-mode--default"),ms.classList.add("defly-wallet-connect-modal-desktop-mode--download"))}}};var P$1=`@import url("https://fonts.googleapis.com/css2?family=Spline+Sans:wght@400;500;600&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Hanken+Grotesk:wght@100;900&display=swap");
.defly-wallet-modal {
  --defly-wallet-modal-font-family: "Spline Sans", sans-serif;
  --defly-wallet-connect-modal-headline-family: "Hanken Grotesk", sans-serif;
  position: fixed;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  z-index: 999999;
  width: 100vw;
  height: 100vh;
  background-color: rgba(0, 0, 0, 0.7);
}
.defly-wallet-modal--select-account .defly-wallet-modal__body {
  width: 480px;
  height: 578px;
}
.defly-wallet-modal--mobile .defly-wallet-modal__body {
  top: 40px;
  bottom: 0;
  left: 20px;
  width: calc(100% - 40px);
  max-width: unset;
  height: calc(100 * var(--defly-wallet-vh));
  padding: 20px;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);
  border-radius: 20px 20px 0px 0px;
  animation: 0.3s DeflyWalletConnectMobileSlideIn ease-out;
  overflow-y: auto;
  transform: unset;
}
.defly-wallet-modal--mobile .defly-wallet-modal__body::before {
  background-image: unset;
}
.defly-wallet-modal * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: var(--defly-wallet-modal-font-family);
  font-smooth: antialiased;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.defly-wallet-modal ul,
.defly-wallet-modal ol,
.defly-wallet-modal li {
  list-style-type: none;
}

.defly-wallet-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: auto;
  height: 48px;
  padding: 14px;
  border: none;
  border-radius: 12px;
  outline: none;
  cursor: pointer;
  font-family: var(--defly-wallet-modal-font-family);
  font-size: 14px;
}

.defly-wallet-modal__logo img {
  display: block;
  width: 32px;
}

.defly-wallet-modal__body {
  position: relative;
  top: 50%;
  left: 50%;
  width: 979px;
  max-width: calc(100vw - 80px);
  padding: 28px;
  background-color: #131313;
  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);
  border-radius: 40px;
  animation: 0.3s DeflyWalletConnectSlideIn ease-out;
  transform: translate(-50%, -50%);
}

@media (max-width: 935px) {
  .defly-wallet-modal--desktop .defly-wallet-modal__body {
    width: 100%;
    max-width: calc(100vw - 32px);
    padding: 24px;
  }
}
@keyframes DeflyWalletConnectSlideIn {
  0% {
    opacity: 0;
    transform: translate(-50%, calc(-50% + 24px));
  }
  100% {
    opacity: 1;
    transform: translate(-50%, -50%);
  }
}
@keyframes DeflyWalletConnectMobileSlideIn {
  0% {
    top: 30%;
    opacity: 0;
  }
  100% {
    top: 40px;
    opacity: 1;
  }
}
.defly-wallet-connect-modal-pending-message-section {
  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: auto 48px;
  gap: 56px;
  height: 100%;
  padding: 4px;
  padding-bottom: 70px;
}

.defly-wallet-connect-modal-pending-message {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  text-align: center;
}
.defly-wallet-connect-modal-pending-message--try-again-view {
  display: flex;
  justify-content: space-between;
  flex-direction: column;
  height: 100%;
  margin-top: 10px;
}
.defly-wallet-connect-modal-pending-message--try-again-view__image {
  margin: 0 auto;
  display: block;
}
.defly-wallet-connect-modal-pending-message--try-again-view__title {
  margin: 16px 0 12px;
  color: #ffffff;
  text-align: center;
  font-size: 18px;
  font-weight: 500;
  line-height: 24px;
  letter-spacing: -0.26px;
}
.defly-wallet-connect-modal-pending-message--try-again-view__description {
  color: #999999;
  font-size: 14px;
  text-align: center;
  font-weight: 400;
  line-height: 24px;
  letter-spacing: -0.01px;
}
.defly-wallet-connect-modal-pending-message--try-again-view__button {
  display: block;
  width: 100%;
  padding: 14px;
  border-radius: 12px;
  text-decoration: none;
  text-align: center;
  font-size: 14px;
  line-height: 20px;
  letter-spacing: -0.09px;
  font-weight: 500;
  color: #ffffff;
  background-color: #6b46fe;
  border: none;
}
.defly-wallet-connect-modal-pending-message--try-again-view__resolving-anchor {
  display: flex;
  gap: 12px;
  margin-bottom: 20px;
  padding: 16px;
  background: #ffffff;
  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);
  border-radius: 12px;
  text-decoration: none;
}
.defly-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__image {
  width: 24px;
  height: 24px;
}
.defly-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title-wrapper {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 4px;
}
.defly-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title {
  margin: 0;
  font-size: 14px;
  font-weight: 500;
  line-height: 20px;
  letter-spacing: -0.1px;
  color: #3c3c49;
}
.defly-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__description {
  /* stylelint-disable value-no-vendor-prefix */
  /* stylelint-disable  property-no-vendor-prefix */
  display: -webkit-box;
  max-width: 100%;
  -webkit-line-clamp: 2;
  /* autoprefixer: ignore next */
  -webkit-box-orient: vertical;
  overflow: hidden;
  /* stylelint-enable value-no-vendor-prefix */
  /* stylelint-enable property-no-vendor-prefix */
  margin: 0;
  font-size: 12px;
  font-weight: 400;
  line-height: 18px;
  letter-spacing: 0.01px;
  color: #9d9dae;
}

.defly-wallet-connect-modal-pending-message__animation-wrapper {
  width: 56px;
  height: 56px;
  background-color: #6b46fe;
  border-radius: 50%;
}

.defly-wallet-connect-modal-pending-message__text {
  max-width: 271px;
  margin-top: 20px;
  color: #ffffff;
  font-size: 18px;
  font-weight: 500;
  line-height: 28px;
  letter-spacing: -0.26px;
}

.defly-wallet-connect-modal-pending-message__cancel-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  padding: 14px;
  color: #6a6a81;
  background-color: #ffffff;
  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);
  border-radius: 12px;
  text-decoration: none;
  text-align: center;
  font-size: 14px;
  line-height: 20px;
  letter-spacing: -0.09px;
  font-weight: 500;
  border: none;
}`;m$1(P$1);const N$1=document.createElement("template");N$1.innerHTML=`
  <div class="defly-wallet-connect-modal-pending-message-section">
    <div class="defly-wallet-connect-modal-pending-message">
      <img src="${Z$1}" alt="Defly Wallet Logo" />

      <div class="defly-wallet-connect-modal-pending-message__text">
        Please wait while we connect you to Defly Wallet...
      </div>
    </div>

    <button
      id="defly-wallet-connect-modal-pending-message-cancel-button"
      class="defly-wallet-button defly-wallet-connect-modal-pending-message__cancel-button">
        Cancel
    </button>
  </div>

  <div id="defly-wallet-connect-modal-pending-message-audio-wrapper"></div>
`;const Q$1=`
  <div class="defly-wallet-connect-modal-pending-message--try-again-view">
    <div>
      <img class="defly-wallet-connect-modal-pending-message--try-again-view__image" src="${Z$1}" alt="Defly Wallet" />

      <h1 class="defly-wallet-connect-modal-pending-message--try-again-view__title">
        Couldn’t establish connection
      </h1>

      <p class="defly-wallet-connect-modal-pending-message--try-again-view__description">
        Having issues? Before trying again, make sure to read the support article below and apply the possible solutions.
      </p>
    </div>

    <div>
      <a
        href=" https://docs.defly.app/app/dapp-browser"
        target="_blank"
        rel="noopener noreferrer"
        class="defly-wallet-connect-modal-pending-message--try-again-view__resolving-anchor">
        <img
          class="defly-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__image"
          src="data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M8 22.3199C7.72 22.3199 7.42998 22.2499 7.16998 22.1099C6.59998 21.8099 6.25 21.2099 6.25 20.5699V19.15C3.23 18.84 1.25 16.6199 1.25 13.4399V7.43994C1.25 3.99994 3.56 1.68994 7 1.68994H17C20.44 1.68994 22.75 3.99994 22.75 7.43994V13.4399C22.75 16.8799 20.44 19.1899 17 19.1899H13.23L8.96997 22.03C8.67997 22.22 8.34 22.3199 8 22.3199ZM7 3.17993C4.42 3.17993 2.75 4.84993 2.75 7.42993V13.43C2.75 16.01 4.42 17.68 7 17.68C7.41 17.68 7.75 18.02 7.75 18.43V20.56C7.75 20.69 7.83 20.75 7.88 20.78C7.93001 20.81 8.03001 20.84 8.14001 20.77L12.59 17.81C12.71 17.73 12.86 17.68 13.01 17.68H17.01C19.59 17.68 21.26 16.01 21.26 13.43V7.42993C21.26 4.84993 19.59 3.17993 17.01 3.17993H7ZM11.9998 12.11C11.5898 12.11 11.2498 11.77 11.2498 11.36V11.15C11.2498 10.0038 12.0798 9.4336 12.4082 9.20798L12.4198 9.20001C12.7898 8.95001 12.9098 8.78002 12.9098 8.52002C12.9098 8.02002 12.4998 7.60999 11.9998 7.60999C11.4998 7.60999 11.0898 8.02002 11.0898 8.52002C11.0898 8.93002 10.7498 9.27002 10.3398 9.27002C9.92984 9.27002 9.58984 8.93002 9.58984 8.52002C9.58984 7.19002 10.6698 6.10999 11.9998 6.10999C13.3298 6.10999 14.4098 7.19002 14.4098 8.52002C14.4098 9.66002 13.5698 10.23 13.2598 10.44C12.8698 10.7 12.7498 10.87 12.7498 11.15V11.36C12.7498 11.78 12.4098 12.11 11.9998 12.11ZM11.25 13.85C11.25 14.26 11.58 14.6 12 14.6C12.42 14.6 12.75 14.26 12.75 13.85C12.75 13.44 12.41 13.1 12 13.1C11.59 13.1 11.25 13.44 11.25 13.85Z' fill='%236B46FE'/%3e%3c/svg%3e"
          alt="Help Icon"
        />

        <div>
          <div
            class="defly-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title-wrapper">
            <h1
              class="defly-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title">
                Resolving WalletConnect issues
            </h1>

            <img src="data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M11.3287 10.0983C10.9574 10.0983 10.6564 9.79734 10.6564 9.42604L10.6564 6.29525L5.14866 11.803C4.88611 12.0655 4.46044 12.0655 4.19789 11.803C3.93534 11.5404 3.93534 11.1147 4.19789 10.8522L9.70561 5.34447L6.57482 5.34447C6.20352 5.34447 5.90252 5.04347 5.90252 4.67218C5.90252 4.30088 6.20352 3.99988 6.57482 3.99988L11.3287 3.99988C11.507 3.99988 11.678 4.07071 11.8041 4.19679C11.9301 4.32287 12.001 4.49387 12.001 4.67218L12.001 9.42604C12.001 9.79734 11.7 10.0983 11.3287 10.0983Z' fill='%239D9DAE'/%3e%3c/svg%3e" alt="Send Icon"/>
          </div>

          <p
            class="defly-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__description">
            Unfortunately there are several known issues related to WalletConnect that our team is working on. Some of these issues are related to the WalletConnect JavaScript implementation on the dApp ...
          </p>
        </div>
      </a>

      <button id="defly-wallet-connect-modal-pending-message-try-again-button" class="defly-wallet-connect-button defly-wallet-connect-modal-pending-message--try-again-view__button">
        Close & Try Again
      </button>
    </div>
  </div>
  `;let J$1=class extends HTMLElement{constructor(){if(super(),this.attachShadow({mode:"open"}),this.shadowRoot){const ms=document.createElement("style");ms.textContent=P$1,this.shadowRoot.append(N$1.content.cloneNode(!0),ms)}}connectedCallback(){var ms;const ws=(ms=this.shadowRoot)===null||ms===void 0?void 0:ms.getElementById("defly-wallet-connect-modal-pending-message-cancel-button");ws==null||ws.addEventListener("click",()=>{this.onClose()}),this.addAudioForConnection(),setTimeout(()=>{var Ss;if(N$1.innerHTML=Q$1,this.shadowRoot){const Es=document.createElement("style");Es.textContent=P$1,this.shadowRoot.innerHTML="",this.shadowRoot.append(N$1.content.cloneNode(!0),Es);const _s=(Ss=this.shadowRoot)===null||Ss===void 0?void 0:Ss.getElementById("defly-wallet-connect-modal-pending-message-try-again-button");_s==null||_s.addEventListener("click",()=>{this.onClose()})}},3e4)}onClose(){f$3(l$1)}addAudioForConnection(){var ms;if(this.getAttribute("should-use-sound")==="true"&&E$3()){const ws=(ms=this.shadowRoot)===null||ms===void 0?void 0:ms.getElementById("defly-wallet-connect-modal-pending-message-audio-wrapper"),Ss=document.createElement("audio");Ss.src="https://defly-walletconnect.s3.eu-central-1.amazonaws.com/audio.mp3",Ss.autoplay=!0,Ss.loop=!0,ws==null||ws.appendChild(Ss)}}};var K$1={v:"5.7.1",fr:25,ip:0,op:100,w:1e3,h:1e3,nm:"Animation",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:1,nm:"Circle",sr:1,ks:{o:{a:0,k:73,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:18,s:[724,614,0],to:[-35,2.333,0],ti:[35,-2.333,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:25,s:[514,628,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:53,s:[514,628,0],to:[35,-2.333,0],ti:[-35,2.333,0]},{t:62,s:[724,614,0]}],ix:2},a:{a:0,k:[608.861,710.127,0],ix:1},s:{a:0,k:[79,79,100],ix:6}},ao:0,hasMask:!0,masksProperties:[{inv:!1,mode:"a",pt:{a:0,k:{i:[[27.614,0],[0,-27.614],[-27.614,0],[0,27.614]],o:[[-27.614,0],[0,27.614],[27.614,0],[0,-27.614]],v:[[608,662],[558,712],[608,762],[658,712]],c:!0},ix:1},o:{a:0,k:100,ix:3},x:{a:0,k:0,ix:4},nm:"Mask 1"}],ef:[{ty:21,nm:"Fill",np:9,mn:"ADBE Fill",ix:1,en:1,ef:[{ty:10,nm:"Fill Mask",mn:"ADBE Fill-0001",ix:1,v:{a:0,k:0,ix:1}},{ty:7,nm:"All Masks",mn:"ADBE Fill-0007",ix:2,v:{a:0,k:0,ix:2}},{ty:2,nm:"Color",mn:"ADBE Fill-0002",ix:3,v:{a:0,k:[.748628020287,.656362950802,.86274510622,1],ix:3}},{ty:7,nm:"Invert",mn:"ADBE Fill-0006",ix:4,v:{a:0,k:0,ix:4}},{ty:0,nm:"Horizontal Feather",mn:"ADBE Fill-0003",ix:5,v:{a:0,k:0,ix:5}},{ty:0,nm:"Vertical Feather",mn:"ADBE Fill-0004",ix:6,v:{a:0,k:0,ix:6}},{ty:0,nm:"Opacity",mn:"ADBE Fill-0005",ix:7,v:{a:0,k:1,ix:7}}]}],sw:1e3,sh:1e3,sc:"#ffffff",ip:0,op:754,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Layer 1 Outlines 2",parent:9,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[511.524,444,0],ix:2},a:{a:0,k:[157.775,147.25,0],ix:1},s:{a:0,k:[46,46,100],ix:6}},ao:0,ef:[{ty:21,nm:"Fill",np:9,mn:"ADBE Fill",ix:1,en:1,ef:[{ty:10,nm:"Fill Mask",mn:"ADBE Fill-0001",ix:1,v:{a:0,k:0,ix:1}},{ty:7,nm:"All Masks",mn:"ADBE Fill-0007",ix:2,v:{a:0,k:0,ix:2}},{ty:2,nm:"Color",mn:"ADBE Fill-0002",ix:3,v:{a:0,k:[.054901964962,.050980396569,.06274510175,1],ix:3}},{ty:7,nm:"Invert",mn:"ADBE Fill-0006",ix:4,v:{a:0,k:0,ix:4}},{ty:0,nm:"Horizontal Feather",mn:"ADBE Fill-0003",ix:5,v:{a:0,k:0,ix:5}},{ty:0,nm:"Vertical Feather",mn:"ADBE Fill-0004",ix:6,v:{a:0,k:0,ix:6}},{ty:0,nm:"Opacity",mn:"ADBE Fill-0005",ix:7,v:{a:0,k:1,ix:7}}]}],shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[157.525,133.595],[0,-133.596],[-157.525,133.595],[0,42.488]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[157.775,133.846],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:754,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Layer 1 Outlines",parent:9,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[511.524,444,0],ix:2},a:{a:0,k:[157.775,147.25,0],ix:1},s:{a:0,k:[46,46,100],ix:6}},ao:0,ef:[{ty:21,nm:"Fill",np:9,mn:"ADBE Fill",ix:1,en:1,ef:[{ty:10,nm:"Fill Mask",mn:"ADBE Fill-0001",ix:1,v:{a:0,k:0,ix:1}},{ty:7,nm:"All Masks",mn:"ADBE Fill-0007",ix:2,v:{a:0,k:0,ix:2}},{ty:2,nm:"Color",mn:"ADBE Fill-0002",ix:3,v:{a:0,k:[.058823533356,.054901964962,.06274510175,1],ix:3}},{ty:7,nm:"Invert",mn:"ADBE Fill-0006",ix:4,v:{a:0,k:0,ix:4}},{ty:0,nm:"Horizontal Feather",mn:"ADBE Fill-0003",ix:5,v:{a:0,k:0,ix:5}},{ty:0,nm:"Vertical Feather",mn:"ADBE Fill-0004",ix:6,v:{a:0,k:0,ix:6}},{ty:0,nm:"Opacity",mn:"ADBE Fill-0005",ix:7,v:{a:0,k:1,ix:7}}]}],shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[130.021,34.263],[0,-34.264],[-130.021,34.263],[0,-8.067]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[157.775,259.986],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:754,st:0,bm:0},{ddd:0,ind:4,ty:1,nm:"White Solid 2",parent:9,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[512,508,0],ix:2},a:{a:0,k:[500,500,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,hasMask:!0,masksProperties:[{inv:!1,mode:"a",pt:{a:0,k:{i:[[11.046,0],[0,0],[0,-11.046],[0,0],[-11.046,0],[0,0],[0,11.046],[0,0]],o:[[0,0],[-11.046,0],[0,0],[0,11.046],[0,0],[11.046,0],[0,0],[0,-11.046]],v:[[648,314],[344,314],[324,334],[324,546],[344,566],[648,566],[668,546],[668,334]],c:!0},ix:1},o:{a:0,k:100,ix:3},x:{a:0,k:0,ix:4},nm:"Mask 1"}],ef:[{ty:22,nm:"Stroke",np:13,mn:"ADBE Stroke",ix:1,en:1,ef:[{ty:10,nm:"Path",mn:"ADBE Stroke-0001",ix:1,v:{a:0,k:1,ix:1}},{ty:7,nm:"All Masks",mn:"ADBE Stroke-0010",ix:2,v:{a:0,k:0,ix:2}},{ty:7,nm:"Stroke Sequentially",mn:"ADBE Stroke-0011",ix:3,v:{a:0,k:1,ix:3}},{ty:2,nm:"Color",mn:"ADBE Stroke-0002",ix:4,v:{a:0,k:[.525490224361,.231372565031,.972549080849,1],ix:4}},{ty:0,nm:"Brush Size",mn:"ADBE Stroke-0003",ix:5,v:{a:0,k:2,ix:5}},{ty:0,nm:"Brush Hardness",mn:"ADBE Stroke-0004",ix:6,v:{a:0,k:.75,ix:6}},{ty:0,nm:"Opacity",mn:"ADBE Stroke-0005",ix:7,v:{a:0,k:1,ix:7}},{ty:0,nm:"Start",mn:"ADBE Stroke-0008",ix:8,v:{a:0,k:0,ix:8}},{ty:0,nm:"End",mn:"ADBE Stroke-0009",ix:9,v:{a:0,k:100,ix:9}},{ty:7,nm:"Spacing",mn:"ADBE Stroke-0006",ix:10,v:{a:0,k:15,ix:10}},{ty:7,nm:"Paint Style",mn:"ADBE Stroke-0007",ix:11,v:{a:0,k:1,ix:11}}]}],sw:1e3,sh:1e3,sc:"#ffffff",ip:0,op:754,st:0,bm:0},{ddd:0,ind:5,ty:1,nm:"White Solid 2",parent:9,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[512,388,0],ix:2},a:{a:0,k:[500,500,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,hasMask:!0,masksProperties:[{inv:!1,mode:"a",pt:{a:0,k:{i:[[11.046,0],[0,0],[0,-11.046],[0,0],[-11.046,0],[0,0],[0,11.046],[0,0]],o:[[0,0],[-11.046,0],[0,0],[0,11.046],[0,0],[11.046,0],[0,0],[0,-11.046]],v:[[648,314],[344,314],[324,334],[324,386],[344,406],[648,406],[668,386],[668,334]],c:!0},ix:1},o:{a:0,k:100,ix:3},x:{a:0,k:0,ix:4},nm:"Mask 1"}],ef:[{ty:22,nm:"Stroke",np:13,mn:"ADBE Stroke",ix:1,en:1,ef:[{ty:10,nm:"Path",mn:"ADBE Stroke-0001",ix:1,v:{a:0,k:1,ix:1}},{ty:7,nm:"All Masks",mn:"ADBE Stroke-0010",ix:2,v:{a:0,k:0,ix:2}},{ty:7,nm:"Stroke Sequentially",mn:"ADBE Stroke-0011",ix:3,v:{a:0,k:1,ix:3}},{ty:2,nm:"Color",mn:"ADBE Stroke-0002",ix:4,v:{a:0,k:[.525490224361,.231372565031,.972549080849,1],ix:4}},{ty:0,nm:"Brush Size",mn:"ADBE Stroke-0003",ix:5,v:{a:0,k:2,ix:5}},{ty:0,nm:"Brush Hardness",mn:"ADBE Stroke-0004",ix:6,v:{a:0,k:.75,ix:6}},{ty:0,nm:"Opacity",mn:"ADBE Stroke-0005",ix:7,v:{a:0,k:1,ix:7}},{ty:0,nm:"Start",mn:"ADBE Stroke-0008",ix:8,v:{a:0,k:0,ix:8}},{ty:0,nm:"End",mn:"ADBE Stroke-0009",ix:9,v:{a:0,k:100,ix:9}},{ty:7,nm:"Spacing",mn:"ADBE Stroke-0006",ix:10,v:{a:0,k:15,ix:10}},{ty:7,nm:"Paint Style",mn:"ADBE Stroke-0007",ix:11,v:{a:0,k:1,ix:11}}]}],sw:1e3,sh:1e3,sc:"#ffffff",ip:0,op:754,st:0,bm:0},{ddd:0,ind:7,ty:1,nm:"Button",parent:9,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[510,736,0],ix:2},a:{a:0,k:[497.468,353.165,0],ix:1},s:{a:1,k:[{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:32,s:[100,100,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:35,s:[79,79,100]},{t:43,s:[100,100,100]}],ix:6}},ao:0,hasMask:!0,masksProperties:[{inv:!1,mode:"a",pt:{a:0,k:{i:[[11.046,0],[0,0],[0,-11.046],[0,0],[-11.046,0],[0,0],[0,11.046],[0,0]],o:[[0,0],[-11.046,0],[0,0],[0,11.046],[0,0],[11.046,0],[0,0],[0,-11.046]],v:[[648,314],[344,314],[324,334],[324,386],[344,406],[648,406],[668,386],[668,334]],c:!0},ix:1},o:{a:0,k:100,ix:3},x:{a:0,k:0,ix:4},nm:"Mask 1"}],ef:[{ty:21,nm:"Fill",np:9,mn:"ADBE Fill",ix:1,en:1,ef:[{ty:10,nm:"Fill Mask",mn:"ADBE Fill-0001",ix:1,v:{a:0,k:0,ix:1}},{ty:7,nm:"All Masks",mn:"ADBE Fill-0007",ix:2,v:{a:0,k:0,ix:2}},{ty:2,nm:"Color",mn:"ADBE Fill-0002",ix:3,v:{a:0,k:[.686274528503,.290196090937,.937254965305,1],ix:3}},{ty:7,nm:"Invert",mn:"ADBE Fill-0006",ix:4,v:{a:0,k:0,ix:4}},{ty:0,nm:"Horizontal Feather",mn:"ADBE Fill-0003",ix:5,v:{a:0,k:0,ix:5}},{ty:0,nm:"Vertical Feather",mn:"ADBE Fill-0004",ix:6,v:{a:0,k:0,ix:6}},{ty:0,nm:"Opacity",mn:"ADBE Fill-0005",ix:7,v:{a:0,k:1,ix:7}}]}],sw:1e3,sh:1e3,sc:"#ffffff",ip:0,op:754,st:0,bm:0},{ddd:0,ind:8,ty:4,nm:"Shape Layer 1",parent:9,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[500,493.102,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,ef:[{ty:25,nm:"Drop Shadow",np:8,mn:"ADBE Drop Shadow",ix:1,en:1,ef:[{ty:2,nm:"Shadow Color",mn:"ADBE Drop Shadow-0001",ix:1,v:{a:0,k:[0,0,0,1],ix:1}},{ty:0,nm:"Opacity",mn:"ADBE Drop Shadow-0002",ix:2,v:{a:0,k:87.5,ix:2}},{ty:0,nm:"Direction",mn:"ADBE Drop Shadow-0003",ix:3,v:{a:0,k:173,ix:3}},{ty:0,nm:"Distance",mn:"ADBE Drop Shadow-0004",ix:4,v:{a:0,k:8,ix:4}},{ty:0,nm:"Softness",mn:"ADBE Drop Shadow-0005",ix:5,v:{a:0,k:125,ix:5}},{ty:7,nm:"Shadow Only",mn:"ADBE Drop Shadow-0006",ix:6,v:{a:0,k:0,ix:6}}]}],shapes:[{ty:"gr",it:[{ty:"rc",d:1,s:{a:0,k:[452,730],ix:2},p:{a:0,k:[0,0],ix:3},r:{a:0,k:20,ix:4},nm:"Rectangle Path 1",mn:"ADBE Vector Shape - Rect",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[6,-7],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Rectangle 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:754,st:0,bm:0},{ddd:0,ind:9,ty:1,nm:"White Solid 1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:1,s:[500,562,0],to:[0,-23.333,0],ti:[0,23.333,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:13,s:[500,422,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:65,s:[500,422,0],to:[0,23.333,0],ti:[0,-23.333,0]},{t:79,s:[500,562,0]}],ix:2},a:{a:0,k:[500,500,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,hasMask:!0,masksProperties:[{inv:!1,mode:"a",pt:{a:0,k:{i:[[11.046,0],[0,0],[0,-11.046],[0,0],[-11.046,0],[0,0],[0,11.046],[0,0]],o:[[0,0],[-11.046,0],[0,0],[0,11.046],[0,0],[11.046,0],[0,0],[0,-11.046]],v:[[712,122],[302,122],[282,142],[282,830],[302,850],[712,850],[732,830],[732,142]],c:!0},ix:1},o:{a:0,k:100,ix:3},x:{a:0,k:0,ix:4},nm:"Mask 1"}],ef:[{ty:25,nm:"Drop Shadow",np:8,mn:"ADBE Drop Shadow",ix:1,en:1,ef:[{ty:2,nm:"Shadow Color",mn:"ADBE Drop Shadow-0001",ix:1,v:{a:0,k:[0,0,0,1],ix:1}},{ty:0,nm:"Opacity",mn:"ADBE Drop Shadow-0002",ix:2,v:{a:0,k:87.5,ix:2}},{ty:0,nm:"Direction",mn:"ADBE Drop Shadow-0003",ix:3,v:{a:0,k:173,ix:3}},{ty:0,nm:"Distance",mn:"ADBE Drop Shadow-0004",ix:4,v:{a:0,k:8,ix:4}},{ty:0,nm:"Softness",mn:"ADBE Drop Shadow-0005",ix:5,v:{a:0,k:125,ix:5}},{ty:7,nm:"Shadow Only",mn:"ADBE Drop Shadow-0006",ix:6,v:{a:0,k:0,ix:6}}]}],sw:1e3,sh:1e3,sc:"#ffffff",ip:0,op:754,st:0,bm:0}],markers:[]},X$1=`.defly-wallet-sign-txn-toast {
  --defly-wallet-sign-txn-toast-width: 422px;
  --defly-wallet-sign-txn-toast-height: 134px;
  --defly-wallet-sign-txn-toast-font-family: "Inter", sans-serif;
  position: fixed;
  bottom: 28px;
  right: 35px;
  z-index: 11;
  overflow: hidden;
  width: var(--defly-wallet-sign-txn-toast-width);
  height: var(--defly-wallet-sign-txn-toast-height);
  background: #edeffb;
  border-radius: 8px;
  animation: 0.2s DeflyWalletSignTxnToastSlideIn ease-out;
}
.defly-wallet-sign-txn-toast * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: var(--defly-wallet-sign-txn-toast-font-family);
  font-smooth: antialiased;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.defly-wallet-sign-txn-toast ul,
.defly-wallet-sign-txn-toast ol,
.defly-wallet-sign-txn-toast li {
  list-style-type: none;
}

.defly-wallet-sign-txn-toast__header__close-button {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 20px;
  height: 20px;
  margin: 0;
  padding: 0;
  background: transparent;
  border: none;
  cursor: pointer;
}

.defly-wallet-sign-txn-toast__content__lottie-animation {
  position: absolute;
  top: -75px;
  left: -100px;
  width: 368px;
  height: 368px;
}

.defly-wallet-sign-txn-toast__content__description {
  position: absolute;
  top: 40px;
  right: 48px;
  max-width: 197px;
  color: #3c3c49;
  font-size: 14px;
  line-height: 22px;
  letter-spacing: -0.1px;
}

@media (max-width: 935px) {
  .defly-wallet-sign-txn-toast {
    display: none;
  }
}
@keyframes DeflyWalletSignTxnToastSlideIn {
  0% {
    bottom: 12px;
    opacity: 0;
  }
  100% {
    bottom: 26px;
    opacity: 1;
  }
}`;m$1(X$1);const Y$1=document.createElement("template");Y$1.innerHTML=`
  <div class="defly-wallet-sign-txn-toast">
    <div class="defly-wallet-sign-txn-toast__header">
      <button
        id="defly-wallet-sign-txn-toast-close-button"
        class="defly-wallet-sign-txn-toast__header__close-button">
        <img src="data:image/svg+xml,%3csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M14.4107 4.41074L9.41074 9.41074L10.5893 10.5893L15.5893 5.58926L14.4107 4.41074ZM9.41074 9.41074L4.41074 14.4107L5.58926 15.5893L10.5893 10.5893L9.41074 9.41074ZM15.5893 14.4107L10.5893 9.41074L9.41074 10.5893L14.4107 15.5893L15.5893 14.4107ZM10.5893 9.41074L5.58926 4.41074L4.41074 5.58926L9.41074 10.5893L10.5893 9.41074Z' fill='%239099BD'/%3e%3c/svg%3e" />
      </button>
    </div>
    <div class="defly-wallet-sign-txn-toast__content">
      <div id="defly-wallet-sign-txn-toast-lottie-animation" style="width:368;height:368" class="defly-wallet-sign-txn-toast__content__lottie-animation"></div>
      <p class="defly-wallet-sign-txn-toast__content__description">
        Please launch <b>Defly Wallet</b> on your iOS or Android device to sign this transaction.
      </p>
    </div>
  </div>
`;class nn extends HTMLElement{constructor(){if(super(),this.attachShadow({mode:"open"}),this.shadowRoot){const ms=document.createElement("style");ms.textContent=X$1,this.shadowRoot.append(Y$1.content.cloneNode(!0),ms);const ws=this.shadowRoot.getElementById("defly-wallet-sign-txn-toast-close-button");ws==null||ws.addEventListener("click",()=>{f$3(c$1)}),this.renderLottieAnimation()}}renderLottieAnimation(){var ms;const ws=(ms=this.shadowRoot)===null||ms===void 0?void 0:ms.getElementById("defly-wallet-sign-txn-toast-lottie-animation");ws&&p.loadAnimation({container:ws,renderer:"svg",loop:!0,autoplay:!0,animationData:K$1})}}var en=`@import url("https://fonts.googleapis.com/css2?family=Spline+Sans:wght@400;500;600&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Hanken+Grotesk:wght@100;900&display=swap");
.defly-wallet-modal {
  --defly-wallet-modal-font-family: "Spline Sans", sans-serif;
  --defly-wallet-connect-modal-headline-family: "Hanken Grotesk", sans-serif;
  position: fixed;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  z-index: 999999;
  width: 100vw;
  height: 100vh;
  background-color: rgba(0, 0, 0, 0.7);
}
.defly-wallet-modal--select-account .defly-wallet-modal__body {
  width: 480px;
  height: 578px;
}
.defly-wallet-modal--mobile .defly-wallet-modal__body {
  top: 40px;
  bottom: 0;
  left: 20px;
  width: calc(100% - 40px);
  max-width: unset;
  height: calc(100 * var(--defly-wallet-vh));
  padding: 20px;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);
  border-radius: 20px 20px 0px 0px;
  animation: 0.3s DeflyWalletConnectMobileSlideIn ease-out;
  overflow-y: auto;
  transform: unset;
}
.defly-wallet-modal--mobile .defly-wallet-modal__body::before {
  background-image: unset;
}
.defly-wallet-modal * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: var(--defly-wallet-modal-font-family);
  font-smooth: antialiased;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.defly-wallet-modal ul,
.defly-wallet-modal ol,
.defly-wallet-modal li {
  list-style-type: none;
}

.defly-wallet-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: auto;
  height: 48px;
  padding: 14px;
  border: none;
  border-radius: 12px;
  outline: none;
  cursor: pointer;
  font-family: var(--defly-wallet-modal-font-family);
  font-size: 14px;
}

.defly-wallet-modal__logo img {
  display: block;
  width: 32px;
}

.defly-wallet-modal__body {
  position: relative;
  top: 50%;
  left: 50%;
  width: 979px;
  max-width: calc(100vw - 80px);
  padding: 28px;
  background-color: #131313;
  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);
  border-radius: 40px;
  animation: 0.3s DeflyWalletConnectSlideIn ease-out;
  transform: translate(-50%, -50%);
}

@media (max-width: 935px) {
  .defly-wallet-modal--desktop .defly-wallet-modal__body {
    width: 100%;
    max-width: calc(100vw - 32px);
    padding: 24px;
  }
}
@keyframes DeflyWalletConnectSlideIn {
  0% {
    opacity: 0;
    transform: translate(-50%, calc(-50% + 24px));
  }
  100% {
    opacity: 1;
    transform: translate(-50%, -50%);
  }
}
@keyframes DeflyWalletConnectMobileSlideIn {
  0% {
    top: 30%;
    opacity: 0;
  }
  100% {
    top: 40px;
    opacity: 1;
  }
}
.defly-wallet-sign-txn-modal.defly-wallet-modal .defly-wallet-modal__body {
  width: 480px;
  height: 578px;
  background-image: unset;
  padding: 0;
}
.defly-wallet-sign-txn-modal.defly-wallet-modal .defly-wallet-modal__body .defly-wallet-sign-txn-modal__body__content {
  width: 100%;
  height: 100%;
}
.defly-wallet-sign-txn-modal.defly-wallet-modal .defly-wallet-modal__body #defly-wallet-iframe {
  width: 100%;
  height: 100%;
  border-radius: 16px;
  margin: 0 auto;
  border: none;
}`;m$1(en);const tn=document.createElement("template");tn.innerHTML=`
  <div class="${d$1} defly-wallet-sign-txn-modal">
    <div class="defly-wallet-modal__body">
      <defly-wallet-modal-header modal-id="${a$1}"></defly-wallet-modal-header/>

      <div class="defly-wallet-sign-txn-modal__body__content" />
    </div>
  </div>
`;class on extends HTMLElement{constructor(){if(super(),this.attachShadow({mode:"open"}),this.shadowRoot){const ms=document.createElement("style");ms.textContent=en,this.shadowRoot.append(tn.content.cloneNode(!0),ms)}}}window.addEventListener("DOMContentLoaded",()=>{y$1()}),window.addEventListener("resize",()=>{y$1()}),window.customElements.define("defly-wallet-connect-modal",G$1),window.customElements.define("defly-wallet-modal-desktop-mode",A$1),window.customElements.define("defly-wallet-modal-header",u$1),window.customElements.define("defly-wallet-modal-touch-screen-mode",z$1),window.customElements.define("defly-wallet-redirect-modal",O$1),window.customElements.define("defly-wallet-connect-modal-information-section",q$1),window.customElements.define("defly-wallet-connect-modal-pending-message-section",J$1),window.customElements.define("defly-wallet-sign-txn-toast",nn),window.customElements.define("defly-wallet-sign-txn-modal",on),window.customElements.define("defly-wallet-download-qr-code",C$1);const App58ab7d48=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var qrCodeStyling={exports:{}};(function(vs,ms){(function(ws,Ss){vs.exports=Ss()})(self,function(){return(()=>{var ws={192:(_s,Is)=>{var Ts,Rs,Bs=function(){var Ns=function(Ol,Gl){var Fl=Ol,Al=Cl[Gl],Pl=null,yl=0,Zs=null,Bl=[],eu={},Eu=function(Ll,Tl){Pl=function(Hl){for(var Dl=new Array(Hl),Kl=0;Kl<Hl;Kl+=1){Dl[Kl]=new Array(Hl);for(var cu=0;cu<Hl;cu+=1)Dl[Kl][cu]=null}return Dl}(yl=4*Fl+17),uu(0,0),uu(yl-7,0),uu(0,yl-7),zl(),Yl(),pu(Ll,Tl),Fl>=7&&ou(Ll),Zs==null&&(Zs=yu(Fl,Al,Bl)),fu(Zs,Tl)},uu=function(Ll,Tl){for(var Hl=-1;Hl<=7;Hl+=1)if(!(Ll+Hl<=-1||yl<=Ll+Hl))for(var Dl=-1;Dl<=7;Dl+=1)Tl+Dl<=-1||yl<=Tl+Dl||(Pl[Ll+Hl][Tl+Dl]=0<=Hl&&Hl<=6&&(Dl==0||Dl==6)||0<=Dl&&Dl<=6&&(Hl==0||Hl==6)||2<=Hl&&Hl<=4&&2<=Dl&&Dl<=4)},Yl=function(){for(var Ll=8;Ll<yl-8;Ll+=1)Pl[Ll][6]==null&&(Pl[Ll][6]=Ll%2==0);for(var Tl=8;Tl<yl-8;Tl+=1)Pl[6][Tl]==null&&(Pl[6][Tl]=Tl%2==0)},zl=function(){for(var Ll=Sl.getPatternPosition(Fl),Tl=0;Tl<Ll.length;Tl+=1)for(var Hl=0;Hl<Ll.length;Hl+=1){var Dl=Ll[Tl],Kl=Ll[Hl];if(Pl[Dl][Kl]==null)for(var cu=-2;cu<=2;cu+=1)for(var iu=-2;iu<=2;iu+=1)Pl[Dl+cu][Kl+iu]=cu==-2||cu==2||iu==-2||iu==2||cu==0&&iu==0}},ou=function(Ll){for(var Tl=Sl.getBCHTypeNumber(Fl),Hl=0;Hl<18;Hl+=1){var Dl=!Ll&&(Tl>>Hl&1)==1;Pl[Math.floor(Hl/3)][Hl%3+yl-8-3]=Dl}for(Hl=0;Hl<18;Hl+=1)Dl=!Ll&&(Tl>>Hl&1)==1,Pl[Hl%3+yl-8-3][Math.floor(Hl/3)]=Dl},pu=function(Ll,Tl){for(var Hl=Al<<3|Tl,Dl=Sl.getBCHTypeInfo(Hl),Kl=0;Kl<15;Kl+=1){var cu=!Ll&&(Dl>>Kl&1)==1;Kl<6?Pl[Kl][8]=cu:Kl<8?Pl[Kl+1][8]=cu:Pl[yl-15+Kl][8]=cu}for(Kl=0;Kl<15;Kl+=1)cu=!Ll&&(Dl>>Kl&1)==1,Kl<8?Pl[8][yl-Kl-1]=cu:Kl<9?Pl[8][15-Kl-1+1]=cu:Pl[8][15-Kl-1]=cu;Pl[yl-8][8]=!Ll},fu=function(Ll,Tl){for(var Hl=-1,Dl=yl-1,Kl=7,cu=0,iu=Sl.getMaskFunction(Tl),du=yl-1;du>0;du-=2)for(du==6&&(du-=1);;){for(var Au=0;Au<2;Au+=1)if(Pl[Dl][du-Au]==null){var xu=!1;cu<Ll.length&&(xu=(Ll[cu]>>>Kl&1)==1),iu(Dl,du-Au)&&(xu=!xu),Pl[Dl][du-Au]=xu,(Kl-=1)==-1&&(cu+=1,Kl=7)}if((Dl+=Hl)<0||yl<=Dl){Dl-=Hl,Hl=-Hl;break}}},yu=function(Ll,Tl,Hl){for(var Dl=Ml.getRSBlocks(Ll,Tl),Kl=Vl(),cu=0;cu<Hl.length;cu+=1){var iu=Hl[cu];Kl.put(iu.getMode(),4),Kl.put(iu.getLength(),Sl.getLengthInBits(iu.getMode(),Ll)),iu.write(Kl)}var du=0;for(cu=0;cu<Dl.length;cu+=1)du+=Dl[cu].dataCount;if(Kl.getLengthInBits()>8*du)throw"code length overflow. ("+Kl.getLengthInBits()+">"+8*du+")";for(Kl.getLengthInBits()+4<=8*du&&Kl.put(0,4);Kl.getLengthInBits()%8!=0;)Kl.putBit(!1);for(;!(Kl.getLengthInBits()>=8*du||(Kl.put(236,8),Kl.getLengthInBits()>=8*du));)Kl.put(17,8);return function(Au,xu){for(var _u=0,Hu=0,ju=0,_d=new Array(xu.length),Zu=new Array(xu.length),tp=0;tp<xu.length;tp+=1){var hu=xu[tp].dataCount,Xl=xu[tp].totalCount-hu;Hu=Math.max(Hu,hu),ju=Math.max(ju,Xl),_d[tp]=new Array(hu);for(var Zl=0;Zl<_d[tp].length;Zl+=1)_d[tp][Zl]=255&Au.getBuffer()[Zl+_u];_u+=hu;var bu=Sl.getErrorCorrectPolynomial(Xl),Ou=xl(_d[tp],bu.getLength()-1).mod(bu);for(Zu[tp]=new Array(bu.getLength()-1),Zl=0;Zl<Zu[tp].length;Zl+=1){var zu=Zl+Ou.getLength()-Zu[tp].length;Zu[tp][Zl]=zu>=0?Ou.getAt(zu):0}}var Qu=0;for(Zl=0;Zl<xu.length;Zl+=1)Qu+=xu[Zl].totalCount;var _p=new Array(Qu),dp=0;for(Zl=0;Zl<Hu;Zl+=1)for(tp=0;tp<xu.length;tp+=1)Zl<_d[tp].length&&(_p[dp]=_d[tp][Zl],dp+=1);for(Zl=0;Zl<ju;Zl+=1)for(tp=0;tp<xu.length;tp+=1)Zl<Zu[tp].length&&(_p[dp]=Zu[tp][Zl],dp+=1);return _p}(Kl,Dl)};eu.addData=function(Ll,Tl){var Hl=null;switch(Tl=Tl||"Byte"){case"Numeric":Hl=Ul(Ll);break;case"Alphanumeric":Hl=_h(Ll);break;case"Byte":Hl=nu(Ll);break;case"Kanji":Hl=su(Ll);break;default:throw"mode:"+Tl}Bl.push(Hl),Zs=null},eu.isDark=function(Ll,Tl){if(Ll<0||yl<=Ll||Tl<0||yl<=Tl)throw Ll+","+Tl;return Pl[Ll][Tl]},eu.getModuleCount=function(){return yl},eu.make=function(){if(Fl<1){for(var Ll=1;Ll<40;Ll++){for(var Tl=Ml.getRSBlocks(Ll,Al),Hl=Vl(),Dl=0;Dl<Bl.length;Dl++){var Kl=Bl[Dl];Hl.put(Kl.getMode(),4),Hl.put(Kl.getLength(),Sl.getLengthInBits(Kl.getMode(),Ll)),Kl.write(Hl)}var cu=0;for(Dl=0;Dl<Tl.length;Dl++)cu+=Tl[Dl].dataCount;if(Hl.getLengthInBits()<=8*cu)break}Fl=Ll}Eu(!1,function(){for(var iu=0,du=0,Au=0;Au<8;Au+=1){Eu(!0,Au);var xu=Sl.getLostPoint(eu);(Au==0||iu>xu)&&(iu=xu,du=Au)}return du}())},eu.createTableTag=function(Ll,Tl){Ll=Ll||2;var Hl="";Hl+='<table style="',Hl+=" border-width: 0px; border-style: none;",Hl+=" border-collapse: collapse;",Hl+=" padding: 0px; margin: "+(Tl=Tl===void 0?4*Ll:Tl)+"px;",Hl+='">',Hl+="<tbody>";for(var Dl=0;Dl<eu.getModuleCount();Dl+=1){Hl+="<tr>";for(var Kl=0;Kl<eu.getModuleCount();Kl+=1)Hl+='<td style="',Hl+=" border-width: 0px; border-style: none;",Hl+=" border-collapse: collapse;",Hl+=" padding: 0px; margin: 0px;",Hl+=" width: "+Ll+"px;",Hl+=" height: "+Ll+"px;",Hl+=" background-color: ",Hl+=eu.isDark(Dl,Kl)?"#000000":"#ffffff",Hl+=";",Hl+='"/>';Hl+="</tr>"}return(Hl+="</tbody>")+"</table>"},eu.createSvgTag=function(Ll,Tl,Hl,Dl){var Kl={};typeof arguments[0]=="object"&&(Ll=(Kl=arguments[0]).cellSize,Tl=Kl.margin,Hl=Kl.alt,Dl=Kl.title),Ll=Ll||2,Tl=Tl===void 0?4*Ll:Tl,(Hl=typeof Hl=="string"?{text:Hl}:Hl||{}).text=Hl.text||null,Hl.id=Hl.text?Hl.id||"qrcode-description":null,(Dl=typeof Dl=="string"?{text:Dl}:Dl||{}).text=Dl.text||null,Dl.id=Dl.text?Dl.id||"qrcode-title":null;var cu,iu,du,Au,xu=eu.getModuleCount()*Ll+2*Tl,_u="";for(Au="l"+Ll+",0 0,"+Ll+" -"+Ll+",0 0,-"+Ll+"z ",_u+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',_u+=Kl.scalable?"":' width="'+xu+'px" height="'+xu+'px"',_u+=' viewBox="0 0 '+xu+" "+xu+'" ',_u+=' preserveAspectRatio="xMinYMin meet"',_u+=Dl.text||Hl.text?' role="img" aria-labelledby="'+tu([Dl.id,Hl.id].join(" ").trim())+'"':"",_u+=">",_u+=Dl.text?'<title id="'+tu(Dl.id)+'">'+tu(Dl.text)+"</title>":"",_u+=Hl.text?'<description id="'+tu(Hl.id)+'">'+tu(Hl.text)+"</description>":"",_u+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',_u+='<path d="',iu=0;iu<eu.getModuleCount();iu+=1)for(du=iu*Ll+Tl,cu=0;cu<eu.getModuleCount();cu+=1)eu.isDark(iu,cu)&&(_u+="M"+(cu*Ll+Tl)+","+du+Au);return(_u+='" stroke="transparent" fill="black"/>')+"</svg>"},eu.createDataURL=function(Ll,Tl){Ll=Ll||2,Tl=Tl===void 0?4*Ll:Tl;var Hl=eu.getModuleCount()*Ll+2*Tl,Dl=Tl,Kl=Hl-Tl;return Nl(Hl,Hl,function(cu,iu){if(Dl<=cu&&cu<Kl&&Dl<=iu&&iu<Kl){var du=Math.floor((cu-Dl)/Ll),Au=Math.floor((iu-Dl)/Ll);return eu.isDark(Au,du)?0:1}return 1})},eu.createImgTag=function(Ll,Tl,Hl){Ll=Ll||2,Tl=Tl===void 0?4*Ll:Tl;var Dl=eu.getModuleCount()*Ll+2*Tl,Kl="";return Kl+="<img",Kl+=' src="',Kl+=eu.createDataURL(Ll,Tl),Kl+='"',Kl+=' width="',Kl+=Dl,Kl+='"',Kl+=' height="',Kl+=Dl,Kl+='"',Hl&&(Kl+=' alt="',Kl+=tu(Hl),Kl+='"'),Kl+"/>"};var tu=function(Ll){for(var Tl="",Hl=0;Hl<Ll.length;Hl+=1){var Dl=Ll.charAt(Hl);switch(Dl){case"<":Tl+="&lt;";break;case">":Tl+="&gt;";break;case"&":Tl+="&amp;";break;case'"':Tl+="&quot;";break;default:Tl+=Dl}}return Tl};return eu.createASCII=function(Ll,Tl){if((Ll=Ll||1)<2)return function(_d){_d=_d===void 0?2:_d;var Zu,tp,hu,Xl,Zl,bu=1*eu.getModuleCount()+2*_d,Ou=_d,zu=bu-_d,Qu={"██":"█","█ ":"▀"," █":"▄","  ":" "},_p={"██":"▀","█ ":"▀"," █":" ","  ":" "},dp="";for(Zu=0;Zu<bu;Zu+=2){for(hu=Math.floor((Zu-Ou)/1),Xl=Math.floor((Zu+1-Ou)/1),tp=0;tp<bu;tp+=1)Zl="█",Ou<=tp&&tp<zu&&Ou<=Zu&&Zu<zu&&eu.isDark(hu,Math.floor((tp-Ou)/1))&&(Zl=" "),Ou<=tp&&tp<zu&&Ou<=Zu+1&&Zu+1<zu&&eu.isDark(Xl,Math.floor((tp-Ou)/1))?Zl+=" ":Zl+="█",dp+=_d<1&&Zu+1>=zu?_p[Zl]:Qu[Zl];dp+=`
`}return bu%2&&_d>0?dp.substring(0,dp.length-bu-1)+Array(bu+1).join("▀"):dp.substring(0,dp.length-1)}(Tl);Ll-=1,Tl=Tl===void 0?2*Ll:Tl;var Hl,Dl,Kl,cu,iu=eu.getModuleCount()*Ll+2*Tl,du=Tl,Au=iu-Tl,xu=Array(Ll+1).join("██"),_u=Array(Ll+1).join("  "),Hu="",ju="";for(Hl=0;Hl<iu;Hl+=1){for(Kl=Math.floor((Hl-du)/Ll),ju="",Dl=0;Dl<iu;Dl+=1)cu=1,du<=Dl&&Dl<Au&&du<=Hl&&Hl<Au&&eu.isDark(Kl,Math.floor((Dl-du)/Ll))&&(cu=0),ju+=cu?xu:_u;for(Kl=0;Kl<Ll;Kl+=1)Hu+=ju+`
`}return Hu.substring(0,Hu.length-1)},eu.renderTo2dContext=function(Ll,Tl){Tl=Tl||2;for(var Hl=eu.getModuleCount(),Dl=0;Dl<Hl;Dl++)for(var Kl=0;Kl<Hl;Kl++)Ll.fillStyle=eu.isDark(Dl,Kl)?"black":"white",Ll.fillRect(Dl*Tl,Kl*Tl,Tl,Tl)},eu};Ns.stringToBytes=(Ns.stringToBytesFuncs={default:function(Ol){for(var Gl=[],Fl=0;Fl<Ol.length;Fl+=1){var Al=Ol.charCodeAt(Fl);Gl.push(255&Al)}return Gl}}).default,Ns.createStringToBytes=function(Ol,Gl){var Fl=function(){for(var Pl=Il(Ol),yl=function(){var Yl=Pl.read();if(Yl==-1)throw"eof";return Yl},Zs=0,Bl={};;){var eu=Pl.read();if(eu==-1)break;var Eu=yl(),uu=yl()<<8|yl();Bl[String.fromCharCode(eu<<8|Eu)]=uu,Zs+=1}if(Zs!=Gl)throw Zs+" != "+Gl;return Bl}(),Al=63;return function(Pl){for(var yl=[],Zs=0;Zs<Pl.length;Zs+=1){var Bl=Pl.charCodeAt(Zs);if(Bl<128)yl.push(Bl);else{var eu=Fl[Pl.charAt(Zs)];typeof eu=="number"?(255&eu)==eu?yl.push(eu):(yl.push(eu>>>8),yl.push(255&eu)):yl.push(Al)}}return yl}};var Ws,Js,$l,wl,_l,Cl={L:1,M:0,Q:3,H:2},Sl=(Ws=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],Js=1335,$l=7973,_l=function(Ol){for(var Gl=0;Ol!=0;)Gl+=1,Ol>>>=1;return Gl},(wl={}).getBCHTypeInfo=function(Ol){for(var Gl=Ol<<10;_l(Gl)-_l(Js)>=0;)Gl^=Js<<_l(Gl)-_l(Js);return 21522^(Ol<<10|Gl)},wl.getBCHTypeNumber=function(Ol){for(var Gl=Ol<<12;_l(Gl)-_l($l)>=0;)Gl^=$l<<_l(Gl)-_l($l);return Ol<<12|Gl},wl.getPatternPosition=function(Ol){return Ws[Ol-1]},wl.getMaskFunction=function(Ol){switch(Ol){case 0:return function(Gl,Fl){return(Gl+Fl)%2==0};case 1:return function(Gl,Fl){return Gl%2==0};case 2:return function(Gl,Fl){return Fl%3==0};case 3:return function(Gl,Fl){return(Gl+Fl)%3==0};case 4:return function(Gl,Fl){return(Math.floor(Gl/2)+Math.floor(Fl/3))%2==0};case 5:return function(Gl,Fl){return Gl*Fl%2+Gl*Fl%3==0};case 6:return function(Gl,Fl){return(Gl*Fl%2+Gl*Fl%3)%2==0};case 7:return function(Gl,Fl){return(Gl*Fl%3+(Gl+Fl)%2)%2==0};default:throw"bad maskPattern:"+Ol}},wl.getErrorCorrectPolynomial=function(Ol){for(var Gl=xl([1],0),Fl=0;Fl<Ol;Fl+=1)Gl=Gl.multiply(xl([1,El.gexp(Fl)],0));return Gl},wl.getLengthInBits=function(Ol,Gl){if(1<=Gl&&Gl<10)switch(Ol){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+Ol}else if(Gl<27)switch(Ol){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+Ol}else{if(!(Gl<41))throw"type:"+Gl;switch(Ol){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+Ol}}},wl.getLostPoint=function(Ol){for(var Gl=Ol.getModuleCount(),Fl=0,Al=0;Al<Gl;Al+=1)for(var Pl=0;Pl<Gl;Pl+=1){for(var yl=0,Zs=Ol.isDark(Al,Pl),Bl=-1;Bl<=1;Bl+=1)if(!(Al+Bl<0||Gl<=Al+Bl))for(var eu=-1;eu<=1;eu+=1)Pl+eu<0||Gl<=Pl+eu||Bl==0&&eu==0||Zs==Ol.isDark(Al+Bl,Pl+eu)&&(yl+=1);yl>5&&(Fl+=3+yl-5)}for(Al=0;Al<Gl-1;Al+=1)for(Pl=0;Pl<Gl-1;Pl+=1){var Eu=0;Ol.isDark(Al,Pl)&&(Eu+=1),Ol.isDark(Al+1,Pl)&&(Eu+=1),Ol.isDark(Al,Pl+1)&&(Eu+=1),Ol.isDark(Al+1,Pl+1)&&(Eu+=1),Eu!=0&&Eu!=4||(Fl+=3)}for(Al=0;Al<Gl;Al+=1)for(Pl=0;Pl<Gl-6;Pl+=1)Ol.isDark(Al,Pl)&&!Ol.isDark(Al,Pl+1)&&Ol.isDark(Al,Pl+2)&&Ol.isDark(Al,Pl+3)&&Ol.isDark(Al,Pl+4)&&!Ol.isDark(Al,Pl+5)&&Ol.isDark(Al,Pl+6)&&(Fl+=40);for(Pl=0;Pl<Gl;Pl+=1)for(Al=0;Al<Gl-6;Al+=1)Ol.isDark(Al,Pl)&&!Ol.isDark(Al+1,Pl)&&Ol.isDark(Al+2,Pl)&&Ol.isDark(Al+3,Pl)&&Ol.isDark(Al+4,Pl)&&!Ol.isDark(Al+5,Pl)&&Ol.isDark(Al+6,Pl)&&(Fl+=40);var uu=0;for(Pl=0;Pl<Gl;Pl+=1)for(Al=0;Al<Gl;Al+=1)Ol.isDark(Al,Pl)&&(uu+=1);return Fl+Math.abs(100*uu/Gl/Gl-50)/5*10},wl),El=function(){for(var Ol=new Array(256),Gl=new Array(256),Fl=0;Fl<8;Fl+=1)Ol[Fl]=1<<Fl;for(Fl=8;Fl<256;Fl+=1)Ol[Fl]=Ol[Fl-4]^Ol[Fl-5]^Ol[Fl-6]^Ol[Fl-8];for(Fl=0;Fl<255;Fl+=1)Gl[Ol[Fl]]=Fl;return{glog:function(Al){if(Al<1)throw"glog("+Al+")";return Gl[Al]},gexp:function(Al){for(;Al<0;)Al+=255;for(;Al>=256;)Al-=255;return Ol[Al]}}}();function xl(Ol,Gl){if(Ol.length===void 0)throw Ol.length+"/"+Gl;var Fl=function(){for(var Pl=0;Pl<Ol.length&&Ol[Pl]==0;)Pl+=1;for(var yl=new Array(Ol.length-Pl+Gl),Zs=0;Zs<Ol.length-Pl;Zs+=1)yl[Zs]=Ol[Zs+Pl];return yl}(),Al={getAt:function(Pl){return Fl[Pl]},getLength:function(){return Fl.length},multiply:function(Pl){for(var yl=new Array(Al.getLength()+Pl.getLength()-1),Zs=0;Zs<Al.getLength();Zs+=1)for(var Bl=0;Bl<Pl.getLength();Bl+=1)yl[Zs+Bl]^=El.gexp(El.glog(Al.getAt(Zs))+El.glog(Pl.getAt(Bl)));return xl(yl,0)},mod:function(Pl){if(Al.getLength()-Pl.getLength()<0)return Al;for(var yl=El.glog(Al.getAt(0))-El.glog(Pl.getAt(0)),Zs=new Array(Al.getLength()),Bl=0;Bl<Al.getLength();Bl+=1)Zs[Bl]=Al.getAt(Bl);for(Bl=0;Bl<Pl.getLength();Bl+=1)Zs[Bl]^=El.gexp(El.glog(Pl.getAt(Bl))+yl);return xl(Zs,0).mod(Pl)}};return Al}var Ml=function(){var Ol=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],Gl=function(Al,Pl){var yl={};return yl.totalCount=Al,yl.dataCount=Pl,yl},Fl={getRSBlocks:function(Al,Pl){var yl=function(ou,pu){switch(pu){case Cl.L:return Ol[4*(ou-1)+0];case Cl.M:return Ol[4*(ou-1)+1];case Cl.Q:return Ol[4*(ou-1)+2];case Cl.H:return Ol[4*(ou-1)+3];default:return}}(Al,Pl);if(yl===void 0)throw"bad rs block @ typeNumber:"+Al+"/errorCorrectionLevel:"+Pl;for(var Zs=yl.length/3,Bl=[],eu=0;eu<Zs;eu+=1)for(var Eu=yl[3*eu+0],uu=yl[3*eu+1],Yl=yl[3*eu+2],zl=0;zl<Eu;zl+=1)Bl.push(Gl(uu,Yl));return Bl}};return Fl}(),Vl=function(){var Ol=[],Gl=0,Fl={getBuffer:function(){return Ol},getAt:function(Al){var Pl=Math.floor(Al/8);return(Ol[Pl]>>>7-Al%8&1)==1},put:function(Al,Pl){for(var yl=0;yl<Pl;yl+=1)Fl.putBit((Al>>>Pl-yl-1&1)==1)},getLengthInBits:function(){return Gl},putBit:function(Al){var Pl=Math.floor(Gl/8);Ol.length<=Pl&&Ol.push(0),Al&&(Ol[Pl]|=128>>>Gl%8),Gl+=1}};return Fl},Ul=function(Ol){var Gl=Ol,Fl={getMode:function(){return 1},getLength:function(yl){return Gl.length},write:function(yl){for(var Zs=Gl,Bl=0;Bl+2<Zs.length;)yl.put(Al(Zs.substring(Bl,Bl+3)),10),Bl+=3;Bl<Zs.length&&(Zs.length-Bl==1?yl.put(Al(Zs.substring(Bl,Bl+1)),4):Zs.length-Bl==2&&yl.put(Al(Zs.substring(Bl,Bl+2)),7))}},Al=function(yl){for(var Zs=0,Bl=0;Bl<yl.length;Bl+=1)Zs=10*Zs+Pl(yl.charAt(Bl));return Zs},Pl=function(yl){if("0"<=yl&&yl<="9")return yl.charCodeAt(0)-48;throw"illegal char :"+yl};return Fl},_h=function(Ol){var Gl=Ol,Fl={getMode:function(){return 2},getLength:function(Pl){return Gl.length},write:function(Pl){for(var yl=Gl,Zs=0;Zs+1<yl.length;)Pl.put(45*Al(yl.charAt(Zs))+Al(yl.charAt(Zs+1)),11),Zs+=2;Zs<yl.length&&Pl.put(Al(yl.charAt(Zs)),6)}},Al=function(Pl){if("0"<=Pl&&Pl<="9")return Pl.charCodeAt(0)-48;if("A"<=Pl&&Pl<="Z")return Pl.charCodeAt(0)-65+10;switch(Pl){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+Pl}};return Fl},nu=function(Ol){var Gl=Ns.stringToBytes(Ol);return{getMode:function(){return 4},getLength:function(Fl){return Gl.length},write:function(Fl){for(var Al=0;Al<Gl.length;Al+=1)Fl.put(Gl[Al],8)}}},su=function(Ol){var Gl=Ns.stringToBytesFuncs.SJIS;if(!Gl)throw"sjis not supported.";(function(Al,Pl){var yl=Gl("友");if(yl.length!=2||(yl[0]<<8|yl[1])!=38726)throw"sjis not supported."})();var Fl=Gl(Ol);return{getMode:function(){return 8},getLength:function(Al){return~~(Fl.length/2)},write:function(Al){for(var Pl=Fl,yl=0;yl+1<Pl.length;){var Zs=(255&Pl[yl])<<8|255&Pl[yl+1];if(33088<=Zs&&Zs<=40956)Zs-=33088;else{if(!(57408<=Zs&&Zs<=60351))throw"illegal char at "+(yl+1)+"/"+Zs;Zs-=49472}Zs=192*(Zs>>>8&255)+(255&Zs),Al.put(Zs,13),yl+=2}if(yl<Pl.length)throw"illegal char at "+(yl+1)}}},Jl=function(){var Ol=[],Gl={writeByte:function(Fl){Ol.push(255&Fl)},writeShort:function(Fl){Gl.writeByte(Fl),Gl.writeByte(Fl>>>8)},writeBytes:function(Fl,Al,Pl){Al=Al||0,Pl=Pl||Fl.length;for(var yl=0;yl<Pl;yl+=1)Gl.writeByte(Fl[yl+Al])},writeString:function(Fl){for(var Al=0;Al<Fl.length;Al+=1)Gl.writeByte(Fl.charCodeAt(Al))},toByteArray:function(){return Ol},toString:function(){var Fl="";Fl+="[";for(var Al=0;Al<Ol.length;Al+=1)Al>0&&(Fl+=","),Fl+=Ol[Al];return Fl+"]"}};return Gl},Il=function(Ol){var Gl=Ol,Fl=0,Al=0,Pl=0,yl={read:function(){for(;Pl<8;){if(Fl>=Gl.length){if(Pl==0)return-1;throw"unexpected end of file./"+Pl}var Bl=Gl.charAt(Fl);if(Fl+=1,Bl=="=")return Pl=0,-1;Bl.match(/^\s$/)||(Al=Al<<6|Zs(Bl.charCodeAt(0)),Pl+=6)}var eu=Al>>>Pl-8&255;return Pl-=8,eu}},Zs=function(Bl){if(65<=Bl&&Bl<=90)return Bl-65;if(97<=Bl&&Bl<=122)return Bl-97+26;if(48<=Bl&&Bl<=57)return Bl-48+52;if(Bl==43)return 62;if(Bl==47)return 63;throw"c:"+Bl};return yl},Nl=function(Ol,Gl,Fl){for(var Al=function(uu,Yl){var zl=uu,ou=Yl,pu=new Array(uu*Yl),fu={setPixel:function(Ll,Tl,Hl){pu[Tl*zl+Ll]=Hl},write:function(Ll){Ll.writeString("GIF87a"),Ll.writeShort(zl),Ll.writeShort(ou),Ll.writeByte(128),Ll.writeByte(0),Ll.writeByte(0),Ll.writeByte(0),Ll.writeByte(0),Ll.writeByte(0),Ll.writeByte(255),Ll.writeByte(255),Ll.writeByte(255),Ll.writeString(","),Ll.writeShort(0),Ll.writeShort(0),Ll.writeShort(zl),Ll.writeShort(ou),Ll.writeByte(0);var Tl=yu(2);Ll.writeByte(2);for(var Hl=0;Tl.length-Hl>255;)Ll.writeByte(255),Ll.writeBytes(Tl,Hl,255),Hl+=255;Ll.writeByte(Tl.length-Hl),Ll.writeBytes(Tl,Hl,Tl.length-Hl),Ll.writeByte(0),Ll.writeString(";")}},yu=function(Ll){for(var Tl=1<<Ll,Hl=1+(1<<Ll),Dl=Ll+1,Kl=tu(),cu=0;cu<Tl;cu+=1)Kl.add(String.fromCharCode(cu));Kl.add(String.fromCharCode(Tl)),Kl.add(String.fromCharCode(Hl));var iu,du,Au,xu=Jl(),_u=(iu=xu,du=0,Au=0,{write:function(Zu,tp){if(Zu>>>tp)throw"length over";for(;du+tp>=8;)iu.writeByte(255&(Zu<<du|Au)),tp-=8-du,Zu>>>=8-du,Au=0,du=0;Au|=Zu<<du,du+=tp},flush:function(){du>0&&iu.writeByte(Au)}});_u.write(Tl,Dl);var Hu=0,ju=String.fromCharCode(pu[Hu]);for(Hu+=1;Hu<pu.length;){var _d=String.fromCharCode(pu[Hu]);Hu+=1,Kl.contains(ju+_d)?ju+=_d:(_u.write(Kl.indexOf(ju),Dl),Kl.size()<4095&&(Kl.size()==1<<Dl&&(Dl+=1),Kl.add(ju+_d)),ju=_d)}return _u.write(Kl.indexOf(ju),Dl),_u.write(Hl,Dl),_u.flush(),xu.toByteArray()},tu=function(){var Ll={},Tl=0,Hl={add:function(Dl){if(Hl.contains(Dl))throw"dup key:"+Dl;Ll[Dl]=Tl,Tl+=1},size:function(){return Tl},indexOf:function(Dl){return Ll[Dl]},contains:function(Dl){return Ll[Dl]!==void 0}};return Hl};return fu}(Ol,Gl),Pl=0;Pl<Gl;Pl+=1)for(var yl=0;yl<Ol;yl+=1)Al.setPixel(yl,Pl,Fl(yl,Pl));var Zs=Jl();Al.write(Zs);for(var Bl=function(){var uu=0,Yl=0,zl=0,ou="",pu={},fu=function(tu){ou+=String.fromCharCode(yu(63&tu))},yu=function(tu){if(!(tu<0)){if(tu<26)return 65+tu;if(tu<52)return tu-26+97;if(tu<62)return tu-52+48;if(tu==62)return 43;if(tu==63)return 47}throw"n:"+tu};return pu.writeByte=function(tu){for(uu=uu<<8|255&tu,Yl+=8,zl+=1;Yl>=6;)fu(uu>>>Yl-6),Yl-=6},pu.flush=function(){if(Yl>0&&(fu(uu<<6-Yl),uu=0,Yl=0),zl%3!=0)for(var tu=3-zl%3,Ll=0;Ll<tu;Ll+=1)ou+="="},pu.toString=function(){return ou},pu}(),eu=Zs.toByteArray(),Eu=0;Eu<eu.length;Eu+=1)Bl.writeByte(eu[Eu]);return Bl.flush(),"data:image/gif;base64,"+Bl};return Ns}();Bs.stringToBytesFuncs["UTF-8"]=function(Ns){return function(Ws){for(var Js=[],$l=0;$l<Ws.length;$l++){var wl=Ws.charCodeAt($l);wl<128?Js.push(wl):wl<2048?Js.push(192|wl>>6,128|63&wl):wl<55296||wl>=57344?Js.push(224|wl>>12,128|wl>>6&63,128|63&wl):($l++,wl=65536+((1023&wl)<<10|1023&Ws.charCodeAt($l)),Js.push(240|wl>>18,128|wl>>12&63,128|wl>>6&63,128|63&wl))}return Js}(Ns)},(Rs=typeof(Ts=function(){return Bs})=="function"?Ts.apply(Is,[]):Ts)===void 0||(_s.exports=Rs)},676:(_s,Is,Ts)=>{Ts.d(Is,{default:()=>Eu});var Rs=function(){return(Rs=Object.assign||function(uu){for(var Yl,zl=1,ou=arguments.length;zl<ou;zl++)for(var pu in Yl=arguments[zl])Object.prototype.hasOwnProperty.call(Yl,pu)&&(uu[pu]=Yl[pu]);return uu}).apply(this,arguments)},Bs=function(){for(var uu=0,Yl=0,zl=arguments.length;Yl<zl;Yl++)uu+=arguments[Yl].length;var ou=Array(uu),pu=0;for(Yl=0;Yl<zl;Yl++)for(var fu=arguments[Yl],yu=0,tu=fu.length;yu<tu;yu++,pu++)ou[pu]=fu[yu];return ou},Ns=function(uu){return!!uu&&typeof uu=="object"&&!Array.isArray(uu)};function Ws(uu){for(var Yl=[],zl=1;zl<arguments.length;zl++)Yl[zl-1]=arguments[zl];if(!Yl.length)return uu;var ou=Yl.shift();return ou!==void 0&&Ns(uu)&&Ns(ou)?(uu=Rs({},uu),Object.keys(ou).forEach(function(pu){var fu=uu[pu],yu=ou[pu];Array.isArray(fu)&&Array.isArray(yu)?uu[pu]=yu:Ns(fu)&&Ns(yu)?uu[pu]=Ws(Object.assign({},fu),yu):uu[pu]=yu}),Ws.apply(void 0,Bs([uu],Yl))):uu}function Js(uu,Yl){var zl=document.createElement("a");zl.download=Yl,zl.href=uu,document.body.appendChild(zl),zl.click(),document.body.removeChild(zl)}function $l(uu){return Yl=this,zl=void 0,pu=function(){return function(fu,yu){var tu,Ll,Tl,Hl,Dl={label:0,sent:function(){if(1&Tl[0])throw Tl[1];return Tl[1]},trys:[],ops:[]};return Hl={next:Kl(0),throw:Kl(1),return:Kl(2)},typeof Symbol=="function"&&(Hl[Symbol.iterator]=function(){return this}),Hl;function Kl(cu){return function(iu){return function(du){if(tu)throw new TypeError("Generator is already executing.");for(;Dl;)try{if(tu=1,Ll&&(Tl=2&du[0]?Ll.return:du[0]?Ll.throw||((Tl=Ll.return)&&Tl.call(Ll),0):Ll.next)&&!(Tl=Tl.call(Ll,du[1])).done)return Tl;switch(Ll=0,Tl&&(du=[2&du[0],Tl.value]),du[0]){case 0:case 1:Tl=du;break;case 4:return Dl.label++,{value:du[1],done:!1};case 5:Dl.label++,Ll=du[1],du=[0];continue;case 7:du=Dl.ops.pop(),Dl.trys.pop();continue;default:if(!((Tl=(Tl=Dl.trys).length>0&&Tl[Tl.length-1])||du[0]!==6&&du[0]!==2)){Dl=0;continue}if(du[0]===3&&(!Tl||du[1]>Tl[0]&&du[1]<Tl[3])){Dl.label=du[1];break}if(du[0]===6&&Dl.label<Tl[1]){Dl.label=Tl[1],Tl=du;break}if(Tl&&Dl.label<Tl[2]){Dl.label=Tl[2],Dl.ops.push(du);break}Tl[2]&&Dl.ops.pop(),Dl.trys.pop();continue}du=yu.call(fu,Dl)}catch(Au){du=[6,Au],Ll=0}finally{tu=Tl=0}if(5&du[0])throw du[1];return{value:du[0]?du[1]:void 0,done:!0}}([cu,iu])}}}(this,function(fu){return[2,new Promise(function(yu){var tu=new XMLHttpRequest;tu.onload=function(){var Ll=new FileReader;Ll.onloadend=function(){yu(Ll.result)},Ll.readAsDataURL(tu.response)},tu.open("GET",uu),tu.responseType="blob",tu.send()})]})},new((ou=void 0)||(ou=Promise))(function(fu,yu){function tu(Hl){try{Tl(pu.next(Hl))}catch(Dl){yu(Dl)}}function Ll(Hl){try{Tl(pu.throw(Hl))}catch(Dl){yu(Dl)}}function Tl(Hl){var Dl;Hl.done?fu(Hl.value):(Dl=Hl.value,Dl instanceof ou?Dl:new ou(function(Kl){Kl(Dl)})).then(tu,Ll)}Tl((pu=pu.apply(Yl,zl||[])).next())});var Yl,zl,ou,pu}const wl={L:.07,M:.15,Q:.25,H:.3};var _l=function(){return(_l=Object.assign||function(uu){for(var Yl,zl=1,ou=arguments.length;zl<ou;zl++)for(var pu in Yl=arguments[zl])Object.prototype.hasOwnProperty.call(Yl,pu)&&(uu[pu]=Yl[pu]);return uu}).apply(this,arguments)};const Cl=function(){function uu(Yl){var zl=Yl.svg,ou=Yl.type;this._svg=zl,this._type=ou}return uu.prototype.draw=function(Yl,zl,ou,pu){var fu;switch(this._type){case"dots":fu=this._drawDot;break;case"classy":fu=this._drawClassy;break;case"classy-rounded":fu=this._drawClassyRounded;break;case"rounded":fu=this._drawRounded;break;case"extra-rounded":fu=this._drawExtraRounded;break;case"square":default:fu=this._drawSquare}fu.call(this,{x:Yl,y:zl,size:ou,getNeighbor:pu})},uu.prototype._rotateFigure=function(Yl){var zl,ou=Yl.x,pu=Yl.y,fu=Yl.size,yu=Yl.rotation,tu=yu===void 0?0:yu,Ll=ou+fu/2,Tl=pu+fu/2;(0,Yl.draw)(),(zl=this._element)===null||zl===void 0||zl.setAttribute("transform","rotate("+180*tu/Math.PI+","+Ll+","+Tl+")")},uu.prototype._basicDot=function(Yl){var zl=this,ou=Yl.size,pu=Yl.x,fu=Yl.y;this._rotateFigure(_l(_l({},Yl),{draw:function(){zl._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),zl._element.setAttribute("cx",String(pu+ou/2)),zl._element.setAttribute("cy",String(fu+ou/2)),zl._element.setAttribute("r",String(ou/2))}}))},uu.prototype._basicSquare=function(Yl){var zl=this,ou=Yl.size,pu=Yl.x,fu=Yl.y;this._rotateFigure(_l(_l({},Yl),{draw:function(){zl._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),zl._element.setAttribute("x",String(pu)),zl._element.setAttribute("y",String(fu)),zl._element.setAttribute("width",String(ou)),zl._element.setAttribute("height",String(ou))}}))},uu.prototype._basicSideRounded=function(Yl){var zl=this,ou=Yl.size,pu=Yl.x,fu=Yl.y;this._rotateFigure(_l(_l({},Yl),{draw:function(){zl._element=document.createElementNS("http://www.w3.org/2000/svg","path"),zl._element.setAttribute("d","M "+pu+" "+fu+"v "+ou+"h "+ou/2+"a "+ou/2+" "+ou/2+", 0, 0, 0, 0 "+-ou)}}))},uu.prototype._basicCornerRounded=function(Yl){var zl=this,ou=Yl.size,pu=Yl.x,fu=Yl.y;this._rotateFigure(_l(_l({},Yl),{draw:function(){zl._element=document.createElementNS("http://www.w3.org/2000/svg","path"),zl._element.setAttribute("d","M "+pu+" "+fu+"v "+ou+"h "+ou+"v "+-ou/2+"a "+ou/2+" "+ou/2+", 0, 0, 0, "+-ou/2+" "+-ou/2)}}))},uu.prototype._basicCornerExtraRounded=function(Yl){var zl=this,ou=Yl.size,pu=Yl.x,fu=Yl.y;this._rotateFigure(_l(_l({},Yl),{draw:function(){zl._element=document.createElementNS("http://www.w3.org/2000/svg","path"),zl._element.setAttribute("d","M "+pu+" "+fu+"v "+ou+"h "+ou+"a "+ou+" "+ou+", 0, 0, 0, "+-ou+" "+-ou)}}))},uu.prototype._basicCornersRounded=function(Yl){var zl=this,ou=Yl.size,pu=Yl.x,fu=Yl.y;this._rotateFigure(_l(_l({},Yl),{draw:function(){zl._element=document.createElementNS("http://www.w3.org/2000/svg","path"),zl._element.setAttribute("d","M "+pu+" "+fu+"v "+ou/2+"a "+ou/2+" "+ou/2+", 0, 0, 0, "+ou/2+" "+ou/2+"h "+ou/2+"v "+-ou/2+"a "+ou/2+" "+ou/2+", 0, 0, 0, "+-ou/2+" "+-ou/2)}}))},uu.prototype._drawDot=function(Yl){var zl=Yl.x,ou=Yl.y,pu=Yl.size;this._basicDot({x:zl,y:ou,size:pu,rotation:0})},uu.prototype._drawSquare=function(Yl){var zl=Yl.x,ou=Yl.y,pu=Yl.size;this._basicSquare({x:zl,y:ou,size:pu,rotation:0})},uu.prototype._drawRounded=function(Yl){var zl=Yl.x,ou=Yl.y,pu=Yl.size,fu=Yl.getNeighbor,yu=fu?+fu(-1,0):0,tu=fu?+fu(1,0):0,Ll=fu?+fu(0,-1):0,Tl=fu?+fu(0,1):0,Hl=yu+tu+Ll+Tl;if(Hl!==0)if(Hl>2||yu&&tu||Ll&&Tl)this._basicSquare({x:zl,y:ou,size:pu,rotation:0});else{if(Hl===2){var Dl=0;return yu&&Ll?Dl=Math.PI/2:Ll&&tu?Dl=Math.PI:tu&&Tl&&(Dl=-Math.PI/2),void this._basicCornerRounded({x:zl,y:ou,size:pu,rotation:Dl})}if(Hl===1)return Dl=0,Ll?Dl=Math.PI/2:tu?Dl=Math.PI:Tl&&(Dl=-Math.PI/2),void this._basicSideRounded({x:zl,y:ou,size:pu,rotation:Dl})}else this._basicDot({x:zl,y:ou,size:pu,rotation:0})},uu.prototype._drawExtraRounded=function(Yl){var zl=Yl.x,ou=Yl.y,pu=Yl.size,fu=Yl.getNeighbor,yu=fu?+fu(-1,0):0,tu=fu?+fu(1,0):0,Ll=fu?+fu(0,-1):0,Tl=fu?+fu(0,1):0,Hl=yu+tu+Ll+Tl;if(Hl!==0)if(Hl>2||yu&&tu||Ll&&Tl)this._basicSquare({x:zl,y:ou,size:pu,rotation:0});else{if(Hl===2){var Dl=0;return yu&&Ll?Dl=Math.PI/2:Ll&&tu?Dl=Math.PI:tu&&Tl&&(Dl=-Math.PI/2),void this._basicCornerExtraRounded({x:zl,y:ou,size:pu,rotation:Dl})}if(Hl===1)return Dl=0,Ll?Dl=Math.PI/2:tu?Dl=Math.PI:Tl&&(Dl=-Math.PI/2),void this._basicSideRounded({x:zl,y:ou,size:pu,rotation:Dl})}else this._basicDot({x:zl,y:ou,size:pu,rotation:0})},uu.prototype._drawClassy=function(Yl){var zl=Yl.x,ou=Yl.y,pu=Yl.size,fu=Yl.getNeighbor,yu=fu?+fu(-1,0):0,tu=fu?+fu(1,0):0,Ll=fu?+fu(0,-1):0,Tl=fu?+fu(0,1):0;yu+tu+Ll+Tl!==0?yu||Ll?tu||Tl?this._basicSquare({x:zl,y:ou,size:pu,rotation:0}):this._basicCornerRounded({x:zl,y:ou,size:pu,rotation:Math.PI/2}):this._basicCornerRounded({x:zl,y:ou,size:pu,rotation:-Math.PI/2}):this._basicCornersRounded({x:zl,y:ou,size:pu,rotation:Math.PI/2})},uu.prototype._drawClassyRounded=function(Yl){var zl=Yl.x,ou=Yl.y,pu=Yl.size,fu=Yl.getNeighbor,yu=fu?+fu(-1,0):0,tu=fu?+fu(1,0):0,Ll=fu?+fu(0,-1):0,Tl=fu?+fu(0,1):0;yu+tu+Ll+Tl!==0?yu||Ll?tu||Tl?this._basicSquare({x:zl,y:ou,size:pu,rotation:0}):this._basicCornerExtraRounded({x:zl,y:ou,size:pu,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:zl,y:ou,size:pu,rotation:-Math.PI/2}):this._basicCornersRounded({x:zl,y:ou,size:pu,rotation:Math.PI/2})},uu}();var Sl=function(){return(Sl=Object.assign||function(uu){for(var Yl,zl=1,ou=arguments.length;zl<ou;zl++)for(var pu in Yl=arguments[zl])Object.prototype.hasOwnProperty.call(Yl,pu)&&(uu[pu]=Yl[pu]);return uu}).apply(this,arguments)};const El=function(){function uu(Yl){var zl=Yl.svg,ou=Yl.type;this._svg=zl,this._type=ou}return uu.prototype.draw=function(Yl,zl,ou,pu){var fu;switch(this._type){case"square":fu=this._drawSquare;break;case"extra-rounded":fu=this._drawExtraRounded;break;case"dot":default:fu=this._drawDot}fu.call(this,{x:Yl,y:zl,size:ou,rotation:pu})},uu.prototype._rotateFigure=function(Yl){var zl,ou=Yl.x,pu=Yl.y,fu=Yl.size,yu=Yl.rotation,tu=yu===void 0?0:yu,Ll=ou+fu/2,Tl=pu+fu/2;(0,Yl.draw)(),(zl=this._element)===null||zl===void 0||zl.setAttribute("transform","rotate("+180*tu/Math.PI+","+Ll+","+Tl+")")},uu.prototype._basicDot=function(Yl){var zl=this,ou=Yl.size,pu=Yl.x,fu=Yl.y,yu=ou/7;this._rotateFigure(Sl(Sl({},Yl),{draw:function(){zl._element=document.createElementNS("http://www.w3.org/2000/svg","path"),zl._element.setAttribute("clip-rule","evenodd"),zl._element.setAttribute("d","M "+(pu+ou/2)+" "+fu+"a "+ou/2+" "+ou/2+" 0 1 0 0.1 0zm 0 "+yu+"a "+(ou/2-yu)+" "+(ou/2-yu)+" 0 1 1 -0.1 0Z")}}))},uu.prototype._basicSquare=function(Yl){var zl=this,ou=Yl.size,pu=Yl.x,fu=Yl.y,yu=ou/7;this._rotateFigure(Sl(Sl({},Yl),{draw:function(){zl._element=document.createElementNS("http://www.w3.org/2000/svg","path"),zl._element.setAttribute("clip-rule","evenodd"),zl._element.setAttribute("d","M "+pu+" "+fu+"v "+ou+"h "+ou+"v "+-ou+"zM "+(pu+yu)+" "+(fu+yu)+"h "+(ou-2*yu)+"v "+(ou-2*yu)+"h "+(2*yu-ou)+"z")}}))},uu.prototype._basicExtraRounded=function(Yl){var zl=this,ou=Yl.size,pu=Yl.x,fu=Yl.y,yu=ou/7;this._rotateFigure(Sl(Sl({},Yl),{draw:function(){zl._element=document.createElementNS("http://www.w3.org/2000/svg","path"),zl._element.setAttribute("clip-rule","evenodd"),zl._element.setAttribute("d","M "+pu+" "+(fu+2.5*yu)+"v "+2*yu+"a "+2.5*yu+" "+2.5*yu+", 0, 0, 0, "+2.5*yu+" "+2.5*yu+"h "+2*yu+"a "+2.5*yu+" "+2.5*yu+", 0, 0, 0, "+2.5*yu+" "+2.5*-yu+"v "+-2*yu+"a "+2.5*yu+" "+2.5*yu+", 0, 0, 0, "+2.5*-yu+" "+2.5*-yu+"h "+-2*yu+"a "+2.5*yu+" "+2.5*yu+", 0, 0, 0, "+2.5*-yu+" "+2.5*yu+"M "+(pu+2.5*yu)+" "+(fu+yu)+"h "+2*yu+"a "+1.5*yu+" "+1.5*yu+", 0, 0, 1, "+1.5*yu+" "+1.5*yu+"v "+2*yu+"a "+1.5*yu+" "+1.5*yu+", 0, 0, 1, "+1.5*-yu+" "+1.5*yu+"h "+-2*yu+"a "+1.5*yu+" "+1.5*yu+", 0, 0, 1, "+1.5*-yu+" "+1.5*-yu+"v "+-2*yu+"a "+1.5*yu+" "+1.5*yu+", 0, 0, 1, "+1.5*yu+" "+1.5*-yu)}}))},uu.prototype._drawDot=function(Yl){var zl=Yl.x,ou=Yl.y,pu=Yl.size,fu=Yl.rotation;this._basicDot({x:zl,y:ou,size:pu,rotation:fu})},uu.prototype._drawSquare=function(Yl){var zl=Yl.x,ou=Yl.y,pu=Yl.size,fu=Yl.rotation;this._basicSquare({x:zl,y:ou,size:pu,rotation:fu})},uu.prototype._drawExtraRounded=function(Yl){var zl=Yl.x,ou=Yl.y,pu=Yl.size,fu=Yl.rotation;this._basicExtraRounded({x:zl,y:ou,size:pu,rotation:fu})},uu}();var xl=function(){return(xl=Object.assign||function(uu){for(var Yl,zl=1,ou=arguments.length;zl<ou;zl++)for(var pu in Yl=arguments[zl])Object.prototype.hasOwnProperty.call(Yl,pu)&&(uu[pu]=Yl[pu]);return uu}).apply(this,arguments)};const Ml=function(){function uu(Yl){var zl=Yl.svg,ou=Yl.type;this._svg=zl,this._type=ou}return uu.prototype.draw=function(Yl,zl,ou,pu){var fu;switch(this._type){case"square":fu=this._drawSquare;break;case"dot":default:fu=this._drawDot}fu.call(this,{x:Yl,y:zl,size:ou,rotation:pu})},uu.prototype._rotateFigure=function(Yl){var zl,ou=Yl.x,pu=Yl.y,fu=Yl.size,yu=Yl.rotation,tu=yu===void 0?0:yu,Ll=ou+fu/2,Tl=pu+fu/2;(0,Yl.draw)(),(zl=this._element)===null||zl===void 0||zl.setAttribute("transform","rotate("+180*tu/Math.PI+","+Ll+","+Tl+")")},uu.prototype._basicDot=function(Yl){var zl=this,ou=Yl.size,pu=Yl.x,fu=Yl.y;this._rotateFigure(xl(xl({},Yl),{draw:function(){zl._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),zl._element.setAttribute("cx",String(pu+ou/2)),zl._element.setAttribute("cy",String(fu+ou/2)),zl._element.setAttribute("r",String(ou/2))}}))},uu.prototype._basicSquare=function(Yl){var zl=this,ou=Yl.size,pu=Yl.x,fu=Yl.y;this._rotateFigure(xl(xl({},Yl),{draw:function(){zl._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),zl._element.setAttribute("x",String(pu)),zl._element.setAttribute("y",String(fu)),zl._element.setAttribute("width",String(ou)),zl._element.setAttribute("height",String(ou))}}))},uu.prototype._drawDot=function(Yl){var zl=Yl.x,ou=Yl.y,pu=Yl.size,fu=Yl.rotation;this._basicDot({x:zl,y:ou,size:pu,rotation:fu})},uu.prototype._drawSquare=function(Yl){var zl=Yl.x,ou=Yl.y,pu=Yl.size,fu=Yl.rotation;this._basicSquare({x:zl,y:ou,size:pu,rotation:fu})},uu}(),Vl="circle";var Ul=function(uu,Yl,zl,ou){return new(zl||(zl=Promise))(function(pu,fu){function yu(Tl){try{Ll(ou.next(Tl))}catch(Hl){fu(Hl)}}function tu(Tl){try{Ll(ou.throw(Tl))}catch(Hl){fu(Hl)}}function Ll(Tl){var Hl;Tl.done?pu(Tl.value):(Hl=Tl.value,Hl instanceof zl?Hl:new zl(function(Dl){Dl(Hl)})).then(yu,tu)}Ll((ou=ou.apply(uu,[])).next())})},_h=function(uu,Yl){var zl,ou,pu,fu,yu={label:0,sent:function(){if(1&pu[0])throw pu[1];return pu[1]},trys:[],ops:[]};return fu={next:tu(0),throw:tu(1),return:tu(2)},typeof Symbol=="function"&&(fu[Symbol.iterator]=function(){return this}),fu;function tu(Ll){return function(Tl){return function(Hl){if(zl)throw new TypeError("Generator is already executing.");for(;yu;)try{if(zl=1,ou&&(pu=2&Hl[0]?ou.return:Hl[0]?ou.throw||((pu=ou.return)&&pu.call(ou),0):ou.next)&&!(pu=pu.call(ou,Hl[1])).done)return pu;switch(ou=0,pu&&(Hl=[2&Hl[0],pu.value]),Hl[0]){case 0:case 1:pu=Hl;break;case 4:return yu.label++,{value:Hl[1],done:!1};case 5:yu.label++,ou=Hl[1],Hl=[0];continue;case 7:Hl=yu.ops.pop(),yu.trys.pop();continue;default:if(!((pu=(pu=yu.trys).length>0&&pu[pu.length-1])||Hl[0]!==6&&Hl[0]!==2)){yu=0;continue}if(Hl[0]===3&&(!pu||Hl[1]>pu[0]&&Hl[1]<pu[3])){yu.label=Hl[1];break}if(Hl[0]===6&&yu.label<pu[1]){yu.label=pu[1],pu=Hl;break}if(pu&&yu.label<pu[2]){yu.label=pu[2],yu.ops.push(Hl);break}pu[2]&&yu.ops.pop(),yu.trys.pop();continue}Hl=Yl.call(uu,yu)}catch(Dl){Hl=[6,Dl],ou=0}finally{zl=pu=0}if(5&Hl[0])throw Hl[1];return{value:Hl[0]?Hl[1]:void 0,done:!0}}([Ll,Tl])}}},nu=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],su=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];const Jl=function(){function uu(Yl){this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(Yl.width)),this._element.setAttribute("height",String(Yl.height)),this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._options=Yl}return Object.defineProperty(uu.prototype,"width",{get:function(){return this._options.width},enumerable:!1,configurable:!0}),Object.defineProperty(uu.prototype,"height",{get:function(){return this._options.height},enumerable:!1,configurable:!0}),uu.prototype.getElement=function(){return this._element},uu.prototype.drawQR=function(Yl){return Ul(this,void 0,void 0,function(){var zl,ou,pu,fu,yu,tu,Ll,Tl,Hl,Dl,Kl=this;return _h(this,function(cu){switch(cu.label){case 0:return zl=Yl.getModuleCount(),ou=Math.min(this._options.width,this._options.height)-2*this._options.margin,pu=this._options.shape===Vl?ou/Math.sqrt(2):ou,fu=Math.floor(pu/zl),yu={hideXDots:0,hideYDots:0,width:0,height:0},this._qr=Yl,this._options.image?[4,this.loadImage()]:[3,2];case 1:if(cu.sent(),!this._image)return[2];tu=this._options,Ll=tu.imageOptions,Tl=tu.qrOptions,Hl=Ll.imageSize*wl[Tl.errorCorrectionLevel],Dl=Math.floor(Hl*zl*zl),yu=function(iu){var du=iu.originalHeight,Au=iu.originalWidth,xu=iu.maxHiddenDots,_u=iu.maxHiddenAxisDots,Hu=iu.dotSize,ju={x:0,y:0},_d={x:0,y:0};if(du<=0||Au<=0||xu<=0||Hu<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};var Zu=du/Au;return ju.x=Math.floor(Math.sqrt(xu/Zu)),ju.x<=0&&(ju.x=1),_u&&_u<ju.x&&(ju.x=_u),ju.x%2==0&&ju.x--,_d.x=ju.x*Hu,ju.y=1+2*Math.ceil((ju.x*Zu-1)/2),_d.y=Math.round(_d.x*Zu),(ju.y*ju.x>xu||_u&&_u<ju.y)&&(_u&&_u<ju.y?(ju.y=_u,ju.y%2==0&&ju.x--):ju.y-=2,_d.y=ju.y*Hu,ju.x=1+2*Math.ceil((ju.y/Zu-1)/2),_d.x=Math.round(_d.y/Zu)),{height:_d.y,width:_d.x,hideYDots:ju.y,hideXDots:ju.x}}({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:Dl,maxHiddenAxisDots:zl-14,dotSize:fu}),cu.label=2;case 2:return this.drawBackground(),this.drawDots(function(iu,du){var Au,xu,_u,Hu,ju,_d;return!(Kl._options.imageOptions.hideBackgroundDots&&iu>=(zl-yu.hideXDots)/2&&iu<(zl+yu.hideXDots)/2&&du>=(zl-yu.hideYDots)/2&&du<(zl+yu.hideYDots)/2||!((Au=nu[iu])===null||Au===void 0)&&Au[du]||!((xu=nu[iu-zl+7])===null||xu===void 0)&&xu[du]||!((_u=nu[iu])===null||_u===void 0)&&_u[du-zl+7]||!((Hu=su[iu])===null||Hu===void 0)&&Hu[du]||!((ju=su[iu-zl+7])===null||ju===void 0)&&ju[du]||!((_d=su[iu])===null||_d===void 0)&&_d[du-zl+7])}),this.drawCorners(),this._options.image?[4,this.drawImage({width:yu.width,height:yu.height,count:zl,dotSize:fu})]:[3,4];case 3:cu.sent(),cu.label=4;case 4:return[2]}})})},uu.prototype.drawBackground=function(){var Yl,zl,ou,pu=this._element,fu=this._options;if(pu){var yu=(Yl=fu.backgroundOptions)===null||Yl===void 0?void 0:Yl.gradient,tu=(zl=fu.backgroundOptions)===null||zl===void 0?void 0:zl.color;if((yu||tu)&&this._createColor({options:yu,color:tu,additionalRotation:0,x:0,y:0,height:fu.height,width:fu.width,name:"background-color"}),(ou=fu.backgroundOptions)===null||ou===void 0?void 0:ou.round){var Ll=Math.min(fu.width,fu.height),Tl=document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id","clip-path-background-color"),this._defs.appendChild(this._backgroundClipPath),Tl.setAttribute("x",String((fu.width-Ll)/2)),Tl.setAttribute("y",String((fu.height-Ll)/2)),Tl.setAttribute("width",String(Ll)),Tl.setAttribute("height",String(Ll)),Tl.setAttribute("rx",String(Ll/2*fu.backgroundOptions.round)),this._backgroundClipPath.appendChild(Tl)}}},uu.prototype.drawDots=function(Yl){var zl,ou,pu=this;if(!this._qr)throw"QR code is not defined";var fu=this._options,yu=this._qr.getModuleCount();if(yu>fu.width||yu>fu.height)throw"The canvas is too small.";var tu=Math.min(fu.width,fu.height)-2*fu.margin,Ll=fu.shape===Vl?tu/Math.sqrt(2):tu,Tl=Math.floor(Ll/yu),Hl=Math.floor((fu.width-yu*Tl)/2),Dl=Math.floor((fu.height-yu*Tl)/2),Kl=new Cl({svg:this._element,type:fu.dotsOptions.type});this._dotsClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id","clip-path-dot-color"),this._defs.appendChild(this._dotsClipPath),this._createColor({options:(zl=fu.dotsOptions)===null||zl===void 0?void 0:zl.gradient,color:fu.dotsOptions.color,additionalRotation:0,x:0,y:0,height:fu.height,width:fu.width,name:"dot-color"});for(var cu=function(Xl){for(var Zl=function(Ou){return Yl&&!Yl(Xl,Ou)?"continue":!((ou=iu._qr)===null||ou===void 0)&&ou.isDark(Xl,Ou)?(Kl.draw(Hl+Xl*Tl,Dl+Ou*Tl,Tl,function(zu,Qu){return!(Xl+zu<0||Ou+Qu<0||Xl+zu>=yu||Ou+Qu>=yu)&&!(Yl&&!Yl(Xl+zu,Ou+Qu))&&!!pu._qr&&pu._qr.isDark(Xl+zu,Ou+Qu)}),void(Kl._element&&iu._dotsClipPath&&iu._dotsClipPath.appendChild(Kl._element))):"continue"},bu=0;bu<yu;bu++)Zl(bu)},iu=this,du=0;du<yu;du++)cu(du);if(fu.shape===Vl){var Au=Math.floor((tu/Tl-yu)/2),xu=yu+2*Au,_u=Hl-Au*Tl,Hu=Dl-Au*Tl,ju=[],_d=Math.floor(xu/2);for(du=0;du<xu;du++){ju[du]=[];for(var Zu=0;Zu<xu;Zu++)du>=Au-1&&du<=xu-Au&&Zu>=Au-1&&Zu<=xu-Au||Math.sqrt((du-_d)*(du-_d)+(Zu-_d)*(Zu-_d))>_d?ju[du][Zu]=0:ju[du][Zu]=this._qr.isDark(Zu-2*Au<0?Zu:Zu>=yu?Zu-2*Au:Zu-Au,du-2*Au<0?du:du>=yu?du-2*Au:du-Au)?1:0}var tp=function(Xl){for(var Zl=function(Ou){if(!ju[Xl][Ou])return"continue";Kl.draw(_u+Xl*Tl,Hu+Ou*Tl,Tl,function(zu,Qu){var _p;return!!(!((_p=ju[Xl+zu])===null||_p===void 0)&&_p[Ou+Qu])}),Kl._element&&hu._dotsClipPath&&hu._dotsClipPath.appendChild(Kl._element)},bu=0;bu<xu;bu++)Zl(bu)},hu=this;for(du=0;du<xu;du++)tp(du)}},uu.prototype.drawCorners=function(){var Yl=this;if(!this._qr)throw"QR code is not defined";var zl=this._element,ou=this._options;if(!zl)throw"Element code is not defined";var pu=this._qr.getModuleCount(),fu=Math.min(ou.width,ou.height)-2*ou.margin,yu=ou.shape===Vl?fu/Math.sqrt(2):fu,tu=Math.floor(yu/pu),Ll=7*tu,Tl=3*tu,Hl=Math.floor((ou.width-pu*tu)/2),Dl=Math.floor((ou.height-pu*tu)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(function(Kl){var cu,iu,du,Au,xu,_u,Hu,ju,_d,Zu,tp,hu,Xl=Kl[0],Zl=Kl[1],bu=Kl[2],Ou=Hl+Xl*tu*(pu-7),zu=Dl+Zl*tu*(pu-7),Qu=Yl._dotsClipPath,_p=Yl._dotsClipPath;if((!((cu=ou.cornersSquareOptions)===null||cu===void 0)&&cu.gradient||!((iu=ou.cornersSquareOptions)===null||iu===void 0)&&iu.color)&&((Qu=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-square-color-"+Xl+"-"+Zl),Yl._defs.appendChild(Qu),Yl._cornersSquareClipPath=Yl._cornersDotClipPath=_p=Qu,Yl._createColor({options:(du=ou.cornersSquareOptions)===null||du===void 0?void 0:du.gradient,color:(Au=ou.cornersSquareOptions)===null||Au===void 0?void 0:Au.color,additionalRotation:bu,x:Ou,y:zu,height:Ll,width:Ll,name:"corners-square-color-"+Xl+"-"+Zl})),(xu=ou.cornersSquareOptions)===null||xu===void 0?void 0:xu.type){var dp=new El({svg:Yl._element,type:ou.cornersSquareOptions.type});dp.draw(Ou,zu,Ll,bu),dp._element&&Qu&&Qu.appendChild(dp._element)}else for(var kp=new Cl({svg:Yl._element,type:ou.dotsOptions.type}),Dp=function(jp){for(var tm=function(am){if(!(!((_u=nu[jp])===null||_u===void 0)&&_u[am]))return"continue";kp.draw(Ou+jp*tu,zu+am*tu,tu,function(Qp,fm){var cm;return!!(!((cm=nu[jp+Qp])===null||cm===void 0)&&cm[am+fm])}),kp._element&&Qu&&Qu.appendChild(kp._element)},hm=0;hm<nu[jp].length;hm++)tm(hm)},Ip=0;Ip<nu.length;Ip++)Dp(Ip);if((!((Hu=ou.cornersDotOptions)===null||Hu===void 0)&&Hu.gradient||!((ju=ou.cornersDotOptions)===null||ju===void 0)&&ju.color)&&((_p=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-dot-color-"+Xl+"-"+Zl),Yl._defs.appendChild(_p),Yl._cornersDotClipPath=_p,Yl._createColor({options:(_d=ou.cornersDotOptions)===null||_d===void 0?void 0:_d.gradient,color:(Zu=ou.cornersDotOptions)===null||Zu===void 0?void 0:Zu.color,additionalRotation:bu,x:Ou+2*tu,y:zu+2*tu,height:Tl,width:Tl,name:"corners-dot-color-"+Xl+"-"+Zl})),(tp=ou.cornersDotOptions)===null||tp===void 0?void 0:tp.type){var Hp=new Ml({svg:Yl._element,type:ou.cornersDotOptions.type});Hp.draw(Ou+2*tu,zu+2*tu,Tl,bu),Hp._element&&_p&&_p.appendChild(Hp._element)}else{kp=new Cl({svg:Yl._element,type:ou.dotsOptions.type});var Yp=function(jp){for(var tm=function(am){if(!(!((hu=su[jp])===null||hu===void 0)&&hu[am]))return"continue";kp.draw(Ou+jp*tu,zu+am*tu,tu,function(Qp,fm){var cm;return!!(!((cm=su[jp+Qp])===null||cm===void 0)&&cm[am+fm])}),kp._element&&_p&&_p.appendChild(kp._element)},hm=0;hm<su[jp].length;hm++)tm(hm)};for(Ip=0;Ip<su.length;Ip++)Yp(Ip)}})},uu.prototype.loadImage=function(){var Yl=this;return new Promise(function(zl,ou){var pu=Yl._options,fu=new Image;if(!pu.image)return ou("Image is not defined");typeof pu.imageOptions.crossOrigin=="string"&&(fu.crossOrigin=pu.imageOptions.crossOrigin),Yl._image=fu,fu.onload=function(){zl()},fu.src=pu.image})},uu.prototype.drawImage=function(Yl){var zl=Yl.width,ou=Yl.height,pu=Yl.count,fu=Yl.dotSize;return Ul(this,void 0,void 0,function(){var yu,tu,Ll,Tl,Hl,Dl,Kl,cu,iu;return _h(this,function(du){switch(du.label){case 0:return yu=this._options,tu=Math.floor((yu.width-pu*fu)/2),Ll=Math.floor((yu.height-pu*fu)/2),Tl=tu+yu.imageOptions.margin+(pu*fu-zl)/2,Hl=Ll+yu.imageOptions.margin+(pu*fu-ou)/2,Dl=zl-2*yu.imageOptions.margin,Kl=ou-2*yu.imageOptions.margin,(cu=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("x",String(Tl)),cu.setAttribute("y",String(Hl)),cu.setAttribute("width",Dl+"px"),cu.setAttribute("height",Kl+"px"),[4,$l(yu.image||"")];case 1:return iu=du.sent(),cu.setAttribute("href",iu||""),this._element.appendChild(cu),[2]}})})},uu.prototype._createColor=function(Yl){var zl=Yl.options,ou=Yl.color,pu=Yl.additionalRotation,fu=Yl.x,yu=Yl.y,tu=Yl.height,Ll=Yl.width,Tl=Yl.name,Hl=Ll>tu?Ll:tu,Dl=document.createElementNS("http://www.w3.org/2000/svg","rect");if(Dl.setAttribute("x",String(fu)),Dl.setAttribute("y",String(yu)),Dl.setAttribute("height",String(tu)),Dl.setAttribute("width",String(Ll)),Dl.setAttribute("clip-path","url('#clip-path-"+Tl+"')"),zl){var Kl;if(zl.type==="radial")(Kl=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")).setAttribute("id",Tl),Kl.setAttribute("gradientUnits","userSpaceOnUse"),Kl.setAttribute("fx",String(fu+Ll/2)),Kl.setAttribute("fy",String(yu+tu/2)),Kl.setAttribute("cx",String(fu+Ll/2)),Kl.setAttribute("cy",String(yu+tu/2)),Kl.setAttribute("r",String(Hl/2));else{var cu=((zl.rotation||0)+pu)%(2*Math.PI),iu=(cu+2*Math.PI)%(2*Math.PI),du=fu+Ll/2,Au=yu+tu/2,xu=fu+Ll/2,_u=yu+tu/2;iu>=0&&iu<=.25*Math.PI||iu>1.75*Math.PI&&iu<=2*Math.PI?(du-=Ll/2,Au-=tu/2*Math.tan(cu),xu+=Ll/2,_u+=tu/2*Math.tan(cu)):iu>.25*Math.PI&&iu<=.75*Math.PI?(Au-=tu/2,du-=Ll/2/Math.tan(cu),_u+=tu/2,xu+=Ll/2/Math.tan(cu)):iu>.75*Math.PI&&iu<=1.25*Math.PI?(du+=Ll/2,Au+=tu/2*Math.tan(cu),xu-=Ll/2,_u-=tu/2*Math.tan(cu)):iu>1.25*Math.PI&&iu<=1.75*Math.PI&&(Au+=tu/2,du+=Ll/2/Math.tan(cu),_u-=tu/2,xu-=Ll/2/Math.tan(cu)),(Kl=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")).setAttribute("id",Tl),Kl.setAttribute("gradientUnits","userSpaceOnUse"),Kl.setAttribute("x1",String(Math.round(du))),Kl.setAttribute("y1",String(Math.round(Au))),Kl.setAttribute("x2",String(Math.round(xu))),Kl.setAttribute("y2",String(Math.round(_u)))}zl.colorStops.forEach(function(Hu){var ju=Hu.offset,_d=Hu.color,Zu=document.createElementNS("http://www.w3.org/2000/svg","stop");Zu.setAttribute("offset",100*ju+"%"),Zu.setAttribute("stop-color",_d),Kl.appendChild(Zu)}),Dl.setAttribute("fill","url('#"+Tl+"')"),this._defs.appendChild(Kl)}else ou&&Dl.setAttribute("fill",ou);this._element.appendChild(Dl)},uu}(),Il="canvas";for(var Nl={},Ol=0;Ol<=40;Ol++)Nl[Ol]=Ol;const Gl={type:Il,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:Nl[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000"},backgroundOptions:{round:0,color:"#fff"}};var Fl=function(){return(Fl=Object.assign||function(uu){for(var Yl,zl=1,ou=arguments.length;zl<ou;zl++)for(var pu in Yl=arguments[zl])Object.prototype.hasOwnProperty.call(Yl,pu)&&(uu[pu]=Yl[pu]);return uu}).apply(this,arguments)};function Al(uu){var Yl=Fl({},uu);if(!Yl.colorStops||!Yl.colorStops.length)throw"Field 'colorStops' is required in gradient";return Yl.rotation?Yl.rotation=Number(Yl.rotation):Yl.rotation=0,Yl.colorStops=Yl.colorStops.map(function(zl){return Fl(Fl({},zl),{offset:Number(zl.offset)})}),Yl}function Pl(uu){var Yl=Fl({},uu);return Yl.width=Number(Yl.width),Yl.height=Number(Yl.height),Yl.margin=Number(Yl.margin),Yl.imageOptions=Fl(Fl({},Yl.imageOptions),{hideBackgroundDots:!!Yl.imageOptions.hideBackgroundDots,imageSize:Number(Yl.imageOptions.imageSize),margin:Number(Yl.imageOptions.margin)}),Yl.margin>Math.min(Yl.width,Yl.height)&&(Yl.margin=Math.min(Yl.width,Yl.height)),Yl.dotsOptions=Fl({},Yl.dotsOptions),Yl.dotsOptions.gradient&&(Yl.dotsOptions.gradient=Al(Yl.dotsOptions.gradient)),Yl.cornersSquareOptions&&(Yl.cornersSquareOptions=Fl({},Yl.cornersSquareOptions),Yl.cornersSquareOptions.gradient&&(Yl.cornersSquareOptions.gradient=Al(Yl.cornersSquareOptions.gradient))),Yl.cornersDotOptions&&(Yl.cornersDotOptions=Fl({},Yl.cornersDotOptions),Yl.cornersDotOptions.gradient&&(Yl.cornersDotOptions.gradient=Al(Yl.cornersDotOptions.gradient))),Yl.backgroundOptions&&(Yl.backgroundOptions=Fl({},Yl.backgroundOptions),Yl.backgroundOptions.gradient&&(Yl.backgroundOptions.gradient=Al(Yl.backgroundOptions.gradient))),Yl}var yl=Ts(192),Zs=Ts.n(yl),Bl=function(uu,Yl,zl,ou){return new(zl||(zl=Promise))(function(pu,fu){function yu(Tl){try{Ll(ou.next(Tl))}catch(Hl){fu(Hl)}}function tu(Tl){try{Ll(ou.throw(Tl))}catch(Hl){fu(Hl)}}function Ll(Tl){var Hl;Tl.done?pu(Tl.value):(Hl=Tl.value,Hl instanceof zl?Hl:new zl(function(Dl){Dl(Hl)})).then(yu,tu)}Ll((ou=ou.apply(uu,[])).next())})},eu=function(uu,Yl){var zl,ou,pu,fu,yu={label:0,sent:function(){if(1&pu[0])throw pu[1];return pu[1]},trys:[],ops:[]};return fu={next:tu(0),throw:tu(1),return:tu(2)},typeof Symbol=="function"&&(fu[Symbol.iterator]=function(){return this}),fu;function tu(Ll){return function(Tl){return function(Hl){if(zl)throw new TypeError("Generator is already executing.");for(;yu;)try{if(zl=1,ou&&(pu=2&Hl[0]?ou.return:Hl[0]?ou.throw||((pu=ou.return)&&pu.call(ou),0):ou.next)&&!(pu=pu.call(ou,Hl[1])).done)return pu;switch(ou=0,pu&&(Hl=[2&Hl[0],pu.value]),Hl[0]){case 0:case 1:pu=Hl;break;case 4:return yu.label++,{value:Hl[1],done:!1};case 5:yu.label++,ou=Hl[1],Hl=[0];continue;case 7:Hl=yu.ops.pop(),yu.trys.pop();continue;default:if(!((pu=(pu=yu.trys).length>0&&pu[pu.length-1])||Hl[0]!==6&&Hl[0]!==2)){yu=0;continue}if(Hl[0]===3&&(!pu||Hl[1]>pu[0]&&Hl[1]<pu[3])){yu.label=Hl[1];break}if(Hl[0]===6&&yu.label<pu[1]){yu.label=pu[1],pu=Hl;break}if(pu&&yu.label<pu[2]){yu.label=pu[2],yu.ops.push(Hl);break}pu[2]&&yu.ops.pop(),yu.trys.pop();continue}Hl=Yl.call(uu,yu)}catch(Dl){Hl=[6,Dl],ou=0}finally{zl=pu=0}if(5&Hl[0])throw Hl[1];return{value:Hl[0]?Hl[1]:void 0,done:!0}}([Ll,Tl])}}};const Eu=function(){function uu(Yl){this._options=Yl?Pl(Ws(Gl,Yl)):Gl,this.update()}return uu._clearContainer=function(Yl){Yl&&(Yl.innerHTML="")},uu.prototype._setupSvg=function(){var Yl=this;if(this._qr){var zl=new Jl(this._options);this._svg=zl.getElement(),this._svgDrawingPromise=zl.drawQR(this._qr).then(function(){var ou;Yl._svg&&((ou=Yl._extension)===null||ou===void 0||ou.call(Yl,zl.getElement(),Yl._options))})}},uu.prototype._setupCanvas=function(){var Yl,zl=this;this._qr&&(this._canvas=document.createElement("canvas"),this._canvas.width=this._options.width,this._canvas.height=this._options.height,this._setupSvg(),this._canvasDrawingPromise=(Yl=this._svgDrawingPromise)===null||Yl===void 0?void 0:Yl.then(function(){if(zl._svg){var ou=zl._svg,pu=new XMLSerializer().serializeToString(ou),fu="data:image/svg+xml;base64,"+btoa(pu),yu=new Image;return new Promise(function(tu){yu.onload=function(){var Ll,Tl;(Tl=(Ll=zl._canvas)===null||Ll===void 0?void 0:Ll.getContext("2d"))===null||Tl===void 0||Tl.drawImage(yu,0,0),tu()},yu.src=fu})}}))},uu.prototype._getElement=function(Yl){return Yl===void 0&&(Yl="png"),Bl(this,void 0,void 0,function(){return eu(this,function(zl){switch(zl.label){case 0:if(!this._qr)throw"QR code is empty";return Yl.toLowerCase()!=="svg"?[3,2]:(this._svg&&this._svgDrawingPromise||this._setupSvg(),[4,this._svgDrawingPromise]);case 1:return zl.sent(),[2,this._svg];case 2:return this._canvas&&this._canvasDrawingPromise||this._setupCanvas(),[4,this._canvasDrawingPromise];case 3:return zl.sent(),[2,this._canvas]}})})},uu.prototype.update=function(Yl){uu._clearContainer(this._container),this._options=Yl?Pl(Ws(this._options,Yl)):this._options,this._options.data&&(this._qr=Zs()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(zl){switch(!0){case/^[0-9]*$/.test(zl):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(zl):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._options.type===Il?this._setupCanvas():this._setupSvg(),this.append(this._container))},uu.prototype.append=function(Yl){if(Yl){if(typeof Yl.appendChild!="function")throw"Container should be a single DOM node";this._options.type===Il?this._canvas&&Yl.appendChild(this._canvas):this._svg&&Yl.appendChild(this._svg),this._container=Yl}},uu.prototype.applyExtension=function(Yl){if(!Yl)throw"Extension function should be defined.";this._extension=Yl,this.update()},uu.prototype.deleteExtension=function(){this._extension=void 0,this.update()},uu.prototype.getRawData=function(Yl){return Yl===void 0&&(Yl="png"),Bl(this,void 0,void 0,function(){var zl,ou,pu;return eu(this,function(fu){switch(fu.label){case 0:if(!this._qr)throw"QR code is empty";return[4,this._getElement(Yl)];case 1:return(zl=fu.sent())?Yl.toLowerCase()==="svg"?(ou=new XMLSerializer,pu=ou.serializeToString(zl),[2,new Blob([`<?xml version="1.0" standalone="no"?>\r
`+pu],{type:"image/svg+xml"})]):[2,new Promise(function(yu){return zl.toBlob(yu,"image/"+Yl,1)})]:[2,null]}})})},uu.prototype.download=function(Yl){return Bl(this,void 0,void 0,function(){var zl,ou,pu,fu,yu;return eu(this,function(tu){switch(tu.label){case 0:if(!this._qr)throw"QR code is empty";return zl="png",ou="qr",typeof Yl=="string"?(zl=Yl,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):typeof Yl=="object"&&Yl!==null&&(Yl.name&&(ou=Yl.name),Yl.extension&&(zl=Yl.extension)),[4,this._getElement(zl)];case 1:return(pu=tu.sent())?(zl.toLowerCase()==="svg"?(fu=new XMLSerializer,yu=`<?xml version="1.0" standalone="no"?>\r
`+(yu=fu.serializeToString(pu)),Js("data:image/svg+xml;charset=utf-8,"+encodeURIComponent(yu),ou+".svg")):Js(pu.toDataURL("image/"+zl),ou+"."+zl),[2]):[2]}})})},uu}()}},Ss={};function Es(_s){if(Ss[_s])return Ss[_s].exports;var Is=Ss[_s]={exports:{}};return ws[_s](Is,Is.exports,Es),Is.exports}return Es.n=_s=>{var Is=_s&&_s.__esModule?()=>_s.default:()=>_s;return Es.d(Is,{a:Is}),Is},Es.d=(_s,Is)=>{for(var Ts in Is)Es.o(Is,Ts)&&!Es.o(_s,Ts)&&Object.defineProperty(_s,Ts,{enumerable:!0,get:Is[Ts]})},Es.o=(_s,Is)=>Object.prototype.hasOwnProperty.call(_s,Is),Es(676)})().default})})(qrCodeStyling);var qrCodeStylingExports=qrCodeStyling.exports;const m=getDefaultExportFromCjs(qrCodeStylingExports);var lottieWebLight={exports:{}};(function(vs){typeof navigator<"u"&&function(ms,ws){vs.exports?vs.exports=ws(ms):(ms.lottie=ws(ms),ms.bodymovin=ms.lottie)}(window||{},function(ms){var ws="http://www.w3.org/2000/svg",Ss="",Es=-999999,_s=!1,Is=!0,Ts="",Rs,Bs=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Ns=Math.pow,Ws=Math.sqrt,Js=Math.floor,$l=Math.min,wl={};(function(){var Qs=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],Rl,Wl=Qs.length;for(Rl=0;Rl<Wl;Rl+=1)wl[Qs[Rl]]=Math[Qs[Rl]]})();function _l(){return{}}wl.random=Math.random,wl.abs=function(Qs){var Rl=typeof Qs;if(Rl==="object"&&Qs.length){var Wl=yl(Qs.length),ru,gu=Qs.length;for(ru=0;ru<gu;ru+=1)Wl[ru]=Math.abs(Qs[ru]);return Wl}return Math.abs(Qs)};var Cl=150,Sl=Math.PI/180,El=.5519;function xl(Qs,Rl,Wl,ru){this.type=Qs,this.currentTime=Rl,this.totalTime=Wl,this.direction=ru<0?-1:1}function Ml(Qs,Rl){this.type=Qs,this.direction=Rl<0?-1:1}function Vl(Qs,Rl,Wl,ru){this.type=Qs,this.currentLoop=Wl,this.totalLoops=Rl,this.direction=ru<0?-1:1}function Ul(Qs,Rl,Wl){this.type=Qs,this.firstFrame=Rl,this.totalFrames=Wl}function _h(Qs,Rl){this.type=Qs,this.target=Rl}function nu(Qs,Rl){this.type="renderFrameError",this.nativeError=Qs,this.currentTime=Rl}function su(Qs){this.type="configError",this.nativeError=Qs}var Jl=function(){var Qs=0;return function(){return Qs+=1,Ts+"__lottie_element_"+Qs}}();function Il(Qs,Rl,Wl){var ru,gu,lu,Lu,Yu,Nu,op,rp;switch(Lu=Math.floor(Qs*6),Yu=Qs*6-Lu,Nu=Wl*(1-Rl),op=Wl*(1-Yu*Rl),rp=Wl*(1-(1-Yu)*Rl),Lu%6){case 0:ru=Wl,gu=rp,lu=Nu;break;case 1:ru=op,gu=Wl,lu=Nu;break;case 2:ru=Nu,gu=Wl,lu=rp;break;case 3:ru=Nu,gu=op,lu=Wl;break;case 4:ru=rp,gu=Nu,lu=Wl;break;case 5:ru=Wl,gu=Nu,lu=op;break}return[ru,gu,lu]}function Nl(Qs,Rl,Wl){var ru=Math.max(Qs,Rl,Wl),gu=Math.min(Qs,Rl,Wl),lu=ru-gu,Lu,Yu=ru===0?0:lu/ru,Nu=ru/255;switch(ru){case gu:Lu=0;break;case Qs:Lu=Rl-Wl+lu*(Rl<Wl?6:0),Lu/=6*lu;break;case Rl:Lu=Wl-Qs+lu*2,Lu/=6*lu;break;case Wl:Lu=Qs-Rl+lu*4,Lu/=6*lu;break}return[Lu,Yu,Nu]}function Ol(Qs,Rl){var Wl=Nl(Qs[0]*255,Qs[1]*255,Qs[2]*255);return Wl[1]+=Rl,Wl[1]>1?Wl[1]=1:Wl[1]<=0&&(Wl[1]=0),Il(Wl[0],Wl[1],Wl[2])}function Gl(Qs,Rl){var Wl=Nl(Qs[0]*255,Qs[1]*255,Qs[2]*255);return Wl[2]+=Rl,Wl[2]>1?Wl[2]=1:Wl[2]<0&&(Wl[2]=0),Il(Wl[0],Wl[1],Wl[2])}function Fl(Qs,Rl){var Wl=Nl(Qs[0]*255,Qs[1]*255,Qs[2]*255);return Wl[0]+=Rl/360,Wl[0]>1?Wl[0]-=1:Wl[0]<0&&(Wl[0]+=1),Il(Wl[0],Wl[1],Wl[2])}(function(){var Qs=[],Rl,Wl;for(Rl=0;Rl<256;Rl+=1)Wl=Rl.toString(16),Qs[Rl]=Wl.length===1?"0"+Wl:Wl;return function(ru,gu,lu){return ru<0&&(ru=0),gu<0&&(gu=0),lu<0&&(lu=0),"#"+Qs[ru]+Qs[gu]+Qs[lu]}})();function Al(){}Al.prototype={triggerEvent:function(Qs,Rl){if(this._cbs[Qs])for(var Wl=this._cbs[Qs],ru=0;ru<Wl.length;ru+=1)Wl[ru](Rl)},addEventListener:function(Qs,Rl){return this._cbs[Qs]||(this._cbs[Qs]=[]),this._cbs[Qs].push(Rl),(function(){this.removeEventListener(Qs,Rl)}).bind(this)},removeEventListener:function(Qs,Rl){if(!Rl)this._cbs[Qs]=null;else if(this._cbs[Qs]){for(var Wl=0,ru=this._cbs[Qs].length;Wl<ru;)this._cbs[Qs][Wl]===Rl&&(this._cbs[Qs].splice(Wl,1),Wl-=1,ru-=1),Wl+=1;this._cbs[Qs].length||(this._cbs[Qs]=null)}}};var Pl=function(){function Qs(Wl,ru){var gu=0,lu=[],Lu;switch(Wl){case"int16":case"uint8c":Lu=1;break;default:Lu=1.1;break}for(gu=0;gu<ru;gu+=1)lu.push(Lu);return lu}function Rl(Wl,ru){return Wl==="float32"?new Float32Array(ru):Wl==="int16"?new Int16Array(ru):Wl==="uint8c"?new Uint8ClampedArray(ru):Qs(Wl,ru)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?Rl:Qs}();function yl(Qs){return Array.apply(null,{length:Qs})}function Zs(Qs){return document.createElementNS(ws,Qs)}function Bl(Qs){return document.createElement(Qs)}function eu(){}eu.prototype={addDynamicProperty:function(Qs){this.dynamicProperties.indexOf(Qs)===-1&&(this.dynamicProperties.push(Qs),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var Qs,Rl=this.dynamicProperties.length;for(Qs=0;Qs<Rl;Qs+=1)this.dynamicProperties[Qs].getValue(),this.dynamicProperties[Qs]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(Qs){this.container=Qs,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var Eu=function(){var Qs={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(Rl){return Qs[Rl]||""}}(),uu={1:"butt",2:"round",3:"square"},Yl={1:"miter",2:"round",3:"bevel"};/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var zl=function(){var Qs=Math.cos,Rl=Math.sin,Wl=Math.tan,ru=Math.round;function gu(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function lu(Du){if(Du===0)return this;var Vu=Qs(Du),fp=Rl(Du);return this._t(Vu,-fp,0,0,fp,Vu,0,0,0,0,1,0,0,0,0,1)}function Lu(Du){if(Du===0)return this;var Vu=Qs(Du),fp=Rl(Du);return this._t(1,0,0,0,0,Vu,-fp,0,0,fp,Vu,0,0,0,0,1)}function Yu(Du){if(Du===0)return this;var Vu=Qs(Du),fp=Rl(Du);return this._t(Vu,0,fp,0,0,1,0,0,-fp,0,Vu,0,0,0,0,1)}function Nu(Du){if(Du===0)return this;var Vu=Qs(Du),fp=Rl(Du);return this._t(Vu,-fp,0,0,fp,Vu,0,0,0,0,1,0,0,0,0,1)}function op(Du,Vu){return this._t(1,Vu,Du,1,0,0)}function rp(Du,Vu){return this.shear(Wl(Du),Wl(Vu))}function Wu(Du,Vu){var fp=Qs(Vu),$p=Rl(Vu);return this._t(fp,$p,0,0,-$p,fp,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,Wl(Du),1,0,0,0,0,1,0,0,0,0,1)._t(fp,-$p,0,0,$p,fp,0,0,0,0,1,0,0,0,0,1)}function qu(Du,Vu,fp){return!fp&&fp!==0&&(fp=1),Du===1&&Vu===1&&fp===1?this:this._t(Du,0,0,0,0,Vu,0,0,0,0,fp,0,0,0,0,1)}function np(Du,Vu,fp,$p,Ep,om,pm,dm,vm,Sm,xm,_m,Am,bm,wm,$m){return this.props[0]=Du,this.props[1]=Vu,this.props[2]=fp,this.props[3]=$p,this.props[4]=Ep,this.props[5]=om,this.props[6]=pm,this.props[7]=dm,this.props[8]=vm,this.props[9]=Sm,this.props[10]=xm,this.props[11]=_m,this.props[12]=Am,this.props[13]=bm,this.props[14]=wm,this.props[15]=$m,this}function hp(Du,Vu,fp){return fp=fp||0,Du!==0||Vu!==0||fp!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Du,Vu,fp,1):this}function ip(Du,Vu,fp,$p,Ep,om,pm,dm,vm,Sm,xm,_m,Am,bm,wm,$m){var Zp=this.props;if(Du===1&&Vu===0&&fp===0&&$p===0&&Ep===0&&om===1&&pm===0&&dm===0&&vm===0&&Sm===0&&xm===1&&_m===0)return Zp[12]=Zp[12]*Du+Zp[15]*Am,Zp[13]=Zp[13]*om+Zp[15]*bm,Zp[14]=Zp[14]*xm+Zp[15]*wm,Zp[15]*=$m,this._identityCalculated=!1,this;var mm=Zp[0],Dm=Zp[1],Nm=Zp[2],Rm=Zp[3],Mm=Zp[4],Om=Zp[5],Bm=Zp[6],km=Zp[7],Fm=Zp[8],Um=Zp[9],Tm=Zp[10],Vm=Zp[11],Cm=Zp[12],zm=Zp[13],jm=Zp[14],Hm=Zp[15];return Zp[0]=mm*Du+Dm*Ep+Nm*vm+Rm*Am,Zp[1]=mm*Vu+Dm*om+Nm*Sm+Rm*bm,Zp[2]=mm*fp+Dm*pm+Nm*xm+Rm*wm,Zp[3]=mm*$p+Dm*dm+Nm*_m+Rm*$m,Zp[4]=Mm*Du+Om*Ep+Bm*vm+km*Am,Zp[5]=Mm*Vu+Om*om+Bm*Sm+km*bm,Zp[6]=Mm*fp+Om*pm+Bm*xm+km*wm,Zp[7]=Mm*$p+Om*dm+Bm*_m+km*$m,Zp[8]=Fm*Du+Um*Ep+Tm*vm+Vm*Am,Zp[9]=Fm*Vu+Um*om+Tm*Sm+Vm*bm,Zp[10]=Fm*fp+Um*pm+Tm*xm+Vm*wm,Zp[11]=Fm*$p+Um*dm+Tm*_m+Vm*$m,Zp[12]=Cm*Du+zm*Ep+jm*vm+Hm*Am,Zp[13]=Cm*Vu+zm*om+jm*Sm+Hm*bm,Zp[14]=Cm*fp+zm*pm+jm*xm+Hm*wm,Zp[15]=Cm*$p+zm*dm+jm*_m+Hm*$m,this._identityCalculated=!1,this}function Xu(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Ru(Du){for(var Vu=0;Vu<16;){if(Du.props[Vu]!==this.props[Vu])return!1;Vu+=1}return!0}function Su(Du){var Vu;for(Vu=0;Vu<16;Vu+=1)Du.props[Vu]=this.props[Vu];return Du}function wu(Du){var Vu;for(Vu=0;Vu<16;Vu+=1)this.props[Vu]=Du[Vu]}function vu(Du,Vu,fp){return{x:Du*this.props[0]+Vu*this.props[4]+fp*this.props[8]+this.props[12],y:Du*this.props[1]+Vu*this.props[5]+fp*this.props[9]+this.props[13],z:Du*this.props[2]+Vu*this.props[6]+fp*this.props[10]+this.props[14]}}function ku(Du,Vu,fp){return Du*this.props[0]+Vu*this.props[4]+fp*this.props[8]+this.props[12]}function Fu(Du,Vu,fp){return Du*this.props[1]+Vu*this.props[5]+fp*this.props[9]+this.props[13]}function Bu(Du,Vu,fp){return Du*this.props[2]+Vu*this.props[6]+fp*this.props[10]+this.props[14]}function Gu(){var Du=this.props[0]*this.props[5]-this.props[1]*this.props[4],Vu=this.props[5]/Du,fp=-this.props[1]/Du,$p=-this.props[4]/Du,Ep=this.props[0]/Du,om=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Du,pm=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Du,dm=new zl;return dm.props[0]=Vu,dm.props[1]=fp,dm.props[4]=$p,dm.props[5]=Ep,dm.props[12]=om,dm.props[13]=pm,dm}function bp(Du){var Vu=this.getInverseMatrix();return Vu.applyToPointArray(Du[0],Du[1],Du[2]||0)}function Pp(Du){var Vu,fp=Du.length,$p=[];for(Vu=0;Vu<fp;Vu+=1)$p[Vu]=bp(Du[Vu]);return $p}function Op(Du,Vu,fp){var $p=Pl("float32",6);if(this.isIdentity())$p[0]=Du[0],$p[1]=Du[1],$p[2]=Vu[0],$p[3]=Vu[1],$p[4]=fp[0],$p[5]=fp[1];else{var Ep=this.props[0],om=this.props[1],pm=this.props[4],dm=this.props[5],vm=this.props[12],Sm=this.props[13];$p[0]=Du[0]*Ep+Du[1]*pm+vm,$p[1]=Du[0]*om+Du[1]*dm+Sm,$p[2]=Vu[0]*Ep+Vu[1]*pm+vm,$p[3]=Vu[0]*om+Vu[1]*dm+Sm,$p[4]=fp[0]*Ep+fp[1]*pm+vm,$p[5]=fp[0]*om+fp[1]*dm+Sm}return $p}function Cp(Du,Vu,fp){var $p;return this.isIdentity()?$p=[Du,Vu,fp]:$p=[Du*this.props[0]+Vu*this.props[4]+fp*this.props[8]+this.props[12],Du*this.props[1]+Vu*this.props[5]+fp*this.props[9]+this.props[13],Du*this.props[2]+Vu*this.props[6]+fp*this.props[10]+this.props[14]],$p}function mp(Du,Vu){if(this.isIdentity())return Du+","+Vu;var fp=this.props;return Math.round((Du*fp[0]+Vu*fp[4]+fp[12])*100)/100+","+Math.round((Du*fp[1]+Vu*fp[5]+fp[13])*100)/100}function Ap(){for(var Du=0,Vu=this.props,fp="matrix3d(",$p=1e4;Du<16;)fp+=ru(Vu[Du]*$p)/$p,fp+=Du===15?")":",",Du+=1;return fp}function Sp(Du){var Vu=1e4;return Du<1e-6&&Du>0||Du>-1e-6&&Du<0?ru(Du*Vu)/Vu:Du}function Uu(){var Du=this.props,Vu=Sp(Du[0]),fp=Sp(Du[1]),$p=Sp(Du[4]),Ep=Sp(Du[5]),om=Sp(Du[12]),pm=Sp(Du[13]);return"matrix("+Vu+","+fp+","+$p+","+Ep+","+om+","+pm+")"}return function(){this.reset=gu,this.rotate=lu,this.rotateX=Lu,this.rotateY=Yu,this.rotateZ=Nu,this.skew=rp,this.skewFromAxis=Wu,this.shear=op,this.scale=qu,this.setTransform=np,this.translate=hp,this.transform=ip,this.applyToPoint=vu,this.applyToX=ku,this.applyToY=Fu,this.applyToZ=Bu,this.applyToPointArray=Cp,this.applyToTriplePoints=Op,this.applyToPointStringified=mp,this.toCSS=Ap,this.to2dCSS=Uu,this.clone=Su,this.cloneFromProps=wu,this.equals=Ru,this.inversePoints=Pp,this.inversePoint=bp,this.getInverseMatrix=Gu,this._t=this.transform,this.isIdentity=Xu,this._identity=!0,this._identityCalculated=!1,this.props=Pl("float32",16),this.reset()}}();(function(Qs,Rl){var Wl=this,ru=256,gu=6,lu=52,Lu="random",Yu=Rl.pow(ru,gu),Nu=Rl.pow(2,lu),op=Nu*2,rp=ru-1,Wu;function qu(wu,vu,ku){var Fu=[];vu=vu===!0?{entropy:!0}:vu||{};var Bu=Xu(ip(vu.entropy?[wu,Su(Qs)]:wu===null?Ru():wu,3),Fu),Gu=new np(Fu),bp=function(){for(var Pp=Gu.g(gu),Op=Yu,Cp=0;Pp<Nu;)Pp=(Pp+Cp)*ru,Op*=ru,Cp=Gu.g(1);for(;Pp>=op;)Pp/=2,Op/=2,Cp>>>=1;return(Pp+Cp)/Op};return bp.int32=function(){return Gu.g(4)|0},bp.quick=function(){return Gu.g(4)/4294967296},bp.double=bp,Xu(Su(Gu.S),Qs),(vu.pass||ku||function(Pp,Op,Cp,mp){return mp&&(mp.S&&hp(mp,Gu),Pp.state=function(){return hp(Gu,{})}),Cp?(Rl[Lu]=Pp,Op):Pp})(bp,Bu,"global"in vu?vu.global:this==Rl,vu.state)}Rl["seed"+Lu]=qu;function np(wu){var vu,ku=wu.length,Fu=this,Bu=0,Gu=Fu.i=Fu.j=0,bp=Fu.S=[];for(ku||(wu=[ku++]);Bu<ru;)bp[Bu]=Bu++;for(Bu=0;Bu<ru;Bu++)bp[Bu]=bp[Gu=rp&Gu+wu[Bu%ku]+(vu=bp[Bu])],bp[Gu]=vu;Fu.g=function(Pp){for(var Op,Cp=0,mp=Fu.i,Ap=Fu.j,Sp=Fu.S;Pp--;)Op=Sp[mp=rp&mp+1],Cp=Cp*ru+Sp[rp&(Sp[mp]=Sp[Ap=rp&Ap+Op])+(Sp[Ap]=Op)];return Fu.i=mp,Fu.j=Ap,Cp}}function hp(wu,vu){return vu.i=wu.i,vu.j=wu.j,vu.S=wu.S.slice(),vu}function ip(wu,vu){var ku=[],Fu=typeof wu,Bu;if(vu&&Fu=="object")for(Bu in wu)try{ku.push(ip(wu[Bu],vu-1))}catch{}return ku.length?ku:Fu=="string"?wu:wu+"\0"}function Xu(wu,vu){for(var ku=wu+"",Fu,Bu=0;Bu<ku.length;)vu[rp&Bu]=rp&(Fu^=vu[rp&Bu]*19)+ku.charCodeAt(Bu++);return Su(vu)}function Ru(){try{var wu=new Uint8Array(ru);return(Wl.crypto||Wl.msCrypto).getRandomValues(wu),Su(wu)}catch{var vu=Wl.navigator,ku=vu&&vu.plugins;return[+new Date,Wl,ku,Wl.screen,Su(Qs)]}}function Su(wu){return String.fromCharCode.apply(0,wu)}Xu(Rl.random(),Qs)})([],wl);var ou=function(){var Qs={};Qs.getBezierEasing=Wl;var Rl={};function Wl(Su,wu,vu,ku,Fu){var Bu=Fu||("bez_"+Su+"_"+wu+"_"+vu+"_"+ku).replace(/\./g,"p");if(Rl[Bu])return Rl[Bu];var Gu=new Ru([Su,wu,vu,ku]);return Rl[Bu]=Gu,Gu}var ru=4,gu=.001,lu=1e-7,Lu=10,Yu=11,Nu=1/(Yu-1),op=typeof Float32Array=="function";function rp(Su,wu){return 1-3*wu+3*Su}function Wu(Su,wu){return 3*wu-6*Su}function qu(Su){return 3*Su}function np(Su,wu,vu){return((rp(wu,vu)*Su+Wu(wu,vu))*Su+qu(wu))*Su}function hp(Su,wu,vu){return 3*rp(wu,vu)*Su*Su+2*Wu(wu,vu)*Su+qu(wu)}function ip(Su,wu,vu,ku,Fu){var Bu,Gu,bp=0;do Gu=wu+(vu-wu)/2,Bu=np(Gu,ku,Fu)-Su,Bu>0?vu=Gu:wu=Gu;while(Math.abs(Bu)>lu&&++bp<Lu);return Gu}function Xu(Su,wu,vu,ku){for(var Fu=0;Fu<ru;++Fu){var Bu=hp(wu,vu,ku);if(Bu===0)return wu;var Gu=np(wu,vu,ku)-Su;wu-=Gu/Bu}return wu}function Ru(Su){this._p=Su,this._mSampleValues=op?new Float32Array(Yu):new Array(Yu),this._precomputed=!1,this.get=this.get.bind(this)}return Ru.prototype={get:function(Su){var wu=this._p[0],vu=this._p[1],ku=this._p[2],Fu=this._p[3];return this._precomputed||this._precompute(),wu===vu&&ku===Fu?Su:Su===0?0:Su===1?1:np(this._getTForX(Su),vu,Fu)},_precompute:function(){var Su=this._p[0],wu=this._p[1],vu=this._p[2],ku=this._p[3];this._precomputed=!0,(Su!==wu||vu!==ku)&&this._calcSampleValues()},_calcSampleValues:function(){for(var Su=this._p[0],wu=this._p[2],vu=0;vu<Yu;++vu)this._mSampleValues[vu]=np(vu*Nu,Su,wu)},_getTForX:function(Su){for(var wu=this._p[0],vu=this._p[2],ku=this._mSampleValues,Fu=0,Bu=1,Gu=Yu-1;Bu!==Gu&&ku[Bu]<=Su;++Bu)Fu+=Nu;--Bu;var bp=(Su-ku[Bu])/(ku[Bu+1]-ku[Bu]),Pp=Fu+bp*Nu,Op=hp(Pp,wu,vu);return Op>=gu?Xu(Su,Pp,wu,vu):Op===0?Pp:ip(Su,Fu,Fu+Nu,wu,vu)}},Qs}();(function(){for(var Qs=0,Rl=["ms","moz","webkit","o"],Wl=0;Wl<Rl.length&&!ms.requestAnimationFrame;++Wl)ms.requestAnimationFrame=ms[Rl[Wl]+"RequestAnimationFrame"],ms.cancelAnimationFrame=ms[Rl[Wl]+"CancelAnimationFrame"]||ms[Rl[Wl]+"CancelRequestAnimationFrame"];ms.requestAnimationFrame||(ms.requestAnimationFrame=function(ru){var gu=new Date().getTime(),lu=Math.max(0,16-(gu-Qs)),Lu=setTimeout(function(){ru(gu+lu)},lu);return Qs=gu+lu,Lu}),ms.cancelAnimationFrame||(ms.cancelAnimationFrame=function(ru){clearTimeout(ru)})})();function pu(Qs,Rl){var Wl,ru=Qs.length,gu;for(Wl=0;Wl<ru;Wl+=1){gu=Qs[Wl].prototype;for(var lu in gu)Object.prototype.hasOwnProperty.call(gu,lu)&&(Rl.prototype[lu]=gu[lu])}}function fu(Qs){function Rl(){}return Rl.prototype=Qs,Rl}function yu(){var Qs=Math;function Rl(qu,np,hp,ip,Xu,Ru){var Su=qu*ip+np*Xu+hp*Ru-Xu*ip-Ru*qu-hp*np;return Su>-.001&&Su<.001}function Wl(qu,np,hp,ip,Xu,Ru,Su,wu,vu){if(hp===0&&Ru===0&&vu===0)return Rl(qu,np,ip,Xu,Su,wu);var ku=Qs.sqrt(Qs.pow(ip-qu,2)+Qs.pow(Xu-np,2)+Qs.pow(Ru-hp,2)),Fu=Qs.sqrt(Qs.pow(Su-qu,2)+Qs.pow(wu-np,2)+Qs.pow(vu-hp,2)),Bu=Qs.sqrt(Qs.pow(Su-ip,2)+Qs.pow(wu-Xu,2)+Qs.pow(vu-Ru,2)),Gu;return ku>Fu?ku>Bu?Gu=ku-Fu-Bu:Gu=Bu-Fu-ku:Bu>Fu?Gu=Bu-Fu-ku:Gu=Fu-ku-Bu,Gu>-1e-4&&Gu<1e-4}var ru=function(){return function(qu,np,hp,ip){var Xu=Cl,Ru,Su,wu,vu,ku,Fu=0,Bu,Gu=[],bp=[],Pp=hm.newElement();for(wu=hp.length,Ru=0;Ru<Xu;Ru+=1){for(ku=Ru/(Xu-1),Bu=0,Su=0;Su<wu;Su+=1)vu=Ns(1-ku,3)*qu[Su]+3*Ns(1-ku,2)*ku*hp[Su]+3*(1-ku)*Ns(ku,2)*ip[Su]+Ns(ku,3)*np[Su],Gu[Su]=vu,bp[Su]!==null&&(Bu+=Ns(Gu[Su]-bp[Su],2)),bp[Su]=Gu[Su];Bu&&(Bu=Ws(Bu),Fu+=Bu),Pp.percents[Ru]=ku,Pp.lengths[Ru]=Fu}return Pp.addedLength=Fu,Pp}}();function gu(qu){var np=tm.newElement(),hp=qu.c,ip=qu.v,Xu=qu.o,Ru=qu.i,Su,wu=qu._length,vu=np.lengths,ku=0;for(Su=0;Su<wu-1;Su+=1)vu[Su]=ru(ip[Su],ip[Su+1],Xu[Su],Ru[Su+1]),ku+=vu[Su].addedLength;return hp&&wu&&(vu[Su]=ru(ip[Su],ip[0],Xu[Su],Ru[0]),ku+=vu[Su].addedLength),np.totalLength=ku,np}function lu(qu){this.segmentLength=0,this.points=new Array(qu)}function Lu(qu,np){this.partialLength=qu,this.point=np}var Yu=function(){var qu={};return function(np,hp,ip,Xu){var Ru=(np[0]+"_"+np[1]+"_"+hp[0]+"_"+hp[1]+"_"+ip[0]+"_"+ip[1]+"_"+Xu[0]+"_"+Xu[1]).replace(/\./g,"p");if(!qu[Ru]){var Su=Cl,wu,vu,ku,Fu,Bu,Gu=0,bp,Pp,Op=null;np.length===2&&(np[0]!==hp[0]||np[1]!==hp[1])&&Rl(np[0],np[1],hp[0],hp[1],np[0]+ip[0],np[1]+ip[1])&&Rl(np[0],np[1],hp[0],hp[1],hp[0]+Xu[0],hp[1]+Xu[1])&&(Su=2);var Cp=new lu(Su);for(ku=ip.length,wu=0;wu<Su;wu+=1){for(Pp=yl(ku),Bu=wu/(Su-1),bp=0,vu=0;vu<ku;vu+=1)Fu=Ns(1-Bu,3)*np[vu]+3*Ns(1-Bu,2)*Bu*(np[vu]+ip[vu])+3*(1-Bu)*Ns(Bu,2)*(hp[vu]+Xu[vu])+Ns(Bu,3)*hp[vu],Pp[vu]=Fu,Op!==null&&(bp+=Ns(Pp[vu]-Op[vu],2));bp=Ws(bp),Gu+=bp,Cp.points[wu]=new Lu(bp,Pp),Op=Pp}Cp.segmentLength=Gu,qu[Ru]=Cp}return qu[Ru]}}();function Nu(qu,np){var hp=np.percents,ip=np.lengths,Xu=hp.length,Ru=Js((Xu-1)*qu),Su=qu*np.addedLength,wu=0;if(Ru===Xu-1||Ru===0||Su===ip[Ru])return hp[Ru];for(var vu=ip[Ru]>Su?-1:1,ku=!0;ku;)if(ip[Ru]<=Su&&ip[Ru+1]>Su?(wu=(Su-ip[Ru])/(ip[Ru+1]-ip[Ru]),ku=!1):Ru+=vu,Ru<0||Ru>=Xu-1){if(Ru===Xu-1)return hp[Ru];ku=!1}return hp[Ru]+(hp[Ru+1]-hp[Ru])*wu}function op(qu,np,hp,ip,Xu,Ru){var Su=Nu(Xu,Ru),wu=1-Su,vu=Qs.round((wu*wu*wu*qu[0]+(Su*wu*wu+wu*Su*wu+wu*wu*Su)*hp[0]+(Su*Su*wu+wu*Su*Su+Su*wu*Su)*ip[0]+Su*Su*Su*np[0])*1e3)/1e3,ku=Qs.round((wu*wu*wu*qu[1]+(Su*wu*wu+wu*Su*wu+wu*wu*Su)*hp[1]+(Su*Su*wu+wu*Su*Su+Su*wu*Su)*ip[1]+Su*Su*Su*np[1])*1e3)/1e3;return[vu,ku]}var rp=Pl("float32",8);function Wu(qu,np,hp,ip,Xu,Ru,Su){Xu<0?Xu=0:Xu>1&&(Xu=1);var wu=Nu(Xu,Su);Ru=Ru>1?1:Ru;var vu=Nu(Ru,Su),ku,Fu=qu.length,Bu=1-wu,Gu=1-vu,bp=Bu*Bu*Bu,Pp=wu*Bu*Bu*3,Op=wu*wu*Bu*3,Cp=wu*wu*wu,mp=Bu*Bu*Gu,Ap=wu*Bu*Gu+Bu*wu*Gu+Bu*Bu*vu,Sp=wu*wu*Gu+Bu*wu*vu+wu*Bu*vu,Uu=wu*wu*vu,Du=Bu*Gu*Gu,Vu=wu*Gu*Gu+Bu*vu*Gu+Bu*Gu*vu,fp=wu*vu*Gu+Bu*vu*vu+wu*Gu*vu,$p=wu*vu*vu,Ep=Gu*Gu*Gu,om=vu*Gu*Gu+Gu*vu*Gu+Gu*Gu*vu,pm=vu*vu*Gu+Gu*vu*vu+vu*Gu*vu,dm=vu*vu*vu;for(ku=0;ku<Fu;ku+=1)rp[ku*4]=Qs.round((bp*qu[ku]+Pp*hp[ku]+Op*ip[ku]+Cp*np[ku])*1e3)/1e3,rp[ku*4+1]=Qs.round((mp*qu[ku]+Ap*hp[ku]+Sp*ip[ku]+Uu*np[ku])*1e3)/1e3,rp[ku*4+2]=Qs.round((Du*qu[ku]+Vu*hp[ku]+fp*ip[ku]+$p*np[ku])*1e3)/1e3,rp[ku*4+3]=Qs.round((Ep*qu[ku]+om*hp[ku]+pm*ip[ku]+dm*np[ku])*1e3)/1e3;return rp}return{getSegmentsLength:gu,getNewSegment:Wu,getPointInSegment:op,buildBezierData:Yu,pointOnLine2D:Rl,pointOnLine3D:Wl}}var tu=yu(),Ll=function(){var Qs=1,Rl=[],Wl,ru,gu={onmessage:function(){},postMessage:function(qu){Wl({data:qu})}},lu={postMessage:function(qu){gu.onmessage({data:qu})}};function Lu(qu){if(ms.Worker&&ms.Blob&&_s){var np=new Blob(["var _workerSelf = self; self.onmessage = ",qu.toString()],{type:"text/javascript"}),hp=URL.createObjectURL(np);return new Worker(hp)}return Wl=qu,gu}function Yu(){ru||(ru=Lu(function(np){function hp(){function Xu(mp,Ap){var Sp,Uu,Du=mp.length,Vu,fp,$p,Ep;for(Uu=0;Uu<Du;Uu+=1)if(Sp=mp[Uu],"ks"in Sp&&!Sp.completed){if(Sp.completed=!0,Sp.tt&&(mp[Uu-1].td=Sp.tt),Sp.hasMask){var om=Sp.masksProperties;for(fp=om.length,Vu=0;Vu<fp;Vu+=1)if(om[Vu].pt.k.i)wu(om[Vu].pt.k);else for(Ep=om[Vu].pt.k.length,$p=0;$p<Ep;$p+=1)om[Vu].pt.k[$p].s&&wu(om[Vu].pt.k[$p].s[0]),om[Vu].pt.k[$p].e&&wu(om[Vu].pt.k[$p].e[0])}Sp.ty===0?(Sp.layers=Ru(Sp.refId,Ap),Xu(Sp.layers,Ap)):Sp.ty===4?Su(Sp.shapes):Sp.ty===5&&Op(Sp)}}function Ru(mp,Ap){for(var Sp=0,Uu=Ap.length;Sp<Uu;){if(Ap[Sp].id===mp)return Ap[Sp].layers.__used?JSON.parse(JSON.stringify(Ap[Sp].layers)):(Ap[Sp].layers.__used=!0,Ap[Sp].layers);Sp+=1}return null}function Su(mp){var Ap,Sp=mp.length,Uu,Du;for(Ap=Sp-1;Ap>=0;Ap-=1)if(mp[Ap].ty==="sh")if(mp[Ap].ks.k.i)wu(mp[Ap].ks.k);else for(Du=mp[Ap].ks.k.length,Uu=0;Uu<Du;Uu+=1)mp[Ap].ks.k[Uu].s&&wu(mp[Ap].ks.k[Uu].s[0]),mp[Ap].ks.k[Uu].e&&wu(mp[Ap].ks.k[Uu].e[0]);else mp[Ap].ty==="gr"&&Su(mp[Ap].it)}function wu(mp){var Ap,Sp=mp.i.length;for(Ap=0;Ap<Sp;Ap+=1)mp.i[Ap][0]+=mp.v[Ap][0],mp.i[Ap][1]+=mp.v[Ap][1],mp.o[Ap][0]+=mp.v[Ap][0],mp.o[Ap][1]+=mp.v[Ap][1]}function vu(mp,Ap){var Sp=Ap?Ap.split("."):[100,100,100];return mp[0]>Sp[0]?!0:Sp[0]>mp[0]?!1:mp[1]>Sp[1]?!0:Sp[1]>mp[1]?!1:mp[2]>Sp[2]?!0:Sp[2]>mp[2]?!1:null}var ku=function(){var mp=[4,4,14];function Ap(Uu){var Du=Uu.t.d;Uu.t.d={k:[{s:Du,t:0}]}}function Sp(Uu){var Du,Vu=Uu.length;for(Du=0;Du<Vu;Du+=1)Uu[Du].ty===5&&Ap(Uu[Du])}return function(Uu){if(vu(mp,Uu.v)&&(Sp(Uu.layers),Uu.assets)){var Du,Vu=Uu.assets.length;for(Du=0;Du<Vu;Du+=1)Uu.assets[Du].layers&&Sp(Uu.assets[Du].layers)}}}(),Fu=function(){var mp=[4,7,99];return function(Ap){if(Ap.chars&&!vu(mp,Ap.v)){var Sp,Uu=Ap.chars.length,Du,Vu,fp,$p;for(Sp=0;Sp<Uu;Sp+=1)if(Ap.chars[Sp].data&&Ap.chars[Sp].data.shapes)for($p=Ap.chars[Sp].data.shapes[0].it,Vu=$p.length,Du=0;Du<Vu;Du+=1)fp=$p[Du].ks.k,fp.__converted||(wu($p[Du].ks.k),fp.__converted=!0)}}}(),Bu=function(){var mp=[5,7,15];function Ap(Uu){var Du=Uu.t.p;typeof Du.a=="number"&&(Du.a={a:0,k:Du.a}),typeof Du.p=="number"&&(Du.p={a:0,k:Du.p}),typeof Du.r=="number"&&(Du.r={a:0,k:Du.r})}function Sp(Uu){var Du,Vu=Uu.length;for(Du=0;Du<Vu;Du+=1)Uu[Du].ty===5&&Ap(Uu[Du])}return function(Uu){if(vu(mp,Uu.v)&&(Sp(Uu.layers),Uu.assets)){var Du,Vu=Uu.assets.length;for(Du=0;Du<Vu;Du+=1)Uu.assets[Du].layers&&Sp(Uu.assets[Du].layers)}}}(),Gu=function(){var mp=[4,1,9];function Ap(Uu){var Du,Vu=Uu.length,fp,$p;for(Du=0;Du<Vu;Du+=1)if(Uu[Du].ty==="gr")Ap(Uu[Du].it);else if(Uu[Du].ty==="fl"||Uu[Du].ty==="st")if(Uu[Du].c.k&&Uu[Du].c.k[0].i)for($p=Uu[Du].c.k.length,fp=0;fp<$p;fp+=1)Uu[Du].c.k[fp].s&&(Uu[Du].c.k[fp].s[0]/=255,Uu[Du].c.k[fp].s[1]/=255,Uu[Du].c.k[fp].s[2]/=255,Uu[Du].c.k[fp].s[3]/=255),Uu[Du].c.k[fp].e&&(Uu[Du].c.k[fp].e[0]/=255,Uu[Du].c.k[fp].e[1]/=255,Uu[Du].c.k[fp].e[2]/=255,Uu[Du].c.k[fp].e[3]/=255);else Uu[Du].c.k[0]/=255,Uu[Du].c.k[1]/=255,Uu[Du].c.k[2]/=255,Uu[Du].c.k[3]/=255}function Sp(Uu){var Du,Vu=Uu.length;for(Du=0;Du<Vu;Du+=1)Uu[Du].ty===4&&Ap(Uu[Du].shapes)}return function(Uu){if(vu(mp,Uu.v)&&(Sp(Uu.layers),Uu.assets)){var Du,Vu=Uu.assets.length;for(Du=0;Du<Vu;Du+=1)Uu.assets[Du].layers&&Sp(Uu.assets[Du].layers)}}}(),bp=function(){var mp=[4,4,18];function Ap(Uu){var Du,Vu=Uu.length,fp,$p;for(Du=Vu-1;Du>=0;Du-=1)if(Uu[Du].ty==="sh")if(Uu[Du].ks.k.i)Uu[Du].ks.k.c=Uu[Du].closed;else for($p=Uu[Du].ks.k.length,fp=0;fp<$p;fp+=1)Uu[Du].ks.k[fp].s&&(Uu[Du].ks.k[fp].s[0].c=Uu[Du].closed),Uu[Du].ks.k[fp].e&&(Uu[Du].ks.k[fp].e[0].c=Uu[Du].closed);else Uu[Du].ty==="gr"&&Ap(Uu[Du].it)}function Sp(Uu){var Du,Vu,fp=Uu.length,$p,Ep,om,pm;for(Vu=0;Vu<fp;Vu+=1){if(Du=Uu[Vu],Du.hasMask){var dm=Du.masksProperties;for(Ep=dm.length,$p=0;$p<Ep;$p+=1)if(dm[$p].pt.k.i)dm[$p].pt.k.c=dm[$p].cl;else for(pm=dm[$p].pt.k.length,om=0;om<pm;om+=1)dm[$p].pt.k[om].s&&(dm[$p].pt.k[om].s[0].c=dm[$p].cl),dm[$p].pt.k[om].e&&(dm[$p].pt.k[om].e[0].c=dm[$p].cl)}Du.ty===4&&Ap(Du.shapes)}}return function(Uu){if(vu(mp,Uu.v)&&(Sp(Uu.layers),Uu.assets)){var Du,Vu=Uu.assets.length;for(Du=0;Du<Vu;Du+=1)Uu.assets[Du].layers&&Sp(Uu.assets[Du].layers)}}}();function Pp(mp){mp.__complete||(Gu(mp),ku(mp),Fu(mp),Bu(mp),bp(mp),Xu(mp.layers,mp.assets),mp.__complete=!0)}function Op(mp){mp.t.a.length===0&&!("m"in mp.t.p)&&(mp.singleShape=!0)}var Cp={};return Cp.completeData=Pp,Cp.checkColors=Gu,Cp.checkChars=Fu,Cp.checkPathProperties=Bu,Cp.checkShapes=bp,Cp.completeLayers=Xu,Cp}if(lu.dataManager||(lu.dataManager=hp()),lu.assetLoader||(lu.assetLoader=function(){function Xu(Su){var wu=Su.getResponseHeader("content-type");return wu&&Su.responseType==="json"&&wu.indexOf("json")!==-1||Su.response&&typeof Su.response=="object"?Su.response:Su.response&&typeof Su.response=="string"?JSON.parse(Su.response):Su.responseText?JSON.parse(Su.responseText):null}function Ru(Su,wu,vu,ku){var Fu,Bu=new XMLHttpRequest;try{Bu.responseType="json"}catch{}Bu.onreadystatechange=function(){if(Bu.readyState===4)if(Bu.status===200)Fu=Xu(Bu),vu(Fu);else try{Fu=Xu(Bu),vu(Fu)}catch(Gu){ku&&ku(Gu)}};try{Bu.open("GET",Su,!0)}catch{Bu.open("GET",wu+"/"+Su,!0)}Bu.send()}return{load:Ru}}()),np.data.type==="loadAnimation")lu.assetLoader.load(np.data.path,np.data.fullPath,function(Xu){lu.dataManager.completeData(Xu),lu.postMessage({id:np.data.id,payload:Xu,status:"success"})},function(){lu.postMessage({id:np.data.id,status:"error"})});else if(np.data.type==="complete"){var ip=np.data.animation;lu.dataManager.completeData(ip),lu.postMessage({id:np.data.id,payload:ip,status:"success"})}else np.data.type==="loadData"&&lu.assetLoader.load(np.data.path,np.data.fullPath,function(Xu){lu.postMessage({id:np.data.id,payload:Xu,status:"success"})},function(){lu.postMessage({id:np.data.id,status:"error"})})}),ru.onmessage=function(qu){var np=qu.data,hp=np.id,ip=Rl[hp];Rl[hp]=null,np.status==="success"?ip.onComplete(np.payload):ip.onError&&ip.onError()})}function Nu(qu,np){Qs+=1;var hp="processId_"+Qs;return Rl[hp]={onComplete:qu,onError:np},hp}function op(qu,np,hp){Yu();var ip=Nu(np,hp);ru.postMessage({type:"loadAnimation",path:qu,fullPath:ms.location.origin+ms.location.pathname,id:ip})}function rp(qu,np,hp){Yu();var ip=Nu(np,hp);ru.postMessage({type:"loadData",path:qu,fullPath:ms.location.origin+ms.location.pathname,id:ip})}function Wu(qu,np,hp){Yu();var ip=Nu(np,hp);ru.postMessage({type:"complete",animation:qu,id:ip})}return{loadAnimation:op,loadData:rp,completeAnimation:Wu}}();function Tl(Qs){for(var Rl=Qs.fStyle?Qs.fStyle.split(" "):[],Wl="normal",ru="normal",gu=Rl.length,lu,Lu=0;Lu<gu;Lu+=1)switch(lu=Rl[Lu].toLowerCase(),lu){case"italic":ru="italic";break;case"bold":Wl="700";break;case"black":Wl="900";break;case"medium":Wl="500";break;case"regular":case"normal":Wl="400";break;case"light":case"thin":Wl="200";break}return{style:ru,weight:Qs.fWeight||Wl}}var Hl=function(){var Qs=5e3,Rl={w:0,size:0,shapes:[]},Wl=[];Wl=Wl.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var ru=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],gu=[65039,8205];function lu(vu){var ku=vu.split(","),Fu,Bu=ku.length,Gu=[];for(Fu=0;Fu<Bu;Fu+=1)ku[Fu]!=="sans-serif"&&ku[Fu]!=="monospace"&&Gu.push(ku[Fu]);return Gu.join(",")}function Lu(vu,ku){var Fu=Bl("span");Fu.setAttribute("aria-hidden",!0),Fu.style.fontFamily=ku;var Bu=Bl("span");Bu.innerText="giItT1WQy@!-/#",Fu.style.position="absolute",Fu.style.left="-10000px",Fu.style.top="-10000px",Fu.style.fontSize="300px",Fu.style.fontVariant="normal",Fu.style.fontStyle="normal",Fu.style.fontWeight="normal",Fu.style.letterSpacing="0",Fu.appendChild(Bu),document.body.appendChild(Fu);var Gu=Bu.offsetWidth;return Bu.style.fontFamily=lu(vu)+", "+ku,{node:Bu,w:Gu,parent:Fu}}function Yu(){var vu,ku=this.fonts.length,Fu,Bu,Gu=ku;for(vu=0;vu<ku;vu+=1)this.fonts[vu].loaded?Gu-=1:this.fonts[vu].fOrigin==="n"||this.fonts[vu].origin===0?this.fonts[vu].loaded=!0:(Fu=this.fonts[vu].monoCase.node,Bu=this.fonts[vu].monoCase.w,Fu.offsetWidth!==Bu?(Gu-=1,this.fonts[vu].loaded=!0):(Fu=this.fonts[vu].sansCase.node,Bu=this.fonts[vu].sansCase.w,Fu.offsetWidth!==Bu&&(Gu-=1,this.fonts[vu].loaded=!0)),this.fonts[vu].loaded&&(this.fonts[vu].sansCase.parent.parentNode.removeChild(this.fonts[vu].sansCase.parent),this.fonts[vu].monoCase.parent.parentNode.removeChild(this.fonts[vu].monoCase.parent)));Gu!==0&&Date.now()-this.initTime<Qs?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function Nu(vu,ku){var Fu=Zs("text");Fu.style.fontSize="100px";var Bu=Tl(ku);Fu.setAttribute("font-family",ku.fFamily),Fu.setAttribute("font-style",Bu.style),Fu.setAttribute("font-weight",Bu.weight),Fu.textContent="1",ku.fClass?(Fu.style.fontFamily="inherit",Fu.setAttribute("class",ku.fClass)):Fu.style.fontFamily=ku.fFamily,vu.appendChild(Fu);var Gu=Bl("canvas").getContext("2d");return Gu.font=ku.fWeight+" "+ku.fStyle+" 100px "+ku.fFamily,Fu}function op(vu,ku){if(!vu){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=vu.list;return}var Fu=vu.list,Bu,Gu=Fu.length,bp=Gu;for(Bu=0;Bu<Gu;Bu+=1){var Pp=!0,Op,Cp;if(Fu[Bu].loaded=!1,Fu[Bu].monoCase=Lu(Fu[Bu].fFamily,"monospace"),Fu[Bu].sansCase=Lu(Fu[Bu].fFamily,"sans-serif"),!Fu[Bu].fPath)Fu[Bu].loaded=!0,bp-=1;else if(Fu[Bu].fOrigin==="p"||Fu[Bu].origin===3){if(Op=document.querySelectorAll('style[f-forigin="p"][f-family="'+Fu[Bu].fFamily+'"], style[f-origin="3"][f-family="'+Fu[Bu].fFamily+'"]'),Op.length>0&&(Pp=!1),Pp){var mp=Bl("style");mp.setAttribute("f-forigin",Fu[Bu].fOrigin),mp.setAttribute("f-origin",Fu[Bu].origin),mp.setAttribute("f-family",Fu[Bu].fFamily),mp.type="text/css",mp.innerText="@font-face {font-family: "+Fu[Bu].fFamily+"; font-style: normal; src: url('"+Fu[Bu].fPath+"');}",ku.appendChild(mp)}}else if(Fu[Bu].fOrigin==="g"||Fu[Bu].origin===1){for(Op=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Cp=0;Cp<Op.length;Cp+=1)Op[Cp].href.indexOf(Fu[Bu].fPath)!==-1&&(Pp=!1);if(Pp){var Ap=Bl("link");Ap.setAttribute("f-forigin",Fu[Bu].fOrigin),Ap.setAttribute("f-origin",Fu[Bu].origin),Ap.type="text/css",Ap.rel="stylesheet",Ap.href=Fu[Bu].fPath,document.body.appendChild(Ap)}}else if(Fu[Bu].fOrigin==="t"||Fu[Bu].origin===2){for(Op=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Cp=0;Cp<Op.length;Cp+=1)Fu[Bu].fPath===Op[Cp].src&&(Pp=!1);if(Pp){var Sp=Bl("link");Sp.setAttribute("f-forigin",Fu[Bu].fOrigin),Sp.setAttribute("f-origin",Fu[Bu].origin),Sp.setAttribute("rel","stylesheet"),Sp.setAttribute("href",Fu[Bu].fPath),ku.appendChild(Sp)}}Fu[Bu].helper=Nu(ku,Fu[Bu]),Fu[Bu].cache={},this.fonts.push(Fu[Bu])}bp===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function rp(vu){if(vu){this.chars||(this.chars=[]);var ku,Fu=vu.length,Bu,Gu=this.chars.length,bp;for(ku=0;ku<Fu;ku+=1){for(Bu=0,bp=!1;Bu<Gu;)this.chars[Bu].style===vu[ku].style&&this.chars[Bu].fFamily===vu[ku].fFamily&&this.chars[Bu].ch===vu[ku].ch&&(bp=!0),Bu+=1;bp||(this.chars.push(vu[ku]),Gu+=1)}}}function Wu(vu,ku,Fu){for(var Bu=0,Gu=this.chars.length;Bu<Gu;){if(this.chars[Bu].ch===vu&&this.chars[Bu].style===ku&&this.chars[Bu].fFamily===Fu)return this.chars[Bu];Bu+=1}return(typeof vu=="string"&&vu.charCodeAt(0)!==13||!vu)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",vu,ku,Fu)),Rl}function qu(vu,ku,Fu){var Bu=this.getFontByName(ku),Gu=vu.charCodeAt(0);if(!Bu.cache[Gu+1]){var bp=Bu.helper;if(vu===" "){bp.textContent="|"+vu+"|";var Pp=bp.getComputedTextLength();bp.textContent="||";var Op=bp.getComputedTextLength();Bu.cache[Gu+1]=(Pp-Op)/100}else bp.textContent=vu,Bu.cache[Gu+1]=bp.getComputedTextLength()/100}return Bu.cache[Gu+1]*Fu}function np(vu){for(var ku=0,Fu=this.fonts.length;ku<Fu;){if(this.fonts[ku].fName===vu)return this.fonts[ku];ku+=1}return this.fonts[0]}function hp(vu,ku){var Fu=vu.toString(16)+ku.toString(16);return ru.indexOf(Fu)!==-1}function ip(vu,ku){return ku?vu===gu[0]&&ku===gu[1]:vu===gu[1]}function Xu(vu){return Wl.indexOf(vu)!==-1}function Ru(){this.isLoaded=!0}var Su=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Su.isModifier=hp,Su.isZeroWidthJoiner=ip,Su.isCombinedCharacter=Xu;var wu={addChars:rp,addFonts:op,getCharData:Wu,getFontByName:np,measureText:qu,checkLoadedFonts:Yu,setIsLoaded:Ru};return Su.prototype=wu,Su}(),Dl=function(){var Qs=Es,Rl=Math.abs;function Wl(Xu,Ru){var Su=this.offsetTime,wu;this.propType==="multidimensional"&&(wu=Pl("float32",this.pv.length));for(var vu=Ru.lastIndex,ku=vu,Fu=this.keyframes.length-1,Bu=!0,Gu,bp,Pp;Bu;){if(Gu=this.keyframes[ku],bp=this.keyframes[ku+1],ku===Fu-1&&Xu>=bp.t-Su){Gu.h&&(Gu=bp),vu=0;break}if(bp.t-Su>Xu){vu=ku;break}ku<Fu-1?ku+=1:(vu=0,Bu=!1)}Pp=this.keyframesMetadata[ku]||{};var Op,Cp,mp,Ap,Sp,Uu,Du=bp.t-Su,Vu=Gu.t-Su,fp;if(Gu.to){Pp.bezierData||(Pp.bezierData=tu.buildBezierData(Gu.s,bp.s||Gu.e,Gu.to,Gu.ti));var $p=Pp.bezierData;if(Xu>=Du||Xu<Vu){var Ep=Xu>=Du?$p.points.length-1:0;for(Cp=$p.points[Ep].point.length,Op=0;Op<Cp;Op+=1)wu[Op]=$p.points[Ep].point[Op]}else{Pp.__fnct?Uu=Pp.__fnct:(Uu=ou.getBezierEasing(Gu.o.x,Gu.o.y,Gu.i.x,Gu.i.y,Gu.n).get,Pp.__fnct=Uu),mp=Uu((Xu-Vu)/(Du-Vu));var om=$p.segmentLength*mp,pm,dm=Ru.lastFrame<Xu&&Ru._lastKeyframeIndex===ku?Ru._lastAddedLength:0;for(Sp=Ru.lastFrame<Xu&&Ru._lastKeyframeIndex===ku?Ru._lastPoint:0,Bu=!0,Ap=$p.points.length;Bu;){if(dm+=$p.points[Sp].partialLength,om===0||mp===0||Sp===$p.points.length-1){for(Cp=$p.points[Sp].point.length,Op=0;Op<Cp;Op+=1)wu[Op]=$p.points[Sp].point[Op];break}else if(om>=dm&&om<dm+$p.points[Sp+1].partialLength){for(pm=(om-dm)/$p.points[Sp+1].partialLength,Cp=$p.points[Sp].point.length,Op=0;Op<Cp;Op+=1)wu[Op]=$p.points[Sp].point[Op]+($p.points[Sp+1].point[Op]-$p.points[Sp].point[Op])*pm;break}Sp<Ap-1?Sp+=1:Bu=!1}Ru._lastPoint=Sp,Ru._lastAddedLength=dm-$p.points[Sp].partialLength,Ru._lastKeyframeIndex=ku}}else{var vm,Sm,xm,_m,Am;if(Fu=Gu.s.length,fp=bp.s||Gu.e,this.sh&&Gu.h!==1)if(Xu>=Du)wu[0]=fp[0],wu[1]=fp[1],wu[2]=fp[2];else if(Xu<=Vu)wu[0]=Gu.s[0],wu[1]=Gu.s[1],wu[2]=Gu.s[2];else{var bm=lu(Gu.s),wm=lu(fp),$m=(Xu-Vu)/(Du-Vu);gu(wu,ru(bm,wm,$m))}else for(ku=0;ku<Fu;ku+=1)Gu.h!==1&&(Xu>=Du?mp=1:Xu<Vu?mp=0:(Gu.o.x.constructor===Array?(Pp.__fnct||(Pp.__fnct=[]),Pp.__fnct[ku]?Uu=Pp.__fnct[ku]:(vm=Gu.o.x[ku]===void 0?Gu.o.x[0]:Gu.o.x[ku],Sm=Gu.o.y[ku]===void 0?Gu.o.y[0]:Gu.o.y[ku],xm=Gu.i.x[ku]===void 0?Gu.i.x[0]:Gu.i.x[ku],_m=Gu.i.y[ku]===void 0?Gu.i.y[0]:Gu.i.y[ku],Uu=ou.getBezierEasing(vm,Sm,xm,_m).get,Pp.__fnct[ku]=Uu)):Pp.__fnct?Uu=Pp.__fnct:(vm=Gu.o.x,Sm=Gu.o.y,xm=Gu.i.x,_m=Gu.i.y,Uu=ou.getBezierEasing(vm,Sm,xm,_m).get,Gu.keyframeMetadata=Uu),mp=Uu((Xu-Vu)/(Du-Vu)))),fp=bp.s||Gu.e,Am=Gu.h===1?Gu.s[ku]:Gu.s[ku]+(fp[ku]-Gu.s[ku])*mp,this.propType==="multidimensional"?wu[ku]=Am:wu=Am}return Ru.lastIndex=vu,wu}function ru(Xu,Ru,Su){var wu=[],vu=Xu[0],ku=Xu[1],Fu=Xu[2],Bu=Xu[3],Gu=Ru[0],bp=Ru[1],Pp=Ru[2],Op=Ru[3],Cp,mp,Ap,Sp,Uu;return mp=vu*Gu+ku*bp+Fu*Pp+Bu*Op,mp<0&&(mp=-mp,Gu=-Gu,bp=-bp,Pp=-Pp,Op=-Op),1-mp>1e-6?(Cp=Math.acos(mp),Ap=Math.sin(Cp),Sp=Math.sin((1-Su)*Cp)/Ap,Uu=Math.sin(Su*Cp)/Ap):(Sp=1-Su,Uu=Su),wu[0]=Sp*vu+Uu*Gu,wu[1]=Sp*ku+Uu*bp,wu[2]=Sp*Fu+Uu*Pp,wu[3]=Sp*Bu+Uu*Op,wu}function gu(Xu,Ru){var Su=Ru[0],wu=Ru[1],vu=Ru[2],ku=Ru[3],Fu=Math.atan2(2*wu*ku-2*Su*vu,1-2*wu*wu-2*vu*vu),Bu=Math.asin(2*Su*wu+2*vu*ku),Gu=Math.atan2(2*Su*ku-2*wu*vu,1-2*Su*Su-2*vu*vu);Xu[0]=Fu/Sl,Xu[1]=Bu/Sl,Xu[2]=Gu/Sl}function lu(Xu){var Ru=Xu[0]*Sl,Su=Xu[1]*Sl,wu=Xu[2]*Sl,vu=Math.cos(Ru/2),ku=Math.cos(Su/2),Fu=Math.cos(wu/2),Bu=Math.sin(Ru/2),Gu=Math.sin(Su/2),bp=Math.sin(wu/2),Pp=vu*ku*Fu-Bu*Gu*bp,Op=Bu*Gu*Fu+vu*ku*bp,Cp=Bu*ku*Fu+vu*Gu*bp,mp=vu*Gu*Fu-Bu*ku*bp;return[Op,Cp,mp,Pp]}function Lu(){var Xu=this.comp.renderedFrame-this.offsetTime,Ru=this.keyframes[0].t-this.offsetTime,Su=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(Xu===this._caching.lastFrame||this._caching.lastFrame!==Qs&&(this._caching.lastFrame>=Su&&Xu>=Su||this._caching.lastFrame<Ru&&Xu<Ru))){this._caching.lastFrame>=Xu&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var wu=this.interpolateValue(Xu,this._caching);this.pv=wu}return this._caching.lastFrame=Xu,this.pv}function Yu(Xu){var Ru;if(this.propType==="unidimensional")Ru=Xu*this.mult,Rl(this.v-Ru)>1e-5&&(this.v=Ru,this._mdf=!0);else for(var Su=0,wu=this.v.length;Su<wu;)Ru=Xu[Su]*this.mult,Rl(this.v[Su]-Ru)>1e-5&&(this.v[Su]=Ru,this._mdf=!0),Su+=1}function Nu(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var Xu,Ru=this.effectsSequence.length,Su=this.kf?this.pv:this.data.k;for(Xu=0;Xu<Ru;Xu+=1)Su=this.effectsSequence[Xu](Su);this.setVValue(Su),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function op(Xu){this.effectsSequence.push(Xu),this.container.addDynamicProperty(this)}function rp(Xu,Ru,Su,wu){this.propType="unidimensional",this.mult=Su||1,this.data=Ru,this.v=Su?Ru.k*Su:Ru.k,this.pv=Ru.k,this._mdf=!1,this.elem=Xu,this.container=wu,this.comp=Xu.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=Nu,this.setVValue=Yu,this.addEffect=op}function Wu(Xu,Ru,Su,wu){this.propType="multidimensional",this.mult=Su||1,this.data=Ru,this._mdf=!1,this.elem=Xu,this.container=wu,this.comp=Xu.comp,this.k=!1,this.kf=!1,this.frameId=-1;var vu,ku=Ru.k.length;for(this.v=Pl("float32",ku),this.pv=Pl("float32",ku),this.vel=Pl("float32",ku),vu=0;vu<ku;vu+=1)this.v[vu]=Ru.k[vu]*this.mult,this.pv[vu]=Ru.k[vu];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=Nu,this.setVValue=Yu,this.addEffect=op}function qu(Xu,Ru,Su,wu){this.propType="unidimensional",this.keyframes=Ru.k,this.keyframesMetadata=[],this.offsetTime=Xu.data.st,this.frameId=-1,this._caching={lastFrame:Qs,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=Ru,this.mult=Su||1,this.elem=Xu,this.container=wu,this.comp=Xu.comp,this.v=Qs,this.pv=Qs,this._isFirstFrame=!0,this.getValue=Nu,this.setVValue=Yu,this.interpolateValue=Wl,this.effectsSequence=[Lu.bind(this)],this.addEffect=op}function np(Xu,Ru,Su,wu){this.propType="multidimensional";var vu,ku=Ru.k.length,Fu,Bu,Gu,bp;for(vu=0;vu<ku-1;vu+=1)Ru.k[vu].to&&Ru.k[vu].s&&Ru.k[vu+1]&&Ru.k[vu+1].s&&(Fu=Ru.k[vu].s,Bu=Ru.k[vu+1].s,Gu=Ru.k[vu].to,bp=Ru.k[vu].ti,(Fu.length===2&&!(Fu[0]===Bu[0]&&Fu[1]===Bu[1])&&tu.pointOnLine2D(Fu[0],Fu[1],Bu[0],Bu[1],Fu[0]+Gu[0],Fu[1]+Gu[1])&&tu.pointOnLine2D(Fu[0],Fu[1],Bu[0],Bu[1],Bu[0]+bp[0],Bu[1]+bp[1])||Fu.length===3&&!(Fu[0]===Bu[0]&&Fu[1]===Bu[1]&&Fu[2]===Bu[2])&&tu.pointOnLine3D(Fu[0],Fu[1],Fu[2],Bu[0],Bu[1],Bu[2],Fu[0]+Gu[0],Fu[1]+Gu[1],Fu[2]+Gu[2])&&tu.pointOnLine3D(Fu[0],Fu[1],Fu[2],Bu[0],Bu[1],Bu[2],Bu[0]+bp[0],Bu[1]+bp[1],Bu[2]+bp[2]))&&(Ru.k[vu].to=null,Ru.k[vu].ti=null),Fu[0]===Bu[0]&&Fu[1]===Bu[1]&&Gu[0]===0&&Gu[1]===0&&bp[0]===0&&bp[1]===0&&(Fu.length===2||Fu[2]===Bu[2]&&Gu[2]===0&&bp[2]===0)&&(Ru.k[vu].to=null,Ru.k[vu].ti=null));this.effectsSequence=[Lu.bind(this)],this.data=Ru,this.keyframes=Ru.k,this.keyframesMetadata=[],this.offsetTime=Xu.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=Su||1,this.elem=Xu,this.container=wu,this.comp=Xu.comp,this.getValue=Nu,this.setVValue=Yu,this.interpolateValue=Wl,this.frameId=-1;var Pp=Ru.k[0].s.length;for(this.v=Pl("float32",Pp),this.pv=Pl("float32",Pp),vu=0;vu<Pp;vu+=1)this.v[vu]=Qs,this.pv[vu]=Qs;this._caching={lastFrame:Qs,lastIndex:0,value:Pl("float32",Pp)},this.addEffect=op}function hp(Xu,Ru,Su,wu,vu){var ku;if(!Ru.k.length)ku=new rp(Xu,Ru,wu,vu);else if(typeof Ru.k[0]=="number")ku=new Wu(Xu,Ru,wu,vu);else switch(Su){case 0:ku=new qu(Xu,Ru,wu,vu);break;case 1:ku=new np(Xu,Ru,wu,vu);break}return ku.effectsSequence.length&&vu.addDynamicProperty(ku),ku}var ip={getProp:hp};return ip}(),Kl=function(){var Qs=[0,0];function Rl(Nu){var op=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||op,this.a&&Nu.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&Nu.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&Nu.skewFromAxis(-this.sk.v,this.sa.v),this.r?Nu.rotate(-this.r.v):Nu.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?Nu.translate(this.px.v,this.py.v,-this.pz.v):Nu.translate(this.px.v,this.py.v,0):Nu.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function Wl(Nu){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||Nu){var op;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var rp,Wu;if(op=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(rp=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/op,0),Wu=this.p.getValueAtTime(this.p.keyframes[0].t/op,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(rp=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/op,0),Wu=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/op,0)):(rp=this.p.pv,Wu=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/op,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){rp=[],Wu=[];var qu=this.px,np=this.py;qu._caching.lastFrame+qu.offsetTime<=qu.keyframes[0].t?(rp[0]=qu.getValueAtTime((qu.keyframes[0].t+.01)/op,0),rp[1]=np.getValueAtTime((np.keyframes[0].t+.01)/op,0),Wu[0]=qu.getValueAtTime(qu.keyframes[0].t/op,0),Wu[1]=np.getValueAtTime(np.keyframes[0].t/op,0)):qu._caching.lastFrame+qu.offsetTime>=qu.keyframes[qu.keyframes.length-1].t?(rp[0]=qu.getValueAtTime(qu.keyframes[qu.keyframes.length-1].t/op,0),rp[1]=np.getValueAtTime(np.keyframes[np.keyframes.length-1].t/op,0),Wu[0]=qu.getValueAtTime((qu.keyframes[qu.keyframes.length-1].t-.01)/op,0),Wu[1]=np.getValueAtTime((np.keyframes[np.keyframes.length-1].t-.01)/op,0)):(rp=[qu.pv,np.pv],Wu[0]=qu.getValueAtTime((qu._caching.lastFrame+qu.offsetTime-.01)/op,qu.offsetTime),Wu[1]=np.getValueAtTime((np._caching.lastFrame+np.offsetTime-.01)/op,np.offsetTime))}else Wu=Qs,rp=Wu;this.v.rotate(-Math.atan2(rp[1]-Wu[1],rp[0]-Wu[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function ru(){if(!this.a.k)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function gu(){}function lu(Nu){this._addDynamicProperty(Nu),this.elem.addDynamicProperty(Nu),this._isDirty=!0}function Lu(Nu,op,rp){if(this.elem=Nu,this.frameId=-1,this.propType="transform",this.data=op,this.v=new zl,this.pre=new zl,this.appliedTransformations=0,this.initDynamicPropertyContainer(rp||Nu),op.p&&op.p.s?(this.px=Dl.getProp(Nu,op.p.x,0,0,this),this.py=Dl.getProp(Nu,op.p.y,0,0,this),op.p.z&&(this.pz=Dl.getProp(Nu,op.p.z,0,0,this))):this.p=Dl.getProp(Nu,op.p||{k:[0,0,0]},1,0,this),op.rx){if(this.rx=Dl.getProp(Nu,op.rx,0,Sl,this),this.ry=Dl.getProp(Nu,op.ry,0,Sl,this),this.rz=Dl.getProp(Nu,op.rz,0,Sl,this),op.or.k[0].ti){var Wu,qu=op.or.k.length;for(Wu=0;Wu<qu;Wu+=1)op.or.k[Wu].to=null,op.or.k[Wu].ti=null}this.or=Dl.getProp(Nu,op.or,1,Sl,this),this.or.sh=!0}else this.r=Dl.getProp(Nu,op.r||{k:0},0,Sl,this);op.sk&&(this.sk=Dl.getProp(Nu,op.sk,0,Sl,this),this.sa=Dl.getProp(Nu,op.sa,0,Sl,this)),this.a=Dl.getProp(Nu,op.a||{k:[0,0,0]},1,0,this),this.s=Dl.getProp(Nu,op.s||{k:[100,100,100]},1,.01,this),op.o?this.o=Dl.getProp(Nu,op.o,0,.01,Nu):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}Lu.prototype={applyToMatrix:Rl,getValue:Wl,precalculateMatrix:ru,autoOrient:gu},pu([eu],Lu),Lu.prototype.addDynamicProperty=lu,Lu.prototype._addDynamicProperty=eu.prototype.addDynamicProperty;function Yu(Nu,op,rp){return new Lu(Nu,op,rp)}return{getTransformProperty:Yu}}();function cu(){this.c=!1,this._length=0,this._maxLength=8,this.v=yl(this._maxLength),this.o=yl(this._maxLength),this.i=yl(this._maxLength)}cu.prototype.setPathData=function(Qs,Rl){this.c=Qs,this.setLength(Rl);for(var Wl=0;Wl<Rl;)this.v[Wl]=Hp.newElement(),this.o[Wl]=Hp.newElement(),this.i[Wl]=Hp.newElement(),Wl+=1},cu.prototype.setLength=function(Qs){for(;this._maxLength<Qs;)this.doubleArrayLength();this._length=Qs},cu.prototype.doubleArrayLength=function(){this.v=this.v.concat(yl(this._maxLength)),this.i=this.i.concat(yl(this._maxLength)),this.o=this.o.concat(yl(this._maxLength)),this._maxLength*=2},cu.prototype.setXYAt=function(Qs,Rl,Wl,ru,gu){var lu;switch(this._length=Math.max(this._length,ru+1),this._length>=this._maxLength&&this.doubleArrayLength(),Wl){case"v":lu=this.v;break;case"i":lu=this.i;break;case"o":lu=this.o;break;default:lu=[];break}(!lu[ru]||lu[ru]&&!gu)&&(lu[ru]=Hp.newElement()),lu[ru][0]=Qs,lu[ru][1]=Rl},cu.prototype.setTripleAt=function(Qs,Rl,Wl,ru,gu,lu,Lu,Yu){this.setXYAt(Qs,Rl,"v",Lu,Yu),this.setXYAt(Wl,ru,"o",Lu,Yu),this.setXYAt(gu,lu,"i",Lu,Yu)},cu.prototype.reverse=function(){var Qs=new cu;Qs.setPathData(this.c,this._length);var Rl=this.v,Wl=this.o,ru=this.i,gu=0;this.c&&(Qs.setTripleAt(Rl[0][0],Rl[0][1],ru[0][0],ru[0][1],Wl[0][0],Wl[0][1],0,!1),gu=1);var lu=this._length-1,Lu=this._length,Yu;for(Yu=gu;Yu<Lu;Yu+=1)Qs.setTripleAt(Rl[lu][0],Rl[lu][1],ru[lu][0],ru[lu][1],Wl[lu][0],Wl[lu][1],Yu,!1),lu-=1;return Qs};var iu=function(){var Qs=-999999;function Rl(Ru,Su,wu){var vu=wu.lastIndex,ku,Fu,Bu,Gu,bp,Pp,Op,Cp,mp,Ap=this.keyframes;if(Ru<Ap[0].t-this.offsetTime)ku=Ap[0].s[0],Bu=!0,vu=0;else if(Ru>=Ap[Ap.length-1].t-this.offsetTime)ku=Ap[Ap.length-1].s?Ap[Ap.length-1].s[0]:Ap[Ap.length-2].e[0],Bu=!0;else{for(var Sp=vu,Uu=Ap.length-1,Du=!0,Vu,fp,$p;Du&&(Vu=Ap[Sp],fp=Ap[Sp+1],!(fp.t-this.offsetTime>Ru));)Sp<Uu-1?Sp+=1:Du=!1;if($p=this.keyframesMetadata[Sp]||{},Bu=Vu.h===1,vu=Sp,!Bu){if(Ru>=fp.t-this.offsetTime)Cp=1;else if(Ru<Vu.t-this.offsetTime)Cp=0;else{var Ep;$p.__fnct?Ep=$p.__fnct:(Ep=ou.getBezierEasing(Vu.o.x,Vu.o.y,Vu.i.x,Vu.i.y).get,$p.__fnct=Ep),Cp=Ep((Ru-(Vu.t-this.offsetTime))/(fp.t-this.offsetTime-(Vu.t-this.offsetTime)))}Fu=fp.s?fp.s[0]:Vu.e[0]}ku=Vu.s[0]}for(Pp=Su._length,Op=ku.i[0].length,wu.lastIndex=vu,Gu=0;Gu<Pp;Gu+=1)for(bp=0;bp<Op;bp+=1)mp=Bu?ku.i[Gu][bp]:ku.i[Gu][bp]+(Fu.i[Gu][bp]-ku.i[Gu][bp])*Cp,Su.i[Gu][bp]=mp,mp=Bu?ku.o[Gu][bp]:ku.o[Gu][bp]+(Fu.o[Gu][bp]-ku.o[Gu][bp])*Cp,Su.o[Gu][bp]=mp,mp=Bu?ku.v[Gu][bp]:ku.v[Gu][bp]+(Fu.v[Gu][bp]-ku.v[Gu][bp])*Cp,Su.v[Gu][bp]=mp}function Wl(){var Ru=this.comp.renderedFrame-this.offsetTime,Su=this.keyframes[0].t-this.offsetTime,wu=this.keyframes[this.keyframes.length-1].t-this.offsetTime,vu=this._caching.lastFrame;return vu!==Qs&&(vu<Su&&Ru<Su||vu>wu&&Ru>wu)||(this._caching.lastIndex=vu<Ru?this._caching.lastIndex:0,this.interpolateShape(Ru,this.pv,this._caching)),this._caching.lastFrame=Ru,this.pv}function ru(){this.paths=this.localShapeCollection}function gu(Ru,Su){if(Ru._length!==Su._length||Ru.c!==Su.c)return!1;var wu,vu=Ru._length;for(wu=0;wu<vu;wu+=1)if(Ru.v[wu][0]!==Su.v[wu][0]||Ru.v[wu][1]!==Su.v[wu][1]||Ru.o[wu][0]!==Su.o[wu][0]||Ru.o[wu][1]!==Su.o[wu][1]||Ru.i[wu][0]!==Su.i[wu][0]||Ru.i[wu][1]!==Su.i[wu][1])return!1;return!0}function lu(Ru){gu(this.v,Ru)||(this.v=Yp.clone(Ru),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function Lu(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var Ru;this.kf?Ru=this.pv:this.data.ks?Ru=this.data.ks.k:Ru=this.data.pt.k;var Su,wu=this.effectsSequence.length;for(Su=0;Su<wu;Su+=1)Ru=this.effectsSequence[Su](Ru);this.setVValue(Ru),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function Yu(Ru,Su,wu){this.propType="shape",this.comp=Ru.comp,this.container=Ru,this.elem=Ru,this.data=Su,this.k=!1,this.kf=!1,this._mdf=!1;var vu=wu===3?Su.pt.k:Su.ks.k;this.v=Yp.clone(vu),this.pv=Yp.clone(this.v),this.localShapeCollection=jp.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=ru,this.effectsSequence=[]}function Nu(Ru){this.effectsSequence.push(Ru),this.container.addDynamicProperty(this)}Yu.prototype.interpolateShape=Rl,Yu.prototype.getValue=Lu,Yu.prototype.setVValue=lu,Yu.prototype.addEffect=Nu;function op(Ru,Su,wu){this.propType="shape",this.comp=Ru.comp,this.elem=Ru,this.container=Ru,this.offsetTime=Ru.data.st,this.keyframes=wu===3?Su.pt.k:Su.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var vu=this.keyframes[0].s[0].i.length;this.v=Yp.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,vu),this.pv=Yp.clone(this.v),this.localShapeCollection=jp.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=Qs,this.reset=ru,this._caching={lastFrame:Qs,lastIndex:0},this.effectsSequence=[Wl.bind(this)]}op.prototype.getValue=Lu,op.prototype.interpolateShape=Rl,op.prototype.setVValue=lu,op.prototype.addEffect=Nu;var rp=function(){var Ru=El;function Su(wu,vu){this.v=Yp.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=jp.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=vu.d,this.elem=wu,this.comp=wu.comp,this.frameId=-1,this.initDynamicPropertyContainer(wu),this.p=Dl.getProp(wu,vu.p,1,0,this),this.s=Dl.getProp(wu,vu.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return Su.prototype={reset:ru,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var wu=this.p.v[0],vu=this.p.v[1],ku=this.s.v[0]/2,Fu=this.s.v[1]/2,Bu=this.d!==3,Gu=this.v;Gu.v[0][0]=wu,Gu.v[0][1]=vu-Fu,Gu.v[1][0]=Bu?wu+ku:wu-ku,Gu.v[1][1]=vu,Gu.v[2][0]=wu,Gu.v[2][1]=vu+Fu,Gu.v[3][0]=Bu?wu-ku:wu+ku,Gu.v[3][1]=vu,Gu.i[0][0]=Bu?wu-ku*Ru:wu+ku*Ru,Gu.i[0][1]=vu-Fu,Gu.i[1][0]=Bu?wu+ku:wu-ku,Gu.i[1][1]=vu-Fu*Ru,Gu.i[2][0]=Bu?wu+ku*Ru:wu-ku*Ru,Gu.i[2][1]=vu+Fu,Gu.i[3][0]=Bu?wu-ku:wu+ku,Gu.i[3][1]=vu+Fu*Ru,Gu.o[0][0]=Bu?wu+ku*Ru:wu-ku*Ru,Gu.o[0][1]=vu-Fu,Gu.o[1][0]=Bu?wu+ku:wu-ku,Gu.o[1][1]=vu+Fu*Ru,Gu.o[2][0]=Bu?wu-ku*Ru:wu+ku*Ru,Gu.o[2][1]=vu+Fu,Gu.o[3][0]=Bu?wu-ku:wu+ku,Gu.o[3][1]=vu-Fu*Ru}},pu([eu],Su),Su}(),Wu=function(){function Ru(Su,wu){this.v=Yp.newElement(),this.v.setPathData(!0,0),this.elem=Su,this.comp=Su.comp,this.data=wu,this.frameId=-1,this.d=wu.d,this.initDynamicPropertyContainer(Su),wu.sy===1?(this.ir=Dl.getProp(Su,wu.ir,0,0,this),this.is=Dl.getProp(Su,wu.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=Dl.getProp(Su,wu.pt,0,0,this),this.p=Dl.getProp(Su,wu.p,1,0,this),this.r=Dl.getProp(Su,wu.r,0,Sl,this),this.or=Dl.getProp(Su,wu.or,0,0,this),this.os=Dl.getProp(Su,wu.os,0,.01,this),this.localShapeCollection=jp.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return Ru.prototype={reset:ru,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var Su=Math.floor(this.pt.v)*2,wu=Math.PI*2/Su,vu=!0,ku=this.or.v,Fu=this.ir.v,Bu=this.os.v,Gu=this.is.v,bp=2*Math.PI*ku/(Su*2),Pp=2*Math.PI*Fu/(Su*2),Op,Cp,mp,Ap,Sp=-Math.PI/2;Sp+=this.r.v;var Uu=this.data.d===3?-1:1;for(this.v._length=0,Op=0;Op<Su;Op+=1){Cp=vu?ku:Fu,mp=vu?Bu:Gu,Ap=vu?bp:Pp;var Du=Cp*Math.cos(Sp),Vu=Cp*Math.sin(Sp),fp=Du===0&&Vu===0?0:Vu/Math.sqrt(Du*Du+Vu*Vu),$p=Du===0&&Vu===0?0:-Du/Math.sqrt(Du*Du+Vu*Vu);Du+=+this.p.v[0],Vu+=+this.p.v[1],this.v.setTripleAt(Du,Vu,Du-fp*Ap*mp*Uu,Vu-$p*Ap*mp*Uu,Du+fp*Ap*mp*Uu,Vu+$p*Ap*mp*Uu,Op,!0),vu=!vu,Sp+=wu*Uu}},convertPolygonToPath:function(){var Su=Math.floor(this.pt.v),wu=Math.PI*2/Su,vu=this.or.v,ku=this.os.v,Fu=2*Math.PI*vu/(Su*4),Bu,Gu=-Math.PI*.5,bp=this.data.d===3?-1:1;for(Gu+=this.r.v,this.v._length=0,Bu=0;Bu<Su;Bu+=1){var Pp=vu*Math.cos(Gu),Op=vu*Math.sin(Gu),Cp=Pp===0&&Op===0?0:Op/Math.sqrt(Pp*Pp+Op*Op),mp=Pp===0&&Op===0?0:-Pp/Math.sqrt(Pp*Pp+Op*Op);Pp+=+this.p.v[0],Op+=+this.p.v[1],this.v.setTripleAt(Pp,Op,Pp-Cp*Fu*ku*bp,Op-mp*Fu*ku*bp,Pp+Cp*Fu*ku*bp,Op+mp*Fu*ku*bp,Bu,!0),Gu+=wu*bp}this.paths.length=0,this.paths[0]=this.v}},pu([eu],Ru),Ru}(),qu=function(){function Ru(Su,wu){this.v=Yp.newElement(),this.v.c=!0,this.localShapeCollection=jp.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=Su,this.comp=Su.comp,this.frameId=-1,this.d=wu.d,this.initDynamicPropertyContainer(Su),this.p=Dl.getProp(Su,wu.p,1,0,this),this.s=Dl.getProp(Su,wu.s,1,0,this),this.r=Dl.getProp(Su,wu.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return Ru.prototype={convertRectToPath:function(){var Su=this.p.v[0],wu=this.p.v[1],vu=this.s.v[0]/2,ku=this.s.v[1]/2,Fu=$l(vu,ku,this.r.v),Bu=Fu*(1-El);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(Su+vu,wu-ku+Fu,Su+vu,wu-ku+Fu,Su+vu,wu-ku+Bu,0,!0),this.v.setTripleAt(Su+vu,wu+ku-Fu,Su+vu,wu+ku-Bu,Su+vu,wu+ku-Fu,1,!0),Fu!==0?(this.v.setTripleAt(Su+vu-Fu,wu+ku,Su+vu-Fu,wu+ku,Su+vu-Bu,wu+ku,2,!0),this.v.setTripleAt(Su-vu+Fu,wu+ku,Su-vu+Bu,wu+ku,Su-vu+Fu,wu+ku,3,!0),this.v.setTripleAt(Su-vu,wu+ku-Fu,Su-vu,wu+ku-Fu,Su-vu,wu+ku-Bu,4,!0),this.v.setTripleAt(Su-vu,wu-ku+Fu,Su-vu,wu-ku+Bu,Su-vu,wu-ku+Fu,5,!0),this.v.setTripleAt(Su-vu+Fu,wu-ku,Su-vu+Fu,wu-ku,Su-vu+Bu,wu-ku,6,!0),this.v.setTripleAt(Su+vu-Fu,wu-ku,Su+vu-Bu,wu-ku,Su+vu-Fu,wu-ku,7,!0)):(this.v.setTripleAt(Su-vu,wu+ku,Su-vu+Bu,wu+ku,Su-vu,wu+ku,2),this.v.setTripleAt(Su-vu,wu-ku,Su-vu,wu-ku+Bu,Su-vu,wu-ku,3))):(this.v.setTripleAt(Su+vu,wu-ku+Fu,Su+vu,wu-ku+Bu,Su+vu,wu-ku+Fu,0,!0),Fu!==0?(this.v.setTripleAt(Su+vu-Fu,wu-ku,Su+vu-Fu,wu-ku,Su+vu-Bu,wu-ku,1,!0),this.v.setTripleAt(Su-vu+Fu,wu-ku,Su-vu+Bu,wu-ku,Su-vu+Fu,wu-ku,2,!0),this.v.setTripleAt(Su-vu,wu-ku+Fu,Su-vu,wu-ku+Fu,Su-vu,wu-ku+Bu,3,!0),this.v.setTripleAt(Su-vu,wu+ku-Fu,Su-vu,wu+ku-Bu,Su-vu,wu+ku-Fu,4,!0),this.v.setTripleAt(Su-vu+Fu,wu+ku,Su-vu+Fu,wu+ku,Su-vu+Bu,wu+ku,5,!0),this.v.setTripleAt(Su+vu-Fu,wu+ku,Su+vu-Bu,wu+ku,Su+vu-Fu,wu+ku,6,!0),this.v.setTripleAt(Su+vu,wu+ku-Fu,Su+vu,wu+ku-Fu,Su+vu,wu+ku-Bu,7,!0)):(this.v.setTripleAt(Su-vu,wu-ku,Su-vu+Bu,wu-ku,Su-vu,wu-ku,1,!0),this.v.setTripleAt(Su-vu,wu+ku,Su-vu,wu+ku-Bu,Su-vu,wu+ku,2,!0),this.v.setTripleAt(Su+vu,wu+ku,Su+vu-Bu,wu+ku,Su+vu,wu+ku,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:ru},pu([eu],Ru),Ru}();function np(Ru,Su,wu){var vu;if(wu===3||wu===4){var ku=wu===3?Su.pt:Su.ks,Fu=ku.k;Fu.length?vu=new op(Ru,Su,wu):vu=new Yu(Ru,Su,wu)}else wu===5?vu=new qu(Ru,Su):wu===6?vu=new rp(Ru,Su):wu===7&&(vu=new Wu(Ru,Su));return vu.k&&Ru.addDynamicProperty(vu),vu}function hp(){return Yu}function ip(){return op}var Xu={};return Xu.getShapeProp=np,Xu.getConstructorFunction=hp,Xu.getKeyframedConstructorFunction=ip,Xu}(),du=function(){var Qs={},Rl={};Qs.registerModifier=Wl,Qs.getModifier=ru;function Wl(gu,lu){Rl[gu]||(Rl[gu]=lu)}function ru(gu,lu,Lu){return new Rl[gu](lu,Lu)}return Qs}();function Au(){}Au.prototype.initModifierProperties=function(){},Au.prototype.addShapeToModifier=function(){},Au.prototype.addShape=function(Qs){if(!this.closed){Qs.sh.container.addDynamicProperty(Qs.sh);var Rl={shape:Qs.sh,data:Qs,localShapeCollection:jp.newShapeCollection()};this.shapes.push(Rl),this.addShapeToModifier(Rl),this._isAnimated&&Qs.setAsAnimated()}},Au.prototype.init=function(Qs,Rl){this.shapes=[],this.elem=Qs,this.initDynamicPropertyContainer(Qs),this.initModifierProperties(Qs,Rl),this.frameId=Es,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},Au.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},pu([eu],Au);function xu(){}pu([Au],xu),xu.prototype.initModifierProperties=function(Qs,Rl){this.s=Dl.getProp(Qs,Rl.s,0,.01,this),this.e=Dl.getProp(Qs,Rl.e,0,.01,this),this.o=Dl.getProp(Qs,Rl.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=Rl.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},xu.prototype.addShapeToModifier=function(Qs){Qs.pathsData=[]},xu.prototype.calculateShapeEdges=function(Qs,Rl,Wl,ru,gu){var lu=[];Rl<=1?lu.push({s:Qs,e:Rl}):Qs>=1?lu.push({s:Qs-1,e:Rl-1}):(lu.push({s:Qs,e:1}),lu.push({s:0,e:Rl-1}));var Lu=[],Yu,Nu=lu.length,op;for(Yu=0;Yu<Nu;Yu+=1)if(op=lu[Yu],!(op.e*gu<ru||op.s*gu>ru+Wl)){var rp,Wu;op.s*gu<=ru?rp=0:rp=(op.s*gu-ru)/Wl,op.e*gu>=ru+Wl?Wu=1:Wu=(op.e*gu-ru)/Wl,Lu.push([rp,Wu])}return Lu.length||Lu.push([0,0]),Lu},xu.prototype.releasePathsData=function(Qs){var Rl,Wl=Qs.length;for(Rl=0;Rl<Wl;Rl+=1)tm.release(Qs[Rl]);return Qs.length=0,Qs},xu.prototype.processShapes=function(Qs){var Rl,Wl;if(this._mdf||Qs){var ru=this.o.v%360/360;if(ru<0&&(ru+=1),this.s.v>1?Rl=1+ru:this.s.v<0?Rl=0+ru:Rl=this.s.v+ru,this.e.v>1?Wl=1+ru:this.e.v<0?Wl=0+ru:Wl=this.e.v+ru,Rl>Wl){var gu=Rl;Rl=Wl,Wl=gu}Rl=Math.round(Rl*1e4)*1e-4,Wl=Math.round(Wl*1e4)*1e-4,this.sValue=Rl,this.eValue=Wl}else Rl=this.sValue,Wl=this.eValue;var lu,Lu,Yu=this.shapes.length,Nu,op,rp,Wu,qu,np=0;if(Wl===Rl)for(Lu=0;Lu<Yu;Lu+=1)this.shapes[Lu].localShapeCollection.releaseShapes(),this.shapes[Lu].shape._mdf=!0,this.shapes[Lu].shape.paths=this.shapes[Lu].localShapeCollection,this._mdf&&(this.shapes[Lu].pathsData.length=0);else if(Wl===1&&Rl===0||Wl===0&&Rl===1){if(this._mdf)for(Lu=0;Lu<Yu;Lu+=1)this.shapes[Lu].pathsData.length=0,this.shapes[Lu].shape._mdf=!0}else{var hp=[],ip,Xu;for(Lu=0;Lu<Yu;Lu+=1)if(ip=this.shapes[Lu],!ip.shape._mdf&&!this._mdf&&!Qs&&this.m!==2)ip.shape.paths=ip.localShapeCollection;else{if(lu=ip.shape.paths,op=lu._length,qu=0,!ip.shape._mdf&&ip.pathsData.length)qu=ip.totalShapeLength;else{for(rp=this.releasePathsData(ip.pathsData),Nu=0;Nu<op;Nu+=1)Wu=tu.getSegmentsLength(lu.shapes[Nu]),rp.push(Wu),qu+=Wu.totalLength;ip.totalShapeLength=qu,ip.pathsData=rp}np+=qu,ip.shape._mdf=!0}var Ru=Rl,Su=Wl,wu=0,vu;for(Lu=Yu-1;Lu>=0;Lu-=1)if(ip=this.shapes[Lu],ip.shape._mdf){for(Xu=ip.localShapeCollection,Xu.releaseShapes(),this.m===2&&Yu>1?(vu=this.calculateShapeEdges(Rl,Wl,ip.totalShapeLength,wu,np),wu+=ip.totalShapeLength):vu=[[Ru,Su]],op=vu.length,Nu=0;Nu<op;Nu+=1){Ru=vu[Nu][0],Su=vu[Nu][1],hp.length=0,Su<=1?hp.push({s:ip.totalShapeLength*Ru,e:ip.totalShapeLength*Su}):Ru>=1?hp.push({s:ip.totalShapeLength*(Ru-1),e:ip.totalShapeLength*(Su-1)}):(hp.push({s:ip.totalShapeLength*Ru,e:ip.totalShapeLength}),hp.push({s:0,e:ip.totalShapeLength*(Su-1)}));var ku=this.addShapes(ip,hp[0]);if(hp[0].s!==hp[0].e){if(hp.length>1){var Fu=ip.shape.paths.shapes[ip.shape.paths._length-1];if(Fu.c){var Bu=ku.pop();this.addPaths(ku,Xu),ku=this.addShapes(ip,hp[1],Bu)}else this.addPaths(ku,Xu),ku=this.addShapes(ip,hp[1])}this.addPaths(ku,Xu)}}ip.shape.paths=Xu}}},xu.prototype.addPaths=function(Qs,Rl){var Wl,ru=Qs.length;for(Wl=0;Wl<ru;Wl+=1)Rl.addShape(Qs[Wl])},xu.prototype.addSegment=function(Qs,Rl,Wl,ru,gu,lu,Lu){gu.setXYAt(Rl[0],Rl[1],"o",lu),gu.setXYAt(Wl[0],Wl[1],"i",lu+1),Lu&&gu.setXYAt(Qs[0],Qs[1],"v",lu),gu.setXYAt(ru[0],ru[1],"v",lu+1)},xu.prototype.addSegmentFromArray=function(Qs,Rl,Wl,ru){Rl.setXYAt(Qs[1],Qs[5],"o",Wl),Rl.setXYAt(Qs[2],Qs[6],"i",Wl+1),ru&&Rl.setXYAt(Qs[0],Qs[4],"v",Wl),Rl.setXYAt(Qs[3],Qs[7],"v",Wl+1)},xu.prototype.addShapes=function(Qs,Rl,Wl){var ru=Qs.pathsData,gu=Qs.shape.paths.shapes,lu,Lu=Qs.shape.paths._length,Yu,Nu,op=0,rp,Wu,qu,np,hp=[],ip,Xu=!0;for(Wl?(Wu=Wl._length,ip=Wl._length):(Wl=Yp.newElement(),Wu=0,ip=0),hp.push(Wl),lu=0;lu<Lu;lu+=1){for(qu=ru[lu].lengths,Wl.c=gu[lu].c,Nu=gu[lu].c?qu.length:qu.length+1,Yu=1;Yu<Nu;Yu+=1)if(rp=qu[Yu-1],op+rp.addedLength<Rl.s)op+=rp.addedLength,Wl.c=!1;else if(op>Rl.e){Wl.c=!1;break}else Rl.s<=op&&Rl.e>=op+rp.addedLength?(this.addSegment(gu[lu].v[Yu-1],gu[lu].o[Yu-1],gu[lu].i[Yu],gu[lu].v[Yu],Wl,Wu,Xu),Xu=!1):(np=tu.getNewSegment(gu[lu].v[Yu-1],gu[lu].v[Yu],gu[lu].o[Yu-1],gu[lu].i[Yu],(Rl.s-op)/rp.addedLength,(Rl.e-op)/rp.addedLength,qu[Yu-1]),this.addSegmentFromArray(np,Wl,Wu,Xu),Xu=!1,Wl.c=!1),op+=rp.addedLength,Wu+=1;if(gu[lu].c&&qu.length){if(rp=qu[Yu-1],op<=Rl.e){var Ru=qu[Yu-1].addedLength;Rl.s<=op&&Rl.e>=op+Ru?(this.addSegment(gu[lu].v[Yu-1],gu[lu].o[Yu-1],gu[lu].i[0],gu[lu].v[0],Wl,Wu,Xu),Xu=!1):(np=tu.getNewSegment(gu[lu].v[Yu-1],gu[lu].v[0],gu[lu].o[Yu-1],gu[lu].i[0],(Rl.s-op)/Ru,(Rl.e-op)/Ru,qu[Yu-1]),this.addSegmentFromArray(np,Wl,Wu,Xu),Xu=!1,Wl.c=!1)}else Wl.c=!1;op+=rp.addedLength,Wu+=1}if(Wl._length&&(Wl.setXYAt(Wl.v[ip][0],Wl.v[ip][1],"i",ip),Wl.setXYAt(Wl.v[Wl._length-1][0],Wl.v[Wl._length-1][1],"o",Wl._length-1)),op>Rl.e)break;lu<Lu-1&&(Wl=Yp.newElement(),Xu=!0,hp.push(Wl),Wu=0)}return hp},du.registerModifier("tm",xu);function _u(){}pu([Au],_u),_u.prototype.initModifierProperties=function(Qs,Rl){this.getValue=this.processKeys,this.rd=Dl.getProp(Qs,Rl.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},_u.prototype.processPath=function(Qs,Rl){var Wl=Yp.newElement();Wl.c=Qs.c;var ru,gu=Qs._length,lu,Lu,Yu,Nu,op,rp,Wu=0,qu,np,hp,ip,Xu,Ru;for(ru=0;ru<gu;ru+=1)lu=Qs.v[ru],Yu=Qs.o[ru],Lu=Qs.i[ru],lu[0]===Yu[0]&&lu[1]===Yu[1]&&lu[0]===Lu[0]&&lu[1]===Lu[1]?(ru===0||ru===gu-1)&&!Qs.c?(Wl.setTripleAt(lu[0],lu[1],Yu[0],Yu[1],Lu[0],Lu[1],Wu),Wu+=1):(ru===0?Nu=Qs.v[gu-1]:Nu=Qs.v[ru-1],op=Math.sqrt(Math.pow(lu[0]-Nu[0],2)+Math.pow(lu[1]-Nu[1],2)),rp=op?Math.min(op/2,Rl)/op:0,Xu=lu[0]+(Nu[0]-lu[0])*rp,qu=Xu,Ru=lu[1]-(lu[1]-Nu[1])*rp,np=Ru,hp=qu-(qu-lu[0])*El,ip=np-(np-lu[1])*El,Wl.setTripleAt(qu,np,hp,ip,Xu,Ru,Wu),Wu+=1,ru===gu-1?Nu=Qs.v[0]:Nu=Qs.v[ru+1],op=Math.sqrt(Math.pow(lu[0]-Nu[0],2)+Math.pow(lu[1]-Nu[1],2)),rp=op?Math.min(op/2,Rl)/op:0,hp=lu[0]+(Nu[0]-lu[0])*rp,qu=hp,ip=lu[1]+(Nu[1]-lu[1])*rp,np=ip,Xu=qu-(qu-lu[0])*El,Ru=np-(np-lu[1])*El,Wl.setTripleAt(qu,np,hp,ip,Xu,Ru,Wu),Wu+=1):(Wl.setTripleAt(Qs.v[ru][0],Qs.v[ru][1],Qs.o[ru][0],Qs.o[ru][1],Qs.i[ru][0],Qs.i[ru][1],Wu),Wu+=1);return Wl},_u.prototype.processShapes=function(Qs){var Rl,Wl,ru=this.shapes.length,gu,lu,Lu=this.rd.v;if(Lu!==0){var Yu,Nu;for(Wl=0;Wl<ru;Wl+=1){if(Yu=this.shapes[Wl],Nu=Yu.localShapeCollection,!(!Yu.shape._mdf&&!this._mdf&&!Qs))for(Nu.releaseShapes(),Yu.shape._mdf=!0,Rl=Yu.shape.paths.shapes,lu=Yu.shape.paths._length,gu=0;gu<lu;gu+=1)Nu.addShape(this.processPath(Rl[gu],Lu));Yu.shape.paths=Yu.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)},du.registerModifier("rd",_u);function Hu(){}pu([Au],Hu),Hu.prototype.initModifierProperties=function(Qs,Rl){this.getValue=this.processKeys,this.amount=Dl.getProp(Qs,Rl.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},Hu.prototype.processPath=function(Qs,Rl){var Wl=Rl/100,ru=[0,0],gu=Qs._length,lu=0;for(lu=0;lu<gu;lu+=1)ru[0]+=Qs.v[lu][0],ru[1]+=Qs.v[lu][1];ru[0]/=gu,ru[1]/=gu;var Lu=Yp.newElement();Lu.c=Qs.c;var Yu,Nu,op,rp,Wu,qu;for(lu=0;lu<gu;lu+=1)Yu=Qs.v[lu][0]+(ru[0]-Qs.v[lu][0])*Wl,Nu=Qs.v[lu][1]+(ru[1]-Qs.v[lu][1])*Wl,op=Qs.o[lu][0]+(ru[0]-Qs.o[lu][0])*-Wl,rp=Qs.o[lu][1]+(ru[1]-Qs.o[lu][1])*-Wl,Wu=Qs.i[lu][0]+(ru[0]-Qs.i[lu][0])*-Wl,qu=Qs.i[lu][1]+(ru[1]-Qs.i[lu][1])*-Wl,Lu.setTripleAt(Yu,Nu,op,rp,Wu,qu,lu);return Lu},Hu.prototype.processShapes=function(Qs){var Rl,Wl,ru=this.shapes.length,gu,lu,Lu=this.amount.v;if(Lu!==0){var Yu,Nu;for(Wl=0;Wl<ru;Wl+=1){if(Yu=this.shapes[Wl],Nu=Yu.localShapeCollection,!(!Yu.shape._mdf&&!this._mdf&&!Qs))for(Nu.releaseShapes(),Yu.shape._mdf=!0,Rl=Yu.shape.paths.shapes,lu=Yu.shape.paths._length,gu=0;gu<lu;gu+=1)Nu.addShape(this.processPath(Rl[gu],Lu));Yu.shape.paths=Yu.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)},du.registerModifier("pb",Hu);function ju(){}pu([Au],ju),ju.prototype.initModifierProperties=function(Qs,Rl){this.getValue=this.processKeys,this.c=Dl.getProp(Qs,Rl.c,0,null,this),this.o=Dl.getProp(Qs,Rl.o,0,null,this),this.tr=Kl.getTransformProperty(Qs,Rl.tr,this),this.so=Dl.getProp(Qs,Rl.tr.so,0,.01,this),this.eo=Dl.getProp(Qs,Rl.tr.eo,0,.01,this),this.data=Rl,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new zl,this.rMatrix=new zl,this.sMatrix=new zl,this.tMatrix=new zl,this.matrix=new zl},ju.prototype.applyTransforms=function(Qs,Rl,Wl,ru,gu,lu){var Lu=lu?-1:1,Yu=ru.s.v[0]+(1-ru.s.v[0])*(1-gu),Nu=ru.s.v[1]+(1-ru.s.v[1])*(1-gu);Qs.translate(ru.p.v[0]*Lu*gu,ru.p.v[1]*Lu*gu,ru.p.v[2]),Rl.translate(-ru.a.v[0],-ru.a.v[1],ru.a.v[2]),Rl.rotate(-ru.r.v*Lu*gu),Rl.translate(ru.a.v[0],ru.a.v[1],ru.a.v[2]),Wl.translate(-ru.a.v[0],-ru.a.v[1],ru.a.v[2]),Wl.scale(lu?1/Yu:Yu,lu?1/Nu:Nu),Wl.translate(ru.a.v[0],ru.a.v[1],ru.a.v[2])},ju.prototype.init=function(Qs,Rl,Wl,ru){for(this.elem=Qs,this.arr=Rl,this.pos=Wl,this.elemsData=ru,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(Qs),this.initModifierProperties(Qs,Rl[Wl]);Wl>0;)Wl-=1,this._elements.unshift(Rl[Wl]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ju.prototype.resetElements=function(Qs){var Rl,Wl=Qs.length;for(Rl=0;Rl<Wl;Rl+=1)Qs[Rl]._processed=!1,Qs[Rl].ty==="gr"&&this.resetElements(Qs[Rl].it)},ju.prototype.cloneElements=function(Qs){var Rl=JSON.parse(JSON.stringify(Qs));return this.resetElements(Rl),Rl},ju.prototype.changeGroupRender=function(Qs,Rl){var Wl,ru=Qs.length;for(Wl=0;Wl<ru;Wl+=1)Qs[Wl]._render=Rl,Qs[Wl].ty==="gr"&&this.changeGroupRender(Qs[Wl].it,Rl)},ju.prototype.processShapes=function(Qs){var Rl,Wl,ru,gu,lu,Lu=!1;if(this._mdf||Qs){var Yu=Math.ceil(this.c.v);if(this._groups.length<Yu){for(;this._groups.length<Yu;){var Nu={it:this.cloneElements(this._elements),ty:"gr"};Nu.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,Nu),this._groups.splice(0,0,Nu),this._currentCopies+=1}this.elem.reloadShapes(),Lu=!0}lu=0;var op;for(ru=0;ru<=this._groups.length-1;ru+=1){if(op=lu<Yu,this._groups[ru]._render=op,this.changeGroupRender(this._groups[ru].it,op),!op){var rp=this.elemsData[ru].it,Wu=rp[rp.length-1];Wu.transform.op.v!==0?(Wu.transform.op._mdf=!0,Wu.transform.op.v=0):Wu.transform.op._mdf=!1}lu+=1}this._currentCopies=Yu;var qu=this.o.v,np=qu%1,hp=qu>0?Math.floor(qu):Math.ceil(qu),ip=this.pMatrix.props,Xu=this.rMatrix.props,Ru=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var Su=0;if(qu>0){for(;Su<hp;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Su+=1;np&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,np,!1),Su+=np)}else if(qu<0){for(;Su>hp;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Su-=1;np&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-np,!0),Su-=np)}ru=this.data.m===1?0:this._currentCopies-1,gu=this.data.m===1?1:-1,lu=this._currentCopies;for(var wu,vu;lu;){if(Rl=this.elemsData[ru].it,Wl=Rl[Rl.length-1].transform.mProps.v.props,vu=Wl.length,Rl[Rl.length-1].transform.mProps._mdf=!0,Rl[Rl.length-1].transform.op._mdf=!0,Rl[Rl.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(ru/(this._currentCopies-1)),Su!==0){for((ru!==0&&gu===1||ru!==this._currentCopies-1&&gu===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(Xu[0],Xu[1],Xu[2],Xu[3],Xu[4],Xu[5],Xu[6],Xu[7],Xu[8],Xu[9],Xu[10],Xu[11],Xu[12],Xu[13],Xu[14],Xu[15]),this.matrix.transform(Ru[0],Ru[1],Ru[2],Ru[3],Ru[4],Ru[5],Ru[6],Ru[7],Ru[8],Ru[9],Ru[10],Ru[11],Ru[12],Ru[13],Ru[14],Ru[15]),this.matrix.transform(ip[0],ip[1],ip[2],ip[3],ip[4],ip[5],ip[6],ip[7],ip[8],ip[9],ip[10],ip[11],ip[12],ip[13],ip[14],ip[15]),wu=0;wu<vu;wu+=1)Wl[wu]=this.matrix.props[wu];this.matrix.reset()}else for(this.matrix.reset(),wu=0;wu<vu;wu+=1)Wl[wu]=this.matrix.props[wu];Su+=1,lu-=1,ru+=gu}}else for(lu=this._currentCopies,ru=0,gu=1;lu;)Rl=this.elemsData[ru].it,Wl=Rl[Rl.length-1].transform.mProps.v.props,Rl[Rl.length-1].transform.mProps._mdf=!1,Rl[Rl.length-1].transform.op._mdf=!1,lu-=1,ru+=gu;return Lu},ju.prototype.addShape=function(){},du.registerModifier("rp",ju);function _d(){this._length=0,this._maxLength=4,this.shapes=yl(this._maxLength)}_d.prototype.addShape=function(Qs){this._length===this._maxLength&&(this.shapes=this.shapes.concat(yl(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=Qs,this._length+=1},_d.prototype.releaseShapes=function(){var Qs;for(Qs=0;Qs<this._length;Qs+=1)Yp.release(this.shapes[Qs]);this._length=0};function Zu(Qs,Rl,Wl,ru){this.elem=Qs,this.frameId=-1,this.dataProps=yl(Rl.length),this.renderer=Wl,this.k=!1,this.dashStr="",this.dashArray=Pl("float32",Rl.length?Rl.length-1:0),this.dashoffset=Pl("float32",1),this.initDynamicPropertyContainer(ru);var gu,lu=Rl.length||0,Lu;for(gu=0;gu<lu;gu+=1)Lu=Dl.getProp(Qs,Rl[gu].v,0,0,this),this.k=Lu.k||this.k,this.dataProps[gu]={n:Rl[gu].n,p:Lu};this.k||this.getValue(!0),this._isAnimated=this.k}Zu.prototype.getValue=function(Qs){if(!(this.elem.globalData.frameId===this.frameId&&!Qs)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||Qs,this._mdf)){var Rl=0,Wl=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),Rl=0;Rl<Wl;Rl+=1)this.dataProps[Rl].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[Rl].p.v:this.dashArray[Rl]=this.dataProps[Rl].p.v:this.dashoffset[0]=this.dataProps[Rl].p.v}},pu([eu],Zu);function tp(Qs,Rl,Wl){this.data=Rl,this.c=Pl("uint8c",Rl.p*4);var ru=Rl.k.k[0].s?Rl.k.k[0].s.length-Rl.p*4:Rl.k.k.length-Rl.p*4;this.o=Pl("float32",ru),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=ru,this.initDynamicPropertyContainer(Wl),this.prop=Dl.getProp(Qs,Rl.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}tp.prototype.comparePoints=function(Qs,Rl){for(var Wl=0,ru=this.o.length/2,gu;Wl<ru;){if(gu=Math.abs(Qs[Wl*4]-Qs[Rl*4+Wl*2]),gu>.01)return!1;Wl+=1}return!0},tp.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var Qs=0,Rl=this.data.k.k.length;Qs<Rl;){if(!this.comparePoints(this.data.k.k[Qs].s,this.data.p))return!1;Qs+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},tp.prototype.getValue=function(Qs){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||Qs){var Rl,Wl=this.data.p*4,ru,gu;for(Rl=0;Rl<Wl;Rl+=1)ru=Rl%4===0?100:255,gu=Math.round(this.prop.v[Rl]*ru),this.c[Rl]!==gu&&(this.c[Rl]=gu,this._cmdf=!Qs);if(this.o.length)for(Wl=this.prop.v.length,Rl=this.data.p*4;Rl<Wl;Rl+=1)ru=Rl%2===0?100:1,gu=Rl%2===0?Math.round(this.prop.v[Rl]*100):this.prop.v[Rl],this.o[Rl-this.data.p*4]!==gu&&(this.o[Rl-this.data.p*4]=gu,this._omdf=!Qs);this._mdf=!Qs}},pu([eu],tp);var hu=function(Qs,Rl,Wl,ru){if(Rl===0)return"";var gu=Qs.o,lu=Qs.i,Lu=Qs.v,Yu,Nu=" M"+ru.applyToPointStringified(Lu[0][0],Lu[0][1]);for(Yu=1;Yu<Rl;Yu+=1)Nu+=" C"+ru.applyToPointStringified(gu[Yu-1][0],gu[Yu-1][1])+" "+ru.applyToPointStringified(lu[Yu][0],lu[Yu][1])+" "+ru.applyToPointStringified(Lu[Yu][0],Lu[Yu][1]);return Wl&&Rl&&(Nu+=" C"+ru.applyToPointStringified(gu[Yu-1][0],gu[Yu-1][1])+" "+ru.applyToPointStringified(lu[0][0],lu[0][1])+" "+ru.applyToPointStringified(Lu[0][0],Lu[0][1]),Nu+="z"),Nu},Xl=function(){function Qs(Rl){this.audios=[],this.audioFactory=Rl,this._volume=1,this._isMuted=!1}return Qs.prototype={addAudio:function(Rl){this.audios.push(Rl)},pause:function(){var Rl,Wl=this.audios.length;for(Rl=0;Rl<Wl;Rl+=1)this.audios[Rl].pause()},resume:function(){var Rl,Wl=this.audios.length;for(Rl=0;Rl<Wl;Rl+=1)this.audios[Rl].resume()},setRate:function(Rl){var Wl,ru=this.audios.length;for(Wl=0;Wl<ru;Wl+=1)this.audios[Wl].setRate(Rl)},createAudio:function(Rl){return this.audioFactory?this.audioFactory(Rl):Howl?new Howl({src:[Rl]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(Rl){this.audioFactory=Rl},setVolume:function(Rl){this._volume=Rl,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var Rl,Wl=this.audios.length;for(Rl=0;Rl<Wl;Rl+=1)this.audios[Rl].volume(this._volume*(this._isMuted?0:1))}},function(){return new Qs}}(),Zl=function(){var Qs=function(){var Ru=Bl("canvas");Ru.width=1,Ru.height=1;var Su=Ru.getContext("2d");return Su.fillStyle="rgba(0,0,0,0)",Su.fillRect(0,0,1,1),Ru}();function Rl(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function Wl(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function ru(Ru,Su,wu){var vu="";if(Ru.e)vu=Ru.p;else if(Su){var ku=Ru.p;ku.indexOf("images/")!==-1&&(ku=ku.split("/")[1]),vu=Su+ku}else vu=wu,vu+=Ru.u?Ru.u:"",vu+=Ru.p;return vu}function gu(Ru){var Su=0,wu=setInterval((function(){var vu=Ru.getBBox();(vu.width||Su>500)&&(this._imageLoaded(),clearInterval(wu)),Su+=1}).bind(this),50)}function lu(Ru){var Su=ru(Ru,this.assetsPath,this.path),wu=Zs("image");Bs?this.testImageLoaded(wu):wu.addEventListener("load",this._imageLoaded,!1),wu.addEventListener("error",(function(){vu.img=Qs,this._imageLoaded()}).bind(this),!1),wu.setAttributeNS("http://www.w3.org/1999/xlink","href",Su),this._elementHelper.append?this._elementHelper.append(wu):this._elementHelper.appendChild(wu);var vu={img:wu,assetData:Ru};return vu}function Lu(Ru){var Su=ru(Ru,this.assetsPath,this.path),wu=Bl("img");wu.crossOrigin="anonymous",wu.addEventListener("load",this._imageLoaded,!1),wu.addEventListener("error",(function(){vu.img=Qs,this._imageLoaded()}).bind(this),!1),wu.src=Su;var vu={img:wu,assetData:Ru};return vu}function Yu(Ru){var Su={assetData:Ru},wu=ru(Ru,this.assetsPath,this.path);return Ll.loadData(wu,(function(vu){Su.img=vu,this._footageLoaded()}).bind(this),(function(){Su.img={},this._footageLoaded()}).bind(this)),Su}function Nu(Ru,Su){this.imagesLoadedCb=Su;var wu,vu=Ru.length;for(wu=0;wu<vu;wu+=1)Ru[wu].layers||(!Ru[wu].t||Ru[wu].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(Ru[wu]))):Ru[wu].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(Ru[wu]))))}function op(Ru){this.path=Ru||""}function rp(Ru){this.assetsPath=Ru||""}function Wu(Ru){for(var Su=0,wu=this.images.length;Su<wu;){if(this.images[Su].assetData===Ru)return this.images[Su].img;Su+=1}return null}function qu(){this.imagesLoadedCb=null,this.images.length=0}function np(){return this.totalImages===this.loadedAssets}function hp(){return this.totalFootages===this.loadedFootagesCount}function ip(Ru,Su){Ru==="svg"?(this._elementHelper=Su,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function Xu(){this._imageLoaded=Rl.bind(this),this._footageLoaded=Wl.bind(this),this.testImageLoaded=gu.bind(this),this.createFootageData=Yu.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return Xu.prototype={loadAssets:Nu,setAssetsPath:rp,setPath:op,loadedImages:np,loadedFootages:hp,destroy:qu,getAsset:Wu,createImgData:Lu,createImageData:lu,imageLoaded:Rl,footageLoaded:Wl,setCacheType:ip},Xu}(),bu=function(){var Qs={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(Qs.maskType=!1),Qs}(),Ou=function(){var Qs={};Qs.createFilter=Rl,Qs.createAlphaToLuminanceFilter=Wl;function Rl(ru,gu){var lu=Zs("filter");return lu.setAttribute("id",ru),gu!==!0&&(lu.setAttribute("filterUnits","objectBoundingBox"),lu.setAttribute("x","0%"),lu.setAttribute("y","0%"),lu.setAttribute("width","100%"),lu.setAttribute("height","100%")),lu}function Wl(){var ru=Zs("feColorMatrix");return ru.setAttribute("type","matrix"),ru.setAttribute("color-interpolation-filters","sRGB"),ru.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),ru}return Qs}();function zu(Qs,Rl,Wl){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=Qs,this._renderType=Rl,this._elem=Wl,this._animatorsData=yl(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(Wl)}zu.prototype.searchProperties=function(){var Qs,Rl=this._textData.a.length,Wl,ru=Dl.getProp;for(Qs=0;Qs<Rl;Qs+=1)Wl=this._textData.a[Qs],this._animatorsData[Qs]=new Qu(this._elem,Wl,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:ru(this._elem,this._textData.p.a,0,0,this),f:ru(this._elem,this._textData.p.f,0,0,this),l:ru(this._elem,this._textData.p.l,0,0,this),r:ru(this._elem,this._textData.p.r,0,0,this),p:ru(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=ru(this._elem,this._textData.m.a,1,0,this)},zu.prototype.getMeasures=function(Qs,Rl){if(this.lettersChangedFlag=Rl,!(!this._mdf&&!this._isFirstFrame&&!Rl&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var Wl=this._moreOptions.alignment.v,ru=this._animatorsData,gu=this._textData,lu=this.mHelper,Lu=this._renderType,Yu=this.renderedLetters.length,Nu,op,rp,Wu,qu=Qs.l,np,hp,ip,Xu,Ru,Su,wu,vu,ku,Fu,Bu,Gu,bp,Pp,Op;if(this._hasMaskedPath){if(Op=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Cp=Op.v;this._pathData.r.v&&(Cp=Cp.reverse()),np={tLength:0,segments:[]},Wu=Cp._length-1;var mp;for(Gu=0,rp=0;rp<Wu;rp+=1)mp=tu.buildBezierData(Cp.v[rp],Cp.v[rp+1],[Cp.o[rp][0]-Cp.v[rp][0],Cp.o[rp][1]-Cp.v[rp][1]],[Cp.i[rp+1][0]-Cp.v[rp+1][0],Cp.i[rp+1][1]-Cp.v[rp+1][1]]),np.tLength+=mp.segmentLength,np.segments.push(mp),Gu+=mp.segmentLength;rp=Wu,Op.v.c&&(mp=tu.buildBezierData(Cp.v[rp],Cp.v[0],[Cp.o[rp][0]-Cp.v[rp][0],Cp.o[rp][1]-Cp.v[rp][1]],[Cp.i[0][0]-Cp.v[0][0],Cp.i[0][1]-Cp.v[0][1]]),np.tLength+=mp.segmentLength,np.segments.push(mp),Gu+=mp.segmentLength),this._pathData.pi=np}if(np=this._pathData.pi,hp=this._pathData.f.v,wu=0,Su=1,Xu=0,Ru=!0,Fu=np.segments,hp<0&&Op.v.c)for(np.tLength<Math.abs(hp)&&(hp=-Math.abs(hp)%np.tLength),wu=Fu.length-1,ku=Fu[wu].points,Su=ku.length-1;hp<0;)hp+=ku[Su].partialLength,Su-=1,Su<0&&(wu-=1,ku=Fu[wu].points,Su=ku.length-1);ku=Fu[wu].points,vu=ku[Su-1],ip=ku[Su],Bu=ip.partialLength}Wu=qu.length,Nu=0,op=0;var Ap=Qs.finalSize*1.2*.714,Sp=!0,Uu,Du,Vu,fp,$p;fp=ru.length;var Ep,om=-1,pm,dm,vm,Sm=hp,xm=wu,_m=Su,Am=-1,bm,wm,$m,Zp,mm,Dm,Nm,Rm,Mm="",Om=this.defaultPropsArray,Bm;if(Qs.j===2||Qs.j===1){var km=0,Fm=0,Um=Qs.j===2?-.5:-1,Tm=0,Vm=!0;for(rp=0;rp<Wu;rp+=1)if(qu[rp].n){for(km&&(km+=Fm);Tm<rp;)qu[Tm].animatorJustifyOffset=km,Tm+=1;km=0,Vm=!0}else{for(Vu=0;Vu<fp;Vu+=1)Uu=ru[Vu].a,Uu.t.propType&&(Vm&&Qs.j===2&&(Fm+=Uu.t.v*Um),Du=ru[Vu].s,Ep=Du.getMult(qu[rp].anIndexes[Vu],gu.a[Vu].s.totalChars),Ep.length?km+=Uu.t.v*Ep[0]*Um:km+=Uu.t.v*Ep*Um);Vm=!1}for(km&&(km+=Fm);Tm<rp;)qu[Tm].animatorJustifyOffset=km,Tm+=1}for(rp=0;rp<Wu;rp+=1){if(lu.reset(),bm=1,qu[rp].n)Nu=0,op+=Qs.yOffset,op+=Sp?1:0,hp=Sm,Sp=!1,this._hasMaskedPath&&(wu=xm,Su=_m,ku=Fu[wu].points,vu=ku[Su-1],ip=ku[Su],Bu=ip.partialLength,Xu=0),Mm="",Rm="",Dm="",Bm="",Om=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Am!==qu[rp].line){switch(Qs.j){case 1:hp+=Gu-Qs.lineWidths[qu[rp].line];break;case 2:hp+=(Gu-Qs.lineWidths[qu[rp].line])/2;break}Am=qu[rp].line}om!==qu[rp].ind&&(qu[om]&&(hp+=qu[om].extra),hp+=qu[rp].an/2,om=qu[rp].ind),hp+=Wl[0]*qu[rp].an*.005;var Cm=0;for(Vu=0;Vu<fp;Vu+=1)Uu=ru[Vu].a,Uu.p.propType&&(Du=ru[Vu].s,Ep=Du.getMult(qu[rp].anIndexes[Vu],gu.a[Vu].s.totalChars),Ep.length?Cm+=Uu.p.v[0]*Ep[0]:Cm+=Uu.p.v[0]*Ep),Uu.a.propType&&(Du=ru[Vu].s,Ep=Du.getMult(qu[rp].anIndexes[Vu],gu.a[Vu].s.totalChars),Ep.length?Cm+=Uu.a.v[0]*Ep[0]:Cm+=Uu.a.v[0]*Ep);for(Ru=!0,this._pathData.a.v&&(hp=qu[0].an*.5+(Gu-this._pathData.f.v-qu[0].an*.5-qu[qu.length-1].an*.5)*om/(Wu-1),hp+=this._pathData.f.v);Ru;)Xu+Bu>=hp+Cm||!ku?(bp=(hp+Cm-Xu)/ip.partialLength,dm=vu.point[0]+(ip.point[0]-vu.point[0])*bp,vm=vu.point[1]+(ip.point[1]-vu.point[1])*bp,lu.translate(-Wl[0]*qu[rp].an*.005,-(Wl[1]*Ap)*.01),Ru=!1):ku&&(Xu+=ip.partialLength,Su+=1,Su>=ku.length&&(Su=0,wu+=1,Fu[wu]?ku=Fu[wu].points:Op.v.c?(Su=0,wu=0,ku=Fu[wu].points):(Xu-=ip.partialLength,ku=null)),ku&&(vu=ip,ip=ku[Su],Bu=ip.partialLength));pm=qu[rp].an/2-qu[rp].add,lu.translate(-pm,0,0)}else pm=qu[rp].an/2-qu[rp].add,lu.translate(-pm,0,0),lu.translate(-Wl[0]*qu[rp].an*.005,-Wl[1]*Ap*.01,0);for(Vu=0;Vu<fp;Vu+=1)Uu=ru[Vu].a,Uu.t.propType&&(Du=ru[Vu].s,Ep=Du.getMult(qu[rp].anIndexes[Vu],gu.a[Vu].s.totalChars),(Nu!==0||Qs.j!==0)&&(this._hasMaskedPath?Ep.length?hp+=Uu.t.v*Ep[0]:hp+=Uu.t.v*Ep:Ep.length?Nu+=Uu.t.v*Ep[0]:Nu+=Uu.t.v*Ep));for(Qs.strokeWidthAnim&&($m=Qs.sw||0),Qs.strokeColorAnim&&(Qs.sc?wm=[Qs.sc[0],Qs.sc[1],Qs.sc[2]]:wm=[0,0,0]),Qs.fillColorAnim&&Qs.fc&&(Zp=[Qs.fc[0],Qs.fc[1],Qs.fc[2]]),Vu=0;Vu<fp;Vu+=1)Uu=ru[Vu].a,Uu.a.propType&&(Du=ru[Vu].s,Ep=Du.getMult(qu[rp].anIndexes[Vu],gu.a[Vu].s.totalChars),Ep.length?lu.translate(-Uu.a.v[0]*Ep[0],-Uu.a.v[1]*Ep[1],Uu.a.v[2]*Ep[2]):lu.translate(-Uu.a.v[0]*Ep,-Uu.a.v[1]*Ep,Uu.a.v[2]*Ep));for(Vu=0;Vu<fp;Vu+=1)Uu=ru[Vu].a,Uu.s.propType&&(Du=ru[Vu].s,Ep=Du.getMult(qu[rp].anIndexes[Vu],gu.a[Vu].s.totalChars),Ep.length?lu.scale(1+(Uu.s.v[0]-1)*Ep[0],1+(Uu.s.v[1]-1)*Ep[1],1):lu.scale(1+(Uu.s.v[0]-1)*Ep,1+(Uu.s.v[1]-1)*Ep,1));for(Vu=0;Vu<fp;Vu+=1){if(Uu=ru[Vu].a,Du=ru[Vu].s,Ep=Du.getMult(qu[rp].anIndexes[Vu],gu.a[Vu].s.totalChars),Uu.sk.propType&&(Ep.length?lu.skewFromAxis(-Uu.sk.v*Ep[0],Uu.sa.v*Ep[1]):lu.skewFromAxis(-Uu.sk.v*Ep,Uu.sa.v*Ep)),Uu.r.propType&&(Ep.length?lu.rotateZ(-Uu.r.v*Ep[2]):lu.rotateZ(-Uu.r.v*Ep)),Uu.ry.propType&&(Ep.length?lu.rotateY(Uu.ry.v*Ep[1]):lu.rotateY(Uu.ry.v*Ep)),Uu.rx.propType&&(Ep.length?lu.rotateX(Uu.rx.v*Ep[0]):lu.rotateX(Uu.rx.v*Ep)),Uu.o.propType&&(Ep.length?bm+=(Uu.o.v*Ep[0]-bm)*Ep[0]:bm+=(Uu.o.v*Ep-bm)*Ep),Qs.strokeWidthAnim&&Uu.sw.propType&&(Ep.length?$m+=Uu.sw.v*Ep[0]:$m+=Uu.sw.v*Ep),Qs.strokeColorAnim&&Uu.sc.propType)for(mm=0;mm<3;mm+=1)Ep.length?wm[mm]+=(Uu.sc.v[mm]-wm[mm])*Ep[0]:wm[mm]+=(Uu.sc.v[mm]-wm[mm])*Ep;if(Qs.fillColorAnim&&Qs.fc){if(Uu.fc.propType)for(mm=0;mm<3;mm+=1)Ep.length?Zp[mm]+=(Uu.fc.v[mm]-Zp[mm])*Ep[0]:Zp[mm]+=(Uu.fc.v[mm]-Zp[mm])*Ep;Uu.fh.propType&&(Ep.length?Zp=Fl(Zp,Uu.fh.v*Ep[0]):Zp=Fl(Zp,Uu.fh.v*Ep)),Uu.fs.propType&&(Ep.length?Zp=Ol(Zp,Uu.fs.v*Ep[0]):Zp=Ol(Zp,Uu.fs.v*Ep)),Uu.fb.propType&&(Ep.length?Zp=Gl(Zp,Uu.fb.v*Ep[0]):Zp=Gl(Zp,Uu.fb.v*Ep))}}for(Vu=0;Vu<fp;Vu+=1)Uu=ru[Vu].a,Uu.p.propType&&(Du=ru[Vu].s,Ep=Du.getMult(qu[rp].anIndexes[Vu],gu.a[Vu].s.totalChars),this._hasMaskedPath?Ep.length?lu.translate(0,Uu.p.v[1]*Ep[0],-Uu.p.v[2]*Ep[1]):lu.translate(0,Uu.p.v[1]*Ep,-Uu.p.v[2]*Ep):Ep.length?lu.translate(Uu.p.v[0]*Ep[0],Uu.p.v[1]*Ep[1],-Uu.p.v[2]*Ep[2]):lu.translate(Uu.p.v[0]*Ep,Uu.p.v[1]*Ep,-Uu.p.v[2]*Ep));if(Qs.strokeWidthAnim&&(Dm=$m<0?0:$m),Qs.strokeColorAnim&&(Nm="rgb("+Math.round(wm[0]*255)+","+Math.round(wm[1]*255)+","+Math.round(wm[2]*255)+")"),Qs.fillColorAnim&&Qs.fc&&(Rm="rgb("+Math.round(Zp[0]*255)+","+Math.round(Zp[1]*255)+","+Math.round(Zp[2]*255)+")"),this._hasMaskedPath){if(lu.translate(0,-Qs.ls),lu.translate(0,Wl[1]*Ap*.01+op,0),this._pathData.p.v){Pp=(ip.point[1]-vu.point[1])/(ip.point[0]-vu.point[0]);var zm=Math.atan(Pp)*180/Math.PI;ip.point[0]<vu.point[0]&&(zm+=180),lu.rotate(-zm*Math.PI/180)}lu.translate(dm,vm,0),hp-=Wl[0]*qu[rp].an*.005,qu[rp+1]&&om!==qu[rp+1].ind&&(hp+=qu[rp].an/2,hp+=Qs.tr*.001*Qs.finalSize)}else{switch(lu.translate(Nu,op,0),Qs.ps&&lu.translate(Qs.ps[0],Qs.ps[1]+Qs.ascent,0),Qs.j){case 1:lu.translate(qu[rp].animatorJustifyOffset+Qs.justifyOffset+(Qs.boxWidth-Qs.lineWidths[qu[rp].line]),0,0);break;case 2:lu.translate(qu[rp].animatorJustifyOffset+Qs.justifyOffset+(Qs.boxWidth-Qs.lineWidths[qu[rp].line])/2,0,0);break}lu.translate(0,-Qs.ls),lu.translate(pm,0,0),lu.translate(Wl[0]*qu[rp].an*.005,Wl[1]*Ap*.01,0),Nu+=qu[rp].l+Qs.tr*.001*Qs.finalSize}Lu==="html"?Mm=lu.toCSS():Lu==="svg"?Mm=lu.to2dCSS():Om=[lu.props[0],lu.props[1],lu.props[2],lu.props[3],lu.props[4],lu.props[5],lu.props[6],lu.props[7],lu.props[8],lu.props[9],lu.props[10],lu.props[11],lu.props[12],lu.props[13],lu.props[14],lu.props[15]],Bm=bm}Yu<=rp?($p=new _p(Bm,Dm,Nm,Rm,Mm,Om),this.renderedLetters.push($p),Yu+=1,this.lettersChangedFlag=!0):($p=this.renderedLetters[rp],this.lettersChangedFlag=$p.update(Bm,Dm,Nm,Rm,Mm,Om)||this.lettersChangedFlag)}}},zu.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},zu.prototype.mHelper=new zl,zu.prototype.defaultPropsArray=[],pu([eu],zu);function Qu(Qs,Rl,Wl){var ru={propType:!1},gu=Dl.getProp,lu=Rl.a;this.a={r:lu.r?gu(Qs,lu.r,0,Sl,Wl):ru,rx:lu.rx?gu(Qs,lu.rx,0,Sl,Wl):ru,ry:lu.ry?gu(Qs,lu.ry,0,Sl,Wl):ru,sk:lu.sk?gu(Qs,lu.sk,0,Sl,Wl):ru,sa:lu.sa?gu(Qs,lu.sa,0,Sl,Wl):ru,s:lu.s?gu(Qs,lu.s,1,.01,Wl):ru,a:lu.a?gu(Qs,lu.a,1,0,Wl):ru,o:lu.o?gu(Qs,lu.o,0,.01,Wl):ru,p:lu.p?gu(Qs,lu.p,1,0,Wl):ru,sw:lu.sw?gu(Qs,lu.sw,0,0,Wl):ru,sc:lu.sc?gu(Qs,lu.sc,1,0,Wl):ru,fc:lu.fc?gu(Qs,lu.fc,1,0,Wl):ru,fh:lu.fh?gu(Qs,lu.fh,0,0,Wl):ru,fs:lu.fs?gu(Qs,lu.fs,0,.01,Wl):ru,fb:lu.fb?gu(Qs,lu.fb,0,.01,Wl):ru,t:lu.t?gu(Qs,lu.t,0,0,Wl):ru},this.s=kp.getTextSelectorProp(Qs,Rl.s,Wl),this.s.t=Rl.s.t}function _p(Qs,Rl,Wl,ru,gu,lu){this.o=Qs,this.sw=Rl,this.sc=Wl,this.fc=ru,this.m=gu,this.p=lu,this._mdf={o:!0,sw:!!Rl,sc:!!Wl,fc:!!ru,m:!0,p:!0}}_p.prototype.update=function(Qs,Rl,Wl,ru,gu,lu){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var Lu=!1;return this.o!==Qs&&(this.o=Qs,this._mdf.o=!0,Lu=!0),this.sw!==Rl&&(this.sw=Rl,this._mdf.sw=!0,Lu=!0),this.sc!==Wl&&(this.sc=Wl,this._mdf.sc=!0,Lu=!0),this.fc!==ru&&(this.fc=ru,this._mdf.fc=!0,Lu=!0),this.m!==gu&&(this.m=gu,this._mdf.m=!0,Lu=!0),lu.length&&(this.p[0]!==lu[0]||this.p[1]!==lu[1]||this.p[4]!==lu[4]||this.p[5]!==lu[5]||this.p[12]!==lu[12]||this.p[13]!==lu[13])&&(this.p=lu,this._mdf.p=!0,Lu=!0),Lu};function dp(Qs,Rl){this._frameId=Es,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=Rl,this.elem=Qs,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}dp.prototype.defaultBoxWidth=[0,0],dp.prototype.copyData=function(Qs,Rl){for(var Wl in Rl)Object.prototype.hasOwnProperty.call(Rl,Wl)&&(Qs[Wl]=Rl[Wl]);return Qs},dp.prototype.setCurrentData=function(Qs){Qs.__complete||this.completeTextData(Qs),this.currentData=Qs,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},dp.prototype.searchProperty=function(){return this.searchKeyframes()},dp.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},dp.prototype.addEffect=function(Qs){this.effectsSequence.push(Qs),this.elem.addDynamicProperty(this)},dp.prototype.getValue=function(Qs){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!Qs)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var Rl=this.currentData,Wl=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var ru,gu=this.effectsSequence.length,lu=Qs||this.data.d.k[this.keysIndex].s;for(ru=0;ru<gu;ru+=1)Wl!==this.keysIndex?lu=this.effectsSequence[ru](lu,lu.t):lu=this.effectsSequence[ru](this.currentData,lu.t);Rl!==lu&&this.setCurrentData(lu),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},dp.prototype.getKeyframeValue=function(){for(var Qs=this.data.d.k,Rl=this.elem.comp.renderedFrame,Wl=0,ru=Qs.length;Wl<=ru-1&&!(Wl===ru-1||Qs[Wl+1].t>Rl);)Wl+=1;return this.keysIndex!==Wl&&(this.keysIndex=Wl),this.data.d.k[this.keysIndex].s},dp.prototype.buildFinalText=function(Qs){for(var Rl=[],Wl=0,ru=Qs.length,gu,lu,Lu=!1;Wl<ru;)gu=Qs.charCodeAt(Wl),Hl.isCombinedCharacter(gu)?Rl[Rl.length-1]+=Qs.charAt(Wl):gu>=55296&&gu<=56319?(lu=Qs.charCodeAt(Wl+1),lu>=56320&&lu<=57343?(Lu||Hl.isModifier(gu,lu)?(Rl[Rl.length-1]+=Qs.substr(Wl,2),Lu=!1):Rl.push(Qs.substr(Wl,2)),Wl+=1):Rl.push(Qs.charAt(Wl))):gu>56319?(lu=Qs.charCodeAt(Wl+1),Hl.isZeroWidthJoiner(gu,lu)?(Lu=!0,Rl[Rl.length-1]+=Qs.substr(Wl,2),Wl+=1):Rl.push(Qs.charAt(Wl))):Hl.isZeroWidthJoiner(gu)?(Rl[Rl.length-1]+=Qs.charAt(Wl),Lu=!0):Rl.push(Qs.charAt(Wl)),Wl+=1;return Rl},dp.prototype.completeTextData=function(Qs){Qs.__complete=!0;var Rl=this.elem.globalData.fontManager,Wl=this.data,ru=[],gu,lu,Lu,Yu=0,Nu,op=Wl.m.g,rp=0,Wu=0,qu=0,np=[],hp=0,ip=0,Xu,Ru,Su=Rl.getFontByName(Qs.f),wu,vu=0,ku=Tl(Su);Qs.fWeight=ku.weight,Qs.fStyle=ku.style,Qs.finalSize=Qs.s,Qs.finalText=this.buildFinalText(Qs.t),lu=Qs.finalText.length,Qs.finalLineHeight=Qs.lh;var Fu=Qs.tr/1e3*Qs.finalSize,Bu;if(Qs.sz)for(var Gu=!0,bp=Qs.sz[0],Pp=Qs.sz[1],Op,Cp;Gu;){Cp=this.buildFinalText(Qs.t),Op=0,hp=0,lu=Cp.length,Fu=Qs.tr/1e3*Qs.finalSize;var mp=-1;for(gu=0;gu<lu;gu+=1)Bu=Cp[gu].charCodeAt(0),Lu=!1,Cp[gu]===" "?mp=gu:(Bu===13||Bu===3)&&(hp=0,Lu=!0,Op+=Qs.finalLineHeight||Qs.finalSize*1.2),Rl.chars?(wu=Rl.getCharData(Cp[gu],Su.fStyle,Su.fFamily),vu=Lu?0:wu.w*Qs.finalSize/100):vu=Rl.measureText(Cp[gu],Qs.f,Qs.finalSize),hp+vu>bp&&Cp[gu]!==" "?(mp===-1?lu+=1:gu=mp,Op+=Qs.finalLineHeight||Qs.finalSize*1.2,Cp.splice(gu,mp===gu?1:0,"\r"),mp=-1,hp=0):(hp+=vu,hp+=Fu);Op+=Su.ascent*Qs.finalSize/100,this.canResize&&Qs.finalSize>this.minimumFontSize&&Pp<Op?(Qs.finalSize-=1,Qs.finalLineHeight=Qs.finalSize*Qs.lh/Qs.s):(Qs.finalText=Cp,lu=Qs.finalText.length,Gu=!1)}hp=-Fu,vu=0;var Ap=0,Sp;for(gu=0;gu<lu;gu+=1)if(Lu=!1,Sp=Qs.finalText[gu],Bu=Sp.charCodeAt(0),Bu===13||Bu===3?(Ap=0,np.push(hp),ip=hp>ip?hp:ip,hp=-2*Fu,Nu="",Lu=!0,qu+=1):Nu=Sp,Rl.chars?(wu=Rl.getCharData(Sp,Su.fStyle,Rl.getFontByName(Qs.f).fFamily),vu=Lu?0:wu.w*Qs.finalSize/100):vu=Rl.measureText(Nu,Qs.f,Qs.finalSize),Sp===" "?Ap+=vu+Fu:(hp+=vu+Fu+Ap,Ap=0),ru.push({l:vu,an:vu,add:rp,n:Lu,anIndexes:[],val:Nu,line:qu,animatorJustifyOffset:0}),op==2){if(rp+=vu,Nu===""||Nu===" "||gu===lu-1){for((Nu===""||Nu===" ")&&(rp-=vu);Wu<=gu;)ru[Wu].an=rp,ru[Wu].ind=Yu,ru[Wu].extra=vu,Wu+=1;Yu+=1,rp=0}}else if(op==3){if(rp+=vu,Nu===""||gu===lu-1){for(Nu===""&&(rp-=vu);Wu<=gu;)ru[Wu].an=rp,ru[Wu].ind=Yu,ru[Wu].extra=vu,Wu+=1;rp=0,Yu+=1}}else ru[Yu].ind=Yu,ru[Yu].extra=0,Yu+=1;if(Qs.l=ru,ip=hp>ip?hp:ip,np.push(hp),Qs.sz)Qs.boxWidth=Qs.sz[0],Qs.justifyOffset=0;else switch(Qs.boxWidth=ip,Qs.j){case 1:Qs.justifyOffset=-Qs.boxWidth;break;case 2:Qs.justifyOffset=-Qs.boxWidth/2;break;default:Qs.justifyOffset=0}Qs.lineWidths=np;var Uu=Wl.a,Du,Vu;Ru=Uu.length;var fp,$p,Ep=[];for(Xu=0;Xu<Ru;Xu+=1){for(Du=Uu[Xu],Du.a.sc&&(Qs.strokeColorAnim=!0),Du.a.sw&&(Qs.strokeWidthAnim=!0),(Du.a.fc||Du.a.fh||Du.a.fs||Du.a.fb)&&(Qs.fillColorAnim=!0),$p=0,fp=Du.s.b,gu=0;gu<lu;gu+=1)Vu=ru[gu],Vu.anIndexes[Xu]=$p,(fp==1&&Vu.val!==""||fp==2&&Vu.val!==""&&Vu.val!==" "||fp==3&&(Vu.n||Vu.val==" "||gu==lu-1)||fp==4&&(Vu.n||gu==lu-1))&&(Du.s.rn===1&&Ep.push($p),$p+=1);Wl.a[Xu].s.totalChars=$p;var om=-1,pm;if(Du.s.rn===1)for(gu=0;gu<lu;gu+=1)Vu=ru[gu],om!=Vu.anIndexes[Xu]&&(om=Vu.anIndexes[Xu],pm=Ep.splice(Math.floor(Math.random()*Ep.length),1)[0]),Vu.anIndexes[Xu]=pm}Qs.yOffset=Qs.finalLineHeight||Qs.finalSize*1.2,Qs.ls=Qs.ls||0,Qs.ascent=Su.ascent*Qs.finalSize/100},dp.prototype.updateDocumentData=function(Qs,Rl){Rl=Rl===void 0?this.keysIndex:Rl;var Wl=this.copyData({},this.data.d.k[Rl].s);Wl=this.copyData(Wl,Qs),this.data.d.k[Rl].s=Wl,this.recalculate(Rl),this.elem.addDynamicProperty(this)},dp.prototype.recalculate=function(Qs){var Rl=this.data.d.k[Qs].s;Rl.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(Rl)},dp.prototype.canResizeFont=function(Qs){this.canResize=Qs,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},dp.prototype.setMinimumFontSize=function(Qs){this.minimumFontSize=Math.floor(Qs)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var kp=function(){var Qs=Math.max,Rl=Math.min,Wl=Math.floor;function ru(lu,Lu){this._currentTextLength=-1,this.k=!1,this.data=Lu,this.elem=lu,this.comp=lu.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(lu),this.s=Dl.getProp(lu,Lu.s||{k:0},0,0,this),"e"in Lu?this.e=Dl.getProp(lu,Lu.e,0,0,this):this.e={v:100},this.o=Dl.getProp(lu,Lu.o||{k:0},0,0,this),this.xe=Dl.getProp(lu,Lu.xe||{k:0},0,0,this),this.ne=Dl.getProp(lu,Lu.ne||{k:0},0,0,this),this.sm=Dl.getProp(lu,Lu.sm||{k:100},0,0,this),this.a=Dl.getProp(lu,Lu.a,0,.01,this),this.dynamicProperties.length||this.getValue()}ru.prototype={getMult:function(lu){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var Lu=0,Yu=0,Nu=1,op=1;this.ne.v>0?Lu=this.ne.v/100:Yu=-this.ne.v/100,this.xe.v>0?Nu=1-this.xe.v/100:op=1+this.xe.v/100;var rp=ou.getBezierEasing(Lu,Yu,Nu,op).get,Wu=0,qu=this.finalS,np=this.finalE,hp=this.data.sh;if(hp===2)np===qu?Wu=lu>=np?1:0:Wu=Qs(0,Rl(.5/(np-qu)+(lu-qu)/(np-qu),1)),Wu=rp(Wu);else if(hp===3)np===qu?Wu=lu>=np?0:1:Wu=1-Qs(0,Rl(.5/(np-qu)+(lu-qu)/(np-qu),1)),Wu=rp(Wu);else if(hp===4)np===qu?Wu=0:(Wu=Qs(0,Rl(.5/(np-qu)+(lu-qu)/(np-qu),1)),Wu<.5?Wu*=2:Wu=1-2*(Wu-.5)),Wu=rp(Wu);else if(hp===5){if(np===qu)Wu=0;else{var ip=np-qu;lu=Rl(Qs(0,lu+.5-qu),np-qu);var Xu=-ip/2+lu,Ru=ip/2;Wu=Math.sqrt(1-Xu*Xu/(Ru*Ru))}Wu=rp(Wu)}else hp===6?(np===qu?Wu=0:(lu=Rl(Qs(0,lu+.5-qu),np-qu),Wu=(1+Math.cos(Math.PI+Math.PI*2*lu/(np-qu)))/2),Wu=rp(Wu)):(lu>=Wl(qu)&&(lu-qu<0?Wu=Qs(0,Rl(Rl(np,1)-(qu-lu),1)):Wu=Qs(0,Rl(np-lu,1))),Wu=rp(Wu));if(this.sm.v!==100){var Su=this.sm.v*.01;Su===0&&(Su=1e-8);var wu=.5-Su*.5;Wu<wu?Wu=0:(Wu=(Wu-wu)/Su,Wu>1&&(Wu=1))}return Wu*this.a.v},getValue:function(lu){this.iterateDynamicProperties(),this._mdf=lu||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,lu&&this.data.r===2&&(this.e.v=this._currentTextLength);var Lu=this.data.r===2?1:100/this.data.totalChars,Yu=this.o.v/Lu,Nu=this.s.v/Lu+Yu,op=this.e.v/Lu+Yu;if(Nu>op){var rp=Nu;Nu=op,op=rp}this.finalS=Nu,this.finalE=op}},pu([eu],ru);function gu(lu,Lu,Yu){return new ru(lu,Lu)}return{getTextSelectorProp:gu}}(),Dp=function(){return function(Qs,Rl,Wl){var ru=0,gu=Qs,lu=yl(gu),Lu={newElement:Yu,release:Nu};function Yu(){var op;return ru?(ru-=1,op=lu[ru]):op=Rl(),op}function Nu(op){ru===gu&&(lu=Ip.double(lu),gu*=2),Wl&&Wl(op),lu[ru]=op,ru+=1}return Lu}}(),Ip=function(){function Qs(Rl){return Rl.concat(yl(Rl.length))}return{double:Qs}}(),Hp=function(){function Qs(){return Pl("float32",2)}return Dp(8,Qs)}(),Yp=function(){function Qs(){return new cu}function Rl(gu){var lu=gu._length,Lu;for(Lu=0;Lu<lu;Lu+=1)Hp.release(gu.v[Lu]),Hp.release(gu.i[Lu]),Hp.release(gu.o[Lu]),gu.v[Lu]=null,gu.i[Lu]=null,gu.o[Lu]=null;gu._length=0,gu.c=!1}function Wl(gu){var lu=ru.newElement(),Lu,Yu=gu._length===void 0?gu.v.length:gu._length;for(lu.setLength(Yu),lu.c=gu.c,Lu=0;Lu<Yu;Lu+=1)lu.setTripleAt(gu.v[Lu][0],gu.v[Lu][1],gu.o[Lu][0],gu.o[Lu][1],gu.i[Lu][0],gu.i[Lu][1],Lu);return lu}var ru=Dp(4,Qs,Rl);return ru.clone=Wl,ru}(),jp=function(){var Qs={newShapeCollection:gu,release:lu},Rl=0,Wl=4,ru=yl(Wl);function gu(){var Lu;return Rl?(Rl-=1,Lu=ru[Rl]):Lu=new _d,Lu}function lu(Lu){var Yu,Nu=Lu._length;for(Yu=0;Yu<Nu;Yu+=1)Yp.release(Lu.shapes[Yu]);Lu._length=0,Rl===Wl&&(ru=Ip.double(ru),Wl*=2),ru[Rl]=Lu,Rl+=1}return Qs}(),tm=function(){function Qs(){return{lengths:[],totalLength:0}}function Rl(Wl){var ru,gu=Wl.lengths.length;for(ru=0;ru<gu;ru+=1)hm.release(Wl.lengths[ru]);Wl.lengths.length=0}return Dp(8,Qs,Rl)}(),hm=function(){function Qs(){return{addedLength:0,percents:Pl("float32",Cl),lengths:Pl("float32",Cl)}}return Dp(8,Qs)}(),am=function(){function Qs(Rl){for(var Wl=Rl.split(`\r
`),ru={},gu,lu=0,Lu=0;Lu<Wl.length;Lu+=1)gu=Wl[Lu].split(":"),gu.length===2&&(ru[gu[0]]=gu[1].trim(),lu+=1);if(lu===0)throw new Error;return ru}return function(Rl){for(var Wl=[],ru=0;ru<Rl.length;ru+=1){var gu=Rl[ru],lu={time:gu.tm,duration:gu.dr};try{lu.payload=JSON.parse(Rl[ru].cm)}catch{try{lu.payload=Qs(Rl[ru].cm)}catch{lu.payload={name:Rl[ru]}}}Wl.push(lu)}return Wl}}();function Qp(){}Qp.prototype.checkLayers=function(Qs){var Rl,Wl=this.layers.length,ru;for(this.completeLayers=!0,Rl=Wl-1;Rl>=0;Rl-=1)this.elements[Rl]||(ru=this.layers[Rl],ru.ip-ru.st<=Qs-this.layers[Rl].st&&ru.op-ru.st>Qs-this.layers[Rl].st&&this.buildItem(Rl)),this.completeLayers=this.elements[Rl]?this.completeLayers:!1;this.checkPendingElements()},Qp.prototype.createItem=function(Qs){switch(Qs.ty){case 2:return this.createImage(Qs);case 0:return this.createComp(Qs);case 1:return this.createSolid(Qs);case 3:return this.createNull(Qs);case 4:return this.createShape(Qs);case 5:return this.createText(Qs);case 6:return this.createAudio(Qs);case 13:return this.createCamera(Qs);case 15:return this.createFootage(Qs);default:return this.createNull(Qs)}},Qp.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},Qp.prototype.createAudio=function(Qs){return new Wp(Qs,this.globalData,this)},Qp.prototype.createFootage=function(Qs){return new FootageElement(Qs,this.globalData,this)},Qp.prototype.buildAllItems=function(){var Qs,Rl=this.layers.length;for(Qs=0;Qs<Rl;Qs+=1)this.buildItem(Qs);this.checkPendingElements()},Qp.prototype.includeLayers=function(Qs){this.completeLayers=!1;var Rl,Wl=Qs.length,ru,gu=this.layers.length;for(Rl=0;Rl<Wl;Rl+=1)for(ru=0;ru<gu;){if(this.layers[ru].id===Qs[Rl].id){this.layers[ru]=Qs[Rl];break}ru+=1}},Qp.prototype.setProjectInterface=function(Qs){this.globalData.projectInterface=Qs},Qp.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},Qp.prototype.buildElementParenting=function(Qs,Rl,Wl){for(var ru=this.elements,gu=this.layers,lu=0,Lu=gu.length;lu<Lu;)gu[lu].ind==Rl&&(!ru[lu]||ru[lu]===!0?(this.buildItem(lu),this.addPendingElement(Qs)):(Wl.push(ru[lu]),ru[lu].setAsParent(),gu[lu].parent!==void 0?this.buildElementParenting(Qs,gu[lu].parent,Wl):Qs.setHierarchy(Wl))),lu+=1},Qp.prototype.addPendingElement=function(Qs){this.pendingElements.push(Qs)},Qp.prototype.searchExtraCompositions=function(Qs){var Rl,Wl=Qs.length;for(Rl=0;Rl<Wl;Rl+=1)if(Qs[Rl].xt){var ru=this.createComp(Qs[Rl]);ru.initExpressions(),this.globalData.projectInterface.registerComposition(ru)}},Qp.prototype.setupGlobalData=function(Qs,Rl){this.globalData.fontManager=new Hl,this.globalData.fontManager.addChars(Qs.chars),this.globalData.fontManager.addFonts(Qs.fonts,Rl),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=Qs.fr,this.globalData.nm=Qs.nm,this.globalData.compSize={w:Qs.w,h:Qs.h}};function fm(Qs,Rl){this.animationItem=Qs,this.layers=null,this.renderedFrame=-1,this.svgElement=Zs("svg");var Wl="";if(Rl&&Rl.title){var ru=Zs("title"),gu=Jl();ru.setAttribute("id",gu),ru.textContent=Rl.title,this.svgElement.appendChild(ru),Wl+=gu}if(Rl&&Rl.description){var lu=Zs("desc"),Lu=Jl();lu.setAttribute("id",Lu),lu.textContent=Rl.description,this.svgElement.appendChild(lu),Wl+=" "+Lu}Wl&&this.svgElement.setAttribute("aria-labelledby",Wl);var Yu=Zs("defs");this.svgElement.appendChild(Yu);var Nu=Zs("g");this.svgElement.appendChild(Nu),this.layerElement=Nu,this.renderConfig={preserveAspectRatio:Rl&&Rl.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:Rl&&Rl.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:Rl&&Rl.contentVisibility||"visible",progressiveLoad:Rl&&Rl.progressiveLoad||!1,hideOnTransparent:!(Rl&&Rl.hideOnTransparent===!1),viewBoxOnly:Rl&&Rl.viewBoxOnly||!1,viewBoxSize:Rl&&Rl.viewBoxSize||!1,className:Rl&&Rl.className||"",id:Rl&&Rl.id||"",focusable:Rl&&Rl.focusable,filterSize:{width:Rl&&Rl.filterSize&&Rl.filterSize.width||"100%",height:Rl&&Rl.filterSize&&Rl.filterSize.height||"100%",x:Rl&&Rl.filterSize&&Rl.filterSize.x||"0%",y:Rl&&Rl.filterSize&&Rl.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:Yu,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}pu([Qp],fm),fm.prototype.createNull=function(Qs){return new sm(Qs,this.globalData,this)},fm.prototype.createShape=function(Qs){return new Up(Qs,this.globalData,this)},fm.prototype.createText=function(Qs){return new Fp(Qs,this.globalData,this)},fm.prototype.createImage=function(Qs){return new rm(Qs,this.globalData,this)},fm.prototype.createComp=function(Qs){return new nm(Qs,this.globalData,this)},fm.prototype.createSolid=function(Qs){return new em(Qs,this.globalData,this)},fm.prototype.configAnimation=function(Qs){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+Qs.w+" "+Qs.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",Qs.w),this.svgElement.setAttribute("height",Qs.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var Rl=this.globalData.defs;this.setupGlobalData(Qs,Rl),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=Qs;var Wl=Zs("clipPath"),ru=Zs("rect");ru.setAttribute("width",Qs.w),ru.setAttribute("height",Qs.h),ru.setAttribute("x",0),ru.setAttribute("y",0);var gu=Jl();Wl.setAttribute("id",gu),Wl.appendChild(ru),this.layerElement.setAttribute("clip-path","url("+Ss+"#"+gu+")"),Rl.appendChild(Wl),this.layers=Qs.layers,this.elements=yl(Qs.layers.length)},fm.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var Qs,Rl=this.layers?this.layers.length:0;for(Qs=0;Qs<Rl;Qs+=1)this.elements[Qs]&&this.elements[Qs].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},fm.prototype.updateContainerSize=function(){},fm.prototype.buildItem=function(Qs){var Rl=this.elements;if(!(Rl[Qs]||this.layers[Qs].ty===99)){Rl[Qs]=!0;var Wl=this.createItem(this.layers[Qs]);Rl[Qs]=Wl,Rs&&(this.layers[Qs].ty===0&&this.globalData.projectInterface.registerComposition(Wl),Wl.initExpressions()),this.appendElementInPos(Wl,Qs),this.layers[Qs].tt&&(!this.elements[Qs-1]||this.elements[Qs-1]===!0?(this.buildItem(Qs-1),this.addPendingElement(Wl)):Wl.setMatte(Rl[Qs-1].layerId))}},fm.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var Qs=this.pendingElements.pop();if(Qs.checkParenting(),Qs.data.tt)for(var Rl=0,Wl=this.elements.length;Rl<Wl;){if(this.elements[Rl]===Qs){Qs.setMatte(this.elements[Rl-1].layerId);break}Rl+=1}}},fm.prototype.renderFrame=function(Qs){if(!(this.renderedFrame===Qs||this.destroyed)){Qs===null?Qs=this.renderedFrame:this.renderedFrame=Qs,this.globalData.frameNum=Qs,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=Qs,this.globalData._mdf=!1;var Rl,Wl=this.layers.length;for(this.completeLayers||this.checkLayers(Qs),Rl=Wl-1;Rl>=0;Rl-=1)(this.completeLayers||this.elements[Rl])&&this.elements[Rl].prepareFrame(Qs-this.layers[Rl].st);if(this.globalData._mdf)for(Rl=0;Rl<Wl;Rl+=1)(this.completeLayers||this.elements[Rl])&&this.elements[Rl].renderFrame()}},fm.prototype.appendElementInPos=function(Qs,Rl){var Wl=Qs.getBaseElement();if(Wl){for(var ru=0,gu;ru<Rl;)this.elements[ru]&&this.elements[ru]!==!0&&this.elements[ru].getBaseElement()&&(gu=this.elements[ru].getBaseElement()),ru+=1;gu?this.layerElement.insertBefore(Wl,gu):this.layerElement.appendChild(Wl)}},fm.prototype.hide=function(){this.layerElement.style.display="none"},fm.prototype.show=function(){this.layerElement.style.display="block"};function cm(Qs,Rl,Wl){this.data=Qs,this.element=Rl,this.globalData=Wl,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var ru=this.globalData.defs,gu,lu=this.masksProperties?this.masksProperties.length:0;this.viewData=yl(lu),this.solidPath="";var Lu,Yu=this.masksProperties,Nu=0,op=[],rp,Wu,qu=Jl(),np,hp,ip,Xu,Ru="clipPath",Su="clip-path";for(gu=0;gu<lu;gu+=1)if((Yu[gu].mode!=="a"&&Yu[gu].mode!=="n"||Yu[gu].inv||Yu[gu].o.k!==100||Yu[gu].o.x)&&(Ru="mask",Su="mask"),(Yu[gu].mode==="s"||Yu[gu].mode==="i")&&Nu===0?(np=Zs("rect"),np.setAttribute("fill","#ffffff"),np.setAttribute("width",this.element.comp.data.w||0),np.setAttribute("height",this.element.comp.data.h||0),op.push(np)):np=null,Lu=Zs("path"),Yu[gu].mode==="n")this.viewData[gu]={op:Dl.getProp(this.element,Yu[gu].o,0,.01,this.element),prop:iu.getShapeProp(this.element,Yu[gu],3),elem:Lu,lastPath:""},ru.appendChild(Lu);else{Nu+=1,Lu.setAttribute("fill",Yu[gu].mode==="s"?"#000000":"#ffffff"),Lu.setAttribute("clip-rule","nonzero");var wu;if(Yu[gu].x.k!==0?(Ru="mask",Su="mask",Xu=Dl.getProp(this.element,Yu[gu].x,0,null,this.element),wu=Jl(),hp=Zs("filter"),hp.setAttribute("id",wu),ip=Zs("feMorphology"),ip.setAttribute("operator","erode"),ip.setAttribute("in","SourceGraphic"),ip.setAttribute("radius","0"),hp.appendChild(ip),ru.appendChild(hp),Lu.setAttribute("stroke",Yu[gu].mode==="s"?"#000000":"#ffffff")):(ip=null,Xu=null),this.storedData[gu]={elem:Lu,x:Xu,expan:ip,lastPath:"",lastOperator:"",filterId:wu,lastRadius:0},Yu[gu].mode==="i"){Wu=op.length;var vu=Zs("g");for(rp=0;rp<Wu;rp+=1)vu.appendChild(op[rp]);var ku=Zs("mask");ku.setAttribute("mask-type","alpha"),ku.setAttribute("id",qu+"_"+Nu),ku.appendChild(Lu),ru.appendChild(ku),vu.setAttribute("mask","url("+Ss+"#"+qu+"_"+Nu+")"),op.length=0,op.push(vu)}else op.push(Lu);Yu[gu].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[gu]={elem:Lu,lastPath:"",op:Dl.getProp(this.element,Yu[gu].o,0,.01,this.element),prop:iu.getShapeProp(this.element,Yu[gu],3),invRect:np},this.viewData[gu].prop.k||this.drawPath(Yu[gu],this.viewData[gu].prop.v,this.viewData[gu])}for(this.maskElement=Zs(Ru),lu=op.length,gu=0;gu<lu;gu+=1)this.maskElement.appendChild(op[gu]);Nu>0&&(this.maskElement.setAttribute("id",qu),this.element.maskedElement.setAttribute(Su,"url("+Ss+"#"+qu+")"),ru.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}cm.prototype.getMaskProperty=function(Qs){return this.viewData[Qs].prop},cm.prototype.renderFrame=function(Qs){var Rl=this.element.finalTransform.mat,Wl,ru=this.masksProperties.length;for(Wl=0;Wl<ru;Wl+=1)if((this.viewData[Wl].prop._mdf||Qs)&&this.drawPath(this.masksProperties[Wl],this.viewData[Wl].prop.v,this.viewData[Wl]),(this.viewData[Wl].op._mdf||Qs)&&this.viewData[Wl].elem.setAttribute("fill-opacity",this.viewData[Wl].op.v),this.masksProperties[Wl].mode!=="n"&&(this.viewData[Wl].invRect&&(this.element.finalTransform.mProp._mdf||Qs)&&this.viewData[Wl].invRect.setAttribute("transform",Rl.getInverseMatrix().to2dCSS()),this.storedData[Wl].x&&(this.storedData[Wl].x._mdf||Qs))){var gu=this.storedData[Wl].expan;this.storedData[Wl].x.v<0?(this.storedData[Wl].lastOperator!=="erode"&&(this.storedData[Wl].lastOperator="erode",this.storedData[Wl].elem.setAttribute("filter","url("+Ss+"#"+this.storedData[Wl].filterId+")")),gu.setAttribute("radius",-this.storedData[Wl].x.v)):(this.storedData[Wl].lastOperator!=="dilate"&&(this.storedData[Wl].lastOperator="dilate",this.storedData[Wl].elem.setAttribute("filter",null)),this.storedData[Wl].elem.setAttribute("stroke-width",this.storedData[Wl].x.v*2))}},cm.prototype.getMaskelement=function(){return this.maskElement},cm.prototype.createLayerSolidPath=function(){var Qs="M0,0 ";return Qs+=" h"+this.globalData.compSize.w,Qs+=" v"+this.globalData.compSize.h,Qs+=" h-"+this.globalData.compSize.w,Qs+=" v-"+this.globalData.compSize.h+" ",Qs},cm.prototype.drawPath=function(Qs,Rl,Wl){var ru=" M"+Rl.v[0][0]+","+Rl.v[0][1],gu,lu;for(lu=Rl._length,gu=1;gu<lu;gu+=1)ru+=" C"+Rl.o[gu-1][0]+","+Rl.o[gu-1][1]+" "+Rl.i[gu][0]+","+Rl.i[gu][1]+" "+Rl.v[gu][0]+","+Rl.v[gu][1];if(Rl.c&&lu>1&&(ru+=" C"+Rl.o[gu-1][0]+","+Rl.o[gu-1][1]+" "+Rl.i[0][0]+","+Rl.i[0][1]+" "+Rl.v[0][0]+","+Rl.v[0][1]),Wl.lastPath!==ru){var Lu="";Wl.elem&&(Rl.c&&(Lu=Qs.inv?this.solidPath+ru:ru),Wl.elem.setAttribute("d",Lu)),Wl.lastPath=ru}},cm.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};function lm(){}lm.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(Qs){this.hierarchy=Qs},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function gm(){}gm.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(Qs,Rl){var Wl,ru=this.dynamicProperties.length;for(Wl=0;Wl<ru;Wl+=1)(Rl||this._isParent&&this.dynamicProperties[Wl].propType==="transform")&&(this.dynamicProperties[Wl].getValue(),this.dynamicProperties[Wl]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(Qs){this.dynamicProperties.indexOf(Qs)===-1&&this.dynamicProperties.push(Qs)}};function um(){}um.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?Kl.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new zl},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var Qs,Rl=this.finalTransform.mat,Wl=0,ru=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;Wl<ru;){if(this.hierarchy[Wl].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}Wl+=1}if(this.finalTransform._matMdf)for(Qs=this.finalTransform.mProp.v.props,Rl.cloneFromProps(Qs),Wl=0;Wl<ru;Wl+=1)Qs=this.hierarchy[Wl].finalTransform.mProp.v.props,Rl.transform(Qs[0],Qs[1],Qs[2],Qs[3],Qs[4],Qs[5],Qs[6],Qs[7],Qs[8],Qs[9],Qs[10],Qs[11],Qs[12],Qs[13],Qs[14],Qs[15])}},globalToLocal:function(Qs){var Rl=[];Rl.push(this.finalTransform);for(var Wl=!0,ru=this.comp;Wl;)ru.finalTransform?(ru.data.hasMask&&Rl.splice(0,0,ru.finalTransform),ru=ru.comp):Wl=!1;var gu,lu=Rl.length,Lu;for(gu=0;gu<lu;gu+=1)Lu=Rl[gu].mat.applyToPointArray(0,0,0),Qs=[Qs[0]-Lu[0],Qs[1]-Lu[1],0];return Qs},mHelper:new zl};function im(){}im.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(Qs){this.renderableComponents.indexOf(Qs)===-1&&this.renderableComponents.push(Qs)},removeRenderableComponent:function(Qs){this.renderableComponents.indexOf(Qs)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(Qs),1)},prepareRenderableFrame:function(Qs){this.checkLayerLimits(Qs)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(Qs){this.data.ip-this.data.st<=Qs&&this.data.op-this.data.st>Qs?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var Qs,Rl=this.renderableComponents.length;for(Qs=0;Qs<Rl;Qs+=1)this.renderableComponents[Qs].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};function ym(){}(function(){var Qs={initElement:function(Rl,Wl,ru){this.initFrame(),this.initBaseData(Rl,Wl,ru),this.initTransform(Rl,Wl,ru),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var Rl=this.baseElement||this.layerElement;Rl.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var Rl=this.baseElement||this.layerElement;Rl.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(Rl){this._mdf=!1,this.prepareRenderableFrame(Rl),this.prepareProperties(Rl,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};pu([im,fu(Qs)],ym)})();function au(Qs,Rl){this.elem=Qs,this.pos=Rl}function $u(Qs,Rl){this.data=Qs,this.type=Qs.ty,this.d="",this.lvl=Rl,this._mdf=!1,this.closed=Qs.hd===!0,this.pElem=Zs("path"),this.msElem=null}$u.prototype.reset=function(){this.d="",this._mdf=!1};function Tu(Qs,Rl,Wl){this.caches=[],this.styles=[],this.transformers=Qs,this.lStr="",this.sh=Wl,this.lvl=Rl,this._isAnimated=!!Wl.k;for(var ru=0,gu=Qs.length;ru<gu;){if(Qs[ru].mProps.dynamicProperties.length){this._isAnimated=!0;break}ru+=1}}Tu.prototype.setAsAnimated=function(){this._isAnimated=!0};function Ql(Qs,Rl,Wl){this.transform={mProps:Qs,op:Rl,container:Wl},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function Mu(Qs,Rl,Wl){this.initDynamicPropertyContainer(Qs),this.getValue=this.iterateDynamicProperties,this.o=Dl.getProp(Qs,Rl.o,0,.01,this),this.w=Dl.getProp(Qs,Rl.w,0,null,this),this.d=new Zu(Qs,Rl.d||{},"svg",this),this.c=Dl.getProp(Qs,Rl.c,1,255,this),this.style=Wl,this._isAnimated=!!this._isAnimated}pu([eu],Mu);function ap(Qs,Rl,Wl){this.initDynamicPropertyContainer(Qs),this.getValue=this.iterateDynamicProperties,this.o=Dl.getProp(Qs,Rl.o,0,.01,this),this.c=Dl.getProp(Qs,Rl.c,1,255,this),this.style=Wl}pu([eu],ap);function sp(Qs,Rl,Wl){this.initDynamicPropertyContainer(Qs),this.getValue=this.iterateDynamicProperties,this.initGradientData(Qs,Rl,Wl)}sp.prototype.initGradientData=function(Qs,Rl,Wl){this.o=Dl.getProp(Qs,Rl.o,0,.01,this),this.s=Dl.getProp(Qs,Rl.s,1,null,this),this.e=Dl.getProp(Qs,Rl.e,1,null,this),this.h=Dl.getProp(Qs,Rl.h||{k:0},0,.01,this),this.a=Dl.getProp(Qs,Rl.a||{k:0},0,Sl,this),this.g=new tp(Qs,Rl.g,this),this.style=Wl,this.stops=[],this.setGradientData(Wl.pElem,Rl),this.setGradientOpacity(Rl,Wl),this._isAnimated=!!this._isAnimated},sp.prototype.setGradientData=function(Qs,Rl){var Wl=Jl(),ru=Zs(Rl.t===1?"linearGradient":"radialGradient");ru.setAttribute("id",Wl),ru.setAttribute("spreadMethod","pad"),ru.setAttribute("gradientUnits","userSpaceOnUse");var gu=[],lu,Lu,Yu;for(Yu=Rl.g.p*4,Lu=0;Lu<Yu;Lu+=4)lu=Zs("stop"),ru.appendChild(lu),gu.push(lu);Qs.setAttribute(Rl.ty==="gf"?"fill":"stroke","url("+Ss+"#"+Wl+")"),this.gf=ru,this.cst=gu},sp.prototype.setGradientOpacity=function(Qs,Rl){if(this.g._hasOpacity&&!this.g._collapsable){var Wl,ru,gu,lu=Zs("mask"),Lu=Zs("path");lu.appendChild(Lu);var Yu=Jl(),Nu=Jl();lu.setAttribute("id",Nu);var op=Zs(Qs.t===1?"linearGradient":"radialGradient");op.setAttribute("id",Yu),op.setAttribute("spreadMethod","pad"),op.setAttribute("gradientUnits","userSpaceOnUse"),gu=Qs.g.k.k[0].s?Qs.g.k.k[0].s.length:Qs.g.k.k.length;var rp=this.stops;for(ru=Qs.g.p*4;ru<gu;ru+=2)Wl=Zs("stop"),Wl.setAttribute("stop-color","rgb(255,255,255)"),op.appendChild(Wl),rp.push(Wl);Lu.setAttribute(Qs.ty==="gf"?"fill":"stroke","url("+Ss+"#"+Yu+")"),Qs.ty==="gs"&&(Lu.setAttribute("stroke-linecap",uu[Qs.lc||2]),Lu.setAttribute("stroke-linejoin",Yl[Qs.lj||2]),Qs.lj===1&&Lu.setAttribute("stroke-miterlimit",Qs.ml)),this.of=op,this.ms=lu,this.ost=rp,this.maskId=Nu,Rl.msElem=Lu}},pu([eu],sp);function pp(Qs,Rl,Wl){this.initDynamicPropertyContainer(Qs),this.getValue=this.iterateDynamicProperties,this.w=Dl.getProp(Qs,Rl.w,0,null,this),this.d=new Zu(Qs,Rl.d||{},"svg",this),this.initGradientData(Qs,Rl,Wl),this._isAnimated=!!this._isAnimated}pu([sp,eu],pp);function Mp(){this.it=[],this.prevViewData=[],this.gr=Zs("g")}var qp=function(){var Qs=new zl,Rl=new zl,Wl={createRenderFunction:ru};function ru(rp){switch(rp.ty){case"fl":return Lu;case"gf":return Nu;case"gs":return Yu;case"st":return op;case"sh":case"el":case"rc":case"sr":return lu;case"tr":return gu;default:return null}}function gu(rp,Wu,qu){(qu||Wu.transform.op._mdf)&&Wu.transform.container.setAttribute("opacity",Wu.transform.op.v),(qu||Wu.transform.mProps._mdf)&&Wu.transform.container.setAttribute("transform",Wu.transform.mProps.v.to2dCSS())}function lu(rp,Wu,qu){var np,hp,ip,Xu,Ru,Su,wu=Wu.styles.length,vu=Wu.lvl,ku,Fu,Bu,Gu,bp;for(Su=0;Su<wu;Su+=1){if(Xu=Wu.sh._mdf||qu,Wu.styles[Su].lvl<vu){for(Fu=Rl.reset(),Gu=vu-Wu.styles[Su].lvl,bp=Wu.transformers.length-1;!Xu&&Gu>0;)Xu=Wu.transformers[bp].mProps._mdf||Xu,Gu-=1,bp-=1;if(Xu)for(Gu=vu-Wu.styles[Su].lvl,bp=Wu.transformers.length-1;Gu>0;)Bu=Wu.transformers[bp].mProps.v.props,Fu.transform(Bu[0],Bu[1],Bu[2],Bu[3],Bu[4],Bu[5],Bu[6],Bu[7],Bu[8],Bu[9],Bu[10],Bu[11],Bu[12],Bu[13],Bu[14],Bu[15]),Gu-=1,bp-=1}else Fu=Qs;if(ku=Wu.sh.paths,hp=ku._length,Xu){for(ip="",np=0;np<hp;np+=1)Ru=ku.shapes[np],Ru&&Ru._length&&(ip+=hu(Ru,Ru._length,Ru.c,Fu));Wu.caches[Su]=ip}else ip=Wu.caches[Su];Wu.styles[Su].d+=rp.hd===!0?"":ip,Wu.styles[Su]._mdf=Xu||Wu.styles[Su]._mdf}}function Lu(rp,Wu,qu){var np=Wu.style;(Wu.c._mdf||qu)&&np.pElem.setAttribute("fill","rgb("+Js(Wu.c.v[0])+","+Js(Wu.c.v[1])+","+Js(Wu.c.v[2])+")"),(Wu.o._mdf||qu)&&np.pElem.setAttribute("fill-opacity",Wu.o.v)}function Yu(rp,Wu,qu){Nu(rp,Wu,qu),op(rp,Wu,qu)}function Nu(rp,Wu,qu){var np=Wu.gf,hp=Wu.g._hasOpacity,ip=Wu.s.v,Xu=Wu.e.v;if(Wu.o._mdf||qu){var Ru=rp.ty==="gf"?"fill-opacity":"stroke-opacity";Wu.style.pElem.setAttribute(Ru,Wu.o.v)}if(Wu.s._mdf||qu){var Su=rp.t===1?"x1":"cx",wu=Su==="x1"?"y1":"cy";np.setAttribute(Su,ip[0]),np.setAttribute(wu,ip[1]),hp&&!Wu.g._collapsable&&(Wu.of.setAttribute(Su,ip[0]),Wu.of.setAttribute(wu,ip[1]))}var vu,ku,Fu,Bu;if(Wu.g._cmdf||qu){vu=Wu.cst;var Gu=Wu.g.c;for(Fu=vu.length,ku=0;ku<Fu;ku+=1)Bu=vu[ku],Bu.setAttribute("offset",Gu[ku*4]+"%"),Bu.setAttribute("stop-color","rgb("+Gu[ku*4+1]+","+Gu[ku*4+2]+","+Gu[ku*4+3]+")")}if(hp&&(Wu.g._omdf||qu)){var bp=Wu.g.o;for(Wu.g._collapsable?vu=Wu.cst:vu=Wu.ost,Fu=vu.length,ku=0;ku<Fu;ku+=1)Bu=vu[ku],Wu.g._collapsable||Bu.setAttribute("offset",bp[ku*2]+"%"),Bu.setAttribute("stop-opacity",bp[ku*2+1])}if(rp.t===1)(Wu.e._mdf||qu)&&(np.setAttribute("x2",Xu[0]),np.setAttribute("y2",Xu[1]),hp&&!Wu.g._collapsable&&(Wu.of.setAttribute("x2",Xu[0]),Wu.of.setAttribute("y2",Xu[1])));else{var Pp;if((Wu.s._mdf||Wu.e._mdf||qu)&&(Pp=Math.sqrt(Math.pow(ip[0]-Xu[0],2)+Math.pow(ip[1]-Xu[1],2)),np.setAttribute("r",Pp),hp&&!Wu.g._collapsable&&Wu.of.setAttribute("r",Pp)),Wu.e._mdf||Wu.h._mdf||Wu.a._mdf||qu){Pp||(Pp=Math.sqrt(Math.pow(ip[0]-Xu[0],2)+Math.pow(ip[1]-Xu[1],2)));var Op=Math.atan2(Xu[1]-ip[1],Xu[0]-ip[0]),Cp=Wu.h.v;Cp>=1?Cp=.99:Cp<=-1&&(Cp=-.99);var mp=Pp*Cp,Ap=Math.cos(Op+Wu.a.v)*mp+ip[0],Sp=Math.sin(Op+Wu.a.v)*mp+ip[1];np.setAttribute("fx",Ap),np.setAttribute("fy",Sp),hp&&!Wu.g._collapsable&&(Wu.of.setAttribute("fx",Ap),Wu.of.setAttribute("fy",Sp))}}}function op(rp,Wu,qu){var np=Wu.style,hp=Wu.d;hp&&(hp._mdf||qu)&&hp.dashStr&&(np.pElem.setAttribute("stroke-dasharray",hp.dashStr),np.pElem.setAttribute("stroke-dashoffset",hp.dashoffset[0])),Wu.c&&(Wu.c._mdf||qu)&&np.pElem.setAttribute("stroke","rgb("+Js(Wu.c.v[0])+","+Js(Wu.c.v[1])+","+Js(Wu.c.v[2])+")"),(Wu.o._mdf||qu)&&np.pElem.setAttribute("stroke-opacity",Wu.o.v),(Wu.w._mdf||qu)&&(np.pElem.setAttribute("stroke-width",Wu.w.v),np.msElem&&np.msElem.setAttribute("stroke-width",Wu.w.v))}return Wl}();function Bp(){}Bp.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var Qs=0,Rl=this.data.masksProperties.length;Qs<Rl;){if(this.data.masksProperties[Qs].mode!=="n"&&this.data.masksProperties[Qs].cl!==!1)return!0;Qs+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var Qs=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(Qs),this.data.ty===0||this.data.xt?this.compInterface=CompExpressionInterface(this):this.data.ty===4?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var Qs=Eu(this.data.bm),Rl=this.baseElement||this.layerElement;Rl.style["mix-blend-mode"]=Qs},initBaseData:function(Qs,Rl,Wl){this.globalData=Rl,this.comp=Wl,this.data=Qs,this.layerId=Jl(),this.data.sr||(this.data.sr=1),this.effectsManager=new zp(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function sm(Qs,Rl,Wl){this.initFrame(),this.initBaseData(Qs,Rl,Wl),this.initFrame(),this.initTransform(Qs,Rl,Wl),this.initHierarchy()}sm.prototype.prepareFrame=function(Qs){this.prepareProperties(Qs,!0)},sm.prototype.renderFrame=function(){},sm.prototype.getBaseElement=function(){return null},sm.prototype.destroy=function(){},sm.prototype.sourceRectAtTime=function(){},sm.prototype.hide=function(){},pu([Bp,um,lm,gm],sm);function Np(){}Np.prototype={initRendererElement:function(){this.layerElement=Zs("g")},createContainerElements:function(){this.matteElement=Zs("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var Qs=null,Rl,Wl,ru;if(this.data.td){if(this.data.td==3||this.data.td==1){var gu=Zs("mask");gu.setAttribute("id",this.layerId),gu.setAttribute("mask-type",this.data.td==3?"luminance":"alpha"),gu.appendChild(this.layerElement),Qs=gu,this.globalData.defs.appendChild(gu),!bu.maskType&&this.data.td==1&&(gu.setAttribute("mask-type","luminance"),Rl=Jl(),Wl=Ou.createFilter(Rl),this.globalData.defs.appendChild(Wl),Wl.appendChild(Ou.createAlphaToLuminanceFilter()),ru=Zs("g"),ru.appendChild(this.layerElement),Qs=ru,gu.appendChild(ru),ru.setAttribute("filter","url("+Ss+"#"+Rl+")"))}else if(this.data.td==2){var lu=Zs("mask");lu.setAttribute("id",this.layerId),lu.setAttribute("mask-type","alpha");var Lu=Zs("g");lu.appendChild(Lu),Rl=Jl(),Wl=Ou.createFilter(Rl);var Yu=Zs("feComponentTransfer");Yu.setAttribute("in","SourceGraphic"),Wl.appendChild(Yu);var Nu=Zs("feFuncA");Nu.setAttribute("type","table"),Nu.setAttribute("tableValues","1.0 0.0"),Yu.appendChild(Nu),this.globalData.defs.appendChild(Wl);var op=Zs("rect");op.setAttribute("width",this.comp.data.w),op.setAttribute("height",this.comp.data.h),op.setAttribute("x","0"),op.setAttribute("y","0"),op.setAttribute("fill","#ffffff"),op.setAttribute("opacity","0"),Lu.setAttribute("filter","url("+Ss+"#"+Rl+")"),Lu.appendChild(op),Lu.appendChild(this.layerElement),Qs=Lu,bu.maskType||(lu.setAttribute("mask-type","luminance"),Wl.appendChild(Ou.createAlphaToLuminanceFilter()),ru=Zs("g"),Lu.appendChild(op),ru.appendChild(this.layerElement),Qs=ru,Lu.appendChild(ru)),this.globalData.defs.appendChild(lu)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),Qs=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var rp=Zs("clipPath"),Wu=Zs("path");Wu.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var qu=Jl();if(rp.setAttribute("id",qu),rp.appendChild(Wu),this.globalData.defs.appendChild(rp),this.checkMasks()){var np=Zs("g");np.setAttribute("clip-path","url("+Ss+"#"+qu+")"),np.appendChild(this.layerElement),this.transformedElement=np,Qs?Qs.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+Ss+"#"+qu+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new cm(this.data,this,this.globalData),this.renderableEffectsManager=new Vp},setMatte:function(Qs){this.matteElement&&this.matteElement.setAttribute("mask","url("+Ss+"#"+Qs+")")}};function _g(){}_g.prototype={addShapeToModifiers:function(Qs){var Rl,Wl=this.shapeModifiers.length;for(Rl=0;Rl<Wl;Rl+=1)this.shapeModifiers[Rl].addShape(Qs)},isShapeInAnimatedModifiers:function(Qs){for(var Rl=0,Wl=this.shapeModifiers.length;Rl<Wl;)if(this.shapeModifiers[Rl].isAnimatedWithShape(Qs))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var Qs,Rl=this.shapes.length;for(Qs=0;Qs<Rl;Qs+=1)this.shapes[Qs].sh.reset();Rl=this.shapeModifiers.length;var Wl;for(Qs=Rl-1;Qs>=0&&(Wl=this.shapeModifiers[Qs].processShapes(this._isFirstFrame),!Wl);Qs-=1);}},searchProcessedElement:function(Qs){for(var Rl=this.processedElements,Wl=0,ru=Rl.length;Wl<ru;){if(Rl[Wl].elem===Qs)return Rl[Wl].pos;Wl+=1}return 0},addProcessedElement:function(Qs,Rl){for(var Wl=this.processedElements,ru=Wl.length;ru;)if(ru-=1,Wl[ru].elem===Qs){Wl[ru].pos=Rl;return}Wl.push(new au(Qs,Rl))},prepareFrame:function(Qs){this.prepareRenderableFrame(Qs),this.prepareProperties(Qs,this.isInRange)}};function Kp(){}Kp.prototype.initElement=function(Qs,Rl,Wl){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(Qs,Rl,Wl),this.textProperty=new dp(this,Qs.t,this.dynamicProperties),this.textAnimator=new zu(Qs.t,this.renderType,this),this.initTransform(Qs,Rl,Wl),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},Kp.prototype.prepareFrame=function(Qs){this._mdf=!1,this.prepareRenderableFrame(Qs),this.prepareProperties(Qs,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},Kp.prototype.createPathShape=function(Qs,Rl){var Wl,ru=Rl.length,gu,lu="";for(Wl=0;Wl<ru;Wl+=1)gu=Rl[Wl].ks.k,lu+=hu(gu,gu.i.length,!0,Qs);return lu},Kp.prototype.updateDocumentData=function(Qs,Rl){this.textProperty.updateDocumentData(Qs,Rl)},Kp.prototype.canResizeFont=function(Qs){this.textProperty.canResizeFont(Qs)},Kp.prototype.setMinimumFontSize=function(Qs){this.textProperty.setMinimumFontSize(Qs)},Kp.prototype.applyTextPropertiesToMatrix=function(Qs,Rl,Wl,ru,gu){switch(Qs.ps&&Rl.translate(Qs.ps[0],Qs.ps[1]+Qs.ascent,0),Rl.translate(0,-Qs.ls,0),Qs.j){case 1:Rl.translate(Qs.justifyOffset+(Qs.boxWidth-Qs.lineWidths[Wl]),0,0);break;case 2:Rl.translate(Qs.justifyOffset+(Qs.boxWidth-Qs.lineWidths[Wl])/2,0,0);break}Rl.translate(ru,gu,0)},Kp.prototype.buildColor=function(Qs){return"rgb("+Math.round(Qs[0]*255)+","+Math.round(Qs[1]*255)+","+Math.round(Qs[2]*255)+")"},Kp.prototype.emptyProp=new _p,Kp.prototype.destroy=function(){};function Xp(){}pu([Bp,um,lm,gm,ym],Xp),Xp.prototype.initElement=function(Qs,Rl,Wl){this.initFrame(),this.initBaseData(Qs,Rl,Wl),this.initTransform(Qs,Rl,Wl),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!Rl.progressiveLoad)&&this.buildAllItems(),this.hide()},Xp.prototype.prepareFrame=function(Qs){if(this._mdf=!1,this.prepareRenderableFrame(Qs),this.prepareProperties(Qs,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=Qs/this.data.sr;else{var Rl=this.tm.v;Rl===this.data.op&&(Rl=this.data.op-1),this.renderedFrame=Rl}var Wl,ru=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),Wl=ru-1;Wl>=0;Wl-=1)(this.completeLayers||this.elements[Wl])&&(this.elements[Wl].prepareFrame(this.renderedFrame-this.layers[Wl].st),this.elements[Wl]._mdf&&(this._mdf=!0))}},Xp.prototype.renderInnerContent=function(){var Qs,Rl=this.layers.length;for(Qs=0;Qs<Rl;Qs+=1)(this.completeLayers||this.elements[Qs])&&this.elements[Qs].renderFrame()},Xp.prototype.setElements=function(Qs){this.elements=Qs},Xp.prototype.getElements=function(){return this.elements},Xp.prototype.destroyElements=function(){var Qs,Rl=this.layers.length;for(Qs=0;Qs<Rl;Qs+=1)this.elements[Qs]&&this.elements[Qs].destroy()},Xp.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function rm(Qs,Rl,Wl){this.assetData=Rl.getAssetData(Qs.refId),this.initElement(Qs,Rl,Wl),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}pu([Bp,um,Np,lm,gm,ym],rm),rm.prototype.createContent=function(){var Qs=this.globalData.getAssetsPath(this.assetData);this.innerElem=Zs("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",Qs),this.layerElement.appendChild(this.innerElem)},rm.prototype.sourceRectAtTime=function(){return this.sourceRect};function em(Qs,Rl,Wl){this.initElement(Qs,Rl,Wl)}pu([rm],em),em.prototype.createContent=function(){var Qs=Zs("rect");Qs.setAttribute("width",this.data.sw),Qs.setAttribute("height",this.data.sh),Qs.setAttribute("fill",this.data.sc),this.layerElement.appendChild(Qs)};function Wp(Qs,Rl,Wl){this.initFrame(),this.initRenderable(),this.assetData=Rl.getAssetData(Qs.refId),this.initBaseData(Qs,Rl,Wl),this._isPlaying=!1,this._canPlay=!1;var ru=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(ru),this._currentTime=0,this.globalData.audioController.addAudio(this),this.tm=Qs.tm?Dl.getProp(this,Qs.tm,0,Rl.frameRate,this):{_placeholder:!0}}Wp.prototype.prepareFrame=function(Qs){if(this.prepareRenderableFrame(Qs,!0),this.prepareProperties(Qs,!0),this.tm._placeholder)this._currentTime=Qs/this.data.sr;else{var Rl=this.tm.v;this._currentTime=Rl}},pu([im,Bp,gm],Wp),Wp.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},Wp.prototype.show=function(){},Wp.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},Wp.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},Wp.prototype.resume=function(){this._canPlay=!0},Wp.prototype.setRate=function(Qs){this.audio.rate(Qs)},Wp.prototype.volume=function(Qs){this.audio.volume(Qs)},Wp.prototype.getBaseElement=function(){return null},Wp.prototype.destroy=function(){},Wp.prototype.sourceRectAtTime=function(){},Wp.prototype.initExpressions=function(){};function nm(Qs,Rl,Wl){this.layers=Qs.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?yl(this.layers.length):[],this.initElement(Qs,Rl,Wl),this.tm=Qs.tm?Dl.getProp(this,Qs.tm,0,Rl.frameRate,this):{_placeholder:!0}}pu([fm,Xp,Np],nm);function Fp(Qs,Rl,Wl){this.textSpans=[],this.renderType="svg",this.initElement(Qs,Rl,Wl)}pu([Bp,um,Np,lm,gm,ym,Kp],Fp),Fp.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=Zs("text"))},Fp.prototype.buildTextContents=function(Qs){for(var Rl=0,Wl=Qs.length,ru=[],gu="";Rl<Wl;)Qs[Rl]==="\r"||Qs[Rl]===""?(ru.push(gu),gu=""):gu+=Qs[Rl],Rl+=1;return ru.push(gu),ru},Fp.prototype.buildNewText=function(){var Qs,Rl,Wl=this.textProperty.currentData;this.renderedLetters=yl(Wl?Wl.l.length:0),Wl.fc?this.layerElement.setAttribute("fill",this.buildColor(Wl.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),Wl.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(Wl.sc)),this.layerElement.setAttribute("stroke-width",Wl.sw)),this.layerElement.setAttribute("font-size",Wl.finalSize);var ru=this.globalData.fontManager.getFontByName(Wl.f);if(ru.fClass)this.layerElement.setAttribute("class",ru.fClass);else{this.layerElement.setAttribute("font-family",ru.fFamily);var gu=Wl.fWeight,lu=Wl.fStyle;this.layerElement.setAttribute("font-style",lu),this.layerElement.setAttribute("font-weight",gu)}this.layerElement.setAttribute("aria-label",Wl.t);var Lu=Wl.l||[],Yu=!!this.globalData.fontManager.chars;Rl=Lu.length;var Nu,op=this.mHelper,rp,Wu="",qu=this.data.singleShape,np=0,hp=0,ip=!0,Xu=Wl.tr*.001*Wl.finalSize;if(qu&&!Yu&&!Wl.sz){var Ru=this.textContainer,Su="start";switch(Wl.j){case 1:Su="end";break;case 2:Su="middle";break;default:Su="start";break}Ru.setAttribute("text-anchor",Su),Ru.setAttribute("letter-spacing",Xu);var wu=this.buildTextContents(Wl.finalText);for(Rl=wu.length,hp=Wl.ps?Wl.ps[1]+Wl.ascent:0,Qs=0;Qs<Rl;Qs+=1)Nu=this.textSpans[Qs]||Zs("tspan"),Nu.textContent=wu[Qs],Nu.setAttribute("x",0),Nu.setAttribute("y",hp),Nu.style.display="inherit",Ru.appendChild(Nu),this.textSpans[Qs]=Nu,hp+=Wl.finalLineHeight;this.layerElement.appendChild(Ru)}else{var vu=this.textSpans.length,ku,Fu;for(Qs=0;Qs<Rl;Qs+=1)(!Yu||!qu||Qs===0)&&(Nu=vu>Qs?this.textSpans[Qs]:Zs(Yu?"path":"text"),vu<=Qs&&(Nu.setAttribute("stroke-linecap","butt"),Nu.setAttribute("stroke-linejoin","round"),Nu.setAttribute("stroke-miterlimit","4"),this.textSpans[Qs]=Nu,this.layerElement.appendChild(Nu)),Nu.style.display="inherit"),op.reset(),op.scale(Wl.finalSize/100,Wl.finalSize/100),qu&&(Lu[Qs].n&&(np=-Xu,hp+=Wl.yOffset,hp+=ip?1:0,ip=!1),this.applyTextPropertiesToMatrix(Wl,op,Lu[Qs].line,np,hp),np+=Lu[Qs].l||0,np+=Xu),Yu?(Fu=this.globalData.fontManager.getCharData(Wl.finalText[Qs],ru.fStyle,this.globalData.fontManager.getFontByName(Wl.f).fFamily),ku=Fu&&Fu.data||{},rp=ku.shapes?ku.shapes[0].it:[],qu?Wu+=this.createPathShape(op,rp):Nu.setAttribute("d",this.createPathShape(op,rp))):(qu&&Nu.setAttribute("transform","translate("+op.props[12]+","+op.props[13]+")"),Nu.textContent=Lu[Qs].val,Nu.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));qu&&Nu&&Nu.setAttribute("d",Wu)}for(;Qs<this.textSpans.length;)this.textSpans[Qs].style.display="none",Qs+=1;this._sizeChanged=!0},Fp.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var Qs=this.layerElement.getBBox();this.bbox={top:Qs.y,left:Qs.x,width:Qs.width,height:Qs.height}}return this.bbox},Fp.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var Qs,Rl,Wl=this.textAnimator.renderedLetters,ru=this.textProperty.currentData.l;Rl=ru.length;var gu,lu;for(Qs=0;Qs<Rl;Qs+=1)ru[Qs].n||(gu=Wl[Qs],lu=this.textSpans[Qs],gu._mdf.m&&lu.setAttribute("transform",gu.m),gu._mdf.o&&lu.setAttribute("opacity",gu.o),gu._mdf.sw&&lu.setAttribute("stroke-width",gu.sw),gu._mdf.sc&&lu.setAttribute("stroke",gu.sc),gu._mdf.fc&&lu.setAttribute("fill",gu.fc))}};function Up(Qs,Rl,Wl){this.shapes=[],this.shapesData=Qs.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(Qs,Rl,Wl),this.prevViewData=[]}pu([Bp,um,Np,_g,lm,gm,ym],Up),Up.prototype.initSecondaryElement=function(){},Up.prototype.identityMatrix=new zl,Up.prototype.buildExpressionInterface=function(){},Up.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},Up.prototype.filterUniqueShapes=function(){var Qs,Rl=this.shapes.length,Wl,ru,gu=this.stylesList.length,lu,Lu=[],Yu=!1;for(ru=0;ru<gu;ru+=1){for(lu=this.stylesList[ru],Yu=!1,Lu.length=0,Qs=0;Qs<Rl;Qs+=1)Wl=this.shapes[Qs],Wl.styles.indexOf(lu)!==-1&&(Lu.push(Wl),Yu=Wl._isAnimated||Yu);Lu.length>1&&Yu&&this.setShapesAsAnimated(Lu)}},Up.prototype.setShapesAsAnimated=function(Qs){var Rl,Wl=Qs.length;for(Rl=0;Rl<Wl;Rl+=1)Qs[Rl].setAsAnimated()},Up.prototype.createStyleElement=function(Qs,Rl){var Wl,ru=new $u(Qs,Rl),gu=ru.pElem;if(Qs.ty==="st")Wl=new Mu(this,Qs,ru);else if(Qs.ty==="fl")Wl=new ap(this,Qs,ru);else if(Qs.ty==="gf"||Qs.ty==="gs"){var lu=Qs.ty==="gf"?sp:pp;Wl=new lu(this,Qs,ru),this.globalData.defs.appendChild(Wl.gf),Wl.maskId&&(this.globalData.defs.appendChild(Wl.ms),this.globalData.defs.appendChild(Wl.of),gu.setAttribute("mask","url("+Ss+"#"+Wl.maskId+")"))}return(Qs.ty==="st"||Qs.ty==="gs")&&(gu.setAttribute("stroke-linecap",uu[Qs.lc||2]),gu.setAttribute("stroke-linejoin",Yl[Qs.lj||2]),gu.setAttribute("fill-opacity","0"),Qs.lj===1&&gu.setAttribute("stroke-miterlimit",Qs.ml)),Qs.r===2&&gu.setAttribute("fill-rule","evenodd"),Qs.ln&&gu.setAttribute("id",Qs.ln),Qs.cl&&gu.setAttribute("class",Qs.cl),Qs.bm&&(gu.style["mix-blend-mode"]=Eu(Qs.bm)),this.stylesList.push(ru),this.addToAnimatedContents(Qs,Wl),Wl},Up.prototype.createGroupElement=function(Qs){var Rl=new Mp;return Qs.ln&&Rl.gr.setAttribute("id",Qs.ln),Qs.cl&&Rl.gr.setAttribute("class",Qs.cl),Qs.bm&&(Rl.gr.style["mix-blend-mode"]=Eu(Qs.bm)),Rl},Up.prototype.createTransformElement=function(Qs,Rl){var Wl=Kl.getTransformProperty(this,Qs,this),ru=new Ql(Wl,Wl.o,Rl);return this.addToAnimatedContents(Qs,ru),ru},Up.prototype.createShapeElement=function(Qs,Rl,Wl){var ru=4;Qs.ty==="rc"?ru=5:Qs.ty==="el"?ru=6:Qs.ty==="sr"&&(ru=7);var gu=iu.getShapeProp(this,Qs,ru,this),lu=new Tu(Rl,Wl,gu);return this.shapes.push(lu),this.addShapeToModifiers(lu),this.addToAnimatedContents(Qs,lu),lu},Up.prototype.addToAnimatedContents=function(Qs,Rl){for(var Wl=0,ru=this.animatedContents.length;Wl<ru;){if(this.animatedContents[Wl].element===Rl)return;Wl+=1}this.animatedContents.push({fn:qp.createRenderFunction(Qs),element:Rl,data:Qs})},Up.prototype.setElementStyles=function(Qs){var Rl=Qs.styles,Wl,ru=this.stylesList.length;for(Wl=0;Wl<ru;Wl+=1)this.stylesList[Wl].closed||Rl.push(this.stylesList[Wl])},Up.prototype.reloadShapes=function(){this._isFirstFrame=!0;var Qs,Rl=this.itemsData.length;for(Qs=0;Qs<Rl;Qs+=1)this.prevViewData[Qs]=this.itemsData[Qs];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),Rl=this.dynamicProperties.length,Qs=0;Qs<Rl;Qs+=1)this.dynamicProperties[Qs].getValue();this.renderModifiers()},Up.prototype.searchShapes=function(Qs,Rl,Wl,ru,gu,lu,Lu){var Yu=[].concat(lu),Nu,op=Qs.length-1,rp,Wu,qu=[],np=[],hp,ip,Xu;for(Nu=op;Nu>=0;Nu-=1){if(Xu=this.searchProcessedElement(Qs[Nu]),Xu?Rl[Nu]=Wl[Xu-1]:Qs[Nu]._render=Lu,Qs[Nu].ty==="fl"||Qs[Nu].ty==="st"||Qs[Nu].ty==="gf"||Qs[Nu].ty==="gs")Xu?Rl[Nu].style.closed=!1:Rl[Nu]=this.createStyleElement(Qs[Nu],gu),Qs[Nu]._render&&Rl[Nu].style.pElem.parentNode!==ru&&ru.appendChild(Rl[Nu].style.pElem),qu.push(Rl[Nu].style);else if(Qs[Nu].ty==="gr"){if(!Xu)Rl[Nu]=this.createGroupElement(Qs[Nu]);else for(Wu=Rl[Nu].it.length,rp=0;rp<Wu;rp+=1)Rl[Nu].prevViewData[rp]=Rl[Nu].it[rp];this.searchShapes(Qs[Nu].it,Rl[Nu].it,Rl[Nu].prevViewData,Rl[Nu].gr,gu+1,Yu,Lu),Qs[Nu]._render&&Rl[Nu].gr.parentNode!==ru&&ru.appendChild(Rl[Nu].gr)}else Qs[Nu].ty==="tr"?(Xu||(Rl[Nu]=this.createTransformElement(Qs[Nu],ru)),hp=Rl[Nu].transform,Yu.push(hp)):Qs[Nu].ty==="sh"||Qs[Nu].ty==="rc"||Qs[Nu].ty==="el"||Qs[Nu].ty==="sr"?(Xu||(Rl[Nu]=this.createShapeElement(Qs[Nu],Yu,gu)),this.setElementStyles(Rl[Nu])):Qs[Nu].ty==="tm"||Qs[Nu].ty==="rd"||Qs[Nu].ty==="ms"||Qs[Nu].ty==="pb"?(Xu?(ip=Rl[Nu],ip.closed=!1):(ip=du.getModifier(Qs[Nu].ty),ip.init(this,Qs[Nu]),Rl[Nu]=ip,this.shapeModifiers.push(ip)),np.push(ip)):Qs[Nu].ty==="rp"&&(Xu?(ip=Rl[Nu],ip.closed=!0):(ip=du.getModifier(Qs[Nu].ty),Rl[Nu]=ip,ip.init(this,Qs,Nu,Rl),this.shapeModifiers.push(ip),Lu=!1),np.push(ip));this.addProcessedElement(Qs[Nu],Nu+1)}for(op=qu.length,Nu=0;Nu<op;Nu+=1)qu[Nu].closed=!0;for(op=np.length,Nu=0;Nu<op;Nu+=1)np[Nu].closed=!0},Up.prototype.renderInnerContent=function(){this.renderModifiers();var Qs,Rl=this.stylesList.length;for(Qs=0;Qs<Rl;Qs+=1)this.stylesList[Qs].reset();for(this.renderShape(),Qs=0;Qs<Rl;Qs+=1)(this.stylesList[Qs]._mdf||this._isFirstFrame)&&(this.stylesList[Qs].msElem&&(this.stylesList[Qs].msElem.setAttribute("d",this.stylesList[Qs].d),this.stylesList[Qs].d="M0 0"+this.stylesList[Qs].d),this.stylesList[Qs].pElem.setAttribute("d",this.stylesList[Qs].d||"M0 0"))},Up.prototype.renderShape=function(){var Qs,Rl=this.animatedContents.length,Wl;for(Qs=0;Qs<Rl;Qs+=1)Wl=this.animatedContents[Qs],(this._isFirstFrame||Wl.element._isAnimated)&&Wl.data!==!0&&Wl.fn(Wl.data,Wl.element,this._isFirstFrame)},Up.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function Vp(){}var Lp=function(){var Qs={},Rl=[],Wl=0,ru=0,gu=0,lu=!0,Lu=!1;function Yu(Uu){for(var Du=0,Vu=Uu.target;Du<ru;)Rl[Du].animation===Vu&&(Rl.splice(Du,1),Du-=1,ru-=1,Vu.isPaused||Wu()),Du+=1}function Nu(Uu,Du){if(!Uu)return null;for(var Vu=0;Vu<ru;){if(Rl[Vu].elem===Uu&&Rl[Vu].elem!==null)return Rl[Vu].animation;Vu+=1}var fp=new xp;return qu(fp,Uu),fp.setData(Uu,Du),fp}function op(){var Uu,Du=Rl.length,Vu=[];for(Uu=0;Uu<Du;Uu+=1)Vu.push(Rl[Uu].animation);return Vu}function rp(){gu+=1,Pp()}function Wu(){gu-=1}function qu(Uu,Du){Uu.addEventListener("destroy",Yu),Uu.addEventListener("_active",rp),Uu.addEventListener("_idle",Wu),Rl.push({elem:Du,animation:Uu}),ru+=1}function np(Uu){var Du=new xp;return qu(Du,null),Du.setParams(Uu),Du}function hp(Uu,Du){var Vu;for(Vu=0;Vu<ru;Vu+=1)Rl[Vu].animation.setSpeed(Uu,Du)}function ip(Uu,Du){var Vu;for(Vu=0;Vu<ru;Vu+=1)Rl[Vu].animation.setDirection(Uu,Du)}function Xu(Uu){var Du;for(Du=0;Du<ru;Du+=1)Rl[Du].animation.play(Uu)}function Ru(Uu){var Du=Uu-Wl,Vu;for(Vu=0;Vu<ru;Vu+=1)Rl[Vu].animation.advanceTime(Du);Wl=Uu,gu&&!Lu?ms.requestAnimationFrame(Ru):lu=!0}function Su(Uu){Wl=Uu,ms.requestAnimationFrame(Ru)}function wu(Uu){var Du;for(Du=0;Du<ru;Du+=1)Rl[Du].animation.pause(Uu)}function vu(Uu,Du,Vu){var fp;for(fp=0;fp<ru;fp+=1)Rl[fp].animation.goToAndStop(Uu,Du,Vu)}function ku(Uu){var Du;for(Du=0;Du<ru;Du+=1)Rl[Du].animation.stop(Uu)}function Fu(Uu){var Du;for(Du=0;Du<ru;Du+=1)Rl[Du].animation.togglePause(Uu)}function Bu(Uu){var Du;for(Du=ru-1;Du>=0;Du-=1)Rl[Du].animation.destroy(Uu)}function Gu(Uu,Du,Vu){var fp=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),$p,Ep=fp.length;for($p=0;$p<Ep;$p+=1)Vu&&fp[$p].setAttribute("data-bm-type",Vu),Nu(fp[$p],Uu);if(Du&&Ep===0){Vu||(Vu="svg");var om=document.getElementsByTagName("body")[0];om.innerText="";var pm=Bl("div");pm.style.width="100%",pm.style.height="100%",pm.setAttribute("data-bm-type",Vu),om.appendChild(pm),Nu(pm,Uu)}}function bp(){var Uu;for(Uu=0;Uu<ru;Uu+=1)Rl[Uu].animation.resize()}function Pp(){!Lu&&gu&&lu&&(ms.requestAnimationFrame(Su),lu=!1)}function Op(){Lu=!0}function Cp(){Lu=!1,Pp()}function mp(Uu,Du){var Vu;for(Vu=0;Vu<ru;Vu+=1)Rl[Vu].animation.setVolume(Uu,Du)}function Ap(Uu){var Du;for(Du=0;Du<ru;Du+=1)Rl[Du].animation.mute(Uu)}function Sp(Uu){var Du;for(Du=0;Du<ru;Du+=1)Rl[Du].animation.unmute(Uu)}return Qs.registerAnimation=Nu,Qs.loadAnimation=np,Qs.setSpeed=hp,Qs.setDirection=ip,Qs.play=Xu,Qs.pause=wu,Qs.stop=ku,Qs.togglePause=Fu,Qs.searchAnimations=Gu,Qs.resize=bp,Qs.goToAndStop=vu,Qs.destroy=Bu,Qs.freeze=Op,Qs.unfreeze=Cp,Qs.setVolume=mp,Qs.mute=Ap,Qs.unmute=Sp,Qs.getRegisteredAnimations=op,Qs}(),xp=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=Jl(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=Is,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=_l(),this.imagePreloader=new Zl,this.audioController=Xl(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this)};pu([Al],xp),xp.prototype.setParams=function(Qs){(Qs.wrapper||Qs.container)&&(this.wrapper=Qs.wrapper||Qs.container);var Rl="svg";switch(Qs.animType?Rl=Qs.animType:Qs.renderer&&(Rl=Qs.renderer),Rl){case"canvas":this.renderer=new CanvasRenderer(this,Qs.rendererSettings);break;case"svg":this.renderer=new fm(this,Qs.rendererSettings);break;default:this.renderer=new HybridRenderer(this,Qs.rendererSettings);break}this.imagePreloader.setCacheType(Rl,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=Rl,Qs.loop===""||Qs.loop===null||Qs.loop===void 0||Qs.loop===!0?this.loop=!0:Qs.loop===!1?this.loop=!1:this.loop=parseInt(Qs.loop,10),this.autoplay="autoplay"in Qs?Qs.autoplay:!0,this.name=Qs.name?Qs.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(Qs,"autoloadSegments")?Qs.autoloadSegments:!0,this.assetsPath=Qs.assetsPath,this.initialSegment=Qs.initialSegment,Qs.audioFactory&&this.audioController.setAudioFactory(Qs.audioFactory),Qs.animationData?this.setupAnimation(Qs.animationData):Qs.path&&(Qs.path.lastIndexOf("\\")!==-1?this.path=Qs.path.substr(0,Qs.path.lastIndexOf("\\")+1):this.path=Qs.path.substr(0,Qs.path.lastIndexOf("/")+1),this.fileName=Qs.path.substr(Qs.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),Ll.loadAnimation(Qs.path,this.configAnimation,this.onSetupError))},xp.prototype.onSetupError=function(){this.trigger("data_failed")},xp.prototype.setupAnimation=function(Qs){Ll.completeAnimation(Qs,this.configAnimation)},xp.prototype.setData=function(Qs,Rl){Rl&&typeof Rl!="object"&&(Rl=JSON.parse(Rl));var Wl={wrapper:Qs,animationData:Rl},ru=Qs.attributes;Wl.path=ru.getNamedItem("data-animation-path")?ru.getNamedItem("data-animation-path").value:ru.getNamedItem("data-bm-path")?ru.getNamedItem("data-bm-path").value:ru.getNamedItem("bm-path")?ru.getNamedItem("bm-path").value:"",Wl.animType=ru.getNamedItem("data-anim-type")?ru.getNamedItem("data-anim-type").value:ru.getNamedItem("data-bm-type")?ru.getNamedItem("data-bm-type").value:ru.getNamedItem("bm-type")?ru.getNamedItem("bm-type").value:ru.getNamedItem("data-bm-renderer")?ru.getNamedItem("data-bm-renderer").value:ru.getNamedItem("bm-renderer")?ru.getNamedItem("bm-renderer").value:"canvas";var gu=ru.getNamedItem("data-anim-loop")?ru.getNamedItem("data-anim-loop").value:ru.getNamedItem("data-bm-loop")?ru.getNamedItem("data-bm-loop").value:ru.getNamedItem("bm-loop")?ru.getNamedItem("bm-loop").value:"";gu==="false"?Wl.loop=!1:gu==="true"?Wl.loop=!0:gu!==""&&(Wl.loop=parseInt(gu,10));var lu=ru.getNamedItem("data-anim-autoplay")?ru.getNamedItem("data-anim-autoplay").value:ru.getNamedItem("data-bm-autoplay")?ru.getNamedItem("data-bm-autoplay").value:ru.getNamedItem("bm-autoplay")?ru.getNamedItem("bm-autoplay").value:!0;Wl.autoplay=lu!=="false",Wl.name=ru.getNamedItem("data-name")?ru.getNamedItem("data-name").value:ru.getNamedItem("data-bm-name")?ru.getNamedItem("data-bm-name").value:ru.getNamedItem("bm-name")?ru.getNamedItem("bm-name").value:"";var Lu=ru.getNamedItem("data-anim-prerender")?ru.getNamedItem("data-anim-prerender").value:ru.getNamedItem("data-bm-prerender")?ru.getNamedItem("data-bm-prerender").value:ru.getNamedItem("bm-prerender")?ru.getNamedItem("bm-prerender").value:"";Lu==="false"&&(Wl.prerender=!1),this.setParams(Wl)},xp.prototype.includeLayers=function(Qs){Qs.op>this.animationData.op&&(this.animationData.op=Qs.op,this.totalFrames=Math.floor(Qs.op-this.animationData.ip));var Rl=this.animationData.layers,Wl,ru=Rl.length,gu=Qs.layers,lu,Lu=gu.length;for(lu=0;lu<Lu;lu+=1)for(Wl=0;Wl<ru;){if(Rl[Wl].id===gu[lu].id){Rl[Wl]=gu[lu];break}Wl+=1}if((Qs.chars||Qs.fonts)&&(this.renderer.globalData.fontManager.addChars(Qs.chars),this.renderer.globalData.fontManager.addFonts(Qs.fonts,this.renderer.globalData.defs)),Qs.assets)for(ru=Qs.assets.length,Wl=0;Wl<ru;Wl+=1)this.animationData.assets.push(Qs.assets[Wl]);this.animationData.__complete=!1,Ll.completeAnimation(this.animationData,this.onSegmentComplete)},xp.prototype.onSegmentComplete=function(Qs){this.animationData=Qs,Rs&&Rs.initExpressions(this),this.loadNextSegment()},xp.prototype.loadNextSegment=function(){var Qs=this.animationData.segments;if(!Qs||Qs.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var Rl=Qs.shift();this.timeCompleted=Rl.time*this.frameRate;var Wl=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,Ll.loadData(Wl,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},xp.prototype.loadSegments=function(){var Qs=this.animationData.segments;Qs||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},xp.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},xp.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},xp.prototype.configAnimation=function(Qs){if(this.renderer)try{this.animationData=Qs,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(Qs),Qs.assets||(Qs.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(Qs.assets),this.markers=am(Qs.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(Rl){this.triggerConfigError(Rl)}},xp.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},xp.prototype.checkLoaded=function(){!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()&&(this.isLoaded=!0,Rs&&Rs.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},xp.prototype.resize=function(){this.renderer.updateContainerSize()},xp.prototype.setSubframe=function(Qs){this.isSubframeEnabled=!!Qs},xp.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},xp.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(Qs){this.triggerRenderFrameError(Qs)}},xp.prototype.play=function(Qs){Qs&&this.name!==Qs||this.isPaused===!0&&(this.isPaused=!1,this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},xp.prototype.pause=function(Qs){Qs&&this.name!==Qs||this.isPaused===!1&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"),this.audioController.pause())},xp.prototype.togglePause=function(Qs){Qs&&this.name!==Qs||(this.isPaused===!0?this.play():this.pause())},xp.prototype.stop=function(Qs){Qs&&this.name!==Qs||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},xp.prototype.getMarkerData=function(Qs){for(var Rl,Wl=0;Wl<this.markers.length;Wl+=1)if(Rl=this.markers[Wl],Rl.payload&&Rl.payload.name===Qs)return Rl;return null},xp.prototype.goToAndStop=function(Qs,Rl,Wl){if(!(Wl&&this.name!==Wl)){var ru=Number(Qs);if(isNaN(ru)){var gu=this.getMarkerData(Qs);gu&&this.goToAndStop(gu.time,!0)}else Rl?this.setCurrentRawFrameValue(Qs):this.setCurrentRawFrameValue(Qs*this.frameModifier);this.pause()}},xp.prototype.goToAndPlay=function(Qs,Rl,Wl){if(!(Wl&&this.name!==Wl)){var ru=Number(Qs);if(isNaN(ru)){var gu=this.getMarkerData(Qs);gu&&(gu.duration?this.playSegments([gu.time,gu.time+gu.duration],!0):this.goToAndStop(gu.time,!0))}else this.goToAndStop(ru,Rl,Wl);this.play()}},xp.prototype.advanceTime=function(Qs){if(!(this.isPaused===!0||this.isLoaded===!1)){var Rl=this.currentRawFrame+Qs*this.frameModifier,Wl=!1;Rl>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(Rl>this.totalFrames?Rl%this.totalFrames:0)||(Wl=!0,Rl=this.totalFrames-1):Rl>=this.totalFrames?(this.playCount+=1,this.checkSegments(Rl%this.totalFrames)||(this.setCurrentRawFrameValue(Rl%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(Rl):Rl<0?this.checkSegments(Rl%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+Rl%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(Wl=!0,Rl=0)):this.setCurrentRawFrameValue(Rl),Wl&&(this.setCurrentRawFrameValue(Rl),this.pause(),this.trigger("complete"))}},xp.prototype.adjustSegment=function(Qs,Rl){this.playCount=0,Qs[1]<Qs[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=Qs[0]-Qs[1],this.timeCompleted=this.totalFrames,this.firstFrame=Qs[1],this.setCurrentRawFrameValue(this.totalFrames-.001-Rl)):Qs[1]>Qs[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=Qs[1]-Qs[0],this.timeCompleted=this.totalFrames,this.firstFrame=Qs[0],this.setCurrentRawFrameValue(.001+Rl)),this.trigger("segmentStart")},xp.prototype.setSegment=function(Qs,Rl){var Wl=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<Qs?Wl=Qs:this.currentRawFrame+this.firstFrame>Rl&&(Wl=Rl-Qs)),this.firstFrame=Qs,this.totalFrames=Rl-Qs,this.timeCompleted=this.totalFrames,Wl!==-1&&this.goToAndStop(Wl,!0)},xp.prototype.playSegments=function(Qs,Rl){if(Rl&&(this.segments.length=0),typeof Qs[0]=="object"){var Wl,ru=Qs.length;for(Wl=0;Wl<ru;Wl+=1)this.segments.push(Qs[Wl])}else this.segments.push(Qs);this.segments.length&&Rl&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},xp.prototype.resetSegments=function(Qs){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),Qs&&this.checkSegments(0)},xp.prototype.checkSegments=function(Qs){return this.segments.length?(this.adjustSegment(this.segments.shift(),Qs),!0):!1},xp.prototype.destroy=function(Qs){Qs&&this.name!==Qs||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},xp.prototype.setCurrentRawFrameValue=function(Qs){this.currentRawFrame=Qs,this.gotoFrame()},xp.prototype.setSpeed=function(Qs){this.playSpeed=Qs,this.updaFrameModifier()},xp.prototype.setDirection=function(Qs){this.playDirection=Qs<0?-1:1,this.updaFrameModifier()},xp.prototype.setVolume=function(Qs,Rl){Rl&&this.name!==Rl||this.audioController.setVolume(Qs)},xp.prototype.getVolume=function(){return this.audioController.getVolume()},xp.prototype.mute=function(Qs){Qs&&this.name!==Qs||this.audioController.mute()},xp.prototype.unmute=function(Qs){Qs&&this.name!==Qs||this.audioController.unmute()},xp.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},xp.prototype.getPath=function(){return this.path},xp.prototype.getAssetsPath=function(Qs){var Rl="";if(Qs.e)Rl=Qs.p;else if(this.assetsPath){var Wl=Qs.p;Wl.indexOf("images/")!==-1&&(Wl=Wl.split("/")[1]),Rl=this.assetsPath+Wl}else Rl=this.path,Rl+=Qs.u?Qs.u:"",Rl+=Qs.p;return Rl},xp.prototype.getAssetData=function(Qs){for(var Rl=0,Wl=this.assets.length;Rl<Wl;){if(Qs===this.assets[Rl].id)return this.assets[Rl];Rl+=1}return null},xp.prototype.hide=function(){this.renderer.hide()},xp.prototype.show=function(){this.renderer.show()},xp.prototype.getDuration=function(Qs){return Qs?this.totalFrames:this.totalFrames/this.frameRate},xp.prototype.trigger=function(Qs){if(this._cbs&&this._cbs[Qs])switch(Qs){case"enterFrame":case"drawnFrame":this.triggerEvent(Qs,new xl(Qs,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(Qs,new Vl(Qs,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(Qs,new Ml(Qs,this.frameMult));break;case"segmentStart":this.triggerEvent(Qs,new Ul(Qs,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(Qs,new _h(Qs,this));break;default:this.triggerEvent(Qs)}Qs==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new xl(Qs,this.currentFrame,this.totalFrames,this.frameMult)),Qs==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new Vl(Qs,this.loop,this.playCount,this.frameMult)),Qs==="complete"&&this.onComplete&&this.onComplete.call(this,new Ml(Qs,this.frameMult)),Qs==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new Ul(Qs,this.firstFrame,this.totalFrames)),Qs==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new _h(Qs,this))},xp.prototype.triggerRenderFrameError=function(Qs){var Rl=new nu(Qs,this.currentFrame);this.triggerEvent("error",Rl),this.onError&&this.onError.call(this,Rl)},xp.prototype.triggerConfigError=function(Qs){var Rl=new su(Qs,this.currentFrame);this.triggerEvent("error",Rl),this.onError&&this.onError.call(this,Rl)};function zp(){this.effectElements=[]}var lp={};function gp(Qs){Ss=Qs}function Tp(){Lp.searchAnimations()}function mu(Qs){Is=Qs}function Iu(Qs){Ts=Qs}function Cu(Qs){return Lp.loadAnimation(Qs)}function Ju(Qs){if(typeof Qs=="string")switch(Qs){case"high":Cl=200;break;default:case"medium":Cl=50;break;case"low":Cl=10;break}else!isNaN(Qs)&&Qs>1&&(Cl=Qs)}function Ku(){return typeof navigator<"u"}function ep(Qs,Rl){Qs==="expressions"&&(Rs=Rl)}function up(Qs){switch(Qs){case"propertyFactory":return Dl;case"shapePropertyFactory":return iu;case"matrix":return zl;default:return null}}lp.play=Lp.play,lp.pause=Lp.pause,lp.setLocationHref=gp,lp.togglePause=Lp.togglePause,lp.setSpeed=Lp.setSpeed,lp.setDirection=Lp.setDirection,lp.stop=Lp.stop,lp.searchAnimations=Tp,lp.registerAnimation=Lp.registerAnimation,lp.loadAnimation=Cu,lp.setSubframeRendering=mu,lp.resize=Lp.resize,lp.goToAndStop=Lp.goToAndStop,lp.destroy=Lp.destroy,lp.setQuality=Ju,lp.inBrowser=Ku,lp.installPlugin=ep,lp.freeze=Lp.freeze,lp.unfreeze=Lp.unfreeze,lp.setVolume=Lp.setVolume,lp.mute=Lp.mute,lp.unmute=Lp.unmute,lp.getRegisteredAnimations=Lp.getRegisteredAnimations,lp.useWebWorker=function(Qs){_s=Qs},lp.setIDPrefix=Iu,lp.__getFactory=up,lp.version="5.8.1";function Pu(){document.readyState==="complete"&&(clearInterval(Jp),Tp())}function yp(Qs){for(var Rl=wp.split("&"),Wl=0;Wl<Rl.length;Wl+=1){var ru=Rl[Wl].split("=");if(decodeURIComponent(ru[0])==Qs)return decodeURIComponent(ru[1])}return null}var wp;{var vp=document.getElementsByTagName("script"),Rp=vp.length-1,Gp=vp[Rp]||{src:""};wp=Gp.src.replace(/^[^\?]+\??/,""),yp("renderer")}var Jp=setInterval(Pu,100);return lp})})(lottieWebLight);var lottieWebLightExports=lottieWebLight.exports;const w=getDefaultExportFromCjs(lottieWebLightExports);function h(vs,ms){ms===void 0&&(ms={});var ws=ms.insertAt;if(vs&&typeof document<"u"){var Ss=document.head||document.getElementsByTagName("head")[0],Es=document.createElement("style");Es.type="text/css",ws==="top"&&Ss.firstChild?Ss.insertBefore(Es,Ss.firstChild):Ss.appendChild(Es),Es.styleSheet?Es.styleSheet.cssText=vs:Es.appendChild(document.createTextNode(vs))}}var g=`.pera-wallet-modal-header {
  position: absolute;
  top: -44px;
  right: 0px;
  left: 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.pera-wallet-modal-header--mobile {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  position: static;
}
.pera-wallet-modal-header--mobile .pera-wallet-modal-header__close-button {
  width: 24px;
  height: 24px;
  margin: 0;
  padding: 0;
  background: transparent;
  border: unset;
  box-shadow: unset;
}

.pera-wallet-modal-header__brand {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 14px;
  font-weight: 600;
  line-height: 24px;
  letter-spacing: -0.1px;
  color: #ffffff;
}

.pera-wallet-modal-header__brand-text {
  display: flex;
  align-items: center;
  gap: 6px;
}

.pera-wallet-modal-header__version-number {
  color: #9d9dae;
  font-size: 12px;
  font-weight: 400;
  line-height: 18px;
  letter-spacing: 0.01;
}

.pera-wallet-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: auto;
  height: 48px;
  padding: 14px;
  border: none;
  border-radius: 12px;
  outline: none;
  cursor: pointer;
  font-family: var(--pera-wallet-modal-font-family);
  font-size: 14px;
}

.pera-wallet-modal-header__close-button {
  width: 32px;
  height: 32px;
  margin: 0;
  padding: 0;
  background: rgba(44, 53, 89, 0.1);
  border-radius: 8px;
}

.pera-wallet-modal-header__close-button__close-icon {
  width: 20px;
  height: 20px;
}`;h(g);const x=document.createElement("template"),f=Mt()?"pera-wallet-modal-header pera-wallet-modal-header--mobile":"pera-wallet-modal-header pera-wallet-modal-header--desktop";x.innerHTML=`
  <div class="${f}">
      ${Mt()?"":`<div class="pera-wallet-modal-header__brand">
              <img src="data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='24' height='24' rx='4.8' fill='%23FFEE55'/%3e%3cpath d='M13.0408 5.92462C13.413 7.46693 13.2872 8.8236 12.7597 8.95482C12.2322 9.08605 11.5028 7.94214 11.1306 6.39983C10.7583 4.85752 10.8842 3.50085 11.4117 3.36963C11.9391 3.2384 12.6685 4.38231 13.0408 5.92462Z' fill='black'/%3e%3cpath d='M19.1876 7.25063C18.3632 6.37689 16.7231 6.61371 15.5243 7.77959C14.3254 8.94547 14.0219 10.5989 14.8463 11.4727C15.6707 12.3464 17.3108 12.1096 18.5097 10.9437C19.7085 9.77781 20.012 8.12438 19.1876 7.25063Z' fill='black'/%3e%3cpath d='M12.6308 20.6297C13.1583 20.4985 13.2656 19.0651 12.8705 17.4281C12.4754 15.7911 11.7275 14.5705 11.2 14.7017C10.6725 14.8329 10.5652 16.2663 10.9603 17.9033C11.3554 19.5403 12.1033 20.7609 12.6308 20.6297Z' fill='black'/%3e%3cpath d='M7.25371 8.05056C8.77551 8.49933 9.8875 9.28664 9.73741 9.80906C9.58731 10.3315 8.23197 10.3912 6.71016 9.94242C5.18836 9.49364 4.07637 8.70633 4.22646 8.18391C4.37656 7.66149 5.7319 7.60178 7.25371 8.05056Z' fill='black'/%3e%3cpath d='M17.1309 13.9497C18.7461 14.4261 19.9338 15.2357 19.7837 15.7581C19.6336 16.2806 18.2025 16.3179 16.5873 15.8416C14.9721 15.3653 13.7844 14.5556 13.9345 14.0332C14.0846 13.5108 15.5157 13.4734 17.1309 13.9497Z' fill='black'/%3e%3cpath d='M8.96609 12.8536C8.5887 12.4624 7.35088 13.0318 6.20133 14.1253C5.05177 15.2188 4.42581 16.4225 4.80319 16.8137C5.18058 17.2048 6.4184 16.6355 7.56796 15.542C8.71751 14.4484 9.34347 13.2448 8.96609 12.8536Z' fill='black'/%3e%3c/svg%3e" />

              <div class="pera-wallet-modal-header__brand-text">
                <span>Pera Connect</span>

                <span class="pera-wallet-modal-header__version-number">v1.4.2</span>
              </div>
            </div>
            `} 

      <button
        id="pera-wallet-modal-header-close-button"
        class="pera-wallet-button pera-wallet-modal-header__close-button">
        <img
          class="pera-wallet-modal-header__close-button__close-icon"
          src="${Mt()?"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M18 6L12 12M12 12L6 18M12 12L18 18M12 12L6 6' stroke='%232C3559' stroke-width='2'/%3e%3c/svg%3e":"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M18 6L12 12M12 12L6 18M12 12L18 18M12 12L6 6' stroke='white' stroke-width='2'/%3e%3c/svg%3e"}"
        />
      </button>
    </div>
`;class u extends HTMLElement{constructor(){if(super(),this.attachShadow({mode:"open"}),this.shadowRoot){const ms=document.createElement("style");ms.textContent=g,this.shadowRoot.append(x.content.cloneNode(!0),ms),this.onClose()}}onClose(){var ms;const ws=(ms=this.shadowRoot)===null||ms===void 0?void 0:ms.getElementById("pera-wallet-modal-header-close-button"),Ss=this.getAttribute("modal-id");ws&&Ss===ct&&ws.addEventListener("click",()=>{vt(ct)})}}var _="data:image/svg+xml,%3csvg fill='none' height='80' width='80' xmlns='http://www.w3.org/2000/svg'%3e%3cpath clip-rule='evenodd' d='M39.9 80V68.99h-9.8V80h-.2V68.99h-3.5a6.503 6.503 0 0 1-6.247-4.7 6.514 6.514 0 0 1-4.445-4.444 6.503 6.503 0 0 1-4.695-6.246v-3.5H0v-.2h11.013v-9.8H0v-.2h11.013v-9.8H0v-.2h11.013v-3.5a6.503 6.503 0 0 1 4.694-6.246 6.513 6.513 0 0 1 4.447-4.447 6.503 6.503 0 0 1 6.246-4.696h3.5V0h.2v11.011h9.8V0h.2v11.011h9.8V0h.2v11.011h3.5a6.503 6.503 0 0 1 6.247 4.697 6.514 6.514 0 0 1 4.443 4.444 6.503 6.503 0 0 1 4.701 6.248v3.5H80v.2H68.991v9.8H80v.2H68.991v9.8H80v.2H68.991v3.5a6.503 6.503 0 0 1-4.701 6.248 6.514 6.514 0 0 1-4.443 4.442 6.503 6.503 0 0 1-6.247 4.7h-3.5V80h-.2V68.99h-9.8V80zm28.89-40.1a28.728 28.728 0 0 0-1.746-9.8h-2.5v9.8h4.247zm-4.246.2h4.247a28.729 28.729 0 0 1-1.747 9.8h-2.5zm-.2-.2v-9.8H60.1v9.8zm-4.244.2h4.244v9.8H60.1zm-.2-.2a19.807 19.807 0 0 0-2.633-9.8H50.1v9.8zm-9.8.2h9.8a19.807 19.807 0 0 1-2.633 9.8H50.1zm-.2-.2v-9.8h-9.8v9.8zm-9.8.2h9.8v9.8h-9.8zm-.2-.2v-9.8h-9.8v9.8zm-9.8.2h9.8v9.8h-9.8zm-.2-.2v-9.8h-7.167a19.807 19.807 0 0 0-2.633 9.8zm-9.8.2h9.8v9.8h-7.167a19.807 19.807 0 0 1-2.633-9.8zm-.2-.2v-9.8h-4.245v9.8zm-4.245.2H19.9v9.8h-4.245zm-.2-.2v-9.8H12.96a28.726 28.726 0 0 0-1.748 9.8h4.242zm-4.242.2h4.242v9.8H12.96a28.726 28.726 0 0 1-1.748-9.8zm0 13.5v-3.5h1.608a28.876 28.876 0 0 0 2.634 5.327v2.617c0 .543.066 1.07.192 1.575a6.303 6.303 0 0 1-4.434-6.019zm4.242 1.449a28.674 28.674 0 0 1-2.42-4.949h2.42zm.2.32V50.1H19.9v9.8h-.702a28.915 28.915 0 0 1-3.543-4.53zM20.1 59.9v-9.8h2.518a20.2 20.2 0 0 0 7.282 7.282V59.9zm0-10h2.403a19.966 19.966 0 0 1-2.403-7.053zm9.8 7.25a20 20 0 0 1-7.05-7.05h7.05zm.2.117V50.1h9.8v9.8a19.807 19.807 0 0 1-9.8-2.633zm10 2.633v-9.8h9.8v7.167a19.807 19.807 0 0 1-9.8 2.633zm10-2.75V50.1h7.05a20 20 0 0 1-7.05 7.05zm0 .232a20.2 20.2 0 0 0 7.282-7.282H59.9v9.8h-9.8zm7.397-7.482H59.9v-7.053a19.966 19.966 0 0 1-2.403 7.053zm2.603 10v-9.8h4.244v5.28a28.91 28.91 0 0 1-3.538 4.52zm4.444-4.841V50.1h2.426a28.67 28.67 0 0 1-2.426 4.959zm0 .378a28.881 28.881 0 0 0 2.64-5.337h1.607v3.5a6.303 6.303 0 0 1-4.44 6.021 6.514 6.514 0 0 0 .193-1.577zm2.713-5.537h1.534v-6.477a28.817 28.817 0 0 1-1.534 6.477zm-56.044 0h1.535a28.807 28.807 0 0 1-1.535-6.477zm57.578-20v-3.5a6.303 6.303 0 0 0-4.44-6.02c.126.504.193 1.031.193 1.575v2.608a28.877 28.877 0 0 1 2.639 5.337zm-1.534.2h1.534v6.477a28.815 28.815 0 0 0-1.534-6.477zm-.288-.2a28.673 28.673 0 0 0-2.425-4.958V29.9zm-2.625 0v-5.279a28.911 28.911 0 0 0-3.538-4.521H60.1v9.8zm-4.444 0v-9.8h-9.8v2.518a20.2 20.2 0 0 1 7.282 7.282zm-2.403.2H59.9v7.053a19.966 19.966 0 0 0-2.403-7.053zm-.347-.2a20 20 0 0 0-7.05-7.05v7.05zm-7.25 0v-7.167a19.807 19.807 0 0 0-9.8-2.633v9.8zm-10 0v-9.8a19.807 19.807 0 0 0-9.8 2.633V29.9zm-10 0v-7.05a20 20 0 0 0-7.05 7.05zm-7.282 0a20.2 20.2 0 0 1 7.282-7.282V20.1h-9.8v9.8zm-2.518.2h2.403a19.966 19.966 0 0 0-2.403 7.053zm-.2-.2v-9.8h-.701a28.915 28.915 0 0 0-3.544 4.53v5.27zm-4.445 0v-4.948a28.665 28.665 0 0 0-2.42 4.948zm-2.634 0a28.874 28.874 0 0 1 2.634-5.327v-2.618c0-.543.066-1.07.191-1.574a6.303 6.303 0 0 0-4.433 6.019v3.5zm-1.608.2h1.535a28.81 28.81 0 0 0-1.535 6.477zM36.58 68.79H30.1v-1.536c2.06.749 4.23 1.27 6.479 1.535zm3.321-.001a28.726 28.726 0 0 1-9.8-1.748v-2.497h9.8zm-10-1.822v-2.423h-4.953a28.678 28.678 0 0 0 4.953 2.423zm10-2.623h-9.8V60.1h9.8zm-10 0V60.1h-9.8v.702a28.915 28.915 0 0 0 4.526 3.542H29.9zm7.254-4.444H30.1v-2.403a19.966 19.966 0 0 0 7.053 2.403zm0-39.8a19.966 19.966 0 0 0-7.054 2.403V20.1h7.053zm2.746-.2h-9.8v-4.245h9.8zm-10 0v-4.245h-5.27a28.907 28.907 0 0 0-4.53 3.544v.701zm10-4.445h-9.8V12.96a28.729 28.729 0 0 1 9.8-1.749zm-10 0v-2.421a28.668 28.668 0 0 0-4.95 2.42h4.95zm6.679-4.244a28.81 28.81 0 0 0-6.479 1.536V11.21h6.479zm-6.679 1.61v-1.61h-3.5a6.303 6.303 0 0 0-6.02 4.436 6.514 6.514 0 0 1 1.575-.192h2.617A28.877 28.877 0 0 1 29.9 12.82zm0 55.968V67.18a28.878 28.878 0 0 1-5.331-2.636h-2.614c-.543 0-1.07-.067-1.575-.192a6.303 6.303 0 0 0 6.02 4.437zm20.2 0h3.5a6.303 6.303 0 0 0 6.02-4.438 6.513 6.513 0 0 1-1.576.193h-2.608a28.879 28.879 0 0 1-5.336 2.638zm-.2-1.534v1.534h-6.475a28.808 28.808 0 0 0 6.475-1.534zm.2-.287a28.671 28.671 0 0 0 4.957-2.424H50.1v2.424zm-.2-2.424v2.499a28.728 28.728 0 0 1-9.8 1.746v-4.245zm.2-.2h5.278a28.914 28.914 0 0 0 4.522-3.538V60.1h-9.8zm-.2-4.244v4.244h-9.8V60.1zm0-2.603V59.9h-7.053a19.966 19.966 0 0 0 7.053-2.403zm0-37.397v2.403a19.966 19.966 0 0 0-7.053-2.403H49.9zm.2-.2h9.8v-.705a28.911 28.911 0 0 0-4.526-3.54H50.1V19.9zm-.2-4.245V19.9h-9.8v-4.245h9.8zm.2-.2h4.954a28.676 28.676 0 0 0-4.954-2.423zm-.2-2.497v2.497h-9.8V11.21a28.75 28.75 0 0 1 9.8 1.747zm.2-.14a28.877 28.877 0 0 1 5.332 2.637h2.612c.543 0 1.071.066 1.576.192a6.303 6.303 0 0 0-6.02-4.436h-3.5zm-.2-1.607v1.534a28.812 28.812 0 0 0-6.475-1.534H49.9zm-34.245 44.53v2.303c0 .567.075 1.117.215 1.64a6.309 6.309 0 0 0 1.643.216h1.41a29.118 29.118 0 0 1-3.268-4.16zm3.458 4.359h-1.6a6.513 6.513 0 0 1-1.578-.193 6.315 6.315 0 0 0 4.157 4.157 6.517 6.517 0 0 1-.192-1.575v-1.602a29.35 29.35 0 0 1-.787-.787zm.787.509a29.029 29.029 0 0 1-.508-.509h.508zm.2.469v1.411c0 .567.075 1.117.215 1.64.523.14 1.073.215 1.64.215h2.3a29.118 29.118 0 0 1-4.155-3.266zm35.649 3.266h2.295c.567 0 1.117-.075 1.64-.216a6.286 6.286 0 0 0 .216-1.639v-1.407a29.116 29.116 0 0 1-4.151 3.262zm4.35-3.454v1.598a6.53 6.53 0 0 1-.192 1.574 6.314 6.314 0 0 0 4.155-4.154 6.509 6.509 0 0 1-1.572.191h-1.6a29.08 29.08 0 0 1-.791.791zm.982-.991h1.41c.565 0 1.114-.075 1.636-.215a6.31 6.31 0 0 0 .216-1.641V55.75a29.113 29.113 0 0 1-3.262 4.15zm3.262-35.65v-2.295c0-.568-.075-1.117-.216-1.64a6.307 6.307 0 0 0-1.637-.215h-1.41a29.112 29.112 0 0 1 3.263 4.15zM60.89 19.9h1.6c.542 0 1.069.066 1.573.192a6.314 6.314 0 0 0-4.156-4.157 6.51 6.51 0 0 1 .192 1.576v1.598c.269.259.532.522.79.791zm-.991-.981V17.51a6.31 6.31 0 0 0-.216-1.64 6.308 6.308 0 0 0-1.64-.216h-2.299a29.108 29.108 0 0 1 4.155 3.264zm-35.641-3.264h-2.304a6.31 6.31 0 0 0-1.639.215 6.306 6.306 0 0 0-.216 1.641v1.412a29.115 29.115 0 0 1 4.159-3.268zM19.9 19.113v-1.602c0-.543.067-1.072.193-1.577a6.315 6.315 0 0 0-4.159 4.16 6.518 6.518 0 0 1 1.58-.194h1.6c.257-.267.519-.53.786-.787zm-.508.787h.508v-.508c-.171.167-.34.337-.508.508zm-.47.2h-1.409a6.31 6.31 0 0 0-1.643.216 6.308 6.308 0 0 0-.215 1.639v2.305a29.107 29.107 0 0 1 3.268-4.16zm41.178-.712c.173.168.344.34.512.512H60.1zm.513 40.712c-.169.173-.34.344-.513.513V60.1z' fill='%2394a3b8' fill-rule='evenodd'/%3e%3crect fill='black' height='80' rx='16' width='80'/%3e%3cpath d='M43.47 19.752c1.24 5.14.821 9.663-.937 10.1-1.758.438-4.19-3.375-5.43-8.517-1.241-5.14-.822-9.663.936-10.1 1.759-.438 4.19 3.376 5.43 8.517zm20.49 4.42c-2.749-2.913-8.216-2.123-12.212 1.763s-5.008 9.398-2.26 12.31 8.215 2.123 12.211-1.763 5.008-9.398 2.26-12.31zM42.102 68.769c1.758-.438 2.116-5.216.8-10.673-1.318-5.456-3.81-9.525-5.57-9.088-1.757.438-2.115 5.216-.798 10.672 1.317 5.457 3.81 9.526 5.568 9.089zM24.18 26.838c5.073 1.496 8.78 4.12 8.28 5.862-.5 1.741-5.019 1.94-10.091.444-5.073-1.496-8.78-4.12-8.28-5.861.501-1.742 5.019-1.941 10.092-.445zm32.924 19.664c5.384 1.588 9.343 4.286 8.843 6.028-.5 1.741-5.27 1.866-10.654.278-5.385-1.588-9.343-4.286-8.843-6.028.5-1.741 5.27-1.866 10.654-.278zm-27.216-3.654c-1.258-1.304-5.384.594-9.215 4.24-3.832 3.644-5.919 7.656-4.66 8.96 1.257 1.304 5.383-.594 9.215-4.239s5.918-7.657 4.66-8.96z' fill='%23fe5'/%3e%3c/svg%3e",b=`.pera-wallet-download-qr-code-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  width: fit-content;
  margin: 26px auto 0;
  padding: 10px;
  box-shadow: 0px 20px 60px rgba(26, 35, 91, 0.15), 0px 4px 12px rgba(26, 35, 91, 0.05), 0px 1px 4px rgba(26, 35, 91, 0.06);
  border-radius: 24px;
}

@media (max-width: 767px) {
  .pera-wallet-download-qr-code-wrapper {
    margin-top: 51px;
  }
}`;h(b);const v=document.createElement("template");v.innerHTML=`
  <div id="pera-wallet-download-qr-code-wrapper" class="pera-wallet-download-qr-code-wrapper"></div>  
`;class C extends HTMLElement{constructor(){if(super(),this.attachShadow({mode:"open"}),this.shadowRoot){const ms=document.createElement("style");ms.textContent=b,this.shadowRoot.append(v.content.cloneNode(!0),ms)}}connectedCallback(){var ms;const ws=new m({width:205,height:205,type:"svg",data:Wt,image:_,dotsOptions:{color:"#000",type:"extra-rounded"},imageOptions:{crossOrigin:"anonymous",margin:10},cornersSquareOptions:{type:"extra-rounded"},cornersDotOptions:{type:"dot"}}),Ss=(ms=this.shadowRoot)===null||ms===void 0?void 0:ms.getElementById("pera-wallet-download-qr-code-wrapper");Ss&&ws.append(Ss)}}var k="data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M8.5 19L15.5 12L8.5 5' stroke='%233C3C49' stroke-width='2'/%3e%3c/svg%3e",y=`.pera-wallet-connect-modal-desktop-mode {
  display: grid;
  grid-template-columns: 205px auto;
  gap: 70px;
}
.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view {
  display: block;
}
.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-item--active .pera-wallet-accordion-item__content {
  height: 364px;
}
.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-avaliable .pera-wallet-accordion-item--web-wallet {
  display: none;
}
.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-avaliable .pera-wallet-accordion-item .pera-wallet-accordion-toggle {
  padding: 26px 24px 12px;
  border-radius: 24px 24px 0 0;
  transition: all ease-in 0.2s;
}
.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-avaliable .pera-wallet-accordion-item .pera-wallet-accordion-item__content {
  height: 434px;
  border-radius: 0 0 24px 24px;
  transition: height ease-in 0.2s;
}
.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-avaliable .pera-wallet-accordion-item .pera-wallet-accordion-icon {
  transform: rotate(90deg);
}
.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-avaliable .pera-wallet-connect-modal-desktop-mode__download-pera-description {
  margin-top: 50px;
}
.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__download-view {
  display: none;
}
.pera-wallet-connect-modal-desktop-mode--download .pera-wallet-connect-modal-desktop-mode__default-view {
  display: none;
}
.pera-wallet-connect-modal-desktop-mode--download .pera-wallet-connect-modal-desktop-mode__download-view {
  display: block;
}
.pera-wallet-connect-modal-desktop-mode--download .pera-wallet-connect-modal-desktop-mode__download-view .pera-wallet-connect-modal-download-pera-view__footer a {
  display: flex;
  cursor: pointer;
}
.pera-wallet-connect-modal-desktop-mode--compact {
  grid-template-columns: unset;
  gap: unset;
}
.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__web-wallet {
  padding: 28px 40px;
}
.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__web-wallet .pera-wallet-connect-modal-desktop-mode__web-wallet__logo-wrapper {
  box-shadow: unset;
}
.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__web-wallet .pera-wallet-connect-modal-desktop-mode__web-wallet__description {
  margin-bottom: 16px;
}
.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__web-wallet .pera-wallet-connect-modal-desktop-mode__web-wallet__launch-button {
  width: 172px;
  height: 40px;
  margin: 0 auto;
}
.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__web-wallet-iframe {
  height: 100%;
}
.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view {
  overflow: hidden;
  border-radius: 24px;
}
.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-item {
  margin-bottom: 0;
  border-radius: 0;
}
.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-item:not(:last-child) {
  border-bottom: 1px solid #e6e8ee;
}
.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-item #pera-wallet-iframe {
  height: 100%;
}
.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-toggle {
  padding: 20px;
}
.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-toggle__text, .pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-toggle__content-with-label__text {
  color: #626268;
  font-size: 14px;
  font-weight: 500;
  line-height: 24px;
  letter-spacing: -0.09px;
}
.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-toggle__bold-color {
  font-weight: 600;
  color: #1a1a1a;
}
.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-item--active .pera-wallet-accordion-item__content {
  height: 265px;
}
.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-connect-modal-desktop-mode__download-pera-container {
  display: flex;
  justify-content: space-between;
  margin-top: 14px;
  padding: 0 20px;
}
.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-connect-modal-desktop-mode__download-pera-description,
.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-connect-modal-desktop-mode__download-pera-button {
  margin: 0;
}
.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-connect-modal-desktop-mode__download-pera-button {
  font-weight: 500;
}
.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-connect-qr-code-wrapper {
  margin: 4px auto 0;
  padding: 0;
  box-shadow: unset;
}
.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-connect-qr-code-wrapper svg {
  padding: 8px;
  box-shadow: 0px 20px 60px rgba(26, 35, 91, 0.15), 0px 4px 12px rgba(26, 35, 91, 0.05), 0px 1px 4px rgba(26, 35, 91, 0.06);
  border-radius: 12px;
}
.pera-wallet-connect-modal-desktop-mode--select-account {
  width: 100%;
  height: 100%;
}
.pera-wallet-connect-modal-desktop-mode--select-account.pera-wallet-connect-modal-desktop-mode--default {
  overflow: hidden;
}
.pera-wallet-connect-modal-desktop-mode--select-account .pera-wallet-connect-modal-desktop-mode__web-wallet-iframe {
  position: unset;
}
.pera-wallet-connect-modal-desktop-mode--select-account .pera-wallet-accordion {
  overflow: hidden;
}
.pera-wallet-connect-modal-desktop-mode--select-account #pera-wallet-iframe {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 3;
  width: 100%;
  height: 100%;
  border-radius: 16px;
}

.pera-wallet-connect-modal-desktop-mode__accordion__description,
.pera-wallet-connect-modal-desktop-mode__connect-button-wrapper {
  padding: 0 40px 20px 64px;
}

.pera-wallet-connect-modal-desktop-mode__web-wallet {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: calc(100% - 88px);
  padding: 48px 52px 40px;
  margin: 0 auto;
}

.pera-wallet-connect-modal-desktop-mode__web-wallet__logo-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 72px;
  height: 72px;
  margin: 0 auto 16px;
  background: #ffffff;
  border-radius: 50%;
  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.1), 0px 10px 16px rgba(20, 37, 63, 0.06);
}

.pera-wallet-connect-modal-desktop-mode__web-wallet__description {
  margin: 0 auto 32px;
  font-size: 14px;
  line-height: 24px;
  letter-spacing: -0.1px;
  text-align: center;
  color: #6a6a81;
}

.pera-wallet-connect-modal-desktop-mode__web-wallet__launch-button {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  width: 100%;
  padding: 14px 0;
  color: #ffffff;
  background-color: #6b46fe;
  border-radius: 12px;
  font-size: 14px;
  font-weight: 500;
  line-height: 20px;
  letter-spacing: -0.1;
  border: none;
  outline: none;
  cursor: pointer;
}

.pera-wallet-connect-modal-desktop-mode__web-wallet-iframe {
  position: relative;
  width: fit-content;
  margin: 0 auto;
}

.pera-wallet-connect-modal-desktop-mode__connect-button {
  display: block;
  width: 100%;
  height: 48px;
  border: unset;
  border-radius: 6px;
  background-color: #333333;
  color: white;
  cursor: pointer;
  font-family: var(--pera-wallet-modal-font-family);
  font-size: 13px;
}

.pera-wallet-connect-qr-code-wrapper {
  width: fit-content;
  margin: 24px auto 0;
  padding: 10px;
  box-shadow: 0px 20px 60px rgba(26, 35, 91, 0.15), 0px 4px 12px rgba(26, 35, 91, 0.05), 0px 1px 4px rgba(26, 35, 91, 0.06);
  border-radius: 24px;
}

.pera-wallet-connect-modal-desktop-mode__download-pera-description {
  color: #838aa6;
  text-align: center;
  margin: 32px 0 12px;
  font-size: 13px;
  font-weight: 500;
  line-height: 20px;
  letter-spacing: -0.04px;
}

.pera-wallet-connect-modal-desktop-mode__download-pera-button {
  display: flex;
  align-items: center;
  gap: 8px;
  margin: 0 auto;
  padding: 0;
  color: #6b46fe;
  background-color: transparent;
  outline: none;
  border: none;
  font-weight: 600;
  font-size: 13px;
  line-height: 20px;
  letter-spacing: 0.01px;
  cursor: pointer;
}

.pera-wallet-connect-modal-download-pera-view__back-button {
  display: flex;
  align-items: center;
  gap: 16px;
  margin-bottom: 14px;
  padding: 12px 24px;
  color: #3c3c49;
  background-color: #ffffff;
  outline: none;
  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);
  border: unset;
  border-radius: 24px;
  font-size: 14px;
  font-weight: 600;
  line-height: 24px;
  letter-spacing: -0.1px;
  cursor: pointer;
}

.pera-wallet-connect-modal-download-pera-view {
  padding: 32px 37px 28px;
  background-color: #ffffff;
  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);
  border-radius: 24px;
}

.pera-wallet-connect-modal-download-pera-view__title {
  margin-bottom: 8px;
  color: #3c3c49;
  font-weight: 600;
  font-size: 15px;
  line-height: 18px;
  text-align: center;
  letter-spacing: -0.13px;
}

.pera-wallet-connect-modal-download-pera-view__footer {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  margin-top: 53px;
}

.pera-wallet-connect-modal-download-pera-view__footer__button {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 8px 16px;
  color: #6a6a81;
  background-color: #ffffff;
  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);
  text-decoration: none;
  border-radius: 12px;
  font-weight: 500;
  font-size: 13px;
  line-height: 200%;
  letter-spacing: -0.04px;
  cursor: pointer;
}

#pera-wallet-iframe {
  width: 285px;
  height: 376px;
  margin: 0 auto;
  border: none;
}

@media (max-width: 767px) {
  .pera-wallet-connect-modal-desktop-mode {
    grid-template-columns: 1fr;
    gap: 24px;
  }
  .pera-wallet-connect-qr-code-wrapper {
    margin-top: 16px;
  }
  .pera-wallet-connect-modal-download-pera-view {
    padding: 24px;
  }
  .pera-wallet-download-qr-code-wrapper {
    margin-top: 32px;
  }
  .pera-wallet-connect-modal-download-pera-view__footer {
    margin-top: 40px;
  }
}`;h(y);var L=`.pera-wallet-accordion-item {
  background-color: #ffffff;
  border-radius: 24px;
  box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.02), 0px 4px 12px rgba(0, 0, 0, 0.03);
}
.pera-wallet-accordion-item:not(:last-of-type) {
  margin-bottom: 20px;
}
.pera-wallet-accordion-item:not(:last-of-type) .pera-wallet-accordion-panel {
  display: flex;
  align-items: center;
  justify-content: center;
}
.pera-wallet-accordion-item .pera-wallet-accordion-item__content {
  height: 0;
  overflow: hidden;
  color: #69708d;
  background-color: #ffffff;
  font-size: 13px;
  font-weight: 500;
  line-height: 20px;
  letter-spacing: -0.04px;
  transition: height ease-in 0.2s;
}
.pera-wallet-accordion-item--active .pera-wallet-accordion-toggle {
  padding: 26px 24px 12px;
  border-radius: 24px 24px 0 0;
  transition: all ease-in 0.2s;
}
.pera-wallet-accordion-item--active .pera-wallet-accordion-item__content {
  border-radius: 0 0 24px 24px;
  transition: height ease-in 0.2s;
}
.pera-wallet-accordion-item--active .pera-wallet-accordion-icon {
  transform: rotate(90deg);
}

.pera-wallet-accordion-toggle {
  position: relative;
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 12px 24px;
  color: #2c3559;
  background-color: #ffffff;
  border: none;
  border-radius: 24px;
  outline: none;
  cursor: pointer;
  font-size: 16px;
  line-height: 18px;
  letter-spacing: -0.1px;
  font-weight: 600;
  transition: all ease-in 0.2s;
}
.pera-wallet-accordion-toggle__text, .pera-wallet-accordion-toggle__content-with-label__text {
  color: #626268;
}

.pera-wallet-accordion-icon {
  transition: all ease-in 0.2s;
}

.pera-wallet-accordion-toggle__bold-color {
  color: #1A1A1A;
  font-weight: 600;
}

.pera-wallet-accordion-toggle__content-with-label {
  display: flex;
  align-items: center;
  gap: 12px;
}

.pera-wallet-accordion-toggle__label {
  padding: 4px 9px;
  color: #1C786C;
  background: #E0FAEE;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 600;
  line-height: 18px;
  letter-spacing: 0.01px;
}

.pera-wallet-accordion-toggle__button {
  position: absolute;
  z-index: 2;
  width: 100%;
  height: 100%;
  background: transparent;
  box-shadow: none;
  outline: none;
  border: none;
  cursor: pointer;
}

@media (max-width: 767px) {
  .pera-wallet-accordion-toggle {
    font-size: 14px;
    font-weight: 500;
    line-height: 24px;
    letter-spacing: -0.1px;
  }
}`;h(L);const M=document.createElement("template"),z=document.createElement("style"),E=document.createElement("style");z.textContent=y,E.textContent=L,M.innerHTML=`
  <div id="pera-wallet-connect-modal-desktop-mode" class="pera-wallet-connect-modal-desktop-mode pera-wallet-connect-modal-desktop-mode--default">
      <pera-wallet-connect-modal-information-section></pera-wallet-connect-modal-information-section>

      <div class="pera-wallet-connect-modal-desktop-mode__default-view"></div>
       

      <div class="pera-wallet-connect-modal-desktop-mode__download-view">
        <button
          id="pera-wallet-connect-modal-download-pera-view-back-button"
          class="pera-wallet-connect-modal-download-pera-view__back-button">
          <img
            src="data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M10.7071 6.29387C11.0976 6.68439 11.0976 7.31756 10.7071 7.70808L7.41421 11.001L19 11.001C19.5523 11.001 20 11.4487 20 12.001C20 12.5533 19.5523 13.001 19 13.001L7.41421 13.001L10.7071 16.2939C11.0976 16.6844 11.0976 17.3176 10.7071 17.7081C10.3166 18.0986 9.68342 18.0986 9.29289 17.7081L4.29289 12.7081C4.10536 12.5205 4 12.2662 4 12.001C4 11.7358 4.10536 11.4814 4.29289 11.2939L9.29289 6.29387C9.68342 5.90335 10.3166 5.90335 10.7071 6.29387Z' fill='%233C3C49'/%3e%3c/svg%3e"
            alt="Back Arrow"
          />

          Back
        </button>

        <div class="pera-wallet-connect-modal-download-pera-view">
          <h1 class="pera-wallet-connect-modal-download-pera-view__title">
            Download Pera Wallet
          </h1>

          <pera-wallet-download-qr-code></pera-wallet-download-qr-code>

          <div class="pera-wallet-connect-modal-download-pera-view__footer">
            <a
              href="https://apps.apple.com/us/app/algorand-wallet/id1459898525"
              target="_blank"
              rel="noopener noreferrer">
              <img src="data:image/svg+xml,%3csvg width='40' height='40' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='40' height='40' rx='12' fill='black'/%3e%3cpath d='M25.6308 20.3011C25.6416 19.4664 25.8633 18.6481 26.2753 17.9221C26.6873 17.1962 27.2763 16.5863 27.9873 16.1491C27.5356 15.5039 26.9397 14.973 26.2469 14.5984C25.554 14.2239 24.7834 14.016 23.9963 13.9914C22.317 13.8151 20.6891 14.9962 19.8333 14.9962C18.9611 14.9962 17.6436 14.0089 16.2249 14.0381C15.3072 14.0677 14.4128 14.3346 13.6289 14.8126C12.8451 15.2906 12.1984 15.9636 11.7519 16.7659C9.81789 20.1144 11.2605 25.0354 13.1132 27.742C14.0401 29.0674 15.1233 30.5478 16.5408 30.4953C17.9278 30.4378 18.4458 29.6108 20.1202 29.6108C21.779 29.6108 22.265 30.4953 23.7112 30.4619C25.1995 30.4378 26.1372 29.1307 27.0316 27.7928C27.6976 26.8484 28.2101 25.8047 28.55 24.7003C27.6853 24.3345 26.9474 23.7224 26.4283 22.9401C25.9092 22.1578 25.6318 21.2399 25.6308 20.3011ZM22.8993 12.2113C23.7108 11.2371 24.1106 9.98492 24.0138 8.7207C22.7739 8.85092 21.6287 9.44347 20.8062 10.3803C20.404 10.838 20.096 11.3704 19.8998 11.9472C19.7035 12.5239 19.6229 13.1337 19.6625 13.7417C20.2826 13.7481 20.8961 13.6137 21.4568 13.3486C22.0175 13.0835 22.5107 12.6946 22.8993 12.2113Z' fill='white'/%3e%3c/svg%3e" alt="App Store icon" />
            </a>

            <a
              href="https://play.google.com/store/apps/details?id=com.algorand.android"
              target="_blank"
              rel="noopener noreferrer">
              <img src="data:image/svg+xml,%3csvg width='40' height='40' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='40' height='40' rx='12' fill='black'/%3e%3cpath d='M12.41 9.7719C12.1334 10.0219 11.9683 10.4388 11.9683 10.9922V10.8671V29.1294V29.0091C11.9683 29.5202 12.1099 29.9149 12.3497 30.169L12.4109 30.2277V30.228C12.6051 30.4035 12.854 30.4966 13.1393 30.4963C13.418 30.4963 13.7316 30.4073 14.0626 30.2194L26.0264 23.4107L30.1359 21.0717C30.6578 20.7748 30.9508 20.3917 30.9998 20.0014V19.9998C30.9508 19.6087 30.6578 19.2259 30.1359 18.9289L26.0261 16.5902L14.0627 9.78154C13.731 9.59325 13.4171 9.50391 13.1376 9.50391C12.8527 9.50391 12.6041 9.59677 12.41 9.7719H12.41Z' fill='%2300C1FF'/%3e%3cpath d='M12.411 30.2285L12.3497 30.1698C12.1099 29.9157 11.9683 29.5209 11.9683 29.0098V29.1301V10.8724V10.993C11.9683 10.4396 12.1334 10.0226 12.41 9.77268L22.622 20.0009L12.411 30.2285Z' fill='url(%23paint0_linear_173_14441)'/%3e%3cpath d='M26.0256 23.4102L22.6211 19.9996L26.0253 16.5896L30.1351 18.9283C30.657 19.2253 30.95 19.6081 30.9989 19.9993V20.0008C30.95 20.3911 30.657 20.7742 30.1351 21.0712L26.0256 23.4101' fill='url(%23paint1_linear_173_14441)'/%3e%3cpath d='M13.1374 30.4961C12.8522 30.4964 12.6033 30.4032 12.4092 30.2277V30.2275L22.6202 19.9999L26.0246 23.4104L14.0608 30.2191C13.7298 30.4071 13.4162 30.4961 13.1374 30.4961Z' fill='url(%23paint2_linear_173_14441)'/%3e%3cpath d='M22.6212 20.002L12.4092 9.7737C12.6033 9.59858 12.8519 9.50571 13.1368 9.50571C13.4163 9.50571 13.7302 9.59501 14.0618 9.78335L26.0253 16.592L22.6212 20.002' fill='url(%23paint3_linear_173_14441)'/%3e%3cpath d='M13.1394 30.6172C12.8542 30.6172 12.6049 30.524 12.4108 30.3486L12.4105 30.3489C12.4097 30.3481 12.4088 30.3473 12.4079 30.3466L12.3548 30.2947C12.3531 30.2931 12.3516 30.2912 12.3496 30.2893L12.4108 30.2279C12.6049 30.4034 12.8538 30.4966 13.1392 30.4962C13.4179 30.4962 13.7315 30.4073 14.0625 30.2193L26.0263 23.4106L26.1029 23.4874L26.0253 23.5316L14.0625 30.3398C13.7608 30.5111 13.4739 30.6004 13.2147 30.6153C13.1896 30.6165 13.1645 30.6171 13.1394 30.6172' fill='url(%23paint4_linear_173_14441)'/%3e%3cpath d='M12.3497 30.2891C12.1099 30.0349 11.9683 29.6406 11.9683 29.1292V29.0089C11.9683 29.52 12.1099 29.9146 12.3497 30.1688L12.4109 30.2275L12.3497 30.2891Z' fill='url(%23paint5_linear_173_14441)'/%3e%3cpath d='M26.1025 23.4882L26.0259 23.4114L30.1349 21.0727C30.6568 20.7758 30.9498 20.3927 30.9987 20.0025C30.9987 20.1457 30.9668 20.2889 30.9035 20.4282C30.7756 20.7091 30.5194 20.9744 30.135 21.1934L26.1025 23.4883' fill='url(%23paint6_linear_173_14441)'/%3e%3cpath d='M30.9991 20C30.9501 19.6089 30.6571 19.2261 30.1353 18.9291L26.0259 16.5907L26.1025 16.5139H26.1029L30.1353 18.8088C30.7106 19.1365 30.9987 19.5682 30.9991 20Z' fill='url(%23paint7_linear_173_14441)'/%3e%3cpath d='M11.9683 10.9922V10.8661C11.9683 10.8206 11.9695 10.7761 11.9718 10.7329V10.7309C11.9718 10.7303 11.9718 10.7297 11.972 10.729V10.7242C11.9969 10.284 12.1334 9.94066 12.3497 9.71139L12.4099 9.77198C12.1334 10.0219 11.9683 10.4388 11.9683 10.9922Z' fill='url(%23paint8_linear_173_14441)'/%3e%3cpath d='M26.026 16.5898L14.0625 9.78115C13.7308 9.59285 13.417 9.50355 13.1375 9.50355C12.8525 9.50355 12.6039 9.59642 12.4099 9.77154L12.3496 9.71091C12.3684 9.69096 12.388 9.67172 12.4082 9.65322C12.4089 9.65255 12.4099 9.65188 12.4105 9.65125C12.6031 9.47747 12.849 9.3846 13.1314 9.38293H13.1375C13.417 9.38293 13.7308 9.47227 14.0625 9.66064L26.1029 16.5128L26.1026 16.513L26.026 16.5898Z' fill='url(%23paint9_linear_173_14441)'/%3e%3cdefs%3e%3clinearGradient id='paint0_linear_173_14441' x1='18.4943' y1='10.6794' x2='9.69389' y2='19.494' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%2300A0FF'/%3e%3cstop offset='0.00657' stop-color='%2300A1FF'/%3e%3cstop offset='0.2601' stop-color='%2300BEFF'/%3e%3cstop offset='0.5122' stop-color='%2300D2FF'/%3e%3cstop offset='0.7604' stop-color='%2300DFFF'/%3e%3cstop offset='1' stop-color='%2300E3FF'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear_173_14441' x1='31.6348' y1='19.9407' x2='11.691' y2='19.9407' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23FFE000'/%3e%3cstop offset='0.4087' stop-color='%23FFBD00'/%3e%3cstop offset='0.7754' stop-color='orange'/%3e%3cstop offset='1' stop-color='%23FF9C00'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear_173_14441' x1='24.2172' y1='23.2425' x2='9.30414' y2='38.0705' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23FF3A44'/%3e%3cstop offset='1' stop-color='%23C31162'/%3e%3c/linearGradient%3e%3clinearGradient id='paint3_linear_173_14441' x1='9.77725' y1='8.25731' x2='16.4237' y2='14.876' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%2332A071'/%3e%3cstop offset='0.0685' stop-color='%232DA771'/%3e%3cstop offset='0.4762' stop-color='%2315CF74'/%3e%3cstop offset='0.8009' stop-color='%2306E775'/%3e%3cstop offset='1' stop-color='%2300F076'/%3e%3c/linearGradient%3e%3clinearGradient id='paint4_linear_173_14441' x1='24.2114' y1='25.6084' x2='12.2683' y2='37.5709' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23CC2E36'/%3e%3cstop offset='1' stop-color='%239C0E4E'/%3e%3c/linearGradient%3e%3clinearGradient id='paint5_linear_173_14441' x1='13.3285' y1='10.6804' x2='5.57625' y2='18.4453' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23008DE0'/%3e%3cstop offset='0.00657' stop-color='%23008DE0'/%3e%3cstop offset='0.2601' stop-color='%2300A7E0'/%3e%3cstop offset='0.5122' stop-color='%2300B8E0'/%3e%3cstop offset='0.7604' stop-color='%2300C4E0'/%3e%3cstop offset='1' stop-color='%2300C7E0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint6_linear_173_14441' x1='31.6346' y1='20.0018' x2='11.6929' y2='20.0018' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23E0C500'/%3e%3cstop offset='0.4087' stop-color='%23E0A600'/%3e%3cstop offset='0.7754' stop-color='%23E09100'/%3e%3cstop offset='1' stop-color='%23E08900'/%3e%3c/linearGradient%3e%3clinearGradient id='paint7_linear_173_14441' x1='31.6349' y1='20.0008' x2='11.6933' y2='20.0008' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23FFE840'/%3e%3cstop offset='0.4087' stop-color='%23FFCE40'/%3e%3cstop offset='0.7754' stop-color='%23FFBC40'/%3e%3cstop offset='1' stop-color='%23FFB540'/%3e%3c/linearGradient%3e%3clinearGradient id='paint8_linear_173_14441' x1='13.3201' y1='10.6927' x2='5.8533' y2='17.8475' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%2340B8FF'/%3e%3cstop offset='0.00657' stop-color='%2340B9FF'/%3e%3cstop offset='0.2601' stop-color='%2340CEFF'/%3e%3cstop offset='0.5122' stop-color='%2340DDFF'/%3e%3cstop offset='0.7604' stop-color='%2340E7FF'/%3e%3cstop offset='1' stop-color='%2340EAFF'/%3e%3c/linearGradient%3e%3clinearGradient id='paint9_linear_173_14441' x1='9.76302' y1='10.4182' x2='15.0961' y2='15.76' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%2365B895'/%3e%3cstop offset='0.0685' stop-color='%2362BD95'/%3e%3cstop offset='0.4762' stop-color='%2350DB97'/%3e%3cstop offset='0.8009' stop-color='%2344ED98'/%3e%3cstop offset='1' stop-color='%2340F498'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e" alt="Play Store icon" />
            </a>

            <a
              class="pera-wallet-connect-modal-download-pera-view__footer__button"
              href="https://perawallet.s3-eu-west-3.amazonaws.com/android-releases/app-pera-prod-release-bitrise-signed.apk"
              target="_blank"
              rel="noopener noreferrer">
              <img src="data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M3 14V20C3 20.5523 3.44772 21 4 21H20C20.5523 21 21 20.5523 21 20V14' stroke='%232C3559' stroke-width='1.5'/%3e%3cpath d='M11.9998 16V3M11.9998 16L7.47803 11.4783M11.9998 16L16.5215 11.4783' stroke='%232C3559' stroke-width='1.5'/%3e%3c/svg%3e" alt="Download icon" />

              Download APK File
            </a>
          </div>
        </div>
      </div>
    </div>
  `;class Z extends HTMLElement{constructor(){var ms;if(super(),this.attachShadow({mode:"open"}),this.shadowRoot){if(this.shadowRoot.append(M.content.cloneNode(!0),z,E),this.shadowRoot.addEventListener("click",Is=>{this.handleAccordion(Is)}),this.getAttribute("compact-mode")==="true"){const Is=this.shadowRoot.getElementById("pera-wallet-connect-modal-desktop-mode");Is==null||Is.classList.add("pera-wallet-connect-modal-desktop-mode--compact")}const ws=(ms=this.shadowRoot)===null||ms===void 0?void 0:ms.querySelector(".pera-wallet-connect-modal-desktop-mode__default-view"),Ss=this.getAttribute("promote-mobile")==="true",{webWalletOption:Es,mobileWalletOption:_s}=function(Is){const Ts=`
  <div id="web-wallet-option" class="pera-wallet-accordion-item ${Is?"":"pera-wallet-accordion-item--active"}  pera-wallet-accordion-item--web-wallet">
            <a class="pera-wallet-accordion-toggle">
              <button class="pera-wallet-accordion-toggle__button"></button>
  
              <img src="${k}" class="pera-wallet-accordion-icon" />
  
              <div class="pera-wallet-accordion-toggle__content-with-label">
                <div class="pera-wallet-accordion-toggle__content-with-label__text">
                  Connect With
  
                  <span class="pera-wallet-accordion-toggle__bold-color">
                    Pera Web
                  </span>
                </div>
  
                <span id="pera-web-new-label" class="pera-wallet-accordion-toggle__label">NEW</span>
              </div>
            </a>
  
            <div class="pera-wallet-accordion-item__content">
              <div class="pera-wallet-connect-modal-desktop-mode__web-wallet"><div>
              
              <div
                class="pera-wallet-connect-modal-desktop-mode__web-wallet__logo-wrapper">
                <img src="data:image/svg+xml,%3csvg width='44' height='44' viewBox='0 0 44 44' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='3.5' y='7.5' width='36' height='26' rx='5.5' stroke='%236B46FE' stroke-width='3'/%3e%3cpath d='M22.4973 14.5237C22.8556 16.041 22.7344 17.3757 22.2267 17.5048C21.719 17.6339 21.0169 16.5085 20.6586 14.9912C20.3003 13.4739 20.4214 12.1392 20.9292 12.0101C21.4369 11.881 22.1389 13.0064 22.4973 14.5237Z' fill='%236B46FE'/%3e%3cpath d='M28.4139 15.8282C27.6204 14.9686 26.0417 15.2016 24.8877 16.3486C23.7338 17.4956 23.4417 19.1222 24.2352 19.9818C25.0287 20.8414 26.6074 20.6084 27.7613 19.4614C28.9153 18.3144 29.2074 16.6878 28.4139 15.8282Z' fill='%236B46FE'/%3e%3cpath d='M22.1027 28.9905C22.6104 28.8614 22.7137 27.4512 22.3334 25.8407C21.9531 24.2303 21.2332 23.0294 20.7254 23.1585C20.2177 23.2876 20.1144 24.6978 20.4947 26.3083C20.875 27.9187 21.5949 29.1196 22.1027 28.9905Z' fill='%236B46FE'/%3e%3cpath d='M16.9269 16.6152C18.3917 17.0567 19.4621 17.8312 19.3176 18.3452C19.1731 18.8591 17.8686 18.9179 16.4037 18.4764C14.9389 18.0349 13.8686 17.2603 14.0131 16.7464C14.1575 16.2324 15.4621 16.1737 16.9269 16.6152Z' fill='%236B46FE'/%3e%3cpath d='M26.4342 22.4188C27.9889 22.8874 29.1322 23.6839 28.9877 24.1979C28.8432 24.7118 27.4657 24.7486 25.911 24.28C24.3563 23.8114 23.213 23.0148 23.3575 22.5009C23.502 21.9869 24.8795 21.9502 26.4342 22.4188Z' fill='%236B46FE'/%3e%3cpath d='M18.5752 21.3404C18.2119 20.9555 17.0205 21.5157 15.914 22.5915C14.8075 23.6673 14.2049 24.8514 14.5682 25.2363C14.9314 25.6211 16.1229 25.061 17.2294 23.9852C18.3359 22.9094 18.9384 21.7253 18.5752 21.3404Z' fill='%236B46FE'/%3e%3cpath d='M16 39C21 39.0001 23.5 39.0001 28 39' stroke='%236B46FE' stroke-width='3' stroke-linecap='round'/%3e%3c/svg%3e" />
              </div>
  
              <p
                class="pera-wallet-connect-modal-desktop-mode__web-wallet__description">
                Connect with Pera Web to continue
              </p>
            </div>
  
            <button
              id="pera-wallet-connect-web-wallet-launch-button"
              class="pera-wallet-connect-modal-desktop-mode__web-wallet__launch-button">
              Launch Pera Web
  
              <img src="data:image/svg+xml,%3csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M13.0892 9.41009C13.4147 9.73553 13.4147 10.2632 13.0892 10.5886L8.08924 15.5886C7.7638 15.914 7.23616 15.914 6.91072 15.5886C6.58529 15.2632 6.58529 14.7355 6.91072 14.4101L11.3215 9.99935L6.91073 5.5886C6.58529 5.26317 6.58529 4.73553 6.91073 4.41009C7.23616 4.08466 7.7638 4.08466 8.08924 4.41009L13.0892 9.41009Z' fill='white'/%3e%3c/svg%3e" />
            </button>
          </div>`,Rs=`
  <div id="mobile-wallet-option" class="pera-wallet-accordion-item ${Is?"pera-wallet-accordion-item--active":""}">
            <a class="pera-wallet-accordion-toggle">
            <button class="pera-wallet-accordion-toggle__button"></button>
  
              <img src="${k}" class="pera-wallet-accordion-icon" />
  
              <div class="pera-wallet-accordion-toggle__text">
                Connect with
  
                <span class="pera-wallet-accordion-toggle__bold-color">
                  Pera Mobile
                </span>
              </div>
            </a>
  
            <div class="pera-wallet-accordion-item__content">
              <div id="pera-wallet-connect-modal-connect-qr-code" class="pera-wallet-connect-qr-code-wrapper"></div>
  
              <div class="pera-wallet-connect-modal-desktop-mode__download-pera-container">
                <p
                  class="pera-wallet-connect-modal-desktop-mode__download-pera-description">
                    Don’t have Pera Wallet app?
                </p>
  
                <button
                  id="pera-wallet-connect-modal-desktop-mode-download-pera-button"
                  class="pera-wallet-connect-modal-desktop-mode__download-pera-button">
                  <img src="data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='2' y='2' width='4.66667' height='4.66667' rx='1.2' stroke='%236B46FE' stroke-width='1.5'/%3e%3crect x='2' y='9.33203' width='4.66667' height='4.66667' rx='1.2' stroke='%236B46FE' stroke-width='1.5'/%3e%3crect x='9.33325' y='2' width='4.66667' height='4.66667' rx='1.2' stroke='%236B46FE' stroke-width='1.5'/%3e%3cpath d='M8.70581 9.5293H10.9411' stroke='%236B46FE' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M13.1765 12.668L14.6667 12.668' stroke='%236B46FE' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M13.1765 14L14.6667 14' stroke='%236B46FE' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M11.686 14L13.1762 14' stroke='%236B46FE' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M12.4314 9.5293H14.6667' stroke='%236B46FE' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M8.70581 10.2754H12.4313' stroke='%236B46FE' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M10.196 11.7656H11.6862' stroke='%236B46FE' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M10.196 12.5117H11.6862' stroke='%236B46FE' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M8.70581 13.2539H10.196' stroke='%236B46FE' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M8.70581 14H10.196' stroke='%236B46FE' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M10.196 11.0195H12.4313' stroke='%236B46FE' stroke-width='1.25' stroke-linejoin='round'/%3e%3c/svg%3e" alt="QR Icon" />
  
                  Download Pera Wallet
                </button>
              </div>
            </div>
          </div>`;return{mobileWalletOption:document.createRange().createContextualFragment(Rs),webWalletOption:document.createRange().createContextualFragment(Ts)}}(Ss);Ss?(ws==null||ws.appendChild(_s),ws==null||ws.appendChild(Es)):(ws==null||ws.appendChild(Es),ws==null||ws.appendChild(_s))}}connectedCallback(){var ms;const ws=this.getAttribute("should-display-new-badge"),Ss=(ms=this.shadowRoot)===null||ms===void 0?void 0:ms.getElementById("pera-web-new-label");ws==="false"&&(Ss==null||Ss.setAttribute("style","display:none")),this.handleChangeView()}handleChangeView(){var ms,ws,Ss;const Es=(ms=this.shadowRoot)===null||ms===void 0?void 0:ms.getElementById("pera-wallet-connect-modal-desktop-mode-download-pera-button"),_s=(ws=this.shadowRoot)===null||ws===void 0?void 0:ws.getElementById("pera-wallet-connect-modal-download-pera-view-back-button"),Is=(Ss=this.shadowRoot)===null||Ss===void 0?void 0:Ss.getElementById("pera-wallet-connect-web-wallet-launch-button");Es&&Es.addEventListener("click",()=>{this.onClickDownload()}),_s&&_s.addEventListener("click",()=>{this.onClickBack()}),Is&&Is.addEventListener("click",()=>{this.webWalletConnect()}),this.renderQRCode(),this.checkWebWalletAvaliability()}webWalletConnect(){this.getAttribute("is-web-wallet-avaliable")==="true"&&window.onWebWalletConnect()}handleAccordion(ms){var ws,Ss;if(ms.target instanceof Element){if(!ms.target.classList.contains("pera-wallet-accordion-toggle__button"))return;if(this.shadowRoot&&(!((ws=ms.target.parentElement)===null||ws===void 0)&&ws.parentElement)){const Es=(Ss=ms.target.parentElement)===null||Ss===void 0?void 0:Ss.parentElement;if(!Es||Es.classList.contains("pera-wallet-accordion-item--active"))return;const _s=this.shadowRoot.querySelectorAll(".pera-wallet-accordion-item.pera-wallet-accordion-item--active");for(let Is=0;Is<_s.length;Is++)_s[Is].classList.remove("pera-wallet-accordion-item--active");Es.classList.toggle("pera-wallet-accordion-item--active")}}}renderQRCode(){var ms;const ws=this.getAttribute("is-web-wallet-avaliable"),Ss=this.getAttribute("compact-mode")==="true",Es=this.getAttribute("single-account")==="true";let _s=this.getAttribute("uri");Es&&(_s=`${_s}&singleAccount=true`);let Is=ws==="false"?250:205;if(Ss&&(Is=190),_s){const Ts=new m({width:Is,height:Is,type:"svg",data:_s,image:_,dotsOptions:{color:"#000",type:"extra-rounded"},imageOptions:{crossOrigin:"anonymous",margin:8},cornersSquareOptions:{type:"extra-rounded"},cornersDotOptions:{type:"dot"}}),Rs=(ms=this.shadowRoot)===null||ms===void 0?void 0:ms.getElementById("pera-wallet-connect-modal-connect-qr-code");Rs&&Ts.append(Rs)}}onClickDownload(){if(this.shadowRoot){const ms=this.shadowRoot.getElementById("pera-wallet-connect-modal-desktop-mode");ms&&(ms.classList.remove("pera-wallet-connect-modal-desktop-mode--default"),ms.classList.add("pera-wallet-connect-modal-desktop-mode--download"))}}onClickBack(){if(this.shadowRoot){const ms=this.shadowRoot.getElementById("pera-wallet-connect-modal-desktop-mode");ms&&(ms.classList.add("pera-wallet-connect-modal-desktop-mode--default"),ms.classList.remove("pera-wallet-connect-modal-desktop-mode--download"))}}checkWebWalletAvaliability(){var ms;if(this.getAttribute("is-web-wallet-avaliable")==="false"){const ws=(ms=this.shadowRoot)===null||ms===void 0?void 0:ms.querySelector(".pera-wallet-connect-modal-desktop-mode__default-view");ws==null||ws.classList.add("pera-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-avaliable")}}}function H(vs=!0){let ms=Bt;const ws=Ut();return vs&&ws&&(ms=`${ms}?browser=${encodeURIComponent(ws)}`),ms}var B=`.pera-wallet-connect-modal-touch-screen-mode {
  display: grid;
  grid-template-columns: 1fr;
  gap: 46px;
  padding: 4px;
}

.pera-wallet-connect-modal-touch-screen-mode--pending-message-view {
  gap: 56px;
  grid-template-rows: auto 48px;
  height: 100%;
  padding-bottom: 70px;
}

.pera-wallet-connect-modal-touch-screen-mode__launch-pera-wallet-button,
.pera-wallet-connect-modal-touch-screen-mode__install-pera-wallet-button {
  display: block;
  padding: 14px;
  border-radius: 12px;
  text-decoration: none;
  text-align: center;
  font-size: 14px;
  line-height: 20px;
  letter-spacing: -0.09px;
  font-weight: 500;
}

.pera-wallet-connect-modal-touch-screen-mode__launch-pera-wallet-button {
  margin-bottom: 32px;
  background-color: #6b46fe;
  color: #ffffff;
}

.pera-wallet-connect-modal-touch-screen-mode__install-pera-wallet-button {
  margin-bottom: 20px;
  color: #6a6a81;
  background-color: #ffffff;
  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);
}

.pera-wallet-connect-modal-touch-screen-mode__new-to-pera-box {
  position: relative;
  margin-bottom: 32px;
  border-top: 1px solid #e6e8ee;
}

.pera-wallet-connect-modal-touch-screen-mode__new-to-pera-box__text {
  position: absolute;
  top: -25px;
  right: calc(50% - 56px);
  width: 116px;
  color: #69708d;
  background-color: #ffffff;
  font-size: 13px;
  font-weight: 500;
  line-height: 24px;
  letter-spacing: -0.04px;
  text-align: center;
}`;h(B);const F=document.createElement("template");class A extends HTMLElement{constructor(){var ms;if(super(),this.attachShadow({mode:"open"}),F.innerHTML=`
  <div class="pera-wallet-connect-modal-touch-screen-mode">
    <pera-wallet-connect-modal-information-section></pera-wallet-connect-modal-information-section>

    <div>
      <a
        id="pera-wallet-connect-modal-touch-screen-mode-launch-pera-wallet-button"
        class="pera-wallet-connect-modal-touch-screen-mode__launch-pera-wallet-button"
        rel="noopener noreferrer"
        target="_blank">
        Launch Pera Wallet
      </a>

      <div
        class="pera-wallet-connect-modal-touch-screen-mode__new-to-pera-box">
        <p
          class="pera-wallet-connect-modal-touch-screen-mode__new-to-pera-box__text"
          >
          New to Pera?
        </p>
      </div>

      <a
        href="https://perawallet.app/download/"
        class="pera-wallet-connect-modal-touch-screen-mode__install-pera-wallet-button"
        rel="noopener noreferrer"
        target="_blank">
        Install Pera Wallet
      </a>
    </div>
  </div>
`,this.shadowRoot){const ws=document.createElement("style");ws.textContent=B,this.shadowRoot.append(F.content.cloneNode(!0),ws);const Ss=(ms=this.shadowRoot)===null||ms===void 0?void 0:ms.getElementById("pera-wallet-connect-modal-touch-screen-mode-launch-pera-wallet-button"),Es=this.getAttribute("uri"),_s=this.getAttribute("single-account")==="true",Is=this.getAttribute("selected-account")||void 0;Ss&&Es&&(Ss.setAttribute("href",function(Ts,Rs){let Bs=H(!1);Lt()&&!Bs.includes("-wc")&&(Bs=Bs.replace("://","-wc://"));let Ns=`${Bs}wc?uri=${encodeURIComponent(Ts)}`;const Ws=Ut();return Ot()&&(Ns=Ts),Ws&&(Ns=`${Ns}&browser=${encodeURIComponent(Ws)}`),Rs!=null&&Rs.singleAccount&&(Ns=`${Ns}&singleAccount=true`),Rs!=null&&Rs.selectedAccount&&(Ns=`${Ns}&selectedAccount=${Rs.selectedAccount}`),Ns}(Es,{singleAccount:_s,selectedAccount:Is})),Ss.addEventListener("click",()=>{this.onClickLaunch()}))}}onClickLaunch(){if(F.innerHTML=`
    <div class="pera-wallet-connect-modal-touch-screen-mode pera-wallet-connect-modal-touch-screen-mode--pending-message-view">
      <pera-wallet-connect-modal-pending-message-section should-use-sound="${this.getAttribute("should-use-sound")}"></pera-wallet-connect-modal-pending-message-section>
    </div>
  `,this.shadowRoot){const ms=document.createElement("style");ms.textContent=B,this.shadowRoot.innerHTML="",this.shadowRoot.append(F.content.cloneNode(!0),ms)}}}var V=`@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");
.pera-wallet-modal {
  --pera-wallet-modal-font-family: "Inter", sans-serif;
  --pera-wallet-modal-compact-width: 380px;
  --pera-wallet-modal-compact-height: 396px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  position: fixed;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  z-index: 999999;
  width: 100vw;
  height: 100vh;
  background-color: rgba(0, 0, 0, 0.7);
}
.pera-wallet-modal--select-account .pera-wallet-modal__body {
  width: 480px;
  height: 578px;
  background-color: #ffffff;
}
.pera-wallet-modal--mobile .pera-wallet-modal__body {
  top: 40px;
  bottom: 0;
  left: 0;
  width: 100%;
  max-width: unset;
  height: calc(100 * var(--pera-wallet-vh));
  padding: 20px;
  background-color: #ffffff;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);
  border-radius: 20px 20px 0px 0px;
  animation: 0.3s PeraWalletConnectMobileSlideIn ease-out;
  overflow-y: auto;
  transform: unset;
}
.pera-wallet-modal--mobile .pera-wallet-modal__body::before {
  background-image: unset;
}
.pera-wallet-modal--compact:not(.pera-wallet-modal--mobile) .pera-wallet-modal__body {
  width: var(--pera-wallet-modal-compact-width);
  height: var(--pera-wallet-modal-compact-height);
  padding: 0;
}
.pera-wallet-modal * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: var(--pera-wallet-modal-font-family);
  font-smooth: antialiased;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.pera-wallet-modal ul,
.pera-wallet-modal ol,
.pera-wallet-modal li {
  list-style-type: none;
}

.pera-wallet-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: auto;
  height: 48px;
  padding: 14px;
  border: none;
  border-radius: 12px;
  outline: none;
  cursor: pointer;
  font-family: var(--pera-wallet-modal-font-family);
  font-size: 14px;
}

.pera-wallet-modal__logo img {
  display: block;
  width: 32px;
}

.pera-wallet-modal__body {
  position: relative;
  top: 50%;
  left: 50%;
  width: 700px;
  max-width: calc(100vw - 80px);
  padding: 28px;
  background-color: #f3f3f7;
  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);
  border-radius: 24px;
  animation: 0.3s PeraWalletConnectSlideIn ease-out;
  transform: translate(-50%, -50%);
}
.pera-wallet-modal__body::before {
  --background-line: #1e0972 0 1.2px, transparent 0 calc(100% - 1.2px), #1e0972;
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: -1;
  content: "";
  background-image: linear-gradient(var(--background-line)), linear-gradient(90deg, var(--background-line));
  background-size: 116px 116px;
  mix-blend-mode: overlay;
  border-radius: 24px;
  opacity: 0.8;
  pointer-events: none;
}

@media (max-width: 767px) {
  .pera-wallet-modal--desktop .pera-wallet-modal__body {
    width: 100%;
    max-width: calc(100vw - 32px);
    padding: 24px;
  }
}
@keyframes PeraWalletConnectSlideIn {
  0% {
    opacity: 0;
    transform: translate(-50%, calc(-50% + 24px));
  }
  100% {
    opacity: 1;
    transform: translate(-50%, -50%);
  }
}
@keyframes PeraWalletConnectMobileSlideIn {
  0% {
    top: 30%;
    opacity: 0;
  }
  100% {
    top: 40px;
    opacity: 1;
  }
}`;h(V);const R=document.createElement("template");let I=Mt()?`${dt} ${dt}--mobile`:`${dt} ${dt}--desktop`;class S extends HTMLElement{constructor(){if(super(),this.attachShadow({mode:"open"}),this.shadowRoot){const ms=document.createElement("style");ms.textContent=V,this.getAttribute("compact-mode")==="true"&&(I=`${I} ${dt}--compact`);const ws=this.getAttribute("single-account")==="true",Ss=this.getAttribute("selected-account");Mt()?(R.innerHTML=`
        <div class="${I}">
          <div class="pera-wallet-modal__body" part="body">
            <pera-wallet-modal-header modal-id="${ut}"></pera-wallet-modal-header/>
      
            <pera-wallet-modal-touch-screen-mode uri="${this.getAttribute("uri")}" should-use-sound="${this.getAttribute("should-use-sound")}" single-account="${ws}" selected-account="${Ss}"></pera-wallet-modal-touch-screen-mode>
          </div>
        </div>
      `,this.shadowRoot.append(R.content.cloneNode(!0),ms)):(R.innerHTML=`
          <div class="${I}">
            <div class="pera-wallet-modal__body">
              <pera-wallet-modal-header modal-id="${ut}"></pera-wallet-modal-header/>
        
              <pera-wallet-modal-desktop-mode id="pera-wallet-modal-desktop-mode" uri="${this.getAttribute("uri")}" is-web-wallet-avaliable="${this.getAttribute("is-web-wallet-avaliable")}" should-display-new-badge="${this.getAttribute("should-display-new-badge")}" compact-mode="${this.getAttribute("compact-mode")}" promote-mobile="${this.getAttribute("promote-mobile")}" single-account="${ws}"
        ></pera-wallet-modal-desktop-mode>
            </div>
          </div>
        `,this.shadowRoot.append(R.content.cloneNode(!0),ms))}}}var W=`@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");
.pera-wallet-modal {
  --pera-wallet-modal-font-family: "Inter", sans-serif;
  --pera-wallet-modal-compact-width: 380px;
  --pera-wallet-modal-compact-height: 396px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  position: fixed;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  z-index: 999999;
  width: 100vw;
  height: 100vh;
  background-color: rgba(0, 0, 0, 0.7);
}
.pera-wallet-modal--select-account .pera-wallet-modal__body {
  width: 480px;
  height: 578px;
  background-color: #ffffff;
}
.pera-wallet-modal--mobile .pera-wallet-modal__body {
  top: 40px;
  bottom: 0;
  left: 0;
  width: 100%;
  max-width: unset;
  height: calc(100 * var(--pera-wallet-vh));
  padding: 20px;
  background-color: #ffffff;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);
  border-radius: 20px 20px 0px 0px;
  animation: 0.3s PeraWalletConnectMobileSlideIn ease-out;
  overflow-y: auto;
  transform: unset;
}
.pera-wallet-modal--mobile .pera-wallet-modal__body::before {
  background-image: unset;
}
.pera-wallet-modal--compact:not(.pera-wallet-modal--mobile) .pera-wallet-modal__body {
  width: var(--pera-wallet-modal-compact-width);
  height: var(--pera-wallet-modal-compact-height);
  padding: 0;
}
.pera-wallet-modal * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: var(--pera-wallet-modal-font-family);
  font-smooth: antialiased;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.pera-wallet-modal ul,
.pera-wallet-modal ol,
.pera-wallet-modal li {
  list-style-type: none;
}

.pera-wallet-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: auto;
  height: 48px;
  padding: 14px;
  border: none;
  border-radius: 12px;
  outline: none;
  cursor: pointer;
  font-family: var(--pera-wallet-modal-font-family);
  font-size: 14px;
}

.pera-wallet-modal__logo img {
  display: block;
  width: 32px;
}

.pera-wallet-modal__body {
  position: relative;
  top: 50%;
  left: 50%;
  width: 700px;
  max-width: calc(100vw - 80px);
  padding: 28px;
  background-color: #f3f3f7;
  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);
  border-radius: 24px;
  animation: 0.3s PeraWalletConnectSlideIn ease-out;
  transform: translate(-50%, -50%);
}
.pera-wallet-modal__body::before {
  --background-line: #1e0972 0 1.2px, transparent 0 calc(100% - 1.2px), #1e0972;
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: -1;
  content: "";
  background-image: linear-gradient(var(--background-line)), linear-gradient(90deg, var(--background-line));
  background-size: 116px 116px;
  mix-blend-mode: overlay;
  border-radius: 24px;
  opacity: 0.8;
  pointer-events: none;
}

@media (max-width: 767px) {
  .pera-wallet-modal--desktop .pera-wallet-modal__body {
    width: 100%;
    max-width: calc(100vw - 32px);
    padding: 24px;
  }
}
@keyframes PeraWalletConnectSlideIn {
  0% {
    opacity: 0;
    transform: translate(-50%, calc(-50% + 24px));
  }
  100% {
    opacity: 1;
    transform: translate(-50%, -50%);
  }
}
@keyframes PeraWalletConnectMobileSlideIn {
  0% {
    top: 30%;
    opacity: 0;
  }
  100% {
    top: 40px;
    opacity: 1;
  }
}
.pera-wallet-redirect-modal {
  display: grid;
  grid-template-columns: 1fr;
  gap: 56px;
  grid-template-rows: auto 48px;
  height: 100%;
  padding: 4px;
  padding-bottom: 70px;
}

.pera-wallet-redirect-modal__content {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
}

.pera-wallet-redirect-modal__content__title {
  margin: 20px 0 8px;
  color: #3c3c49;
  font-size: 18px;
  font-weight: 600;
  line-height: 22px;
  letter-spacing: -0.26px;
}

.pera-wallet-redirect-modal__content__description,
.pera-wallet-redirect-modal__content__install-pera-text {
  color: #3c3c49;
  max-width: 271px;
  font-size: 14px;
  font-weight: 400;
  line-height: 24px;
  letter-spacing: -0.09px;
  text-align: center;
}

.pera-wallet-redirect-modal__content__description {
  margin-bottom: 24px;
}

.pera-wallet-redirect-modal__content__install-pera-text__link {
  color: #6b46fe;
  font-size: 14px;
  font-weight: 400;
  line-height: 24px;
  letter-spacing: -0.09px;
  text-align: center;
}

.pera-wallet-redirect-modal__launch-pera-wallet-button {
  display: block;
  padding: 14px;
  color: #ffffff;
  background-color: #6b46fe;
  border-radius: 12px;
  text-decoration: none;
  text-align: center;
  font-size: 14px;
  line-height: 20px;
  letter-spacing: -0.09px;
  font-weight: 500;
}`;h(W);const P=document.createElement("template");P.innerHTML=`
  <div class="pera-wallet-modal pera-wallet-modal--mobile">
    <div class="pera-wallet-modal__body">
      <pera-wallet-modal-header modal-id="${ct}"></pera-wallet-modal-header/>

      <div class="pera-wallet-redirect-modal">
        <div class="pera-wallet-redirect-modal__content">
          <img src="data:image/svg+xml,%3csvg width='120' height='38' viewBox='0 0 120 38' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cg clip-path='url(%23clip0_38844_290434)'%3e%3cpath d='M103.739 28.6746H109.565' stroke='%236B46FE' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'/%3e%3cpath d='M112.25 37H100.75C97.5731 37 95 34.2336 95 30.8182V9.18182C95 5.76636 97.5731 3 100.75 3H112.25C115.427 3 118 5.76636 118 9.18182V30.8182C118 34.2336 115.427 37 112.25 37Z' fill='%236B46FE' fill-opacity='0.1' stroke='%236B46FE' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'/%3e%3crect y='1' width='36' height='36' rx='7.76829' fill='%236B46FE' fill-opacity='0.1'/%3e%3cpath d='M19.6057 9.47351C20.1851 11.8819 19.9967 14.0022 19.1848 14.2093C18.373 14.4164 17.2452 12.6319 16.6658 10.2235C16.0864 7.81514 16.2748 5.69486 17.0867 5.48775C17.8985 5.28063 19.0263 7.06512 19.6057 9.47351Z' fill='%236B46FE'/%3e%3cpath d='M29.0775 11.5213C27.8045 10.1593 25.2795 10.5358 23.4378 12.3621C21.5961 14.1885 21.1352 16.7732 22.4083 18.1352C23.6814 19.4972 26.2064 19.1207 28.048 17.2943C29.8897 15.4679 30.3506 12.8832 29.0775 11.5213Z' fill='%236B46FE'/%3e%3cpath d='M19.0324 32.4518C19.8443 32.2446 20.0039 30.0045 19.3889 27.4483C18.774 24.8921 17.6173 22.9877 16.8055 23.1948C15.9937 23.402 15.834 25.6421 16.449 28.1983C17.064 30.7545 18.2206 32.6589 19.0324 32.4518Z' fill='%236B46FE'/%3e%3cpath d='M10.7016 12.818C13.0471 13.5132 14.7627 14.739 14.5336 15.5559C14.3045 16.3728 12.2175 16.4714 9.87199 15.7762C7.52653 15.0809 5.81087 13.8551 6.03996 13.0383C6.26906 12.2214 8.35615 12.1228 10.7016 12.818Z' fill='%236B46FE'/%3e%3cpath d='M25.9365 21.9967C28.4259 22.7346 30.2583 23.995 30.0292 24.8119C29.8001 25.6287 27.5963 25.6927 25.1069 24.9548C22.6174 24.2169 20.7851 22.9565 21.0141 22.1397C21.2432 21.3228 23.447 21.2588 25.9365 21.9967Z' fill='%236B46FE'/%3e%3cpath d='M13.3578 20.316C12.775 19.7063 10.8709 20.6007 9.10487 22.3139C7.33879 24.0271 6.37952 25.9102 6.96226 26.5199C7.54501 27.1297 9.4491 26.2352 11.2152 24.522C12.9813 22.8089 13.9405 20.9258 13.3578 20.316Z' fill='%236B46FE'/%3e%3cpath d='M70.2098 10L75.3049 15.0945L52 15.0945' stroke='%23D0CAE7' stroke-width='3'/%3e%3cpath d='M60.7902 29.5945L55.6951 24.5L79 24.5' stroke='%23D0CAE7' stroke-width='3'/%3e%3c/g%3e%3cdefs%3e%3cclipPath id='clip0_38844_290434'%3e%3crect width='120' height='38' fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e" />

          <h1 class="pera-wallet-redirect-modal__content__title">
            Can't Launch Pera
          </h1>

          <p class="pera-wallet-redirect-modal__content__description">
            We couldn't redirect you to Pera Wallet automatically. Please try again.
          </p>

          <p class="pera-wallet-redirect-modal__content__install-pera-text">
            Don't have Pera Wallet installed yet?
            <br />
            
            <a
              id="pera-wallet-redirect-modal-download-pera-link"
              class="pera-wallet-redirect-modal__content__install-pera-text__link"
              href="https://perawallet.app/download/"
              rel="noopener noreferrer"
              target="_blank">
              Tap here to install.
            </a>
          </p>
        </div>

        <a
          id="pera-wallet-redirect-modal-launch-pera-link"
          class="pera-wallet-redirect-modal__launch-pera-wallet-button"
          rel="noopener noreferrer"
          target="_blank">
          Launch Pera Wallet
        </a>
      </div>
    </div>
  </div>
`;class $ extends HTMLElement{constructor(){var ms,ws;if(super(),this.attachShadow({mode:"open"}),this.shadowRoot){const Ss=document.createElement("style");Ss.textContent=W,this.shadowRoot.append(P.content.cloneNode(!0),Ss);const Es=(ms=this.shadowRoot)===null||ms===void 0?void 0:ms.getElementById("pera-wallet-redirect-modal-download-pera-link");Es==null||Es.addEventListener("click",()=>{this.onClose()});const _s=(ws=this.shadowRoot)===null||ws===void 0?void 0:ws.getElementById("pera-wallet-redirect-modal-launch-pera-link");_s==null||_s.addEventListener("click",()=>{this.onClose(),window.open(H(),"_blank")})}}connectedCallback(){const ms=window.open(H(),"_blank");ms&&!ms.closed&&this.onClose()}onClose(){vt(ct)}}var j="data:image/svg+xml,%3csvg width='32' height='35' viewBox='0 0 32 35' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M18.2837 5.09271C19.0234 8.12325 18.7827 10.7913 17.7463 11.0519C16.7098 11.3126 15.27 9.06712 14.5304 6.03657C13.7908 3.00603 14.0315 0.337996 15.0679 0.0773547C16.1044 -0.183287 17.5441 2.06216 18.2837 5.09271Z' fill='%233C3C49'/%3e%3cpath d='M30.376 7.66915C28.7507 5.95537 25.5271 6.42918 23.1759 8.72745C20.8247 11.0257 20.2361 14.2781 21.8614 15.9919C23.4866 17.7057 26.7102 17.2319 29.0614 14.9336C31.4127 12.6354 32.0012 9.38294 30.376 7.66915Z' fill='%233C3C49'/%3e%3cpath d='M17.5511 34.0071C18.5876 33.7465 18.7914 30.9276 18.0064 27.711C17.2214 24.4945 15.7448 22.0982 14.7084 22.3589C13.6719 22.6195 13.4681 25.4383 14.2531 28.6549C15.0381 31.8715 16.5147 34.2677 17.5511 34.0071Z' fill='%233C3C49'/%3e%3cpath d='M6.91617 9.3015C9.9105 10.1763 12.1008 11.7187 11.8083 12.7466C11.5158 13.7745 8.85126 13.8986 5.85693 13.0239C2.8626 12.1491 0.672334 10.6067 0.964835 9.57881C1.25734 8.5509 3.92184 8.42674 6.91617 9.3015Z' fill='%233C3C49'/%3e%3cpath d='M26.3656 20.8508C29.5437 21.7793 31.883 23.3652 31.5905 24.3932C31.298 25.4211 28.4845 25.5017 25.3063 24.5732C22.1282 23.6448 19.7889 22.0588 20.0814 21.0309C20.3739 20.003 23.1874 19.9224 26.3656 20.8508Z' fill='%233C3C49'/%3e%3cpath d='M10.3069 18.7365C9.56299 17.9692 7.13209 19.0948 4.87736 21.2506C2.62264 23.4064 1.39791 25.776 2.14185 26.5432C2.8858 27.3105 5.3167 26.1849 7.57143 24.0291C9.82615 21.8733 11.0509 19.5037 10.3069 18.7365Z' fill='%233C3C49'/%3e%3c/svg%3e",T=`.pera-wallet-connect-modal-information-section {
  padding: 12px;
  padding-right: 0;
}
.pera-wallet-connect-modal-information-section--mobile {
  padding: 0;
}
.pera-wallet-connect-modal-information-section--mobile .pera-wallet-connect-modal-information-section__pera-icon {
  margin-bottom: 16px;
}
.pera-wallet-connect-modal-information-section--mobile .pera-wallet-connect-modal-information-section__connect-pera-title {
  margin-bottom: 8px;
  color: #3c3c49;
  font-size: 18px;
  font-weight: 600;
  line-height: 22px;
  letter-spacing: -0.2px;
}
.pera-wallet-connect-modal-information-section--mobile .pera-wallet-connect-modal-information-section__title {
  margin-bottom: 24px;
  color: #3c3c49;
  font-size: 14px;
  line-height: 24px;
  letter-spacing: -0.09px;
  font-weight: 400;
}
.pera-wallet-connect-modal-information-section--mobile .pera-wallet-connect-modal-information-section__features-item__icon-wrapper {
  background-color: #f2f3f8;
}
.pera-wallet-connect-modal-information-section--mobile .pera-wallet-connect-modal-information-section__features-item__description {
  color: #6a6a81;
}
.pera-wallet-connect-modal-information-section * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: var(--pera-wallet-modal-font-family);
  font-smooth: antialiased;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.pera-wallet-connect-modal-information-section__pera-icon {
  margin-bottom: 32px;
}

.pera-wallet-connect-modal-information-section__title {
  margin-bottom: 148px;
  color: #3c3c49;
  font-size: 20px;
  font-weight: 500;
  line-height: 24px;
  letter-spacing: -0.5px;
}

.pera-wallet-connect-modal-information-section__secondary-title {
  margin-bottom: 20px;
  color: #9d9dae;
  font-size: 11px;
  font-weight: 600;
  line-height: 18px;
  letter-spacing: 0.06px;
  text-transform: uppercase;
}

.pera-wallet-connect-modal-information-section__features-item {
  display: grid;
  align-items: center;
  grid-template-columns: 36px auto;
  gap: 16px;
}
.pera-wallet-connect-modal-information-section__features-item:not(:last-of-type) {
  margin-bottom: 24px;
}

.pera-wallet-connect-modal-information-section__features-item__icon-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  background-color: #ffffff;
  border-radius: 50%;
}

.pera-wallet-connect-modal-information-section__features-item__description {
  color: #6a6a81;
  font-size: 12px;
  font-weight: 500;
  line-height: 18px;
  letter-spacing: 0.01px;
}

@media (max-width: 767px) {
  .pera-wallet-connect-modal-information-section--desktop {
    padding: 0;
  }
  .pera-wallet-connect-modal-information-section--desktop .pera-wallet-connect-modal-information-section__pera-icon {
    margin-bottom: 12px;
  }
  .pera-wallet-connect-modal-information-section--desktop .pera-wallet-connect-modal-information-section__title {
    margin-bottom: 24px;
    font-size: 16px;
    font-weight: 500;
    line-height: 24px;
    letter-spacing: -0.26px;
  }
  .pera-wallet-connect-modal-information-section--desktop .pera-wallet-connect-modal-information-section__features-item {
    display: none;
  }
  .pera-wallet-connect-modal-information-section__secondary-title {
    display: none;
  }
}`;h(T);const D=document.createElement("template"),O=Mt()?"pera-wallet-connect-modal-information-section pera-wallet-connect-modal-information-section--mobile":"pera-wallet-connect-modal-information-section pera-wallet-connect-modal-information-section--desktop";D.innerHTML=`
  <section class="${O}">
    <img
      id="pera-wallet-connect-modal-information-section-pera-icon"
      src="${j}"
      class="pera-wallet-connect-modal-information-section__pera-icon"
      alt="Pera Wallet Logo"
    />

    <h1 id="pera-wallet-connect-modal-information-section-connect-pera-mobile" class="pera-wallet-connect-modal-information-section__connect-pera-title">
        Connect to Pera Wallet
    </h1>

    <h1 class="pera-wallet-connect-modal-information-section__title">
      Simply the best Algorand wallet.
    </h1>

    <h2 id="pera-wallet-connect-modal-information-section-secondary-title" class="pera-wallet-connect-modal-information-section__secondary-title">
      Features
    </h2>

    <ul>
      <li class="pera-wallet-connect-modal-information-section__features-item">
        <div class="pera-wallet-connect-modal-information-section__features-item__icon-wrapper">
          <img src="data:image/svg+xml,%3csvg width='20' height='21' viewBox='0 0 20 21' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M2.5 10.1378C2.5 10.8378 3.025 11.6461 3.66667 11.9294L9.325 14.4461C9.75833 14.6378 10.25 14.6378 10.675 14.4461L16.3333 11.9294C16.975 11.6461 17.5 10.8378 17.5 10.1378M2.5 14.3044C2.5 15.0794 2.95833 15.7794 3.66667 16.0961L9.325 18.6128C9.75833 18.8044 10.25 18.8044 10.675 18.6128L16.3333 16.0961C17.0417 15.7794 17.5 15.0794 17.5 14.3044M10.8417 3.4043L15.7583 5.58763C17.175 6.21263 17.175 7.24596 15.7583 7.87096L10.8417 10.0543C10.2833 10.3043 9.36668 10.3043 8.80835 10.0543L3.89168 7.87096C2.47502 7.24596 2.47502 6.21263 3.89168 5.58763L8.80835 3.4043C9.36668 3.1543 10.2833 3.1543 10.8417 3.4043Z' stroke='%239D9DAE' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3e%3c/svg%3e" alt="Layer Icon" />
        </div>
        
        <p
          class="pera-wallet-connect-modal-information-section__features-item__description">
          Connect to any Algorand dApp securely
        </p>
      </li>

      <li class="pera-wallet-connect-modal-information-section__features-item">
        <div
          class="pera-wallet-connect-modal-information-section__features-item__icon-wrapper">
          <img src="data:image/svg+xml,%3csvg width='24' height='25' viewBox='0 0 24 25' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M9.58033 12.3109C9.28744 12.018 8.81257 12.018 8.51967 12.3109C8.22678 12.6038 8.22678 13.0787 8.51967 13.3716L9.58033 12.3109ZM10.66 14.4512L10.1297 14.9816C10.4226 15.2745 10.8974 15.2745 11.1903 14.9816L10.66 14.4512ZM15.4903 10.6816C15.7832 10.3887 15.7832 9.91381 15.4903 9.62092C15.1974 9.32803 14.7226 9.32803 14.4297 9.62092L15.4903 10.6816ZM19.84 8.09125C19.84 8.50546 20.1758 8.84125 20.59 8.84125C21.0042 8.84125 21.34 8.50546 21.34 8.09125H19.84ZM18.5 5.07125L18.2368 5.77355L18.2373 5.77375L18.5 5.07125ZM13.51 3.20125L13.7732 2.49894L13.7724 2.49866L13.51 3.20125ZM10.49 3.20125L10.2276 2.49865L10.2256 2.49941L10.49 3.20125ZM5.5 5.08125L5.76268 5.78375L5.76442 5.78309L5.5 5.08125ZM5.14 18.9612L4.69102 19.562L4.69135 19.5623L5.14 18.9612ZM9.44 22.1713L9.89069 21.5718L9.88866 21.5702L9.44 22.1713ZM14.58 22.1713L14.1313 21.5702L14.1293 21.5718L14.58 22.1713ZM18.88 18.9612L19.3287 19.5623L19.329 19.562L18.88 18.9612ZM21.36 8.09125C21.36 7.67704 21.0242 7.34125 20.61 7.34125C20.1958 7.34125 19.86 7.67704 19.86 8.09125H21.36ZM8.51967 13.3716L10.1297 14.9816L11.1903 13.9209L9.58033 12.3109L8.51967 13.3716ZM11.1903 14.9816L15.4903 10.6816L14.4297 9.62092L10.1297 13.9209L11.1903 14.9816ZM21.34 8.09125C21.34 7.29392 21.0398 6.50041 20.5931 5.85456C20.1463 5.20881 19.5097 4.64807 18.7627 4.36875L18.2373 5.77375C18.6403 5.92443 19.0487 6.25869 19.3595 6.70794C19.6702 7.15709 19.84 7.65858 19.84 8.09125H21.34ZM18.7632 4.36895L13.7732 2.49895L13.2468 3.90355L18.2368 5.77355L18.7632 4.36895ZM13.7724 2.49866C13.2479 2.30277 12.6051 2.21875 12 2.21875C11.3949 2.21875 10.7521 2.30277 10.2276 2.49866L10.7524 3.90384C11.0579 3.78973 11.5101 3.71875 12 3.71875C12.4899 3.71875 12.9421 3.78973 13.2476 3.90384L13.7724 2.49866ZM10.2256 2.49941L5.23558 4.37941L5.76442 5.78309L10.7544 3.90309L10.2256 2.49941ZM5.23733 4.37875C4.49043 4.65803 3.85398 5.2186 3.40741 5.86265C2.96095 6.50656 2.66 7.2978 2.66 8.09125H4.16C4.16 7.6647 4.32906 7.16594 4.64009 6.71735C4.95103 6.2689 5.35957 5.93447 5.76268 5.78375L5.23733 4.37875ZM2.66 8.09125V15.5212H4.16V8.09125H2.66ZM2.66 15.5212C2.66 16.2602 2.8989 17.059 3.24874 17.7545C3.59871 18.4503 4.09802 19.1188 4.69102 19.562L5.58899 18.3605C5.23198 18.0937 4.86629 17.6322 4.58877 17.0805C4.31111 16.5285 4.16 15.9623 4.16 15.5212H2.66ZM4.69135 19.5623L8.99135 22.7723L9.88866 21.5702L5.58866 18.3602L4.69135 19.5623ZM8.98932 22.7707C9.84721 23.4157 10.9462 23.7163 12.01 23.7163C13.0738 23.7163 14.1728 23.4157 15.0307 22.7707L14.1293 21.5718C13.5772 21.9868 12.8112 22.2163 12.01 22.2163C11.2088 22.2163 10.4428 21.9868 9.89068 21.5718L8.98932 22.7707ZM15.0287 22.7723L19.3287 19.5623L18.4313 18.3602L14.1313 21.5702L15.0287 22.7723ZM19.329 19.562C19.922 19.1188 20.4213 18.4503 20.7713 17.7545C21.1211 17.059 21.36 16.2602 21.36 15.5212H19.86C19.86 15.9623 19.7089 16.5285 19.4312 17.0805C19.1537 17.6322 18.788 18.0937 18.431 18.3605L19.329 19.562ZM21.36 15.5212V8.09125H19.86V15.5212H21.36Z' fill='%239D9DAE'/%3e%3c/svg%3e" alt="Tick Icon" />
        </div>

        <p
          class="pera-wallet-connect-modal-information-section__features-item__description">
          Your private keys are safely stored locally
        </p>
      </li>

      <li class="pera-wallet-connect-modal-information-section__features-item">
        <div
          class="pera-wallet-connect-modal-information-section__features-item__icon-wrapper">
          <img src="data:image/svg+xml,%3csvg width='20' height='21' viewBox='0 0 20 21' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M18.05 9.67014L17.3198 9.49894L18.05 9.67014ZM17.2333 13.1535L16.5031 12.9823L16.5029 12.9835L17.2333 13.1535ZM12.55 17.1285L12.6218 16.3818L12.6098 16.3809L12.55 17.1285ZM11.2 16.9035L11.376 16.1744L11.3737 16.1739L11.2 16.9035ZM9.8 16.5701L9.97372 15.8405L9.97324 15.8404L9.8 16.5701ZM6.06667 10.5451L6.79687 10.7163L6.79696 10.7159L6.06667 10.5451ZM6.88334 7.05347L6.15327 6.88169L6.15304 6.88267L6.88334 7.05347ZM7.5 5.22014L8.17303 5.55114L8.17523 5.54659L7.5 5.22014ZM12.9167 3.32014L12.744 4.05L12.7461 4.05049L12.9167 3.32014ZM14.3083 3.64514L14.4791 2.91485L14.4789 2.91479L14.3083 3.64514ZM10.5917 18.0285L10.359 17.3155L10.3572 17.3161L10.5917 18.0285ZM9.27501 18.4618L9.50516 19.1756L9.50947 19.1742L9.27501 18.4618ZM3.15001 15.3285L2.43654 15.5597L2.43672 15.5603L3.15001 15.3285ZM2.08334 12.0368L1.36953 12.267L1.36987 12.268L2.08334 12.0368ZM5.20834 5.91182L5.43849 6.62565L5.44281 6.62423L5.20834 5.91182ZM6.52501 5.47848L6.29831 4.76352L6.29055 4.76608L6.52501 5.47848ZM10.7177 7.35149C10.3162 7.24967 9.90818 7.49261 9.80635 7.89411C9.70453 8.29561 9.94746 8.70364 10.349 8.80546L10.7177 7.35149ZM14.3906 9.83046C14.7921 9.93229 15.2002 9.68935 15.302 9.28785C15.4038 8.88635 15.1609 8.47832 14.7594 8.37649L14.3906 9.83046ZM9.90211 10.5768C9.50076 10.4743 9.09238 10.7167 8.98996 11.118C8.88755 11.5194 9.12988 11.9278 9.53124 12.0302L9.90211 10.5768ZM11.9479 12.6469C12.3493 12.7493 12.7576 12.5069 12.8601 12.1056C12.9625 11.7042 12.7201 11.2958 12.3188 11.1934L11.9479 12.6469ZM17.3198 9.49894L16.5031 12.9823L17.9635 13.3247L18.7802 9.84133L17.3198 9.49894ZM16.5029 12.9835C16.168 14.4224 15.6979 15.2955 15.1165 15.793C14.5605 16.2688 13.7912 16.4944 12.6218 16.3819L12.4782 17.875C13.9088 18.0126 15.1312 17.7548 16.0918 16.9327C17.0271 16.1323 17.5986 14.8928 17.9638 13.3234L16.5029 12.9835ZM12.6098 16.3809C12.2388 16.3512 11.8281 16.2835 11.376 16.1744L11.024 17.6325C11.5386 17.7567 12.0279 17.8391 12.4902 17.8761L12.6098 16.3809ZM11.3737 16.1739L9.97372 15.8405L9.62629 17.2997L11.0263 17.6331L11.3737 16.1739ZM9.97324 15.8404C8.30732 15.4449 7.40652 14.876 6.96107 14.1588C6.51616 13.4425 6.40566 12.385 6.79687 10.7163L5.33647 10.3739C4.91101 12.1887 4.92968 13.7311 5.68685 14.9502C6.44349 16.1685 7.81769 16.8704 9.62676 17.2999L9.97324 15.8404ZM6.79696 10.7159L7.61363 7.22428L6.15304 6.88267L5.33638 10.3743L6.79696 10.7159ZM7.6134 7.22525C7.77277 6.54795 7.95691 5.99053 8.17301 5.55113L6.82699 4.88915C6.54309 5.46641 6.32724 6.14234 6.15327 6.88169L7.6134 7.22525ZM8.17523 5.54659C8.59604 4.67619 9.11898 4.20234 9.77488 3.97598C10.4657 3.73759 11.4133 3.73525 12.744 4.05L13.0893 2.59028C11.6367 2.2467 10.3635 2.18603 9.28554 2.55805C8.17269 2.94211 7.37896 3.74743 6.82478 4.89369L8.17523 5.54659ZM12.7461 4.05049L14.1378 4.37549L14.4789 2.91479L13.0872 2.58979L12.7461 4.05049ZM14.1375 4.37543C15.8111 4.76687 16.7126 5.33603 17.1575 6.05304C17.6023 6.77006 17.7112 7.82942 17.3198 9.49894L18.7802 9.84133C19.2054 8.02753 19.1893 6.48272 18.4321 5.26224C17.6749 4.04175 16.2972 3.34008 14.4791 2.91485L14.1375 4.37543ZM12.1294 16.5075C11.6911 16.8045 11.1123 17.0697 10.359 17.3155L10.8243 18.7415C11.6544 18.4706 12.3756 18.1525 12.9706 17.7494L12.1294 16.5075ZM10.3572 17.3161L9.04055 17.7494L9.50947 19.1742L10.8261 18.7409L10.3572 17.3161ZM9.04486 17.748C7.46037 18.2589 6.43607 18.2362 5.71663 17.8681C4.99693 17.4999 4.37829 16.6816 3.8633 15.0967L2.43672 15.5603C2.99673 17.2837 3.78642 18.5654 5.03339 19.2035C6.28062 19.8416 7.78131 19.7314 9.50516 19.1756L9.04486 17.748ZM3.86348 15.0973L2.79682 11.8056L1.36987 12.268L2.43654 15.5597L3.86348 15.0973ZM2.79716 11.8067C2.28607 10.2215 2.3068 9.19457 2.67362 8.4739C3.03983 7.75443 3.85506 7.13616 5.43849 6.62563L4.9782 5.198C3.25329 5.75414 1.97269 6.54421 1.33682 7.79348C0.701551 9.04157 0.813948 10.5438 1.36953 12.267L2.79716 11.8067ZM5.44281 6.62423L6.75947 6.19089L6.29055 4.76608L4.97388 5.19941L5.44281 6.62423ZM6.75169 6.19341C7.08205 6.08866 7.37424 6.00724 7.63942 5.95707L7.36058 4.48321C7.00909 4.54971 6.6513 4.65164 6.29833 4.76356L6.75169 6.19341ZM10.349 8.80546L14.3906 9.83046L14.7594 8.37649L10.7177 7.35149L10.349 8.80546ZM9.53124 12.0302L11.9479 12.6469L12.3188 11.1934L9.90211 10.5768L9.53124 12.0302Z' fill='%239D9DAE'/%3e%3c/svg%3e" alt="Note Icon" />
        </div>

        <p
          class="pera-wallet-connect-modal-information-section__features-item__description">
          View NFTs, buy and swap crypto and more
        </p>
      </li>
    </ul>
  </section>
`;class U extends HTMLElement{constructor(){var ms,ws,Ss,Es;super(),this.attachShadow({mode:"open"});const _s=((ms=document.querySelector("pera-wallet-connect-modal"))===null||ms===void 0?void 0:ms.getAttribute("compact-mode"))==="true";if(this.shadowRoot&&(!_s&&!Mt()||Mt())){const Is=document.createElement("style");Is.textContent=T,this.shadowRoot.append(D.content.cloneNode(!0),Is),Mt()?(ws=this.shadowRoot.getElementById("pera-wallet-connect-modal-information-section-title"))===null||ws===void 0||ws.setAttribute("style","display: none;"):((Ss=this.shadowRoot.getElementById("pera-wallet-connect-modal-information-section-pera-icon"))===null||Ss===void 0||Ss.setAttribute("src","data:image/svg+xml,%3csvg width='84' height='38' viewBox='0 0 84 38' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M19.806 8.62773C20.4416 11.2609 20.2268 13.5772 19.3262 13.8012C18.4256 14.0253 17.1803 12.0723 16.5448 9.43906C15.9092 6.80585 16.1241 4.48959 17.0246 4.26555C17.9252 4.04151 19.1705 5.99452 19.806 8.62773Z' fill='%233C3C49'/%3e%3cpath d='M30.3007 10.8917C28.8932 9.3999 26.0929 9.80424 24.0461 11.7948C21.9994 13.7853 21.4812 16.6082 22.8887 18.1C24.2962 19.5917 27.0964 19.1874 29.1432 17.1969C31.1899 15.2064 31.7082 12.3834 30.3007 10.8917Z' fill='%233C3C49'/%3e%3cpath d='M19.1061 33.734C20.0067 33.5099 20.1899 31.0627 19.5153 28.2678C18.8408 25.473 17.5639 23.3889 16.6633 23.613C15.7627 23.837 15.5795 26.2843 16.2541 29.0791C16.9286 31.874 18.2056 33.958 19.1061 33.734Z' fill='%233C3C49'/%3e%3cpath d='M9.92571 12.2574C12.5239 13.0236 14.4224 14.3678 14.1662 15.2597C13.9099 16.1517 11.5959 16.2536 8.99771 15.4874C6.3995 14.7212 4.50098 13.377 4.75724 12.4851C5.0135 11.5931 7.3275 11.4912 9.92571 12.2574Z' fill='%233C3C49'/%3e%3cpath d='M26.7892 22.3292C29.5469 23.1424 31.5747 24.5247 31.3184 25.4167C31.0621 26.3086 28.6189 26.3724 25.8612 25.5592C23.1035 24.7459 21.0757 23.3636 21.3319 22.4717C21.5882 21.5797 24.0315 21.5159 26.7892 22.3292Z' fill='%233C3C49'/%3e%3cpath d='M12.8493 20.4577C12.205 19.7898 10.0916 20.7619 8.12896 22.6289C6.16631 24.4959 5.09759 26.5509 5.7419 27.2188C6.38622 27.8867 8.49958 26.9146 10.4622 25.0476C12.4249 23.1806 13.4936 21.1256 12.8493 20.4577Z' fill='%233C3C49'/%3e%3cpath d='M41.691 12.5347V11.9635H39.3366V27.1957H41.691V23.0915C41.691 22.6472 41.691 22.2876 41.6482 21.801H41.691C42.5471 23.1973 44.0026 23.9377 45.7148 23.9377C48.6043 23.9377 51.1299 21.7587 51.1299 17.7179C51.1299 13.7617 48.6043 11.625 45.7148 11.625C44.0668 11.625 42.6113 12.3443 41.691 13.7617H41.6482C41.691 13.2963 41.691 12.9578 41.691 12.5347ZM45.1155 21.9279C42.9324 21.9068 41.6696 20.0662 41.6696 17.6967C41.6696 15.4542 42.9324 13.656 45.1155 13.6348C47.2559 13.6137 48.6685 15.2638 48.6685 17.7179C48.6685 20.2354 47.2559 21.9491 45.1155 21.9279Z' fill='%233C3C49'/%3e%3cpath d='M63.4932 16.7236C63.4932 13.8041 61.1388 11.625 57.9283 11.625C54.5037 11.625 52.1279 13.931 52.1279 17.7814C52.1279 21.4836 54.4609 23.9377 57.9283 23.9377C60.7749 23.9377 62.8939 22.2876 63.3862 20.0239H60.8177C60.4111 21.1663 59.2981 21.9279 57.9283 21.9279C56.1732 21.9279 54.889 20.6797 54.6107 18.6064H63.4932V16.7236ZM57.9283 13.6348C59.662 13.6348 60.8606 14.8195 61.1174 16.5332H54.6321C54.9318 14.883 56.1518 13.6348 57.9283 13.6348Z' fill='%233C3C49'/%3e%3cpath d='M65.224 23.5992H67.5784V17.0409C67.5784 14.7984 68.8198 13.6348 70.7462 13.6348H72.009V11.625H71.003C69.2693 11.625 68.1991 12.7674 67.5784 13.7617H67.5356V11.9635H65.224V23.5992Z' fill='%233C3C49'/%3e%3cpath d='M83.0154 21.5683C82.6944 21.5683 82.5445 21.3779 82.5445 20.9971V15.8773C82.5445 13.4233 81.3459 11.625 77.8144 11.625C74.3898 11.625 72.8273 13.3175 72.6561 15.7292H75.0105C75.1603 14.4176 76.2091 13.6348 77.8144 13.6348C79.1842 13.6348 80.1259 14.2272 80.1259 15.158C80.1259 15.9196 79.5909 16.3851 77.8358 16.3851H76.894C74.0901 16.3851 72.2066 17.5063 72.2066 20.0662C72.2066 22.753 74.1972 23.98 76.5301 23.98C78.2638 23.98 79.7407 23.2184 80.3186 21.5894C80.3828 22.7742 81.1747 23.5992 82.673 23.5992H84V21.5683H83.0154ZM80.1902 18.1833C80.1902 20.8067 78.7561 21.9491 76.9154 21.9491C75.3101 21.9491 74.668 21.0182 74.668 20.0662C74.668 19.1565 75.2245 18.416 76.9368 18.416H77.2793C78.9273 18.416 79.9547 17.8448 80.1688 16.8505H80.1902V18.1833Z' fill='%233C3C49'/%3e%3c/svg%3e"),(Es=this.shadowRoot.getElementById("pera-wallet-connect-modal-information-section-connect-pera-mobile"))===null||Es===void 0||Es.setAttribute("style","display: none;"))}}}var q=`@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");
.pera-wallet-modal {
  --pera-wallet-modal-font-family: "Inter", sans-serif;
  --pera-wallet-modal-compact-width: 380px;
  --pera-wallet-modal-compact-height: 396px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  position: fixed;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  z-index: 999999;
  width: 100vw;
  height: 100vh;
  background-color: rgba(0, 0, 0, 0.7);
}
.pera-wallet-modal--select-account .pera-wallet-modal__body {
  width: 480px;
  height: 578px;
  background-color: #ffffff;
}
.pera-wallet-modal--mobile .pera-wallet-modal__body {
  top: 40px;
  bottom: 0;
  left: 0;
  width: 100%;
  max-width: unset;
  height: calc(100 * var(--pera-wallet-vh));
  padding: 20px;
  background-color: #ffffff;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);
  border-radius: 20px 20px 0px 0px;
  animation: 0.3s PeraWalletConnectMobileSlideIn ease-out;
  overflow-y: auto;
  transform: unset;
}
.pera-wallet-modal--mobile .pera-wallet-modal__body::before {
  background-image: unset;
}
.pera-wallet-modal--compact:not(.pera-wallet-modal--mobile) .pera-wallet-modal__body {
  width: var(--pera-wallet-modal-compact-width);
  height: var(--pera-wallet-modal-compact-height);
  padding: 0;
}
.pera-wallet-modal * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: var(--pera-wallet-modal-font-family);
  font-smooth: antialiased;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.pera-wallet-modal ul,
.pera-wallet-modal ol,
.pera-wallet-modal li {
  list-style-type: none;
}

.pera-wallet-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: auto;
  height: 48px;
  padding: 14px;
  border: none;
  border-radius: 12px;
  outline: none;
  cursor: pointer;
  font-family: var(--pera-wallet-modal-font-family);
  font-size: 14px;
}

.pera-wallet-modal__logo img {
  display: block;
  width: 32px;
}

.pera-wallet-modal__body {
  position: relative;
  top: 50%;
  left: 50%;
  width: 700px;
  max-width: calc(100vw - 80px);
  padding: 28px;
  background-color: #f3f3f7;
  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);
  border-radius: 24px;
  animation: 0.3s PeraWalletConnectSlideIn ease-out;
  transform: translate(-50%, -50%);
}
.pera-wallet-modal__body::before {
  --background-line: #1e0972 0 1.2px, transparent 0 calc(100% - 1.2px), #1e0972;
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: -1;
  content: "";
  background-image: linear-gradient(var(--background-line)), linear-gradient(90deg, var(--background-line));
  background-size: 116px 116px;
  mix-blend-mode: overlay;
  border-radius: 24px;
  opacity: 0.8;
  pointer-events: none;
}

@media (max-width: 767px) {
  .pera-wallet-modal--desktop .pera-wallet-modal__body {
    width: 100%;
    max-width: calc(100vw - 32px);
    padding: 24px;
  }
}
@keyframes PeraWalletConnectSlideIn {
  0% {
    opacity: 0;
    transform: translate(-50%, calc(-50% + 24px));
  }
  100% {
    opacity: 1;
    transform: translate(-50%, -50%);
  }
}
@keyframes PeraWalletConnectMobileSlideIn {
  0% {
    top: 30%;
    opacity: 0;
  }
  100% {
    top: 40px;
    opacity: 1;
  }
}
.pera-wallet-connect-modal-pending-message-section {
  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: auto 48px;
  gap: 56px;
  height: 100%;
  padding: 4px;
  padding-bottom: 70px;
}

.pera-wallet-connect-modal-pending-message {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  text-align: center;
}
.pera-wallet-connect-modal-pending-message--try-again-view {
  display: flex;
  justify-content: space-between;
  flex-direction: column;
  height: 100%;
  margin-top: 10px;
}
.pera-wallet-connect-modal-pending-message--try-again-view__title {
  margin: 16px 0 12px;
  color: #3c3c49;
  font-size: 18px;
  font-weight: 500;
  line-height: 24px;
  letter-spacing: -0.26px;
}
.pera-wallet-connect-modal-pending-message--try-again-view__description {
  color: #6a6a81;
  font-size: 14px;
  font-weight: 400;
  line-height: 24px;
  letter-spacing: -0.01px;
}
.pera-wallet-connect-modal-pending-message--try-again-view__button {
  display: block;
  width: 100%;
  padding: 14px;
  border-radius: 12px;
  text-decoration: none;
  text-align: center;
  font-size: 14px;
  line-height: 20px;
  letter-spacing: -0.09px;
  font-weight: 500;
  color: #ffffff;
  background-color: #6b46fe;
  border: none;
}
.pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor {
  display: flex;
  gap: 12px;
  margin-bottom: 20px;
  padding: 16px;
  background: #ffffff;
  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);
  border-radius: 12px;
  text-decoration: none;
}
.pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__image {
  width: 24px;
  height: 24px;
}
.pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title-wrapper {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 4px;
}
.pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title {
  margin: 0;
  font-size: 14px;
  font-weight: 500;
  line-height: 20px;
  letter-spacing: -0.1px;
  color: #3c3c49;
}
.pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__description {
  /* stylelint-disable value-no-vendor-prefix */
  /* stylelint-disable  property-no-vendor-prefix */
  display: -webkit-box;
  max-width: 100%;
  -webkit-line-clamp: 2;
  /* autoprefixer: ignore next */
  -webkit-box-orient: vertical;
  overflow: hidden;
  /* stylelint-enable value-no-vendor-prefix */
  /* stylelint-enable property-no-vendor-prefix */
  margin: 0;
  font-size: 12px;
  font-weight: 400;
  line-height: 18px;
  letter-spacing: 0.01px;
  color: #9d9dae;
}

.pera-wallet-connect-modal-pending-message__animation-wrapper {
  width: 56px;
  height: 56px;
  background-color: #6b46fe;
  border-radius: 50%;
}

.pera-wallet-connect-modal-pending-message__text {
  max-width: 271px;
  margin-top: 24px;
  color: #3c3c49;
  font-size: 18px;
  font-weight: 500;
  line-height: 28px;
  letter-spacing: -0.26px;
}

.pera-wallet-connect-modal-pending-message__cancel-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  padding: 14px;
  color: #6a6a81;
  background-color: #ffffff;
  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);
  border-radius: 12px;
  text-decoration: none;
  text-align: center;
  font-size: 14px;
  line-height: 20px;
  letter-spacing: -0.09px;
  font-weight: 500;
  border: none;
}`;h(q);const G=document.createElement("template");G.innerHTML=`
  <div class="pera-wallet-connect-modal-pending-message-section">
    <div class="pera-wallet-connect-modal-pending-message">
      <div id="pera-wallet-connect-modal-pending-message-animation-wrapper" class="pera-wallet-connect-modal-pending-message__animation-wrapper"></div>

      <div class="pera-wallet-connect-modal-pending-message__text">
        Please wait while we connect you to Pera Wallet
      </div>
    </div>

    <button
      id="pera-wallet-connect-modal-pending-message-cancel-button"
      class="pera-wallet-button pera-wallet-connect-modal-pending-message__cancel-button">
        Cancel
    </button>
  </div>

  <div id="pera-wallet-connect-modal-pending-message-audio-wrapper"></div>
`;const N=`
  <div class="pera-wallet-connect-modal-pending-message--try-again-view">
    <div>
      <img src="${j}" alt="Pera Wallet Logo" />

      <h1 class="pera-wallet-connect-modal-pending-message--try-again-view__title">
        Couldn’t establish connection
      </h1>

      <p class="pera-wallet-connect-modal-pending-message--try-again-view__description">
        Having issues? Before trying again, make sure to read the support article below and apply the possible solutions.
      </p>
    </div>

    <div>
      <a
        href="https://support.perawallet.app/en/article/resolving-walletconnect-issues-1tolptm/"
        target="_blank"
        rel="noopener noreferrer"
        class="pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor">
        <img
          class="pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__image"
          src="data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M8 22.3199C7.72 22.3199 7.42998 22.2499 7.16998 22.1099C6.59998 21.8099 6.25 21.2099 6.25 20.5699V19.15C3.23 18.84 1.25 16.6199 1.25 13.4399V7.43994C1.25 3.99994 3.56 1.68994 7 1.68994H17C20.44 1.68994 22.75 3.99994 22.75 7.43994V13.4399C22.75 16.8799 20.44 19.1899 17 19.1899H13.23L8.96997 22.03C8.67997 22.22 8.34 22.3199 8 22.3199ZM7 3.17993C4.42 3.17993 2.75 4.84993 2.75 7.42993V13.43C2.75 16.01 4.42 17.68 7 17.68C7.41 17.68 7.75 18.02 7.75 18.43V20.56C7.75 20.69 7.83 20.75 7.88 20.78C7.93001 20.81 8.03001 20.84 8.14001 20.77L12.59 17.81C12.71 17.73 12.86 17.68 13.01 17.68H17.01C19.59 17.68 21.26 16.01 21.26 13.43V7.42993C21.26 4.84993 19.59 3.17993 17.01 3.17993H7ZM11.9998 12.11C11.5898 12.11 11.2498 11.77 11.2498 11.36V11.15C11.2498 10.0038 12.0798 9.4336 12.4082 9.20798L12.4198 9.20001C12.7898 8.95001 12.9098 8.78002 12.9098 8.52002C12.9098 8.02002 12.4998 7.60999 11.9998 7.60999C11.4998 7.60999 11.0898 8.02002 11.0898 8.52002C11.0898 8.93002 10.7498 9.27002 10.3398 9.27002C9.92984 9.27002 9.58984 8.93002 9.58984 8.52002C9.58984 7.19002 10.6698 6.10999 11.9998 6.10999C13.3298 6.10999 14.4098 7.19002 14.4098 8.52002C14.4098 9.66002 13.5698 10.23 13.2598 10.44C12.8698 10.7 12.7498 10.87 12.7498 11.15V11.36C12.7498 11.78 12.4098 12.11 11.9998 12.11ZM11.25 13.85C11.25 14.26 11.58 14.6 12 14.6C12.42 14.6 12.75 14.26 12.75 13.85C12.75 13.44 12.41 13.1 12 13.1C11.59 13.1 11.25 13.44 11.25 13.85Z' fill='%236B46FE'/%3e%3c/svg%3e"
          alt="Help Icon"
        />

        <div>
          <div
            class="pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title-wrapper">
            <h1
              class="pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title">
                Resolving WalletConnect issues
            </h1>

            <img src="data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M11.3287 10.0983C10.9574 10.0983 10.6564 9.79734 10.6564 9.42604L10.6564 6.29525L5.14866 11.803C4.88611 12.0655 4.46044 12.0655 4.19789 11.803C3.93534 11.5404 3.93534 11.1147 4.19789 10.8522L9.70561 5.34447L6.57482 5.34447C6.20352 5.34447 5.90252 5.04347 5.90252 4.67218C5.90252 4.30088 6.20352 3.99988 6.57482 3.99988L11.3287 3.99988C11.507 3.99988 11.678 4.07071 11.8041 4.19679C11.9301 4.32287 12.001 4.49387 12.001 4.67218L12.001 9.42604C12.001 9.79734 11.7 10.0983 11.3287 10.0983Z' fill='%239D9DAE'/%3e%3c/svg%3e" alt="Send Icon"/>
          </div>

          <p
            class="pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__description">
            Unfortunately there are several known issues related to WalletConnect that our team is working on. Some of these issues are related to the WalletConnect JavaScript implementation on the dApp ...
          </p>
        </div>
      </a>

      <button id="pera-wallet-connect-modal-pending-message-try-again-button" class="pera-wallet-connect-button pera-wallet-connect-modal-pending-message--try-again-view__button">
        Close & Try Again
      </button>
    </div>
  </div>
  `;class Q extends HTMLElement{constructor(){if(super(),this.attachShadow({mode:"open"}),this.shadowRoot){const ms=document.createElement("style");ms.textContent=q,this.shadowRoot.append(G.content.cloneNode(!0),ms)}}connectedCallback(){var ms;const ws=(ms=this.shadowRoot)===null||ms===void 0?void 0:ms.getElementById("pera-wallet-connect-modal-pending-message-cancel-button");ws==null||ws.addEventListener("click",()=>{this.onClose()}),this.addAudioForConnection(),this.renderLottieAnimation(),setTimeout(()=>{var Ss;if(G.innerHTML=N,this.shadowRoot){const Es=document.createElement("style");Es.textContent=q,this.shadowRoot.innerHTML="",this.shadowRoot.append(G.content.cloneNode(!0),Es);const _s=(Ss=this.shadowRoot)===null||Ss===void 0?void 0:Ss.getElementById("pera-wallet-connect-modal-pending-message-try-again-button");_s==null||_s.addEventListener("click",()=>{this.onClose()})}},3e4)}onClose(){vt(ut)}addAudioForConnection(){var ms;if(this.getAttribute("should-use-sound")==="true"&&Lt()){const ws=(ms=this.shadowRoot)===null||ms===void 0?void 0:ms.getElementById("pera-wallet-connect-modal-pending-message-audio-wrapper"),Ss=document.createElement("audio");Ss.src="https://s3.amazonaws.com/wc.perawallet.app/audio.mp3",Ss.autoplay=!0,Ss.loop=!0,ws==null||ws.appendChild(Ss)}}renderLottieAnimation(){var ms;const ws=(ms=this.shadowRoot)===null||ms===void 0?void 0:ms.getElementById("pera-wallet-connect-modal-pending-message-animation-wrapper");ws&&w.loadAnimation({container:ws,renderer:"svg",loop:!0,autoplay:!0,path:"https://s3.amazonaws.com/wc.perawallet.app/static/pera-loader-animation.json"})}}var J=`.pera-wallet-sign-txn-toast {
  --pera-wallet-sign-txn-toast-width: 422px;
  --pera-wallet-sign-txn-toast-height: 134px;
  --pera-wallet-sign-txn-toast-font-family: "Inter", sans-serif;
  position: fixed;
  bottom: 28px;
  right: 35px;
  z-index: 11;
  overflow: hidden;
  width: var(--pera-wallet-sign-txn-toast-width);
  height: var(--pera-wallet-sign-txn-toast-height);
  background: #edeffb;
  border-radius: 8px;
  animation: 0.2s PeraWalletSignTxnToastSlideIn ease-out;
}
.pera-wallet-sign-txn-toast * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: var(--pera-wallet-sign-txn-toast-font-family);
  font-smooth: antialiased;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.pera-wallet-sign-txn-toast ul,
.pera-wallet-sign-txn-toast ol,
.pera-wallet-sign-txn-toast li {
  list-style-type: none;
}

.pera-wallet-sign-txn-toast__header__close-button {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 20px;
  height: 20px;
  margin: 0;
  padding: 0;
  background: transparent;
  border: none;
  cursor: pointer;
}

.pera-wallet-sign-txn-toast__content__lottie-animation {
  position: absolute;
  top: -75px;
  left: -100px;
  width: 368px;
  height: 368px;
}

.pera-wallet-sign-txn-toast__content__description {
  position: absolute;
  top: 40px;
  right: 48px;
  max-width: 197px;
  color: #3c3c49;
  font-size: 14px;
  line-height: 22px;
  letter-spacing: -0.1px;
}

@media (max-width: 767px) {
  .pera-wallet-sign-txn-toast {
    display: none;
  }
}
@keyframes PeraWalletSignTxnToastSlideIn {
  0% {
    bottom: 12px;
    opacity: 0;
  }
  100% {
    bottom: 26px;
    opacity: 1;
  }
}`;h(J);const K=document.createElement("template");K.innerHTML=`
  <div class="pera-wallet-sign-txn-toast">
    <div class="pera-wallet-sign-txn-toast__header">
      <button
        id="pera-wallet-sign-txn-toast-close-button"
        class="pera-wallet-sign-txn-toast__header__close-button">
        <img src="data:image/svg+xml,%3csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M14.4107 4.41074L9.41074 9.41074L10.5893 10.5893L15.5893 5.58926L14.4107 4.41074ZM9.41074 9.41074L4.41074 14.4107L5.58926 15.5893L10.5893 10.5893L9.41074 9.41074ZM15.5893 14.4107L10.5893 9.41074L9.41074 10.5893L14.4107 15.5893L15.5893 14.4107ZM10.5893 9.41074L5.58926 4.41074L4.41074 5.58926L9.41074 10.5893L10.5893 9.41074Z' fill='%239099BD'/%3e%3c/svg%3e" />
      </button>
    </div>
    <div class="pera-wallet-sign-txn-toast__content">
      <div id="pera-wallet-sign-txn-toast-lottie-animation" style="width:368;height:368" class="pera-wallet-sign-txn-toast__content__lottie-animation"></div>
      <p class="pera-wallet-sign-txn-toast__content__description">
        Please launch <b>Pera Wallet</b> on your iOS or Android device to sign this transaction.
      </p>
    </div>
  </div>
`;class Y extends HTMLElement{constructor(){if(super(),this.attachShadow({mode:"open"}),this.shadowRoot){const ms=document.createElement("style");ms.textContent=J,this.shadowRoot.append(K.content.cloneNode(!0),ms);const ws=this.shadowRoot.getElementById("pera-wallet-sign-txn-toast-close-button");ws==null||ws.addEventListener("click",()=>{vt(ht)}),this.renderLottieAnimation()}}renderLottieAnimation(){var ms;const ws=(ms=this.shadowRoot)===null||ms===void 0?void 0:ms.getElementById("pera-wallet-sign-txn-toast-lottie-animation");ws&&w.loadAnimation({container:ws,renderer:"svg",loop:!0,autoplay:!0,path:"https://s3.amazonaws.com/wc.perawallet.app/static/sign-toast-animation.json"})}}var X=`@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");
.pera-wallet-modal {
  --pera-wallet-modal-font-family: "Inter", sans-serif;
  --pera-wallet-modal-compact-width: 380px;
  --pera-wallet-modal-compact-height: 396px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  position: fixed;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  z-index: 999999;
  width: 100vw;
  height: 100vh;
  background-color: rgba(0, 0, 0, 0.7);
}
.pera-wallet-modal--select-account .pera-wallet-modal__body {
  width: 480px;
  height: 578px;
  background-color: #ffffff;
}
.pera-wallet-modal--mobile .pera-wallet-modal__body {
  top: 40px;
  bottom: 0;
  left: 0;
  width: 100%;
  max-width: unset;
  height: calc(100 * var(--pera-wallet-vh));
  padding: 20px;
  background-color: #ffffff;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);
  border-radius: 20px 20px 0px 0px;
  animation: 0.3s PeraWalletConnectMobileSlideIn ease-out;
  overflow-y: auto;
  transform: unset;
}
.pera-wallet-modal--mobile .pera-wallet-modal__body::before {
  background-image: unset;
}
.pera-wallet-modal--compact:not(.pera-wallet-modal--mobile) .pera-wallet-modal__body {
  width: var(--pera-wallet-modal-compact-width);
  height: var(--pera-wallet-modal-compact-height);
  padding: 0;
}
.pera-wallet-modal * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: var(--pera-wallet-modal-font-family);
  font-smooth: antialiased;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.pera-wallet-modal ul,
.pera-wallet-modal ol,
.pera-wallet-modal li {
  list-style-type: none;
}

.pera-wallet-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: auto;
  height: 48px;
  padding: 14px;
  border: none;
  border-radius: 12px;
  outline: none;
  cursor: pointer;
  font-family: var(--pera-wallet-modal-font-family);
  font-size: 14px;
}

.pera-wallet-modal__logo img {
  display: block;
  width: 32px;
}

.pera-wallet-modal__body {
  position: relative;
  top: 50%;
  left: 50%;
  width: 700px;
  max-width: calc(100vw - 80px);
  padding: 28px;
  background-color: #f3f3f7;
  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);
  border-radius: 24px;
  animation: 0.3s PeraWalletConnectSlideIn ease-out;
  transform: translate(-50%, -50%);
}
.pera-wallet-modal__body::before {
  --background-line: #1e0972 0 1.2px, transparent 0 calc(100% - 1.2px), #1e0972;
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: -1;
  content: "";
  background-image: linear-gradient(var(--background-line)), linear-gradient(90deg, var(--background-line));
  background-size: 116px 116px;
  mix-blend-mode: overlay;
  border-radius: 24px;
  opacity: 0.8;
  pointer-events: none;
}

@media (max-width: 767px) {
  .pera-wallet-modal--desktop .pera-wallet-modal__body {
    width: 100%;
    max-width: calc(100vw - 32px);
    padding: 24px;
  }
}
@keyframes PeraWalletConnectSlideIn {
  0% {
    opacity: 0;
    transform: translate(-50%, calc(-50% + 24px));
  }
  100% {
    opacity: 1;
    transform: translate(-50%, -50%);
  }
}
@keyframes PeraWalletConnectMobileSlideIn {
  0% {
    top: 30%;
    opacity: 0;
  }
  100% {
    top: 40px;
    opacity: 1;
  }
}
.pera-wallet-sign-txn-modal.pera-wallet-modal .pera-wallet-modal__body {
  width: 480px;
  height: 578px;
  background-color: #ffffff;
  background-image: unset;
  padding: 0;
}
.pera-wallet-sign-txn-modal.pera-wallet-modal .pera-wallet-modal__body .pera-wallet-sign-txn-modal__body__content {
  width: 100%;
  height: 100%;
}
.pera-wallet-sign-txn-modal.pera-wallet-modal .pera-wallet-modal__body #pera-wallet-iframe {
  width: 100%;
  height: 100%;
  border-radius: 16px;
  margin: 0 auto;
  border: none;
}

.pera-wallet-sign-txn-modal--compact.pera-wallet-modal .pera-wallet-modal__body {
  width: var(--pera-wallet-modal-compact-width);
  height: var(--pera-wallet-modal-compact-height);
}`;h(X);const ee=document.createElement("template");ee.innerHTML=`
  <div id="pera-wallet-sign-txn-modal" class="${dt} pera-wallet-sign-txn-modal">
    <div class="pera-wallet-modal__body">
      <pera-wallet-modal-header modal-id="${ft}"></pera-wallet-modal-header/>

      <div class="pera-wallet-sign-txn-modal__body__content" />
    </div>
  </div>
`;class ne extends HTMLElement{constructor(){if(super(),this.attachShadow({mode:"open"}),this.shadowRoot){const ms=document.createElement("style");if(ms.textContent=X,this.shadowRoot.append(ee.content.cloneNode(!0),ms),this.getAttribute("compact-mode")==="true"){const ws=this.shadowRoot.getElementById("pera-wallet-sign-txn-modal");ws==null||ws.classList.add("pera-wallet-sign-txn-modal--compact")}}}}function te(){document.documentElement.style.setProperty("--pera-wallet-vh",.01*window.innerHeight+"px")}function ae(vs,ms){window.customElements.get(vs)||window.customElements.define(vs,ms)}window.addEventListener("DOMContentLoaded",()=>{te()}),window.addEventListener("resize",()=>{te()}),ae("pera-wallet-connect-modal",S),ae("pera-wallet-modal-desktop-mode",Z),ae("pera-wallet-modal-header",u),ae("pera-wallet-modal-touch-screen-mode",A),ae("pera-wallet-redirect-modal",$),ae("pera-wallet-connect-modal-information-section",U),ae("pera-wallet-connect-modal-pending-message-section",Q),ae("pera-wallet-sign-txn-toast",Y),ae("pera-wallet-sign-txn-modal",ne),ae("pera-wallet-download-qr-code",C);const App428f5096=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}))})();
